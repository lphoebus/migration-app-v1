const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/customElement-CtMvT1kb.js","assets/keyed-DROWTBQi.js","assets/index-B8MSPrSA.js","assets/customElement-EOVYiFHw.js","assets/ExpandToggle-hv1z9_Fc.js","assets/resources7-CMDVPKCU.js","assets/resources2-IF-Ysl0u.js","assets/debounce-DbkufipY.js","assets/customElement-BlZizYBu.js","assets/customElement-DUQ_hMz_.js","assets/array-CaayCXLe.js","assets/customElement-D_ndmBT6.js","assets/customElement-neXQgni4.js","assets/locale-BK6YlMXi.js","assets/openCloseComponent-CrKvnToc.js","assets/resources4-B-dV0W2b.js","assets/customElement-CZHRw7cb.js","assets/repeat-BvJWkWZ3.js","assets/floating-ui-CVCm7eoU.js","assets/Validation-B5lOjP74.js","assets/escapeRegExp-CdLjXKbf.js","assets/customElement-nOhsYzfl.js","assets/text-Bifu3LlS.js","assets/customElement-bggHlhHo.js","assets/utils4-Caci1xZm.js","assets/global-DteFDqGz.js","assets/customElement-DUvf_trG.js","assets/Heading-B1arLrYy.js","assets/_sortable-pbaUDUtV.js","assets/customElement-BG1J6K3N.js","assets/sortableComponent-BgLc4ANR.js","assets/customElement-DZVzZUXi.js","assets/customElement-BiWIShWA.js","assets/responsive-D7DWzL6I.js","assets/customElement-DSEatyNT.js","assets/math-BoQu7MF6.js","assets/throttle-CQXZGPS6.js","assets/customElement-y28Z_aJB.js","assets/customElement-CbP1yjdJ.js","assets/customElement-QXf_zDhP.js","assets/live-Pkz7maPK.js","assets/core-BTumkCcF.js","assets/filter-TquiD3rj.js","assets/XButton-C3p51p8K.js","assets/utils3-Do2JJyOu.js","assets/customElement-BqLComdx.js","assets/customElement-B1pnkxyD.js","assets/customElement-D7O_XKMO.js","assets/date-DGMnEc9o.js","assets/utils2-C20BNrCd.js","assets/customElement-Dq18Hplq.js","assets/customElement-BfOKXlNU.js","assets/customElement-BVuUZ9eK.js","assets/customElement-yZ7UOcNp.js","assets/interact.min-BW1lHc1u.js","assets/dynamicClasses-CzRtqdyb.js","assets/resources3-DY1Vjnne.js","assets/useFocusTrap-D-bmTmiC.js","assets/usePreventDocumentScroll-DvWZhEOX.js","assets/index-BwrTk-95.js","assets/index-D2kflPDd.js","assets/resources6-Ot02loHz.js","assets/index-BUi6AywO.js","assets/customElement-iL2zRrh9.js","assets/customElement-BSEug3OW.js","assets/customElement-XWb2Lqyq.js","assets/input-JZYDWdEe.js","assets/customElement-CjGAt_E_.js","assets/customElement-MLkCZaYX.js","assets/customElement-BSneWMEO.js","assets/customElement-B98BFS3C.js","assets/time-B0nwScdM.js","assets/customElement-STCN7IA9.js","assets/customElement-K2HRWbze.js","assets/utils-Dx_RAO1R.js","assets/resources-DRBlqAoC.js","assets/customElement-BUYpG04f.js","assets/resources5-BmgbyHGX.js","assets/index-C1tRAfbw.js","assets/customElement-D6_Thr-H.js","assets/customElement-BHfZABJ9.js","assets/customElement-CRpWDX7X.js","assets/customElement-BffDQnmo.js","assets/customElement-Q_SuDd2t.js","assets/index-D0mCuMNN.js","assets/customElement-D0Gt-Eb3.js","assets/customElement-5a_ylp0q.js","assets/customElement-Bk7FKOl2.js","assets/FloatingArrow-DzPZ5hkJ.js","assets/customElement-B1B9ona_.js","assets/customElement-Bp9X1wBI.js","assets/customElement-bu549nPs.js","assets/customElement-sjnrNIpw.js","assets/customElement-C803Hnzt.js","assets/customElement-BLeyelB7.js","assets/customElement-Da2RuTdf.js","assets/customElement-fD5cq_y9.js","assets/customElement-C0KbciWx.js","assets/customElement-BE64Nr8n.js","assets/customElement-H6fDboxT.js","assets/customElement-4tMqifZ-.js","assets/customElement-BihYgf6N.js","assets/customElement-Db2Df_Ty.js","assets/customElement-BnGOg3a-.js","assets/customElement-BARXMcTA.js","assets/customElement-B5-9bU8B.js","assets/customElement-BLTTPyOr.js","assets/customElement-Df1m4ouS.js","assets/customElement-DgOKNniB.js","assets/customElement-vpUd1oyv.js","assets/customElement-BSQamPCX.js","assets/index-Bte1654H.js","assets/customElement-D8m2_yBg.js","assets/geometryEngineWorker-CfwuFUrs.js","assets/geometryEngineJSON-BuSJbgcV.js","assets/geometryEngineBase-E1PPqbft.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/CSVSourceWorker-C_KP0dGT.js","assets/date-Ctp1FiBW.js","assets/executeQueryForSnapping-JvyI58uC.js","assets/QueryEngine-7rWIAFVx.js","assets/featureConversionUtils-Cg72mNy5.js","assets/WhereClauseCache-C2FG_QgW.js","assets/WhereClause-iifrYAI5.js","assets/timeSupport-DMMauE8d.js","assets/QueryEngineCapabilities-CsRUnGk7.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FeatureStore-C9wlvAbg.js","assets/BoundsStore-BsSWkkXm.js","assets/PooledRBush-DBqv53z0.js","assets/optimizedFeatureQueryEngineAdapter-L-_GGXWV.js","assets/number-DAaR-Slu.js","assets/clientSideDefaults-uZV7Hp4V.js","assets/EdgeProcessingWorker-B2mMQ1d6.js","assets/workerHelper-B5zmsMvz.js","assets/InterleavedLayout-IiKnLTGo.js","assets/BufferView-ebsqvWqJ.js","assets/types-BKo2foNY.js","assets/edgeProcessing-CaTz6vLs.js","assets/deduplicate-CgqsmhgT.js","assets/Indices-Bjqq6RlO.js","assets/VertexAttribute-BfkzOMLV.js","assets/glUtil-CqX2CTgp.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/Normals-DtX3gF6e.js","assets/ElevationSamplerWorker-C96DlpYs.js","assets/MeshLocalVertexSpace-CSl_pk6a.js","assets/vertexSpaceConversion-DSIgkCyb.js","assets/mat3f64-B5o_lm6j.js","assets/mat4f64-q_b6UJoq.js","assets/spatialReferenceEllipsoidUtils-CxRUwGOs.js","assets/computeTranslationToOriginAndRotation-Cxn6kdxv.js","assets/projectPointToVector-BQEPEreF.js","assets/meshVertexSpaceUtils-Uiv_LpRi.js","assets/vec3-DAMz8iDp.js","assets/vec4-C3lIosFI.js","assets/FeatureServiceSnappingSourceWorker-7mOFi9dv.js","assets/symbologySnappingCandidates-2tE_J5oR.js","assets/GeoJSONSourceWorker-B1a0oL9L.js","assets/geojson-CAkzSfbB.js","assets/sourceUtils-DmIMLcsk.js","assets/MemorySourceWorker-BOsBG1kc.js","assets/objectIdUtils-4dd1rf9p.js","assets/PBFDecoderWorker-B9_QKfV4.js","assets/dehydratedFeatures-DJdbVEdN.js","assets/FeaturePipelineWorker-CmwyO8sY.js","assets/AttributeStore-DtrqZA_O.js","assets/Utils-DCeF5rn0.js","assets/UpdateTracking2D-BJjgEBne.js","assets/constants-BFLErLYb.js","assets/streamLayerUtils-CKwt2uXH.js","assets/MeshWriterRegistry-BiUga-JY.js","assets/TechniqueType-CFPo0AVB.js","assets/PieChartMeshWriter-Bert218c.js","assets/libtess-C6-Ss3wN.js","assets/earcut-D9gy186-.js","assets/QueueProcessor-CZFVgrNY.js","assets/operatorGeodeticDensify-N3XESxyC.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-DKnHaPxr.js","assets/ogcFeatureUtils-Br_xwzyN.js","assets/bundle-D2hyHz7d.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-BMGa0zDw.js","assets/PointCloudWorker-CfZBZaM-.js","assets/quat-BKE-eO_P.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-WCVSSNPR.js","assets/PointCloudUniqueValueRenderer-CTCR_N6T.js","assets/I3SBinaryReader-_cpQGsGC.js","assets/orientedBoundingBox-DbPvGI5l.js","assets/plane-muy7-_Xr.js","assets/vectorStacks-AD3OdB55.js","assets/RasterWorker-4r0ZVsmW.js","assets/GeographicTransformation-BQwhz83b.js","assets/dataUtils-DKsOsQ5U.js","assets/RasterSymbolizer-C57hJfbE.js","assets/rasterFunctionHelper-D-RYUO5P.js","assets/clipUtils-6TNgleZV.js","assets/rasterProjectionHelper-CEgPsTn1.js","assets/PolynomialTransform-D6Ax7b-y.js","assets/SceneLayerSnappingSourceWorker-jofOFFb_.js","assets/lineSegment-BZHnAp5O.js","assets/sphere-DI9QywmK.js","assets/Octree-ygfnOmXe.js","assets/SceneLayerWorker-BeaZ-xAG.js","assets/projectVectorToVector-Cz5-yPb_.js","assets/I3SUtil-RCTU7Zcd.js","assets/edgeUtils-BZ4_4q5n.js","assets/NormalAttribute.glsl-DM-85Eb3.js","assets/glsl-Cj7KC756.js","assets/ShaderOutput-Bdd80V3g.js","assets/BindType-BBwFZqyN.js","assets/WFSSourceWorker-oylUuDYD.js","assets/wfsUtils-BtEmw0wM.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-BuvpXtez.js","assets/constants-B-jzO-JJ.js","assets/config-DHajyIwB.js","assets/StyleDefinition-D8SATWuh.js","assets/SourceLayerData-hX7Q80Bj.js","assets/StyleRepository-BgWiik3p.js","assets/Feature3DPipelineWorker-CUX54yRK.js","assets/dehydratedFeatureUtils-QQSvBx0o.js","assets/hydratedFeatures-DgzHBfno.js","assets/OutputColorHighlightOID.glsl-DQmFoiDQ.js","assets/videoUtils-DJ4Zw-7m.js","assets/requestImageUtils-CCUokDx5.js","assets/basicInterfaces-CZwQPxTp.js","assets/TextureFormat-1mYWTFa-.js","assets/triangle-BIa9u2aH.js","assets/renderState-DPJz5Eio.js","assets/boundedPlane-JOlgXl_K.js","assets/HUDMaterial.glsl-BOAVA8Zf.js","assets/ShaderBuilder-C-_DX6FD.js","assets/HUDMaterial-Ct2aIWtb.js","assets/primitiveObjectSymbolUtils-De6Xu7VO.js","assets/IntersectorType-gQim6TH1.js","assets/RealisticTree.glsl-Ds4LNJs2.js","assets/TextureCompressionWorker-_gjq2o8d.js","assets/Popup-hmOcQMaP.js","assets/ReactiveSet-BNvhxjj0.js","assets/layerViewUtils-CzUYzf3f.js","assets/ElevationLayer-BaEbTkQp.js","assets/ArcGISCachedService-BbsUm_aI.js","assets/TileInfoTilemapCache-CLmZloSW.js","assets/TilemapCache-CD_wtQVl.js","assets/WorkerHandle-BEowF32h.js","assets/layersCreator-C6Cvz0ob.js","assets/loadUtils-CLVf6Mon.js","assets/fetchService-2_IyUJ4K.js","assets/associatedFeatureServiceUtils-85DHqJqr.js","assets/lazyLayerLoader-DB1J0BRn.js","assets/portalLayers-NaLrGetb.js","assets/arcgisLayers-CGocYGQl.js","assets/arcadeUtils-BhE0w0-4.js","assets/arcade-D0Eypt5k.js","assets/aiServices-Bi4Uh0zB.js","assets/ImmutableArray-BPVd6ESQ.js","assets/commonProperties-DHiB1uzW.js","assets/unitConversion-CxXcomzd.js","assets/batchExec-BpkABYLh.js","assets/webglDeps-DTbXpSfz.js","assets/ProgramTemplate-CA5zQF5j.js","assets/FramebufferObject-CkXntPfM.js","assets/NestedMap-C3hRTnZR.js","assets/mapViewDeps-B14k0O1N.js","assets/FeatureCommandQueue-D1fFbBuQ.js","assets/GraphShaderModule-CkGIXfLf.js","assets/utils-B97KUW0N.js","assets/WGLContainer--e6uccKR.js","assets/Container-BD5VinmN.js","assets/SDFHelper-DXTd_cTg.js","assets/GridShader-DL-8M1Hw.js","assets/testSVGPremultipliedAlpha-DFcPY_t6.js","assets/SymbolFader-CUtnaFMa.js","assets/RenderingContext-BvivpX_S.js","assets/utils-CASU3EtF.js","assets/utils-ehcGqGxa.js","assets/projectOperator-DcR62MqV.js","assets/GraphicsView2D-DZ1bTrQ8.js","assets/GraphicContainer-sr-JRgyc.js","assets/AGraphicContainer-CGZfsZxg.js","assets/TechniqueInstance-wUUPtmpG.js","assets/TileContainer-mxjwQw4K.js","assets/gridUtils-BipwMswR.js","assets/geodesicUtils-DolWHhVW.js","assets/TileLayerView2D-5_KWFAW_.js","assets/imageUtils-B4nf49PJ.js","assets/BitmapTechnique-Dt4EKy2u.js","assets/LayerView-B7v0Tuvp.js","assets/HighlightGraphicContainer-CPTck_8q.js","assets/RefreshableLayerView-5uvKkwcG.js","assets/MapServiceLayerViewHelper-B--DrmoA.js","assets/drapedUtils-BsODw5NV.js","assets/popupUtils-BC10MOOl.js","assets/FeatureLayerView2D-BVyal78h.js","assets/timeSupport-BW3QOrGj.js","assets/AttributeBinsFeatureSet-BmnCDbBq.js","assets/constants-B4mRqufT.js","assets/BaseDynamicLayerView2D-DFEHvL5q.js","assets/BitmapContainer-fcrYyWed.js","assets/ExportStrategy-C2ecVBf1.js","assets/CatalogLayerView2D-CHhTzRRG.js","assets/CatalogDynamicGroupLayerView2D-C1S8FHRW.js","assets/CatalogFootprintLayerView2D-hMBQb8jz.js","assets/GeoRSSLayerView2D-DNWRI64M.js","assets/GraphicsLayerView2D-DDjSjrLB.js","assets/GroupLayerView2D-Bs0t8FL_.js","assets/ImageryLayerView2D-ClAmv-Nc.js","assets/RasterVFDisplayObject-Jh-MO9eE.js","assets/ImageryTileLayerView2D-BCpsiYUP.js","assets/rasterFieldUtils-BfGyn_85.js","assets/rasterUtils-C6I7QLhH.js","assets/RawBlockCache-DoruF9F0.js","assets/KMLLayerView2D-buDJE1cZ.js","assets/kmlUtils-BStUugKh.js","assets/KnowledgeGraphLayerView2D-D9YeJTyK.js","assets/MapImageLayerView2D-B-jC-RY6.js","assets/MapNotesLayerView2D-CGn8PQZs.js","assets/MediaLayerView2D-B5u9yV8g.js","assets/mediaLayerUtils-6mkq1fd8.js","assets/OverlayContainer-DyxwfMtS.js","assets/OGCFeatureLayerView2D-CeJ9hTrX.js","assets/RouteLayerView2D-BQIWJRP-.js","assets/Stop-Bp43aheJ.js","assets/networkEnums-D5WFXBbf.js","assets/StreamLayerView2D-CHlLBWLa.js","assets/SubtypeGroupLayerView2D-D6n0QxTL.js","assets/VectorTileLayerView2D-CfG0rLrl.js","assets/VideoLayerView2D-DvsE5GW9.js","assets/videoUtils-Dc6K29_U.js","assets/WMSLayerView2D-BBrGCzqf.js","assets/ExportWMSImageParameters-CzlE1TWX.js","assets/WMTSLayerView2D-CN1XN1fH.js","assets/apng-hrLbAAZD.js","assets/webdocSaveUtils-95cE7YjM.js","assets/originUtils-aXLgSdaY.js","assets/resourceUtils-B8DavIyo.js","assets/resourceUtils-CAyfhQPj.js","assets/saveUtils-CZhQb-Vr.js","assets/layersLoader-C7ytY5p9.js","assets/featureLayerUtils-DXj2jkdh.js","assets/utils-BdtOkNjj.js","assets/FeatureLayerSource-A0jGv-qf.js","assets/External-BqS5oAIo.js","assets/applyEditsUtils-DWkT6OyL.js","assets/MeshTransform-B1wkgYQ2.js","assets/axisAngleDegrees-GR_uXjJV.js","assets/editingSupport-BCr1IpBQ.js","assets/QueryTask-B-2mAhi0.js","assets/executeForIds-D5AnnCGE.js","assets/queryAssociations-BTnxRAbq.js","assets/Association-NxgZcPsX.js","assets/synthesizeAssociationGeometries-D4uFzVn7.js","assets/index-BzuLesV1.js","assets/index-C8qjHaa0.js","assets/index-B9TUpmDe.js","assets/index-D8Net2Ig.js","assets/index-OKy8LF_V.js","assets/customElement-4ikGzraM.js","assets/index-CP5XcGHi.js","assets/index-3-nFkMbF.js","assets/index-DmeN85YD.js","assets/index-CPsqo5gq.js","assets/index-Bq_ZTB1q.js","assets/index-tVLxPEQ4.js","assets/index-BC-72UEe.js","assets/chartUtilsAm5-CSUyCh2r.js","assets/Theme-Sw6lba3j.js","assets/Tooltip-LS5xmly3.js","assets/DefaultTheme-I1qj5xJD.js","assets/chartCommon-DZjKTG2E.js","assets/Button-CV2o9EaD.js","assets/ColorSet-CDlrnzS4.js","assets/pieChart-CRpQH8b9.js","assets/Tick-DL31bkif.js","assets/xyChart-C04dO0HK.js","assets/arcade-CzjP5ko4.js","assets/geodesicBufferOperator-C2KdMGFI.js","assets/operatorGeodesicBuffer-BuqZrKmi.js","assets/intersectionOperator-ChO4IIi3.js","assets/Point2D-DO7Km_4P.js","assets/ProjectionTransformation-MOyeLIPb.js","assets/Envelope2D-CgpSZaHd.js","assets/Transformation2D-BtuI33it.js","assets/OperatorDefinitions-DP7_WWTp.js","assets/jsonConverter-C-omTpDU.js","assets/operatorIntersection-DUoGRiuf.js","assets/apiConverter-Dg2NvAxW.js"])))=>i.map(i=>d[i]);
var Due=Object.getPrototypeOf;var zue=Reflect.get;var SF=t=>{throw TypeError(t)};var ax=(t,e,i)=>e.has(t)||SF("Cannot "+i);var re=(t,e,i)=>(ax(t,e,"read from private field"),i?i.call(t):e.get(t)),tt=(t,e,i)=>e.has(t)?SF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),Ze=(t,e,i,r)=>(ax(t,e,"write to private field"),r?r.call(t,i):e.set(t,i),i),Ln=(t,e,i)=>(ax(t,e,"access private method"),i);var xF=(t,e,i)=>zue(Due(t),i,e);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();const Vue="modulepreload",jue=function(t){return"/migration-app-v1/"+t},$F={},R=function(e,i,r){let s=Promise.resolve();if(i&&i.length>0){let a=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=a(i.map(u=>{if(u=jue(u),u in $F)return;$F[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Vue,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function n(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&n(o.reason);return e().catch(n)})};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const U2=globalThis,r4=U2.trustedTypes,TF=r4?r4.createPolicy("lit-html",{createHTML:t=>t}):void 0,TW="$lit$",vf=`lit$${Math.random().toFixed(9).slice(2)}$`,IW="?"+vf,que=`<${IW}>`,Dm=document,Cw=()=>Dm.createComment(""),kw=t=>t===null||typeof t!="object"&&typeof t!="function",iP=Array.isArray,EW=t=>iP(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",ox=`[ 	
\f\r]`,D1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,IF=/-->/g,EF=/>/g,Lh=RegExp(`>|${ox}(?:([^\\s"'>=/]+)(${ox}*=${ox}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),MF=/'/g,CF=/"/g,MW=/^(?:script|style|textarea|title)$/i,CW=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),bt=CW(1),FT=CW(2),od=Symbol.for("lit-noChange"),dt=Symbol.for("lit-nothing"),kF=new WeakMap,Jp=Dm.createTreeWalker(Dm,129);function kW(t,e){if(!iP(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return TF!==void 0?TF.createHTML(e):e}const Bue=(t,e)=>{const i=t.length-1,r=[];let s,n=e===2?"<svg>":e===3?"<math>":"",a=D1;for(let o=0;o<i;o++){const l=t[o];let u,d,h=-1,p=0;for(;p<l.length&&(a.lastIndex=p,d=a.exec(l),d!==null);)p=a.lastIndex,a===D1?d[1]==="!--"?a=IF:d[1]!==void 0?a=EF:d[2]!==void 0?(MW.test(d[2])&&(s=RegExp("</"+d[2],"g")),a=Lh):d[3]!==void 0&&(a=Lh):a===Lh?d[0]===">"?(a=s??D1,h=-1):d[1]===void 0?h=-2:(h=a.lastIndex-d[2].length,u=d[1],a=d[3]===void 0?Lh:d[3]==='"'?CF:MF):a===CF||a===MF?a=Lh:a===IF||a===EF?a=D1:(a=Lh,s=void 0);const m=a===Lh&&t[o+1].startsWith("/>")?" ":"";n+=a===D1?l+que:h>=0?(r.push(u),l.slice(0,h)+TW+l.slice(h)+vf+m):l+vf+(h===-2?o:m)}return[kW(t,n+(t[i]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let NT=class AW{constructor({strings:e,_$litType$:i},r){let s;this.parts=[];let n=0,a=0;const o=e.length-1,l=this.parts,[u,d]=Bue(e,i);if(this.el=AW.createElement(u,r),Jp.currentNode=this.el.content,i===2||i===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(s=Jp.nextNode())!==null&&l.length<o;){if(s.nodeType===1){if(s.hasAttributes())for(const h of s.getAttributeNames())if(h.endsWith(TW)){const p=d[a++],m=s.getAttribute(h).split(vf),g=/([.?@])?(.*)/.exec(p);l.push({type:1,index:n,name:g[2],strings:m,ctor:g[1]==="."?Uue:g[1]==="?"?Gue:g[1]==="@"?Hue:v7}),s.removeAttribute(h)}else h.startsWith(vf)&&(l.push({type:6,index:n}),s.removeAttribute(h));if(MW.test(s.tagName)){const h=s.textContent.split(vf),p=h.length-1;if(p>0){s.textContent=r4?r4.emptyScript:"";for(let m=0;m<p;m++)s.append(h[m],Cw()),Jp.nextNode(),l.push({type:2,index:++n});s.append(h[p],Cw())}}}else if(s.nodeType===8)if(s.data===IW)l.push({type:2,index:n});else{let h=-1;for(;(h=s.data.indexOf(vf,h+1))!==-1;)l.push({type:7,index:n}),h+=vf.length-1}n++}}static createElement(e,i){const r=Dm.createElement("template");return r.innerHTML=e,r}};function zm(t,e,i=t,r){var a,o;if(e===od)return e;let s=r!==void 0?(a=i._$Co)==null?void 0:a[r]:i._$Cl;const n=kw(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==n&&((o=s==null?void 0:s._$AO)==null||o.call(s,!1),n===void 0?s=void 0:(s=new n(t),s._$AT(t,i,r)),r!==void 0?(i._$Co??(i._$Co=[]))[r]=s:i._$Cl=s),s!==void 0&&(e=zm(t,s._$AS(t,e.values),s,r)),e}let PW=class{constructor(e,i){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:i},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??Dm).importNode(i,!0);Jp.currentNode=s;let n=Jp.nextNode(),a=0,o=0,l=r[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new b7(n,n.nextSibling,this,e):l.type===1?u=new l.ctor(n,l.name,l.strings,this,e):l.type===6&&(u=new RW(n,this,e)),this._$AV.push(u),l=r[++o]}a!==(l==null?void 0:l.index)&&(n=Jp.nextNode(),a++)}return Jp.currentNode=Dm,s}p(e){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,i),i+=r.strings.length-2):r._$AI(e[i])),i++}},b7=class LW{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,i,r,s){this.type=2,this._$AH=dt,this._$AN=void 0,this._$AA=e,this._$AB=i,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=i.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,i=this){e=zm(this,e,i),kw(e)?e===dt||e==null||e===""?(this._$AH!==dt&&this._$AR(),this._$AH=dt):e!==this._$AH&&e!==od&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):EW(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==dt&&kw(this._$AH)?this._$AA.nextSibling.data=e:this.T(Dm.createTextNode(e)),this._$AH=e}$(e){var n;const{values:i,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=NT.createElement(kW(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(i);else{const a=new PW(s,this),o=a.u(this.options);a.p(i),this.T(o),this._$AH=a}}_$AC(e){let i=kF.get(e.strings);return i===void 0&&kF.set(e.strings,i=new NT(e)),i}k(e){iP(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,s=0;for(const n of e)s===i.length?i.push(r=new LW(this.O(Cw()),this.O(Cw()),this,this.options)):r=i[s],r._$AI(n),s++;s<i.length&&(this._$AR(r&&r._$AB.nextSibling,s),i.length=s)}_$AR(e=this._$AA.nextSibling,i){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,i);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var i;this._$AM===void 0&&(this._$Cv=e,(i=this._$AP)==null||i.call(this,e))}},v7=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,i,r,s,n){this.type=1,this._$AH=dt,this._$AN=void 0,this.element=e,this.name=i,this._$AM=s,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=dt}_$AI(e,i=this,r,s){const n=this.strings;let a=!1;if(n===void 0)e=zm(this,e,i,0),a=!kw(e)||e!==this._$AH&&e!==od,a&&(this._$AH=e);else{const o=e;let l,u;for(e=n[0],l=0;l<n.length-1;l++)u=zm(this,o[r+l],i,l),u===od&&(u=this._$AH[l]),a||(a=!kw(u)||u!==this._$AH[l]),u===dt?e=dt:e!==dt&&(e+=(u??"")+n[l+1]),this._$AH[l]=u}a&&!s&&this.j(e)}j(e){e===dt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Uue=class extends v7{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===dt?void 0:e}},Gue=class extends v7{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==dt)}},Hue=class extends v7{constructor(e,i,r,s,n){super(e,i,r,s,n),this.type=5}_$AI(e,i=this){if((e=zm(this,e,i,0)??dt)===od)return;const r=this._$AH,s=e===dt&&r!==dt||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,n=e!==dt&&(r===dt||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var i;typeof this._$AH=="function"?this._$AH.call(((i=this.options)==null?void 0:i.host)??this.element,e):this._$AH.handleEvent(e)}},RW=class{constructor(e,i,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){zm(this,e)}};const J0={R:PW,D:EW,V:zm,I:b7,F:RW},lx=U2.litHtmlPolyfillSupport;lx==null||lx(NT,b7),(U2.litHtmlVersions??(U2.litHtmlVersions=[])).push("3.3.0");const OW=(t,e,i)=>{const r=(i==null?void 0:i.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const n=(i==null?void 0:i.renderBefore)??null;r._$litPart$=s=new b7(e.insertBefore(Cw(),n),n,void 0,i??{})}return s._$AI(t),s},Wue={resolveDirective:J0.V,ElementPart:J0.F,TemplateInstance:J0.R,isIterable:J0.D,ChildPart:J0.I};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wf={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},rP=t=>(...e)=>({_$litDirective$:t,values:e});let sP=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,i,r){this._$Ct=e,this._$AM=i,this._$Ci=r}_$AS(e,i){return this.update(e,i)}update(e,i){return this.render(...i)}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:Zue}=J0,Jue=t=>t===null||typeof t!="object"&&typeof t!="function",Yue=(t,e)=>(t==null?void 0:t._$litType$)!==void 0,Xue=t=>{var e;return((e=t==null?void 0:t._$litType$)==null?void 0:e.h)!=null},FW=t=>t.strings===void 0,AF=()=>document.createComment(""),SYe=(t,e,i)=>{var n;const r=t._$AA.parentNode,s=e===void 0?t._$AB:e._$AA;if(i===void 0){const a=r.insertBefore(AF(),s),o=r.insertBefore(AF(),s);i=new Zue(a,o,t,t.options)}else{const a=i._$AB.nextSibling,o=i._$AM,l=o!==t;if(l){let u;(n=i._$AQ)==null||n.call(i,t),i._$AM=t,i._$AP!==void 0&&(u=t._$AU)!==o._$AU&&i._$AP(u)}if(a!==s||l){let u=i._$AA;for(;u!==a;){const d=u.nextSibling;r.insertBefore(u,s),u=d}}}return i},xYe=(t,e,i=t)=>(t._$AI(e,i),t),Que={},$Ye=(t,e=Que)=>t._$AH=e,TYe=t=>t._$AH,IYe=t=>{var r;(r=t._$AP)==null||r.call(t,!1,!0);let e=t._$AA;const i=t._$AB.nextSibling;for(;e!==i;){const s=e.nextSibling;e.remove(),e=s}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{TemplateInstance:Kue,isIterable:ede,resolveDirective:NW,ChildPart:z1,ElementPart:tde}=Wue,ide=(t,e,i={})=>{if(e._$litPart$!==void 0)throw Error("container already contains a live render");let r,s,n;const a=[],o=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT);let l;for(;(l=o.nextNode())!==null;){const u=l.data;if(u.startsWith("lit-part")){if(a.length===0&&r!==void 0)throw Error(`There must be only one root part per container. Found a part marker (${l}) when we already have a root part marker (${s})`);n=rde(t,l,a,i),r===void 0&&(r=n),s??(s=l)}else if(u.startsWith("lit-node"))nde(l,a,i);else if(u.startsWith("/lit-part")){if(a.length===1&&n!==r)throw Error("internal error");n=sde(l,n,a)}}if(r===void 0){const u=e instanceof ShadowRoot?"{container.host.localName}'s shadow root":e instanceof DocumentFragment?"DocumentFragment":e.localName;console.error(`There should be exactly one root part in a render container, but we didn't find any in ${u}.`)}e._$litPart$=r},rde=(t,e,i,r)=>{let s,n;if(i.length===0)n=new z1(e,null,void 0,r),s=t;else{const a=i[i.length-1];if(a.type==="template-instance")n=new z1(e,null,a.instance,r),a.instance._$AV.push(n),s=a.result.values[a.instancePartIndex++],a.templatePartIndex++;else if(a.type==="iterable"){n=new z1(e,null,a.part,r);const o=a.iterator.next();if(o.done)throw s=void 0,a.done=!0,Error("Unhandled shorter than expected iterable");s=o.value,a.part._$AH.push(n)}else n=new z1(e,null,a.part,r)}if(s=NW(n,s),s===od)i.push({part:n,type:"leaf"});else if(Jue(s))i.push({part:n,type:"leaf"}),n._$AH=s;else if(Yue(s)){if(Xue(s))throw Error("compiled templates are not supported");const a="lit-part "+ade(s);if(e.data!==a)throw Error("Hydration value mismatch: Unexpected TemplateResult rendered to part");{const o=z1.prototype._$AC(s),l=new Kue(o,n);i.push({type:"template-instance",instance:l,part:n,templatePartIndex:0,instancePartIndex:0,result:s}),n._$AH=l}}else ede(s)?(i.push({part:n,type:"iterable",value:s,iterator:s[Symbol.iterator](),done:!1}),n._$AH=[]):(i.push({part:n,type:"leaf"}),n._$AH=s??"");return n},sde=(t,e,i)=>{if(e===void 0)throw Error("unbalanced part marker");e._$AB=t;const r=i.pop();if(r.type==="iterable"&&!r.iterator.next().done)throw Error("unexpected longer than expected iterable");if(i.length>0)return i[i.length-1].part},nde=(t,e,i)=>{const r=/lit-node (\d+)/.exec(t.data),s=parseInt(r[1]),n=t.nextElementSibling;if(n===null)throw Error("could not find node for attribute parts");n.removeAttribute("defer-hydration");const a=e[e.length-1];if(a.type!=="template-instance")throw Error("Hydration value mismatch: Primitive found where TemplateResult expected. This usually occurs due to conditional rendering that resulted in a different value or template being rendered between the server and client.");{const o=a.instance;for(;;){const l=o._$AD.parts[a.templatePartIndex];if(l===void 0||l.type!==wf.ATTRIBUTE&&l.type!==wf.ELEMENT||l.index!==s)break;if(l.type===wf.ATTRIBUTE){const u=new l.ctor(n,l.name,l.strings,a.instance,i),d=FW(u)?a.result.values[a.instancePartIndex]:a.result.values,h=!(u.type===wf.EVENT||u.type===wf.PROPERTY);u._$AI(d,u,a.instancePartIndex,h),a.instancePartIndex+=l.strings.length-1,o._$AV.push(u)}else{const u=new tde(n,a.instance,i);NW(u,a.result.values[a.instancePartIndex++]),o._$AV.push(u)}a.templatePartIndex++}}},ade=t=>{const e=new Uint32Array(2).fill(5381);for(const r of t.strings)for(let s=0;s<r.length;s++)e[s%2]=33*e[s%2]^r.charCodeAt(s);const i=String.fromCharCode(...new Uint8Array(e.buffer));return btoa(i)};globalThis.litElementHydrateSupport=({LitElement:t})=>{const e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"observedAttributes").get;Object.defineProperty(t,"observedAttributes",{get(){return[...e.call(this),"defer-hydration"]}});const i=t.prototype.attributeChangedCallback;t.prototype.attributeChangedCallback=function(a,o,l){a==="defer-hydration"&&l===null&&r.call(this),i.call(this,a,o,l)};const r=t.prototype.connectedCallback;t.prototype.connectedCallback=function(){this.hasAttribute("defer-hydration")||r.call(this)};const s=t.prototype.createRenderRoot;t.prototype.createRenderRoot=function(){return this.shadowRoot?(this._$AG=!0,this.shadowRoot):s.call(this)};const n=Object.getPrototypeOf(t.prototype).update;t.prototype.update=function(a){const o=this.render();if(n.call(this,a),this._$AG){this._$AG=!1;for(let l=0;l<this.attributes.length;l++){const u=this.attributes[l];if(u.name.startsWith("hydrate-internals-")){const d=u.name.slice(18);this.removeAttribute(d),this.removeAttribute(u.name)}}ide(o,this.renderRoot,this.renderOptions)}else OW(o,this.renderRoot,this.renderOptions)}};const hm=(...t)=>{const e=[];for(let r=0;r<t.length;r++){const s=t[r];if(typeof s=="string")e.push(s);else if(Array.isArray(s))e.push.apply(e,s);else if(typeof s=="object")for(const n in s)s[n]&&e.push(n)}const i=e.join(" ");return e.length=0,i};class Aw{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}const ode=(t,e)=>{let i=t;for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1},lde=(t,e,i)=>{const r=cde(e).subscribe;return r(s=>{s.some(a=>ode(t,a.target))&&i()})},cx={},cde=t=>{const e=t.join(","),i=cx[e];if(i!==void 0)return i;const r=new Set,s=new MutationObserver(a=>r.forEach(o=>o(a)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const n={subscribe:a=>(r.add(a),()=>{r.delete(a),r.size===0&&(s.disconnect(),cx[e]=void 0)})};return cx[e]=n,n},ude=(t,e)=>{var r,s;let i=t;for(;i;){const n=(r=i.closest)==null?void 0:r.call(i,e);if(n)return n;const a=(s=i.getRootNode)==null?void 0:s.call(i);if(a===globalThis.document)return null;i=a.host}return null},dde=(t,e,i)=>{const r=ude(t,`[${e}]`);return(r==null?void 0:r.getAttribute(e))??i},vi=(t,e,...i)=>{try{return t==null?void 0:t.call(e,...i)}catch(r){console.error(r,t)}},DT=async(t,e,...i)=>{try{return await(t==null?void 0:t.call(e,...i))}catch(r){console.error(r,t)}},fde="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),hde=new Set(fde),s4="en",pde={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},mde=async(t,e,i="")=>{const r=`${e}/${i}`,s=`${r}${t}.json`;return ux[s]??(ux[s]=DW(t,r)),await ux[s]},ux={},DW=async(t,e)=>{const i=`${e}${t}.json`;try{const r=await fetch(i);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return t===s4?{}:await DW(s4,e)},zW=t=>{var i;const e=dde(t,"lang",((i=globalThis.navigator)==null?void 0:i.language)||s4);return{lang:e,t9nLocale:VW(e)}},VW=t=>{const[e,i]=t.split("-"),r=e.toLowerCase();let s=r;return i&&(s=`${r}-${i.toUpperCase()}`),s=pde[s]??s,hde.has(s)?s:i?VW(r):s4},yde=(t,e,i,r)=>{let s;const n=()=>gde(t,e(),r).then(a=>{((s==null?void 0:s.lang)!==a.lang||s.t9nLocale!==a.t9nLocale||s.t9nStrings!==a.t9nStrings)&&i(a),s=a}).catch(console.error);return queueMicrotask(n),lde(t,["lang"],n)},gde=async(t,e,i=t.localName.split("-").slice(1).join("-"))=>{const{lang:r,t9nLocale:s}=zW(t),n=`${e}/${i}/t9n`,o=i===null?{}:await mde(s,n,"messages.");return{lang:r,t9nLocale:s,t9nStrings:o}},jW=t=>t.replace(bde,(e,i)=>`${i===0?"":"-"}${e.toLowerCase()}`),bde=/[A-Z]+(?![a-z])|[A-Z]/gu,vde=(t,e)=>{const i=e/wde;let r=0;const s=setInterval(()=>{r+=i,r>=e&&(clearInterval(s),t())},i);return s},wde=4;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const m9=globalThis,nP=m9.ShadowRoot&&(m9.ShadyCSS===void 0||m9.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,aP=Symbol(),PF=new WeakMap;let qW=class{constructor(e,i,r){if(this._$cssResult$=!0,r!==aP)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=i}get styleSheet(){let e=this.o;const i=this.t;if(nP&&e===void 0){const r=i!==void 0&&i.length===1;r&&(e=PF.get(i)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&PF.set(i,e))}return e}toString(){return this.cssText}};const _de=t=>new qW(typeof t=="string"?t:t+"",void 0,aP),fa=(t,...e)=>{const i=t.length===1?t[0]:e.reduce((r,s,n)=>r+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1],t[0]);return new qW(i,t,aP)},Sde=(t,e)=>{if(nP)t.adoptedStyleSheets=e.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of e){const r=document.createElement("style"),s=m9.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=i.cssText,t.appendChild(r)}},LF=nP?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let i="";for(const r of e.cssRules)i+=r.cssText;return _de(i)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:xde,defineProperty:$de,getOwnPropertyDescriptor:Tde,getOwnPropertyNames:Ide,getOwnPropertySymbols:Ede,getPrototypeOf:Mde}=Object,Bf=globalThis,RF=Bf.trustedTypes,Cde=RF?RF.emptyScript:"",dx=Bf.reactiveElementPolyfillSupport,G2=(t,e)=>t,zT={toAttribute(t,e){switch(e){case Boolean:t=t?Cde:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=t!==null;break;case Number:i=t===null?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch{i=null}}return i}},oP=(t,e)=>!xde(t,e),OF={attribute:!0,type:String,converter:zT,reflect:!1,useDefault:!1,hasChanged:oP};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Bf.litPropertyMetadata??(Bf.litPropertyMetadata=new WeakMap);let Y0=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,i=OF){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(e,i),!i.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,i);s!==void 0&&$de(this.prototype,e,s)}}static getPropertyDescriptor(e,i,r){const{get:s,set:n}=Tde(this.prototype,e)??{get(){return this[i]},set(a){this[i]=a}};return{get:s,set(a){const o=s==null?void 0:s.call(this);n==null||n.call(this,a),this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??OF}static _$Ei(){if(this.hasOwnProperty(G2("elementProperties")))return;const e=Mde(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(G2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(G2("properties"))){const i=this.properties,r=[...Ide(i),...Ede(i)];for(const s of r)this.createProperty(s,i[s])}const e=this[Symbol.metadata];if(e!==null){const i=litPropertyMetadata.get(e);if(i!==void 0)for(const[r,s]of i)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const s=this._$Eu(i,r);s!==void 0&&this._$Eh.set(s,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const i=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)i.unshift(LF(s))}else e!==void 0&&i.push(LF(e));return i}static _$Eu(e,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(i=>i(this))}addController(e){var i;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)==null||i.call(e))}removeController(e){var i;(i=this._$EO)==null||i.delete(e)}_$E_(){const e=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Sde(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(i=>{var r;return(r=i.hostConnected)==null?void 0:r.call(i)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(i=>{var r;return(r=i.hostDisconnected)==null?void 0:r.call(i)})}attributeChangedCallback(e,i,r){this._$AK(e,r)}_$ET(e,i){var n;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const a=(((n=r.converter)==null?void 0:n.toAttribute)!==void 0?r.converter:zT).toAttribute(i,r.type);this._$Em=e,a==null?this.removeAttribute(s):this.setAttribute(s,a),this._$Em=null}}_$AK(e,i){var n,a;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const o=r.getPropertyOptions(s),l=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)==null?void 0:n.fromAttribute)!==void 0?o.converter:zT;this._$Em=s,this[s]=l.fromAttribute(i,o.type)??((a=this._$Ej)==null?void 0:a.get(s))??null,this._$Em=null}}requestUpdate(e,i,r){var s;if(e!==void 0){const n=this.constructor,a=this[e];if(r??(r=n.getPropertyOptions(e)),!((r.hasChanged??oP)(a,i)||r.useDefault&&r.reflect&&a===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,i,{useDefault:r,reflect:s,wrapped:n},a){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,a??i??this[e]),n!==!0||a!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(i=void 0),this._$AL.set(e,i)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,a]of this._$Ep)this[n]=a;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[n,a]of s){const{wrapped:o}=a,l=this[n];o!==!0||this._$AL.has(n)||l===void 0||this.C(n,void 0,a,l)}}let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),(r=this._$EO)==null||r.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(i)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(i)}willUpdate(e){}_$AE(e){var i;(i=this._$EO)==null||i.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(i=>this._$ET(i,this[i]))),this._$EM()}updated(e){}firstUpdated(e){}};Y0.elementStyles=[],Y0.shadowRootOptions={mode:"open"},Y0[G2("elementProperties")]=new Map,Y0[G2("finalized")]=new Map,dx==null||dx({ReactiveElement:Y0}),(Bf.reactiveElementVersions??(Bf.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pm=globalThis;let mm=class extends Y0{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var i;const e=super.createRenderRoot();return(i=this.renderOptions).renderBefore??(i.renderBefore=e.firstChild),e}update(e){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=OW(i,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return od}};var uW;mm._$litElement$=!0,mm.finalized=!0,(uW=pm.litElementHydrateSupport)==null||uW.call(pm,{LitElement:mm});const fx=pm.litElementPolyfillSupport;fx==null||fx({LitElement:mm});(pm.litElementVersions??(pm.litElementVersions=[])).push("4.2.0");const lP=Symbol.for("controller"),kde=t=>typeof t=="object"&&t!==null&&(lP in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),Ade=t=>typeof(t==null?void 0:t.then)=="function",Pde=t=>t.M.length;let Iv;const Jy=t=>{Iv!==t&&(Iv=t,queueMicrotask(()=>Iv===t?Iv=void 0:0))},i1=t=>Iv;let Zh=[];const cP=t=>{if(t===void 0){Zh=[];return}const e=Zh.indexOf(t);Zh=e===-1?[...Zh,t]:Zh.slice(0,e+1),queueMicrotask(()=>Zh=[])},uP=()=>Zh;let Yy;const Lde=t=>{Yy!==t&&(Yy=t,queueMicrotask(()=>Yy===t?Yy=void 0:0))},Rde=()=>{const t=Yy;return Yy=void 0,t},Ode=async(t,e)=>{const i=dP(t);if(i===void 0)return t;if(await i.ready,typeof e=="function"){const r=i.watchExports(s=>e(s,r))}return i.exports},Fde=async t=>{const e=dP(t);return await e.ready,e},dP=t=>{const i=i1().manager.X(t);if(i!==void 0)return i;if(kde(t))return t;const r=Rde();if(r!==void 0)return r};let VT=!1;const Nde=t=>{VT=!0;try{return t()}finally{VT=!1}},Dde=(t,e,i)=>{const r=Object.keys(t),s=r.length;kf===void 0&&queueMicrotask(fP),kf??(kf=new Map);let n=kf.get(t);return n===void 0&&(n={callbacks:[],keyCount:s},kf.set(t,n)),n.keyCount!==s&&(n.callbacks.forEach(a=>a(r)),n.callbacks=[],n.keyCount=s),n.callbacks.push(a=>{const o=u=>vi(e,null,u),l=a[s];l===void 0?o(void 0):t[l]===i?o(l):o(void 0)}),i};let kf;const fP=()=>{kf==null||kf.forEach(({callbacks:t},e)=>{const i=Object.keys(e);t.forEach(r=>r(i))}),kf=void 0},hP=(t,e,i)=>{const r=t.manager;return r.V!==dt&&r.V!==i&&r.S(void 0,void 0),r.T.length===0&&queueMicrotask(()=>r.S(void 0,void 0)),r.V=i,r.T.push((s,n)=>vi(e,void 0,i===n?s:void 0)),i},pP=(t=[i1(),...uP()],e,i)=>{const r=Array.isArray(t)?t:[t];let s=r.length+1;const n=a=>{s-=1,a!==void 0&&(s=Math.min(s,0)),s===0&&e(a)};r.forEach(a=>Dde(a,o=>n(o===void 0?void 0:{key:o,host:a,isReactive:!1}),i));for(const a of r)if("manager"in a&&a.manager.component===a){hP(a,o=>n(o===void 0?void 0:{key:o,host:a,isReactive:!0}),i);break}return i},mP=(t="",e={},i=i1())=>{const r={emit:s=>{t===""&&fP();const n=new CustomEvent(t,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...e});return i.el.dispatchEvent(n),n}};return t===""&&pP(void 0,s=>t=s.key,r),r},Bs=mP.bind(null,"");var BW;BW=lP;var zg,Vg,lm,jg,qg,Bg,Ug,Gg,Ef,cm,fn,Ol,Gu,Hg,y9;class yP{constructor(e){tt(this,Hg);tt(this,zg);tt(this,Vg);tt(this,lm);tt(this,jg);tt(this,qg);tt(this,Bg);tt(this,Ug);tt(this,Gg);tt(this,Ef);tt(this,cm);tt(this,fn);tt(this,Ol);tt(this,Gu);Ze(this,zg,[]),Ze(this,Vg,[]),Ze(this,lm,[]),Ze(this,jg,[]),Ze(this,qg,[]),Ze(this,Bg,[]),Ze(this,Ug,[]),Ze(this,Gg,[]),Ze(this,Ef,[]),Ze(this,cm,!1),this.P=new Aw,this.connectedCalled=!1,this.loadedCalled=!1,this[BW]=!0,Ze(this,Gu,[]);const i=this,r=e??i1();Ze(i,fn,r),i.ready=i.P.promise,Ze(i,Ol,NF(i)),i.component=r,re(i,fn).addController(i),re(i,fn).manager===void 0||(cP(i),queueMicrotask(()=>i.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=re(this,fn);e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),re(e,cm)&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}get exports(){return re(this,Ol)}set exports(e){const i=re(this,Ol);i!==e&&(Ze(this,Ol,e),re(this,Gu).forEach(vi),this.connectedCalled&&this.O!==!1&&re(this,fn).requestUpdate(this.O,i)),this.P.resolve(e)}setProvisionalExports(e,i=!0){Ze(this,Ol,i?NF(e):e),re(this,Gu).forEach(vi)}watchExports(e){const i=()=>e(re(this,Ol));return re(this,Gu).push(i),()=>void re(this,Gu).splice(re(this,Gu).indexOf(i),1)}get use(){return Jy(re(this,fn)),Ode}get useRef(){return Jy(re(this,fn)),Fde}get useRefSync(){return Jy(re(this,fn)),dP}controllerRemoved(){re(this,fn).el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){re(this,zg).push(e)}onDisconnected(e){re(this,Vg).push(e)}onLoad(e){re(this,lm).push(e)}onLoaded(e){re(this,jg).push(e)}onUpdate(e){re(this,qg).push(e)}onUpdated(e){re(this,Bg).push(e)}onDestroy(e){re(this,Ug).push(e)}onLifecycle(e){re(this,Gg).push(e),this.connectedCalled&&re(this,fn).el.isConnected&&Ln(this,Hg,y9).call(this,e)}triggerConnected(){const e=this;e.hostConnected&&vi(e.hostConnected,e),re(e,zg).forEach(vi),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&vi(e.hostDisconnected,e),re(e,Vg).forEach(vi),re(e,Ef).forEach(vi),Ze(e,Ef,[])}async triggerLoad(){if(re(this,cm))return;Ze(this,cm,!0);const e=this;e.hostLoad&&await DT(e.hostLoad,e),re(this,lm).length>0&&await Promise.allSettled(re(this,lm).map(DT)),this.P.resolve(re(this,Ol))}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&vi(this.hostLoaded,this),re(this,jg).forEach(vi),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&vi(this.hostUpdate,this,e),re(this,qg).forEach(FF,e)}triggerUpdated(e){this.hostUpdated&&vi(this.hostUpdated,this,e),re(this,Bg).forEach(FF,e)}triggerDestroy(){this.hostDestroy&&vi(this.hostDestroy,this),re(this,Ug).forEach(vi)}triggerLifecycle(){this.hostLifecycle&&Ln(this,Hg,y9).call(this,()=>this.hostLifecycle()),re(this,Gg).forEach(Ln(this,Hg,y9),this)}}zg=new WeakMap,Vg=new WeakMap,lm=new WeakMap,jg=new WeakMap,qg=new WeakMap,Bg=new WeakMap,Ug=new WeakMap,Gg=new WeakMap,Ef=new WeakMap,cm=new WeakMap,fn=new WeakMap,Ol=new WeakMap,Gu=new WeakMap,Hg=new WeakSet,y9=function(e){Jy(re(this,fn));const i=vi(e);(Array.isArray(i)?i:[i]).forEach(s=>{typeof s=="function"?re(this,Ef).push(s):typeof s=="object"&&typeof s.remove=="function"&&re(this,Ef).push(s.remove)})};function FF(t){vi(t,void 0,this)}const gP=yP,NF=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(r,s,n){if(!((s==="exports"||s==="_exports")&&s in r&&r[s]===i)&&(s in r||s in Promise.prototype||typeof s=="symbol"))return typeof r=="function"?r[s]:Reflect.get(r,s,n)}},i=new Proxy(t,e);return i},zde=";",hx=",",Vde=":",jde=1,qde=2,Bde=4,Ude=8,Gde=16,Hde=32,Wde=64,UW=t=>{var i,r;let e=t;for(;e=e.parentNode??e.host;)if((i=e==null?void 0:e.constructor)!=null&&i.lumina){const s=e;return(r=s.manager)!=null&&r.loadedCalled||(s.J??s._offspring).push(t),(s.I??s._postLoad).promise}return!1},Wo={};function GW(){}const Zde=(t,e)=>function(r,s){var o;if(!globalThis.customElements)return;const a=(s??r??{}).resourcesUrl;a&&t.setAssetPath(a);for(const[l,[u,d=""]]of Object.entries(e)){if(customElements.get(l))continue;const[h,p,m]=d.split(zde),g=h?h==null?void 0:h.split(hx).map(Jde):void 0,b=g==null?void 0:g.map(([w])=>w),v=(o=class extends jT{constructor(){!v.B&&(v.B=u(),v.F()),super()}},o.observedAttributes=g==null?void 0:g.map(([,_])=>_).filter(_=>_!==""),o.C=b,o.E=p?p==null?void 0:p.split(hx):void 0,o.D=m==null?void 0:m.split(hx),o.L=l,o.K=t,o);customElements.define(l,v)}},g9=Object.defineProperty,Jde=t=>{const e=t.split(Vde);return e.length===1?[e[0],jW(e[0])]:e},Yde=globalThis.HTMLElement??GW;var hn,Hu,Wg,k_,qT;const pF=class pF extends Yde{constructor(){var s,n;super();tt(this,k_);tt(this,hn);tt(this,Hu);tt(this,Wg);Ze(this,Hu,{}),Ze(this,Wg,[]),this.I=new Aw,this.H=new Aw,this.J=[];const i=this,r=i.constructor;i._offspring=i.J,i._postLoad=i.I,(s=r.C)==null||s.forEach(a=>{Object.hasOwn(i,a)&&(re(i,Hu)[a]=i[a],delete i[a])}),r.A?Ln(n=i,k_,qT).call(n,{a:r.A}):r.B.then(async a=>{var o,l;await r.K.p,Ln(l=i,k_,qT).call(l,await(((o=a.default)==null?void 0:o.then(u=>typeof u=="function"?{a:u}:u))??a))}).catch(a=>{i.H.reject(a),setTimeout(()=>{throw a})})}static F(){for(const i of this.C??[])g9(this.prototype,i,{configurable:!0,enumerable:!0,get(){return re(this,Hu)[i]},set(r){re(this,Hu)[i]=r}});for(const i of this.E??[])g9(this.prototype,i,{async value(...r){return re(this,hn)||await this.H.promise,await re(this,hn)[i](...r)},configurable:!0});for(const i of this.D??[])g9(this.prototype,i,{value(...r){return re(this,hn)[i](...r)},configurable:!0})}get manager(){var i;return(i=re(this,hn))==null?void 0:i.manager}attributeChangedCallback(i,r,s){var n;(n=re(this,hn))==null||n.attributeChangedCallback(i,r,s),re(this,hn)||re(this,Wg).push(i)}connectedCallback(){var i,r;re(this,hn)?(r=(i=re(this,hn)).connectedCallback)==null||r.call(i):queueMicrotask(()=>this.G=UW(this))}disconnectedCallback(){var i,r;(r=(i=re(this,hn))==null?void 0:i.disconnectedCallback)==null||r.call(i)}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){var i;(i=re(this,hn))==null||i.requestUpdate()}};hn=new WeakMap,Hu=new WeakMap,Wg=new WeakMap,k_=new WeakSet,qT=function(i){var p;const r=this.constructor,s=r.L,n=re(this,Hu),a=Object.values(i).find(m=>m.L===s),o=`${s}--lazy`;let l=a;for(;l&&!Object.hasOwn(l,"lumina");)l=Object.getPrototypeOf(l);Qde(l),!r.A&&(r.A=a,customElements.define(o,a)),a.N=this;const d=document.createElement(o);a.N=void 0,Ze(this,hn,d),Ze(this,Hu,d),re(this,Wg).forEach(m=>d.attributeChangedCallback(m,null,this.getAttribute(m))),Object.entries(n).forEach(Xde,d);const h=this.isConnected;(h||this.G)&&((p=d.connectedCallback)==null||p.call(d),h||d.disconnectedCallback())},pF.lumina=!0;let jT=pF;function Xde([t,e]){this[t]=e}const Qde=t=>{const e=t.prototype,i=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(s,n){i.setAttribute.call(this.el,s,n)},e.removeAttribute=function(s){i.removeAttribute.call(this.el,s)},g9(e,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Kde=rP(class extends sP{constructor(t){var e;if(super(t),t.type!==wf.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,s;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in e)e[n]&&!((r=this.nt)!=null&&r.has(n))&&this.st.add(n);return this.render(e)}const i=t.element.classList;for(const n of this.st)n in e||(i.remove(n),this.st.delete(n));for(const n in e){const a=!!e[n];a===this.st.has(n)||(s=this.nt)!=null&&s.has(n)||(a?(i.add(n),this.st.add(n)):(i.remove(n),this.st.delete(n)))}return od}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const HW="important",efe=" !"+HW,tfe=rP(class extends sP{constructor(t){var e;if(super(t),t.type!==wf.ATTRIBUTE||t.name!=="style"||((e=t.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,i)=>{const r=t[i];return r==null?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:i}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in e){const s=e[r];if(s!=null){this.ft.add(r);const n=typeof s=="string"&&s.endsWith(efe);r.includes("-")||n?i.setProperty(r,n?s.slice(0,-11):s,n?HW:""):i[r]=s}}return od}});var Wu,Co,Zg;class ife extends gP{constructor(i){super(i);tt(this,Wu);tt(this,Co);tt(this,Zg);this.destroyed=!1,this.R=!1,this.V=dt,this.T=[],Ze(this,Zg,new WeakMap),Ze(this,Co,i),this.exports=void 0,this.hasDestroy=BT in i&&typeof i.destroy=="function",mm.prototype.addController.call(i,{hostConnected:()=>{if(this.destroyed){const r=i.el.localName;throw i.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${BT} prop.`)}re(this,Wu)!==void 0&&clearTimeout(re(this,Wu)),fP();for(const r of i.M)"triggerConnected"in r?r.triggerConnected():vi(r.hostConnected,r)},hostDisconnected:()=>{for(const r of i.M)"triggerDisconnected"in r?r.triggerDisconnected():vi(r.hostDisconnected,r);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const r of i.M)"triggerUpdate"in r?r.triggerUpdate(this.Q):vi(r.hostUpdate,r,this.Q)},hostUpdated:()=>{for(const r of i.M)"triggerUpdated"in r?r.triggerUpdated(this.Q):vi(r.hostUpdated,r,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),Jy(i)}async destroy(){if(!this.destroyed){re(this,Co).el.isConnected&&(this.hasDestroy=!1,re(this,Co).el.remove()),Ze(this,Wu,void 0),this.destroyed=!0;for(const i of re(this,Co).M)"triggerDestroy"in i?i.triggerDestroy():vi(i.hostDestroy,i);re(this,Co).M.splice(0)}}U(){re(this,Wu)!==void 0&&clearTimeout(re(this,Wu)),!re(this,Co).el.isConnected&&!re(this,Co).autoDestroyDisabled&&Ze(this,Wu,vde(()=>void re(this,Co).destroy(),rfe))}S(i,r){const s=this.T;this.V=dt,this.T=[],s.forEach(n=>n(i,r))}W(i,r){(typeof r=="object"&&r!==null||typeof r=="function")&&re(this,Zg).set(r,i)}X(i){if(typeof i=="object"&&i!==null||typeof i=="function")return re(this,Zg).get(i)}}Wu=new WeakMap,Co=new WeakMap,Zg=new WeakMap;let rfe=1e3;const BT="autoDestroyDisabled";var um,A_,P_,dm,Fl,t1,WW,ZW;const Mw=class Mw extends mm{constructor(){super();tt(this,t1);tt(this,um);tt(this,A_);tt(this,P_);tt(this,dm);tt(this,Fl);this.M=[],this.manager=new ife(this);const i=this,r=i.constructor,s=r.N,n=r.K.o,a=Mw.prototype.shouldUpdate;Ze(i,dm,(s==null?void 0:s.H)??new Aw),i.I=(s==null?void 0:s.I)??new Aw,i.J=(s==null?void 0:s.J)??[],i._offspring=i.J,i._postLoad=i.I,i.el=s??i,Ze(i,P_,i.enableUpdating),i.enableUpdating=GW,i.shouldUpdate!==a&&(Ze(i,A_,i.shouldUpdate),i.shouldUpdate=a),n&&(Ze(i,um,new Map),r.elementProperties.forEach((o,l)=>re(i,um).set(l,n())))}static finalizeStyles(i){var n;const r=super.finalizeStyles(i),s=this.shadowRootOptions===Wo;return((n=this.K)==null?void 0:n.commonStyles)===void 0||s?r:[this.K.commonStyles,...r]}static createProperty(i,r){const s=typeof r=="number"?r:Array.isArray(r)?r[0]:0,n=Array.isArray(r)?r[1]:void 0,a=(n==null?void 0:n.hasChanged)??oP,o={attribute:s&jde&&typeof i=="string"?jW(i):!1,reflect:!!(s&qde),type:s&Bde?Boolean:s&Ude?Number:void 0,state:!!(s&Gde),readOnly:!!(s&Hde),noAccessor:!!(s&Wde),c:!1,...n,hasChanged(l,u){const d=a(l,u);return o.c=d,d}};super.createProperty(i,o)}static getPropertyDescriptor(i,r,s){const n=this.K,a=super.getPropertyDescriptor(i,r,s);return s.d=a,{...a,get(){var o,l;return(o=n.t)==null||o.call(n,re(this,um).get(i)),(l=a.get)==null?void 0:l.call(this)},set(o){var u,d;const l=this.manager;if(s.readOnly&&!VT&&(l.R||l.connectedCalled))throw Error(`Cannot assign to read-only property "${i}" of ${this.el.localName}. Trying to assign "${o}"`);a.set.call(this,o??void 0),s.c&&((d=(u=re(this,um))==null?void 0:u.get(i))==null||d.notify()),l.T.length>0&&(l==null||l.S(i,o))}}}connectedCallback(){var s,n;if(this.el.hasAttribute("defer-hydration"))return;const i=(n=(s=this.constructor.K).c)==null?void 0:n.call(s,()=>this.requestUpdate());Ze(this,Fl,i);const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>Ln(this,t1,ZW).call(this).catch(a=>{re(this,dm).reject(a),setTimeout(()=>{throw a})})):i&&this.requestUpdate()}disconnectedCallback(){var i;super.disconnectedCallback(),(i=re(this,Fl))==null||i.destroy(),Ze(this,Fl,void 0)}createRenderRoot(){const i=this.el.shadowRoot,r=this.constructor,s=r.shadowRootOptions,a=i??(s===Wo?this.el:this.el.attachShadow(s));if(i)return mm.prototype.createRenderRoot.call(this),i;if(this.isConnected){const o=a.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...r.elementStyles.map(l=>"styleSheet"in l?l.styleSheet:l)]}return a}shouldUpdate(i){var r;return this.manager.Q=i,((r=re(this,A_))==null?void 0:r.call(this,i))??!0}update(i){re(this,Fl)?Ln(this,t1,WW).call(this,i):super.update(i)}listen(i,r,s){const n=(r==null?void 0:r.bind(this))??r;this.manager.onLifecycle(()=>(this.el.addEventListener(i,n,s),()=>this.el.removeEventListener(i,n,s)))}listenOn(i,r,s,n){const a=(s==null?void 0:s.bind(this))??s;this.manager.onLifecycle(()=>(i.addEventListener(r,a,n),()=>i.removeEventListener(r,a,n)))}async componentOnReady(){return await re(this,dm).promise,this}addController(i){var r;this.M.push(i),!(lP in i)&&this.renderRoot&&this.el.isConnected&&((r=i.hostConnected)==null||r.call(i))}removeController(i){var r;this.M.splice(this.M.indexOf(i),1),(r=i.controllerRemoved)==null||r.call(i)}};um=new WeakMap,A_=new WeakMap,P_=new WeakMap,dm=new WeakMap,Fl=new WeakMap,t1=new WeakSet,WW=function(i){try{re(this,Fl).clear(),this.constructor.K.r(re(this,Fl),()=>xF(Mw.prototype,this,"update").call(this,i))}catch(r){throw re(this,Fl).clear(),r}},ZW=async function(){var n,a;const i=this.el.G??UW(this.el);i&&await i;const r=[];for(const o of this.M)"triggerLoad"in o?r.push(o.triggerLoad()):r.push(DT(o.hostLoad,o));await Promise.all(r),await((n=this.load)==null?void 0:n.call(this)),this.manager.hasDestroy&&this.manager.onUpdate(o=>o.has(BT)&&this.manager.U()),re(this,P_).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const s=this.J.filter(o=>{var l;return!((l=o.manager)!=null&&l.loadedCalled)});s.length&&await Promise.allSettled(s.map(async o=>await o.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const o of this.M)"triggerLoaded"in o?o.triggerLoaded():vi(o.hostLoaded,o);(a=this.loaded)==null||a.call(this),re(this,dm).resolve()},Mw.lumina=!0;let Ts=Mw;const JW=t=>{let e;const i=s=>{var n;e=new URL(s,((n=globalThis.location)==null?void 0:n.href)||void 0).href},r={...t,getAssetPath(s){var a;const n=new URL(s,e);return n.origin!==((a=globalThis.location)==null?void 0:a.origin)?n.href:n.pathname},setAssetPath:i,customElement(s,n){n.K=r,n.L=s,customElements.get(s)||customElements.define(s,n)}};return i(t.defaultAssetPath),r},ft=t=>typeof t=="object"&&t!=null?Kde(t):t,YW=t=>typeof t=="object"&&t!=null?tfe(t):t,zl=dt;function sfe(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i)}const nfe={toAttribute:t=>t===!0?"":t===!1?null:t};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const XW="calcite-mode-auto",QW="calcite-mode-dark",afe="calcite-mode-light",px={autoMode:XW,darkMode:QW,lightMode:afe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},kYe={filter:250,nextTick:0,resize:150,reposition:100},AYe=10,PYe=25;function DF(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(QW)||t.contains(XW)&&e?"dark":"light",r=a=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:a}})),s=a=>{n!==a&&r(a),n=a};let n=i();r(n),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>s(a.matches?"dark":"light")),new MutationObserver(()=>s(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const td=globalThis.calciteConfig,LYe=(td==null?void 0:td.focusTrapStack)||[],ofe=(td==null?void 0:td.logLevel)||"info",zF="3.2.1",lfe="2025-05-29",cfe="618973fec";function ufe(){if(td&&td.version)return;console.info(`Using Calcite Components ${zF} [Date: ${lfe}, Revision: ${cfe}]`);const t=td||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:zF,writable:!1}),globalThis.calciteConfig=t}function dfe(){document.readyState==="interactive"?DF():document.addEventListener("DOMContentLoaded",()=>DF(),{once:!0}),ufe()}dfe();const KW=JW({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.2.1/",hydratedAttribute:"calcite-hydrated"}),{customElement:z_,getAssetPath:eZ,setAssetPath:ffe}=KW,hfe=Zde(KW,{"calcite-accordion":[()=>R(()=>import("./customElement-B3_JKoqa.js"),[]),"appearance,iconPosition,iconType,scale,selectionMode"],"calcite-accordion-item":[()=>R(()=>import("./customElement-CtMvT1kb.js"),__vite__mapDeps([0,1])),"accordionParent:,appearance,description,expanded,heading,iconEnd,iconFlipRtl,iconPosition,iconStart,iconType,scale;setFocus"],"calcite-action":[()=>R(()=>import("./index-B8MSPrSA.js").then(t=>t.c),__vite__mapDeps([2,1])),"active,alignment,appearance,compact,disabled,dragHandle,icon,iconFlipRtl,indicator,label,loading,messageOverrides:,scale,text,textEnabled;setFocus"],"calcite-action-bar":[()=>R(()=>import("./customElement-EOVYiFHw.js"),__vite__mapDeps([3,4,5,6,7])),"actionsEndGroupLabel,expandDisabled,expanded,floating,layout,messageOverrides:,overflowActionsDisabled,overlayPositioning,position,scale;overflowActions,setFocus"],"calcite-action-group":[()=>R(()=>import("./customElement-BlZizYBu.js"),__vite__mapDeps([8,6,5])),"columns,expanded,label,layout,menuFlipPlacements:,menuOpen,menuPlacement,messageOverrides:,overlayPositioning,scale;setFocus"],"calcite-action-menu":[()=>R(()=>import("./customElement-DUQ_hMz_.js"),__vite__mapDeps([9,10,6])),"appearance,expanded,flipPlacements:,label,open,overlayPositioning,placement,scale;setFocus"],"calcite-action-pad":[()=>R(()=>import("./customElement-D_ndmBT6.js"),__vite__mapDeps([11,4,5,6])),"actionsEndGroupLabel,expandDisabled,expanded,layout,messageOverrides:,overlayPositioning,position,scale;setFocus"],"calcite-alert":[()=>R(()=>import("./customElement-neXQgni4.js"),__vite__mapDeps([12,1,13,14,15])),"active,autoClose,autoCloseDuration,embedded,icon,iconFlipRtl,kind,label,messageOverrides:,numberingSystem,open,openAlertCount,placement,queue,scale;setFocus"],"calcite-autocomplete":[()=>R(()=>import("./customElement-CZHRw7cb.js"),__vite__mapDeps([16,17,18,7,14,19,20])),"alignment,autocomplete:,disabled,flipPlacements:,form,icon,iconFlipRtl,inputValue,label,loading,maxLength,messageOverrides:,minLength,name,open,overlayPositioning,pattern,placeholder,placement,prefixText,readOnly,required,scale,status,suffixText,validationIcon,validationMessage,validity:,value;reposition,scrollContentTo,selectText,setFocus"],"calcite-autocomplete-item":[()=>R(()=>import("./customElement-nOhsYzfl.js"),__vite__mapDeps([21,22])),"active,description,disabled,guid,heading,iconEnd,iconFlipRtl,iconStart,inputValueMatchPattern:,label,scale,value"],"calcite-autocomplete-item-group":[()=>R(()=>import("./customElement-B7N_JCwv.js"),[]),"disableSpacing,heading,label,scale"],"calcite-avatar":[()=>R(()=>import("./customElement-bggHlhHo.js"),__vite__mapDeps([23,24,25])),"fullName,label,scale,thumbnail,userId,username"],"calcite-block":[()=>R(()=>import("./customElement-DUvf_trG.js"),__vite__mapDeps([26,1,27,14,18,7,28])),"collapsible,description,disabled,dragDisabled,dragHandle,expanded,heading,headingLevel,iconEnd,iconFlipRtl,iconStart,label,loading,menuFlipPlacements:,menuPlacement,messageOverrides:,moveToItems:,open,overlayPositioning,setPosition,setSize,sortHandleOpen,status;setFocus"],"calcite-block-group":[()=>R(()=>import("./customElement-BG1J6K3N.js"),__vite__mapDeps([29,30,7])),"canPull:,canPut:,disabled,dragEnabled,group,label,loading;setFocus;putFailed"],"calcite-block-section":[()=>R(()=>import("./customElement-DZVzZUXi.js"),__vite__mapDeps([31,1])),"expanded,iconEnd,iconFlipRtl,iconStart,messageOverrides:,open,status,text,toggleDisplay;setFocus"],"calcite-button":[()=>R(()=>Promise.resolve().then(()=>CUe),void 0),"alignment,appearance,disabled,download,form,href,iconEnd,iconFlipRtl,iconStart,kind,label,loading,messageOverrides:,name,rel,round,scale,splitChild,target,type,width;setFocus"],"calcite-card":[()=>R(()=>import("./customElement-CdWsqNDa.js"),[]),"disabled,label,loading,messageOverrides:,selectable,selected,selectionMode,thumbnailPosition;setFocus"],"calcite-card-group":[()=>R(()=>import("./customElement-BSmXWxIc.js"),[]),"disabled,label,selectedItems:,selectionMode;setFocus"],"calcite-carousel":[()=>R(()=>import("./customElement-BiWIShWA.js"),__vite__mapDeps([32,17,33,25,10])),"arrowType,autoplay,autoplayDuration,controlOverlay,disabled,label,messageOverrides:,paused,selectedItem:;play,setFocus,stop"],"calcite-carousel-item":[()=>R(()=>import("./index-B9f41znj.js").then(t=>t.c),[]),"label,selected"],"calcite-checkbox":[()=>R(()=>import("./customElement-AvObrefM.js"),[]),"checked,disabled,form,hovered,indeterminate,label,name,required,scale,status,validity:,value;setFocus"],"calcite-chip":[()=>R(()=>Promise.resolve().then(()=>SBe),void 0),"appearance,closable,closed,closeOnDelete,disabled,icon,iconFlipRtl,interactive,kind,label,messageOverrides:,parentChipGroup:,scale,selected,selectionMode,value;setFocus"],"calcite-chip-group":[()=>R(()=>import("./index-Fhcuh_Ms.js").then(t=>t.c),[]),"disabled,label,scale,selectedItems:,selectionMode;setFocus"],"calcite-color-picker":[()=>R(()=>import("./customElement-DSEatyNT.js"),__vite__mapDeps([34,17,1,24,25,35,36,7])),"allowEmpty,alphaChannel,channelsDisabled,clearable,color:,disabled,format,hexDisabled,messageOverrides:,numberingSystem,savedDisabled,scale,storageId,value;setFocus"],"calcite-color-picker-hex-input":[()=>R(()=>import("./customElement-y28Z_aJB.js"),__vite__mapDeps([37,1,24,25])),"allowEmpty,alphaChannel,hexLabel,messages:,numberingSystem,scale,value;setFocus"],"calcite-color-picker-swatch":[()=>R(()=>import("./customElement-CbP1yjdJ.js"),__vite__mapDeps([38,1,24,25])),"active,color,scale"],"calcite-combobox":[()=>R(()=>import("./customElement-QXf_zDhP.js"),__vite__mapDeps([39,1,40,41,42,20,7,18,14,43,19,44])),"allowCustomValues,clearDisabled,disabled,filteredItems:,filterProps:,filterText,flipPlacements:,form,label,maxItems,messageOverrides:,name,open,overlayPositioning,placeholder,placeholderIcon,placeholderIconFlipRtl,readOnly,required,scale,selectAllEnabled,selectedItems:,selectionDisplay,selectionMode,status,validationIcon,validationMessage,validity:,value;reposition,setFocus"],"calcite-combobox-item":[()=>R(()=>import("./customElement-BqLComdx.js"),__vite__mapDeps([45,1,44,22])),"active,ancestors:,description,disabled,filterDisabled,filterTextMatchPattern:,guid,heading,icon,iconFlipRtl,indeterminate,itemHidden,label,metadata:,scale,selected,selectionMode,shortHeading,textLabel,value"],"calcite-combobox-item-group":[()=>R(()=>import("./customElement-B1pnkxyD.js"),__vite__mapDeps([46,44])),"afterEmptyGroup,ancestors:,itemHidden,label,scale"],"calcite-date-picker":[()=>R(()=>import("./customElement-D7O_XKMO.js"),__vite__mapDeps([47,48,13,49])),"activeDate:,activeRange,headingLevel,layout,max,maxAsDate:,messageOverrides:,min,minAsDate:,monthStyle,numberingSystem,proximitySelectionDisabled,range,scale,value,valueAsDate:;reset,setFocus"],"calcite-date-picker-day":[()=>R(()=>import("./customElement-Dq18Hplq.js"),__vite__mapDeps([50,48,13])),"active,currentMonth,dateTimeFormat:,day,disabled,endOfRange,highlighted,range,rangeEdge,rangeHover,scale,selected,startOfRange,value:;setFocus"],"calcite-date-picker-month":[()=>R(()=>import("./customElement-BfOKXlNU.js"),__vite__mapDeps([51,1,48,13])),"activeDate:,dateTimeFormat:,endDate:,headingLevel,hoverRange:,layout,localeData:,max:,messages:,min:,monthStyle,range,scale,selectedDate:,startDate:"],"calcite-date-picker-month-header":[()=>R(()=>import("./customElement-BVuUZ9eK.js"),__vite__mapDeps([52,40,25,48,13])),"activeDate:,headingLevel,localeData:,max:,messages:,min:,monthStyle,position,scale,selectedDate:"],"calcite-dialog":[()=>R(()=>import("./customElement-yZ7UOcNp.js"),__vite__mapDeps([53,1,54,55,14,56,57,58])),"beforeClose:,closeDisabled,description,dragEnabled,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,heading,headingLevel,kind,loading,menuOpen,messageOverrides:,modal,open,outsideCloseDisabled,overlayPositioning,placement,resizable,scale,width,widthScale;scrollContentTo,setFocus,updateFocusTrapElements"],"calcite-dropdown":[()=>R(()=>import("./index-BwrTk-95.js").then(t=>t.c),__vite__mapDeps([59,18,7,14,55])),"closeOnSelectDisabled,disabled,flipPlacements:,maxItems,offsetDistance,offsetSkidding,open,overlayPositioning,placement,scale,selectedItems:,type,width,widthScale;reposition,setFocus"],"calcite-dropdown-group":[()=>R(()=>import("./index-D2kflPDd.js").then(t=>t.c),__vite__mapDeps([60,61])),"groupTitle,position,scale,selectionMode"],"calcite-dropdown-item":[()=>R(()=>import("./index-BUi6AywO.js").then(t=>t.c),__vite__mapDeps([62,61])),"disabled,href,iconEnd,iconFlipRtl,iconStart,label,rel,scale,selected,selectionMode,target;setFocus"],"calcite-fab":[()=>R(()=>import("./index-CL2indoY.js").then(t=>t.c),[]),"appearance,disabled,icon,iconFlipRtl,kind,label,loading,scale,text,textEnabled;setFocus"],"calcite-filter":[()=>R(()=>import("./customElement-iL2zRrh9.js"),__vite__mapDeps([63,42,20,7])),"disabled,filteredItems:,filterProps:,items:,label,messageOverrides:,placeholder,scale,value;filter,setFocus"],"calcite-flow":[()=>R(()=>import("./index-IoViysGY.js").then(t=>t.c),[]),"customItemSelectors;back,setFocus"],"calcite-flow-item":[()=>R(()=>import("./customElement-BSEug3OW.js"),__vite__mapDeps([64,1,56])),"beforeBack:,beforeClose:,closable,closed,collapsed,collapseDirection,collapsible,description,disabled,heading,headingLevel,loading,menuOpen,messageOverrides:,overlayPositioning,scale,selected,showBackButton;scrollContentTo,setFocus"],"calcite-graph":[()=>R(()=>import("./customElement-DYBquB7t.js"),[]),"colorStops:,data:,highlightMax,highlightMin,max,min"],"calcite-handle":[()=>R(()=>import("./customElement-cfoqLksr.js"),[]),"blurUnselectDisabled,disabled,dragHandle,label,messageOverrides:,selected,setPosition,setSize;setFocus"],"calcite-icon":[()=>R(()=>Promise.resolve().then(()=>fBe),void 0),"flipRtl,icon,preload,scale,textLabel"],"calcite-inline-editable":[()=>R(()=>import("./customElement-CjpcCQBf.js"),[]),"afterConfirm:,controls,disabled,editingEnabled,loading,messageOverrides:,scale;setFocus"],"calcite-input":[()=>R(()=>import("./customElement-XWb2Lqyq.js"),__vite__mapDeps([65,40,1,13,19,66])),"accept,alignment,autocomplete:,clearable,disabled,editingEnabled,files:,form,groupSeparator,icon,iconFlipRtl,label,loading,localeFormat,max,maxLength,messageOverrides:,min,minLength,multiple,name,numberButtonType,numberingSystem,pattern,placeholder,prefixText,readOnly,required,scale,status,step,suffixText,type,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-date-picker":[()=>R(()=>import("./customElement-CjGAt_E_.js"),__vite__mapDeps([67,57,48,13,18,7,14,49,19,66])),"disabled,flipPlacements:,focusTrapDisabled,form,headingLevel,label,layout,max,maxAsDate:,messageOverrides:,min,minAsDate:,monthStyle,name,numberingSystem,open,overlayPositioning,placement,proximitySelectionDisabled,range,readOnly,required,scale,status,validationIcon,validationMessage,validity:,value,valueAsDate:;reposition,setFocus"],"calcite-input-message":[()=>R(()=>import("./index-OKy8LF_V.js").then(t=>t.c),[]),"icon,iconFlipRtl,scale,status"],"calcite-input-number":[()=>R(()=>import("./customElement-MLkCZaYX.js"),__vite__mapDeps([68,40,1,13,19,66])),"alignment,autocomplete:,clearable,disabled,editingEnabled,form,groupSeparator,icon,iconFlipRtl,integer,label,loading,localeFormat,max,maxLength,messageOverrides:,min,minLength,name,numberButtonType,numberingSystem,placeholder,prefixText,readOnly,required,scale,status,step,suffixText,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-text":[()=>R(()=>import("./customElement-BSneWMEO.js"),__vite__mapDeps([69,40,19,66])),"alignment,autocomplete:,clearable,disabled,editingEnabled,form,icon,iconFlipRtl,label,loading,maxLength,messageOverrides:,minLength,name,pattern,placeholder,prefixText,readOnly,required,scale,status,suffixText,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-time-picker":[()=>R(()=>import("./customElement-B98BFS3C.js"),__vite__mapDeps([70,35,19,66,13,71,22])),"disabled,focusTrapDisabled,form,hourFormat,max,messageOverrides:,min,name,numberingSystem,open,overlayPositioning,placement,readOnly,required,scale,status,step,validationIcon,validationMessage,validity:,value;reposition,setFocus"],"calcite-input-time-zone":[()=>R(()=>import("./customElement-STCN7IA9.js"),__vite__mapDeps([72,17,1,13])),"clearable,disabled,form,maxItems,messageOverrides:,mode,name,offsetStyle,open,overlayPositioning,readOnly,referenceDate,required,scale,status,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-label":[()=>R(()=>import("./index-2CeNF34W.js").then(t=>t.c),[]),"alignment,for,layout,scale"],"calcite-link":[()=>R(()=>import("./customElement-DjOX8kG6.js"),[]),"disabled,download,href,iconEnd,iconFlipRtl,iconStart,rel,target;setFocus"],"calcite-list":[()=>R(()=>import("./customElement-K2HRWbze.js"),__vite__mapDeps([73,1,74,30,75,13,7])),"canPull:,canPut:,disabled,displayMode,dragEnabled,filteredData:,filteredItems:,filterEnabled,filterLabel,filterPlaceholder,filterPredicate:,filterProps:,filterText,group,interactionMode,label,loading,messageOverrides:,numberingSystem,scale,selectedItems:,selectionAppearance,selectionMode;setFocus;putFailed"],"calcite-list-item":[()=>R(()=>import("./customElement-BUYpG04f.js"),__vite__mapDeps([76,1,28,74,77])),"active,bordered,closable,closed,description,disabled,displayMode,dragDisabled,dragHandle,expanded,filterHidden,iconEnd,iconFlipRtl,iconStart,interactionMode,label,messageOverrides:,metadata:,moveToItems:,open,scale,selected,selectionAppearance,selectionMode,setPosition,setSize,sortHandleOpen,unavailable,value;setFocus"],"calcite-list-item-group":[()=>R(()=>import("./index-C1tRAfbw.js").then(t=>t.c),__vite__mapDeps([78,77])),"disabled,filterHidden,heading,scale"],"calcite-loader":[()=>R(()=>Promise.resolve().then(()=>pqe),void 0),"complete,inline,label,scale,text,type,value"],"calcite-menu":[()=>R(()=>import("./customElement-Bw99njms.js"),[]),"label,layout,messageOverrides:;setFocus"],"calcite-menu-item":[()=>R(()=>import("./customElement-D6_Thr-H.js"),__vite__mapDeps([79,1])),"active,breadcrumb,href,iconEnd,iconFlipRtl,iconStart,isTopLevelItem,label,layout,messageOverrides:,open,rel,target,text,topLevelMenuLayout;setFocus"],"calcite-meter":[()=>R(()=>import("./customElement-BHfZABJ9.js"),__vite__mapDeps([80,1,13])),"appearance,disabled,fillType,form,groupSeparator,high,label,low,max,min,name,numberingSystem,rangeLabels,rangeLabelType,scale,unitLabel,value,valueLabel,valueLabelType"],"calcite-modal":[()=>R(()=>import("./customElement-CRpWDX7X.js"),__vite__mapDeps([81,1,14,58,57])),"beforeClose:,closeButtonDisabled,docked,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,fullscreen,kind,messageOverrides:,open,opened,outsideCloseDisabled,scale,widthScale;scrollContent,setFocus,updateFocusTrapElements"],"calcite-navigation":[()=>R(()=>import("./customElement-BmJNU5tL.js"),[]),"label,navigationAction;setFocus"],"calcite-navigation-logo":[()=>R(()=>import("./customElement-BffDQnmo.js"),__vite__mapDeps([82,1,27])),"active,description,heading,headingLevel,href,icon,iconFlipRtl,label,rel,target,thumbnail;setFocus"],"calcite-navigation-user":[()=>R(()=>import("./customElement-Q_SuDd2t.js"),__vite__mapDeps([83,1])),"active,fullName,label,textDisabled,thumbnail,userId,username;setFocus"],"calcite-notice":[()=>R(()=>import("./index-D0mCuMNN.js").then(t=>t.c),__vite__mapDeps([84,15,14])),"closable,icon,iconFlipRtl,kind,messageOverrides:,open,scale,width;setFocus"],"calcite-option":[()=>R(()=>import("./customElement-_zSXiZGH.js"),[]),"disabled,label,selected,value"],"calcite-option-group":[()=>R(()=>import("./customElement-DsuO4t9q.js"),[]),"disabled,label"],"calcite-pagination":[()=>R(()=>import("./customElement-D0Gt-Eb3.js"),__vite__mapDeps([85,1,13,33,25])),"groupSeparator,messageOverrides:,numberingSystem,pageSize,scale,startItem,totalItems;goTo,nextPage,previousPage,setFocus"],"calcite-panel":[()=>R(()=>import("./customElement-5a_ylp0q.js"),__vite__mapDeps([86,1,6,27,18,7,56])),"beforeClose:,closable,closed,collapsed,collapseDirection,collapsible,description,disabled,heading,headingLevel,loading,menuFlipPlacements:,menuOpen,menuPlacement,messageOverrides:,overlayPositioning,scale;scrollContentTo,setFocus"],"calcite-popover":[()=>R(()=>import("./customElement-Bk7FKOl2.js"),__vite__mapDeps([87,1,18,7,14,27,88,57])),"autoClose,closable,flipDisabled,flipPlacements:,focusTrapDisabled,focusTrapOptions:,heading,headingLevel,label,messageOverrides:,offsetDistance,offsetSkidding,open,overlayPositioning,placement,pointerDisabled,referenceElement,scale,triggerDisabled;reposition,setFocus,updateFocusTrapElements"],"calcite-progress":[()=>R(()=>import("./customElement-4ikGzraM.js"),[]),"label,reversed,text,type,value"],"calcite-radio-button":[()=>R(()=>import("./customElement-B1B9ona_.js"),__vite__mapDeps([89,10])),"checked,disabled,focused,form,hovered,label,name,required,scale,value;emitCheckedChange,setFocus"],"calcite-radio-button-group":[()=>R(()=>import("./customElement-Bp9X1wBI.js"),__vite__mapDeps([90,19])),"disabled,layout,name,required,scale,selectedItem:,status,validationIcon,validationMessage;setFocus"],"calcite-rating":[()=>R(()=>import("./customElement-bu549nPs.js"),__vite__mapDeps([91,40,19])),"average,count,disabled,form,messageOverrides:,name,readOnly,required,scale,showChip,status,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-scrim":[()=>R(()=>Promise.resolve().then(()=>rBe),void 0),"loading,messageOverrides:"],"calcite-segmented-control":[()=>R(()=>import("./customElement-sjnrNIpw.js"),__vite__mapDeps([92,19])),"appearance,disabled,form,layout,name,required,scale,selectedItem:,status,validationIcon,validationMessage,validity:,value,width;setFocus"],"calcite-segmented-control-item":[()=>R(()=>import("./customElement-Ddbuc6sZ.js"),[]),"appearance,checked,iconEnd,iconFlipRtl,iconStart,layout,scale,value"],"calcite-select":[()=>R(()=>import("./customElement-C803Hnzt.js"),__vite__mapDeps([93,19])),"disabled,form,label,name,required,scale,selectedOption:,status,validationIcon,validationMessage,validity:,value,width;setFocus"],"calcite-sheet":[()=>R(()=>import("./customElement-BLeyelB7.js"),__vite__mapDeps([94,1,54,14,55,35,58,57])),"beforeClose:,displayMode,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,height,heightScale,label,messageOverrides:,open,opened,outsideCloseDisabled,position,resizable,width,widthScale;setFocus,updateFocusTrapElements"],"calcite-shell":[()=>R(()=>import("./customElement-Da2RuTdf.js"),__vite__mapDeps([95,1])),"contentBehind"],"calcite-shell-center-row":[()=>R(()=>import("./customElement-fD5cq_y9.js"),__vite__mapDeps([96,1])),"detached,heightScale,position"],"calcite-shell-panel":[()=>R(()=>import("./customElement-C0KbciWx.js"),__vite__mapDeps([97,1,54,35,55])),"collapsed,displayMode,height,heightScale,layout,messageOverrides:,position,resizable,width,widthScale"],"calcite-slider":[()=>R(()=>import("./customElement-BE64Nr8n.js"),__vite__mapDeps([98,1,19,13,35])),"disabled,fillPlacement,form,groupSeparator,hasHistogram,histogram:,histogramStops:,labelFormatter:,labelHandles,labelTicks,max,maxLabel,maxValue,min,minLabel,minValue,mirrored,name,numberingSystem,pageStep,precise,required,scale,snap,status,step,ticks,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-sort-handle":[()=>R(()=>import("./customElement-H6fDboxT.js"),__vite__mapDeps([99,1,18,7])),"disabled,flipPlacements:,label,messageOverrides:,messages:,moveToItems:,open,overlayPositioning,placement,scale,setPosition,setSize,widthScale;setFocus"],"calcite-sortable-list":[()=>R(()=>import("./customElement-4tMqifZ-.js"),__vite__mapDeps([100,30])),"canPull:,canPut:,disabled,dragSelector,group,handleSelector,layout,loading"],"calcite-split-button":[()=>R(()=>import("./customElement-BDKLjgyp.js"),[]),"active,appearance,disabled,download,dropdownIconType,dropdownLabel,flipPlacements:,href,kind,loading,overlayPositioning,placement,primaryIconEnd,primaryIconFlipRtl,primaryIconStart,primaryLabel,primaryText,rel,scale,target,width;setFocus"],"calcite-stack":[()=>R(()=>import("./customElement-BihYgf6N.js"),__vite__mapDeps([101,1,75])),"disabled"],"calcite-stepper":[()=>R(()=>import("./customElement-DZNI-QRc.js"),[]),"icon,layout,messageOverrides:,numbered,numberingSystem,scale,selectedItem:;endStep,goToStep,nextStep,prevStep,startStep"],"calcite-stepper-item":[()=>R(()=>import("./customElement-Db2Df_Ty.js"),__vite__mapDeps([102,13])),"complete,description,disabled,error,heading,icon,iconFlipRtl,itemHidden,layout,messageOverrides:,numbered,numberingSystem,scale,selected;setFocus"],"calcite-switch":[()=>R(()=>import("./index-BdJ3T8MN.js").then(t=>t.c),[]),"checked,disabled,form,label,name,scale,value;setFocus"],"calcite-tab":[()=>R(()=>import("./customElement-CJDgQgFc.js"),[]),"scale,selected,tab;getTabIndex;_updateAriaInfo"],"calcite-tab-nav":[()=>R(()=>import("./customElement-BnGOg3a-.js"),__vite__mapDeps([103,1,41])),"bordered,layout,messageOverrides:,position,scale,selectedTitle:,storageId,syncId"],"calcite-tab-title":[()=>R(()=>import("./customElement-BARXMcTA.js"),__vite__mapDeps([104,1,43])),"bordered,closable,closed,disabled,iconEnd,iconFlipRtl,iconStart,layout,messageOverrides:,position,scale,selected,tab;activateTab,getTabIdentifier,getTabIndex;_updateAriaInfo"],"calcite-table":[()=>R(()=>import("./customElement-B5-9bU8B.js"),__vite__mapDeps([105,13])),"bordered,caption,groupSeparator,interactionMode,layout,messageOverrides:,numbered,numberingSystem,pageSize,scale,selectedItems:,selectionDisplay,selectionMode,striped"],"calcite-table-cell":[()=>R(()=>import("./index-BC-72UEe.js").then(t=>t.c),[]),"alignment,colSpan,disabled,interactionMode,lastCell,messageOverrides:,numberCell,parentRowAlignment,parentRowIsSelected,parentRowPositionLocalized,parentRowType,positionInRow,readCellContentsToAT,rowSpan,scale,selectionCell;setFocus"],"calcite-table-header":[()=>R(()=>import("./index-tVLxPEQ4.js").then(t=>t.c),[]),"alignment,bodyRowCount,colSpan,description,heading,interactionMode,lastCell,messageOverrides:,numberCell,parentRowAlignment,parentRowIsSelected,parentRowType,positionInRow,rowSpan,scale,selectedRowCount,selectedRowCountLocalized,selectionCell,selectionMode;setFocus"],"calcite-table-row":[()=>R(()=>import("./customElement-BLTTPyOr.js"),__vite__mapDeps([106,1])),"alignment,bodyRowCount,cellCount,disabled,interactionMode,itemHidden,lastVisibleRow,numbered,positionAll,positionSection,positionSectionLocalized,readCellContentsToAT,rowType,scale,selected,selectedRowCount,selectedRowCountLocalized,selectionMode"],"calcite-tabs":[()=>R(()=>import("./customElement-BSpl-wLO.js"),[]),"bordered,layout,position,scale"],"calcite-text-area":[()=>R(()=>import("./customElement-Df1m4ouS.js"),__vite__mapDeps([107,40,13,19,66,36,7])),"columns,disabled,form,groupSeparator,label,limitText,maxLength,messageOverrides:,minLength,name,numberingSystem,placeholder,readOnly,required,resize,rows,scale,status,validationIcon,validationMessage,validity:,value,wrap;selectText,setFocus"],"calcite-tile":[()=>R(()=>import("./customElement-CE69DX2H.js"),[]),"active,alignment,description,disabled,embed,heading,href,icon,iconFlipRtl,interactive,label,layout,scale,selected,selectionAppearance,selectionMode;setFocus"],"calcite-tile-group":[()=>R(()=>import("./customElement-BlIyndli.js"),[]),"alignment,disabled,label,layout,scale,selectedItems:,selectionAppearance,selectionMode"],"calcite-tile-select":[()=>R(()=>import("./customElement-BNV9Ab9Q.js"),[]),"checked,description,disabled,heading,icon,iconFlipRtl,inputAlignment,inputEnabled,name,type,value,width;setFocus"],"calcite-tile-select-group":[()=>R(()=>import("./customElement-DVauyvp3.js"),[]),"disabled,layout"],"calcite-time-picker":[()=>R(()=>import("./customElement-DgOKNniB.js"),__vite__mapDeps([108,13,71,35])),"hourFormat,messageOverrides:,numberingSystem,scale,step,value;setFocus"],"calcite-tip":[()=>R(()=>import("./customElement-vpUd1oyv.js"),__vite__mapDeps([109,1,27])),"closed,closeDisabled,heading,headingLevel,messageOverrides:,selected"],"calcite-tip-group":[()=>R(()=>import("./customElement-Cn98D52I.js"),[]),"groupTitle"],"calcite-tip-manager":[()=>R(()=>import("./customElement-BSQamPCX.js"),__vite__mapDeps([110,1,27])),"closed,headingLevel,messageOverrides:;nextTip,previousTip"],"calcite-tooltip":[()=>R(()=>import("./index-Bte1654H.js").then(t=>t.c),__vite__mapDeps([111,18,7,14,88,1])),"closeOnClick,label,offsetDistance,offsetSkidding,open,overlayPositioning,placement,referenceElement;reposition"],"calcite-tree":[()=>R(()=>import("./customElement-5eIoxbwz.js"),[]),"child,lines,parentExpanded,scale,selectedItems:,selectionMode"],"calcite-tree-item":[()=>R(()=>import("./customElement-D8m2_yBg.js"),__vite__mapDeps([112,1])),"depth,disabled,expanded,hasChildren,iconFlipRtl,iconStart,indeterminate,label,lines,parentExpanded,scale,selected,selectionMode"]});let Af;function q(t){return typeof Af[t]=="function"?Af[t]=Af[t](globalThis):Af[t]}var dW,fW,hW,pW;Af=(dW=globalThis.dojoConfig)!=null&&dW.has||(fW=globalThis.esriConfig)!=null&&fW.has?{...(hW=globalThis.dojoConfig)==null?void 0:hW.has,...(pW=globalThis.esriConfig)==null?void 0:pW.has}:{},q.add=(t,e,i,r)=>{(r||Af[t]===void 0)&&(Af[t]=e),i&&q(t)},q.cache=Af,q.add("big-integer-warning-enabled",!0),q.add("esri-deprecation-warnings",!0),q.add("esri-tests-disable-screenshots",!1),q.add("esri-tests-use-full-window",!1),q.add("esri-tests-post-to-influx",!0),q.add("esri-cim-animations-enable-status","enabled"),q.add("esri-cim-animations-spotlight",!1),q.add("esri-cim-animations-freeze-time",!1),(()=>{var e;q.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(q.add("host-browser",t),q.add("host-node",typeof globalThis.process=="object"&&((e=globalThis.process.versions)==null?void 0:e.node)&&globalThis.process.versions.v8),q.add("dom",t),q("host-browser")){const i=navigator,r=i.userAgent,s=i.appVersion,n=parseFloat(s);if(q.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),q.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),q.add("khtml",s.includes("Konqueror")?n:void 0),q.add("edge",parseFloat(r.split("Edge/")[1])||void 0),q.add("opr",parseFloat(r.split("OPR/")[1])||void 0),q.add("webkit",!q("wp")&&!q("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),q.add("chrome",!q("edge")&&!q("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),q.add("android",!q("wp")&&parseFloat(r.split("Android ")[1])||void 0),q.add("safari",!s.includes("Safari")||q("wp")||q("chrome")||q("android")||q("edge")||q("opr")?void 0:parseFloat(s.split("Version/")[1])),q.add("mac",s.includes("Macintosh")),!q("wp")&&/(iPhone|iPod|iPad)/.test(r)){const a=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",l=parseFloat(o.replace(/_/,".").replaceAll("_",""));q.add(a,l),q.add("ios",l)}q("webkit")||(!r.includes("Gecko")||q("wp")||q("khtml")||q("edge")||q.add("mozilla",n),q("mozilla")&&q.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&q.add("esri-mobile",e),i&&q.add("esri-iPhone",i),q.add("esri-geolocation",!!navigator.geolocation)}q.add("esri-wasm","WebAssembly"in globalThis),q.add("esri-performance-mode-frames-between-render",20),q.add("esri-force-performance-mode",!1),q.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in globalThis,e=globalThis.crossOriginIsolated===!1;return t&&!e}),q.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),q.add("esri-atomics","Atomics"in globalThis),q.add("esri-workers","Worker"in globalThis),q.add("web-feat:cache","caches"in globalThis),q.add("esri-workers-arraybuffer-transfer",!q("safari")||Number(q("safari"))>=12),q.add("workers-pool-size",8),q.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),q.add("featurelayer-simplify-payload-size-factors",[1,1,4]),q.add("featurelayer-fast-triangulation-enabled",!0),q.add("featurelayer-animation-enabled",!0),q.add("featurelayer-snapshot-enabled",!0),q.add("featurelayer-snapshot-initial-tolerance",0),q.add("featurelayer-snapshot-point-min-threshold",8e4),q.add("featurelayer-snapshot-point-max-threshold",4e5),q.add("featurelayer-snapshot-multipoint-min-threshold",2e4),q.add("featurelayer-snapshot-multipoint-max-threshold",1e5),q.add("featurelayer-snapshot-polygon-min-threshold",1e3),q.add("featurelayer-snapshot-polygon-max-threshold",2e3),q.add("featurelayer-snapshot-polyline-min-threshold",1e3),q.add("featurelayer-snapshot-polyline-max-threshold",2e3),q.add("featurelayer-snapshot-max-vertex-count",25e4),q.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),q.add("featurelayer-snapshot-concurrency",4),q.add("featurelayer-snapshot-coverage",.1),q.add("featurelayer-query-max-depth",4),q.add("featurelayer-query-pausing-enabled",!1),q.add("featurelayer-query-tile-concurrency",4),q.add("featurelayer-query-tile-max-features",6e5),q.add("featurelayer-advanced-symbols",!1),q.add("featurelayer-pbf",!0),q.add("featurelayer-pbf-statistics",!1),q.add("feature-layers-workers",!0),q.add("feature-polyline-generalization-factor",1),q.add("mapview-transitions-duration",200),q.add("mapview-essential-goto-duration",200),q.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),q.add("mapserver-pbf-version-support",10.81),q.add("mapservice-popup-identify-max-tolerance",20),q.add("request-queue-concurrency-hosted",16),q.add("request-queue-concurrency-non-hosted",4),q.add("curve-densification-coarse-segments",128),q.add("curve-densification-max-segments",2e3),q.add("curve-densification-min-segments",3),q.add("curve-densification-pixel-deviation",.5),q.add("view-readyState-waiting-delay",1e3),q.add("gradient-depth-bias",.01),q.add("gradient-depth-epsilon",1e-8),q.add("enable-feature:esri-compress-textures",!0),q("host-webworker")||q("host-browser")&&(q.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),q.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{q.add("esri-image-decode",!0,!0,!0)}).catch(()=>{q.add("esri-image-decode",!1,!0,!0)})}return!1}),q.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function RYe(t){}function pfe(t){return()=>t}function OYe(t){return t}var mn;let bP=(mn=class{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*mn._m}getInt(){return this._seed=(mn._a*this._seed+mn._c)%mn._m,this._seed}getFloat(){return this.getInt()/(mn._m-1)}getIntRange(e,i){return Math.round(this.getFloatRange(e,i))}getFloatRange(e,i){const r=i-e;return e+this.getInt()/mn._m*r}},mn._m=2147483647,mn._a=48271,mn._c=0,mn);const mfe=1.5,FYe=1/mfe,NYe=.5;function vP(t,e){return e?t.filter((i,r,s)=>s.findIndex(e.bind(null,i))===r):Array.from(new Set(t))}function yfe(t,e,i,r,s,n,a){if(t==null&&r==null)return!0;e=Math.max(0,e),s=Math.max(0,s),i=Math.max(0,i<0?((t==null?void 0:t.length)??0)+i:i),n=Math.max(0,n<0?((r==null?void 0:r.length)??0)+n:n);const o=i-e;if(t==null||r==null||o!==n-s)return!1;if(a){for(let l=0;l<o;l++)if(!a(t[e+l],r[s+l]))return!1}else for(let l=0;l<o;l++)if(t[e+l]!==r[s+l])return!1;return!0}function w7(t,e,i){return yfe(t,0,(t==null?void 0:t.length)??0,e,0,(e==null?void 0:e.length)??0,i)}function VF(t,e,i){let r,s;return i?(r=e.filter(n=>!t.some(a=>i(a,n))),s=t.filter(n=>!e.some(a=>i(a,n)))):(r=e.filter(n=>!t.includes(n)),s=t.filter(n=>!e.includes(n))),{added:r,removed:s}}function DYe(t){return t&&typeof t.length=="number"}let tZ=class{constructor(){this.last=0}};const iZ=new tZ;function UT(t,e,i,r){r=r||iZ;const s=Math.max(0,r.last-10);for(let a=s;a<i;++a)if(t[a]===e)return r.last=a,a;const n=Math.min(s,i);for(let a=0;a<n;++a)if(t[a]===e)return r.last=a,a;return-1}function gfe(t,e,i,r){const s=t.length,n=UT(t,e,s,r);if(n!==-1)return t[n]=t[s-1],t.pop(),e}const io=new Set;function bfe(t,e,i=t.length,r=e.length,s,n){if(r===0||i===0)return i;io.clear();for(let o=0;o<r;++o)io.add(e[o]);s=s||iZ;const a=Math.max(0,s.last-10);for(let o=a;o<i;++o)if(io.has(t[o])&&(n==null||n.push(t[o]),io.delete(t[o]),t[o]=t[i-1],--i,--o,io.size===0||i===0))return io.clear(),i;for(let o=0;o<a;++o)if(io.has(t[o])&&(n==null||n.push(t[o]),io.delete(t[o]),t[o]=t[i-1],--i,--o,io.size===0||i===0))return io.clear(),i;return io.clear(),i}function Ib(t,e,i){const r=t.length;if(e>=r)return t.slice();const s=wP(i),n=new Set,a=[];for(;a.length<e;){const o=Math.floor(s()*r);n.has(o)||(n.add(o),a.push(t[o]))}return a}function wP(t){return t?(jF.seed=t,()=>jF.getFloat()):Math.random}const jF=new bP;function rZ(t,e){if(!t)return t;const i=wP(e);for(let r=t.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=t[r];t[r]=t[s],t[s]=n}return t}function _P(t,e){const i=t.indexOf(e);return i!==-1?(t.splice(i,1),e):null}function Kt(t,e){return t!=null}const VYe=[];function jYe(t){return t instanceof ArrayBuffer}function SP(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int8Array"}function sZ(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8Array"}function nZ(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8ClampedArray"}function xP(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int16Array"}function aZ(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint16Array"}function $P(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int32Array"}function oZ(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint32Array"}function vfe(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float16Array"}function _7(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float32Array"}function S7(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float64Array"}function lZ(t){return"buffer"in t}const cZ=1024;function qYe(t){return S7(t)||_7(t)||$P(t)||xP(t)||SP(t)}function BYe(t){return S7(t)||_7(t)}function UYe(t){return S7(t)?179769e303:vfe(t)?65504:_7(t)?3402823e32:oZ(t)?4294967295:aZ(t)?65535:sZ(t)||nZ(t)?255:$P(t)?2147483647:xP(t)?32767:SP(t)?127:256}const GYe=-32768,HYe=-2147483648;function wfe(t,e){let i;for(i in t)t.hasOwnProperty(i)&&t[i]===void 0&&delete t[i];return t}function z(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=fZ(t);if(e!=null)return e;if(n4(t))return t.clone();if(uZ(t))return t.map(z);if(dZ(t))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(t))i[r]=z(t[r]);return i}function GT(t){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const e=fZ(t);if(e!=null)return e;if(uZ(t)){let r=!0;const s=t.map(n=>{const a=GT(n);return n!=null&&a==null&&(r=!1),a});return r?s:null}if(n4(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(dZ(t))return null;const i=new(Object.getPrototypeOf(t)).constructor;for(const r of Object.getOwnPropertyNames(t)){const s=t[r],n=GT(s);if(s!=null&&n==null)return null;i[r]=n}return i}function n4(t){return typeof t.clone=="function"}function uZ(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function dZ(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function qF(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function fZ(t){if(SP(t)||sZ(t)||nZ(t)||xP(t)||aZ(t)||$P(t)||oZ(t)||_7(t)||S7(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[i,r]of t)e.set(i,z(r));return e}if(t instanceof Set){const e=new Set;for(const i of t)e.add(z(i));return e}return null}function TP(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof(t==null?void 0:t.getTime)=="function"&&typeof(e==null?void 0:e.getTime)=="function"&&t.getTime()===e.getTime()||!1}function hZ(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&w7(t,e):t instanceof Set?e instanceof Set&&Sfe(t,e):t instanceof Map?e instanceof Map&&xfe(t,e):!!qF(t)&&qF(e)&&_fe(t,e))}function _fe(t,e){if(t===null||e===null)return!1;const i=Object.keys(t);if(e===null||Object.keys(e).length!==i.length)return!1;for(const r of i)if(t[r]!==e[r]||!Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}function Sfe(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function xfe(t,e){if(t.size!==e.size)return!1;for(const[i,r]of t){const s=e.get(i);if(s!==r||s===void 0&&!e.has(i))return!1}return!0}function IP(t,e,i=!1){return mZ(t,e,i)}function V_(t,e){if(e!=null)return e[t]||pZ(t.split("."),!1,e)}function ti(t,e,i){const r=t.split("."),s=r.pop(),n=pZ(r,!0,i);n&&s&&(n[s]=e)}function BF(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const i=e;if(t.length!==i.length)return!0;for(let r=0;r<t.length;r++)if(BF(t[r],i[r]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in t)if(BF(t[i],e[i]))return!0;return!1}return t!==e}function pZ(t,e,i){let r=i;for(const s of t){if(r==null)return;if(!(s in r)){if(!e)return;r[s]={}}r=r[s]}return r}function mZ(t,e,i){return e?Object.keys(e).reduce((r,s)=>{if(s==="__proto__")return r;let n=r[s],a=e[s];return n===a?r:n===void 0?(r[s]=z(a),r):(Array.isArray(a)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],a&&(Array.isArray(a)||(a=[a]),i?a.forEach(o=>{n.includes(o)||n.push(o)}):r[s]=a.slice())):a&&typeof a=="object"?r[s]=mZ(n,a,i):r.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(r[s]=a),r)},t||{}):t}var mW;const ut={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:(mW=globalThis.location)==null?void 0:mW.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(IP(ut,globalThis.esriConfig,!0),delete ut.has),!ut.assetsPath){{const t="4.33";ut.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}ut.defaultAssetsPath=ut.assetsPath}const $fe=/\{([^}]+)\}/g;function UF(t){return t??""}function En(t,e){return e?t.replaceAll($fe,typeof e=="object"?(i,r)=>UF(V_(r,e)):(i,r)=>UF(e(r))):t}function WYe(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>e!=null&&e.includes(i)?i:`\\${i}`)}function yZ(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}let GF;function Pw(t){return GF??(GF=new DOMParser),GF.parseFromString(t||"","text/html").body.innerText||""}function HF(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function ZYe(t,...e){let i=t[0];for(let r=0;r<e.length;++r)i+=e[r]+t[r+1];return i}const WF={info:0,warn:1,error:2,none:3};var Yi;let W=(Yi=class{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Yi._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Yi.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Yi._loggers.get(e)||new Yi({module:e})}_log(e,i,...r){if(this._matchLevel(e)){if(i!=="always"&&!Yi._throttlingDisabled){const s=Ife(r),n=this._loggedMessages[e].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=Yi._tickCounter)return;this._loggedMessages[e].set(s,Yi._tickCounter),Yi._scheduleTickCounterIncrement()}for(const s of ut.log.interceptors)if(s(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,i){let r=this;for(;r!=null;){const s=r[e];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",Tfe)}_matchLevel(e){const i=ut.log.level||"warn";return WF[this._parentWithMember("level",i)]<=WF[e]}static _scheduleTickCounterIncrement(){Yi._tickCounterScheduled||(Yi._tickCounterScheduled=!0,Promise.resolve().then(()=>{Yi._tickCounter++,Yi._tickCounterScheduled=!1}))}},Yi._loggers=new Map,Yi._tickCounter=0,Yi._tickCounterScheduled=!1,Yi._throttlingDisabled=!1,Yi);function Tfe(t,e,...i){console[t](`[${e}]`,...i)}function Ife(...t){return yZ(JSON.stringify(t,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}const Efe={remove:()=>{}};function ht(t){return t?{remove(){t&&(t(),t=void 0)}}:Efe}function gZ(t){t.forEach(e=>e==null?void 0:e.remove())}function JYe(t){gZ(t),t.length=0}function r0(t){return ht(()=>gZ(t))}function YYe(t){return ht(()=>{var e;return(e=t())==null?void 0:e.remove()})}function XYe(t){return ht(()=>t==null?void 0:t.abort())}function QYe(t){return ht(t!=null?()=>t.destroy():void 0)}function Mfe(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function KYe(t){Mfe(t)&&t.remove()}function eXe(t){return{[Symbol.dispose](){t.remove()}}}function Ys(t){return t.__accessor__??null}function Cfe(t,e){var i;return((i=t==null?void 0:t.metadata)==null?void 0:i[e])!=null}function b9(t,e,i){return i?a4(t,e,{policy:i,path:""}):a4(t,e,null)}function a4(t,e,i){return e?Object.keys(e).reduce((r,s)=>{const n=s;if(n==="__proto__")return r;let a=null,o="merge";if(i&&(a=i.path?`${i.path}.${s}`:s,o=i.policy(a)),o==="replace"||o==="replace-arrays"&&Array.isArray(r[n]))return r[n]=e[n],r;if(r[n]===void 0)return r[n]=z(e[n]),r;let l=r[n],u=e[n];if(l===u)return r;if(Array.isArray(u)||Array.isArray(r))l=l?Array.isArray(l)?r[n]=l.slice():r[n]=[l]:r[n]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach(d=>{l.includes(d)||l.push(d)}));else if(u&&typeof u=="object")if(i){const d=i.path;i.path=a,r[n]=a4(l,u,i),i.path=d}else r[n]=a4(l,u,null);else r.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(r[n]=u);return r},t||{}):t}function bZ(t){return Array.isArray(t)?t:t.split(".")}function ZF(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function kfe(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...ZF(i));return e}return ZF(t)}function vZ(t,e,i,r){const s=kfe(e);if(s.length!==1){const n=s.map(a=>r(t,a,i));return r0(n)}return r(t,s[0],i)}const ni={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let x7=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){var e;(e=this.accessed)==null||e.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const o4=new x7,Ev=[];let H2=o4;function Ee(t){H2.onAccessed(t)}let v9=!1,w9=!1;function Oc(t,e,i){if(v9)return EP(t,e,i);let r=null;return wZ(t),r=e.call(i),_Z(),r}function Afe(t,e){return Oc(o4,t,e)}function EP(t,e,i){const r=v9;v9=!0,wZ(t);let s=null;try{s=e.call(i)}catch(n){w9&&W.getLogger("esri.core.accessorSupport.tracking").error(n)}return _Z(),v9=r,s}function wZ(t){H2=t,Ev.push(t)}function _Z(){const t=Ev.length;if(t>1){const e=Ev.pop();H2=Ev[t-2],e.onTrackingEnd()}else if(t===1){const e=Ev.pop();H2=o4,e.onTrackingEnd()}else H2=o4}function SZ(t,e){if(e.flags&ni.DepTrackingInitialized)return;e.flags|=ni.DepTrackingInitialized;const i=w9;w9=!1,e.flags&ni.AutoTracked?EP(e.trackingTarget,e.metadata.get,t):xZ(t,e),w9=i}const Pfe=[];function xZ(t,e){e.flags&ni.ExplicitlyTracking||(e.flags|=ni.ExplicitlyTracking,EP(e.trackingTarget,()=>{const i=e.metadata.dependsOn||Pfe;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=bZ(r);for(let n=0,a=t;n<s.length&&a!=null&&typeof a=="object";++n)a=JF(a,s[n],n!==s.length-1)}else JF(t,r,!1)}),e.flags&=-129)}function JF(t,e,i){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const s=Ys(t);if(s){const n=s.propertiesByName.get(r);n&&(Ee(n),SZ(t,n))}return i?t[r]:void 0}let Lfe=class{constructor(e,i){this._observers=e,this._observer=i}remove(){_P(this._observers,this._observer)}},$Z=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return Rfe;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let a=0;a<n;++a){const o=i[a];if(o.destroyed)s=!0;else if(o===e){r=!0;break}}return r||(i.push(e),s&&this._removeDestroyedObservers()),new Lfe(i,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const i=e.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&e[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;e[s]=e[s+r]}}e.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const i of e)i.onCommitted();this._observers=null}}};const Rfe=ht();let r1=class extends $Z{notify(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}},Ofe=class{constructor(e,i){this._observable=new r1,this._value=e,this._equalityFunction=i}get value(){return Ee(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function Vm(t,e=hZ){return new Ofe(t,e)}let j_=class extends x7{constructor(e){super(new Ffe(e)),this._observer&&YF.register(this,new WeakRef(this._observer),this)}destroy(){var e,i;this._observer&&YF.unregister(this._observer),(e=this.accessed)==null||e.clear(),this.clear(),(i=this._observer)==null||i.destroy()}},Ffe=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=Nfe}};const YF=new FinalizationRegistry(t=>{var e;(e=t.deref())==null||e.destroy()});function Nfe(){}function Dfe(t,e){return Vm(t,e)}function TZ(){return new r1}function zfe(t){return new j_(t)}function IZ(t){Ee(t)}function Vfe(t,e){return Oc(t,e)}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const q_=JW({defaultAssetPath:"https://js.arcgis.com/4.33/map-components/",hydratedAttribute:"hydrated"}),{customElement:gd,getAssetPath:EZ,setAssetPath:lXe}=q_;q_.t=IZ;q_.o=TZ;q_.c=zfe;q_.r=Vfe;function $7(t){return jfe(t)||MZ(t)}function jfe(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function MZ(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function s1(t,e,i){if(!$7(t))throw new TypeError("target is not a Evented or EventTarget object");return MZ(t)?qfe(t,e,i):t.on(e,i)}function qfe(t,e,i,r){if(Array.isArray(e)){const s=e.slice();for(const n of s)t.addEventListener(n,i,r);return ht(()=>{for(const n of s)t.removeEventListener(n,i,r)})}return t.addEventListener(e,i,r),ht(()=>t.removeEventListener(e,i,r))}function CZ(t,e,i){if(!$7(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const r=s1(t,e,s=>{r.remove(),i.call(t,s)});return r}function n1(t,e){if(t==null)throw new Error(e??"value is None")}function Lt(t){return t==null||t.destroy(),null}function cXe(t){return t==null||t.dispose(),null}function oi(t){return t==null||t.remove(),null}function bs(t){return t==null||t.abort(),null}function uXe(t){return t==null||t.release(),null}function Bfe(t,e,i){return t!=null&&e!=null?i!=null?i(t,e):t.equals(e):t===e}function Ufe(t,e){let i;return t.some((r,s)=>(i=e(r,s),i!=null)),i??void 0}function Gfe(t){return{setTimeout:(e,i)=>{const r=t.setTimeout(e,i);return ht(()=>t.clearTimeout(r))}}}const a1=Gfe(globalThis);function Hfe(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(V_(r,e)??"").toString())}let kZ=class{constructor(e,i,r=void 0){this.name=e,this.details=r,this.message=(i&&Hfe(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},P=class AZ extends kZ{constructor(e,i,r){super(e,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return z(i)}catch{return"[object]"}}))}}catch(e){throw W.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new AZ(e.name,e.message,e.details)}};P.prototype.type="error";function jt(t="Aborted"){return new P("AbortError",t)}function ze(t,e="Aborted"){if(Ya(t))throw jt(e)}function B_(t){return t instanceof AbortSignal?t:(t==null?void 0:t.signal)??void 0}function Ya(t){const e=B_(t);return e!=null&&e.aborted}function Nl(t){if(tr(t))throw t}function XF(t){if(!tr(t))throw t}function Zo(t,e){const i=B_(t);if(i!=null){if(!i.aborted)return CZ(i,"abort",()=>e());e()}}function MP(t,e){const i=B_(t);if(i!=null)return ze(i),CZ(i,"abort",()=>e(jt()))}function CP(t,e){return B_(e)==null?t:new Promise((i,r)=>{let s=Zo(e,()=>r(jt()));const n=()=>{s=oi(s)};t.then(n,n),t.then(i,r)})}function tr(t){return(t==null?void 0:t.name)==="AbortError"}async function Mc(t){try{return await t}catch(e){if(!tr(e))throw e;return}}async function ld(t){if(!t)return;if(typeof t.forEach!="function"){const i=Object.keys(t),r=i.map(a=>t[a]),s=await ld(r),n={};return i.map((a,o)=>n[a]=s[o]),n}const e=t;return Promise.allSettled(e).then(i=>Array.from(e,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function Wfe(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function fXe(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function kP(t,e=void 0,i){const r=new AbortController;return Zo(i,()=>r.abort()),new Promise((s,n)=>{let a=setTimeout(()=>{a=0,s(e)},t);Zo(r,()=>{a&&(clearTimeout(a),n(jt()))})})}function PZ(t,e,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s==null||s.abort()},e);const a=()=>r||new P("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(o=>{if(n===0)throw a();return clearTimeout(n),o},o=>{throw clearTimeout(n),n===0?a():o})}function Zfe(t,e){const i=new AbortController,r=setTimeout(()=>i.abort(),e);return Zo(t,()=>{i.abort(),clearTimeout(r)}),{...t,signal:i.signal}}function qc(t){return t&&typeof t.then=="function"}function HT(t){return qc(t)?t:Promise.resolve(t)}function Cc(t,e=-1){let i,r,s,n,a=null;const o=(...l)=>{if(i){r=l,n&&n.reject(jt()),n=Mn();const p=n.promise;if(a){const m=a;a=null,m.abort()}return p}if(s=n||Mn(),n=null,e>0){const p=new AbortController;i=HT(t(...l,p.signal));const m=i;kP(e).then(()=>{i===m&&(n?p.abort():a=p)})}else i=1,i=HT(t(...l));const u=()=>{const p=r;r=s=i=a=null,p!=null&&o(...p)},d=i,h=s;return d.then(u,u),d.then(h.resolve,h.reject),h.promise};return o}function Mn(){let t,e;const i=new Promise((s,n)=>{t=s,e=n}),r=s=>{t(s)};return r.resolve=s=>t(s),r.reject=s=>e(s),r.timeout=(s,n)=>a1.setTimeout(()=>r.reject(n),s),r.promise=i,r}function hXe(t,e){e.then(t.resolve,t.reject)}async function QF(t){await Promise.resolve(),ze(t)}function Jfe(t){return(t==null?void 0:t.release)&&typeof t.release=="function"}function Yfe(t){return(t==null?void 0:t.acquire)&&typeof t.acquire=="function"}var Qf;let _h=(Qf=class{constructor(e,i,r,s=1,n=0){this._ctor=e,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let a=0;a<n;a++)this._pool[a]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...e){let i;if(Qf.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...e):Yfe(i)&&i.acquire(...e),i}release(e){e&&!Qf.test.disabled&&(this._releaseFunction?this._releaseFunction(e):Jfe(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let i=e;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}},Qf.test={disabled:!1},Qf);function Xfe(t){t.length=0}let Vs=class{constructor(e=50,i=50){this._pool=new _h(Array,void 0,Xfe,i,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return mx.acquire()}static release(e){return mx.release(e)}static prune(){mx.prune()}};const mx=new Vs(100);let LZ=class extends _h{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const i=super.acquire(...e);return this._set.delete(i),i}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const O3=[];function l4(t){O3.push(t),O3.length===1&&queueMicrotask(()=>{const e=O3.slice();O3.length=0;for(const i of e)i()})}let W2=class{constructor(e,i=30){this.name=e,this._counter=0,this._samples=new Array(i)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,i)=>e-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,i)=>e+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var WT;(function(t){const e=(n,a,o,l)=>{let u=a,d=a;const h=o>>>1,p=n[u-1];for(;d<=h;){d=u<<1,d<o&&l(n[d-1],n[d])<0&&++d;const m=n[d-1];if(l(m,p)<=0)break;n[u-1]=m,u=d}n[u-1]=p},i=(n,a)=>n<a?-1:n>a?1:0;function r(n,a,o,l){a===void 0&&(a=0),o===void 0&&(o=n.length),l===void 0&&(l=i);for(let d=o>>>1;d>a;d--)e(n,d,o,l);const u=a+1;for(let d=o-1;d>a;d--){const h=n[a];n[a]=n[d],n[d]=h,e(n,u,d,l)}}function*s(n,a,o,l){a===void 0&&(a=0),o===void 0&&(o=n.length),l===void 0&&(l=i);for(let d=o>>>1;d>a;d--)e(n,d,o,l),yield;const u=a+1;for(let d=o-1;d>a;d--){const h=n[a];n[a]=n[d],n[d]=h,e(n,u,d,l),yield}}t.sort=r,t.iterableSort=s})(WT||(WT={}));const KF=WT,Qfe=1.5,Kfe=1.1;let Z2=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new tZ,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>eN(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];e(s)&&i.push(s)}return i}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,i){const r=this.data.indexOf(e,i);return r!==-1&&r<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let i=e;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,i=e.length){for(let r=0;r<i;r++)this.data[this._length++]=e[r]}fill(e,i){for(let r=0;r<i;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,eN(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const i=UT(this.data,e,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(UT(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,i=e.length,r){this.length=bfe(this.data,e,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,i){if(e>=this.length||i>=this.length||e===i)return;const r=this.data[e];this.data[e]=this.data[i],this.data[i]=r}sort(e){KF.sort(this.data,0,this.length,e)}iterableSort(e){return KF.iterableSort(this.data,0,this.length,e)}some(e,i){for(let r=0;r<this.length;++r)if(e.call(i,this.data[r],r,this.data))return!0;return!1}find(e,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(e.call(i,r[n]))return r[n]}filterInPlace(e,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];e.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(e,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)e.call(i,r[n],n,r)}forEach(e,i){this.data.slice(0,this.length).forEach(e,i)}map(e,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=e.call(i,this.data[s],s,this.data);return r}reduce(e,i){let r=i;for(let s=0;s<this.length;++s)r=e(r,this.data[s],s,this.data);return r}has(e){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function eN(t){t.data.length>Qfe*t.length&&(t.data.length=Math.floor(t.length*Kfe))}function bXe(t){return t}function ehe(t){return 1e3*t}function vXe(t){return t}function wXe(t){return .001*t}let the=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},ihe=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},ZT=0;const V1={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},JT=["prepare","preRender","render","postRender","update","finish"],YT=[],jm=new Z2;let rhe=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,RZ()}};function she(){ym!=null&&(cancelAnimationFrame(ym),ym=requestAnimationFrame(AP))}function RZ(){ym==null&&(ZT=performance.now(),ym=requestAnimationFrame(AP))}const c4={frameTasks:jm,willDispatch:!1,clearFrameTasks:nhe,dispatch:FZ,executeFrameTasks:ahe,reschedule:she};function U_(t){const e=new ihe(t);return YT.push(e),c4.willDispatch||(c4.willDispatch=!0,l4(FZ)),e}function Eb(t){const e=new the(t);return jm.push(e),RZ(),new rhe(e)}let ym=null;function nhe(t=!1){jm.forAll(e=>{e.removed=!0}),t&&OZ()}function AP(){const t=performance.now();ym=null,ym=jm.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(AP):null,c4.executeFrameTasks(t)}function ahe(t){const e=t-ZT;ZT=t;const i=1e3/60,r=Math.max(0,e-i);V1.time=t,V1.frameDuration=i-r;for(let s=0;s<JT.length;s++){const n=performance.now(),a=JT[s];jm.forAll(o=>{var l;o.paused||o.removed||(s===0&&o.ticks++,o.phases[a]&&(V1.elapsedFrameTime=performance.now()-t,V1.deltaTime=o.ticks===0?0:e,(l=o.phases[a])==null||l.call(o,V1)))}),uhe[s].push(performance.now()-n)}OZ(),dhe.push(performance.now()-t)}const F3=new Z2;function OZ(){jm.forAll(t=>{t.removed&&F3.push(t)}),jm.removeUnorderedMany(F3.data,F3.length),F3.clear()}function FZ(){for(;YT.length;){const t=YT.shift();t.isActive&&t.callback()}c4.willDispatch=!1}function ohe(t=1,e){const i=Mn(),r=()=>{Ya(e)?i.reject(jt()):t===0?i():(--t,l4(()=>r()))};return r(),i.promise}function lhe(t){return ohe(1,t)}async function che(t){await lhe(t),await new Promise(e=>requestAnimationFrame(()=>{t!=null&&t.aborted||e()}))}const uhe=JT.map(t=>new W2(t)),dhe=new W2("total");function NZ(t,e){for(const i of t.values())if(e(i))return!0;return!1}function u4(t,e){if(!e)return t;for(const i of e)i!=null&&t.add(i);return t}function tN(t,e){return e!=null&&t.add(e),t}function PP(t,e){const i=new Set;return u4(i,t),u4(i,e),i}function fhe(t,e){const i=new Set;for(const r of e)t.has(r)&&i.add(r);return i}function $Xe(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const i of t)if(!e.has(i))return!1;return!0}function TXe(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function hhe(t,e){const i=new Set(t);for(const r of e)i.delete(r);return i}function phe(t,e){return hhe(PP(t,e),fhe(t,e))}let mhe=0;function _9(){return++mhe}function DZ(t,e){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const r=Ys(e);return Cfe(r,i)?r.get(i):e[i]}function zZ(t,e,i){if(t==null)return t;const r=DZ(e[i],t);return!r&&i<e.length-1?void 0:i===e.length-1?r:zZ(r,e,i+1)}function G_(t,e,i=0){return typeof e!="string"||e.includes(".")?zZ(t,bZ(e),i):DZ(e,t)}function _s(t,e){return G_(t,e)}function iN(t,e){return G_(e,t)!==void 0}const ta={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};let wg=!1;const d4=[];function VZ(t,e){let i=new j_(n),r=null,s=!1;function n(){if(!i||s)return;if(wg)return void BZ(n);const o=r;i.clear(),wg=!0,s=!0,r=Oc(i,t),s=!1,wg=!1,e(r,o),UZ()}function a(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=Oc(i,t),s=!1,ht(a)}function jZ(t,e){let i=new j_(s),r=null;function s(){e(r,a)}function n(){i&&(i.destroy(),i=null),r=null}function a(){return i?(i.clear(),r=Oc(i,t),r):null}return a(),ht(n)}function qZ(t,e){let i=!1,r=!1;const s=!!(e!=null&&e.sync);let n=new j_(()=>{i||r||(r=!0,s?a():queueMicrotask(a))});function a(){r=!1,n&&!i&&(wg?BZ(a):(n.clear(),wg=!0,i=!0,Oc(n,t),i=!1,wg=!1,UZ()))}function o(){n&&(n.destroy(),n=null)}return i=!0,Oc(n,t),i=!1,ht(o)}function BZ(t){d4.includes(t)||d4.unshift(t)}function UZ(){for(;d4.length;)d4.pop()()}var J2;(function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"})(J2||(J2={}));var Mm;let LP=(Mm=class{constructor(){this.uid=_9(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,i,r,s,n){return this.pool.acquire(J2.Untracked,e,i,r,s,n,TP)}static acquireTracked(e,i,r,s){return this.pool.acquire(J2.Tracked,e,i,r,null,null,s)}notify(e,i){this.type===J2.Untracked?this.callback.call(this.target,e,i,this.path,this.target):this.callback.call(null,e,i,void 0,void 0)}acquire(e,i,r,s,n,a,o){this.uid=_9(),this.removed=!1,this.type=e,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=a,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=_9(),this.removed=!0}},Mm.pool=new LZ(Mm),Mm);const S9=new Vs,id=new Set;let f4;function h4(t){id.delete(t),id.add(t),f4||(f4=U_(bhe))}function yhe(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function ghe(t){for(const e of id.values())e.target===t&&(e.removed=!0)}function bhe(){let t=10;for(;f4&&t--;){f4=null;const e=vhe(),i=S9.acquire();for(const r of e){const s=r.uid;yhe(r),s===r.uid&&r.removed&&i.push(r)}for(const r of id)r.removed&&(i.push(r),id.delete(r));for(const r of i)LP.pool.release(r);S9.release(i),S9.release(e),XT.forEach(r=>r())}}function vhe(){const t=S9.acquire();t.length=id.size;let e=0;for(const i of id)t[e]=i,++e;return id.clear(),t}const XT=new Set;function whe(t){return XT.add(t),ht(()=>XT.delete(t))}function _he(t,e,i){let r=vZ(t,e,i,(s,n,a)=>{let o,l,u=jZ(()=>G_(s,n),(d,h)=>{var p;((p=s.__accessor__)==null?void 0:p.lifecycle)===ta.DESTROYED||o&&o.uid!==l?r.remove():(o||(o=LP.acquireUntracked(d,a,h,s,n),l=o.uid),h4(o))});return ht(()=>{u.remove(),o&&(o.uid!==l||o.removed||(o.removed=!0,h4(o)),o=null),r=u=null})});return r}function She(t,e,i){const r=vZ(t,e,i,(s,n,a)=>{let o=!1;return VZ(()=>G_(s,n),(l,u)=>{s.__accessor__.lifecycle!==ta.DESTROYED?o||(o=!0,TP(u,l)||a.call(s,l,u,n,s),o=!1):r.remove()})});return r}function xhe(t,e,i,r=!1){return t.__accessor__&&t.__accessor__.lifecycle!==ta.DESTROYED?r?She(t,e,i):_he(t,e,i):ht()}function $he(t,e,i){let r,s,n=jZ(t,(a,o)=>{r&&r.uid!==s?n.remove():(r||(r=LP.acquireTracked(a,e,o,i),s=r.uid),h4(r))});return ht(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,h4(r)),r=null),n=null})}function The(t,e,i){let r=!1;return VZ(t,(s,n)=>{r||(r=!0,i(n,s)||e(s,n),r=!1)})}function Ihe(t,e,i=!1,r=hZ){return i?The(t,e,r):$he(t,e,r)}function rN(t){return NZ(id,e=>e.oldValue===t)}function Y(t,e,i={}){return RP(t,e,i,GZ)}function ir(t,e,i={}){return RP(t,e,i,HZ)}function RP(t,e,i={},r){let s=null;const n=i.once?(a,o)=>{r(a)&&(oi(s),e(a,o))}:(a,o)=>{r(a)&&e(a,o)};if(s=Ihe(t,n,i.sync,i.equals),i.initial){const a=t();n(a,a)}return s}function wr(t,e,i,r={}){let s=null,n=null,a=null;function o(){var d;s&&n&&(n.remove(),(d=r.onListenerRemove)==null||d.call(r,s),s=null,n=null)}function l(d){r.once&&r.once&&oi(a),i(d)}const u=Y(t,(d,h)=>{var p;o(),$7(d)&&(s=d,n=s1(d,e,l),(p=r.onListenerAdd)==null||p.call(r,d))},{sync:r.sync,initial:!0});return a=ht(()=>{u.remove(),o()}),a}function cd(t,e){return Ehe(t,HZ,e)}function Ehe(t,e,i){if(Ya(i))return Promise.reject(jt());const r=t();if(e!=null&&e(r))return Promise.resolve(r);let s=null;function n(){s=oi(s)}return new Promise((a,o)=>{s=r0([Zo(i,()=>{n(),o(jt())}),RP(t,l=>{n(),a(l)},{sync:!1,once:!0},e??GZ)])})}function GZ(t){return!0}function HZ(t){return!!t}function IXe(t,e,i={}){let r=!1;const s=Y(t,(n,a)=>{r||e(n,a)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}const Fc={sync:!0},Le={initial:!0},zs={sync:!0,initial:!0},H_=t=>(...e)=>{const i=uP(),r=new t(...e),s=r.exports;cP(i.at(-1));const n=r.component.manager;n.W(r,s),r.watchExports(n.W.bind(n,r)),Lde(r);const a=[r.component,...i].reverse();return pP(a,o=>o===void 0?void 0:Mhe(r,o,s),s)},Mhe=(t,{host:e,key:i,isReactive:r},s)=>{var h;const n=e,a=n[i]!==t.exports,o=n[i]!==s,l=s!==t.exports;if(a&&!o&&l&&(n[i]=t.exports),e===t.component){if(r){const p=t.component.manager;o&&p.W(t,n[i]),t.onUpdate(m=>{if(m.has(i)){const g=n[i];g!==t.exports&&p.W(t,g)}})}t.O=r?void 0:i}const d=(h=t.component.constructor.elementProperties.get(i))==null?void 0:h.readOnly;t.watchExports(()=>{n[i]!==t.exports&&(d?Nde(()=>{n[i]=t.exports}):n[i]=t.exports)})};function Che(t,e){for(const i of t.values())if(e(i))return!0;return!1}function EXe(t,e){for(const i of t.values())if(e(i))return i;return null}function bd(t,e,i){const r=t.get(e);if(r!==void 0)return r;const s=i();return t.set(e,s),s}function MXe(t){const e=new Map;return i=>(e.has(i)||e.set(i,t(i)),e.get(i))}const gm=()=>W.getLogger("esri.core.accessorSupport.ensureTypes");function khe(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(gm().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function Ahe(t){return t==null?t:!!t}function W_(t){return t==null?t:t.toString()}function js(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function OP(t){return t==null?t:Math.round(parseFloat(t))}function Phe(t){return null}function Lhe(t,e){return i=>{let r=t(i);return e.step!=null&&(r=Math.round(r/e.step)*e.step),e.min!=null&&(r=Math.max(e.min,r)),e.max!=null&&(r=Math.min(e.max,r)),r}}function WZ(t){return(t==null?void 0:t.constructor)&&t.constructor.__accessorMetadata__!==void 0}function p4(t,e){return e!=null&&t&&!(e instanceof t)}function ZZ(t){return t&&"isCollection"in t}function sN(t){return t!=null&&t.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function Rhe(t,e){if(!(e!=null&&e.constructor)||!ZZ(e.constructor))return QT(t,e)?e:new t(e);const i=sN(t.prototype.itemType),r=sN(e.constructor.prototype.itemType);return i?r?i===r?e:i.prototype.isPrototypeOf(r.prototype)?new t(e):(QT(t,e),e):new t(e):e}function QT(t,e){return!!WZ(e)&&(gm().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+T7(t)+"'"),!0)}function o1(t,e){return e==null?e:ZZ(t)?Rhe(t,e):p4(t,e)?QT(t,e)?e:new t(e):e}function T7(t){var e;return((e=t==null?void 0:t.prototype)==null?void 0:e.declaredClass)||"unknown"}const Ohe=new WeakMap;function Fhe(t){switch(t){case Number:return e=>js(e);case Ye:return OP;case Boolean:return Ahe;case String:return W_;case Date:return khe;case l1:return Phe;default:return bd(Ohe,t,()=>o1.bind(null,t))}}function Ft(t,e){const i=Fhe(t);return arguments.length===1?i:i(e)}function Lw(t,e,i){return arguments.length===1?Lw.bind(null,t):e&&(Array.isArray(e)?e.map(r=>t(r,i)):[t(e,i)])}function Nhe(t,e){return arguments.length===1?Lw(i=>Ft(t,i)):Lw(i=>Ft(t,i),e)}function JZ(t,e,i){return e!==0&&Array.isArray(i)?i.map(r=>JZ(t,e-1,r)):t(i)}function m4(t,e,i){if(arguments.length===2)return n=>m4(t,e,n);if(!i)return i;i=JZ(t,e,i);let r=e,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function Dhe(t,e,i){return arguments.length===2?m4(r=>Ft(t,r),e):m4(r=>Ft(t,r),e,i)}function YZ(t){return!!Array.isArray(t)&&!t.some(e=>{const i=typeof e;return!(i==="string"||i==="number"||i==="function"&&t.length>1)})}function KT(t,e){if(arguments.length===2)return KT(t).call(null,e);const i=new Set,r=t.filter(o=>typeof o!="function"),s=t.filter(o=>typeof o=="function");for(const o of t)typeof o!="string"&&typeof o!="number"||i.add(o);let n=null,a=null;return(o,l)=>{if(o==null)return o;const u=typeof o,d=u==="string"||u==="number";return d&&(i.has(o)||s.some(h=>u==="string"&&h===String||u==="number"&&h===Number))||u==="object"&&s.some(h=>!p4(o,h))?o:(d&&r.length?(n||(n=r.map(h=>typeof h=="string"?`'${h}'`:`${h}`).join(", ")),gm().error("Accessor#set",`'${o}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof o=="object"&&s.length?(a||(a=s.map(h=>T7(h)).join(", ")),gm().error("Accessor#set",`'${o}' is not a valid value for this property, value must be one of ${a}`)):gm().error("Accessor#set",`'${o}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Nc(t,e){if(arguments.length===2)return Nc(t).call(null,e);const i={},r=[],s=[];for(const l in t.typeMap){const u=t.typeMap[l];i[l]=Ft(u),r.push(T7(u)),s.push(l)}const n=()=>`'${r.join("', '")}'`,a=()=>`'${s.join("', '")}'`,o=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!p4(t.base,l)||l==null)return l;const u=o(l)||t.defaultKeyValue,d=i[u];if(!d)return gm().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!p4(t.typeMap[u],l))return l;if(typeof t.key=="string"&&!WZ(l)){const h={};for(const p in l)p!==t.key&&(h[p]=l[p]);return d(h)}return d(l)}}let Ye=class{},l1=class{};const AXe={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function zhe(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function XZ(t){switch(t.type){case"native":return Ft(t.value);case"array":return Lw(XZ(t.value));case"one-of":return Vhe(t);default:return null}}function Vhe(t){let e=null;return(i,r)=>tI(i,t)?i:(e==null&&(e=eI(t)),gm().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),r&&(r.valid=!1),null)}function eI(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Ye:return"integer";case Date:return"date";case l1:return"null";default:return T7(t.value)}case"array":return`array of ${eI(t.value)}`;case"one-of":{const e=t.values.map(i=>eI(i));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function tI(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case Ye:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case l1:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(i=>!tI(i,e.value));case"one-of":return e.values.some(i=>tI(t,i))}}function Z_(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){e=Object.create(e);for(const r in e)e[r]=z(e[r]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function J_(t,e){const i=Z_(t);let r=i[e];return r||(r=i[e]={}),r}function jhe(t,e){return b9(t,e,Bhe)}const qhe=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Bhe(t){return qhe.test(t)?"replace":"merge"}function y4(t,e,i){if(t&&e)if(typeof e=="object")for(const r of Object.getOwnPropertyNames(e))y4(t,r,e[r]);else{if(e.includes(".")){const s=e.split("."),n=s.splice(-1,1)[0];return void y4(_s(t,s),n,i)}const r=t.__accessor__;r!=null&&Uhe(e,r),t[e]=i}}function Uhe(t,e){if(q("esri-unknown-property-errors")&&!Ghe(t,e))throw new P("set:unknown-property",Hhe(t,e))}function Ghe(t,e){return e.metadata[t]!=null}function Hhe(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function f(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(e,i),s=J_(e,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in t&&W.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),s.value=t.value=r.value)),t.readOnly!=null&&(s.readOnly=t.readOnly);const n=t.aliasOf;if(n){const l=typeof n=="string"?n:n.source,u=typeof n=="string"?null:n.overridable===!0;let d;s.dependsOn=[l],s.get=function(){let h=_s(this,l);if(typeof h=="function"){d||(d=l.split(".").slice(0,-1).join("."));const p=_s(this,d);p&&(h=h.bind(p))}return h},s.readOnly||(s.set=u?function(h){this._override(i,h)}:function(h){y4(this,l,h)})}const a=t.type,o=t.types;if(!s.cast){let l;a?l=Whe(a):o&&(l=Array.isArray(o)?Lw(Nc(o[0])):Nc(o)),t.cast=Zhe(t.cast,l)}jhe(s,t),t.range&&(s.cast=Lhe(s.cast,t.range))}}function FP(t,e,i){const r=J_(t,i);r.json||(r.json={});let s=r.json;return e!==void 0&&(s.origins||(s.origins={}),s.origins[e]||(s.origins[e]={}),s=s.origins[e]),s}function Whe(t){let e=0,i=t;if(zhe(t))return XZ(t);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],e++;const r=i;if(YZ(r))return e===0?KT(r):m4(KT(r),e);if(e===1)return Nhe(r);if(e>1)return Dhe(r,e);const s=t;return s.from?s.from:Ft(s)}function Zhe(t,e){if(t||e)return t?e?(i,r)=>e(t(i,r),r):t:e}const Jhe=Object.prototype.toString;function Yhe(t){const e="__accessorMetadata__"in t?Ft(t):t;return function(...i){if(i.push(e),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Xhe.apply(this,i)}}function Xhe(t,e,i,r){J_(t,e).cast=r}function Qhe(t){return(e,i)=>{J_(e,t).cast=e[i]}}function Xe(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&Jhe.call(t[0])==="[object Function]"?Yhe(t[0]):t.length===1&&typeof t[0]=="string"?Qhe(t[0]):void 0}let Ie=class{constructor(e,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Khe(e),this.apiValues=nN(this._apiToJSON),this.jsonValues=nN(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const a=this.toJSON(r);a!==void 0&&ti(n,a,s)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const i=this._apiToJSON[e];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function Khe(t){const e={};for(const i in t)e[t[i]]=i;return e}function nN(t){const e=[];for(const i in t)e.push(i);return e.sort(),e}function ji(){return function(t,e){return new Ie(t,{ignoreUnknown:!0,...e})}}function oe(t,e={}){const i=t instanceof Ie?t:new Ie(t,e),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:a,nonNullable:o,readOnly:l=!1}=e;return f({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:a,read:!l&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:o,readOnly:l})}function te(t,e,i){let r,s;return e===void 0||Array.isArray(e)?(s=t,i=e,r=[void 0]):(s=e,r=Array.isArray(t)?t:[t]),(n,a)=>{const o=n.constructor.prototype;r.forEach(l=>{const u=FP(n,l,s);u.read&&typeof u.read=="object"||(u.read={}),u.read.reader=o[a],i&&(u.read.source=(u.read.source||[]).concat(i))})}}function NP(t){return(e,i)=>{e[i]=t}}const QZ=Symbol("Accessor-beforeDestroy");function epe(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(e[r]){const s=e[r];i[r].forEach(n=>{e[n]=s}),delete e[r]}}}let ca=class extends kZ{constructor(e,i,r){super(e,i,r)}};ca.prototype.type="warning";function KZ(t){var e;return!!t&&((e=t.prototype)==null?void 0:e.declaredClass)&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}const iI=()=>W.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function aN(t,e,i){var r,s;t&&(!i&&!e.read||(r=e.read)!=null&&r.reader||((s=e.read)==null?void 0:s.enabled)===!1||rpe(t)&&ti("read.reader",c1(t),e))}function c1(t){var i,r;const e=t.ndimArray??0;if(e>1)return ipe(t);if(e===1)return oN(t);if("type"in t&&tJ(t.type)){const s=(r=(i=t.type.prototype)==null?void 0:i.itemType)==null?void 0:r.Type,n=oN(typeof s=="function"?{type:s}:{types:s});return(a,o,l)=>{const u=n(a,o,l);return u&&new t.type(u)}}return DP(t)}function DP(t){return"type"in t?tpe(t.type):spe(t.types)}function tpe(t){return t.prototype.read?(e,i,r)=>{if(e==null)return e;const s=typeof e;if(s!=="object")return void iI().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${s}'`);const n=new t;return n.read(e,r),n}:t.fromJSON}function eJ(t,e,i,r){return r!==0&&Array.isArray(e)?e.map(s=>eJ(t,s,i,r-1)):t(e,void 0,i)}function ipe(t){const e=DP(t),i=eJ.bind(null,e),r=t.ndimArray??0;return(s,n,a)=>{if(s==null)return s;s=i(s,a,r);let o=r,l=s;for(;o>0&&Array.isArray(l);)o--,l=l[0];if(l!==void 0)for(let u=0;u<o;u++)s=[s];return s}}function oN(t){const e=DP(t);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const a=[];for(const o of i){const l=e(o,void 0,s);l!==void 0&&a.push(l)}return a}const n=e(i,void 0,s);return n!==void 0?[n]:void 0}}function tJ(t){if(!KZ(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?zP(e.Type):iJ(e.Type))}function rpe(t){return"types"in t?iJ(t.types):zP(t.type)}function zP(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||tJ(t))}function iJ(t){for(const e in t.typeMap)if(!zP(t.typeMap[e]))return!1;return!0}function spe(t){let e=null;const i=t.errorContext??"type",r=t.validate;return(s,n,a)=>{if(s==null)return s;const o=typeof s;if(o!=="object")return void iI().error(`Expected JSON value of type 'object' to deserialize, but got '${o}'`);e||(e=npe(t));const l=t.key;if(typeof l!="string")return;const u=s[l],d=u?e[u]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!d){const p=`Type '${u||"unknown"}' is not supported`;return a!=null&&a.messages&&s&&a.messages.push(new ca(`${i}:unsupported`,p,{definition:s,context:a})),void iI().error(p)}const h=new d;return h.read(s,a),r?r(h):h}}function npe(t){var i,r;const e={};for(const s in t.typeMap){const n=t.typeMap[s],a=Z_(n.prototype);if(typeof t.key=="function")continue;const o=a[t.key];if(!o)continue;if((i=o.json)!=null&&i.type&&Array.isArray(o.json.type)&&o.json.type.length===1&&typeof o.json.type[0]=="string"){e[o.json.type[0]]=n;continue}const l=(r=o.json)==null?void 0:r.write;if(!(l!=null&&l.writer)){e[s]=n;continue}const u=l.target,d=typeof u=="string"?u:t.key,h={};l.writer(s,h,d),h[d]&&(e[h[d]]=n)}return e}function ape(t){if(t.json||(t.json={}),cN(t.json),uN(t.json),lN(t.json),t.json.origins)for(const e in t.json.origins)cN(t.json.origins[e]),uN(t.json.origins[e]),lN(t.json.origins[e]);return!0}function lN(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function cN(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function uN(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function dN(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const i=(t==null?void 0:t.ndimArray)??0;t&&(i===1||"type"in t&&KZ(t.type))?e.write.writer=cpe:i>1?e.write.writer=upe(i):e.types?Array.isArray(e.types)?e.write.writer=lpe(e.types[0]):e.write.writer=ope(e.types):e.write.writer=Rw}function ope(t){return(e,i,r,s)=>e?rJ(e,t,s)?Rw(e,i,r,s):void 0:Rw(e,i,r,s)}function rJ(t,e,i){for(const r in e.typeMap)if(t instanceof e.typeMap[r])return!0;if(i!=null&&i.messages){const r=e.errorContext??"type",s=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new P(`${r}:unsupported`,s,{definition:t,context:i})),W.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function lpe(t){return(e,i,r,s)=>!e||!Array.isArray(e)?Rw(e,i,r,s):Rw(e.filter(n=>rJ(n,t,s)),i,r,s)}function Rw(t,e,i,r){ti(i,g4(t,r),e)}function g4(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?b4(t):t}function b4(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function cpe(t,e,i,r){let s;t===null?s=null:t&&typeof t.map=="function"?(s=t.map(n=>g4(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[g4(t,r)],ti(i,s,e)}function sJ(t,e,i){return i!==0&&Array.isArray(t)?t.map(r=>sJ(r,e,i-1)):g4(t,e)}function upe(t){return(e,i,r,s)=>{let n;if(e===null)n=null;else{n=sJ(e,s,t);let a=t,o=n;for(;a>0&&Array.isArray(o);)a--,o=o[0];if(o!==void 0)for(let l=0;l<a;l++)n=[n]}ti(r,n,i)}}function dpe(t,e){return VP(t,"any",e==null?void 0:e.origin)}function rI(t,e){return VP(t,"read",e==null?void 0:e.origin)}function nJ(t,e){return VP(t,"write",e==null?void 0:e.origin)}function VP(t,e,i){let r=t==null?void 0:t.json;if(r!=null&&r.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(e==="any"||e in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(e==="any"||e in s)&&(r=s)}return r}function fpe(t){var i;const e=hpe(t);if(t.json.origins)for(const r in t.json.origins){const s=t.json.origins[r],n=s.types?ppe(s):e;aN(n,s,!1),s.types&&!s.write&&((i=t.json.write)!=null&&i.enabled)&&(s.write={...t.json.write}),dN(n,s)}aN(e,t.json,!0),dN(e,t.json)}function hpe(t){return t.json.types?sI(t.json):t.type?aJ(t):sI(t)}function ppe(t){return t.type?aJ(t):sI(t)}function aJ(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!YZ(i);)i=i[0],e++;return{type:i,ndimArray:e}}function sI(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function mpe(t){ape(t)&&(epe(t),fpe(t))}const yx=new Set,gx=new Set;function E(t){return e=>{t??(t="esri.core.Accessor"),e.prototype.declaredClass=t,gpe(e);const i=[],r=[];let s=e.prototype;for(;s;)s.hasOwnProperty("initialize")&&!yx.has(s.initialize)&&(yx.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!gx.has(s.destroy)&&(gx.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);yx.clear(),gx.clear();const n=class extends e{constructor(...o){if(super(...o),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),r.length){let l=!1;const u=this[QZ];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=ta.DESTROYING,l=!0,u.call(this);for(let d=0;d<r.length;d++)r[d].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=Z_(e.prototype),n.prototype.declaredClass=t;const a=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:a,configurable:!0}),n}}function ype(t,e){return e.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r===void 0)return;i.mutable&&Ee(r);const s=i.store;return s.has(t)?s.get(t):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r!==void 0)return r.getComputed(i)}}function gpe(t){const e=t.prototype,i=Z_(e),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];mpe(n),r[s]={enumerable:!0,configurable:!0,get:ype(s,n),set(a){const o=this.__accessor__;if(o!==void 0){if(o.mutable)return o.initialized&&n.readOnly?fN("read-only",s):o.lifecycle===ta.CONSTRUCTED&&n.constructOnly?fN("construct-only",s):void o.set(s,a)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(t.prototype,r)}const fN=(t,e)=>{W.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)};function ne(t,e,i){let r,s;return e===void 0?(s=t,r=[void 0]):typeof e!="string"?(s=t,r=[void 0],i=e):(s=e,r=Array.isArray(t)?t:[t]),(n,a)=>{const o=n.constructor.prototype;for(const l of r){const u=FP(n,l,s);u.write&&typeof u.write=="object"||(u.write={}),i&&(u.write.target=i),u.write.writer=o[a]}}}const hN=new WeakMap;function bpe(t,e,i=!1){const r=`🛑 DEPRECATED - ${e}`;if(!i)return void t.warn(r);let s=hN.get(t);s||(s=new Set,hN.set(t,s)),s.has(e)||(s.add(e),t.warn(r))}const v4="https://www.esriurl.com/";function vpe(t,e,i,r={}){q("esri-deprecation-warnings")&&lh(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${v4}${i}/`,`Esri's move to web components: ${v4}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function wpe(t,e,i,r={}){q("esri-deprecation-warnings")&&lh(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${v4}${i}/`,`Esri's move to web components: ${v4}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function RXe(t,e,i={}){q("esri-deprecation-warnings")&&lh(t,`Module: ${e}`,i)}function oJ(t,e,i={}){if(q("esri-deprecation-warnings")){const{moduleName:r}=i;lh(t,`Function: ${(r?r+"::":"")+e+"()"}`,i)}}function lJ(t,e,i={}){if(q("esri-deprecation-warnings")){const{moduleName:r}=i;lh(t,`Property: ${(r?r+"::":"")+e}`,i)}}function _pe(t,e,i={}){q("esri-deprecation-warnings")&&lh(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...i})}function lh(t,e,i={}){if(q("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:a}=i;let o=e;if(r&&(o+=`
	🛠️ Replacement: ${r}`),s&&(o+=`
	⚙️ Version: ${s}`),n)if(Array.isArray(n)){o+=`
	🔗 See for more details:`;for(const l of n)o+=`
		${l}`}else o+=`
	🔗 See ${n} for more details.`;bpe(t,o,a)}}function OXe(t){const e=[];return function*(){yield*e;for(const i of t)e.push(i),yield i}}function Spe(t,e){for(const i of t)if(i!=null&&e(i))return i}function w4(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let u1=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(i=>{e+=i.length}),e}add(e,i){if(w4(e)){const r=this._getOrCreateGroup(i);for(const s of e)mN(s)&&r.push(s)}else mN(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&i&&r.forEach(i)}}has(e){return this._groups.has(N3(e))}remove(e){if(typeof e!="string"&&w4(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(pN(this._getGroup(e)),this._groups.delete(N3(e)),this):this}removeAll(){return this._groups.forEach(pN),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(N3(e),i),i}_getGroup(e){return this._groups.get(N3(e))}};function N3(t){return t||"_default_"}function pN(t){for(const e of t)e instanceof u1?e.removeAll():e.remove()}function mN(t){return t!=null&&(!!t.remove||t instanceof u1)}var Oe;(function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"})(Oe||(Oe={}));const nI=Oe.USER+1;function Ju(t){switch(t){case"defaults":return Oe.DEFAULTS;case"service":return Oe.SERVICE;case"portal-item":return Oe.PORTAL_ITEM;case"web-scene":return Oe.WEB_SCENE;case"web-map":return Oe.WEB_MAP;case"link-chart":return Oe.LINK_CHART;case"user":return Oe.USER;default:return null}}function Ow(t){switch(t){case Oe.DEFAULTS:return"defaults";case Oe.SERVICE:return"service";case Oe.PORTAL_ITEM:return"portal-item";case Oe.WEB_SCENE:return"web-scene";case Oe.WEB_MAP:return"web-map";case Oe.LINK_CHART:return"link-chart";case Oe.USER:return"user"}}function xpe(t){return Ow(t)}let yN=class extends $Z{constructor(e,i){super(),this.propertyName=e,this.metadata=i,this.trackingTarget=new x7(this),this.flags=0,this.flags=ni.Dirty|(i.nonNullable?ni.NonNullable:0)|(i.hasOwnProperty("value")?ni.HasDefaultValue:0)|(i.get===void 0?ni.DepTrackingInitialized:0)|(i.dependsOn===void 0?ni.AutoTracked:0)}destroy(){this.flags&ni.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&Ee(this);const i=e.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&ni.Computing||~s&ni.Dirty&&i.has(r))return n;this.flags|=ni.Computing;const a=e.host;let o;s&ni.AutoTracked?o=Oc(this.trackingTarget,this.metadata.get,a):(xZ(a,this),o=this.metadata.get.call(a)),this.flags|=ni.DepTrackingInitialized,i.set(r,o,Oe.COMPUTED);const l=i.get(r);return l===n?this.flags&=-2:Afe(this.commit,this),this.flags&=-5,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&ni.Overridden&&(this.flags|=ni.Dirty);const e=this._observers;if(e&&e.length>0)for(const i of e)i.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onCommitted()}}},$pe=class cJ{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new cJ;return this._values.forEach((r,s)=>{e&&e.has(s)||i.set(s,z(r))}),i}get(e){return this._values.get(e)}originOf(){return Oe.USER}keys(){return[...this._values.keys()]}set(e,i){this._values.set(e,i)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,i){return this.has(e)}isBelowOrigin(e,i){return!this.has(e)}forEach(e){this._values.forEach(e)}};function w0(t,e,i){return t!==void 0}function gN(t,e,i,r){return t!==void 0&&(!(i==null&&t.flags&ni.NonNullable)||(r.lifecycle,!1))}let Tpe=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=ta.INITIALIZING,this.store=new $pe,this.mutable=!0,this._origin=Oe.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new yN(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=ta.CONSTRUCTING}constructed(){this.lifecycle=ta.CONSTRUCTED}destroy(){this.lifecycle=ta.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==ta.INITIALIZING}get(e){const i=this.propertiesByName.get(e);if(!w0(i))return;if(i.metadata.get)return i.getComputed(this);this.mutable&&Ee(i);const r=this.store;return r.has(e)?r.get(e):i.metadata.value}originOf(e){const i=this.store.originOf(e);if(i===void 0){const r=this.propertiesByName.get(e);if(r!==void 0&&r.flags&ni.HasDefaultValue)return"defaults"}return Ow(i)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const i=this.propertiesByName.get(e);if(w0(i))return this.store.has(e)?this.store.get(e):i.metadata.value}internalSet(e,i){const r=this.propertiesByName.get(e);w0(r)&&this._internalSet(r,i)}getDependsInfo(e,i,r){const s=this.propertiesByName.get(i);if(!w0(s))return"";const n=new x7,a=Oc(n,()=>{var u;return(u=s.metadata.get)==null?void 0:u.call(e)});let o=`${r}${e.declaredClass.split(".").pop()}.${i}: ${a}
`;const l=n.accessed??new Set;if(l.size===0)return o;r+="  ";for(const u of l)u instanceof yN&&(o+=`${r}${u.propertyName}: undefined
`);return o}setAtOrigin(e,i,r){const s=this.propertiesByName.get(e);if(w0(s))return this._setAtOrigin(s,i,r)}isOverridden(e){const i=this.propertiesByName.get(e);return i!==void 0&&!!(i.flags&ni.Overridden)}clearOrigin(e,i){const r=this.store,s=this.propertiesByName.get(e);if(!w0(s))return;const n=r.isAtOrigin(e,i)&&!(s.flags&ni.Overridden);r.delete(e,i),n&&s.notifyChange()}clearOverride(e){const i=this.propertiesByName.get(e);i&&i.flags&ni.Overridden&&(i.flags&=-3,i.notifyChange())}override(e,i){const r=this.propertiesByName.get(e);if(!gN(r,e,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:a,value:o}=n;if(bx.release(n),!a)return;i=o}r.flags|=ni.Overridden,this._internalSet(r,i)}set(e,i){const r=this.propertiesByName.get(e);if(!gN(r,e,i,this))return;const s=r.metadata.cast;if(s){const a=this._cast(s,i),{valid:o,value:l}=a;if(bx.release(a),!o)return;i=l}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(e){this._origin=Ju(e)}getDefaultOrigin(){return Ow(this._origin)}notifyChange(e){const i=this.propertiesByName.get(e);i!==void 0&&i.notifyChange()}invalidate(e){const i=this.propertiesByName.get(e);i!==void 0&&i.invalidate()}commit(e){const i=this.propertiesByName.get(e);i!==void 0&&i.commit()}_internalSet(e,i){const r=this.lifecycle!==ta.INITIALIZING?this._origin:Oe.DEFAULTS;this._setAtOrigin(e,i,r)}_setAtOrigin(e,i,r){const s=this.store,n=e.propertyName;if(s.isAtOrigin(n,r)&&TP(i,s.get(n))&&~e.flags&ni.Overridden)return;const a=s.isBelowOrigin(n,r)||s.isAtOrigin(n,r);a&&e.invalidate(),s.set(n,i,r),a&&e.commit(),SZ(this.host,e)}_cast(e,i){const r=bx.acquire();return r.valid=!0,r.value=i,e&&(r.value=e.call(this.host,i,r)),r}},Ipe=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const bx=new _h(Ipe);let Epe;function Mpe(){return Epe}var bN;(function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"})(bN||(bN={}));var vN,wN;function Cpe(t){var e;if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return(e=t.constructor)!=null&&e.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Yo=Symbol("Accessor-Handles"),vx=Symbol("Accessor-Initialized");var Kf;let ce=(Kf=class{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const n=this;class a extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}Z_(a.prototype);for(const o in e){const l=e[o];a.prototype[o]=typeof l=="function"?function(...u){const d=this.inherited;let h;this.inherited=function(...p){if(n.prototype[o])return n.prototype[o].apply(this,p)};try{h=l.apply(this,u)}catch(p){throw this.inherited=d,p}return this.inherited=d,h}:e[o]}for(const o in i){const l=Cpe(i[o]);f(l)(a.prototype,o)}return E(r)(a)}static freeze(e){return e instanceof Kf?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Kf?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){var r;if(this[vN]=null,this[wN]=!1,this.constructor===Kf)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new Tpe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),e.length>0&&(i.ctorArgs=((r=this.normalizeCtorArgs)==null?void 0:r.apply(this,e))??e[0])}postscript(){const e=this.__accessor__,i=e.ctorArgs;e.initialize(),i&&(this.set(i),e.ctorArgs=null),e.constructed(),this.initialize(),this[vx]=!0}initialize(){}[QZ](){this[Yo]=Lt(this[Yo])}destroy(){var e;this.destroyed||(ghe(this),this.__accessor__.destroy(),(e=Mpe())==null||e.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[vx]}get destroyed(){var e;return((e=this.__accessor__)==null?void 0:e.lifecycle)===ta.DESTROYED||!1}get destroying(){var e;return((e=this.__accessor__)==null?void 0:e.lifecycle)===ta.DESTROYING||!1}commitProperty(e){_s(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,i){return y4(this,e,i),this}watch(e,i,r){return oJ(W.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),xhe(this,e,i,r)}addHandles(e,i){if(this.destroyed){const r=Array.isArray(e)?e:[e];for(const s of r)s.remove();return}(this[Yo]??(this[Yo]=new u1)).add(e,i)}removeHandles(e){var i;(i=this[Yo])==null||i.remove(e)}removeAllHandles(){var e;(e=this[Yo])==null||e.removeAll()}removeHandlesReference(e){var i;(i=this[Yo])==null||i.removeReference(e)}hasHandles(e){var i;return((i=this[Yo])==null?void 0:i.has(e))===!0}_override(e,i){i===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,i){i==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,i){return this.__accessor__.internalSet(e,i),this}},vN=Yo,wN=vx,Kf);const Zi=(t,e)=>{const r=i1().manager;r.onLoaded(()=>r.onLifecycle(()=>wr(t,e,s.emit)));const s=mP();return s},uJ=(t,e)=>i=>kpe(i,t);var fm,Jg,Mf;class jP extends gP{constructor(i,r){super(i);tt(this,fm);tt(this,Jg);tt(this,Mf);this.Y=new Map,this.A=void 0,Ze(this,Jg,TZ());const s=this;Ze(s,Mf,r),s.Z(),s.setProvisionalExports(dJ(i,new WeakRef(s),i.M.length-1,s.instance,s.Y),!1),hP(i,n=>{if(n){const a=Y(()=>i[n],o=>{if(o===s.instance)return;const l=s.instance;s.exports=o,s.instance=o,s.Y.forEach((u,d)=>i.requestUpdate(u,l[d])),re(s,fm)&&l.destroy(),Ze(s,fm,!1)},{sync:!0});s.onDestroy(a.remove)}},s.exports)}get exports(){return IZ(re(this,Jg)),super.exports}set exports(i){super.exports=i,re(this,Jg).notify()}Z(){var r;const i=this;i.instance="prototype"in re(i,Mf)&&"declaredClass"in re(i,Mf).prototype?new(re(i,Mf)):re(r=i,Mf).call(r),Ze(i,fm,!0)}hostConnected(){this.exports=this.instance}hostDestroy(){var i,r;re(this,fm)&&((r=(i=this.instance).destroy)==null||r.call(i))}}fm=new WeakMap,Jg=new WeakMap,Mf=new WeakMap;const kpe=H_(jP),dJ=(t,e,i,r,s)=>new Proxy(r,{get:(n,a)=>{const o=n[a];if(typeof a=="symbol"||s.has(a))return o;const l=t.M[i];return l.A=a,pP(t,u=>{if(l.A=void 0,u!==void 0){const d=u.key;s.set(a,d);const h=t.constructor.getPropertyOptions(d),p=a!==d&&d.toLowerCase().includes("disable");Ape(e,h,a,d,p),h.i===void 0&&Ppe(h,i,a,p)}},o)}}),Ape=(t,e,i,r,s,n)=>n=Y(()=>{const a=t.deref();return a===void 0||a.component.manager.destroyed?n=n.remove():a.exports[i]},(a,o)=>{if(!n)return;const l=t.deref().component;l==null||l.requestUpdate(r,s?!o:o),e.c=!1},{sync:!0}),Ppe=(t,e,i,r)=>{t.d.get=function(){var n;const s=(n=this.M[e])==null?void 0:n.exports[i];return r?!s:s},t.d.set=function(s){const n=this.M[e];n.A!==i&&(n.exports[i]=r?!s:s)}},Lpe=t=>t.Y,Rpe=(t,e)=>{const i=e.manager.useRefSync(t);i==null||i.hostDestroy(),i==null||i.Z(),i==null||i.hostConnected()};function c(t,e,i,r){var s,n=arguments.length,a=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(n<3?s(a):n>3?s(e,i,a):s(e,i))||a);return n>3&&a&&Object.defineProperty(e,i,a),a}function VXe(t,e){return function(i,r){e(i,r,t)}}function jXe(t,e,i,r){function s(n){return n instanceof i?n:new i(function(a){a(n)})}return new(i||(i=Promise))(function(n,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?n(d.value):s(d.value).then(o,l)}u((r=r.apply(t,[])).next())})}function qXe(t,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),t.stack.push({value:e,dispose:r,async:i})}return e}var Ope=typeof SuppressedError=="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function BXe(t){function e(n){t.error=t.hasError?new Ope(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;function s(){for(;i=t.stack.pop();)try{if(!i.async&&r===1)return r=0,t.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(a){return e(a),s()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}const fJ=t=>{let e=class extends t{clone(){var l;const i=Ys(this);n1(i,"unable to clone instance of non-accessor class");const r=i.metadata,s=i.store,n={},a=new Map;for(const u in r){const d=r[u],h=s==null?void 0:s.originOf(u),p=d.clonable;if(d.readOnly||p===!1||h!==Oe.USER&&h!==Oe.DEFAULTS&&h!==Oe.WEB_MAP&&h!==Oe.WEB_SCENE)continue;const m=this[u];let g=null;g=typeof p=="function"?p(m):p==="reference"?m:GT(m),m!=null&&g==null||(h===Oe.DEFAULTS?a.set(u,g):n[u]=g)}const o=new(Object.getPrototypeOf(this)).constructor(n);if(a.size){const u=(l=Ys(o))==null?void 0:l.store;if(u)for(const[d,h]of a)u.set(d,h,Oe.DEFAULTS)}return o}};return e=c([E("esri.core.Clonable")],e),e};let Mv=class extends fJ(ce){};Mv=c([E("esri.core.Clonable")],Mv),function(t){t.ClonableMixin=fJ}(Mv||(Mv={}));const ve=Mv;let Jh=class extends ve{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return e!=null&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};c([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Jh.prototype,"row",void 0),c([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Jh.prototype,"column",void 0),c([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Jh.prototype,"rows",void 0),c([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Jh.prototype,"columns",void 0),Jh=c([E("esri.CameraLayout")],Jh);const hJ=Jh,_N=new Float32Array(1);function HXe(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function Yr(t,e,i){return Math.min(Math.max(t,e),i)}function Fpe(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function Cv(t,e,i){return t+(e-t)*i}function WXe(t,e,i,r,s){return Cv(r,s,(t-e)/(i-e))}function wc(t){return t*Math.PI/180}function pJ(t){return 180*t/Math.PI}function ZXe(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function JXe(t){return Math.acos(Yr(t,-1,1))}function Npe(t){return Math.asin(Yr(t,-1,1))}function xn(t,e,i=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=i}function mJ(t,e,i=1e-6){return!xn(t,e,i)&&t>e}function aI(t,e,i=1e-6){return!xn(t,e,i)&&t<e}function Dpe(t,e,i=1e-6){return xn(t,e,i)||t>e}const _4=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function oI(t){return _4.setFloat64(0,t),_4.getBigInt64(0)}function zpe(t){return _4.setBigInt64(0,t),_4.getFloat64(0)}const x9=BigInt("1000000"),Vpe=yJ(1);function yJ(t){const e=oI(t=Math.abs(t)),i=zpe(e<=x9?x9:e-x9);return Math.abs(t-i)}function YXe(t,e,i=Vpe){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(i!=null&&yJ(Math.min(Math.abs(t),Math.abs(e)))<i)return Math.abs(t-e)<=i;const r=oI(t),s=oI(e);return r<0!=s<0?!1:!((r<s?s-r:r-s)>x9)}function jpe(t,e,i=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const r=Math.abs(t-e),s=Math.abs(t),n=Math.abs(e);if(t===0||e===0||s<1e-12&&n<1e-12){if(r>.01*i)return!1}else if(r/(s+n)>i)return!1;return!0}function qpe(t){return gJ(Math.max(-lI,Math.min(t,lI)))}function gJ(t){return _N[0]=t,_N[0]}function XXe(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(xn(e,1)&&xn(i,1)&&xn(r,1))}const lI=gJ(34028234663852886e22);function QXe(t,e,i){if(i===void 0||+i==0)return Math[t](e);if(e=+e,i=+i,isNaN(e)||typeof i!="number"||i%1!=0)return NaN;let r=e.toString().split("e");return r=(e=Math[t](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let qP=class{constructor(e,i){this.min=e,this.max=i,this.range=i-e}normalize(e,i=0,r=!1){return SN(this.range,this.min,this.max,e,i,r)}clamp(e,i=0){return Yr(e-i,this.min,this.max)+i}monotonic(e,i,r){return e<i?i:i+cI(this.range,e-i,r)}minimalMonotonic(e,i,r){return SN(this.range,e,e+this.range,i,r)}center(e,i,r){return i=this.monotonic(e,i,r),this.normalize((e+i)/2,r)}diff(e,i,r){return this.monotonic(e,i,r)-e}shortestSignedDiff(e,i){e=this.normalize(e);const r=(i=this.normalize(i))-e,s=i<e?this.minimalMonotonic(e,i)-e:i-this.minimalMonotonic(i,e);return Math.abs(r)<Math.abs(s)?r:s}contains(e,i,r){return i=this.minimalMonotonic(e,i),(r=this.minimalMonotonic(e,r))>e&&r<i}};function SN(t,e,i,r,s=0,n=!1){return(r-=s)<e?r+=cI(t,e-r):r>i&&(r-=cI(t,r-i)),n&&r===i&&(r=e),r+s}function cI(t,e,i=0){return Math.ceil((e-i)/t)*t+i}const eQe=new qP(0,2*Math.PI),tQe=new qP(-Math.PI,Math.PI),bJ=new qP(0,360);let Bpe=class vJ{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new vJ;return this._values.forEach((r,s)=>{e&&e.has(s)||i.set(s,z(r.value),r.origin)}),i}get(e,i){i=this._normalizeOrigin(i);const r=this._values.get(e);return i==null||(r==null?void 0:r.origin)===i?r==null?void 0:r.value:void 0}originOf(e){var i;return((i=this._values.get(e))==null?void 0:i.origin)??Oe.USER}keys(e){e=this._normalizeOrigin(e);const i=[...this._values.keys()];return e==null?i:i.filter(r=>{var s;return((s=this._values.get(r))==null?void 0:s.origin)===e})}set(e,i,r){if((r=this._normalizeOrigin(r))===Oe.DEFAULTS){const s=this._values.get(e);if((s==null?void 0:s.origin)!=null&&s.origin>r)return}this._values.set(e,new Upe(i,r))}delete(e,i){var r;(i=this._normalizeOrigin(i))!=null&&((r=this._values.get(e))==null?void 0:r.origin)!==i||this._values.delete(e)}has(e,i){var r;return(i=this._normalizeOrigin(i))!=null?((r=this._values.get(e))==null?void 0:r.origin)===i:this._values.has(e)}isAtOrigin(e,i){return i=this._normalizeOrigin(i),this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return i=this._normalizeOrigin(i),!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(({value:i},r)=>e(i,r))}_normalizeOrigin(e){if(e!=null)return e===Oe.DEFAULTS?e:Oe.USER}},Upe=class{constructor(e,i){this.value=e,this.origin=i}};function wJ(t,e,i){e.keys().forEach(s=>{i.set(s,e.get(s),Oe.DEFAULTS)});const r=t.metadata;Object.keys(r).forEach(s=>{t.internalGet(s)&&i.set(s,t.internalGet(s),Oe.DEFAULTS)})}function Gpe(t,e,i){if(!(t!=null&&t.read)||t.read.enabled===!1||!t.read.source)return!1;const r=t.read.source;if(typeof r=="string"){if(r===e||r.includes(".")&&r.indexOf(e)===0&&iN(r,i))return!0}else for(const s of r)if(s===e||s.includes(".")&&s.indexOf(e)===0&&iN(s,i))return!0;return!1}function Hpe(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function Wpe(t,e,i,r,s){let n=rI(e[i],s);Hpe(n)&&(t[i]=!0);for(const a of Object.getOwnPropertyNames(e))n=rI(e[a],s),Gpe(n,i,r)&&(t[a]=!0)}function Zpe(t,e,i,r){const s=i.metadata,n=dpe(s[e],r),a=n==null?void 0:n.default;if(a===void 0)return;const o=typeof a=="function"?a.call(t,e,r):a;o!==void 0&&i.set(e,o)}const _J={origin:"service"};function SJ(t,e,i=_J){if(!e||typeof e!="object")return;const r=Ys(t),s=r.metadata,n={};for(const a of Object.getOwnPropertyNames(e))Wpe(n,s,a,e,i);r.setDefaultOrigin(i.origin);for(const a of Object.getOwnPropertyNames(n)){const o=rI(s[a],i).read,l=o==null?void 0:o.source;let u;u=l&&typeof l=="string"?G_(e,l):e[a],o!=null&&o.reader&&(u=o.reader.call(t,u,e,i)),u!==void 0&&r.set(a,u)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(s))n[a]||Zpe(t,a,r,i)}r.setDefaultOrigin("user")}function xJ(t,e,i,r=_J){var n;const s={...r,messages:[]};i(s),(n=s.messages)==null||n.forEach(a=>{a.type!=="warning"||t.loaded?r!=null&&r.messages&&r.messages.push(a):t.loadWarnings.push(a)})}function Jpe(t,e,i,r,s){var a,o;const n={};return(o=(a=e.write)==null?void 0:a.writer)==null||o.call(t,r,n,i,s),n}function $J(t,e,i,r,s,n){if(!(r!=null&&r.write))return!1;const a=_s(t,i);if(!s&&r.write.overridePolicy){const o=r.write.overridePolicy.call(t,a,i,n??void 0);o!==void 0&&(s=o)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&(n!=null&&n.layerContainerType)&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((a===null&&!s.allowNull&&!s.writerEnsuresNonNull||a===void 0)&&s.isRequired){const o=new P("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return o&&(n!=null&&n.messages)?n.messages.push(o):o&&!n&&W.getLogger("esri.core.accessorSupport.write").error(o.name,o.message),!1}return!(a===void 0||a===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(i)===Oe.DEFAULTS)&&Ype(t,i,n,r,a)||!s.ignoreOrigin&&(n!=null&&n.origin)&&e.store.multipleOriginsSupported&&e.store.originOf(i)<Ju(n.origin))}function Ype(t,e,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const a=n.call(t,e,i??void 0);return w7(a,s)}return!1}return n===s}function Xpe(t,e,i,r){const s=Ys(t),n=s.metadata,a=nJ(n[e],r);return!!a&&$J(t,s,e,a,i,r)}function TJ(t,e,i){var n,a;if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return b9(e,t.toJSON(i));const r=Ys(t),s=r.metadata;for(const o in s){const l=nJ(s[o],i);if(!$J(t,r,o,l,void 0,i))continue;const u=_s(t,o),d=Jpe(t,l,l.write&&typeof l.write.target=="string"?l.write.target:o,u,i);Object.keys(d).length>0&&(e=b9(e,d),(a=(n=i==null?void 0:i.resources)==null?void 0:n.pendingOperations)!=null&&a.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>b9(e,d,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:t,propName:o,oldOrigin:xpe(r.store.originOf(o)),newOrigin:i.origin}))}return e}const IJ=t=>{let e=class extends t{constructor(...i){super(...i);const r=Ys(this),s=r.store,n=new Bpe;r.store=n,wJ(r,s,n)}read(i,r){SJ(this,i,r)}write(i,r){return TJ(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return Qpe.call(this,i,r)}};return e=c([E("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function Qpe(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}let kv=class extends IJ(ce){};kv=c([E("esri.core.JSONSupport")],kv),function(t){t.JSONSupportMixin=IJ}(kv||(kv={}));const B=kv;let BP=class{constructor(e,i,r,s,n,a){this.semiMajorAxis=e,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const yi=new BP(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),kc=new BP(3396190,1/169.8944472236118,23e4,6e4,.111),ch=new BP(1737400,0,0,0,0);function Fw(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const Kpe=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,eme={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function xN(t){const e=t==null?void 0:t.match(Kpe);if(!e)return null;const[,i,r,s]=e;if(!i)return null;let n=null,a=null,o=null;const{devext:l,qaext:u,www:d}=eme;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:o}=l);break;case"qa":({customBaseUrl:a,portalHostname:o}=u);break;default:return null}else({customBaseUrl:a,portalHostname:o}=d);else switch(i.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:o}=l);break;case"qaext":({customBaseUrl:a,portalHostname:o}=u);break;case"www":({customBaseUrl:a,portalHostname:o}=d);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:o,urlKey:n}}function EJ(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function MJ(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):r.test(t)&&(t=t.replace(r,"https://qaext.arcgis.com")),t}function CJ(t){const e=atob(t),i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i.buffer}function tme(t){const e=new Uint8Array(t);let i="";for(let r=0;r<e.length;r++)i+=String.fromCharCode(e[r]);return btoa(i)}const ime=()=>W.getLogger("esri.core.urlUtils"),d1=ut.request,$N="esri/config: esriConfig.request.proxyUrl is not set.",kJ=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,AJ=/^\s*http:/i,rme=/^\s*https:/i,sme=/^\s*file:/i,PJ=/:\d+$/,nme=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ame=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ome=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Uf=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(ame);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(ome),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const D3={},lme=new Uf(ut.applicationUrl);let vs=lme;const cme=ume();let UP=cme;const GP=()=>vs,aQe=()=>UP;function ume(){const t=vs.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${vs.scheme}://${vs.host}${vs.port!=null?`:${vs.port}`:""}`}${e}`}function Si(t){if(!t)return null;const e={path:null,query:null},i=new Uf(t),r=t.indexOf("?");return i.query===null?e.path=t:(e.path=t.slice(0,r),e.query=HP(i.query)),i.fragment&&(e.hash=i.fragment,i.query===null&&(e.path=e.path.slice(0,e.path.length-(i.fragment.length+1)))),e}function HP(t){const e=t.split("&"),i={};for(const r of e){if(!r)continue;const s=r.indexOf("=");let n,a;s<0?(n=decodeURIComponent(r),a=""):(n=decodeURIComponent(r.slice(0,s)),a=decodeURIComponent(r.slice(s+1)));let o=i[n];typeof o=="string"&&(o=i[n]=[o]),Array.isArray(o)?o.push(a):i[n]=a}return i}function Nw(t,e){return t?Object.keys(t).map(i=>{const r=t[i];if(r==null)return"";const s=encodeURIComponent(i)+"=",n=e==null?void 0:e[i];return n?s+encodeURIComponent(n(r)):Array.isArray(r)?r.map(a=>Fw(a)?s+encodeURIComponent(JSON.stringify(a)):s+encodeURIComponent(a)).join("&"):Fw(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function LJ(t=!1){let e,i=d1.proxyUrl;if(typeof t=="string"){e=NJ(t);const r=I7(t);r&&(i=r.proxyUrl)}else e=!!t;if(!i)throw ime().warn($N),new P("urlUtils:proxy-not-set",$N);return e&&dI()&&(i=XP(i)),Si(i)}function oQe(t,e=!1){const i=I7(t);let r,s;if(i){const n=WP(i.proxyUrl);r=n.path,s=n.query?HP(n.query):null}else if(e){const n=LJ(t);r=n.path,s=n.query}if(r){const n=Si(t);t=r+"?"+n.path;const a=Nw({...s,...n.query});a&&(t=`${t}?${a}`)}return t}const j1={path:"",query:""};function WP(t){const e=t.indexOf("?");return e!==-1?(j1.path=t.slice(0,e),j1.query=t.slice(e+1)):(j1.path=t,j1.query=null),j1}function RJ(t){return t=(t=x4(t=_me(t=WP(t).path),!0)).toLowerCase()}function dme(t){const e={proxyUrl:t.proxyUrl,urlPrefix:RJ(t.urlPrefix)},i=d1.proxyRules,r=e.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const a=i[n].urlPrefix;if(r.indexOf(a)===0){if(r.length===a.length)return-1;s=n;break}a.indexOf(r)===0&&(s=n+1)}return i.splice(s,0,e),s}function I7(t){const e=d1.proxyRules,i=RJ(t);for(let r=0;r<e.length;r++)if(i.indexOf(e[r].urlPrefix)===0)return e[r]}function fme(t,e){if(!t||!e)return!1;t=S4(t),e=S4(e);const i=xN(t),r=xN(e);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&Ac(t,e,!0)}function OJ(t,e){return t=S4(t),e=S4(e),x4(t)===x4(e)}function S4(t){const e=(t=Ja(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function uI(t,e=d1.interceptors){const i=r=>r instanceof RegExp?r.test(t):typeof r=="string"?t.startsWith(r):r==null;if(e){for(const r of e)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function Ac(t,e,i=!1){if(!t||!e)return!1;const r=hI(t),s=hI(e);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function ZP(t){if(typeof t=="string"){if(!$n(t))return!0;t=hI(t)}if(Ac(t,vs))return!0;const e=d1.trustedServers||[];for(let i=0;i<e.length;i++){const r=hme(e[i]);for(let s=0;s<r.length;s++)if(Ac(t,r[s]))return!0}return!1}function hme(t){return D3[t]||(YP(t)||Dc(t)?D3[t]=[new Uf(vn(t))]:D3[t]=[new Uf(`http://${t}`),new Uf(`https://${t}`)]),D3[t]}function vn(t,e=UP,i){return Dc(t)?i!=null&&i.preserveProtocolRelative?t:vs.scheme==="http"&&vs.authority===oa(t).slice(2)?`http:${t}`:`https:${t}`:YP(t)?t:uh(t[0]==="/"?wme(e):e,t)}function JP(t,e=UP,i){if(t==null||!$n(t))return t;const r=Ja(t),s=r.toLowerCase(),n=Ja(e).toLowerCase().replace(/\/+$/,""),a=i?Ja(i).toLowerCase().replace(/\/+$/,""):null;if(a&&n.indexOf(a)!==0)return t;const o=(h,p,m)=>(m=h.indexOf(p,m))===-1?h.length:m;let l=o(s,"/",s.indexOf("//")+2),u=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(u=l+1,l!==s.length);)l=o(s,"/",l+1);if(u===-1||a&&u<a.length)return t;t=r.slice(u);const d=n.slice(u-1).replaceAll(/[^/]+/g,"").length;if(d>0)for(let h=0;h<d;h++)t=`../${t}`;else t=`./${t}`;return t}function Ja(t){return t=$me(t=xme(t=Sme(t=vn(t=t.trim()))))}function uh(...t){const e=t.filter(Kt);if(!(e!=null&&e.length))return;const i=[];if($n(e[0])){const s=e[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),bme(e[0])&&(i[0]+="/"),e[0]=s.slice(n+2))}else e[0][0]==="/"&&i.push("");const r=e.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function oa(t,e=!1){if(t==null||f1(t)||vd(t))return null;let i=t.indexOf("://");if(i===-1&&Dc(t))i=2;else{if(i===-1)return null;i+=3}const r=t.indexOf("/",i);return r!==-1&&(t=t.slice(0,r)),e&&(t=x4(t,!0)),t}function $n(t){return Dc(t)||YP(t)}function f1(t){return t!=null&&t.slice(0,5)==="blob:"}function vd(t){return t!=null&&t.slice(0,5)==="data:"}function pme(t){const e=qm(t);return e!=null&&e.isBase64?CJ(e.data):null}function lQe(t){return tme(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const mme=/^data:(.*?)(;base64)?,(.*)$/;function qm(t){const e=t.match(mme);if(!e)return null;const[,i,r,s]=e;return{mediaType:i,isBase64:!!r,data:s}}function FJ(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function yme(t){return(await fetch(t)).blob()}function cQe(t){const e=pme(t);if(!e)return null;const i=qm(t);return new Blob([e],{type:i.mediaType})}function Dc(t){return t!=null&&t[0]==="/"&&t[1]==="/"}function YP(t){return t!=null&&kJ.test(t)}function NJ(t){return t!=null&&rme.test(t)||vs.scheme==="https"&&Dc(t)}function gme(t){return t!=null&&AJ.test(t)||vs.scheme==="http"&&Dc(t)}function bme(t){return t!=null&&sme.test(t)}function XP(t){return Dc(t)?`https:${t}`:t.replace(AJ,"https:")}function vme(){return vs.scheme==="http"}function dI(){return vs.scheme==="https"}function x4(t,e=!1){return Dc(t)?t.slice(2):(t=t.replace(kJ,""),e&&t.length>1&&t[0]==="/"&&t[1]==="/"&&(t=t.slice(2)),t)}function wme(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return i===-1?t:t.slice(0,i)}function QP(t){let e=0;if($n(t)){const r=t.indexOf("//");r!==-1&&(e=r+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function uQe(t,e){if(!t)return"";const i=Si(t).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!(e!=null&&e.length))return r;const s=new RegExp(`\\.(${e.join("|")})$`,"i");return r.replace(s,"")}function _me(t){return t.endsWith("/")?t:`${t}/`}function DJ(t){return t.replace(/\/+$/,"")}function Sme(t){if(/^https?:\/\//i.test(t)){const e=WP(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function xme(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function $me(t){const e=d1.httpsDomains;if(!gme(t))return t;const i=t.indexOf("/",7);let r;if(r=i===-1?t:t.slice(0,i),r=r.toLowerCase().slice(7),PJ.test(r)){if(!r.endsWith(":80"))return t;r=r.slice(0,-3),t=t.replace(":80","")}return vme()&&r===vs.authority&&!nme.test(t)||(dI()&&r===vs.authority||e&&e.some(s=>r===s||r.endsWith(`.${s}`))||dI()&&!I7(t))&&(t=XP(t)),t}function fI(t,e,i){if(!(e&&i&&t&&$n(t)))return t;const r=t.indexOf("//"),s=t.indexOf("/",r+2),n=t.indexOf(":",r+2),a=Math.min(s<0?t.length:s,n<0?t.length:n);return t.slice(r+2,a).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,r+2)}${i}${t.slice(a)}`}function zJ(t,e){const i=new URL(t);return i.host=e,i.port&&!PJ.test(e)&&(i.port=""),i.toString()}function Tme(t){return new URL(t).host}function hI(t){return typeof t=="string"?new Uf(vn(t)):(t.scheme||(t.scheme=vs.scheme),t)}function dQe(t){return Ime.test(t)}function VJ(t,e){const i=Si(t),r=Object.keys(i.query||{});return r.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function jJ(t,e,i){const r=Si(t),s=r.query||{};return s[e]=String(i),`${r.path}?${Nw(s)}`}function $9(t,e){if(!e)return t;const i=Si(t),r=i.query||{};for(const[n,a]of Object.entries(e))a!=null&&(r[n]=a);const s=Nw(r);return s?`${i.path}?${s}`:i.path}function qJ(t){if(t==null)return null;const e=t.match(BJ);return e?e[2]:null}function TN(t){if(t==null)return null;const e=t.match(BJ);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function fQe(t){return typeof t=="string"?qm(t)??{data:t}:new Promise((e,i)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(qm(r.result)),r.onerror=s=>i(s)})}const BJ=/([^.]*)\.([^/]*)$/,Ime=/(^data:image\/svg|\.svg$)/i,UJ="20250626",GJ="a8d23c721d8036e8923136f846370b6aeb082e17";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const HJ="4.33";let Pe,KP=HJ;KP="4.33.4";function hQe(t){Pe=t}function Eme(t){const e=Pe==null?void 0:Pe.findCredential(t);return e!=null&&e.token?jJ(t,"token",e.token):t}q("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),q("host-webworker");function ud(t,e){var r;const i=(r=e==null?void 0:e.url)==null?void 0:r.path;if(t&&i&&(t=vn(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const s=JP(t,e.portalItem.itemUrl);s!=null&&Mme.test(s)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(s).path)}return(t=pI(t,e==null?void 0:e.portal))&&M7.test(t)?eL(t):t}function Bm(t,e,i=Mb.YES){var s,n;if((t=t&&M7.test(t)?YJ(t):t)==null)return t;!$n(t)&&(e!=null&&e.blockedRelativeUrls)&&e.blockedRelativeUrls.push(t);let r=vn(t);if(e){const a=((s=e.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((n=e.url)==null?void 0:n.path);if(a){const o=pI(a,e.portal),l=pI(r,e.portal);r=JP(l,o,o),r!=null&&r!==l&&r!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=JJ(r,e==null?void 0:e.portal),$n(r)&&(r=Ja(r)),e!=null&&e.resources&&(e!=null&&e.portalItem)&&!$n(r)&&!vd(r)&&i===Mb.YES&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(r),compress:!1}),r}function E7(t,e,i){return ud(t,i)}function Um(t,e,i,r){const s=Bm(t,r);s!==void 0&&(e[i]=s)}const M7=/\/items\/([^/]+)\/resources\/(.*)/,Mme=/^\.\/resources\//;function WJ(t){const e=(t==null?void 0:t.match(M7))??null;return(e==null?void 0:e[1])??null}function ZJ(t){const e=(t==null?void 0:t.match(M7))??null;if(e==null)return null;const i=e[2],r=i.lastIndexOf("/");if(r===-1){const{path:a,extension:o}=TN(i);return{prefix:null,filename:a,extension:o}}const{path:s,extension:n}=TN(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function JJ(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?fI(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function pI(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`,r=GP();return Ac(r,`${r.scheme}://${i}`)?fI(t,e.portalHostname,i):fI(t,i,e.portalHostname)}function eL(t){if(!t)return t||null;let e=t;return e&&Pe&&!Pe.findCredential(e)&&(e=MJ(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function YJ(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&Pe&&!Pe.findCredential(e)&&(e=MJ(e)),e}var Mb;(function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"})(Mb||(Mb={}));const Cme=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Mb},ensureMainOnlineDomain:JJ,fromCDNUrl:YJ,fromJSON:ud,itemIdFromResourceUrl:WJ,prefixAndFilenameFromResourceUrl:ZJ,read:E7,toCDNUrl:eL,toJSON:Bm,write:Um},Symbol.toStringTag,{value:"Module"})),XJ={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},QJ=Object.values(XJ),KJ=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${QJ.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),kme=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${QJ.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Ame=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function pQe(t){return KJ.test(t)}function zc(t){if(t==null)return null;const e=Si(t),i=(e==null?void 0:e.path.match(KJ))||(e==null?void 0:e.path.match(kme));if(!i)return null;const[,r,s,n,a]=i,o=s.indexOf("/");return{title:tL(o!==-1?s.slice(o+1):s),serverType:XJ[n.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:r}}}function Pme(t){const e=Si(t).path.match(Ame);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function tL(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function Lme(t,e){const i=[];if(t){const r=zc(t);r!=null&&r.title&&i.push(r.title)}if(e){const r=tL(e);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function Dw(t){let e=oa(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function Rme(t,e){return t&&DJ(VJ(t,e))}function Ome(t){let{url:e}=t;if(!e)return{url:e};e=VJ(e,t.logger);const i=Si(e),r=zc(i.path);let s;if(r!=null)r.sublayer!=null&&t.layer.layerId==null&&(s=r.sublayer),e=r.url.path;else if(t.nonStandardUrlAllowed){const n=Pme(i.path);n!=null&&(e=n.serviceUrl,s=n.sublayerId)}return{url:DJ(e),layerId:s}}function Fme(t,e,i,r,s){Um(e,r,"url",s),r.url&&t.layerId!=null&&(r.url=uh(r.url,i,t.layerId.toString()))}function mQe(t){if(!t)return!1;const e=t.toLowerCase(),i=e.includes("/services/"),r=e.includes("/mapserver/wmsserver"),s=e.includes("/imageserver/wmsserver"),n=e.includes("/wmsserver");return i&&(r||s||n)}function yQe(t){var r;if(!t)return!1;const e=new Uf(vn(t)),i=(r=e.authority)==null?void 0:r.toLowerCase();return i==="server.arcgisonline.com"||i==="services.arcgisonline.com"}const Nme=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function iL(t){if(!rL(t))return null;const e=r=>r instanceof RegExp?r.test(t):typeof r=="string"&&t.startsWith(r),i=ut.apiKeys;if(Array.isArray(i.scopes)){for(const r of i.scopes)if(Array.isArray(r.urls)){if(r.urls.some(e))return r.token}else if(e(r.urls))return r.token}return i.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?i.basemapStyles:ut.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?ut.apiKey:null}function mI(){return ut.apiKey!=null||ut.apiKeys.basemapStyles!=null}function Dme(t,e){return e?rL(t):iL(t)!=null}function rL(t){const e=oa(t,!0);return!!e&&!Nme.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function zme(t,e,i=!1,r){return new Promise((s,n)=>{if(Ya(r))return void n(IN());let a=()=>{u(),n(new Error(`Unable to load ${e}`))},o=()=>{const d=t;u(),s(d)},l=()=>{if(!t)return;const d=t;u(),d.src="",n(IN())};const u=()=>{q("esri-image-decode")||(t.removeEventListener("error",a),t.removeEventListener("load",o)),a=null,o=null,t=null,r!=null&&r.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(e)};r!=null&&r.addEventListener("abort",l),q("esri-image-decode")?t.decode().then(o,a):(t.addEventListener("error",a),t.addEventListener("load",o))})}function IN(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const eY="Timeout exceeded";function Vme(){return new Error(eY)}function gQe(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===eY}function jme(t){ut.request.crossOriginNoCorsDomains||(ut.request.crossOriginNoCorsDomains={});const e=ut.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?e[oa(i)??""]=0:(e[oa("http://"+i)??""]=0,e[oa("https://"+i)??""]=0)}function qme(t){const e=ut.request.crossOriginNoCorsDomains;if(e){let i=oa(t);if(i)return i=i.toLowerCase(),!Ac(i,GP())&&e[i]<Date.now()-36e5}return!1}async function Bme(t){var s;const e=Si(t);t=e.path,((s=e.query)==null?void 0:s.f)==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const i=ut.request.crossOriginNoCorsDomains,r=oa(t);i&&r&&(i[r.toLowerCase()]=Date.now())}const yI=new Map;function Ume(t,e){const i=e==null?void 0:e.preferredHost;if(!i||Ac(t,`https://${i}`,!0))return;const r=zc(t);if(!r||r.serverType!=="FeatureServer"||EJ(t))return;const s=r.url.path.toLowerCase();yI.has(s)||yI.set(s,i)}function EN(t){var r;const e=(r=zc(t))==null?void 0:r.url.path.toLowerCase();if(!e)return t;const i=yI.get(e);return i?zJ(t,i):t}async function it(t,e){var m;t instanceof URL&&(t=t.toString()),(e==null?void 0:e.query)instanceof URLSearchParams&&(e.query=HP(e.query.toString().replaceAll("+"," ")));const i=vd(t),r=f1(t);r||i||(t=Ja(t));const s={url:t,requestOptions:{...e}},n=g=>({data:g,getAllHeaders:Cb,getHeader:Cb,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),a=uI(t,Oa.internalInterceptors);if(a){const g=await CN(a,s);if(g!=null)return n(g)}let o=uI(t);if(o){const g=await CN(o,s);if(g!=null)return n(g);o.after||o.error||(o=null)}if(t=s.url,(e=s.requestOptions).responseType==="image"&&(q("host-webworker")||q("host-node")))throw Go("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(e.method==="head"){if(e.body)throw Go("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw Go("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await Jme(),$4)return $4.execute(t,e);const l=new AbortController,u=Zo(e,()=>l.abort()),d={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:o,params:s,redoRequest:!1,useIdentity:Oa.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},h=e.useRequestQueue?e0e(d):bI(d),p=await h.finally(()=>u==null?void 0:u.remove());return(m=o==null?void 0:o.after)==null||m.call(o,p),p}let $4,tY=!1;const Oa=ut.request,iY="FormData"in globalThis,Gme=new Set([499,498,403,401]),Hme=new Set(["COM_0056","COM_0057","SB_0008"]),Wme=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Cb=()=>null,T4=Symbol();function Zme(t){const e=oa(t);e&&!it._corsServers.includes(e)&&it._corsServers.push(e)}function MN(t){const e=oa(t);return!e||e.endsWith(".arcgis.com")||it._corsServers.includes(e)||ZP(e)}function Go(t,e,i,r){var a;let s;const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Cb,getHeader:Cb,ssl:!1};if(e instanceof P)return e.details?(e.details=z(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=n,e;if(e){const o=r&&(()=>Array.from(r.headers)),l=r&&(h=>r.headers.get(h)),u=r==null?void 0:r.status,d=e.message;d&&(s=d),o&&l&&(n.getAllHeaders=o,n.getHeader=l),n.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||u||0,n.subCode=e.subcode,n.messageCode=e.messageCode,typeof e.details=="string"?(n.messages=[e.details],s??(s=e.details)):(n.messages=e.details,s??(s=(a=n.messages)==null?void 0:a[0])),n.raw=T4 in e?e[T4]:e}return s??(s="Error"),tr(e)?jt():new P(t,s,n)}async function Jme(){q("host-webworker")&&(!$4&&globalThis.invokeStaticMessage?$4=await R(()=>import("./request-DA2rkqtv.js"),[]):tY=!0)}async function gI(){Pe||await R(()=>import("./IdentityManager-DuQna8Ui.js"),[])}async function Yme(t){var o;const e=t.params.url,i=t.params.requestOptions,r=t.controller.signal,s=i.body;let n=null,a=null;if(iY&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(a=s),t.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Oa.priority,redirect:"follow",signal:r},(n||a)&&(t.fetchOptions.body=n||a),(tY||i.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||(o=i.query)!=null&&o.token||n!=null&&n.get("token")),!t.hasToken){const l=iL(e);l&&(i.query??(i.query={}),i.query.token=l,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!rY(e)&&!Ya(r)){let l;i.authMode==="immediate"?(await gI(),l=await Pe.getCredential(e,{signal:r})):i.authMode==="no-prompt"?(await gI(),l=await Pe.getCredential(e,{prompt:!1,signal:r}).catch(()=>{})):Pe&&(l=Pe.findCredential(e)),l&&(t.credential=l,t.credentialToken=l.token,t.useSSL=!!l.ssl)}}function rY(t){return Wme.some(e=>e.test(t))}async function Xme(t){let e=t.params.url,i=EN(e);const r=t.params.requestOptions,s=t.fetchOptions??{},n=f1(e)||vd(e),a=r.responseType||"json",o=n?0:r.timeout!=null?r.timeout:Oa.timeout;let l=!1;if(!n){t.useSSL&&(e=XP(e));let m={...r.query};t.credentialToken&&(m.token=t.credentialToken);let g=Nw(m);q("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const b=i.length+1+g.length;let v;l=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||b>Oa.maxUrlLength;const w=r.useProxy||!!I7(e);if(w){const _=LJ(e);v=_.path,!l&&v.length+1+b>Oa.maxUrlLength&&(l=!0),_.query&&(m={..._.query,...m})}if(s.method==="HEAD"&&(l||w)){if(l)throw b>Oa.maxUrlLength?Go("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Go("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(w)throw Go("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(l?(s.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?e=$9(e,m):(s.body=Nw(m),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):e=$9(e,m),w&&(t.useProxy=!0,e=`${v}?${e}`),m.token&&iY&&s.body instanceof FormData&&!EJ(e)&&s.body.set("token",m.token),r.hasOwnProperty("withCredentials"))t.withCredentials=r.withCredentials;else if(!Ac(e,GP())){if(ZP(e))t.withCredentials=!0;else if(Pe){const _=Pe.findServerInfo(e);_!=null&&_.webTierAuth&&(t.withCredentials=!0)}}t.withCredentials&&(s.credentials="include",qme(e)&&await Bme(l?$9(e,m):e)),i=EN(e)}let u,d,h=0,p=!1;o>0&&(h=setTimeout(()=>{p=!0,t.controller.abort()},o));try{if(r.responseType==="native-request-init")d=s,d.url=i,r.signal?d.signal=r.signal:delete d.signal;else if(r.responseType!=="image"||s.cache!=="default"||s.method!=="GET"||l||Qme(r.headers)||!n&&!t.useProxy&&Oa.proxyUrl&&!MN(e)){if(it._beforeFetch&&await it._beforeFetch(e,s),u=await fetch(i,s),it._afterFetch&&await it._afterFetch(u),t.useProxy||Zme(e),r.responseType==="native")d=u;else if(s.method!=="HEAD")if(u.ok){switch(a){case"array-buffer":d=await u.arrayBuffer();break;case"blob":case"image":d=await u.blob();break;default:d=await u.text()}if(h&&(clearTimeout(h),h=0),a==="json"||a==="xml"||a==="document")if(d)switch(a){case"json":d=JSON.parse(d);break;case"xml":d=kN(d,"application/xml");break;case"document":d=kN(d,"text/html")}else d=null;if(d){if(a==="array-buffer"||a==="blob"){const m=u.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&d[a==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(d).json();g.error&&(d=g)}catch{}}a==="image"&&d instanceof Blob&&(d=await AN(URL.createObjectURL(d),t,!0))}}else{d=await u.text();try{d=JSON.parse(d)}catch{}}}else d=await AN(i,t)}catch(m){if(m.name==="AbortError")throw p?Vme():jt("Request canceled");if(!(!u&&m instanceof TypeError&&Oa.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||t.useProxy||MN(e))throw m;t.redoRequest=!0,dme({proxyUrl:Oa.proxyUrl,urlPrefix:oa(e)??""})}finally{h&&clearTimeout(h)}return[u,d]}async function CN(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let i,r;try{r=await t.before(e)}catch(s){i=Go("request:interceptor",s,e)}if((r instanceof Error||r instanceof P)&&(i=Go("request:interceptor",r,e)),i)throw t.error&&t.error(i),i;return r}}function Qme(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function kN(t,e){let i;try{i=new DOMParser().parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}it._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],it._beforeFetch=void 0,it._afterFetch=void 0;const Kme=new Map;async function e0e(t){const e=i0e(t.params.url);if(!e)return bI(t);const{QueueProcessor:i}=await R(()=>import("./QueueProcessor-CZFVgrNY.js"),[]);return bd(Kme,e.origin,()=>{const s=e.isHosted?q("request-queue-concurrency-hosted"):q("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(Ya(n.params.requestOptions))throw Go("",jt("Request canceled"),n.params);return bI(n)}})}).push(t)}async function bI(t){var n,a;let e,i;await Yme(t);try{do[e,i]=await Xme(t);while(!await t0e(t,e,i))}catch(o){const l=Go("request:server",o,t.params,e);throw l.details.ssl=t.useSSL,(n=t.interceptor)!=null&&n.error&&t.interceptor.error(l),l}const r=t.params.url;if(i)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!t.hasToken&&!t.credentialToken&&((a=i.user)!=null&&a.username)&&!ZP(r)){const o=oa(r,!0);o&&Oa.trustedServers.push(o)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&jme(i.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&Ume(r,i);const s=t.credential;if(s&&Pe){const o=Pe.findServerInfo(s.server);let l=o==null?void 0:o.owningSystemUrl;if(l){l=l.replace(/\/?$/,"/sharing");const u=Pe.findCredential(l,s.userId);u&&Pe._getIdenticalSvcIdx(l,u)===-1&&u.resources.unshift(l)}}return{data:i,getAllHeaders:e?()=>Array.from(e.headers):Cb,getHeader:e?o=>e.headers.get(o):Cb,httpStatus:(e==null?void 0:e.status)??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function t0e(t,e,i){var u;if(t.redoRequest)return t.redoRequest=!1,!1;const r=t.params.requestOptions;if(!e||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[T4]=i,s.details=i.messages)),!s&&!e.ok)throw s=new Error(`Unable to load ${e.url} status: ${e.status}`),s[T4]=i,s;let a,o=null;s&&(n=Number(s.code),o=s.hasOwnProperty("subcode")?Number(s.subcode):null,a=s.messageCode,a=a==null?void 0:a.toUpperCase());const l=r.authMode;if(n===403&&(o===4||(u=s.message)!=null&&u.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&Gme.has(n)&&!rY(t.params.url)&&(n!==403||(!a||!Hme.has(a))&&(o==null||o===2&&t.credentialToken))){await gI();try{const d=await Pe.getCredential(t.params.url,{error:Go("request:server",s,t.params),credential:t.credential,prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=d,t.credentialToken=d.token,t.useSSL=t.useSSL||d.ssl,!1}catch(d){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;s=d}}if(s)throw s;return!0}function AN(t,e,i=!1){const r=e.controller.signal,s=new Image;return e.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Oa.priority,s.src=t,zme(s,t,i,r)}function i0e(t){let e,i;return typeof t=="string"?(e=oa(t,!0),i=Dw(t)):(e=t.origin,i=Dw(t.toString())),e==null?null:{origin:e,isHosted:i}}function Xt(t){if(!ut.assetsPath)throw W.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new P("assets:path-not-set","config.assetsPath is not set");return uh(ut.assetsPath,t)}let wx,j=null;function sL(){return!!j}function r0e(){return!!q("esri-wasm")}function sY(){return wx||(wx=R(()=>import("./pe-wasm-CyV_MJXv.js"),[]).then(({default:t})=>t({locateFile:e=>Xt(`esri/geometry/support/${e}`)})).then(t=>{oY(t)}),wx)}var vI,ai;(function(t){function e(n,a,o){j.ensureCache.prepare();const l=Dp(o),u=o===l,d=j.ensureFloat64(l),h=j._pe_geog_to_proj(j.getPointer(n),a,d);return h&&_f(o,a,d,u),h}function i(n,a,o,l){switch(l){case ai.PE_TRANSFORM_P_TO_G:return r(n,a,o);case ai.PE_TRANSFORM_G_TO_P:return e(n,a,o)}return 0}function r(n,a,o){return s(n,a,o,0)}function s(n,a,o,l){j.ensureCache.prepare();const u=Dp(o),d=o===u,h=j.ensureFloat64(u),p=j._pe_proj_to_geog_center(j.getPointer(n),a,h,l);return p&&_f(o,a,h,d),p}t.geogToProj=e,t.projGeog=i,t.projToGeog=r,t.projToGeogCenter=s})(vI||(vI={})),function(t){function e(){t.PE_BUFFER_MAX=j.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=j.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=j.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=j.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=j.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=j.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=j.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=j.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=j.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=j.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=j.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=j.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=j.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=j.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=j.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=j.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=j.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=j.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=j.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=j.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=j.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=j.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=j.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=j.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=j.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=j.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=j.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=j.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=j.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=j.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=j.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=j.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e}(ai||(ai={}));let nY=null;var wI;(function(t){const e={},i={},r=m=>{const g=m.getType();switch(g){case ai.PE_TYPE_GEOGCS:m=j.castObject(m,j.PeGeogcs);break;case ai.PE_TYPE_PROJCS:m=j.castObject(m,j.PeProjcs);break;case ai.PE_TYPE_GEOGTRAN:m=j.castObject(m,j.PeGeogtran);break;default:g&ai.PE_TYPE_UNIT&&(m=j.castObject(m,j.PeUnit))}return m};function s(){j.PeFactory.prototype.initialize(null)}function n(m){return a(ai.PE_TYPE_COORDSYS,m)}function a(m,g){let b=null,v=e[m];if(v||(v={},e[m]=v),v.hasOwnProperty(String(g))&&(b=v[g],j.compare(b,j.NULL)&&(b=null)),!b){const w=j.PeFactory.prototype.factoryByType(m,g);j.compare(w,j.NULL)||(b=r(w),v[g]=b)}return b}function o(m,g){let b=null,v=i[m];if(v||(v={},i[m]=v),v.hasOwnProperty(g)&&(b=v[g],j.compare(b,j.NULL)&&(b=null)),!b){const w=j.PeFactory.prototype.fromString(m,g);j.compare(w,j.NULL)||(b=r(w),v[g]=b)}return b}function l(m){return a(ai.PE_TYPE_GEOGCS,m)}function u(m){return a(ai.PE_TYPE_GEOGTRAN,m)}function d(m){return j.PeFactory.prototype.getCode(m)}function h(m){return a(ai.PE_TYPE_PROJCS,m)}function p(m){return a(ai.PE_TYPE_UNIT,m)}t.initialize=s,t.coordsys=n,t.factoryByType=a,t.fromString=o,t.geogcs=l,t.geogtran=u,t.getCode=d,t.projcs=h,t.unit=p})(wI||(wI={}));let aY=null;var I4,_I,SI,xI,$I,TI,E4,II,M4,C4,EI;function oY(t){function e(n,a,o){n[a]=o(n[a])}j=t,ai.init(),I4.init(),E4.init(),M4.init(),C4.init(),nY=class extends j.PeDouble{constructor(n=NaN){super(n)}destroy(){j.destroy(this)}[Symbol.dispose](){this.destroy()}},aY=class extends j.PeGCSExtent{destroy(){j.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[j.PeAngunit,j.PeDatum,j.PeGeogcs,j.PeGeogtran,j.PeObject,j.PeParameter,j.PePrimem,j.PeProjcs,j.PeSpheroid,j.PeUnit];for(const n of i)e(n.prototype,"getName",a=>function(){return a.call(this,new Array(ai.PE_NAME_MAX))});for(const n of[j.PeGeogtran,j.PeProjcs])e(n.prototype,"getParameters",a=>function(){const o=new Array(ai.PE_PARM_MAX);let l=a.call(this);for(let u=0;u<o.length;u++){const d=j.getValue(l,"*");o[u]=d?j.wrapPointer(d,j.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return o});e(j.PeHorizon.prototype,"getCoord",n=>function(a=!1){const o=this.getSize();if(!o)return null;const l=[];return _f(l,o,n.call(this),a),l}),e(j.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const a=j._pe_getPeGTlistExtendedGTsSize();return function(){let o=null;const l=n.call(this);if(!j.compare(l,j.NULL)){o=[l];const u=this.getSteps();if(u>1){const d=j.getPointer(l);for(let h=1;h<u;h++)o.push(j.wrapPointer(d+a*h,j.PeGTlistExtendedGTs))}}return o}});const r=j._pe_getPeHorizonSize(),s=n=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(n))return a.get(n);let o=null;const l=n.call(this);if(!j.compare(l,j.NULL)){o=[l];const u=l.getNump();if(u>1){const d=j.getPointer(l);for(let h=1;h<u;h++)o.push(j.wrapPointer(d+r*h,j.PeHorizon))}}return a.set(n,o),o};e(j.PeProjcs.prototype,"horizonGcsGenerate",s),e(j.PeProjcs.prototype,"horizonPcsGenerate",s),j.PeObject.prototype.toString=function(n=ai.PE_STR_OPTS_NONE){j.ensureCache.prepare();const a=j.getPointer(this),o=j.ensureInt8(new Array(ai.PE_BUFFER_MAX));return j.UTF8ToString(j._pe_object_to_string_ext(a,n,o))},j.PeGeogcs.prototype.destroy=function(){this.Delete(),$o(this),this.ptr=0},j.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},j.PeProjcs.prototype.destroy=function(){this.Delete(),$o(this),this.ptr=0},j.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function $o(t){if(!t)return;const e=j.getClass(t);if(!e)return;const i=j.getCache(e);if(!i)return;const r=j.getPointer(t);r&&delete i[r]}function z3(t,e){const i=[],r=new Array(e);for(let s=0;s<t;s++)i.push(j.ensureInt8(r));return i}function Dp(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function _f(t,e,i,r=!1){if(r)for(let s=0;s<2*e;s++)t[s]=j.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=t.length===0;for(let n=0;n<e;n++)s&&(t[n]=new Array(2)),t[n][0]=j.getValue(i,"double"),t[n][1]=j.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(t){let e;function i(){t.PE_GTLIST_OPTS_COMMON=j.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=j._pe_getPeGTlistExtendedEntrySize()}function r(s,n,a,o,l,u){let d=null;const h=new j.PeInteger(u);try{const p=j.PeGTlistExtended.prototype.getGTlist(s,n,a,o,l,h);if((u=h.val)&&(d=[p],u>1)){const m=j.getPointer(p);for(let g=1;g<u;g++)d.push(j.wrapPointer(m+e*g,j.PeGTlistExtendedEntry))}}finally{j.destroy(h)}return d}t.init=i,t.getGTlist=r})(I4||(I4={})),function(t){function e(i){if(i!=null&&i.length){for(const r of i)$o(r),r.getEntries().forEach(s=>{$o(s);const n=s.getGeogtran();$o(n),n.getParameters().forEach($o),[n.getGeogcs1(),n.getGeogcs2()].forEach(a=>{$o(a);const o=a.getDatum();$o(o),$o(o.getSpheroid()),$o(a.getPrimem()),$o(a.getUnit())})});j.PeGTlistExtendedEntry.prototype.Delete(i[0])}}t.destroy=e}(_I||(_I={})),function(t){function e(i,r,s,n,a){j.ensureCache.prepare();const o=Dp(s),l=s===o,u=j.ensureFloat64(o);let d=0;n&&(d=j.ensureFloat64(n));const h=j._pe_geog_to_geog(j.getPointer(i),r,u,d,a);return h&&_f(s,r,u,l),h}t.geogToGeog=e}(SI||(SI={})),function(t){function e(n,a,o,l,u,d,h,p){j.PeLineType.prototype.geodesic_coordinate(n,a,o,l,u,d,h,p)}function i(n,a,o,l,u,d,h,p,m){j.PeLineType.prototype.geodetic_coordinate(n,a,o,l,u,d,h,p,m)}function r(n,a,o,l,u,d,h,p,m,g){j.PeLineType.prototype.geodetic_distance(n,a,o,l,u,d,h,p,m,g)}function s(n,a,o,l,u,d,h,p,m){j.PeLineType.prototype.great_elliptic_distance(n,a,o,l,u,d,h,p,m)}t.geodesicCoordinate=e,t.geodeticCoordinate=i,t.geodeticDistance=r,t.greatEllipticDistance=s}(xI||(xI={})),function(t){function e(a,o){return j.PeMath.prototype.phi_to_eta(a,o)}function i(a,o){return j.PeMath.prototype.eta_to_phi(a,o)}function r(a,o){return j.PeMath.prototype.phi_to_phig(a,o)}function s(a,o,l){return j.PeMath.prototype.q(a,o,l)}function n(a,o){return j.PeMath.prototype.q90(a,o)}t.phiToEta=e,t.etaToPhi=i,t.phiToPhig=r,t.q=s,t.q90=n}($I||($I={})),function(t){const e=(u,d,h,p,m,g)=>{let b,v;switch(j.ensureCache.prepare(),u){case"dd":b=j._pe_geog_to_dd,v=ai.PE_DD_MAX;break;case"ddm":b=j._pe_geog_to_ddm,v=ai.PE_DDM_MAX;break;case"dms":b=j._pe_geog_to_dms,v=ai.PE_DMS_MAX}let w=0;d&&(w=j.getPointer(d));const _=Dp(p),S=j.ensureFloat64(_),T=z3(h,v),C=b(w,h,S,m,j.ensureInt32(T));if(C)for(let A=0;A<h;A++)g[A]=j.UTF8ToString(T[A]);return C},i=(u,d,h,p,m)=>{let g;switch(j.ensureCache.prepare(),u){case"dd":g=j._pe_dd_to_geog;break;case"ddm":g=j._pe_ddm_to_geog;break;case"dms":g=j._pe_dms_to_geog}let b=0;d&&(b=j.getPointer(d));const v=p.map(T=>j.ensureString(T)),w=j.ensureInt32(v),_=j.ensureFloat64(new Array(2*h)),S=g(b,h,w,_);return S&&_f(m,h,_),S};function r(u,d,h,p,m){return e("dms",u,d,h,p,m)}function s(u,d,h,p){return i("dms",u,d,h,p)}function n(u,d,h,p,m){return e("ddm",u,d,h,p,m)}function a(u,d,h,p){return i("ddm",u,d,h,p)}function o(u,d,h,p,m){return e("dd",u,d,h,p,m)}function l(u,d,h,p){return i("dd",u,d,h,p)}t.geogToDms=r,t.dmsToGeog=s,t.geogToDdm=n,t.ddmToGeog=a,t.geogToDd=o,t.ddToGeog=l}(TI||(TI={})),function(t){function e(){t.PE_MGRS_STYLE_NEW=j.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=j.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=j.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=j.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=j.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,n,a,o,l,u,d){j.ensureCache.prepare();let h=0;s&&(h=j.getPointer(s));const p=Dp(a),m=j.ensureFloat64(p),g=z3(n,ai.PE_MGRS_MAX),b=j.ensureInt32(g),v=j._pe_geog_to_mgrs_extended(h,n,m,o,l,u,b);if(v)for(let w=0;w<n;w++)d[w]=j.UTF8ToString(g[w]);return v}function r(s,n,a,o,l){j.ensureCache.prepare();let u=0;s&&(u=j.getPointer(s));const d=a.map(g=>j.ensureString(g)),h=j.ensureInt32(d),p=j.ensureFloat64(new Array(2*n)),m=j._pe_mgrs_to_geog_extended(u,n,h,o,p);return m&&_f(l,n,p),m}t.init=e,t.geogToMgrsExtended=i,t.mgrsToGeogExtended=r}(E4||(E4={})),function(t){function e(r,s,n,a,o,l,u){j.ensureCache.prepare();let d=0;r&&(d=j.getPointer(r));const h=Dp(n),p=j.ensureFloat64(h),m=z3(s,ai.PE_MGRS_MAX),g=j.ensureInt32(m),b=j._pe_geog_to_usng(d,s,p,a,o,l,g);if(b)for(let v=0;v<s;v++)u[v]=j.UTF8ToString(m[v]);return b}function i(r,s,n,a){j.ensureCache.prepare();let o=0;r&&(o=j.getPointer(r));const l=n.map(p=>j.ensureString(p)),u=j.ensureInt32(l),d=j.ensureFloat64(new Array(2*s)),h=j._pe_usng_to_geog(o,s,u,d);return h&&_f(a,s,d),h}t.geogToUsng=e,t.usngToGeog=i}(II||(II={})),function(t){function e(){t.PE_UTM_OPTS_NONE=j.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=j.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=j.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,n,a,o,l){j.ensureCache.prepare();let u=0;s&&(u=j.getPointer(s));const d=Dp(a),h=j.ensureFloat64(d),p=z3(n,ai.PE_UTM_MAX),m=j.ensureInt32(p),g=j._pe_geog_to_utm(u,n,h,o,m);if(g)for(let b=0;b<n;b++)l[b]=j.UTF8ToString(p[b]);return g}function r(s,n,a,o,l){j.ensureCache.prepare();let u=0;s&&(u=j.getPointer(s));const d=a.map(g=>j.ensureString(g)),h=j.ensureInt32(d),p=j.ensureFloat64(new Array(2*n)),m=j._pe_utm_to_geog(u,n,h,o,p);return m&&_f(l,n,p),m}t.init=e,t.geogToUtm=i,t.utmToGeog=r}(M4||(M4={})),function(t){const e=new Map;function i(){t.PE_PCSINFO_OPTION_NONE=j.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=j.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=j.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=j.PePCSInfo.prototype.PE_POLE_POINT}function r(s,n=t.PE_PCSINFO_OPTION_DOMAIN){let a=null,o=null;return e.has(s)&&(o=e.get(s),o[n]&&(a=o[n])),a||(a=j.PePCSInfo.prototype.generate(s,n),o||(o=[],e.set(s,o)),o[n]=a),a}t.init=i,t.generate=r}(C4||(C4={})),function(t){function e(){return j.PeVersion.prototype.version_string()}t.versionString=e}(EI||(EI={}));const s0e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return vI},get PeDefs(){return ai},get PeDouble(){return nY},get PeFactory(){return wI},get PeGCSExtent(){return aY},get PeGTTransformations(){return SI},get PeGTlistExtended(){return I4},get PeGTlistExtendedEntry(){return _I},get PeLineType(){return xI},get PeMath(){return $I},get PeNotationDms(){return TI},get PeNotationMgrs(){return E4},get PeNotationUsng(){return II},get PeNotationUtm(){return M4},get PePCSInfo(){return C4},get PeVersion(){return EI},_init:oY,get _pe(){return j},isLoaded:sL,isSupported:r0e,load:sY},Symbol.toStringTag,{value:"Module"}));var ja;(function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"})(ja||(ja={}));let y;const k={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(y=2e3;y<=2045;y++)k[y]=0;for(y=2056;y<=2065;y++)k[y]=0;for(y=2067;y<=2135;y++)k[y]=0;for(y=2137;y<=2154;y++)k[y]=0;for(y=2161;y<=2170;y++)k[y]=0;for(y=2172;y<=2193;y++)k[y]=0;for(y=2195;y<=2198;y++)k[y]=0;for(y=2200;y<=2203;y++)k[y]=0;for(y=2205;y<=2217;y++)k[y]=0;for(y=2222;y<=2224;y++)k[y]=1;for(y=2225;y<=2250;y++)k[y]=2;for(y=2251;y<=2253;y++)k[y]=1;for(y=2257;y<=2264;y++)k[y]=2;for(y=2274;y<=2279;y++)k[y]=2;for(y=2280;y<=2282;y++)k[y]=1;for(y=2283;y<=2289;y++)k[y]=2;for(y=2290;y<=2292;y++)k[y]=0;for(y=2308;y<=2313;y++)k[y]=0;for(y=2315;y<=2491;y++)k[y]=0;for(y=2494;y<=2866;y++)k[y]=0;for(y=2867;y<=2869;y++)k[y]=1;for(y=2870;y<=2888;y++)k[y]=2;for(y=2891;y<=2895;y++)k[y]=2;for(y=2896;y<=2898;y++)k[y]=1;for(y=2902;y<=2908;y++)k[y]=2;for(y=2915;y<=2920;y++)k[y]=2;for(y=2921;y<=2923;y++)k[y]=1;for(y=2924;y<=2930;y++)k[y]=2;for(y=2931;y<=2962;y++)k[y]=0;for(y=2964;y<=2968;y++)k[y]=2;for(y=2969;y<=2973;y++)k[y]=0;for(y=2975;y<=2991;y++)k[y]=0;for(y=2995;y<=3051;y++)k[y]=0;for(y=3054;y<=3079;y++)k[y]=0;for(y=3081;y<=3088;y++)k[y]=0;for(y=3092;y<=3101;y++)k[y]=0;for(y=3106;y<=3138;y++)k[y]=0;for(y=3146;y<=3151;y++)k[y]=0;for(y=3153;y<=3166;y++)k[y]=0;for(y=3168;y<=3172;y++)k[y]=0;for(y=3174;y<=3203;y++)k[y]=0;for(y=3294;y<=3358;y++)k[y]=0;for(y=3367;y<=3403;y++)k[y]=0;for(y=3408;y<=3416;y++)k[y]=0;for(y=3417;y<=3438;y++)k[y]=2;for(y=3441;y<=3446;y++)k[y]=2;for(y=3447;y<=3450;y++)k[y]=0;for(y=3451;y<=3459;y++)k[y]=2;for(y=3460;y<=3478;y++)k[y]=0;for(y=3554;y<=3559;y++)k[y]=0;for(y=3560;y<=3570;y++)k[y]=2;for(y=3571;y<=3581;y++)k[y]=0;for(y=3594;y<=3597;y++)k[y]=0;for(y=3601;y<=3604;y++)k[y]=0;for(y=3637;y<=3639;y++)k[y]=0;for(y=3665;y<=3667;y++)k[y]=0;for(y=3693;y<=3695;y++)k[y]=0;for(y=3701;y<=3727;y++)k[y]=0;for(y=3728;y<=3739;y++)k[y]=2;for(y=3740;y<=3751;y++)k[y]=0;for(y=3753;y<=3760;y++)k[y]=2;for(y=3761;y<=3773;y++)k[y]=0;for(y=3775;y<=3777;y++)k[y]=0;for(y=3779;y<=3781;y++)k[y]=0;for(y=3783;y<=3785;y++)k[y]=0;for(y=3788;y<=3791;y++)k[y]=0;for(y=3797;y<=3802;y++)k[y]=0;for(y=3814;y<=3816;y++)k[y]=0;for(y=3825;y<=3829;y++)k[y]=0;for(y=3832;y<=3841;y++)k[y]=0;for(y=3844;y<=3852;y++)k[y]=0;for(y=3873;y<=3885;y++)k[y]=0;for(y=3890;y<=3893;y++)k[y]=0;for(y=3907;y<=3912;y++)k[y]=0;for(y=3942;y<=3950;y++)k[y]=0;for(y=3968;y<=3970;y++)k[y]=0;for(y=3973;y<=3976;y++)k[y]=0;for(y=3986;y<=3989;y++)k[y]=0;for(y=3994;y<=3997;y++)k[y]=0;for(y=4048;y<=4051;y++)k[y]=0;for(y=4056;y<=4063;y++)k[y]=0;for(y=4093;y<=4096;y++)k[y]=0;for(y=4390;y<=4398;y++)k[y]=0;for(y=4399;y<=4413;y++)k[y]=2;for(y=4418;y<=4433;y++)k[y]=2;for(y=4455;y<=4457;y++)k[y]=2;for(y=4484;y<=4489;y++)k[y]=0;for(y=4491;y<=4554;y++)k[y]=0;for(y=4568;y<=4589;y++)k[y]=0;for(y=4652;y<=4656;y++)k[y]=0;for(y=4766;y<=4800;y++)k[y]=0;for(y=5014;y<=5016;y++)k[y]=0;for(y=5069;y<=5072;y++)k[y]=0;for(y=5105;y<=5130;y++)k[y]=0;for(y=5167;y<=5188;y++)k[y]=0;for(y=5253;y<=5259;y++)k[y]=0;for(y=5269;y<=5275;y++)k[y]=0;for(y=5292;y<=5311;y++)k[y]=0;for(y=5329;y<=5331;y++)k[y]=0;for(y=5343;y<=5349;y++)k[y]=0;for(y=5355;y<=5357;y++)k[y]=0;for(y=5387;y<=5389;y++)k[y]=0;for(y=5459;y<=5463;y++)k[y]=0;for(y=5479;y<=5482;y++)k[y]=0;for(y=5518;y<=5520;y++)k[y]=0;for(y=5530;y<=5539;y++)k[y]=0;for(y=5550;y<=5552;y++)k[y]=0;for(y=5562;y<=5583;y++)k[y]=0;for(y=5623;y<=5625;y++)k[y]=2;for(y=5631;y<=5639;y++)k[y]=0;for(y=5649;y<=5653;y++)k[y]=0;for(y=5663;y<=5680;y++)k[y]=0;for(y=5682;y<=5685;y++)k[y]=0;for(y=5875;y<=5877;y++)k[y]=0;for(y=5896;y<=5899;y++)k[y]=0;for(y=5921;y<=5940;y++)k[y]=0;for(y=6050;y<=6125;y++)k[y]=0;for(y=6244;y<=6275;y++)k[y]=0;for(y=6328;y<=6348;y++)k[y]=0;for(y=6350;y<=6356;y++)k[y]=0;for(y=6366;y<=6372;y++)k[y]=0;for(y=6381;y<=6387;y++)k[y]=0;for(y=6393;y<=6404;y++)k[y]=0;for(y=6480;y<=6483;y++)k[y]=0;for(y=6511;y<=6514;y++)k[y]=0;for(y=6579;y<=6581;y++)k[y]=0;for(y=6619;y<=6624;y++)k[y]=0;for(y=6625;y<=6627;y++)k[y]=2;for(y=6628;y<=6632;y++)k[y]=0;for(y=6634;y<=6637;y++)k[y]=0;for(y=6669;y<=6692;y++)k[y]=0;for(y=6707;y<=6709;y++)k[y]=0;for(y=6720;y<=6723;y++)k[y]=0;for(y=6732;y<=6738;y++)k[y]=0;for(y=6931;y<=6933;y++)k[y]=0;for(y=6956;y<=6959;y++)k[y]=0;for(y=7005;y<=7007;y++)k[y]=0;for(y=7057;y<=7070;y++)k[y]=2;for(y=7074;y<=7082;y++)k[y]=0;for(y=7109;y<=7118;y++)k[y]=0;for(y=7119;y<=7127;y++)k[y]=1;for(y=7374;y<=7376;y++)k[y]=0;for(y=7528;y<=7586;y++)k[y]=0;for(y=7587;y<=7645;y++)k[y]=2;for(y=7692;y<=7696;y++)k[y]=0;for(y=7755;y<=7787;y++)k[y]=0;for(y=7791;y<=7795;y++)k[y]=0;for(y=7799;y<=7801;y++)k[y]=0;for(y=7803;y<=7805;y++)k[y]=0;for(y=7825;y<=7831;y++)k[y]=0;for(y=7845;y<=7859;y++)k[y]=0;for(y=8013;y<=8032;y++)k[y]=0;for(y=8065;y<=8068;y++)k[y]=1;for(y=8518;y<=8529;y++)k[y]=2;for(y=8533;y<=8536;y++)k[y]=2;for(y=8538;y<=8540;y++)k[y]=2;for(y=8677;y<=8679;y++)k[y]=0;for(y=8836;y<=8840;y++)k[y]=0;for(y=8857;y<=8859;y++)k[y]=0;for(y=8908;y<=8910;y++)k[y]=0;for(y=9154;y<=9159;y++)k[y]=0;for(y=9205;y<=9218;y++)k[y]=0;for(y=9271;y<=9273;y++)k[y]=0;for(y=9295;y<=9297;y++)k[y]=0;for(y=9356;y<=9360;y++)k[y]=0;for(y=9404;y<=9407;y++)k[y]=0;for(y=9476;y<=9482;y++)k[y]=0;for(y=9487;y<=9494;y++)k[y]=0;for(y=9697;y<=9699;y++)k[y]=0;for(y=9821;y<=9865;y++)k[y]=0;for(y=10285;y<=10291;y++)k[y]=0;for(y=10314;y<=10317;y++)k[y]=0;for(y=10448;y<=10465;y++)k[y]=0;for(y=10726;y<=10729;y++)k[y]=0;for(y=10731;y<=10733;y++)k[y]=0;for(y=11114;y<=11118;y++)k[y]=0;for(y=20004;y<=20032;y++)k[y]=0;for(y=20047;y<=20049;y++)k[y]=0;for(y=20062;y<=20092;y++)k[y]=0;for(y=20135;y<=20138;y++)k[y]=0;for(y=20248;y<=20258;y++)k[y]=0;for(y=20348;y<=20358;y++)k[y]=0;for(y=20436;y<=20440;y++)k[y]=0;for(y=20822;y<=20824;y++)k[y]=0;for(y=20904;y<=20932;y++)k[y]=0;for(y=20934;y<=20936;y++)k[y]=0;for(y=21004;y<=21032;y++)k[y]=0;for(y=21035;y<=21037;y++)k[y]=0;for(y=21095;y<=21097;y++)k[y]=0;for(y=21148;y<=21150;y++)k[y]=0;for(y=21207;y<=21264;y++)k[y]=0;for(y=21307;y<=21364;y++)k[y]=0;for(y=21413;y<=21423;y++)k[y]=0;for(y=21453;y<=21463;y++)k[y]=0;for(y=21473;y<=21483;y++)k[y]=0;for(y=21780;y<=21782;y++)k[y]=0;for(y=21891;y<=21894;y++)k[y]=0;for(y=21896;y<=21899;y++)k[y]=0;for(y=22171;y<=22177;y++)k[y]=0;for(y=22181;y<=22187;y++)k[y]=0;for(y=22191;y<=22197;y++)k[y]=0;for(y=22207;y<=22222;y++)k[y]=0;for(y=22229;y<=22232;y++)k[y]=0;for(y=22234;y<=22236;y++)k[y]=0;for(y=22243;y<=22250;y++)k[y]=0;for(y=22262;y<=22265;y++)k[y]=0;for(y=22307;y<=22322;y++)k[y]=0;for(y=22348;y<=22357;y++)k[y]=0;for(y=22407;y<=22422;y++)k[y]=0;for(y=22462;y<=22465;y++)k[y]=0;for(y=22521;y<=22525;y++)k[y]=0;for(y=22607;y<=22622;y++)k[y]=0;for(y=22641;y<=22646;y++)k[y]=0;for(y=22648;y<=22657;y++)k[y]=0;for(y=22707;y<=22722;y++)k[y]=0;for(y=22762;y<=22765;y++)k[y]=0;for(y=22807;y<=22822;y++)k[y]=0;for(y=22991;y<=22994;y++)k[y]=0;for(y=23028;y<=23038;y++)k[y]=0;for(y=23301;y<=23333;y++)k[y]=2;for(y=23830;y<=23853;y++)k[y]=0;for(y=23866;y<=23872;y++)k[y]=0;for(y=23877;y<=23884;y++)k[y]=0;for(y=23886;y<=23894;y++)k[y]=0;for(y=23946;y<=23948;y++)k[y]=0;for(y=24311;y<=24313;y++)k[y]=0;for(y=24342;y<=24347;y++)k[y]=0;for(y=24370;y<=24374;y++)k[y]=10;for(y=24375;y<=24381;y++)k[y]=0;for(y=24718;y<=24721;y++)k[y]=0;for(y=24817;y<=24821;y++)k[y]=0;for(y=24877;y<=24882;y++)k[y]=0;for(y=24891;y<=24893;y++)k[y]=0;for(y=25391;y<=25395;y++)k[y]=0;for(y=25828;y<=25838;y++)k[y]=0;for(y=26191;y<=26195;y++)k[y]=0;for(y=26391;y<=26393;y++)k[y]=0;for(y=26701;y<=26722;y++)k[y]=0;for(y=26729;y<=26799;y++)k[y]=2;for(y=26801;y<=26803;y++)k[y]=2;for(y=26811;y<=26813;y++)k[y]=2;for(y=26847;y<=26870;y++)k[y]=2;for(y=26891;y<=26899;y++)k[y]=0;for(y=26901;y<=26923;y++)k[y]=0;for(y=26929;y<=26946;y++)k[y]=0;for(y=26948;y<=26998;y++)k[y]=0;for(y=27037;y<=27040;y++)k[y]=0;for(y=27205;y<=27232;y++)k[y]=0;for(y=27258;y<=27260;y++)k[y]=0;for(y=27391;y<=27398;y++)k[y]=0;for(y=27561;y<=27564;y++)k[y]=0;for(y=27571;y<=27574;y++)k[y]=0;for(y=27581;y<=27584;y++)k[y]=0;for(y=27591;y<=27594;y++)k[y]=0;for(y=27700;y<=27707;y++)k[y]=0;for(y=28191;y<=28193;y++)k[y]=0;for(y=28348;y<=28358;y++)k[y]=0;for(y=28402;y<=28432;y++)k[y]=0;for(y=28462;y<=28492;y++)k[y]=0;for(y=29118;y<=29122;y++)k[y]=0;for(y=29168;y<=29172;y++)k[y]=0;for(y=29177;y<=29185;y++)k[y]=0;for(y=29187;y<=29195;y++)k[y]=0;for(y=29900;y<=29903;y++)k[y]=0;for(y=30161;y<=30179;y++)k[y]=0;for(y=30491;y<=30494;y++)k[y]=0;for(y=30729;y<=30732;y++)k[y]=0;for(y=31251;y<=31259;y++)k[y]=0;for(y=31265;y<=31268;y++)k[y]=0;for(y=31275;y<=31279;y++)k[y]=0;for(y=31281;y<=31297;y++)k[y]=0;for(y=31461;y<=31469;y++)k[y]=0;for(y=31491;y<=31495;y++)k[y]=0;for(y=31917;y<=31922;y++)k[y]=0;for(y=31965;y<=32e3;y++)k[y]=0;for(y=32001;y<=32003;y++)k[y]=2;for(y=32005;y<=32031;y++)k[y]=2;for(y=32033;y<=32060;y++)k[y]=2;for(y=32064;y<=32067;y++)k[y]=2;for(y=32074;y<=32077;y++)k[y]=2;for(y=32081;y<=32086;y++)k[y]=0;for(y=32107;y<=32130;y++)k[y]=0;for(y=32133;y<=32159;y++)k[y]=0;for(y=32164;y<=32167;y++)k[y]=2;for(y=32180;y<=32199;y++)k[y]=0;for(y=32201;y<=32260;y++)k[y]=0;for(y=32301;y<=32360;y++)k[y]=0;for(y=32401;y<=32460;y++)k[y]=0;for(y=32501;y<=32560;y++)k[y]=0;for(y=32601;y<=32662;y++)k[y]=0;for(y=32664;y<=32667;y++)k[y]=2;for(y=32701;y<=32761;y++)k[y]=0;for(y=53001;y<=53004;y++)k[y]=0;for(y=53008;y<=53019;y++)k[y]=0;for(y=53021;y<=53032;y++)k[y]=0;for(y=53034;y<=53037;y++)k[y]=0;for(y=53042;y<=53046;y++)k[y]=0;for(y=53074;y<=53080;y++)k[y]=0;for(y=54001;y<=54004;y++)k[y]=0;for(y=54008;y<=54019;y++)k[y]=0;for(y=54021;y<=54032;y++)k[y]=0;for(y=54034;y<=54037;y++)k[y]=0;for(y=54042;y<=54046;y++)k[y]=0;for(y=54048;y<=54053;y++)k[y]=0;for(y=54074;y<=54080;y++)k[y]=0;for(y=54090;y<=54096;y++)k[y]=0;for(y=54098;y<=54101;y++)k[y]=0;for(y=65161;y<=65163;y++)k[y]=0;for(y=102001;y<=102040;y++)k[y]=0;for(y=102042;y<=102063;y++)k[y]=0;for(y=102065;y<=102067;y++)k[y]=0;for(y=102070;y<=102117;y++)k[y]=0;for(y=102122;y<=102216;y++)k[y]=0;for(y=102221;y<=102377;y++)k[y]=0;for(y=102382;y<=102388;y++)k[y]=0;for(y=102389;y<=102398;y++)k[y]=2;for(y=102399;y<=102444;y++)k[y]=0;for(y=102445;y<=102447;y++)k[y]=2;for(y=102448;y<=102458;y++)k[y]=0;for(y=102459;y<=102468;y++)k[y]=2;for(y=102469;y<=102499;y++)k[y]=0;for(y=102500;y<=102519;y++)k[y]=1;for(y=102520;y<=102524;y++)k[y]=0;for(y=102525;y<=102529;y++)k[y]=2;for(y=102530;y<=102588;y++)k[y]=0;for(y=102590;y<=102598;y++)k[y]=0;for(y=102601;y<=102603;y++)k[y]=0;for(y=102605;y<=102628;y++)k[y]=0;for(y=102629;y<=102646;y++)k[y]=2;for(y=102648;y<=102700;y++)k[y]=2;for(y=102701;y<=102703;y++)k[y]=0;for(y=102707;y<=102730;y++)k[y]=2;for(y=102733;y<=102758;y++)k[y]=2;for(y=102767;y<=102900;y++)k[y]=0;for(y=102901;y<=102933;y++)k[y]=2;for(y=102934;y<=102950;y++)k[y]=13;for(y=102951;y<=102963;y++)k[y]=0;for(y=102965;y<=102969;y++)k[y]=0;for(y=102971;y<=102973;y++)k[y]=0;for(y=102975;y<=102989;y++)k[y]=0;for(y=102990;y<=102992;y++)k[y]=1;for(y=102997;y<=103002;y++)k[y]=0;for(y=103003;y<=103008;y++)k[y]=2;for(y=103009;y<=103011;y++)k[y]=0;for(y=103012;y<=103014;y++)k[y]=2;for(y=103019;y<=103021;y++)k[y]=0;for(y=103022;y<=103024;y++)k[y]=2;for(y=103029;y<=103031;y++)k[y]=0;for(y=103032;y<=103034;y++)k[y]=2;for(y=103065;y<=103068;y++)k[y]=0;for(y=103074;y<=103076;y++)k[y]=0;for(y=103077;y<=103079;y++)k[y]=1;for(y=103080;y<=103082;y++)k[y]=0;for(y=103083;y<=103085;y++)k[y]=2;for(y=103090;y<=103093;y++)k[y]=0;for(y=103097;y<=103099;y++)k[y]=0;for(y=103100;y<=103102;y++)k[y]=2;for(y=103107;y<=103109;y++)k[y]=0;for(y=103110;y<=103112;y++)k[y]=2;for(y=103113;y<=103116;y++)k[y]=0;for(y=103117;y<=103120;y++)k[y]=2;for(y=103153;y<=103157;y++)k[y]=0;for(y=103158;y<=103162;y++)k[y]=2;for(y=103163;y<=103165;y++)k[y]=0;for(y=103166;y<=103168;y++)k[y]=1;for(y=103169;y<=103171;y++)k[y]=2;for(y=103186;y<=103188;y++)k[y]=0;for(y=103189;y<=103191;y++)k[y]=2;for(y=103192;y<=103195;y++)k[y]=0;for(y=103196;y<=103199;y++)k[y]=2;for(y=103200;y<=103224;y++)k[y]=0;for(y=103225;y<=103227;y++)k[y]=1;for(y=103232;y<=103237;y++)k[y]=0;for(y=103238;y<=103243;y++)k[y]=2;for(y=103244;y<=103246;y++)k[y]=0;for(y=103247;y<=103249;y++)k[y]=2;for(y=103254;y<=103256;y++)k[y]=0;for(y=103257;y<=103259;y++)k[y]=2;for(y=103264;y<=103266;y++)k[y]=0;for(y=103267;y<=103269;y++)k[y]=2;for(y=103300;y<=103375;y++)k[y]=0;for(y=103381;y<=103383;y++)k[y]=0;for(y=103384;y<=103386;y++)k[y]=1;for(y=103387;y<=103389;y++)k[y]=0;for(y=103390;y<=103392;y++)k[y]=2;for(y=103397;y<=103399;y++)k[y]=0;for(y=103400;y<=103471;y++)k[y]=2;for(y=103476;y<=103478;y++)k[y]=0;for(y=103479;y<=103481;y++)k[y]=2;for(y=103486;y<=103488;y++)k[y]=0;for(y=103489;y<=103491;y++)k[y]=2;for(y=103492;y<=103495;y++)k[y]=0;for(y=103496;y<=103499;y++)k[y]=2;for(y=103528;y<=103543;y++)k[y]=0;for(y=103544;y<=103548;y++)k[y]=2;for(y=103549;y<=103551;y++)k[y]=0;for(y=103552;y<=103554;y++)k[y]=1;for(y=103555;y<=103557;y++)k[y]=2;for(y=103558;y<=103560;y++)k[y]=0;for(y=103571;y<=103573;y++)k[y]=0;for(y=103574;y<=103576;y++)k[y]=2;for(y=103577;y<=103580;y++)k[y]=0;for(y=103581;y<=103583;y++)k[y]=2;for(y=103595;y<=103694;y++)k[y]=0;for(y=103696;y<=103699;y++)k[y]=0;for(y=103700;y<=103793;y++)k[y]=2;for(y=103794;y<=103890;y++)k[y]=0;for(y=103891;y<=103896;y++)k[y]=2;for(y=103900;y<=103971;y++)k[y]=2;for(y=103972;y<=103977;y++)k[y]=0;for(y=112e3;y<=112101;y++)k[y]=0;const lY=[102100,102113,3857,3785,900913],n0e=[104905,104971],a0e=[4326,...lY,...n0e],zw=[-20037508342788905e-9,20037508342788905e-9],MI=[-20037508342787e-6,20037508342787e-6],_x={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:zw,origin:MI,dx:1e-5},cY={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:zw,origin:MI,dx:1e-5},102100:_x,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:zw,origin:MI,dx:1e-5},3857:_x,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:_x};function li(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const i=t.wkid,r=e.wkid;if(i!=null||r!=null){if(i===r||ua(t)&&ua(e))return!0;const a=t.latestWkid;if(a!=null&&r===a)return!0;const o=e.latestWkid;return o!=null&&i===o}let s,n;return t.wkt2&&e.wkt2?(s=t.wkt2,n=e.wkt2):t.wkt&&e.wkt&&(s=t.wkt,n=e.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function xs(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&cY[e]||null}function kb(t){if(!t)return;const{wkid:e,vcsWkid:i}=t;if(e)return i?JSON.stringify({wkid:e,vcsWkid:i}):String(e);const r=t.wkt||t.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function Sh(t){if(!Gs(t))return!1;const{wkid:e}=t;if(e)return k[e]==null;const i=t.wkt2||t.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function o0e(t){return!(nL(t)||aL(t))}function dh(t){return(t==null?void 0:t.wkid)===4326}function bQe(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function CI(t){return(t==null?void 0:t.wkid)===ja.CGCS2000}function ua(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&lY.includes(e)}function l0e(t){return(t==null?void 0:t.wkid)===32662}function C7(t){return t===ja.GCSMARS2000||t===ja.GCSMARS2000_SPHERE}function nL(t){return C7(t==null?void 0:t.wkid)}function k7(t){return t===ja.GCSMOON2000}function aL(t){return k7(t==null?void 0:t.wkid)}function uY(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&a0e.includes(e)}function Gs(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const k4={wkid:4326,wkt:En(cY[4326].wkTemplate,{Central_Meridian:"0.0"})},dY={wkid:102100,latestWkid:3857},c0e={wkid:32662};function oL(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const u0e=oL(yi),lL=oL(kc),cL=oL(ch),d0e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${yi.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},f0e=lL.wkt.toUpperCase(),h0e=cL.wkt.toUpperCase();function p0e(t){if(t!=null&&Gs(t)){const e=t.wkid,i=t.wkt2??t.wkt;if(C7(e))return kc;const r=i==null?void 0:i.toUpperCase();if(i&&r===f0e)return kc;if(k7(e)||r&&r===h0e)return ch}return yi}function vQe(t){return C7(t)?kc:k7(t)?ch:yi}function A4(t){return li(t,u0e)}function fh(t){return A4(t)||li(t,lL)||li(t,cL)}const uL=39.37,m0e=yi.radius*Math.PI/200,fY=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Ab=k,hY=/UNIT\[([^\]]+)]/i,y0e=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),g0e=ji()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),ro=t=>t*t,Ed=t=>t*t*t,Vw={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ro(.001)},"square-centimeters":{inBaseUnits:ro(.01)},"square-decimeters":{inBaseUnits:ro(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ro(1e3)},"square-inches":{inBaseUnits:ro(.0254)},"square-feet":{inBaseUnits:ro(.3048)},"square-yards":{inBaseUnits:ro(.9144)},"square-miles":{inBaseUnits:ro(1609.344)},"square-nautical-miles":{inBaseUnits:ro(1852)},"square-us-feet":{inBaseUnits:ro(1200/3937)},acres:{inBaseUnits:.0015625*ro(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ed(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ed(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ed(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ed(1e3)},"cubic-inches":{inBaseUnits:1e3*Ed(.0254)},"cubic-feet":{inBaseUnits:1e3*Ed(.3048)},"cubic-yards":{inBaseUnits:1e3*Ed(.9144)},"cubic-miles":{inBaseUnits:1e3*Ed(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},b0e=(()=>{const t={};for(const e in Vw)for(const i in Vw[e].units)t[i]=e;return t})();function v0e(t,e,i){return t*Vw[i].units[e].inBaseUnits}function w0e(t,e,i){return t/Vw[i].units[e].inBaseUnits}const _0e=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],S0e=["metric","imperial"],pY=[...S0e,..._0e],x0e=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function Gm(t){const e=b0e[t];if(!e)throw new Error("unknown type");return e}function PN(t,e=null){return e=e||Gm(t),Vw[e].baseUnit===t}function pt(t,e,i){if(e===i)return t;const r=Gm(e);if(r!==Gm(i))throw new Error("incompatible units");const s=PN(e,r)?t:v0e(t,e,r);return PN(i,r)?s:w0e(s,i,r)}function wQe(t,e,i,r=!1){if(!r&&Sh(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=xh(e);return s!==i&&(t=s?pt(t,s,i):pt(t*=kn(e),"meters",i)),t}function _Qe(t,e,i,r=!1){if(!r&&Sh(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=xh(i);return e!==s&&(t=s?pt(t,e,s):pt(t,e,"meters")/kn(i)),t}function $0e(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function SQe(t){return $0e(t)}function xQe(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function mY(t,e){const i=pt(t,e,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function yY(t,e){const i=pt(t,e,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function gY(t,e){const i=pt(t,e,"feet");return Math.abs(i)<1e3?"feet":"miles"}function bY(t,e){const i=pt(t,e,"feet");return Math.abs(i)<1e5?"feet":"miles"}function T0e(t,e){const i=pt(t,e,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function I0e(t,e){const i=pt(t,e,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function E0e(t,e,i){return pt(t,e,"meters")/(i*Math.PI/180)}function dL(t){return g0e.fromJSON(t.toLowerCase())||null}function Pb(t){if(t!=null&&!o0e(t))return 1;const e=kn(t);return e>1e5?1:e}function vY(t){return kn(t)>=p0e(t).metersPerDegree?"meters":xh(t)}function kn(t,e=yi.metersPerDegree){return M0e(t,!0)??e}function M0e(t,e=!1){const i=(t==null?void 0:t.wkid)??null,r=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let s=null;if(i){if(C7(i))return kc.metersPerDegree;if(k7(i))return ch.metersPerDegree;s=Ab.values[Ab[i]],!s&&e&&y0e.has(i)&&(s=m0e)}else r&&(SY(r)?s=LN(fY.exec(r),s):_Y(r)&&(s=LN(hY.exec(r),s)));return s}function $Qe(t){return Sh(t)?1:kn(t)}function LN(t,e){return t!=null&&t[1]?wY(t[1]):e}function wY(t){return parseFloat(t.split(",")[1])}function xh(t){const e=(t==null?void 0:t.wkid)??null,i=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let r=null;if(e)r=Ab.units[Ab[e]];else if(i){const s=SY(i)?fY:_Y(i)?hY:null;if(s){const n=s.exec(i);n!=null&&n[1]&&(r=k0e(n[1]))}}return r!=null?dL(r):null}function TQe(t){const e=xh(t);return e!=null&&pY.includes(e)?e:null}function IQe(t){const e=vY(t);return e!=null&&pY.includes(e)?e:null}function EQe(t){const e=xh(t);return e==null?null:x0e.get(e)}function _Y(t){return/^GEOCCS/i.test(t)}function SY(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const C0e=1e-7;function k0e(t){const e=/[\\"']{1}([^\\"']+)/.exec(t);let i=e==null?void 0:e[1];if(!i||!dL(i)){const r=wY(t);i=null;const s=Ab.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<C0e){i=Ab.units[n];break}}return i}function MQe(t){const e=xh(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const A0e={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},P0e={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},L0e={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},R0e=ji()(A0e),O0e=ji()(P0e),CQe=ji()(L0e);var il,Hl;let le=(Hl=class extends B{static fromJSON(e){if(!e)return null;if((e==null?void 0:e.wkid)===102100)return il.WebMercator;if((e==null?void 0:e.wkid)===4326)return il.WGS84;const i=new il;return i.read(e),i}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return dh(this)}get isWebMercator(){return ua(this)}get isGeographic(){return Sh(this)}get isWrappable(){return uY(this)}get metersPerUnit(){return kn(this)}get unit(){return xh(this)||(this.isGeographic?"degrees":null)}writeWkt(e,i){this.wkid||(i.wkt=e)}clone(){if(this===il.WGS84)return new il(k4);if(this===il.WebMercator)return new il(dY);const e=new il;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=z(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:i,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return i==null||s?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===i&&n.referenceServiceName===r:n.id===i}return li(this,e)}toJSON(e){return this.write(void 0,e)}},il=Hl,Hl.GCS_NAD_1927=null,Hl.WGS84=null,Hl.WebMercator=null,Hl.PlateCarree=null,Hl);c([f({readOnly:!0})],le.prototype,"isWGS84",null),c([f({readOnly:!0})],le.prototype,"isWebMercator",null),c([f({readOnly:!0})],le.prototype,"isGeographic",null),c([f({readOnly:!0})],le.prototype,"isWrappable",null),c([f({type:Ye,json:{write:!0}})],le.prototype,"latestWkid",void 0),c([f({readOnly:!0})],le.prototype,"metersPerUnit",null),c([f({readOnly:!0})],le.prototype,"unit",null),c([f({type:Ye,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],le.prototype,"wkid",void 0),c([f({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],le.prototype,"wkt",void 0),c([ne("wkt"),ne("web-scene","wkt")],le.prototype,"writeWkt",null),c([f({type:String,json:{write:!1}})],le.prototype,"wkt2",void 0),c([f({type:Ye,json:{write:!0}})],le.prototype,"vcsWkid",void 0),c([f({type:Ye,json:{write:!0}})],le.prototype,"latestVcsWkid",void 0),c([f()],le.prototype,"imageCoordinateSystem",void 0),le=il=c([E("esri.geometry.SpatialReference")],le),le.prototype.toJSON.isDefaultToJSON=!0,le.GCS_NAD_1927=ce.freeze(new le({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),le.WGS84=ce.freeze(new le(k4)),le.WebMercator=ce.freeze(new le(dY)),le.PlateCarree=ce.freeze(new le(c0e));let Rr=class extends B{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=le.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,i){if(e instanceof le)return e;if(e!=null){const r=new le;return r.read(e,i),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,i){this.cache[e]=i}};c([f()],Rr.prototype,"type",void 0),c([f({readOnly:!0})],Rr.prototype,"cache",null),c([f({readOnly:!0})],Rr.prototype,"extent",null),c([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Rr.prototype,"hasM",void 0),c([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Rr.prototype,"hasZ",void 0),c([f({type:le,json:{write:!0},value:le.WGS84})],Rr.prototype,"spatialReference",void 0),c([te("spatialReference")],Rr.prototype,"readSpatialReference",null),Rr=c([E("esri.geometry.Geometry")],Rr);function Lb(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new P("internal:mesh","Mesh geometries are not supported for this operation")}function F0e(t){t.forEach(Lb)}const N0e=57.29577951308232,D0e=.017453292519943;function RN(t){return t*N0e}function ON(t){return t*D0e}function FN(t){return t/yi.radius}function NN(t){return Math.PI/2-2*Math.atan(Math.exp(-t/yi.radius))}function kI(t){return t.wkid!=null||t.wkt!=null}const Sx=[0,0];function P4(t,e,i,r,s){const n=t,a=s;if(a.spatialReference=i,"x"in n&&"x"in a)[a.x,a.y]=e(n.x,n.y,Sx,r);else if("xmin"in n&&"xmin"in a)[a.xmin,a.ymin]=e(n.xmin,n.ymin,Sx,r),[a.xmax,a.ymax]=e(n.xmax,n.ymax,Sx,r);else if("paths"in n&&"paths"in a||"rings"in n&&"rings"in a){const o="paths"in n?n.paths:n.rings,l=[];let u;for(let d=0;d<o.length;d++){const h=o[d];u=[],l.push(u);for(let p=0;p<h.length;p++)u.push(e(h[p][0],h[p][1],[0,0],r)),h[p].length>2&&u[p].push(h[p][2]),h[p].length>3&&u[p].push(h[p][3])}"paths"in a?a.paths=l:a.rings=l}else if("points"in n&&"points"in a){const o=n.points,l=[];for(let u=0;u<o.length;u++)l[u]=e(o[u][0],o[u][1],[0,0],r),o[u].length>2&&l[u].push(o[u][2]),o[u].length>3&&l[u].push(o[u][3]);a.points=l}return s}function _g(t,e){const i=t&&(kI(t)?t:t.spatialReference),r=e&&(kI(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!i||!r)&&(!!li(r,i)||ua(r)&&dh(i)||ua(i)&&dh(r))}function A7(t,e){if(t==null)return null;const i=t.spatialReference,r=e&&(kI(e)?e:e.spatialReference);return _g(i,r)?li(i,r)?z(t):ua(r)?P4(t,Yp,le.WebMercator,!1,z(t)):dh(r)?P4(t,Y_,le.WGS84,!1,z(t)):null:null}function Yp(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const r=ON(e);return i[0]=ON(t)*yi.radius,i[1]=yi.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function Y_(t,e,i=[0,0],r=!1){if(t===zw[0])i[0]=-180;else if(t===zw[1])i[0]=180;else{const s=RN(t/yi.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=RN(Math.PI/2-2*Math.atan(Math.exp(-e/yi.radius))),i}function Gf(t,e=!1,i=z(t)){return Lb(t),Lb(i),P4(t,Yp,le.WebMercator,e,i)}function Xy(t,e=!1,i=z(t)){return Lb(t),Lb(i),P4(t,Y_,le.WGS84,e,i)}function xY(t,e){const i=t.x-e.x,r=t.y-e.y,s=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(i*i+r*r+s*s)}function z0e(t){var e;return((e=$Y(t,TY))==null?void 0:e[0])??null}function V0e(t){var e;return((e=$Y(t,TY))==null?void 0:e[1])??null}function $Y({x:t,y:e,spatialReference:i},r=[0,0]){if(i){if(ua(i))return Y_(t,e,r);if(Sh(i))return r[0]=t,r[1]=e,r}return null}const TY=[0,0];var T9;const xx=[0,0];function DN(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let _e=T9=class extends Rr{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",ce.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,i,r,s){let n;if(Array.isArray(t))n=t,s=e,t=n[0],e=n[1],i=n[2],r=n[3];else if(t&&typeof t=="object"){if(n=t,t=n.x!=null?n.x:n.longitude,e=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new le(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)W.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)W.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&(s!=null&&s.isWebMercator)){const o=Yp(n.longitude,n.latitude,xx);t=o[0],e=o[1]}}}else DN(i)?(s=i,i=null):DN(r)&&(s=r,r=null);const a={x:t,y:e};return a.x==null&&a.y!=null?W.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&W.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(a.spatialReference=s),i!=null&&(a.z=i),r!=null&&(a.m=r),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return V0e(this)}set latitude(t){const{spatialReference:e,x:i}=this;t!=null&&e&&(e.isWebMercator?this._set("y",Yp(i,t,xx)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return z0e(this)}set longitude(t){const{y:e,spatialReference:i}=this;t!=null&&i&&(i.isWebMercator?this._set("x",Yp(t,e,xx)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new T9;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return T9.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:i,z:r,m:s,spatialReference:n}=this,{z:a,m:o}=t;let{x:l,y:u,spatialReference:d}=t;if(!n.equals(d))if(n.isWebMercator&&d.isWGS84)[l,u]=Yp(l,u),d=n;else{if(!n.isWGS84||!d.isWebMercator)return!1;[l,u]=Y_(l,u),d=n}return e===l&&i===u&&r===a&&s===o&&n.wkid===d.wkid}offset(t,e,i){return this.x+=t,this.y+=e,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const t=xs(this.spatialReference);if(!t)return this;let e=this.x;const[i,r]=t.valid,s=2*r;let n;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s),this._set("x",e),this}distance(t){return xY(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};c([f({readOnly:!0})],_e.prototype,"cache",null),c([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],_e.prototype,"hasM",null),c([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],_e.prototype,"hasZ",null),c([f({type:Number})],_e.prototype,"latitude",null),c([f({type:Number})],_e.prototype,"longitude",null),c([f({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Xe(t=>isNaN(t)?t:js(t))],_e.prototype,"x",void 0),c([ne("x")],_e.prototype,"writeX",null),c([te("x")],_e.prototype,"readX",null),c([f({type:Number,json:{write:!0}})],_e.prototype,"y",void 0),c([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],_e.prototype,"z",void 0),c([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],_e.prototype,"m",void 0),_e=T9=c([E("esri.geometry.Point")],_e),_e.prototype.toJSON.isDefaultToJSON=!0;let rl=class extends ve.ClonableMixin(B){constructor(...e){super(...e),this.position=new _e([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new hJ}normalizeCtorArgs(e,i,r,s){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const n={position:e};return i!=null&&(n.heading=i),r!=null&&(n.tilt=r),s!=null&&(n.fov=s),n}return e}writePosition(e,i,r,s){const n=e.clone();n.x=js(e.x||0),n.y=js(e.y||0),n.z=e.hasZ?js(e.z||0):e.z,i[r]=n.write({},s)}readPosition(e,i){const r=new _e;return r.read(e,i),r.x=js(r.x||0),r.y=js(r.y||0),r.z=r.hasZ?js(r.z||0):r.z,r}equals(e){return e!=null&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};c([f({type:_e,json:{write:{isRequired:!0}}})],rl.prototype,"position",void 0),c([ne("position")],rl.prototype,"writePosition",null),c([te("position")],rl.prototype,"readPosition",null),c([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Xe(t=>bJ.normalize(js(t)))],rl.prototype,"heading",void 0),c([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Xe(t=>Yr(js(t),-180,180))],rl.prototype,"tilt",void 0),c([f({type:Number,nonNullable:!0,json:{default:55,write:!0}}),Xe(t=>Yr(js(t,55),1,170))],rl.prototype,"fov",void 0),c([f({type:hJ,nonNullable:!0,json:{read:!1,write:!1}})],rl.prototype,"layout",void 0),rl=c([E("esri.Camera")],rl);const j0e=rl,$x=[0,0];function X_(t,e){return e!=null&&Rs(t,e.x,e.y,e.z)}function PQe(t,e){var i;if(!((i=e.points)!=null&&i.length))return!1;for(const r of e.points)if(!Rb(t,r))return!1;return!0}function q0e(t,e){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:a,zmax:o}=e;return t.hasZ&&e.hasZ?Rs(t,i,r,s)&&Rs(t,i,a,s)&&Rs(t,n,a,s)&&Rs(t,n,r,s)&&Rs(t,i,r,o)&&Rs(t,i,a,o)&&Rs(t,n,a,o)&&Rs(t,n,r,o):Rs(t,i,r)&&Rs(t,i,a)&&Rs(t,n,a)&&Rs(t,n,r)}function Rb(t,e){return Rs(t,e[0],e[1])}function B0e(t,e){return Rs(t,e[0],e[1],e[2])}function Rs(t,e,i,r){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(r==null||!t.hasZ||r>=t.zmin&&r<=t.zmax)}function fL(t,e){return $x[1]=e.y,$x[0]=e.x,U0e(t,$x)}function U0e(t,e){return hL(t.rings,e)}function hL(t,e){if(!t)return!1;if(G0e(t))return zN(!1,t,e);let i=!1;for(let r=0,s=t.length;r<s;r++)i=zN(i,t[r],e);return i}function G0e(t){return!Array.isArray(t[0][0])}function zN(t,e,i){const[r,s]=i;let n=t,a=0;for(let o=0,l=e.length;o<l;o++){a++,a===l&&(a=0);const[u,d]=e[o],[h,p]=e[a];(d<s&&p>=s||p<s&&d>=s)&&u+(s-d)/(p-d)*(h-u)<r&&(n=!n)}return n}function H0e(t,e){return X_(t,e)}function W0e(t,e){const i=t.hasZ&&e.hasZ;let r,s,n;if(t.xmin<=e.xmin){if(r=e.xmin,t.xmax<r)return!1}else if(r=t.xmin,e.xmax<r)return!1;if(t.ymin<=e.ymin){if(s=e.ymin,t.ymax<s)return!1}else if(s=t.ymin,e.ymax<s)return!1;if(i&&e.hasZ){if(t.zmin<=e.zmin){if(n=e.zmin,t.zmax<n)return!1}else if(n=t.zmin,e.zmax<n)return!1}return!0}function Z0e(t,e){const{points:i,hasZ:r}=e,s=r?B0e:Rb;for(const n of i)if(s(t,n))return!0;return!1}const Hm=[0,0],Wm=[0,0],Zm=[0,0],Jm=[0,0],J0e=[Hm,Wm,Zm,Jm],IY=[[Zm,Hm],[Hm,Wm],[Wm,Jm],[Jm,Zm]];function Y0e(t,e){return X0e(t,e.rings)}function X0e(t,e){Hm[0]=t.xmin,Hm[1]=t.ymax,Wm[0]=t.xmax,Wm[1]=t.ymax,Zm[0]=t.xmin,Zm[1]=t.ymin,Jm[0]=t.xmax,Jm[1]=t.ymin;for(const i of J0e)if(hL(e,i))return!0;for(const i of e){if(!i.length)continue;let r=i[0];if(Rb(t,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(Rb(t,n)||EY(r,n,IY))return!0;r=n}}return!1}function Q0e(t,e){Hm[0]=t.xmin,Hm[1]=t.ymax,Wm[0]=t.xmax,Wm[1]=t.ymax,Zm[0]=t.xmin,Zm[1]=t.ymin,Jm[0]=t.xmax,Jm[1]=t.ymin;const i=e.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(Rb(t,s))return!0;for(let n=1;n<r.length;n++){const a=r[n];if(Rb(t,a)||EY(s,a,IY))return!0;s=a}}return!1}const $r=[0,0];function K0e(t){for(let e=0;e<t.length;e++){const i=t[e];for(let s=0;s<i.length-1;s++){const n=i[s],a=i[s+1];for(let o=e+1;o<t.length;o++)for(let l=0;l<t[o].length-1;l++){const u=t[o][l],d=t[o][l+1];if(L4(n,a,u,d,$r)&&!($r[0]===n[0]&&$r[1]===n[1]||$r[0]===u[0]&&$r[1]===u[1]||$r[0]===a[0]&&$r[1]===a[1]||$r[0]===d[0]&&$r[1]===d[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const a=i[s],o=i[s+1];for(let l=s+2;l<n;l++){const u=i[l],d=i[l+1];if(L4(a,o,u,d,$r)&&!($r[0]===a[0]&&$r[1]===a[1]||$r[0]===u[0]&&$r[1]===u[1]||$r[0]===o[0]&&$r[1]===o[1]||$r[0]===d[0]&&$r[1]===d[1]))return!0}}}return!1}function EY(t,e,i){for(let r=0;r<i.length;r++)if(L4(t,e,i[r][0],i[r][1]))return!0;return!1}function L4(t,e,i,r,s){const[n,a]=t,[o,l]=e,[u,d]=i,[h,p]=r,m=h-u,g=n-u,b=o-n,v=p-d,w=a-d,_=l-a,S=v*b-m*_;if(S===0)return!1;const T=(m*w-v*g)/S,C=(b*w-_*g)/S;return T>=0&&T<=1&&C>=0&&C<=1&&(s&&(s[0]=n+T*(o-n),s[1]=a+T*(l-a)),!0)}function eye(t){switch(t){case"esriGeometryEnvelope":case"extent":return W0e;case"esriGeometryMultipoint":case"multipoint":return Z0e;case"esriGeometryPoint":case"point":return H0e;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Y0e;case"esriGeometryPolyline":case"polyline":return Q0e}}var fo;function tye(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function Md(t,e,i){return e==null?i:i==null?e:t(e,i)}let qe=fo=class extends Rr{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,r,s){return tye(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?le.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:r,spatialReference:s??le.WGS84}}static fromPoint(t){return new fo({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new _e({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new fo;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&_g(e,i)&&(t=e.isWebMercator?Gf(t):Xy(t,!0)),t.type==="point"?X_(this,t):t.type==="extent"&&q0e(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&_g(e,i)&&(t=e.isWebMercator?Gf(t):Xy(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,r=this.height*e;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*e;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*e;this.mmin+=s,this.mmax-=s}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!li(e,i)&&_g(e,i)&&(t=e.isWebMercator?Gf(t):Xy(t,!0)),eye(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Md(Math.min,this.zmin,t.zmin),this.zmax=Md(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Md(Math.min,this.mmin,t.mmin),this.mmax=Md(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Md(Math.max,this.zmin,t.zmin),this.zmax=Md(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Md(Math.max,this.mmin,t.mmin),this.mmax=Md(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=xs(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const r=e.isWebMercator?Xy(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(r.x=Tx(r.x,t).x),this.spatialReference=new le(En((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(t){let e=null;const[i,r]=t.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(e=this.center),e}_normalize(t,e,i){const r=this.spatialReference;if(!r)return this;const s=i??xs(r);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return t?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(t)return this._shiftCM(s);if(e)return n;let a=!0,o=!0;return n.forEach(l=>{l.hasZ||(a=!1),l.hasM||(o=!1)}),{rings:n.map(l=>{const u=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(a){const d=(l.zmax-l.zmin)/2;for(let h=0;h<u.length;h++)u[h].push(d)}if(o){const d=(l.mmax-l.mmin)/2;for(let h=0;h<u.length;h++)u[h].push(d)}return u}),hasZ:a,hasM:o,spatialReference:r}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:s,ymax:n,spatialReference:a}=this,o=this.width,l=this.xmin,u=this.xmax;let d;t=t||xs(a);const[h,p]=t.valid;d=Tx(this.xmin,t);const m=d.x,g=d.frameId;d=Tx(this.xmax,t);const b=d.x,v=d.frameId,w=m===b&&o>0;if(o>2*p){const _=new fo(l<u?m:b,s,p,n,a),S=new fo(h,s,l<u?b:m,n,a),T=new fo(0,s,p,n,a),C=new fo(h,s,0,n,a),A=[],O=[];_.contains(T)&&A.push(g),_.contains(C)&&O.push(g),S.contains(T)&&A.push(v),S.contains(C)&&O.push(v);for(let L=g+1;L<v;L++)A.push(L),O.push(L);e.push({extent:_,frameIds:[g]},{extent:S,frameIds:[v]},{extent:T,frameIds:A},{extent:C,frameIds:O})}else m>b||w?e.push({extent:new fo(m,s,p,n,a),frameIds:[g]},{extent:new fo(h,s,b,n,a),frameIds:[v]}):e.push({extent:new fo(m,s,b,n,a),frameIds:[g]});this.cache._parts=e}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<e.length;n++)e[n].extent.set(s)}return e}};function Tx(t,e){const[i,r]=e.valid,s=2*r;let n,a=0;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s,a=n):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s,a=-n),{x:t,frameId:a}}c([f({readOnly:!0})],qe.prototype,"cache",null),c([f({readOnly:!0})],qe.prototype,"center",null),c([f({readOnly:!0})],qe.prototype,"extent",null),c([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],qe.prototype,"hasM",null),c([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],qe.prototype,"hasZ",null),c([f({readOnly:!0})],qe.prototype,"height",null),c([f({readOnly:!0})],qe.prototype,"width",null),c([f({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],qe.prototype,"xmin",void 0),c([f({type:Number,json:{write:!0}})],qe.prototype,"ymin",void 0),c([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],qe.prototype,"mmin",void 0),c([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],qe.prototype,"zmin",void 0),c([f({type:Number,json:{write:!0}})],qe.prototype,"xmax",void 0),c([f({type:Number,json:{write:!0}})],qe.prototype,"ymax",void 0),c([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],qe.prototype,"mmax",void 0),c([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],qe.prototype,"zmax",void 0),qe=fo=c([E("esri.geometry.Extent")],qe),qe.prototype.toJSON.isDefaultToJSON=!0;function Ob(t,e,i=!1){let{hasM:r,hasZ:s}=t;Array.isArray(e)?e.length!==4||r||s?e.length===3&&i&&!r?(s=!0,r=!1):e.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&e.hasZ&&(!r||e.hasM),r=!r&&e.hasM&&(!s||e.hasZ)),t.hasZ=s,t.hasM=r}var AI;function VN(t){return(e,i)=>e==null?i:i==null?e:t(e,i)}function iye(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Fa=AI=class extends Rr{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){var s;if(!t&&!e)return{};const i={};Array.isArray(t)?(i.points=t,i.spatialReference=e):iye(t)?i.spatialReference=t:(t.points&&(i.points=t.points),t.spatialReference&&(i.spatialReference=t.spatialReference),t.hasZ&&(i.hasZ=t.hasZ),t.hasM&&(i.hasM=t.hasM));const r=(s=i.points)==null?void 0:s[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new qe,i=this.hasZ,r=this.hasM,s=i?3:2,n=t[0],a=VN(Math.min),o=VN(Math.max);let l,u,d,h,[p,m]=n,[g,b]=n;for(let v=0,w=t.length;v<w;v++){const _=t[v],[S,T]=_;if(p=a(p,S),m=a(m,T),g=o(g,S),b=o(b,T),i&&_.length>2){const C=_[2];l=a(l,C),d=o(d,C)}if(r&&_.length>s){const C=_[s];u=a(u,C),h=o(h,C)}}return e.xmin=p,e.ymin=m,e.xmax=g,e.ymax=b,e.spatialReference=this.spatialReference,i?(e.zmin=l,e.zmax=d):(e.zmin=void 0,e.zmax=void 0),r?(e.mmin=u,e.mmax=h):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=z(this.points)}addPoint(t){return Ob(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:z(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new AI(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=e[2],r=3),this.hasM&&(i.m=e[r]),new _e(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new _e(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(Ob(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};c([f({readOnly:!0})],Fa.prototype,"cache",null),c([f()],Fa.prototype,"extent",null),c([f({type:[[Number]],json:{write:{isRequired:!0}}})],Fa.prototype,"points",void 0),c([ne("points")],Fa.prototype,"writePoints",null),Fa=AI=c([E("esri.geometry.Multipoint")],Fa),Fa.prototype.toJSON.isDefaultToJSON=!0;function P7(t){const e=[];for(t.reset();t.nextPath();){const i=[];for(;t.nextPoint();)i.push([t.x,t.y]);e.push(i)}return t.reset(),e}function Hf(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var R4;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(R4||(R4={}));function LQe(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,i=t.hasM;if(t.type==="point")return i&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.slice();if(t.type==="extent"){const r=t.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(a=>{a.hasZ&&(s=!0),a.hasM&&(n=!0)}),r.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const l=.5*(a.zmax-a.zmin);for(let u=0;u<o.length;u++)o[u].push(l)}if(n&&a.hasM){const l=.5*(a.mmax-a.mmin);for(let u=0;u<o.length;u++)o[u].push(l)}return o})}return null}function Q_(t,e){const i=e[0]-t[0],r=e[1]-t[1];if(t.length>2&&e.length>2){const s=t[2]-e[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function MY(t,e,i){const r=t[0]+i*(e[0]-t[0]),s=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[r,s,t[2]+i*(e[2]-t[2])]:[r,s]}function rye(t,e,i,r){return CY(t,e,i[r],i[r+1])}function CY(t,e,i,r){const[s,n]=e,[a,o]=i,[l,u]=r,d=l-a,h=u-o,p=d*d+h*h,m=(s-a)*d+(n-o)*h,g=Math.min(1,Math.max(0,m/p));return t[0]=a+d*g,t[1]=o+h*g,t}function sye(t,e,i,r,s,n){let a=i,o=r,l=s-a,u=n-o;if(l!==0||u!==0){const d=((t-a)*l+(e-o)*u)/(l*l+u*u);d>1?(a=s,o=n):d>0&&(a+=l*d,o+=u*d)}return l=t-a,u=e-o,l*l+u*u}function kY(t,e){return MY(t,e,.5)}function AY(t){const e=t.length;let i=0;for(let r=0;r<e-1;++r)i+=Q_(t[r],t[r+1]);return i}function RQe(t,e){if(e<=0)return t[0];const i=t.length;let r=0;for(let s=0;s<i-1;++s){const n=Q_(t[s],t[s+1]);if(e-r<n){const a=(e-r)/n;return MY(t[s],t[s+1],a)}r+=n}return t[i-1]}function PY(t,e=R4.X,i=R4.Y){let r=0;const s=t.length;let n=t[0];for(let a=1;a<s;a++){const o=t[a];r+=(o[e]-n[e])*(o[i]+n[i]),n=o}if(LY(t)){const a=t[0];r+=(a[e]-n[e])*(a[i]+n[i])}return r>=0}function LY(t){const e=t.length;return e>0&&!w7(t[0],t[e-1])}function nye(t){"rings"in t&&(aye(t),oye(t))}function aye(t){if("rings"in t)for(const e of t.rings)LY(e)&&e.push(e[0].slice())}function oye(t){if(!("rings"in t)||t.rings.length===0||PY(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function OQe(t){return t.type!=="polygon"&&t.type!=="polyline"||lye(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function lye(t,e){const i=xs(e);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const a of t){let o=1/0,l=-1/0;for(const d of a){const h=cye(d[0],r,s);o=Math.min(o,h),l=Math.max(l,h),d[0]=h}const u=l-o;n-u<u&&a.forEach(d=>{d[0]<0&&(d[0]+=n)})}}function cye(t,e,i){const r=i-e;return t<e?i-(e-t)%r:t>i?e+(t-e)%r:t}function FQe(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[i,r]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function NQe(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function RY(t){return t?uye(t.rings,t.hasZ??!1):null}function uye(t,e){if(!(t!=null&&t.length))return null;const i=[],r=[],s=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,a=t.length;n<a;n++){const o=OY(t[n],e,s);o&&r.push(o)}if(r.sort((n,a)=>{let o=n[2]-a[2];return o===0&&e&&(o=n[4]-a[4]),o}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||e&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=t[0]&&t[0].length?fye(t[0],e):null;if(!n)return null;i[0]=n[0],i[1]=n[1],e&&n.length>2&&(i[2]=n[2])}return i}function OY(t,e,i){let r=0,s=0,n=0,a=0,o=0;const l=t.length?t[0][0]:0,u=t.length?t[0][1]:0,d=t.length&&e?t[0][2]:0;for(let p=0;p<t.length;p++){const m=t[p],g=t[(p+1)%t.length],[b,v,w]=m,_=b-l,S=v-u,[T,C,A]=g,O=T-l,L=C-u,F=_*L-O*S;if(a+=F,r+=(_+O)*F,s+=(S+L)*F,e&&m.length>2&&g.length>2){const D=w-d,G=A-d,H=_*G-O*D;n+=(D+G)*H,o+=H}b<i[0]&&(i[0]=b),b>i[1]&&(i[1]=b),v<i[2]&&(i[2]=v),v>i[3]&&(i[3]=v),e&&(w<i[4]&&(i[4]=w),w>i[5]&&(i[5]=w))}if(a>0&&(a*=-1),o>0&&(o*=-1),!a)return null;a*=.5,o*=.5;const h=[r/(6*a)+l,s/(6*a)+u,a];return e&&(i[4]===i[5]||o===0?(h[3]=(i[4]+i[5])/2,h[4]=0):(h[3]=n/(6*o)+d,h[4]=o)),h}function dye(t,e){let i=0,r=0,s=0;t.nextPoint();const n=t.pathSize?t.x:0,a=t.pathSize?t.y:0;for(let o=0;o<t.pathSize;o++){t.seekInPath(o);const l=[t.x,t.y];t.seekInPath((o+1)%t.pathSize);const u=[t.x,t.y],[d,h]=l,p=d-n,m=h-a,[g,b]=u,v=g-n,w=b-a,_=p*w-v*m;s+=_,i+=(p+v)*_,r+=(m+w)*_,d<e[0]&&(e[0]=d),d>e[1]&&(e[1]=d),h<e[2]&&(e[2]=h),h>e[3]&&(e[3]=h)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+a,s]):null}function fye(t,e){const i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let s=0,n=0,a=0,o=0;for(let l=0,u=t.length;l<u-1;l++){const d=t[l],h=t[l+1];if(d&&h){i[0]=d[0],i[1]=d[1],r[0]=h[0],r[1]=h[1],e&&d.length>2&&h.length>2&&(i[2]=d[2],r[2]=h[2]);const p=Q_(i,r);if(p){s+=p;const m=kY(d,h);n+=p*m[0],a+=p*m[1],e&&m.length>2&&(o+=p*m[2])}}}return s>0?e?[n/s,a/s,o/s]:[n/s,a/s]:t.length?t[0]:null}function FY(t){const{hasZ:e,totalSize:i}=t;if(i===0)return null;const r=[],s=[],n=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const a=OY(Hf(t),t.hasZ,n);a&&s.push(a)}if(s.sort((a,o)=>{let l=a[2]-o[2];return l===0&&e&&(l=a[4]-o[4]),l}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],e&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||e&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){t.reset(),t.nextPath();const a=t.pathSize?hye(t):null;if(!a)return null;r[0]=a[0],r[1]=a[1],e&&a.length>2&&(r[2]=a[2])}return r}function hye(t){const{hasZ:e}=t,i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let s=0,n=0,a=0,o=0;if(t.nextPoint()){let l=t.x,u=t.y,d=t.z;for(;t.nextPoint();){const h=t.x,p=t.y,m=t.z;i[0]=l,i[1]=u,r[0]=h,r[1]=p,e&&(i[2]=d,r[2]=m);const g=Q_(i,r);if(g){s+=g;const b=kY(i,r);n+=g*b[0],a+=g*b[1],e&&b.length>2&&(o+=g*b[2])}l=h,u=p,d=m}}return s>0?e?[n/s,a/s,o/s]:[n/s,a/s]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const pye=1e-6;function mye(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<pye){const s=FY(t);return s?[s[0],s[1]]:null}const i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const r=[t.x,t.y];for(t.reset();t.nextPath();)gye(i,r,t);return i[0]*=1/e,i[1]*=1/e,i[0]+=r[0],i[1]+=r[1],i}const yye=1/3;function gye(t,e,i){if(!t||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,a=i.x-r,o=i.y-s,l=0,u=0;for(;i.nextPoint();)l=i.x-r,u=i.y-s,n=.5*yye*(l*o-u*a),t[0]+=n*(a+l),t[1]+=n*(o+u),a=l,o=u;const d=i.getCurrentRingArea(),h=[r,s];return h[0]-=e[0],h[1]-=e[1],h[0]*=d,h[1]*=d,t[0]+=h[0],t[1]+=h[1],t}function ei(t=Tye){return[t[0],t[1],t[2],t[3]]}function NY(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function bye(t,e,i,r,s=ei()){return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s}function vye(t,e=ei()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function wye(t,e,i=new qe){return i.xmin=t[0],i.ymin=t[1],i.xmax=t[2],i.ymax=t[3],i.spatialReference=e,i}function Av(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function DQe(t,e,i){if(e!=null)if("length"in e)PI(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}else NY(i,t)}function zQe(t,e,i=t){const r=e.length;let s=t[0],n=t[1],a=t[2],o=t[3];for(let l=0;l<r;l++){const u=e[l];s=Math.min(s,u[0]),n=Math.min(n,u[1]),a=Math.max(a,u[0]),o=Math.max(o,u[1])}return i[0]=s,i[1]=n,i[2]=a,i[3]=o,i}function VQe(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function L7(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function R7(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function jQe(t){return L7(t)*R7(t)}function jN(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function _ye(t){const e=L7(t),i=R7(t);return Math.sqrt(e*e+i*i)}function qQe(t,e){return Sye(t,e.x,e.y)}function Sye(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function BQe(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function UQe(t,e,i){return Math.max(e[0],t[0])-i<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-i<=Math.min(e[3],t[3])}function xye(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function GQe(t,e,i,r=t){return r[0]=t[0]+e,r[1]=t[1]+i,r[2]=t[2]+e,r[3]=t[3]+i,r}function $ye(t){return t?NY(t,qN):ei(qN)}function PI(t){return t!=null&&t.length===4}function HQe(t,e){return PI(t)&&PI(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const qN=[1/0,1/0,-1/0,-1/0],Tye=[0,0,0,0];function DY(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function zY(t){return t.points!==void 0}function VY(t){return t.x!==void 0&&t.y!==void 0}function jY(t){return t.paths!==void 0}function qY(t){return t.rings!==void 0}function BY(t){function e(i,r){return i==null?r:r==null?i:t(i,r)}return e}const Pf=BY(Math.min),Lf=BY(Math.max);function pL(t,e){return jY(e)?Fb(t,e.paths,!1,!1):qY(e)?Fb(t,e.rings,!1,!1):zY(e)?mL(t,e.points,!1,!1,!1,!1):DY(e)?GY(t,e):(VY(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function K_(t){let e,i,r,s;for(t.reset(),e=r=1/0,i=s=-1/0;t.nextPath();){const n=UY(t);e=Math.min(n[0],e),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return ei([e,r,i,s])}function UY(t){let e,i,r,s;for(e=r=1/0,i=s=-1/0;t.nextPoint();)e=Math.min(t.x,e),r=Math.min(t.y,r),i=Math.max(t.x,i),s=Math.max(t.y,s);return ei([e,r,i,s])}function WQe(t,e){return jY(e)?Fb(t,e.paths,!0,!1):qY(e)?Fb(t,e.rings,!0,!1):zY(e)?mL(t,e.points,!0,!1,!0,!1):DY(e)?GY(t,e,!0,!1,!0,!1):(VY(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function Fb(t,e,i,r){const s=i?3:2;if(!e.length||!e[0].length)return null;let n,a,o,l,[u,d]=e[0][0],[h,p]=e[0][0];for(let m=0;m<e.length;m++){const g=e[m];for(let b=0;b<g.length;b++){const v=g[b],[w,_]=v;if(u=Pf(u,w),d=Pf(d,_),h=Lf(h,w),p=Lf(p,_),i&&v.length>2){const S=v[2];n=Pf(n,S),a=Lf(a,S)}if(r&&v.length>s){const S=v[s];o=Pf(n,S),l=Lf(a,S)}}}return i?r?(t[0]=u,t[1]=d,t[2]=n,t[3]=o,t[4]=h,t[5]=p,t[6]=a,t[7]=l,t.length=8,t):(t[0]=u,t[1]=d,t[2]=n,t[3]=h,t[4]=p,t[5]=a,t.length=6,t):r?(t[0]=u,t[1]=d,t[2]=o,t[3]=h,t[4]=p,t[5]=l,t.length=6,t):(t[0]=u,t[1]=d,t[2]=h,t[3]=p,t.length=4,t)}function GY(t,e,i,r,s,n){const a=e.xmin,o=e.xmax,l=e.ymin,u=e.ymax;let d=e.zmin,h=e.zmax,p=e.mmin,m=e.mmax;return s?(d=d||0,h=h||0,n?(p=p||0,m=m||0,t[0]=a,t[1]=l,t[2]=d,t[3]=p,t[4]=o,t[5]=u,t[6]=h,t[7]=m,t):(t[0]=a,t[1]=l,t[2]=d,t[3]=o,t[4]=u,t[5]=h,t)):n?(p=p||0,m=m||0,t[0]=a,t[1]=l,t[2]=p,t[3]=o,t[4]=u,t[5]=m,t):(t[0]=a,t[1]=l,t[2]=o,t[3]=u,t)}function mL(t,e,i,r,s,n){const a=i?3:2,o=r&&n,l=i&&s;if(!e.length||!e[0].length)return null;let u,d,h,p,[m,g]=e[0],[b,v]=e[0];for(let w=0;w<e.length;w++){const _=e[w],[S,T]=_;if(m=Pf(m,S),g=Pf(g,T),b=Lf(b,S),v=Lf(v,T),l&&_.length>2){const C=_[2];u=Pf(u,C),d=Lf(d,C)}if(o&&_.length>a){const C=_[a];h=Pf(u,C),p=Lf(d,C)}}return s?(u=u||0,d=d||0,n?(h=h||0,p=p||0,t[0]=m,t[1]=g,t[2]=u,t[3]=h,t[4]=b,t[5]=v,t[6]=d,t[7]=p,t):(t[0]=m,t[1]=g,t[2]=u,t[3]=b,t[4]=v,t[5]=d,t)):n?(h=h||0,p=p||0,t[0]=m,t[1]=g,t[2]=h,t[3]=b,t[4]=v,t[5]=p,t):(t[0]=m,t[1]=g,t[2]=b,t[3]=v,t)}function Iye(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Eye(t){return t.points!==void 0}function Mye(t){return t.x!==void 0&&t.y!==void 0}function Cye(t){return t.paths!==void 0}function kye(t){return t.rings!==void 0}const yL=[];function HY(t,e,i,r){return{xmin:t,ymin:e,xmax:i,ymax:r}}function WY(t,e,i,r,s,n){return{xmin:t,ymin:e,zmin:i,xmax:r,ymax:s,zmax:n}}function ZY(t,e,i,r,s,n){return{xmin:t,ymin:e,mmin:i,xmax:r,ymax:s,mmax:n}}function JY(t,e,i,r,s,n,a,o){return{xmin:t,ymin:e,zmin:i,mmin:r,xmax:s,ymax:n,zmax:a,mmax:o}}function gL(t,e=!1,i=!1){return e?i?JY(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):WY(t[0],t[1],t[2],t[3],t[4],t[5]):i?ZY(t[0],t[1],t[2],t[3],t[4],t[5]):HY(t[0],t[1],t[2],t[3])}function Aye(t){return t?Iye(t)?t:Mye(t)?Lye(t):kye(t)?bL(t):Cye(t)?YY(t):Eye(t)?Pye(t):null:null}function Pye(t){const{hasZ:e,hasM:i,points:r}=t;return gL(mL(yL,r,e??!1,i??!1),e,i)}function Lye(t){const{x:e,y:i,z:r,m:s}=t,n=s!=null;return r!=null?n?JY(e,i,r,s,e,i,r,s):WY(e,i,r,e,i,r):n?ZY(e,i,s,e,i,s):HY(e,i,e,i)}function bL(t){const{hasZ:e,hasM:i,rings:r}=t,s=Fb(yL,r,e??!1,i??!1);return s?gL(s,e,i):null}function YY(t){const{hasZ:e,hasM:i,paths:r}=t,s=Fb(yL,r,e??!1,i??!1);return s?gL(s,e,i):null}var I9;function BN(t){return!Array.isArray(t[0])}function Rye(t){var e;return typeof((e=t[0])==null?void 0:e[0])=="number"}function Oye(t){var n,a;if(!t)return;let{rings:e,hasM:i,hasZ:r,spatialReference:s}=t;switch(e??(e=[]),Rye(e)&&(e=[e]),(a=(n=e[0])==null?void 0:n[0])==null?void 0:a.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=le.WGS84),{...t,hasM:i,hasZ:r,rings:e,spatialReference:s}}let Ut=I9=class extends Rr{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:i}=t;let r=!1,s=!1;for(const a of e)a.hasZ&&(r=!0),a.hasM&&(s=!0);const n={rings:e.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(r&&a.hasZ){const l=a.zmin+.5*(a.zmax-a.zmin);for(let u=0;u<o.length;u++)o[u].push(l)}if(s&&a.hasM){const l=a.mmin+.5*(a.mmax-a.mmin);for(let u=0;u<o.length;u++)o[u].push(l)}return o}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new I9(n)}constructor(t){super(Oye(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const t=RY(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new _e;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}writeCurveRings(t,e){e.curveRings=z(t)}get extent(){const t=bL(this),{spatialReference:e}=this;return t?new qe({...t,spatialReference:e}):null}get isSelfIntersecting(){return lJ(W.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),K0e(this.rings)}writeRings(t,e){e.rings=z(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(BN(t)){const r=[];for(let s=0,n=t.length;s<n;s++)r[s]=t[s].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new I9;return t.spatialReference=this.spatialReference,t.rings=z(this.rings),t.curveRings=z(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;if(e!=null!=(i!=null)||e!=null&&i!=null&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const r=([s,n,a,o],[l,u,d,h])=>s===l&&n===u&&(a==null&&d==null||a===d)&&(o==null&&h==null||o===h);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],a=t.rings[s];if(!w7(n,a,r))return!1}return!0}contains(t){if(!t)return!1;const e=A7(t,this.spatialReference);return fL(this,e??t)}isClockwise(t){const e=BN(t)?t.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):t;return PY(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],r=this.hasZ,s=this.hasM;return r&&!s?new _e(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new _e(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new _e(i[0],i[1],i[2],i[3],this.spatialReference):new _e(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(Ob(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new _e(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,r=e.map(s=>new _e(s,i));return this.notifyChange("rings"),r}setPoint(t,e,i){return this._validateInputs(t,e)?(Ob(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const r=this.rings[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};c([f({readOnly:!0})],Ut.prototype,"cache",null),c([f({readOnly:!0})],Ut.prototype,"centroid",null),c([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Ut.prototype,"curveRings",void 0),c([ne("curveRings")],Ut.prototype,"writeCurveRings",null),c([f({readOnly:!0})],Ut.prototype,"extent",null),c([f({readOnly:!0})],Ut.prototype,"isSelfIntersecting",null),c([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],Ut.prototype,"rings",void 0),c([ne("rings")],Ut.prototype,"writeRings",null),Ut=I9=c([E("esri.geometry.Polygon")],Ut),Ut.prototype.toJSON.isDefaultToJSON=!0;var LI;function Fye(t){return!Array.isArray(t[0])}function Nye(t){var e;return typeof((e=t[0])==null?void 0:e[0])=="number"}function Dye(t){var n,a;if(!t)return;let{paths:e,hasM:i,hasZ:r,spatialReference:s}=t;switch(e??(e=[]),Nye(e)&&(e=[e]),(a=(n=e[0])==null?void 0:n[0])==null?void 0:a.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=le.WGS84),{...t,hasM:i,hasZ:r,paths:e,spatialReference:s}}let wi=LI=class extends Rr{constructor(t){super(Dye(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=z(t)}get extent(){const t=YY(this),{spatialReference:e}=this;return t?new qe({...t,spatialReference:e}):null}writePaths(t,e){e.paths=z(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(Fye(t)){const r=[];for(let s=0,n=t.length;s<n;s++)r[s]=t[s].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new LI;return t.spatialReference=this.spatialReference,t.paths=z(this.paths),t.curvePaths=z(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],r=this.hasZ,s=this.hasM;return r&&!s?new _e(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new _e(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new _e(i[0],i[1],i[2],i[3],this.spatialReference):new _e(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(Ob(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,r=e.map(s=>new _e(s,i));return this.notifyChange("paths"),r}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new _e(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(Ob(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const r=this.paths[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};c([f({readOnly:!0})],wi.prototype,"cache",null),c([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],wi.prototype,"curvePaths",void 0),c([ne("curvePaths")],wi.prototype,"writeCurvePaths",null),c([f({readOnly:!0})],wi.prototype,"extent",null),c([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],wi.prototype,"paths",void 0),c([ne("paths")],wi.prototype,"writePaths",null),wi=LI=c([E("esri.geometry.Polyline")],wi),wi.prototype.toJSON.isDefaultToJSON=!0;function Wr(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Sg(t){return t.points!==void 0}function jw(t){return t.x!==void 0&&t.y!==void 0}function Fr(t){return t.paths!==void 0||t.curvePaths!==void 0}function pi(t){return t.rings!==void 0||t.curveRings!==void 0}function Xa(t){return t==null?null:t instanceof Rr?t:jw(t)?_e.fromJSON(t):Fr(t)?wi.fromJSON(t):pi(t)?Ut.fromJSON(t):Sg(t)?Fa.fromJSON(t):Wr(t)?qe.fromJSON(t):null}function s0(t){return t?jw(t)?"esriGeometryPoint":Fr(t)?"esriGeometryPolyline":pi(t)?"esriGeometryPolygon":Wr(t)?"esriGeometryEnvelope":Sg(t)?"esriGeometryMultipoint":null:null}const zye={esriGeometryPoint:_e,esriGeometryPolyline:wi,esriGeometryPolygon:Ut,esriGeometryEnvelope:qe,esriGeometryMultipoint:Fa,esriGeometryMultiPatch:Ut};function Vye(t){return t&&zye[t]||null}const jye=ji()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),UN=ji()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),n0={base:Rr,key:"type",typeMap:{extent:qe,multipoint:Fa,point:_e,polyline:wi,polygon:Ut}};var RI;let qd=RI=class extends B{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new RI({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};c([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Ix}}}}})],qd.prototype,"rotation",void 0),c([Xe("rotation")],qd.prototype,"castRotation",null),c([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Ix}}}}})],qd.prototype,"scale",void 0),c([f({types:n0,json:{read:Xa,write:!0,origins:{"web-scene":{read:Xa,write:{overridePolicy:Ix}}}}})],qd.prototype,"targetGeometry",void 0),c([f({type:j0e,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],qd.prototype,"camera",void 0),qd=RI=c([E("esri.Viewpoint")],qd);const er=qd;function Ix(){return{enabled:!this.camera}}let E9=class XY{constructor(){this._emitter=new XY.EventEmitter(this)}emit(e,i){return this._emitter.emit(e,i)}on(e,i){return this._emitter.on(e,i)}once(e,i){return this._emitter.once(e,i)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(t){class e{constructor(s=null){this._target=s,this._listenersMap=null}clear(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){var u;let a=(u=this._listenersMap)==null?void 0:u.get(s);if(!a)return!1;const o=this._target||this;let l=!1;for(const d of a.slice()){const h="deref"in d?d.deref():d;h?h==null||h.call(o,n):l=!0}return l&&(a=a.filter(d=>!("deref"in d)||d.deref()!=null),this._listenersMap.set(s,a)),a.length>0}on(s,n){if(Array.isArray(s)){const o=s.map(l=>this.on(l,n));return r0(o)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const a=this._listenersMap.get(s)||[];return a.push(n),this._listenersMap.set(s,a),ht(()=>{var u;const o=(u=this._listenersMap)==null?void 0:u.get(s),l=(o==null?void 0:o.indexOf(n))??-1;l>=0&&o.splice(l,1)})}once(s,n){const a=this.on(s,o=>{a.remove();const l="deref"in n?n.deref():n;l==null||l.call(null,o)});return a}hasEventListener(s){var a;const n=(a=this._listenersMap)==null?void 0:a.get(s);return n!=null&&n.length>0}}t.EventEmitter=e,t.EventedMixin=r=>{let s=class extends r{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(n,a){return this._emitter.emit(n,a)}on(n,a){return this._emitter.on(n,a)}once(n,a){return this._emitter.once(n,a)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=c([E("esri.core.Evented")],s),s};let i=class extends ce{constructor(){super(...arguments),this._emitter=new E9.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,s){return this._emitter.emit(r,s)}on(r,s){return this._emitter.on(r,s)}once(r,s){return this._emitter.once(r,s)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=c([E("esri.core.Evented.EventedAccessor")],i),t.EventedAccessor=i})(E9||(E9={}));const ha=E9;var St;(function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"})(St||(St={}));var ru;let qye=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},Bye=class{constructor(e,i,r,s,n){this.target=e,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const ma=new _h(qye,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function GN(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function Ex(t){return t?t instanceof of?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function Mx(t){if(t!=null&&t.length)return t[0]}function Uye(t,e,i,r){const s=Math.min(t.length-i,e.length-r);let n=0;for(;n<s&&t[i+n]===e[r+n];)n++;return n}function QY(t,e,i,r){e&&e.forEach((s,n,a)=>{t.push(s),QY(t,i.call(r,s,n,a),i,r)})}const Cd=new Set,kd=new Set,Ad=new Set,Cx=new Map;let Gye=0;var Cm;let of=(Cm=class extends ha.EventedAccessor{static isCollection(e){return e!=null&&e instanceof ru}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new r1,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Gye++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof ru?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ee(this._observable),this._items}set items(e){this._emitBeforeChanges(St.ADD)||(this._splice(0,this.length,Ex(e)),this._emitAfterChanges(St.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,i){if(this.destroyed)return ht();if(e==="change"){const r=this._chgListeners,s={removed:!1,callback:i};return r.push(s),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),ht(()=>{s.removed=!0,r.splice(r.indexOf(s),1)})}return this._emitter.on(e,i)}once(e,i){const r="deref"in i?()=>i.deref():()=>i,s=this.on(e,n=>{var a;(a=r())==null||a.call(null,n),s.remove()});return s}add(e,i){if(Ee(this._observable),this._emitBeforeChanges(St.ADD))return this;const r=this.getNextIndex(i??null);return this._splice(r,0,[e]),this._emitAfterChanges(St.ADD),this}addMany(e,i=this._items.length){if(Ee(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(St.ADD))return this;const r=this.getNextIndex(i);return this._splice(r,0,Ex(e)),this._emitAfterChanges(St.ADD),this}at(e){if(Ee(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ee(this._observable),!this.length||this._emitBeforeChanges(St.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(St.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ee(this._observable),this._createNewInstance({items:this._items.map(z)})}concat(...e){Ee(this._observable);const i=e.map(Ex);return this._createNewInstance({items:this._items.concat(...i)})}drain(e,i){if(Ee(this._observable),!this.length||this._emitBeforeChanges(St.REMOVE))return;const r=this._splice(0,this.length),s=r.length;for(let n=0;n<s;n++)e.call(i,r[n],n,r);this._emitAfterChanges(St.REMOVE)}destroyAll(){this.drain(GN)}destroyMany(e){const i=this.removeMany(e);return i.forEach(GN),i}every(e,i){return Ee(this._observable),this._items.every(e,i)}filter(e,i){Ee(this._observable);const r=arguments.length===2?this._items.filter(e,i):this._items.filter(e);return this._createNewInstance({items:r})}find(e,i){return Ee(this._observable),this._items.find(e,i)}findIndex(e,i){return Ee(this._observable),this._items.findIndex(e,i)}flatten(e,i){Ee(this._observable);const r=[];return QY(r,this,e,i),new ru(r)}forEach(e,i){return Ee(this._observable),this._items.forEach(e,i)}getItemAt(e){return Ee(this._observable),this._items[e]}getNextIndex(e){Ee(this._observable);const i=this.length;return(e=e??i)<0?e=0:e>i&&(e=i),e}includes(e,i=0){return Ee(this._observable),this._items.includes(e,i)}indexOf(e,i=0){return Ee(this._observable),this._items.indexOf(e,i)}join(e=","){return Ee(this._observable),this._items.join(e)}lastIndexOf(e,i=this.length-1){return Ee(this._observable),this._items.lastIndexOf(e,i)}map(e,i){Ee(this._observable);const r=this._items.map(e,i);return new ru({items:r})}reorder(e,i=this.length-1){Ee(this._observable);const r=this.indexOf(e);if(r!==-1){if(i<0?i=0:i>=this.length&&(i=this.length-1),r!==i){if(this._emitBeforeChanges(St.MOVE))return e;this._splice(r,1),this._splice(i,0,[e]),this._emitAfterChanges(St.MOVE)}return e}}pop(){if(Ee(this._observable),!this.length||this._emitBeforeChanges(St.REMOVE))return;const e=Mx(this._splice(this.length-1,1));return this._emitAfterChanges(St.REMOVE),e}push(...e){return Ee(this._observable),this._emitBeforeChanges(St.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(St.ADD)),this.length}reduce(e,i){Ee(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,i):r.reduce(e)}reduceRight(e,i){Ee(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,i):r.reduceRight(e)}remove(e){return Ee(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ee(this._observable),e<0||e>=this.length||this._emitBeforeChanges(St.REMOVE))return;const i=Mx(this._splice(e,1));return this._emitAfterChanges(St.REMOVE),i}removeMany(e){if(Ee(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(St.REMOVE))return[];const i=e instanceof ru?e.toArray():e,r=this._items,s=[],n=i.length;for(let a=0;a<n;a++){const o=i[a],l=r.indexOf(o);if(l>-1){const u=1+Uye(i,r,a+1,l+1),d=this._splice(l,u);d&&d.length>0&&s.push.apply(s,d),a+=u-1}}return this._emitAfterChanges(St.REMOVE),s}reverse(){if(Ee(this._observable),this._emitBeforeChanges(St.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(St.MOVE),this}shift(){if(Ee(this._observable),!this.length||this._emitBeforeChanges(St.REMOVE))return;const e=Mx(this._splice(0,1));return this._emitAfterChanges(St.REMOVE),e}slice(e=0,i=this.length){return Ee(this._observable),this._createNewInstance({items:this._items.slice(e,i)})}some(e,i){return Ee(this._observable),this._items.some(e,i)}sort(e){if(Ee(this._observable),!this.length||this._emitBeforeChanges(St.MOVE)||!this._requiresSort(e))return this;const i=this._splice(0,this.length);return arguments.length?i.sort(e):i.sort(),this._splice(0,0,i),this._emitAfterChanges(St.MOVE),this}_requiresSort(e=(i,r)=>i===r?0:i<r?-1:1){const i=this.length-1;for(let r=0;r<i;r++)if(e(this.items[r],this.items[r+1])>0)return!0;return!1}splice(e,i,...r){Ee(this._observable),arguments.length===1&&(i=this.length),i??(i=0);const s=(i?St.REMOVE:0)|(r.length?St.ADD:0);if(this._emitBeforeChanges(s))return[];const n=this._splice(e,i,r)||[];return this._emitAfterChanges(s),n}toArray(){return Ee(this._observable),this._items.slice()}toJSON(e){return Ee(this._observable),this.toArray().map(i=>Fw(i)?i.toJSON(e):i)}toLocaleString(){return Ee(this._observable),this._items.toLocaleString()}toString(){return Ee(this._observable),this._items.toString()}unshift(...e){return Ee(this._observable),!e.length||this._emitBeforeChanges(St.ADD)||(this._splice(0,0,e),this._emitAfterChanges(St.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,i,r){const s=this._items,n=this.itemType;let a,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=U_(()=>this._dispatchChange())),e<0&&(e+=this.length),i){if(o=s.splice(e,i),this.hasEventListener("before-remove")){const l=ma.acquire();l.target=this,l.cancellable=!0;for(let u=0,d=o.length;u<d;u++)a=o[u],l.reset(a),this.emit("before-remove",l),l.defaultPrevented&&(o.splice(u,1),s.splice(e,0,a),e+=1,u-=1,d-=1);ma.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=ma.acquire();l.target=this,l.cancellable=!1;const u=o.length;for(let d=0;d<u;d++)l.reset(o[d]),this.emit("after-remove",l);ma.release(l)}}if(r!=null&&r.length){if(n){const h=[];for(const p of r){const m=n.ensureType(p);m==null&&p!=null||h.push(m)}r=h}const l=this.hasEventListener("before-add"),u=this.hasEventListener("after-add"),d=e===this.length;if(l||u){const h=ma.acquire();h.target=this,h.cancellable=!0;const p=ma.acquire();p.target=this,p.cancellable=!1;for(const m of r)l?(h.reset(m),this.emit("before-add",h),h.defaultPrevented||(d?s.push(m):s.splice(e++,0,m),this._set("length",s.length),u&&(p.reset(m),this.emit("after-add",p)))):(d?s.push(m):s.splice(e++,0,m),this._set("length",s.length),p.reset(m),this.emit("after-add",p));ma.release(p),ma.release(h)}else{if(d)for(const h of r)s.push(h);else s.splice(e,0,...r);this._set("length",s.length)}}if((r!=null&&r.length||o!=null&&o.length)&&this._notifyChangeEvent(r,o),this.hasEventListener("after-splice")){const l=new Bye(this,r,o,e,i);this.emit("after-splice",l)}return o}_emitBeforeChanges(e){let i=!1;if(this.hasEventListener("before-changes")){const r=ma.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),i=r.defaultPrevented,ma.release(r)}return i}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const i=ma.acquire();i.target=this,i.cancellable=!1,i.type=e,this.emit("after-changes",i),ma.release(i)}this._observable.notify()}_notifyChangeEvent(e,i){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:i})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const i of e){const r=i.changes;Cd.clear(),kd.clear(),Ad.clear();for(const{added:u,removed:d}of r){if(u)if(Ad.size===0&&kd.size===0)for(const h of u)Cd.add(h);else for(const h of u)kd.has(h)?(Ad.add(h),kd.delete(h)):Ad.has(h)||Cd.add(h);if(d)if(Ad.size===0&&Cd.size===0)for(const h of d)kd.add(h);else for(const h of d)Cd.has(h)?Cd.delete(h):(Ad.delete(h),kd.add(h))}const s=Vs.acquire();Cd.forEach(u=>{s.push(u)});const n=Vs.acquire();kd.forEach(u=>{n.push(u)});const a=this._items,o=i.items,l=Vs.acquire();if(Ad.forEach(u=>{o.indexOf(u)!==a.indexOf(u)&&l.push(u)}),i.listeners&&(s.length||n.length||l.length)){const u={target:this,added:s,removed:n,moved:l},d=i.listeners.length;for(let h=0;h<d;h++){const p=i.listeners[h];p.removed||p.callback.call(this,u)}}Vs.release(s),Vs.release(n),Vs.release(l)}Cd.clear(),kd.clear(),Ad.clear()}},ru=Cm,Cm.ofType=e=>{if(!e)return ru;if(Cx.has(e))return Cx.get(e);let i=null;if(typeof e=="function")i=e.prototype.declaredClass;else if(e.base)i=e.base.prototype.declaredClass;else for(const s in e.typeMap){const n=e.typeMap[s].prototype.declaredClass;i?i+=` | ${n}`:i=n}let r=class extends ru{};return c([NP({Type:e,ensureType:typeof e=="function"?Ft(e):Nc(e)})],r.prototype,"itemType",void 0),r=c([E(`esri.core.Collection<${i}>`)],r),Cx.set(e,r),r},Cm);c([f()],of.prototype,"_updating",void 0),c([f()],of.prototype,"length",void 0),c([f()],of.prototype,"items",null),c([f({readOnly:!0})],of.prototype,"updating",null),of=ru=c([E("esri.core.Collection")],of);const K=of;let Vl=class extends K{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles(qZ(()=>this._refresh(),Fc))}destroy(){this.getCollections=null}_refresh(){const e=this.getCollections!=null?this.getCollections():null;if(e==null)return void this.removeAll();let i=0;for(const r of e)r!=null&&(i=this._processCollection(i,r));this.splice(i)}_createNewInstance(e){return new K(e)}_processCollection(e,i){if(!i)return e;const r=this.itemFilterFunction??(s=>!!s);for(const s of i)if(s){if(r(s)){const n=this.indexOf(s,e);n>=0?n!==e&&this.reorder(s,e):this.add(s,e),++e}if(this.getChildrenFunction){const n=this.getChildrenFunction(s);if(Array.isArray(n))for(const a of n)e=this._processCollection(e,a);else e=this._processCollection(e,n)}}return e}};c([f()],Vl.prototype,"getCollections",void 0),c([f()],Vl.prototype,"getChildrenFunction",void 0),c([f()],Vl.prototype,"itemFilterFunction",void 0),Vl=c([E("esri.core.CollectionFlattener")],Vl);let qw=class{constructor(e=i=>i.values().next().value){this._peeker=e,this._observable=new r1,this._items=new Set}get length(){return Ee(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return Ee(this._observable),this._items.has(e)}pop(){if(this.length===0)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const i=this.length;return this._items.forEach(r=>{e(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Ee(this._observable),yield*this._items}};const KY=new FinalizationRegistry(t=>{t.close()});function Hye(t,e){KY.register(t,e,e)}function Wye(t){KY.unregister(t)}function eX(t,e){return new Proxy({},{get:(i,r,s)=>(...n)=>{let a,o;const l=n[n.length-1];return Zye(l)&&(a=l.signal,o=l.transferList,n.pop()),t.apply(e?`${e}.${r.toString()}`:r.toString(),n,{transferList:o,signal:a})}})}function Zye(t){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&("signal"in t||"transferList"in t||Object.keys(t).length===0)}const Jye={statsWorker:()=>R(()=>Promise.resolve().then(()=>QWe),void 0),geometryEngineWorker:()=>R(()=>import("./geometryEngineWorker-CfwuFUrs.js"),__vite__mapDeps([113,114,115,116])),arcadeGeometryOperatorsWorker:()=>R(()=>import("./operatorsWorker-BrKxgHPa.js"),[]),CSVSourceWorker:()=>R(()=>import("./CSVSourceWorker-C_KP0dGT.js"),__vite__mapDeps([117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132])),EdgeProcessingWorker:()=>R(()=>import("./EdgeProcessingWorker-B2mMQ1d6.js"),__vite__mapDeps([133,134,135,136,137,138,139,140,141,142,143,144])),ElevationSamplerWorker:()=>R(()=>import("./ElevationSamplerWorker-C96DlpYs.js"),__vite__mapDeps([145,129,146,147,148,149,150,151,152,153,154,136,155])),FeatureServiceSnappingSourceWorker:()=>R(()=>import("./FeatureServiceSnappingSourceWorker-7mOFi9dv.js"),__vite__mapDeps([156,119,120,121,122,123,124,125,126,127,128,129,130,157])),GeoJSONSourceWorker:()=>R(()=>import("./GeoJSONSourceWorker-B1a0oL9L.js"),__vite__mapDeps([158,121,119,120,122,123,124,125,126,127,128,129,130,159,118,132,160])),LercWorker:()=>R(()=>import("./LercWorker-AQrRT9Ws.js"),[]),MemorySourceWorker:()=>R(()=>import("./MemorySourceWorker-BOsBG1kc.js"),__vite__mapDeps([161,121,162,119,120,122,123,124,125,126,127,128,129,130,132,160,118])),PBFDecoderWorker:()=>R(()=>import("./PBFDecoderWorker-B9_QKfV4.js"),__vite__mapDeps([163,164,121])),FeaturePipelineWorker:()=>R(()=>import("./FeaturePipelineWorker-CmwyO8sY.js"),__vite__mapDeps([165,166,167,143,168,169,124,121,170,171,172,173,174,175,176,130,120,122,123,125,126,177,178,179,180,181,159,118,132,160,182,183,184])),PointCloudWorker:()=>R(()=>import("./PointCloudWorker-CfZBZaM-.js"),__vite__mapDeps([185,186,148,187,188,189,190,141,191,149,150,151,192,193])),RasterWorker:()=>R(()=>import("./RasterWorker-4r0ZVsmW.js"),__vite__mapDeps([194,195,196,197,116,198,199,200,201])),SceneLayerSnappingSourceWorker:()=>R(()=>import("./SceneLayerSnappingSourceWorker-jofOFFb_.js"),__vite__mapDeps([202,203,204,148,193,149,187,205,192,136,138,139,140,135,137,141,142,143,144])),SceneLayerWorker:()=>R(()=>import("./SceneLayerWorker-BeaZ-xAG.js"),__vite__mapDeps([206,146,154,207,152,204,148,193,149,187,208,190,141,209,210,211,212,213,191,186,150,151,192])),WFSSourceWorker:()=>R(()=>import("./WFSSourceWorker-oylUuDYD.js"),__vite__mapDeps([214,121,119,120,122,123,124,125,126,127,128,129,130,159,118,160,215,216])),WorkerTileHandler:()=>R(()=>import("./WorkerTileHandler-BuvpXtez.js"),__vite__mapDeps([217,218,219,220,174,221,222,143,175])),Lyr3DWorker:()=>R(()=>import("./Lyr3DWorker-04D5VALZ.js"),[]),Feature3DPipelineWorker:()=>R(()=>import("./Feature3DPipelineWorker-CUX54yRK.js"),__vite__mapDeps([223,120,121,122,123,124,125,126,149,224,211,153,146,207,152,225,188,226,227,228,229,230,136,140,231,204,148,193,187,203,141,213,212,232,191,186,150,151,192,233,234,235,236,135,137,237,238,239,210,129])),TextureCompressionWorker:()=>R(()=>import("./TextureCompressionWorker-_gjq2o8d.js"),__vite__mapDeps([240,230]))},tX="worker:port-closed";var Dr;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.OPEN=1]="OPEN",t[t.OPENED=2]="OPENED",t[t.RESPONSE=3]="RESPONSE",t[t.INVOKE=4]="INVOKE",t[t.ABORT=5]="ABORT",t[t.CLOSE=6]="CLOSE",t[t.OPEN_PORT=7]="OPEN_PORT",t[t.ON=8]="ON"})(Dr||(Dr={}));let Yye=0;function iX(){return Yye++}function Xye(t){return t&&typeof t=="object"&&("result"in t||"transferList"in t)}function Bw(t){return t?typeof t=="string"?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function vL(t,e,i,r){if(e.type===Dr.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==Dr.INVOKE&&e.type!==Dr.RESPONSE)return void t.postMessage(e);let s;if(Xye(i)?(s=HN(i.transferList),e.data=i.result):(s=HN(r),e.data=i),s){if(q("ff")){for(const n of s)if("byteLength"in n&&n.byteLength>267386880){const a="Worker call with large ArrayBuffer would crash Firefox";switch(e.type){case Dr.INVOKE:throw a;case Dr.RESPONSE:return void vL(t,{type:Dr.RESPONSE,jobId:e.jobId,error:Bw(a)})}}}t.postMessage(e,s)}else t.postMessage(e)}function Uw(t){if(!t)return null;const e=t.data;return e?typeof e=="string"?JSON.parse(e):e:null}function HN(t){if(!(t!=null&&t.length))return null;if(q("esri-workers-arraybuffer-transfer"))return t;const e=t.filter(i=>!Qye(i));return e.length?e:null}function Qye(t){var e;return t instanceof ArrayBuffer||((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="ArrayBuffer"}async function QQe(t){try{return await t}catch(e){const i=(e==null?void 0:e.name)===tX;if(!(tr(e)||i))throw e;return}}const{CLOSE:WN,ABORT:ZN,INVOKE:JN,RESPONSE:q1,OPEN_PORT:YN,ON:Kye}=Dr,ege=2;let tge=class{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===Dr.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var Na;let Nb=(Na=class{static connect(e,i){const r=new MessageChannel;let s;s=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const n=new Na(r.port1,{channel:r,client:s,schedule:i});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=n),Na.clients.set(n,s),r.port2}static loadWorker(e){const i=Jye[e];return i?i():Promise.resolve(null)}constructor(e,i,r,s){this._port=e,this._jobQueue=r,this._lowPriorityJobQueue=s,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new tge(n=>this._onInvokeMessage(n)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:WN}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const s=r==null?void 0:r.signal,n=r==null?void 0:r.transferList;if(!this._port)return Promise.reject(new P(tX,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:i}));const a=iX();return new Promise((o,l)=>{if(Ya(s))return this._processWork(),void l(jt());const u=Zo(s,()=>{const h=this._outJobs.get(a);h&&(this._outJobs.delete(a),this._processWork(),oi(h.abortHandle),this._post({type:ZN,jobId:a}),l(jt()))}),d={resolve:o,reject:l,abortHandle:u,debugInfo:e};this._outJobs.set(a,d),this._post({type:JN,jobId:a,methodName:e,abortable:s!=null},i,n)})}createInvokeProxy(e){return eX(this,e)}on(e,i){const r=new MessageChannel;function s(n){i(n.data)}return this._port.postMessage({type:Dr.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",s),r.port1.start(),ht(()=>{r.port1.postMessage({type:Dr.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:YN,port:e.port2}),e.port1}_processWork(){var a,o;if(this._outJobs.size>=ege)return;const e=((a=this._jobQueue)==null?void 0:a.pop())??((o=this._lowPriorityJobQueue)==null?void 0:o.pop());if(!e)return;const{methodName:i,data:r,invokeOptions:s,resolver:n}=e;this.apply(i,r,s).then(l=>n.resolve(l)).catch(l=>n.reject(l))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{oi(e.abortHandle),e.reject(jt(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){this._schedule!=null?this._schedule(()=>this._processMessage(e,!0)):this._processMessage(e,!1)}_processMessage(e,i){const r=Uw(e);if(r)switch(r.type){case q1:this._onResponseMessage(r);break;case JN:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case ZN:this._onAbortMessage(r);break;case WN:this._onCloseMessage();break;case YN:this._onOpenPortMessage(r);break;case Kye:this._onOnMessage(r)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,s=i.get(r);this._invokeQueue.push(e),s&&(s.controller&&s.controller.abort(),i.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&Na.clients.get(this)===e&&e.destroy(),Na.clients.delete(this),e!=null&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:i,jobId:r,data:s=[],abortable:n}=e,a=n?new AbortController:null,o=this._inJobs;let l,u=this._client,d=u[i];try{if(!d&&i&&i.includes(".")){const h=i.split(".");for(let p=0;p<h.length-1;p++)u=u[h[p]],d=u[h[p+1]]}if(typeof d!="function")throw new TypeError(`${i} is not a function`);s.push({client:this,signal:a?a.signal:null}),l=d.apply(u,s)}catch(h){return void this._post({type:q1,jobId:r,error:Bw(h)})}qc(l)?(o.set(r,{controller:a,promise:l}),l.then(h=>{o.has(r)&&(o.delete(r),this._post({type:q1,jobId:r},h))},h=>{o.has(r)&&(o.delete(r),tr(h)||this._post({type:q1,jobId:r,error:Bw(h||{message:`Error encountered at method ${i}`})}))})):this._post({type:q1,jobId:r},l)}_onOpenPortMessage(e){new Na(e.port,{client:this._client})}_onOnMessage(e){const{port:i}=e,r=this._client.on(e.eventType,n=>{i.postMessage(n)}),s=s1(e.port,"message",n=>{const a=Uw(n);(a==null?void 0:a.type)===Dr.CLOSE&&(s.remove(),r.remove(),i.close())})}_onResponseMessage(e){const{jobId:i,error:r,data:s}=e,n=this._outJobs;if(!n.has(i))return;const a=n.get(i);n.delete(i),this._processWork(),oi(a.abortHandle),r?a.reject(P.fromJSON(JSON.parse(r))):a.resolve(s)}_post(e,i,r){return vL(this._port,e,i,r)}},Na.kernelInfo={buildDate:UJ,fullVersion:KP,revision:GJ},Na.clients=new Map,Na),ige=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new qw,this._ongoingLowPriorityJobsQueue=new qw}destroy(){this.close()}get closed(){var e;return!((e=this._clients)!=null&&e.length)}open(e,i){return new Promise((r,s)=>{let n=!0;const a=o=>{ze(i.signal),n&&(n=!1,o())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let o=0;o<e.length;++o){const l=e[o];qc(l)?this._clientPromises[o]=l.then(u=>(this._clients[o]=new Nb(u,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),a(r),this._clients[o]),()=>(a(s),null)):(this._clients[o]=new Nb(l,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[o]=Promise.resolve(this._clients[o]),a(r))}})}broadcast(e,i,r){const s=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const a=this._clientPromises[n];s[n]=a.then(o=>o==null?void 0:o.invoke(e,i,r))}return s}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(jt(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject(jt(`Worker closing, aborting job calling '${e.methodName}'`));for(const i of this._clientPromises)i.then(r=>r==null?void 0:r.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Wye(this)}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const s=Mn();((r==null?void 0:r.priority)==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:i,invokeOptions:r,resolver:s});for(let n=0;n<this._clientPromises.length;n++){const a=this._clients[n];a?a.jobAdded():this._clientPromises[n].then(o=>o==null?void 0:o.jobAdded())}return s.promise}createInvokeProxy(e){return eX(this,e)}on(e,i){return Promise.all(this._clientPromises).then(()=>r0(this._clients.map(r=>r.on(e,i))))}openPorts(){return new Promise(e=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(n=>{n&&(i[s]=n.openPort()),--r===0&&e(i)})})}get test(){}};const rge={async request(t,e){var a,o;const i=t.options,r=i.responseType;i.signal=e==null?void 0:e.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((a=uI(t.url))!=null&&a.after)?r:"array-buffer";const s=await it(t.url,i),n={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((o=s.requestOptions)==null?void 0:o.responseType){case"native-request-init":return delete n.data.signal,n;case"blob":n.data=await n.data.arrayBuffer();break;case"json":n.data=new TextEncoder().encode(JSON.stringify(n.data)).buffer;break;case"text":n.data=new TextEncoder().encode(n.data).buffer}return{result:n,transferList:[n.data]}}};let Y2;var yW,gW;const sge=((yW=globalThis.esriConfig)==null?void 0:yW.locale)??((gW=globalThis.dojoConfig)==null?void 0:gW.locale);var bW;const X2=(bW=globalThis.document)==null?void 0:bW.documentElement;function rX(){var i;const t=X2==null?void 0:X2.getAttribute("lang"),e=(i=globalThis.navigator)==null?void 0:i.language;return sge??t??e??"en"}function Tn(){return Y2===void 0&&(Y2=rX()),Y2}const nge=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function wL(t=Tn()){var e;return(e=nge.exec(t))==null?void 0:e.groups}const M9=[];function _L(t){return M9.push(t),ht(()=>{M9.splice(M9.indexOf(t),1)})}const C9=[];function SL(t){return C9.push(t),ht(()=>C9.splice(C9.indexOf(t),1))}function XN(){const t=rX();Y2!==t&&([...C9].forEach(e=>e(t)),Y2=t,[...M9].forEach(e=>e(t)))}var vW;(vW=globalThis.addEventListener)==null||vW.call(globalThis,"languagechange",XN),X2&&new MutationObserver(()=>{XN()}).observe(X2,{attributeFilter:["lang"]});const Xs="system",hh="unknown",Vc="UTC",age=Intl.DateTimeFormat().resolvedOptions().timeZone,QN=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class a0 extends Error{}class oge extends a0{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class lge extends a0{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class cge extends a0{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Qy extends a0{}class sX extends a0{constructor(e){super(`Invalid unit ${e}`)}}class fs extends a0{}class Pd extends a0{constructor(){super("Zone is an abstract class")}}const fe="numeric",Jo="short",la="long",O4={year:fe,month:fe,day:fe},nX={year:fe,month:Jo,day:fe},uge={year:fe,month:Jo,day:fe,weekday:Jo},aX={year:fe,month:la,day:fe},oX={year:fe,month:la,day:fe,weekday:la},lX={hour:fe,minute:fe},cX={hour:fe,minute:fe,second:fe},uX={hour:fe,minute:fe,second:fe,timeZoneName:Jo},dX={hour:fe,minute:fe,second:fe,timeZoneName:la},fX={hour:fe,minute:fe,hourCycle:"h23"},hX={hour:fe,minute:fe,second:fe,hourCycle:"h23"},pX={hour:fe,minute:fe,second:fe,hourCycle:"h23",timeZoneName:Jo},mX={hour:fe,minute:fe,second:fe,hourCycle:"h23",timeZoneName:la},yX={year:fe,month:fe,day:fe,hour:fe,minute:fe},gX={year:fe,month:fe,day:fe,hour:fe,minute:fe,second:fe},bX={year:fe,month:Jo,day:fe,hour:fe,minute:fe},vX={year:fe,month:Jo,day:fe,hour:fe,minute:fe,second:fe},dge={year:fe,month:Jo,day:fe,weekday:Jo,hour:fe,minute:fe},wX={year:fe,month:la,day:fe,hour:fe,minute:fe,timeZoneName:Jo},_X={year:fe,month:la,day:fe,hour:fe,minute:fe,second:fe,timeZoneName:Jo},SX={year:fe,month:la,day:fe,weekday:la,hour:fe,minute:fe,timeZoneName:la},xX={year:fe,month:la,day:fe,weekday:la,hour:fe,minute:fe,second:fe,timeZoneName:la};class o0{get type(){throw new Pd}get name(){throw new Pd}get ianaName(){return this.name}get isUniversal(){throw new Pd}offsetName(e,i){throw new Pd}formatOffset(e,i){throw new Pd}offset(e){throw new Pd}equals(e){throw new Pd}get isValid(){throw new Pd}}let kx=null;class O7 extends o0{static get instance(){return kx===null&&(kx=new O7),kx}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return RX(e,i,r)}formatOffset(e,i){return Q2(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const OI=new Map;function fge(t){let e=OI.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),OI.set(t,e)),e}const hge={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function pge(t,e){const i=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,a,o,l,u,d]=r;return[a,s,n,o,l,u,d]}function mge(t,e){const i=t.formatToParts(e),r=[];for(let s=0;s<i.length;s++){const{type:n,value:a}=i[s],o=hge[n];n==="era"?r[o]=a:We(o)||(r[o]=parseInt(a,10))}return r}const Ax=new Map;class Cn extends o0{static create(e){let i=Ax.get(e);return i===void 0&&Ax.set(e,i=new Cn(e)),i}static resetCache(){Ax.clear(),OI.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Cn.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return RX(e,i,r,this.name)}formatOffset(e,i){return Q2(this.offset(e),i)}offset(e){if(!this.valid)return NaN;const i=new Date(e);if(isNaN(i))return NaN;const r=fge(this.name);let[s,n,a,o,l,u,d]=r.formatToParts?mge(r,i):pge(r,i);o==="BC"&&(s=-Math.abs(s)+1);const p=N7({year:s,month:n,day:a,hour:l===24?0:l,minute:u,second:d,millisecond:0});let m=+i;const g=m%1e3;return m-=g>=0?g:1e3+g,(p-m)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let KN={};function yge(t,e={}){const i=JSON.stringify([t,e]);let r=KN[i];return r||(r=new Intl.ListFormat(t,e),KN[i]=r),r}const FI=new Map;function NI(t,e={}){const i=JSON.stringify([t,e]);let r=FI.get(i);return r===void 0&&(r=new Intl.DateTimeFormat(t,e),FI.set(i,r)),r}const DI=new Map;function gge(t,e={}){const i=JSON.stringify([t,e]);let r=DI.get(i);return r===void 0&&(r=new Intl.NumberFormat(t,e),DI.set(i,r)),r}const zI=new Map;function bge(t,e={}){const{base:i,...r}=e,s=JSON.stringify([t,r]);let n=zI.get(s);return n===void 0&&(n=new Intl.RelativeTimeFormat(t,e),zI.set(s,n)),n}let Pv=null;function vge(){return Pv||(Pv=new Intl.DateTimeFormat().resolvedOptions().locale,Pv)}const VI=new Map;function $X(t){let e=VI.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),VI.set(t,e)),e}const jI=new Map;function wge(t){let e=jI.get(t);if(!e){const i=new Intl.Locale(t);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in e||(e={...TX,...e}),jI.set(t,e)}return e}function _ge(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const i=t.indexOf("-u-");if(i===-1)return[t];{let r,s;try{r=NI(t).resolvedOptions(),s=t}catch{const l=t.substring(0,i);r=NI(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:a}=r;return[s,n,a]}}function Sge(t,e,i){return(i||e)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`)),t}function xge(t){const e=[];for(let i=1;i<=12;i++){const r=pe.utc(2009,i,1);e.push(t(r))}return e}function $ge(t){const e=[];for(let i=1;i<=7;i++){const r=pe.utc(2016,11,13+i);e.push(t(r))}return e}function V3(t,e,i,r){const s=t.listingMode();return s==="error"?null:s==="en"?i(e):r(e)}function Tge(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||$X(t.locale).numberingSystem==="latn"}class Ige{constructor(e,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...a}=r;if(!i||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=gge(e,o)}}format(e){if(this.inf){const i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{const i=this.floor?Math.floor(e):EL(e,3);return ar(i,this.padTo)}}}class Ege{constructor(e,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Cn.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=NI(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Mge{constructor(e,i,r){this.opts={style:"long",...r},!i&&PX()&&(this.rtf=bge(e,r))}format(e,i){return this.rtf?this.rtf.format(e,i):Yge(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}}const TX={firstDay:1,minimalDays:4,weekend:[6,7]};class Pt{static fromOpts(e){return Pt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,r,s,n=!1){const a=e||Fi.defaultLocale,o=a||(n?"en-US":vge()),l=i||Fi.defaultNumberingSystem,u=r||Fi.defaultOutputCalendar,d=BI(s)||Fi.defaultWeekSettings;return new Pt(o,l,u,d,a)}static resetCache(){Pv=null,FI.clear(),DI.clear(),zI.clear(),VI.clear(),jI.clear()}static fromObject({locale:e,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return Pt.create(e,i,r,s)}constructor(e,i,r,s,n){const[a,o,l]=_ge(e);this.locale=a,this.numberingSystem=i||o||null,this.outputCalendar=r||l||null,this.weekSettings=s,this.intl=Sge(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Tge(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Pt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,BI(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return V3(this,e,NX,()=>{const r=i?{month:e,day:"numeric"}:{month:e},s=i?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=xge(n=>this.extract(n,r,"month"))),this.monthsCache[s][e]})}weekdays(e,i=!1){return V3(this,e,VX,()=>{const r=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=i?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=$ge(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return V3(this,void 0,()=>jX,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[pe.utc(2016,11,13,9),pe.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return V3(this,e,qX,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[pe.utc(-40,1,1),pe.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[e]})}extract(e,i,r){const s=this.dtFormatter(e,i),n=s.formatToParts(),a=n.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new Ige(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new Ege(e,this.intl,i)}relFormatter(e={}){return new Mge(this.intl,this.isEnglish(),e)}listFormatter(e={}){return yge(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||$X(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:LX()?wge(this.locale):TX}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Px=null;class or extends o0{static get utcInstance(){return Px===null&&(Px=new or(0)),Px}static instance(e){return e===0?or.utcInstance:new or(e)}static parseSpecifier(e){if(e){const i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new or(D7(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Q2(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Q2(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return Q2(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Cge extends o0{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Sf(t,e){if(We(t)||t===null)return e;if(t instanceof o0)return t;if(Oge(t)){const i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?O7.instance:i==="utc"||i==="gmt"?or.utcInstance:or.parseSpecifier(i)||Cn.create(t)}else return Wf(t)?or.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Cge(t)}const xL={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},eD={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},kge=xL.hanidec.replace(/[\[|\]]/g,"").split("");function Age(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);if(t[i].search(xL.hanidec)!==-1)e+=kge.indexOf(t[i]);else for(const s in eD){const[n,a]=eD[s];r>=n&&r<=a&&(e+=r-n)}}return parseInt(e,10)}else return e}const qI=new Map;function Pge(){qI.clear()}function so({numberingSystem:t},e=""){const i=t||"latn";let r=qI.get(i);r===void 0&&(r=new Map,qI.set(i,r));let s=r.get(e);return s===void 0&&(s=new RegExp(`${xL[i]}${e}`),r.set(e,s)),s}let tD=()=>Date.now(),iD="system",rD=null,sD=null,nD=null,aD=60,oD,lD=null;class Fi{static get now(){return tD}static set now(e){tD=e}static set defaultZone(e){iD=e}static get defaultZone(){return Sf(iD,O7.instance)}static get defaultLocale(){return rD}static set defaultLocale(e){rD=e}static get defaultNumberingSystem(){return sD}static set defaultNumberingSystem(e){sD=e}static get defaultOutputCalendar(){return nD}static set defaultOutputCalendar(e){nD=e}static get defaultWeekSettings(){return lD}static set defaultWeekSettings(e){lD=BI(e)}static get twoDigitCutoffYear(){return aD}static set twoDigitCutoffYear(e){aD=e%100}static get throwOnInvalid(){return oD}static set throwOnInvalid(e){oD=e}static resetCaches(){Pt.resetCache(),Cn.resetCache(),pe.resetCache(),Pge()}}class jo{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const IX=[0,31,59,90,120,151,181,212,243,273,304,334],EX=[0,31,60,91,121,152,182,213,244,274,305,335];function Ua(t,e){return new jo("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function $L(t,e,i){const r=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function MX(t,e,i){return i+(e3(t)?EX:IX)[e-1]}function CX(t,e){const i=e3(t)?EX:IX,r=i.findIndex(n=>n<e),s=e-i[r];return{month:r+1,day:s}}function TL(t,e){return(t-e+7)%7+1}function F4(t,e=4,i=1){const{year:r,month:s,day:n}=t,a=MX(r,s,n),o=TL($L(r,s,n),i);let l=Math.floor((a-o+14-e)/7),u;return l<1?(u=r-1,l=Gw(u,e,i)):l>Gw(r,e,i)?(u=r+1,l=1):u=r,{weekYear:u,weekNumber:l,weekday:o,...z7(t)}}function cD(t,e=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=t,a=TL($L(r,1,e),i),o=xg(r);let l=s*7+n-a-7+e,u;l<1?(u=r-1,l+=xg(u)):l>o?(u=r+1,l-=xg(r)):u=r;const{month:d,day:h}=CX(u,l);return{year:u,month:d,day:h,...z7(t)}}function Lx(t){const{year:e,month:i,day:r}=t,s=MX(e,i,r);return{year:e,ordinal:s,...z7(t)}}function uD(t){const{year:e,ordinal:i}=t,{month:r,day:s}=CX(e,i);return{year:e,month:r,day:s,...z7(t)}}function dD(t,e){if(!We(t.localWeekday)||!We(t.localWeekNumber)||!We(t.localWeekYear)){if(!We(t.weekday)||!We(t.weekNumber)||!We(t.weekYear))throw new Qy("Cannot mix locale-based week fields with ISO-based week fields");return We(t.localWeekday)||(t.weekday=t.localWeekday),We(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),We(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Lge(t,e=4,i=1){const r=F7(t.weekYear),s=Ga(t.weekNumber,1,Gw(t.weekYear,e,i)),n=Ga(t.weekday,1,7);return r?s?n?!1:Ua("weekday",t.weekday):Ua("week",t.weekNumber):Ua("weekYear",t.weekYear)}function Rge(t){const e=F7(t.year),i=Ga(t.ordinal,1,xg(t.year));return e?i?!1:Ua("ordinal",t.ordinal):Ua("year",t.year)}function kX(t){const e=F7(t.year),i=Ga(t.month,1,12),r=Ga(t.day,1,N4(t.year,t.month));return e?i?r?!1:Ua("day",t.day):Ua("month",t.month):Ua("year",t.year)}function AX(t){const{hour:e,minute:i,second:r,millisecond:s}=t,n=Ga(e,0,23)||e===24&&i===0&&r===0&&s===0,a=Ga(i,0,59),o=Ga(r,0,59),l=Ga(s,0,999);return n?a?o?l?!1:Ua("millisecond",s):Ua("second",r):Ua("minute",i):Ua("hour",e)}function We(t){return typeof t>"u"}function Wf(t){return typeof t=="number"}function F7(t){return typeof t=="number"&&t%1===0}function Oge(t){return typeof t=="string"}function Fge(t){return Object.prototype.toString.call(t)==="[object Date]"}function PX(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function LX(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Nge(t){return Array.isArray(t)?t:[t]}function fD(t,e,i){if(t.length!==0)return t.reduce((r,s)=>{const n=[e(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function Dge(t,e){return e.reduce((i,r)=>(i[r]=t[r],i),{})}function Db(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function BI(t){if(t==null)return null;if(typeof t!="object")throw new fs("Week settings must be an object");if(!Ga(t.firstDay,1,7)||!Ga(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Ga(e,1,7)))throw new fs("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ga(t,e,i){return F7(t)&&t>=e&&t<=i}function zge(t,e){return t-e*Math.floor(t/e)}function ar(t,e=2){const i=t<0;let r;return i?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function lf(t){if(!(We(t)||t===null||t===""))return parseInt(t,10)}function Rh(t){if(!(We(t)||t===null||t===""))return parseFloat(t)}function IL(t){if(!(We(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function EL(t,e,i=!1){const r=10**e;return(i?Math.trunc:Math.round)(t*r)/r}function e3(t){return t%4===0&&(t%100!==0||t%400===0)}function xg(t){return e3(t)?366:365}function N4(t,e){const i=zge(e-1,12)+1,r=t+(e-i)/12;return i===2?e3(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function N7(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function hD(t,e,i){return-TL($L(t,1,e),i)+e-1}function Gw(t,e=4,i=1){const r=hD(t,e,i),s=hD(t+1,e,i);return(xg(t)-r+s)/7}function UI(t){return t>99?t:t>Fi.twoDigitCutoffYear?1900+t:2e3+t}function RX(t,e,i,r=null){const s=new Date(t),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const a={timeZoneName:e,...n},o=new Intl.DateTimeFormat(i,a).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function D7(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const r=parseInt(e,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function OX(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new fs(`Invalid unit value ${t}`);return e}function D4(t,e){const i={};for(const r in t)if(Db(t,r)){const s=t[r];if(s==null)continue;i[e(r)]=OX(s)}return i}function Q2(t,e){const i=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${ar(i,2)}:${ar(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${ar(i,2)}${ar(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function z7(t){return Dge(t,["hour","minute","second","millisecond"])}const Vge=["January","February","March","April","May","June","July","August","September","October","November","December"],FX=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jge=["J","F","M","A","M","J","J","A","S","O","N","D"];function NX(t){switch(t){case"narrow":return[...jge];case"short":return[...FX];case"long":return[...Vge];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const DX=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],zX=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],qge=["M","T","W","T","F","S","S"];function VX(t){switch(t){case"narrow":return[...qge];case"short":return[...zX];case"long":return[...DX];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const jX=["AM","PM"],Bge=["Before Christ","Anno Domini"],Uge=["BC","AD"],Gge=["B","A"];function qX(t){switch(t){case"narrow":return[...Gge];case"short":return[...Uge];case"long":return[...Bge];default:return null}}function Hge(t){return jX[t.hour<12?0:1]}function Wge(t,e){return VX(e)[t.weekday-1]}function Zge(t,e){return NX(e)[t.month-1]}function Jge(t,e){return qX(e)[t.year<0?0:1]}function Yge(t,e,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(t)===-1;if(i==="auto"&&n){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${s[t][0]}`;case-1:return h?"yesterday":`last ${s[t][0]}`;case 0:return h?"today":`this ${s[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=s[t],d=r?l?u[1]:u[2]||u[1]:l?s[t][0]:t;return a?`${o} ${d} ago`:`in ${o} ${d}`}function pD(t,e){let i="";for(const r of t)r.literal?i+=r.val:i+=e(r.val);return i}const Xge={D:O4,DD:nX,DDD:aX,DDDD:oX,t:lX,tt:cX,ttt:uX,tttt:dX,T:fX,TT:hX,TTT:pX,TTTT:mX,f:yX,ff:bX,fff:wX,ffff:SX,F:gX,FF:vX,FFF:_X,FFFF:xX};class ws{static create(e,i={}){return new ws(e,i)}static parseFormat(e){let i=null,r="",s=!1;const n=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),i=null,r="",s=!s):s||o===i?r+=o:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=o,i=o)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(e){return Xge[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0){if(this.opts.forceSimple)return ar(e,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(m,g)=>this.loc.extract(e,m,g),a=m=>e.isOffsetFixed&&e.offset===0&&m.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,m.format):"",o=()=>r?Hge(e):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(m,g)=>r?Zge(e,m):n(g?{month:m}:{month:m,day:"numeric"},"month"),u=(m,g)=>r?Wge(e,m):n(g?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),d=m=>{const g=ws.macroTokenToFormatOpts(m);return g?this.formatWithSystemDefault(e,g):m},h=m=>r?Jge(e,m):n({era:m},"era"),p=m=>{switch(m){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?n({day:"numeric"},"day"):this.num(e.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(e.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(e.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(m)}};return pD(ws.parseFormat(i),p)}formatDurationFromString(e,i){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>u=>{const d=r(u);return d?this.num(l.get(d),u.length):u},n=ws.parseFormat(i),a=n.reduce((l,{literal:u,val:d})=>u?l:l.concat(d),[]),o=e.shiftTo(...a.map(r).filter(l=>l));return pD(n,s(o))}}const BX=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function h1(...t){const e=t.reduce((i,r)=>i+r.source,"");return RegExp(`^${e}$`)}function p1(...t){return e=>t.reduce(([i,r,s],n)=>{const[a,o,l]=n(e,s);return[{...i,...a},o||r,l]},[{},null,1]).slice(0,2)}function m1(t,...e){if(t==null)return[null,null];for(const[i,r]of e){const s=i.exec(t);if(s)return r(s)}return[null,null]}function UX(...t){return(e,i)=>{const r={};let s;for(s=0;s<t.length;s++)r[t[s]]=lf(e[i+s]);return[r,null,i+s]}}const GX=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Qge=`(?:${GX.source}?(?:\\[(${BX.source})\\])?)?`,ML=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,HX=RegExp(`${ML.source}${Qge}`),CL=RegExp(`(?:T${HX.source})?`),Kge=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ebe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,tbe=/(\d{4})-?(\d{3})/,ibe=UX("weekYear","weekNumber","weekDay"),rbe=UX("year","ordinal"),sbe=/(\d{4})-(\d\d)-(\d\d)/,WX=RegExp(`${ML.source} ?(?:${GX.source}|(${BX.source}))?`),nbe=RegExp(`(?: ${WX.source})?`);function $g(t,e,i){const r=t[e];return We(r)?i:lf(r)}function abe(t,e){return[{year:$g(t,e),month:$g(t,e+1,1),day:$g(t,e+2,1)},null,e+3]}function y1(t,e){return[{hours:$g(t,e,0),minutes:$g(t,e+1,0),seconds:$g(t,e+2,0),milliseconds:IL(t[e+3])},null,e+4]}function t3(t,e){const i=!t[e]&&!t[e+1],r=D7(t[e+1],t[e+2]),s=i?null:or.instance(r);return[{},s,e+3]}function i3(t,e){const i=t[e]?Cn.create(t[e]):null;return[{},i,e+1]}const obe=RegExp(`^T?${ML.source}$`),lbe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function cbe(t){const[e,i,r,s,n,a,o,l,u]=t,d=e[0]==="-",h=l&&l[0]==="-",p=(m,g=!1)=>m!==void 0&&(g||m&&d)?-m:m;return[{years:p(Rh(i)),months:p(Rh(r)),weeks:p(Rh(s)),days:p(Rh(n)),hours:p(Rh(a)),minutes:p(Rh(o)),seconds:p(Rh(l),l==="-0"),milliseconds:p(IL(u),h)}]}const ube={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function kL(t,e,i,r,s,n,a){const o={year:e.length===2?UI(lf(e)):lf(e),month:FX.indexOf(i)+1,day:lf(r),hour:lf(s),minute:lf(n)};return a&&(o.second=lf(a)),t&&(o.weekday=t.length>3?DX.indexOf(t)+1:zX.indexOf(t)+1),o}const dbe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function fbe(t){const[,e,i,r,s,n,a,o,l,u,d,h]=t,p=kL(e,s,r,i,n,a,o);let m;return l?m=ube[l]:u?m=0:m=D7(d,h),[p,new or(m)]}function hbe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const pbe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,mbe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ybe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function mD(t){const[,e,i,r,s,n,a,o]=t;return[kL(e,s,r,i,n,a,o),or.utcInstance]}function gbe(t){const[,e,i,r,s,n,a,o]=t;return[kL(e,o,i,r,s,n,a),or.utcInstance]}const bbe=h1(Kge,CL),vbe=h1(ebe,CL),wbe=h1(tbe,CL),_be=h1(HX),ZX=p1(abe,y1,t3,i3),Sbe=p1(ibe,y1,t3,i3),xbe=p1(rbe,y1,t3,i3),$be=p1(y1,t3,i3);function Tbe(t){return m1(t,[bbe,ZX],[vbe,Sbe],[wbe,xbe],[_be,$be])}function Ibe(t){return m1(hbe(t),[dbe,fbe])}function Ebe(t){return m1(t,[pbe,mD],[mbe,mD],[ybe,gbe])}function Mbe(t){return m1(t,[lbe,cbe])}const Cbe=p1(y1);function kbe(t){return m1(t,[obe,Cbe])}const Abe=h1(sbe,nbe),Pbe=h1(WX),Lbe=p1(y1,t3,i3);function Rbe(t){return m1(t,[Abe,ZX],[Pbe,Lbe])}const yD="Invalid Duration",JX={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Obe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...JX},ya=146097/400,_0=146097/4800,Fbe={years:{quarters:4,months:12,weeks:ya/7,days:ya,hours:ya*24,minutes:ya*24*60,seconds:ya*24*60*60,milliseconds:ya*24*60*60*1e3},quarters:{months:3,weeks:ya/28,days:ya/4,hours:ya*24/4,minutes:ya*24*60/4,seconds:ya*24*60*60/4,milliseconds:ya*24*60*60*1e3/4},months:{weeks:_0/7,days:_0,hours:_0*24,minutes:_0*24*60,seconds:_0*24*60*60,milliseconds:_0*24*60*60*1e3},...JX},Xp=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Nbe=Xp.slice(0).reverse();function Ld(t,e,i=!1){const r={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new gt(r)}function YX(t,e){let i=e.milliseconds??0;for(const r of Nbe.slice(1))e[r]&&(i+=e[r]*t[r].milliseconds);return i}function gD(t,e){const i=YX(t,e)<0?-1:1;Xp.reduceRight((r,s)=>{if(We(e[s]))return r;if(r){const n=e[r]*i,a=t[s][r],o=Math.floor(n/a);e[s]+=o*i,e[r]-=o*a*i}return s},null),Xp.reduce((r,s)=>{if(We(e[s]))return r;if(r){const n=e[r]%1;e[r]-=n,e[s]+=n*t[r][s]}return s},null)}function Dbe(t){const e={};for(const[i,r]of Object.entries(t))r!==0&&(e[i]=r);return e}class gt{constructor(e){const i=e.conversionAccuracy==="longterm"||!1;let r=i?Fbe:Obe;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Pt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,i){return gt.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new fs(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new gt({values:D4(e,gt.normalizeUnit),loc:Pt.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(Wf(e))return gt.fromMillis(e);if(gt.isDuration(e))return e;if(typeof e=="object")return gt.fromObject(e);throw new fs(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){const[r]=Mbe(e);return r?gt.fromObject(r,i):gt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){const[r]=kbe(e);return r?gt.fromObject(r,i):gt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new fs("need to specify a reason the Duration is invalid");const r=e instanceof jo?e:new jo(e,i);if(Fi.throwOnInvalid)throw new cge(r);return new gt({invalid:r})}static normalizeUnit(e){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new sX(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?ws.create(this.loc,r).formatDurationFromString(this,e):yD}toHuman(e={}){if(!this.isValid)return yD;const i=Xp.map(r=>{const s=this.values[r];return We(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=EL(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},pe.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?YX(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const i=gt.fromDurationLike(e),r={};for(const s of Xp)(Db(i.values,s)||Db(this.values,s))&&(r[s]=i.get(s)+this.get(s));return Ld(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const i=gt.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=OX(e(this.values[r],r));return Ld(this,{values:i},!0)}get(e){return this[gt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const i={...this.values,...D4(e,gt.normalizeUnit)};return Ld(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:s,conversionAccuracy:r};return Ld(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return gD(this.matrix,e),Ld(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Dbe(this.normalize().shiftToAll().toObject());return Ld(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>gt.normalizeUnit(a));const i={},r={},s=this.toObject();let n;for(const a of Xp)if(e.indexOf(a)>=0){n=a;let o=0;for(const u in r)o+=this.matrix[u][a]*r[u],r[u]=0;Wf(s[a])&&(o+=s[a]);const l=Math.trunc(o);i[a]=l,r[a]=(o*1e3-l*1e3)/1e3}else Wf(s[a])&&(r[a]=s[a]);for(const a in r)r[a]!==0&&(i[n]+=a===n?r[a]:r[a]/this.matrix[n][a]);return gD(this.matrix,i),Ld(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return Ld(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of Xp)if(!i(this.values[r],e.values[r]))return!1;return!0}}const S0="Invalid Interval";function zbe(t,e){return!t||!t.isValid?Li.invalid("missing or invalid start"):!e||!e.isValid?Li.invalid("missing or invalid end"):e<t?Li.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Li{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new fs("need to specify a reason the Interval is invalid");const r=e instanceof jo?e:new jo(e,i);if(Fi.throwOnInvalid)throw new lge(r);return new Li({invalid:r})}static fromDateTimes(e,i){const r=B1(e),s=B1(i),n=zbe(r,s);return n??new Li({start:r,end:s})}static after(e,i){const r=gt.fromDurationLike(i),s=B1(e);return Li.fromDateTimes(s,s.plus(r))}static before(e,i){const r=gt.fromDurationLike(i),s=B1(e);return Li.fromDateTimes(s.minus(r),s)}static fromISO(e,i){const[r,s]=(e||"").split("/",2);if(r&&s){let n,a;try{n=pe.fromISO(r,i),a=n.isValid}catch{a=!1}let o,l;try{o=pe.fromISO(s,i),l=o.isValid}catch{l=!1}if(a&&l)return Li.fromDateTimes(n,o);if(a){const u=gt.fromISO(s,i);if(u.isValid)return Li.after(n,u)}else if(l){const u=gt.fromISO(r,i);if(u.isValid)return Li.before(o,u)}}return Li.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(e,i);let s;return i!=null&&i.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(e,i),Math.floor(s.diff(r,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?Li.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];const i=e.map(B1).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const a=i[n]||this.e,o=+a>+this.e?this.e:a;r.push(Li.fromDateTimes(s,o)),s=o,n+=1}return r}splitBy(e){const i=gt.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const a=[];for(;r<this.e;){const o=this.start.plus(i.mapUnits(l=>l*s));n=+o>+this.e?this.e:o,a.push(Li.fromDateTimes(r,n)),r=n,s+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const i=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return i>=r?null:Li.fromDateTimes(i,r)}union(e){if(!this.isValid)return this;const i=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Li.fromDateTimes(i,r)}static merge(e){const[i,r]=e.sort((s,n)=>s.s-n.s).reduce(([s,n],a)=>n?n.overlaps(a)||n.abutsStart(a)?[s,n.union(a)]:[s.concat([n]),a]:[s,a],[[],null]);return r&&i.push(r),i}static xor(e){let i=null,r=0;const s=[],n=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...n),o=a.sort((l,u)=>l.time-u.time);for(const l of o)r+=l.type==="s"?1:-1,r===1?i=l.time:(i&&+i!=+l.time&&s.push(Li.fromDateTimes(i,l.time)),i=null);return Li.merge(s)}difference(...e){return Li.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:S0}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=O4,i={}){return this.isValid?ws.create(this.s.loc.clone(i),e).formatInterval(this):S0}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:S0}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:S0}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:S0}toFormat(e,{separator:i=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:S0}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):gt.invalid(this.invalidReason)}mapEndpoints(e){return Li.fromDateTimes(e(this.s),e(this.e))}}class j3{static hasDST(e=Fi.defaultZone){const i=pe.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return Cn.isValidZone(e)}static normalizeZone(e){return Sf(e,Fi.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||Pt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||Pt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||Pt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Pt.create(i,r,n)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Pt.create(i,r,n)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Pt.create(i,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Pt.create(i,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Pt.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return Pt.create(i,null,"gregory").eras(e)}static features(){return{relative:PX(),localeWeek:LX()}}}function bD(t,e){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(e)-i(t);return Math.floor(gt.fromMillis(r).as("days"))}function Vbe(t,e,i){const r=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const d=bD(l,u);return(d-d%7)/7}],["days",bD]],s={},n=t;let a,o;for(const[l,u]of r)i.indexOf(l)>=0&&(a=l,s[l]=u(t,e),o=n.plus(s),o>e?(s[l]--,t=n.plus(s),t>e&&(o=t,s[l]--,t=n.plus(s))):t=o);return[t,s,o,a]}function jbe(t,e,i,r){let[s,n,a,o]=Vbe(t,e,i);const l=e-s,u=i.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);u.length===0&&(a<e&&(a=s.plus({[o]:1})),a!==s&&(n[o]=(n[o]||0)+l/(a-s)));const d=gt.fromObject(n,r);return u.length>0?gt.fromMillis(l,r).shiftTo(...u).plus(d):d}const qbe="missing Intl.DateTimeFormat.formatToParts support";function Tt(t,e=i=>i){return{regex:t,deser:([i])=>e(Age(i))}}const Bbe=" ",XX=`[ ${Bbe}]`,QX=new RegExp(XX,"g");function Ube(t){return t.replace(/\./g,"\\.?").replace(QX,XX)}function vD(t){return t.replace(/\./g,"").replace(QX," ").toLowerCase()}function no(t,e){return t===null?null:{regex:RegExp(t.map(Ube).join("|")),deser:([i])=>t.findIndex(r=>vD(i)===vD(r))+e}}function wD(t,e){return{regex:t,deser:([,i,r])=>D7(i,r),groups:e}}function q3(t){return{regex:t,deser:([e])=>e}}function Gbe(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Hbe(t,e){const i=so(e),r=so(e,"{2}"),s=so(e,"{3}"),n=so(e,"{4}"),a=so(e,"{6}"),o=so(e,"{1,2}"),l=so(e,"{1,3}"),u=so(e,"{1,6}"),d=so(e,"{1,9}"),h=so(e,"{2,4}"),p=so(e,"{4,6}"),m=v=>({regex:RegExp(Gbe(v.val)),deser:([w])=>w,literal:!0}),b=(v=>{if(t.literal)return m(v);switch(v.val){case"G":return no(e.eras("short"),0);case"GG":return no(e.eras("long"),0);case"y":return Tt(u);case"yy":return Tt(h,UI);case"yyyy":return Tt(n);case"yyyyy":return Tt(p);case"yyyyyy":return Tt(a);case"M":return Tt(o);case"MM":return Tt(r);case"MMM":return no(e.months("short",!0),1);case"MMMM":return no(e.months("long",!0),1);case"L":return Tt(o);case"LL":return Tt(r);case"LLL":return no(e.months("short",!1),1);case"LLLL":return no(e.months("long",!1),1);case"d":return Tt(o);case"dd":return Tt(r);case"o":return Tt(l);case"ooo":return Tt(s);case"HH":return Tt(r);case"H":return Tt(o);case"hh":return Tt(r);case"h":return Tt(o);case"mm":return Tt(r);case"m":return Tt(o);case"q":return Tt(o);case"qq":return Tt(r);case"s":return Tt(o);case"ss":return Tt(r);case"S":return Tt(l);case"SSS":return Tt(s);case"u":return q3(d);case"uu":return q3(o);case"uuu":return Tt(i);case"a":return no(e.meridiems(),0);case"kkkk":return Tt(n);case"kk":return Tt(h,UI);case"W":return Tt(o);case"WW":return Tt(r);case"E":case"c":return Tt(i);case"EEE":return no(e.weekdays("short",!1),1);case"EEEE":return no(e.weekdays("long",!1),1);case"ccc":return no(e.weekdays("short",!0),1);case"cccc":return no(e.weekdays("long",!0),1);case"Z":case"ZZ":return wD(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return wD(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return q3(/[a-z_+-/]{1,256}?/i);case" ":return q3(/[^\S\n\r]/);default:return m(v)}})(t)||{invalidReason:qbe};return b.token=t,b}const Wbe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Zbe(t,e,i){const{type:r,value:s}=t;if(r==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=i.hour12?"hour12":"hour24");let o=Wbe[a];if(typeof o=="object"&&(o=o[n]),o)return{literal:!1,val:o}}function Jbe(t){return[`^${t.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,t]}function Ybe(t,e,i){const r=t.match(e);if(r){const s={};let n=1;for(const a in i)if(Db(i,a)){const o=i[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(r.slice(n,n+l))),n+=l}return[r,s]}else return[r,{}]}function Xbe(t){const e=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return We(t.z)||(i=Cn.create(t.z)),We(t.Z)||(i||(i=new or(t.Z)),r=t.Z),We(t.q)||(t.M=(t.q-1)*3+1),We(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),We(t.u)||(t.S=IL(t.u)),[Object.keys(t).reduce((n,a)=>{const o=e(a);return o&&(n[o]=t[a]),n},{}),i,r]}let Rx=null;function Qbe(){return Rx||(Rx=pe.fromMillis(1555555555555)),Rx}function Kbe(t,e){if(t.literal)return t;const i=ws.macroTokenToFormatOpts(t.val),r=iQ(i,e);return r==null||r.includes(void 0)?t:r}function KX(t,e){return Array.prototype.concat(...t.map(i=>Kbe(i,e)))}class eQ{constructor(e,i){if(this.locale=e,this.format=i,this.tokens=KX(ws.parseFormat(i),e),this.units=this.tokens.map(r=>Hbe(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=Jbe(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[i,r]=Ybe(e,this.regex,this.handlers),[s,n,a]=r?Xbe(r):[null,null,void 0];if(Db(r,"a")&&Db(r,"H"))throw new Qy("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function tQ(t,e,i){return new eQ(t,i).explainFromTokens(e)}function e1e(t,e,i){const{result:r,zone:s,specificOffset:n,invalidReason:a}=tQ(t,e,i);return[r,s,n,a]}function iQ(t,e){if(!t)return null;const r=ws.create(e,t).dtFormatter(Qbe()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(a=>Zbe(a,t,n))}const Ox="Invalid DateTime",_D=864e13;function Lv(t){return new jo("unsupported zone",`the zone "${t.name}" is not supported`)}function Fx(t){return t.weekData===null&&(t.weekData=F4(t.c)),t.weekData}function Nx(t){return t.localWeekData===null&&(t.localWeekData=F4(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Oh(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new pe({...i,...e,old:i})}function rQ(t,e,i){let r=t-e*60*1e3;const s=i.offset(r);if(e===s)return[r,e];r-=(s-e)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[t-Math.min(s,n)*60*1e3,Math.max(s,n)]}function B3(t,e){t+=e*60*1e3;const i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function k9(t,e,i){return rQ(N7(t),e,i)}function SD(t,e){const i=t.o,r=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,n={...t.c,year:r,month:s,day:Math.min(t.c.day,N4(r,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=gt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=N7(n);let[l,u]=rQ(o,i,t.zone);return a!==0&&(l+=a,u=t.zone.offset(l)),{ts:l,o:u}}function x0(t,e,i,r,s,n){const{setZone:a,zone:o}=i;if(t&&Object.keys(t).length!==0||e){const l=e||o,u=pe.fromObject(t,{...i,zone:l,specificOffset:n});return a?u:u.setZone(o)}else return pe.invalid(new jo("unparsable",`the input "${s}" can't be parsed as ${r}`))}function U3(t,e,i=!0){return t.isValid?ws.create(Pt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Dx(t,e){const i=t.c.year>9999||t.c.year<0;let r="";return i&&t.c.year>=0&&(r+="+"),r+=ar(t.c.year,i?6:4),e?(r+="-",r+=ar(t.c.month),r+="-",r+=ar(t.c.day)):(r+=ar(t.c.month),r+=ar(t.c.day)),r}function xD(t,e,i,r,s,n){let a=ar(t.c.hour);return e?(a+=":",a+=ar(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!i)&&(a+=":")):a+=ar(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!i)&&(a+=ar(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=ar(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!n?a+="Z":t.o<0?(a+="-",a+=ar(Math.trunc(-t.o/60)),a+=":",a+=ar(Math.trunc(-t.o%60))):(a+="+",a+=ar(Math.trunc(t.o/60)),a+=":",a+=ar(Math.trunc(t.o%60)))),n&&(a+="["+t.zone.ianaName+"]"),a}const sQ={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},t1e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},i1e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},nQ=["year","month","day","hour","minute","second","millisecond"],r1e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],s1e=["year","ordinal","hour","minute","second","millisecond"];function n1e(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new sX(t);return e}function $D(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return n1e(t)}}function a1e(t){if(Rv===void 0&&(Rv=Fi.now()),t.type!=="iana")return t.offset(Rv);const e=t.name;let i=GI.get(e);return i===void 0&&(i=t.offset(Rv),GI.set(e,i)),i}function TD(t,e){const i=Sf(e.zone,Fi.defaultZone);if(!i.isValid)return pe.invalid(Lv(i));const r=Pt.fromObject(e);let s,n;if(We(t.year))s=Fi.now();else{for(const l of nQ)We(t[l])&&(t[l]=sQ[l]);const a=kX(t)||AX(t);if(a)return pe.invalid(a);const o=a1e(i);[s,n]=k9(t,o,i)}return new pe({ts:s,zone:i,loc:r,o:n})}function ID(t,e,i){const r=We(i.round)?!0:i.round,s=(a,o)=>(a=EL(a,r||i.calendary?0:2,!0),e.loc.clone(i).relFormatter(i).format(a,o)),n=a=>i.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(i.unit)return s(n(i.unit),i.unit);for(const a of i.units){const o=n(a);if(Math.abs(o)>=1)return s(o,a)}return s(t>e?-0:0,i.units[i.units.length-1])}function ED(t){let e={},i;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[e,i]}let Rv;const GI=new Map;class pe{constructor(e){const i=e.zone||Fi.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new jo("invalid input"):null)||(i.isValid?null:Lv(i));this.ts=We(e.ts)?Fi.now():e.ts;let s=null,n=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[s,n]=[e.old.c,e.old.o];else{const o=Wf(e.o)&&!e.old?e.o:i.offset(this.ts);s=B3(this.ts,o),r=Number.isNaN(s.year)?new jo("invalid input"):null,s=r?null:s,n=r?null:o}this._zone=i,this.loc=e.loc||Pt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new pe({})}static local(){const[e,i]=ED(arguments),[r,s,n,a,o,l,u]=i;return TD({year:r,month:s,day:n,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,i]=ED(arguments),[r,s,n,a,o,l,u]=i;return e.zone=or.utcInstance,TD({year:r,month:s,day:n,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,i={}){const r=Fge(e)?e.valueOf():NaN;if(Number.isNaN(r))return pe.invalid("invalid input");const s=Sf(i.zone,Fi.defaultZone);return s.isValid?new pe({ts:r,zone:s,loc:Pt.fromObject(i)}):pe.invalid(Lv(s))}static fromMillis(e,i={}){if(Wf(e))return e<-_D||e>_D?pe.invalid("Timestamp out of range"):new pe({ts:e,zone:Sf(i.zone,Fi.defaultZone),loc:Pt.fromObject(i)});throw new fs(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(Wf(e))return new pe({ts:e*1e3,zone:Sf(i.zone,Fi.defaultZone),loc:Pt.fromObject(i)});throw new fs("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};const r=Sf(i.zone,Fi.defaultZone);if(!r.isValid)return pe.invalid(Lv(r));const s=Pt.fromObject(i),n=D4(e,$D),{minDaysInFirstWeek:a,startOfWeek:o}=dD(n,s),l=Fi.now(),u=We(i.specificOffset)?r.offset(l):i.specificOffset,d=!We(n.ordinal),h=!We(n.year),p=!We(n.month)||!We(n.day),m=h||p,g=n.weekYear||n.weekNumber;if((m||d)&&g)throw new Qy("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&d)throw new Qy("Can't mix ordinal dates with month/day");const b=g||n.weekday&&!m;let v,w,_=B3(l,u);b?(v=r1e,w=t1e,_=F4(_,a,o)):d?(v=s1e,w=i1e,_=Lx(_)):(v=nQ,w=sQ);let S=!1;for(const D of v){const G=n[D];We(G)?S?n[D]=w[D]:n[D]=_[D]:S=!0}const T=b?Lge(n,a,o):d?Rge(n):kX(n),C=T||AX(n);if(C)return pe.invalid(C);const A=b?cD(n,a,o):d?uD(n):n,[O,L]=k9(A,u,r),F=new pe({ts:O,zone:r,o:L,loc:s});return n.weekday&&m&&e.weekday!==F.weekday?pe.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${F.toISO()}`):F.isValid?F:pe.invalid(F.invalid)}static fromISO(e,i={}){const[r,s]=Tbe(e);return x0(r,s,i,"ISO 8601",e)}static fromRFC2822(e,i={}){const[r,s]=Ibe(e);return x0(r,s,i,"RFC 2822",e)}static fromHTTP(e,i={}){const[r,s]=Ebe(e);return x0(r,s,i,"HTTP",i)}static fromFormat(e,i,r={}){if(We(e)||We(i))throw new fs("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,a=Pt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[o,l,u,d]=e1e(a,e,i);return d?pe.invalid(d):x0(o,l,r,`format ${i}`,e,u)}static fromString(e,i,r={}){return pe.fromFormat(e,i,r)}static fromSQL(e,i={}){const[r,s]=Rbe(e);return x0(r,s,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new fs("need to specify a reason the DateTime is invalid");const r=e instanceof jo?e:new jo(e,i);if(Fi.throwOnInvalid)throw new oge(r);return new pe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){const r=iQ(e,Pt.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(e,i={}){return KX(ws.parseFormat(e),Pt.fromObject(i)).map(s=>s.val).join("")}static resetCache(){Rv=void 0,GI.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Fx(this).weekYear:NaN}get weekNumber(){return this.isValid?Fx(this).weekNumber:NaN}get weekday(){return this.isValid?Fx(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Nx(this).weekday:NaN}get localWeekNumber(){return this.isValid?Nx(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Nx(this).weekYear:NaN}get ordinal(){return this.isValid?Lx(this.c).ordinal:NaN}get monthShort(){return this.isValid?j3.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?j3.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?j3.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?j3.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,i=6e4,r=N7(this.c),s=this.zone.offset(r-e),n=this.zone.offset(r+e),a=this.zone.offset(r-s*i),o=this.zone.offset(r-n*i);if(a===o)return[this];const l=r-a*i,u=r-o*i,d=B3(l,a),h=B3(u,o);return d.hour===h.hour&&d.minute===h.minute&&d.second===h.second&&d.millisecond===h.millisecond?[Oh(this,{ts:l}),Oh(this,{ts:u})]:[this]}get isInLeapYear(){return e3(this.year)}get daysInMonth(){return N4(this.year,this.month)}get daysInYear(){return this.isValid?xg(this.year):NaN}get weeksInWeekYear(){return this.isValid?Gw(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Gw(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:i,numberingSystem:r,calendar:s}=ws.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(e=0,i={}){return this.setZone(or.instance(e),i)}toLocal(){return this.setZone(Fi.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(e=Sf(e,Fi.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(i||r){const n=e.offset(this.ts),a=this.toObject();[s]=k9(a,n,e)}return Oh(this,{ts:s,zone:e})}else return pe.invalid(Lv(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:r});return Oh(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const i=D4(e,$D),{minDaysInFirstWeek:r,startOfWeek:s}=dD(i,this.loc),n=!We(i.weekYear)||!We(i.weekNumber)||!We(i.weekday),a=!We(i.ordinal),o=!We(i.year),l=!We(i.month)||!We(i.day),u=o||l,d=i.weekYear||i.weekNumber;if((u||a)&&d)throw new Qy("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new Qy("Can't mix ordinal dates with month/day");let h;n?h=cD({...F4(this.c,r,s),...i},r,s):We(i.ordinal)?(h={...this.toObject(),...i},We(i.day)&&(h.day=Math.min(N4(h.year,h.month),h.day))):h=uD({...Lx(this.c),...i});const[p,m]=k9(h,this.o,this.zone);return Oh(this,{ts:p,o:m})}plus(e){if(!this.isValid)return this;const i=gt.fromDurationLike(e);return Oh(this,SD(this,i))}minus(e){if(!this.isValid)return this;const i=gt.fromDurationLike(e).negate();return Oh(this,SD(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=gt.normalizeUnit(e);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:a}=this;a<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?ws.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):Ox}toLocaleString(e=O4,i={}){return this.isValid?ws.create(this.loc.clone(i),e).formatDateTime(this):Ox}toLocaleParts(e={}){return this.isValid?ws.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=Dx(this,a);return o+="T",o+=xD(this,a,i,r,s,n),o}toISODate({format:e="extended"}={}){return this.isValid?Dx(this,e==="extended"):null}toISOWeekDate(){return U3(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+xD(this,a==="extended",i,e,r,n):null}toRFC2822(){return U3(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return U3(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Dx(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||e)&&(r&&(s+=" "),i?s+="z":e&&(s+="ZZ")),U3(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ox}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",r={}){if(!this.isValid||!e.isValid)return gt.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=Nge(i).map(gt.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=jbe(o,l,n,s);return a?u.negate():u}diffNow(e="milliseconds",i={}){return this.diff(pe.now(),e,i)}until(e){return this.isValid?Li.fromDateTimes(this,e):this}hasSame(e,i,r){if(!this.isValid)return!1;const s=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const i=e.base||pe.fromObject({},{zone:this.zone}),r=e.padding?this<i?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=e.unit;return Array.isArray(e.unit)&&(s=e.unit,n=void 0),ID(i,this.plus(r),{...e,numeric:"always",units:s,unit:n})}toRelativeCalendar(e={}){return this.isValid?ID(e.base||pe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(pe.isDateTime))throw new fs("min requires all arguments be DateTimes");return fD(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(pe.isDateTime))throw new fs("max requires all arguments be DateTimes");return fD(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,a=Pt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return tQ(a,e,i)}static fromStringExplain(e,i,r={}){return pe.fromFormatExplain(e,i,r)}static buildFormatParser(e,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=Pt.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new eQ(n,e)}static fromFormatParser(e,i,r={}){if(We(e)||We(i))throw new fs("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,a=Pt.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!a.equals(i.locale))throw new fs(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${i.locale}`);const{result:o,zone:l,specificOffset:u,invalidReason:d}=i.explainFromTokens(e);return d?pe.invalid(d):x0(o,l,r,`format ${i.format}`,e,u)}static get DATE_SHORT(){return O4}static get DATE_MED(){return nX}static get DATE_MED_WITH_WEEKDAY(){return uge}static get DATE_FULL(){return aX}static get DATE_HUGE(){return oX}static get TIME_SIMPLE(){return lX}static get TIME_WITH_SECONDS(){return cX}static get TIME_WITH_SHORT_OFFSET(){return uX}static get TIME_WITH_LONG_OFFSET(){return dX}static get TIME_24_SIMPLE(){return fX}static get TIME_24_WITH_SECONDS(){return hX}static get TIME_24_WITH_SHORT_OFFSET(){return pX}static get TIME_24_WITH_LONG_OFFSET(){return mX}static get DATETIME_SHORT(){return yX}static get DATETIME_SHORT_WITH_SECONDS(){return gX}static get DATETIME_MED(){return bX}static get DATETIME_MED_WITH_SECONDS(){return vX}static get DATETIME_MED_WITH_WEEKDAY(){return dge}static get DATETIME_FULL(){return wX}static get DATETIME_FULL_WITH_SECONDS(){return _X}static get DATETIME_HUGE(){return SX}static get DATETIME_HUGE_WITH_SECONDS(){return xX}}function B1(t){if(pe.isDateTime(t))return t;if(t&&t.valueOf&&Wf(t.valueOf()))return pe.fromJSDate(t);if(t&&typeof t=="object")return pe.fromObject(t);throw new fs(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const o1e="shortOffset";function l1e(t){return"timeZoneIANA"in t}function c1e(t){return t.startsWith("UTC")}function z4(t,e=!1){return{json:{read:{source:t,reader:(i,r)=>r[t]?A9(r[t]):null},write:!!e&&{allowNull:!0,writer(i,r){r[t]=i?u1e(i):null}}}}}function A9(t,e=Xs){return t?l1e(t)?t.timeZoneIANA:d1e(t,e):e}function u1e(t){return{timeZoneIANA:t}}function d1e(t,e=Xs){if(!t||!QN.has(t.timeZone))return e;const i=QN.get(t.timeZone);return c1e(t.timeZone)||t.respectsDaylightSaving?i:f1e(i)}function f1e(t){const e=pe.local().setZone(t),i=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${or.instance(-i).formatOffset(0,"narrow")}`}function aQ(t,e,i,r,s){if(e&&s==="date")return{timeZone:Vc,timeZoneName:void 0};const n=r.timeStyle||r.hour,a=i===hh;return{timeZone:a?s==="timestamp-offset"?void 0:t??Vc:i,timeZoneName:a&&n?o1e:void 0}}function oQ(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return t===Xs||t===hh||e.has(t.toLowerCase())||i.has(t.toLowerCase())}const h1e={year:void 0,month:void 0,day:void 0,weekday:void 0},p1e={hour:void 0,minute:void 0,second:void 0},lQ={timeZone:Vc},Xo={year:"numeric",month:"numeric",day:"numeric"},U1={year:"numeric",month:"long",day:"numeric"},G1={year:"numeric",month:"short",day:"numeric"},H1={year:"numeric",month:"long",weekday:"long",day:"numeric"},cf={hour:"numeric",minute:"numeric"},Yh={...cf,second:"numeric"},cQ={hourCycle:"h23"},W1={...cf,...cQ},Z1={...Yh,...cQ},uQ={"short-date":Xo,"short-date-short-time":{...Xo,...cf},"short-date-short-time-24":{...Xo,...W1},"short-date-long-time":{...Xo,...Yh},"short-date-long-time-24":{...Xo,...Z1},"short-date-le":Xo,"short-date-le-short-time":{...Xo,...cf},"short-date-le-short-time-24":{...Xo,...W1},"short-date-le-long-time":{...Xo,...Yh},"short-date-le-long-time-24":{...Xo,...Z1},"long-month-day-year":U1,"long-month-day-year-short-time":{...U1,...cf},"long-month-day-year-short-time-24":{...U1,...W1},"long-month-day-year-long-time":{...U1,...Yh},"long-month-day-year-long-time-24":{...U1,...Z1},"day-short-month-year":G1,"day-short-month-year-short-time":{...G1,...cf},"day-short-month-year-short-time-24":{...G1,...W1},"day-short-month-year-long-time":{...G1,...Yh},"day-short-month-year-long-time-24":{...G1,...Z1},"long-date":H1,"long-date-short-time":{...H1,...cf},"long-date-short-time-24":{...H1,...W1},"long-date-long-time":{...H1,...Yh},"long-date-long-time-24":{...H1,...Z1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":cf,"long-time":Yh},m1e=ji()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),dQ={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},y1e=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2));var wW;const g1e=(wW=y1e.find(({type:t})=>t==="month"))==null?void 0:wW.value.toLowerCase();function fQ(){var i;const t=Tn(),e=(i=wL(t))==null?void 0:i.language;return(e&&dQ[e])??t}g1e!=="mart"&&(dQ.bs="sr-Latn-CS");let HI=new WeakMap;const V7=uQ["short-date-short-time"];function b1e(t){let e=HI.get(t);if(!e){const i=fQ(),r=j7(t.timeZone??Xs),s={...t,timeZone:r};e=new Intl.DateTimeFormat(i,s),HI.set(t,e)}return e}function xf(t){return uQ[t]}function Hs(t,e=V7){return b1e(e).format(t)}function v1e(t,e=V7){return Hs(new Date(t),{...e,...lQ,...p1e})}function w1e(t,e=V7){return Hs(new Date(`1970-01-01T${t}Z`),{...e,...lQ,...h1e})}function _1e(t,e=V7){if(e.timeZone)return Hs(new Date(t),e);const i=pe.fromISO(t,{setZone:!0}),r=i.offset===0?Vc:e.timeZone,s={...e,timeZone:r};return i.toLocaleString(s,{locale:fQ()})}function j7(t){switch(t){case Xs:return age;case hh:return Vc;default:return t}}SL(()=>{HI=new WeakMap});const S1e={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let P9=new WeakMap,hQ={};function WI(t){var i;const e=t||hQ;if(!P9.has(e)){const r=Tn(),s=(i=wL(r))==null?void 0:i.language,n=s&&S1e[s]||r;P9.set(e,new Intl.NumberFormat(n,t))}return P9.get(e)}function V4(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function Is(t,e){return Object.is(t,-0)&&(t=0),WI(e).format(t)}function tKe(t,e=Tn()){var r,s;if(!t)return null;let i=MD.get(e);if(!i){const n=WI().formatToParts(12345.6),a=[...WI({useGrouping:!1}).format(9876543210)].reverse(),o=new Map(a.map((m,g)=>[m,g])),l=new RegExp(`[${(r=n.find(m=>m.type==="group"))==null?void 0:r.value}]`,"g"),u=new RegExp(`[${(s=n.find(m=>m.type==="decimal"))==null?void 0:s.value}]`),d=new RegExp(`[${a.join("")}]`,"g"),h=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,p=/[-\u2212\u2013\u2014\u2015]/g;i=m=>{if((m=m.trim().replaceAll(l,"").replace(u,".").replace(d,b=>String(o.get(b))).replaceAll(h,"").replaceAll(p,"-"))==="")return null;const g=Number(m);return isNaN(g)?null:g},MD.set(e,i)}return i(t)}SL(()=>{P9=new WeakMap,hQ={}});const MD=new Map,pQ=()=>W.getLogger("esri.intl.substitute");function dd(t,e,i={}){const{format:r={}}=i;return En(t,s=>x1e(s,e,r))}function x1e(t,e,i){let r,s;const n=t.indexOf(":");if(n===-1?r=t.trim():(r=t.slice(0,n).trim(),s=t.slice(n+1).trim()),!r)return"";const a=V_(r,e);if(a==null)return"";const o=(s?i==null?void 0:i[s]:null)??(i==null?void 0:i[r]);return o?$1e(a,o):s?T1e(a,s):AL(a)}function $1e(t,e){switch(e.type){case"date":return Hs(t,e.intlOptions);case"number":return Is(t,e.intlOptions);default:return pQ().warn("missing format descriptor for key {key}"),AL(t)}}function T1e(t,e){switch(e.toLowerCase()){case"dateformat":return Hs(t);case"numberformat":return Is(t);default:return pQ().warn(`inline format is unsupported since 4.12: ${e}`),/^(dateformat|datestring)/i.test(e)?Hs(t):/^numberformat/i.test(e)?Is(t):AL(t)}}function AL(t){switch(typeof t){case"string":return t;case"number":return Is(t);case"boolean":return""+t;default:return t instanceof Date?Hs(t):""}}const mQ={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function I1e(t){return t in mQ}function CD(t){if(I1e(t)){const e=mQ[t];return e===!0?t:e}return null}const Ov=[],Tg=new Map;function kD(t){for(const e of Tg.keys())gQ(t.pattern,e)&&Tg.delete(e)}function E1e(t){return Ov.includes(t)||(kD(t),Ov.unshift(t)),ht(()=>{const e=Ov.indexOf(t);e>-1&&(Ov.splice(e,1),kD(t))})}async function q7(t){const e=Tn();Tg.has(t)||Tg.set(t,M1e(t,e));const i=Tg.get(t);return i&&await C1e.add(i),i}function yQ(t){const e=wL(t);return e?CD(t)??CD(e.language):null}async function M1e(t,e){const i=[];for(const r of Ov)if(gQ(r.pattern,t))try{return await r.fetchMessageBundle(t,e)}catch(s){i.push(s)}throw i.length?new P("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i}):new P("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function gQ(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}SL(()=>{Tg.clear()});const C1e=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Mn())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function k1e(t,e,i,r){const s=e.exec(i);if(!s)throw new P("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const n=s[1]?`${s[1]}/`:"",a=s[2],o=yQ(r),l=`${n}${a}.json`,u=o?`${n}${a}_${o}.json`:l;let d;try{d=await AD(t(u))}catch(h){if(u===l)throw new P("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:h});try{d=await AD(t(l))}catch(p){throw new P("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:p})}}return d}async function AD(t){if(PD.fetchBundleAsset!=null)return PD.fetchBundleAsset(t);const e=await it(t,{responseType:"text"});return JSON.parse(e.data)}let A1e=class{constructor({base:e="",pattern:i,location:r=new URL(window.location.href)}){let s;s=typeof r=="string"?n=>new URL(n,new URL(r,window.location.href)).href:r instanceof URL?n=>new URL(n,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=s,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,i){return k1e(this.getAssetUrl,this.matcher,e,i)}};function P1e(t){return new A1e(t)}const PD={};E1e(P1e({pattern:"esri/",location:Xt}));const LD={};function L1e(t){var i;const e={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:((i=t.packages)==null?void 0:i.slice())||[],paths:{...LD.paths,...t.paths}};return t.hasOwnProperty("async")||(e.async=!0),t.hasOwnProperty("isDebug")||(e.isDebug=!1),t.baseUrl||(e.baseUrl=LD.baseUrl),e}let R1e=class{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>e[i](...r)})}},L9=class{constructor(){this._dispatcher=new R1e,this._workerPostMessage({type:Dr.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){l4(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,i,r){this._dispatcher.addEventListener(e,i,r)}removeEventListener(e,i,r){this._dispatcher.removeEventListener(e,i,r)}_workerPostMessage(e){l4(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){const i=Uw(e);if(i&&i.type===Dr.OPEN){const{modulePath:r,jobId:s}=i;let n=await Nb.loadWorker(r);n||(n=await import(r));const a=Nb.connect(n);this._workerPostMessage({type:Dr.OPENED,jobId:s,data:a})}}};const ZI=()=>W.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:O1e}=Dr,F1e='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let G3,H3;const RD="Failed to create Worker. Fallback to execute module in main thread";async function N1e(){if(!q("esri-workers"))return OD(new L9);if(!G3&&!H3)try{const e=F1e.split("{CONFIGURATION}").join(D1e());G3=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){H3=e||{}}let t;if(G3)try{t=new Worker(G3,{name:"esri-worker-"+z1e++})}catch{ZI().warn(RD,H3),t=new L9}else ZI().warn(RD,H3),t=new L9;return OD(t)}async function OD(t){return new Promise(e=>{function i(s){const n=Uw(s);n&&n.type===O1e&&(t.removeEventListener("message",i),t.removeEventListener("error",r),e(t))}function r(s){s.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",r),ZI().warn("Failed to create Worker. Fallback to execute module in main thread",s),(t=new L9).addEventListener("message",i),t.addEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)})}function D1e(){let t;if(ut.default!=null){const s={...ut};delete s.default,t=JSON.parse(JSON.stringify(s))}else t=JSON.parse(JSON.stringify(ut));t.assetsPath=vn(t.assetsPath),t.defaultAssetsPath=t.defaultAssetsPath?vn(t.defaultAssetsPath):void 0,t.request.interceptors=[],t.log.interceptors=[],t.locale=Tn(),t.has={"esri-csp-restrictions":q("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":q("esri-2d-update-debug"),"esri-2d-log-updating":q("esri-2d-log-updating"),"featurelayer-pbf":q("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":q("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":q("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":q("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":q("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":q("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":q("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":q("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":q("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":q("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":q("featurelayer-snapshot-enabled"),"esri-atomics":q("esri-atomics"),"esri-shared-array-buffer":q("esri-shared-array-buffer"),"esri-tiles-debug":q("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":q("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":q("feature-polyline-generalization-factor"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=vn(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=vn(t.workers.workerPath):t.workers.workerPath=vn(Xt("esri/core/workers/RemoteClient.js")),t.workers.useDynamicImport=!1;const e=ut.workers.loaderConfig,i=L1e({baseUrl:e==null?void 0:e.baseUrl,locale:Tn(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...e==null?void 0:e.has},map:{...e==null?void 0:e.map},paths:{...e==null?void 0:e.paths},packages:(e==null?void 0:e.packages)||[]});return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:{buildDate:UJ,fullVersion:KP,revision:GJ}})}let z1e=0;const{ABORT:FD,INVOKE:V1e,OPEN:j1e,OPENED:q1e,RESPONSE:J1}=Dr;let B1e=class bQ{static async create(e){const i=await N1e();return new bQ(i,e)}constructor(e,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=i,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",r=>{r.preventDefault(),W.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(e,i={}){const{signal:r}=i,s=iX();return new Promise((n,a)=>{const o={resolve:n,reject:a,abortHandle:MP(r,()=>{this._outJobs.delete(s),this._post({type:FD,jobId:s})})};this._outJobs.set(s,o),this._post({type:j1e,jobId:s,modulePath:e})})}_onMessage(e){const i=Uw(e);if(i)switch(i.type){case q1e:this._onOpenedMessage(i);break;case J1:this._onResponseMessage(i);break;case FD:this._onAbortMessage(i);break;case V1e:this._onInvokeMessage(i)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,s=i.get(r);s&&(s.controller&&s.controller.abort(),i.delete(r))}_onInvokeMessage(e){const{methodName:i,jobId:r,data:s,abortable:n}=e,a=n?new AbortController:null,o=this._inJobs,l=rge[i];let u;try{if(typeof l!="function")throw new TypeError(`${i} is not a function`);u=l.call(null,s,{signal:a?a.signal:null})}catch(d){return void this._post({type:J1,jobId:r,error:Bw(d)})}qc(u)?(o.set(r,{controller:a,promise:u}),u.then(d=>{o.has(r)&&(o.delete(r),this._post({type:J1,jobId:r},d))},d=>{o.has(r)&&(o.delete(r),d||(d={message:"Error encountered at method"+i}),tr(d)||this._post({type:J1,jobId:r,error:Bw(d||{message:`Error encountered at method ${i}`})}))})):this._post({type:J1,jobId:r},u)}_onOpenedMessage(e){const{jobId:i,data:r}=e,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),oi(s.abortHandle),s.resolve(r))}_onResponseMessage(e){const{jobId:i,error:r,data:s}=e,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),oi(n.abortHandle),r?n.reject(P.fromJSON(JSON.parse(r))):n.resolve(s))}_post(e,i,r){return vL(this.worker,e,i,r)}};const ND=q("host-browser")?Math.min(navigator.hardwareConcurrency-1,q("workers-pool-size")??8):0;let Qp=q("esri-mobile")?Math.min(ND,3):ND;Qp||(Qp=q("safari")&&q("mac")?7:2);let DD=0;const R9=[];function U1e(){wQ()}async function W3(t,e){const i=new ige,{registryTarget:r,...s}=e;return await i.open(t,s),r&&Hye(r,i),i}async function vQ(t,e={}){if(typeof t!="string")throw new P("workers:undefined-module","modulePath is missing");let i=e.strategy||"distributed";if(q("host-webworker")&&!q("esri-workers")&&(i="local"),i==="local"){let r=await Nb.loadWorker(t);r||(r=await import(t)),ze(e.signal);const s=e.client||r;return W3([Nb.connect(r,e.schedule)],{...e,client:s})}if(await wQ(),ze(e.signal),i==="dedicated"){const r=DD++%Qp;return W3([await R9[r].open(t,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const r=Math.min(e.maxNumWorkers,Qp);if(r<Qp){const s=new Array(r);for(let n=0;n<r;++n){const a=DD++%Qp;s[n]=R9[a].open(t,e)}return W3(s,e)}}return W3(R9.map(r=>r.open(t,e)),e)}let Z3=null;async function wQ(){if(Z3)return Z3;new AbortController;const t=[];for(let e=0;e<Qp;e++){const i=B1e.create(e).then(r=>(R9[e]=r,r));t.push(i)}return Z3=Promise.all(t),Z3}function $h(){return[0,0,0]}function G1e(t){return[t[0],t[1],t[2]]}function g1(t,e,i){return[t,e,i]}function H1e(t,e,i){return[t,e,i]}function W1e(t,e=$h()){const i=Math.min(3,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function _Q(){return $h()}function SQ(){return g1(1,1,1)}function xQ(){return g1(1,0,0)}function $Q(){return g1(0,1,0)}function TQ(){return g1(0,0,1)}const Z1e=_Q(),IQ=SQ(),J1e=xQ(),Y1e=$Q(),X1e=TQ();Object.freeze(Object.defineProperty({__proto__:null,ONES:IQ,UNIT_X:J1e,UNIT_Y:Y1e,UNIT_Z:X1e,ZEROS:Z1e,clone:G1e,create:$h,freeze:H1e,fromArray:W1e,fromValues:g1,ones:SQ,unitX:xQ,unitY:$Q,unitZ:TQ,zeros:_Q},Symbol.toStringTag,{value:"Module"}));const nKe=Math.PI/180,aKe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Rd=yi.radius,ao=yi.eccentricitySquared,Q1e={a1:Rd*ao,a2:Rd*ao*Rd*ao,a3:Rd*ao*ao/2,a4:Rd*ao*Rd*ao*2.5,a5:Rd*ao+Rd*ao*ao/2,a6:1-ao},oKe={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:yi.radius,f:yi.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:ch.radius,f:ch.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:kc.radius,f:kc.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:kc.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var U;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"})(U||(U={}));const K1e={[U.WGS84]:{[U.CGCS2000]:ri,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:ri,[U.SPHERICAL_ECEF]:ew,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Ig,[U.PLATE_CARREE]:Eg,[U.WGS84]:ri,[U.WGS84_ECEF]:kg},[U.CGCS2000]:{[U.CGCS2000]:ri,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:ri,[U.SPHERICAL_ECEF]:ew,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Ig,[U.PLATE_CARREE]:Eg,[U.WGS84]:ri,[U.WGS84_ECEF]:kg},[U.GCSMARS2000]:{[U.CGCS2000]:null,[U.GCSMARS2000]:ri,[U.GCSMOON2000]:null,[U.LON_LAT]:ri,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:jD,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.GCSMOON2000]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:ri,[U.LON_LAT]:ri,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:VD,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.WEB_MERCATOR]:{[U.CGCS2000]:K2,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:K2,[U.SPHERICAL_ECEF]:tve,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:ri,[U.PLATE_CARREE]:sve,[U.WGS84]:K2,[U.WGS84_ECEF]:ive},[U.WGS84_ECEF]:{[U.CGCS2000]:Ag,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Ag,[U.SPHERICAL_ECEF]:hve,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:pve,[U.PLATE_CARREE]:nve,[U.WGS84]:Ag,[U.WGS84_ECEF]:ri},[U.SPHERICAL_ECEF]:{[U.CGCS2000]:Cg,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Cg,[U.SPHERICAL_ECEF]:ri,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:uve,[U.PLATE_CARREE]:ave,[U.WGS84]:Cg,[U.WGS84_ECEF]:dve},[U.SPHERICAL_MARS_PCPF]:{[U.CGCS2000]:null,[U.GCSMARS2000]:BD,[U.GCSMOON2000]:null,[U.LON_LAT]:BD,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:ri,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.SPHERICAL_MOON_PCPF]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:qD,[U.LON_LAT]:qD,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:ri,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.UNKNOWN]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:null,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:ri,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.LON_LAT]:{[U.CGCS2000]:ri,[U.GCSMARS2000]:ri,[U.GCSMOON2000]:ri,[U.LON_LAT]:ri,[U.SPHERICAL_ECEF]:ew,[U.SPHERICAL_MARS_PCPF]:jD,[U.SPHERICAL_MOON_PCPF]:VD,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Ig,[U.PLATE_CARREE]:Eg,[U.WGS84]:ri,[U.WGS84_ECEF]:kg},[U.PLATE_CARREE]:{[U.CGCS2000]:Mg,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Mg,[U.SPHERICAL_ECEF]:ove,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:lve,[U.PLATE_CARREE]:ri,[U.WGS84]:Mg,[U.WGS84_ECEF]:cve}};function EQ(t,e){var i;return(i=eve(t,e))==null?void 0:i.projector}function eve(t,e){if(t==null||e==null)return null;if(Gc.source.spatialReference===t&&Gc.dest.spatialReference===e)return Gc;const i=zD(t,Gc.source),r=zD(e,Gc.dest);return i===U.UNKNOWN&&r===U.UNKNOWN?li(t,e)?Gc.projector=ri:Gc.projector=null:Gc.projector=K1e[i][r],Gc}function zD(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=kn(t,1)),A4(t)?e.spatialReferenceId=U.SPHERICAL_ECEF:dh(t)?e.spatialReferenceId=U.WGS84:ua(t)?e.spatialReferenceId=U.WEB_MERCATOR:l0e(t)?e.spatialReferenceId=U.PLATE_CARREE:t.wkt===d0e.wkt?e.spatialReferenceId=U.WGS84_ECEF:t.wkid===ja.CGCS2000?e.spatialReferenceId=U.CGCS2000:t.wkt===lL.wkt?e.spatialReferenceId=U.SPHERICAL_MARS_PCPF:t.wkt===cL.wkt?e.spatialReferenceId=U.SPHERICAL_MOON_PCPF:nL(t)?e.spatialReferenceId=U.GCSMARS2000:aL(t)?e.spatialReferenceId=U.GCSMOON2000:e.spatialReferenceId=U.UNKNOWN):U.UNKNOWN}function ri(t,e,i,r){t!==i&&(i[r++]=t[e++],i[r++]=t[e++],i[r]=t[e])}function K2(t,e,i,r){i[r]=Vb*(t[e]/bm),i[r+1]=Vb*(MQ-2*Math.atan(Math.exp(-t[e+1]/bm))),i[r+2]=t[e+2]}function tve(t,e,i,r){const s=t[e]/bm,n=MQ-2*Math.atan(Math.exp(-t[e+1]/bm)),a=bm+t[e+2],o=Math.cos(n)*a;i[r]=Math.cos(s)*o,i[r+1]=Math.sin(s)*o,i[r+2]=Math.sin(n)*a}function ive(t,e,i,r){K2(t,e,i,r),kg(i,r,i,r)}function rve(t,e,i,r,s){const n=.4999999*Math.PI,a=Yr(zb*t[e+1],-n,n),o=Math.sin(a);i[r++]=zb*t[e]*s.radius,i[r++]=s.halfSemiMajorAxis*Math.log((1+o)/(1-o)),i[r]=t[e+2]}function Ig(t,e,i,r){rve(t,e,i,r,yi)}function Eg(t,e,i,r){i[r]=t[e]*UD,i[r+1]=t[e+1]*UD,i[r+2]=t[e+2]}function Mg(t,e,i,r){i[r]=t[e]*GD,i[r+1]=t[e+1]*GD,i[r+2]=t[e+2]}function sve(t,e,i,r){K2(t,e,i,r),Eg(i,r,i,r)}function nve(t,e,i,r){Ag(t,e,i,r),Eg(i,r,i,r)}function ave(t,e,i,r){Cg(t,e,i,r),Eg(i,r,i,r)}function ove(t,e,i,r){Mg(t,e,i,r),ew(i,r,i,r)}function lve(t,e,i,r){Mg(t,e,i,r),Ig(i,r,i,r)}function cve(t,e,i,r){Mg(t,e,i,r),kg(i,r,i,r)}function PL(t,e,i,r,s){const n=s+t[e+2],a=zb*t[e+1],o=zb*t[e],l=Math.cos(a)*n;i[r]=Math.cos(o)*l,i[r+1]=Math.sin(o)*l,i[r+2]=Math.sin(a)*n}function VD(t,e,i,r){PL(t,e,i,r,ch.radius)}function jD(t,e,i,r){PL(t,e,i,r,kc.radius)}function ew(t,e,i,r){PL(t,e,i,r,yi.radius)}function LL(t,e,i,r,s){const n=t[e],a=t[e+1],o=t[e+2],l=Math.sqrt(n*n+a*a+o*o),u=Npe(o/(l===0?1:l)),d=Math.atan2(a,n);i[r++]=Vb*d,i[r++]=Vb*u,i[r]=l-s}function qD(t,e,i,r){LL(t,e,i,r,ch.radius)}function BD(t,e,i,r){LL(t,e,i,r,kc.radius)}function Cg(t,e,i,r){LL(t,e,i,r,yi.radius)}function uve(t,e,i,r){Cg(t,e,i,r),Ig(i,r,i,r)}function dve(t,e,i,r){Cg(t,e,i,r),kg(i,r,i,r)}function fve(t,e,i,r,s){const n=zb*t[e],a=zb*t[e+1],o=t[e+2],l=Math.sin(a),u=Math.cos(a),d=s.radius/Math.sqrt(1-s.eccentricitySquared*l*l);i[r++]=(d+o)*u*Math.cos(n),i[r++]=(d+o)*u*Math.sin(n),i[r++]=(d*(1-s.eccentricitySquared)+o)*l}function kg(t,e,i,r){fve(t,e,i,r,yi)}function Ag(t,e,i,r){const s=Q1e,n=t[e],a=t[e+1],o=t[e+2];let l,u,d,h,p,m,g,b,v,w,_,S,T,C,A,O,L,F,D,G,H;l=Math.abs(o),u=n*n+a*a,d=Math.sqrt(u),h=u+o*o,p=Math.sqrt(h),G=Math.atan2(a,n),m=o*o/h,g=u/h,C=s.a2/p,A=s.a3-s.a4/p,g>.3?(b=l/p*(1+g*(s.a1+C+m*A)/p),D=Math.asin(b),w=b*b,v=Math.sqrt(1-w)):(v=d/p*(1-m*(s.a5-C-g*A)/p),D=Math.acos(v),w=1-v*v,b=Math.sqrt(w)),_=1-yi.eccentricitySquared*w,S=yi.radius/Math.sqrt(_),T=s.a6*S,C=d-S*v,A=l-T*b,L=v*C+b*A,O=v*A-b*C,F=O/(T/_+L),D+=F,H=L+O*F/2,o<0&&(D=-D),i[r++]=Vb*G,i[r++]=Vb*D,i[r]=H}function hve(t,e,i,r){Ag(t,e,i,r),ew(i,r,i,r)}function pve(t,e,i,r){Ag(t,e,i,r),Ig(i,r,i,r)}const Gc={source:{spatialReference:null,spatialReferenceId:U.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:U.UNKNOWN,metersPerUnit:1},projector:ri},zb=wc(1),Vb=pJ(1),MQ=.5*Math.PI,bm=yi.radius,UD=bm*Math.PI/180,GD=180/(bm*Math.PI);function r3(t,e,i,r,s,n,a=Math.floor(t.length/3)){const o=EQ(e,s);if(o==null)return!1;if(o===ri){if(t===r&&i===n)return!0;const u=i+3*a;for(let d=i,h=n;d<u;d++,h++)r[h]=t[d];return!0}const l=i+3*a;for(let u=i,d=n;u<l;u+=3,d+=3)o(t,u,r,d);return!0}const lKe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:r3},Symbol.toStringTag,{value:"Module"}));function HD(t,e,i,r,s,n){return J3[0]=t,J3[1]=e,J3[2]=i,r3(J3,r,0,s,n,0)}const J3=$h();let Y3=0,zx=class JI{static fromGE(e){const i=new JI;return i._wkt=e.wkt,i._wkid=e.wkid,i._isInverse=e.isInverse,i}constructor(e){this.uid=Y3++,e?(this._wkt=e.wkt!=null?e.wkt:null,this._wkid=e.wkid!=null?e.wkid:-1,this._isInverse=e.isInverse!=null&&e.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=Y3++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=Y3++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=Y3++}getInverse(){const e=new JI;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}},j4=class Fv{static cacheKey(e,i){var r,s,n,a,o,l;return[((r=e.wkid)==null?void 0:r.toString())??"-1",((s=e.wkt)==null?void 0:s.toString())??"",((n=e.wkt2)==null?void 0:n.toString())??"",((a=i.wkid)==null?void 0:a.toString())??"-1",((o=i.wkt)==null?void 0:o.toString())??"",((l=i.wkt2)==null?void 0:l.toString())??""].join()}static fromGE(e){const i=new Fv;let r="";for(const s of e.steps){const n=zx.fromGE(s);i.steps.push(n),r+=n.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=r,i}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e==null?void 0:e.steps)for(const i of e.steps)i instanceof zx?this.steps.push(i):this.steps.push(new zx({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const e=new Fv;e.steps=[];for(let i=this.steps.length-1;i>=0;i--){const r=this.steps[i];e.steps.push(r.getInverse())}return e}getGTListEntry(){let e="";for(const i of this.steps)e+=i.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,i,r){this._cachedProjection[Fv.cacheKey(e,i)]=r}getCachedGeTransformation(e,i){let r="";for(const n of this.steps)r+=n.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const s=this._cachedProjection[Fv.cacheKey(e,i)];return s===void 0?null:s}};function CQ(t,e,i){if(e==null||i==null||i.vcsWkid||li(e,i)||fh(e)||fh(i))return null;const r=Pb(e)/Pb(i);if(r===1)return null;switch(t){case"point":case"esriGeometryPoint":return s=>mve(s,r);case"polyline":case"esriGeometryPolyline":return s=>gve(s,r);case"polygon":case"esriGeometryPolygon":return s=>yve(s,r);case"multipoint":case"esriGeometryMultipoint":return s=>bve(s,r);case"extent":case"esriGeometryEnvelope":return s=>vve(s,r);default:return null}}function mve(t,e){(t==null?void 0:t.z)!=null&&(t.z*=e)}function yve(t,e){if(t)for(const i of t.rings)for(const r of i)r.length>2&&(r[2]*=e)}function gve(t,e){if(t)for(const i of t.paths)for(const r of i)r.length>2&&(r[2]*=e)}function bve(t,e){if(t)for(const i of t.points)i.length>2&&(i[2]*=e)}function vve(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let Ho=null,ph=null,tw=null,O9={};const RL=new r1;function wd(){return!!Ho&&sL()}function kQ(){return!!wd()||(Ee(RL),fd(),!1)}function AQ(t,e){return!t||!e||da(t,e)||kQ()}function wve(t,e){return!da(t,e)&&!wd()}function fd(t){return tw==null&&(tw=Promise.all([sY(),R(()=>import("./geometryEngineBase-E1PPqbft.js"),__vite__mapDeps([115,116])).then(e=>e.g),R(()=>import("./hydrated-DpSLV-B1.js"),[])])),tw.then(([,e,{hydratedAdapter:i}])=>{ze(t),ph=i,Ho=e.default,Ho._enableProjection(s0e),RL.notify()})}function Th(t,e,i=null,r=null){return Array.isArray(t)?t.length===0?[]:(F0e(t),Hw(ph,t,t[0].spatialReference,e,i,r)):(Lb(t),Hw(ph,[t],t.spatialReference,e,i,r)[0])}function Hw(t,e,i,r,s=null,n=null){if(i==null||r==null)return e;if(da(i,r,s))return e.map(a=>F9(a,i,r));if(s==null&&A4(i))return e.map(a=>F9(a,i,le.WGS84)).map(a=>Ww(a,r));if(s==null&&A4(r))return e.map(a=>Ww(a,le.WGS84)).map(a=>F9(a,le.WGS84,r));if(s==null){const a=j4.cacheKey(i,r);O9[a]!==void 0?s=O9[a]:((s=LQ(i,r,void 0))==null&&(s=new j4),O9[a]=s)}if(Ho==null||t==null)throw new B7;return n!=null?Ho._project(t,e,i,r,s,n):Ho._project(t,e,i,r,s)}function _ve(t,e){const i=PQ([t],e);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function PQ(t,e){if(!wd()){for(const i of t)if(i!=null&&!li(i.spatialReference,e)&&Gs(i.spatialReference)&&Gs(e)&&!da(i.spatialReference,e))return Ee(RL),{pending:fd(),geometries:null}}return{pending:null,geometries:t.map(i=>i==null?null:li(i.spatialReference,e)?i:Gs(i.spatialReference)&&Gs(e)?Ww(i,e):null)}}function LQ(t,e,i=null){if(t==null||e==null)return null;if(Ho==null||ph==null)throw new B7;const r=Ho._getTransformation(ph,t,e,i,i==null?void 0:i.spatialReference);return r!==null?j4.fromGE(r):null}function Sve(t,e,i=null){if(Ho==null||ph==null)throw new B7;const r=Ho._getTransformationBySuitability(ph,t,e,i,i==null?void 0:i.spatialReference);if(r!==null){const s=[];for(const n of r)s.push(j4.fromGE(n));return s}return[]}let B7=class extends P{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function xve(){Ho=null,ph=null,tw=null,O9={}}const $ve={get loadPromise(){return tw}};function Ww(t,e){try{const i=Th(t,e);if(i==null)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);const r=CQ(i.type,t.spatialReference,e);return r!=null&&r(i),i}catch(i){if(!(i instanceof B7))throw i;return null}}async function RQ(t,e,i){const r=t.spatialReference;return r!=null&&e!=null&&await U7(r,e,null,i),Ww(t,e)}function da(t,e,i){return!i&&(!!li(t,e)||Gs(t)&&Gs(e)&&!!EQ(t,e))}function Tve(t,e){if(li(t,e))return!0;if(!Gs(t)||!Gs(e))return!1;const i=dh(t)||ua(t)||CI(t),r=dh(e)||ua(e)||CI(e);return i&&r}async function U7(t,e,i,r){if(wd())return QF(r);if(Array.isArray(t)){for(const{source:s,dest:n,geographicTransformation:a}of t)if(s&&n&&!da(s,n,a))return fd(r)}else if(t&&e&&!da(t,e,i))return fd(r);return QF(r)}function F9(t,e,i){return t?"x"in t?OQ(t,e,new _e,i,0):"xmin"in t?VQ(t,e,new qe,i,0):"rings"in t?zQ(t,e,new Ut,i,0):"paths"in t?NQ(t,e,new wi,i,0):"points"in t?FQ(t,e,new Fa,i,0):null:null}function Ive(t,e,i=e.spatialReference,r=0){return i!=null&&t.spatialReference!=null&&OQ(t,t.spatialReference,e,i,r)!=null}function OQ(t,e,i,r,s){hs[0]=t.x,hs[1]=t.y;const n=t.z;return hs[2]=n!==void 0?n:s,r3(hs,e,0,hs,r,0)?(i.x=hs[0],i.y=hs[1],i.spatialReference=r,n!==void 0||fh(r)?(i.z=hs[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),t.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function Eve(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&FQ(t,t.spatialReference,e,i,r)!=null}function FQ(t,e,i,r,s){const{points:n,hasZ:a,hasM:o}=t,l=[],u=n.length,d=[];for(const p of n)d.push(p[0],p[1],a?p[2]:s);if(!r3(d,e,0,d,r,0,u))return null;const h=a||fh(r);for(let p=0;p<u;++p){const m=3*p,g=d[m],b=d[m+1];h&&o?l.push([g,b,d[m+2],n[p][3]]):h?l.push([g,b,d[m+2]]):o?l.push([g,b,n[p][2]]):l.push([g,b])}return i.points=l,i.spatialReference=r,i.hasZ=a,i.hasM=o,i}function Mve(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&NQ(t,t.spatialReference,e,i,r)!=null}function NQ(t,e,i,r,s){const{paths:n,hasZ:a,hasM:o}=t,l=[];if(!jQ(n,a??!1,o??!1,e,l,r,s))return null;const u=a||fh(r);return i.paths=l,i.spatialReference=r,i.hasZ=u,i.hasM=o,i}function DQ(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&zQ(t,t.spatialReference,e,i,r)!=null}function zQ(t,e,i,r,s){const{rings:n,hasZ:a,hasM:o}=t,l=[];if(!jQ(n,a??!1,o??!1,e,l,r,s))return null;const u=a||fh(r);return i.rings=l,i.spatialReference=r,i.hasZ=u,i.hasM=o,i}function Cve(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&VQ(t,t.spatialReference,e,i,r)!=null}function VQ(t,e,i,r,s){const{xmin:n,ymin:a,xmax:o,ymax:l,hasZ:u,hasM:d}=t,h=u?t.zmin:s;if(!HD(n,a,h,e,hs,r))return null;const p=u||fh(r);i.xmin=hs[0],i.ymin=hs[1],p&&(i.zmin=hs[2]);const m=u?t.zmax:s;return HD(o,l,m,e,hs,r)?(i.xmax=hs[0],i.ymax=hs[1],p&&(i.zmax=hs[2]),d&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=r,i):null}function jQ(t,e,i,r,s,n,a=0){const o=new Array;for(const d of t)for(const h of d)o.push(h[0],h[1],e?h[2]:a);if(!r3(o,r,0,o,n,0))return!1;let l=0;s.length=0;const u=e||fh(n);for(const d of t){const h=new Array;for(const p of d)u&&i?h.push([o[l++],o[l++],o[l++],p[3]]):u?h.push([o[l++],o[l++],o[l++]]):i?(h.push([o[l++],o[l++],p[2]]),l++):(h.push([o[l++],o[l++]]),l++);s.push(h)}return!0}const hs=$h(),uKe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:da,getTransformation:LQ,getTransformations:Sve,initializeProjection:U7,isEqualBaseGCS:Tve,isLoaded:wd,isLoadedOrLoad:kQ,isLoadedOrLoadFor:AQ,load:fd,project:Th,projectExtent:Cve,projectMany:Hw,projectMultipoint:Eve,projectOrLoad:_ve,projectOrLoadMany:PQ,projectPoint:Ive,projectPolygon:DQ,projectPolyline:Mve,projectWithZConversion:RQ,projectWithoutEngine:F9,requiresLoad:wve,test:$ve,tryProjectWithZConversion:Ww,unload:xve},Symbol.toStringTag,{value:"Module"}));var YI,Yg;let Ki=(Yg=class extends B{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new YI({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}},YI=Yg,Yg);c([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Ki.prototype,"cols",void 0),c([f({type:Ye,json:{write:!0}})],Ki.prototype,"level",void 0),c([f({type:String,json:{write:!0}})],Ki.prototype,"levelValue",void 0),c([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Ki.prototype,"origin",void 0),c([f({type:Number,json:{write:!0}})],Ki.prototype,"resolution",void 0),c([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Ki.prototype,"rows",void 0),c([f({type:Number,json:{write:!0}})],Ki.prototype,"scale",void 0),Ki=YI=c([E("esri.layers.support.LOD")],Ki);let kve=class{constructor(e,i,r,s,n=void 0){this.id=e,this.level=i,this.row=r,this.col=s,this.extent=n}};var Bd;const WD=new Ie({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});var Xg;let Ji=(Xg=class extends B{static create(e={}){const{resolutionFactor:i=1,scales:r,size:s=256,spatialReference:n=le.WebMercator,numLODs:a=24}=e;if(!Gs(n)){const p=[];if(r)for(let m=0;m<r.length;m++){const g=r[m];p.push(new Ki({level:m,scale:g,resolution:g}))}else{let m=5e-4;for(let g=a-1;g>=0;g--)p.unshift(new Ki({level:g,scale:m,resolution:m})),m*=2}return new Bd({dpi:96,lods:p,origin:new _e(0,0,n),size:[s,s],spatialReference:n})}const o=xs(n),l=e.origin?new _e({x:e.origin.x,y:e.origin.y,spatialReference:n}):new _e(o?{x:o.origin[0],y:o.origin[1],spatialReference:n}:{x:0,y:0,spatialReference:n}),u=96,d=1/(kn(n)*39.37*u),h=[];if(r)for(let p=0;p<r.length;p++){const m=r[p],g=m*d;h.push(new Ki({level:p,scale:m,resolution:g}))}else{let p=Sh(n)?512/s*5916575275917094e-7:256/s*591657527591555e-6;const m=Math.ceil(a/i);h.push(new Ki({level:0,scale:p,resolution:p*d}));for(let g=1;g<m;g++){const b=p/2**i,v=b*d;h.push(new Ki({level:g,scale:b,resolution:v})),p=b}}return new Bd({dpi:u,lods:h,origin:l,size:[s,s],spatialReference:n})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:i}=this;if(e&&i){const r=xs(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-i.x)<=r.dx}return!1}readOrigin(e,i){return _e.fromJSON({spatialReference:i.spatialReference,...e})}set lods(e){let i=0,r=0;const s=[],n=this._levelToLOD={};e&&(i=-1/0,r=1/0,e.forEach(a=>{s.push(a.scale),i=a.scale>i?a.scale:i,r=a.scale<r?a.scale:r,n[a.level]=a})),this._set("scales",s),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,i){return[i.cols,i.rows]}writeSize(e,i){i.cols=e[0],i.rows=e[1]}zoomToScale(e){const i=this.scales;if(e<=0)return i[0];if(e>=i.length-1)return i[i.length-1];const r=Math.floor(e),s=r+1;return i[r]/(i[r]/i[s])**(e-r)}scaleToZoom(e){const i=this.scales,r=i.length-1;let s=0;for(;s<r;s++){const n=i[s],a=i[s+1];if(n<=e)return s;if(a===e)return s+1;if(n>e&&a<e)return s+Math.log(n/e)/Math.log(n/a)}return s}tileAt(e,i,r,s){const n=this.lodAt(e);if(!n)return null;let a,o;if(typeof i=="number")a=i,o=r;else if(li(i.spatialReference,this.spatialReference))a=i.x,o=i.y,s=r;else{const d=A7(i,this.spatialReference);if(d==null)return null;a=d.x,o=d.y,s=r}const l=n.resolution*this.size[0],u=n.resolution*this.size[1];return s||(s=new kve(null,0,0,0,ei())),s.level=e,s.row=Math.floor((this.origin.y-o)/u+.001),s.col=Math.floor((a-this.origin.x)/l+.001),this.updateTileInfo(s),s}updateTileInfo(e,i=Bd.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&i===Bd.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(r=o)}if(!r)return;const s=e.level-r.level,n=r.resolution*this.size[0]/2**s,a=r.resolution*this.size[1]/2**s;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=ei()),e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*a,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+a}upsampleTile(e){const i=this._upsampleLevels[e.level];return!(!i||i.parentLevel===-1)&&(e.level=i.parentLevel,e.row=Math.floor(e.row/i.factor+.001),e.col=Math.floor(e.col/i.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,i){const r=this.lodAt(i.level);if(r==null)return null;const{resolution:s}=r,n=s*this.size[0],a=s*this.size[1];return e[0]=this.origin.x+i.col*n,e[1]=this.origin.y-(i.row+1)*a,e[2]=e[0]+n,e[3]=e[1]+a,e}lodAt(e){var i;return((i=this._levelToLOD)==null?void 0:i[e])??null}clone(){return Bd.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const i=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&i===0)return this;const r=[],s=this.lods.length-i;for(let n=0;n<s;n++){const a=n+i,{scale:o,resolution:l}=a>=0?this.lods[a]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new Ki({level:n,scale:o,resolution:l}))}return new Bd({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let i=null;for(let r=0;r<e.length;r++){const s=e[r];this._upsampleLevels[s.level]={parentLevel:i?i.level:-1,factor:i?i.resolution/s.resolution:0},i=s}}},Bd=Xg,Xg);c([f({type:Number,json:{write:!0}})],Ji.prototype,"compressionQuality",void 0),c([f({type:Number,json:{write:!0}})],Ji.prototype,"dpi",void 0),c([f({type:String,json:{read:WD.read,write:WD.write,origins:{"web-scene":{read:!1,write:!1}}}})],Ji.prototype,"format",void 0),c([f({readOnly:!0})],Ji.prototype,"isWrappable",null),c([f({type:_e,json:{write:!0}})],Ji.prototype,"origin",void 0),c([te("origin")],Ji.prototype,"readOrigin",null),c([f({type:[Ki],value:null,json:{write:!0}})],Ji.prototype,"lods",null),c([f({readOnly:!0})],Ji.prototype,"scales",void 0),c([f({cast:t=>Array.isArray(t)?t:typeof t=="number"?[t,t]:[256,256]})],Ji.prototype,"size",void 0),c([te("size",["rows","cols"])],Ji.prototype,"readSize",null),c([ne("size",{cols:{type:Ye},rows:{type:Ye}})],Ji.prototype,"writeSize",null),c([f({type:le,json:{write:!0}})],Ji.prototype,"spatialReference",void 0),Ji=Bd=c([E("esri.layers.support.TileInfo")],Ji),function(t){var e;(e=t.ExtrapolateOptions||(t.ExtrapolateOptions={}))[e.NONE=0]="NONE",e[e.POWER_OF_TWO=1]="POWER_OF_TWO"}(Ji||(Ji={}));const N9={widthBreakpoint:{getValue(t){const e=t.viewSize[0],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){const e=t.viewSize[1],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){const e=t.viewSize,i=e[0],r=e[1],s=this.values;return r>=i?s.portrait:s.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},Vx={xsmall:544,small:768,medium:992,large:1200};function Ave(t){const e=t;return e&&e.xsmall<e.small&&e.small<e.medium&&e.medium<e.large}function jx(t,e){return e?N9[t].valueToClassName[e].split(" "):[]}const Pve=t=>{let e=class extends t{constructor(...i){super(...i),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=Vx}initialize(){this.addHandles(Y(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Le))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(i){if(i!==this._get("breakpoints")){if(!Ave(i)){const r=JSON.stringify(Vx,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r),i=Vx}this._set("breakpoints",{...i})}}_updateClassNames(){if(!this.container)return;const i=Vs.acquire(),r=Vs.acquire();let s,n=!1;for(s in N9){const a=this[s],o=N9[s].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==o&&(n=!0,this[s]=o,jx(s,a).forEach(l=>r.push(l)),jx(s,o).forEach(l=>i.push(l)))}n&&(this._applyClassNameChanges(i,r),Vs.release(i),Vs.release(r))}_applyClassNameChanges(i,r){const s=this.container;s&&(r.forEach(n=>s.classList.remove(n)),i.forEach(n=>s.classList.add(n)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let r;for(r in N9)jx(r,this[r]).forEach(s=>i.classList.remove(s))}};return c([f()],e.prototype,"breakpoints",null),c([f()],e.prototype,"orientation",void 0),c([f()],e.prototype,"widthBreakpoint",void 0),c([f()],e.prototype,"heightBreakpoint",void 0),e=c([E("esri.views.BreakpointsOwner")],e),e};function OL(t){return typeof t=="string"?document.getElementById(t):t??null}function ZD(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}let vm=class extends ce{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,i,r={}){return this._installWatch(e,i,r,Y)}addWhen(e,i,r={}){return this._installWatch(e,i,r,ir)}addOnCollectionChange(e,i,{initial:r=!1,final:s=!1}={}){const n=++this._handleId;return this.addHandles([wr(e,"after-changes",this._createSyncUpdatingCallback(),Fc),wr(e,"change",i,{onListenerAdd:r?a=>i({added:a.toArray(),removed:[]}):void 0,onListenerRemove:s?a=>i({added:[],removed:a.toArray()}):void 0})],n),ht(()=>this.removeHandles(n))}addPromise(e){if(e==null)return e;const i=++this._handleId;this.addHandles(ht(()=>{this._pendingPromises.delete(e)&&(this._pendingPromises.size!==0||this.hasHandles(X3)||this._set("updating",!1))}),i),this._pendingPromises.add(e),this._set("updating",!0);const r=()=>this.removeHandles(i);return e.then(r,r),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,i,r={},s){const n=++this._handleId;r.sync||this._installSyncUpdatingWatch(e,n);const a=s(e,i,r);return this.addHandles(a,n),ht(()=>this.removeHandles(n))}_installSyncUpdatingWatch(e,i){const r=this._createSyncUpdatingCallback(),s=Y(e,r,{sync:!0,equals:()=>!1});return this.addHandles(s,i),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(X3),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(U_(()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(X3))}),X3)}}};c([f({readOnly:!0})],vm.prototype,"updating",void 0),vm=c([E("esri.core.support.UpdatingHandles")],vm);const X3=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var q4=function(){return q4=Object.assign||function(e){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},q4.apply(this,arguments)},XI={exports:{}},Ti={},QI={exports:{}},l0={};function qQ(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function Lve(t,e,i){}function Rve(t,e,i){}var Ove=/javascript\s*\:/img;function Fve(t,e){return Ove.test(e)?"":e}l0.whiteList=qQ();l0.getDefaultWhiteList=qQ;l0.onAttr=Lve;l0.onIgnoreAttr=Rve;l0.safeAttrValue=Fve;var Nve={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,s;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,s=t.length;r<s;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},Y1=Nve;function Dve(t,e){t=Y1.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,r=!1,s=0,n=0,a="";function o(){if(!r){var d=Y1.trim(t.slice(s,n)),h=d.indexOf(":");if(h!==-1){var p=Y1.trim(d.slice(0,h)),m=Y1.trim(d.slice(h+1));if(p){var g=e(s,a.length,p,m,d);g&&(a+=g+"; ")}}}s=n+1}for(;n<i;n++){var l=t[n];if(l==="/"&&t[n+1]==="*"){var u=t.indexOf("*/",n+2);if(u===-1)break;n=u+1,s=n+1,r=!1}else l==="("?r=!0:l===")"?r=!1:l===";"?r||o():l===`
`&&o()}return Y1.trim(a)}var zve=Dve,Q3=l0,Vve=zve;function JD(t){return t==null}function jve(t){var e={};for(var i in t)e[i]=t[i];return e}function BQ(t){t=jve(t||{}),t.whiteList=t.whiteList||Q3.whiteList,t.onAttr=t.onAttr||Q3.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||Q3.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||Q3.safeAttrValue,this.options=t}BQ.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,s=i.onAttr,n=i.onIgnoreAttr,a=i.safeAttrValue,o=Vve(t,function(l,u,d,h,p){var m=r[d],g=!1;if(m===!0?g=m:typeof m=="function"?g=m(h):m instanceof RegExp&&(g=m.test(h)),g!==!0&&(g=!1),h=a(d,h),!!h){var b={position:u,sourcePosition:l,source:p,isWhite:g};if(g){var v=s(d,h,b);return JD(v)?d+":"+h:v}else{var v=n(d,h,b);if(!JD(v))return v}}});return o};var qve=BQ;(function(t,e){var i=l0,r=qve;function s(a,o){var l=new r(o);return l.process(a)}e=t.exports=s,e.FilterCSS=r;for(var n in i)e[n]=i[n]})(QI,QI.exports);var FL=QI.exports,NL={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,s;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,s=t.length;r<s;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},Bve=FL.FilterCSS,Uve=FL.getDefaultWhiteList,B4=NL;function UQ(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var GQ=new Bve;function Gve(t,e,i){}function Hve(t,e,i){}function Wve(t,e,i){}function Zve(t,e,i){}function HQ(t){return t.replace(Yve,"&lt;").replace(Xve,"&gt;")}function Jve(t,e,i,r){if(i=QQ(i),e==="href"||e==="src"){if(i=B4.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(e==="background"){if(K3.lastIndex=0,K3.test(i))return""}else if(e==="style"){if(YD.lastIndex=0,YD.test(i)||(XD.lastIndex=0,XD.test(i)&&(K3.lastIndex=0,K3.test(i))))return"";r!==!1&&(r=r||GQ,i=r.process(i))}return i=KQ(i),i}var Yve=/</g,Xve=/>/g,Qve=/"/g,Kve=/&quot;/g,e2e=/&#([a-zA-Z0-9]*);?/gim,t2e=/&colon;?/gim,i2e=/&newline;?/gim,K3=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,YD=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,XD=/u\s*r\s*l\s*\(.*/gi;function WQ(t){return t.replace(Qve,"&quot;")}function ZQ(t){return t.replace(Kve,'"')}function JQ(t){return t.replace(e2e,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function YQ(t){return t.replace(t2e,":").replace(i2e," ")}function XQ(t){for(var e="",i=0,r=t.length;i<r;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return B4.trim(e)}function QQ(t){return t=ZQ(t),t=JQ(t),t=YQ(t),t=XQ(t),t}function KQ(t){return t=WQ(t),t=HQ(t),t}function r2e(){return""}function s2e(t,e){typeof e!="function"&&(e=function(){});var i=!Array.isArray(t);function r(a){return i?!0:B4.indexOf(t,a)!==-1}var s=[],n=!1;return{onIgnoreTag:function(a,o,l){if(r(a))if(l.isClosing){var u="[/removed]",d=l.position+u.length;return s.push([n!==!1?n:l.position,d]),n=!1,u}else return n||(n=l.position),"[removed]";else return e(a,o,l)},remove:function(a){var o="",l=0;return B4.forEach(s,function(u){o+=a.slice(l,u[0]),l=u[1]}),o+=a.slice(l),o}}}function n2e(t){for(var e="",i=0;i<t.length;){var r=t.indexOf("<!--",i);if(r===-1){e+=t.slice(i);break}e+=t.slice(i,r);var s=t.indexOf("-->",r);if(s===-1)break;i=s+3}return e}function a2e(t){var e=t.split("");return e=e.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}Ti.whiteList=UQ();Ti.getDefaultWhiteList=UQ;Ti.onTag=Gve;Ti.onIgnoreTag=Hve;Ti.onTagAttr=Wve;Ti.onIgnoreTagAttr=Zve;Ti.safeAttrValue=Jve;Ti.escapeHtml=HQ;Ti.escapeQuote=WQ;Ti.unescapeQuote=ZQ;Ti.escapeHtmlEntities=JQ;Ti.escapeDangerHtml5Entities=YQ;Ti.clearNonPrintableCharacter=XQ;Ti.friendlyAttrValue=QQ;Ti.escapeAttrValue=KQ;Ti.onIgnoreTagStripAll=r2e;Ti.StripTagBody=s2e;Ti.stripCommentTag=n2e;Ti.stripBlankChar=a2e;Ti.cssFilter=GQ;Ti.getDefaultCSSWhiteList=Uve;var G7={},uf=NL;function o2e(t){var e=uf.spaceIndex(t),i;return e===-1?i=t.slice(1,-1):i=t.slice(1,e+1),i=uf.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function l2e(t){return t.slice(0,2)==="</"}function c2e(t,e,i){var r="",s=0,n=!1,a=!1,o=0,l=t.length,u="",d="";e:for(o=0;o<l;o++){var h=t.charAt(o);if(n===!1){if(h==="<"){n=o;continue}}else if(a===!1){if(h==="<"){r+=i(t.slice(s,o)),n=o,s=o;continue}if(h===">"){r+=i(t.slice(s,n)),d=t.slice(n,o+1),u=o2e(d),r+=e(n,r.length,u,d,l2e(d)),s=o+1,n=!1;continue}if(h==='"'||h==="'")for(var p=1,m=t.charAt(o-p);m.trim()===""||m==="=";){if(m==="="){a=h;continue e}m=t.charAt(o-++p)}}else if(h===a){a=!1;continue}}return s<t.length&&(r+=i(t.substr(s))),r}var u2e=/[^a-zA-Z0-9\\_:.-]/gim;function d2e(t,e){var i=0,r=0,s=[],n=!1,a=t.length;function o(p,m){if(p=uf.trim(p),p=p.replace(u2e,"").toLowerCase(),!(p.length<1)){var g=e(p,m||"");g&&s.push(g)}}for(var l=0;l<a;l++){var u=t.charAt(l),d,h;if(n===!1&&u==="="){n=t.slice(i,l),i=l+1,r=t.charAt(i)==='"'||t.charAt(i)==="'"?i:h2e(t,l+1);continue}if(n!==!1&&l===r){if(h=t.indexOf(u,l+1),h===-1)break;d=uf.trim(t.slice(r+1,h)),o(n,d),n=!1,l=h,i=l+1;continue}if(/\s|\n|\t/.test(u))if(t=t.replace(/\s|\n|\t/g," "),n===!1)if(h=f2e(t,l),h===-1){d=uf.trim(t.slice(i,l)),o(d),n=!1,i=l+1;continue}else{l=h-1;continue}else if(h=p2e(t,l-1),h===-1){d=uf.trim(t.slice(i,l)),d=QD(d),o(n,d),n=!1,i=l+1;continue}else continue}return i<t.length&&(n===!1?o(t.slice(i)):o(n,QD(uf.trim(t.slice(i))))),uf.trim(s.join(" "))}function f2e(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="="?e:-1}}function h2e(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="'"||i==='"'?e:-1}}function p2e(t,e){for(;e>0;e--){var i=t[e];if(i!==" ")return i==="="?e:-1}}function m2e(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function QD(t){return m2e(t)?t.substr(1,t.length-2):t}G7.parseTag=c2e;G7.parseAttr=d2e;var y2e=FL.FilterCSS,Eo=Ti,eK=G7,g2e=eK.parseTag,b2e=eK.parseAttr,D9=NL;function e5(t){return t==null}function v2e(t){var e=D9.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=D9.trim(t.slice(e+1,-1));var i=t[t.length-1]==="/";return i&&(t=D9.trim(t.slice(0,-1))),{html:t,closing:i}}function w2e(t){var e={};for(var i in t)e[i]=t[i];return e}function _2e(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map(function(r){return r.toLowerCase()}):e[i.toLowerCase()]=t[i];return e}function tK(t){t=w2e(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Eo.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=_2e(t.whiteList||t.allowList):t.whiteList=Eo.whiteList,t.onTag=t.onTag||Eo.onTag,t.onTagAttr=t.onTagAttr||Eo.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Eo.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Eo.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Eo.safeAttrValue,t.escapeHtml=t.escapeHtml||Eo.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new y2e(t.css))}tK.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,s=i.onTag,n=i.onIgnoreTag,a=i.onTagAttr,o=i.onIgnoreTagAttr,l=i.safeAttrValue,u=i.escapeHtml,d=e.cssFilter;i.stripBlankChar&&(t=Eo.stripBlankChar(t)),i.allowCommentTag||(t=Eo.stripCommentTag(t));var h=!1;i.stripIgnoreTagBody&&(h=Eo.StripTagBody(i.stripIgnoreTagBody,n),n=h.onIgnoreTag);var p=g2e(t,function(m,g,b,v,w){var _={sourcePosition:m,position:g,isClosing:w,isWhite:Object.prototype.hasOwnProperty.call(r,b)},S=s(b,v,_);if(!e5(S))return S;if(_.isWhite){if(_.isClosing)return"</"+b+">";var T=v2e(v),C=r[b],A=b2e(T.html,function(O,L){var F=D9.indexOf(C,O)!==-1,D=a(b,O,L,F);return e5(D)?F?(L=l(b,O,L,d),L?O+'="'+L+'"':O):(D=o(b,O,L,F),e5(D)?void 0:D):D});return v="<"+b,A&&(v+=" "+A),T.closing&&(v+=" /"),v+=">",v}else return S=n(b,v,_),e5(S)?u(v):S},u);return h&&(p=h.remove(p)),p};var S2e=tK;(function(t,e){var i=Ti,r=G7,s=S2e;function n(o,l){var u=new s(l);return u.process(o)}e=t.exports=n,e.filterXSS=n,e.FilterXSS=s,function(){for(var o in i)e[o]=i[o];for(var l in r)e[l]=r[l]}();function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=t.exports)})(XI,XI.exports);var $0=XI.exports,x2e=function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},$2e=function(){function t(e,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=q4(q4({},$0.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,a,o,l){return n==="a"&&a==="href"||(n==="img"||n==="source")&&a==="src"?r.sanitizeUrl(o):$0.safeAttrValue(n,a,o,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;e&&!i?s=e:e&&i?(s=Object.create(this.arcgisFilterOptions),s.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach(function(n){if(n==="whiteList")s.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]);else if(n==="css"){var a=e.css.whiteList;a!=null&&e.css instanceof Object&&Object.keys(a).forEach(function(o){return s.css.whiteList[o]=a[o]})}else s[n]=e[n]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList,s.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=s,this._xssFilter=new $0.FilterXSS(s)}return t.prototype.sanitize=function(e,i){switch(i===void 0&&(i={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,i);default:return i.allowUndefined&&typeof e>"u"?void 0:null}},t.prototype.sanitizeUrl=function(e,i){var r=(i??{}).isProtocolRequired,s=r===void 0?!0:r,n=this._trim(e.substring(0,e.indexOf(":"))),a=e==="/",o=/^#/.test(e),l=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return a||o||l?$0.escapeAttrValue(e):!n&&!s?$0.escapeAttrValue("https://".concat(e)):""},t.prototype.sanitizeHTMLAttribute=function(e,i,r,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(e,i,r,s):$0.safeAttrValue(e,i,r,s)},t.prototype.validate=function(e,i){i===void 0&&(i={});var r=this.sanitize(e,i);return{isValid:e===r,sanitized:r}},t.prototype.encodeHTML=function(e){var i=this;return String(e).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},t.prototype.encodeAttrValue=function(e){var i=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(r,s){return i.test(r)?r:"&#x".concat(Number(e.charCodeAt(s)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(e){var i={};return e.forEach(function(r){Object.keys(r).forEach(function(s){Array.isArray(r[s])&&Array.isArray(i[s])?i[s]=i[s].concat(r[s]):i[s]=r[s]})}),i},t.prototype._iterateOverObject=function(e,i){var r=this;i===void 0&&(i={});try{var s=!1,n=void 0;if(Array.isArray(e))n=e.reduce(function(o,l){var u=r.validate(l,i);return u.isValid?o.concat([l]):(s=!0,o.concat([u.sanitized]))},[]);else if(x2e(e)){var a=Object.keys(e);n=a.reduce(function(o,l){var u=e[l],d=r.validate(u,i);return d.isValid?o[l]=u:(s=!0,o[l]=d.sanitized),o},{})}else return i.allowUndefined&&typeof e>"u"?void 0:null;return s?n:e}catch{return null}},t.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},t}();const T2e=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],I2e=T2e.reduce((t,e)=>(t[e]=[],t),{}),E2e=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],iK=new $2e({whiteList:I2e,onTagAttr:(t,e,i)=>{const r=`${e}="${i}"`;if(E2e.includes(e))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),rK="http://www.w3.org/",H7=`${rK}2000/svg`,sK=`${rK}1999/xlink`;let KD=[],DL=(t,e)=>{let i={};return Object.keys(t).forEach(r=>{i[r]=t[r]}),e&&Object.keys(e).forEach(r=>{i[r]=e[r]}),i},zL=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),nK=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},M2e=(t,e,i)=>{if(e.vnodeSelector!==""){for(let r=i;r<t.length;r++)if(zL(t[r],e))return r}return-1},qx=(t,e,i,r)=>{let s=t[e];if(s.vnodeSelector==="")return;let n=s.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let a=0;a<t.length;a++)if(a!==e){let o=t[a];if(zL(o,s))throw new Error(`${i.vnodeSelector} had a ${s.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},C2e=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},KI=[],eE=!1,aK=t=>{(t.children||[]).forEach(aK),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},ez=()=>{eE=!1,KI.forEach(aK),KI.length=0},tz=t=>{KI.push(t),eE||(eE=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(ez,{timeout:16}):setTimeout(ez,16))},iz=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),tz(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),tz(t))},k2e=(t,e,i)=>{if(!e)return;let r=i.eventHandlerInterceptor,s=Object.keys(e),n=s.length;for(let a=0;a<n;a++){let o=s[a],l=e[o];if(o==="className")throw new Error('Property "className" is not supported, use "class".');if(o==="class")iE(t,l,!0);else if(o==="classes"){let u=Object.keys(l),d=u.length;for(let h=0;h<d;h++){let p=u[h];l[p]&&t.classList.add(p)}}else if(o==="styles"){let u=Object.keys(l),d=u.length;for(let h=0;h<d;h++){let p=u[h],m=l[p];m&&(nK(m),i.styleApplyer(t,p,m))}}else if(o!=="key"&&l!=null){let u=typeof l;u==="function"?(o.lastIndexOf("on",0)===0&&(r&&(l=r(o,l,t,e)),o==="oninput"&&function(){let d=l;l=function(h){d.apply(this,[h]),h.target["oninput-value"]=h.target.value}}()),t[o]=l):i.namespace===H7?o==="href"?t.setAttributeNS(sK,o,l):t.setAttribute(o,l):u==="string"&&o!=="value"?o==="innerHTML"?t[o]=iK.sanitize(l):tE(t)&&o in t?t[o]=l:t.setAttribute(o,l):t[o]=l}}};function tE(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let U4,A2e=(t,e,i)=>{if(e)for(let r of e)iw(r,t,void 0,i)},oK=(t,e,i)=>{A2e(t,e.children,i),e.text&&(t.textContent=e.text),k2e(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},iw=(t,e,i,r)=>{let s,n=0,a=t.vnodeSelector,o=e.ownerDocument;if(a==="")s=t.domNode=o.createTextNode(t.text),i!==void 0?e.insertBefore(s,i):e.appendChild(s);else{for(let l=0;l<=a.length;++l){let u=a.charAt(l);if(l===a.length||u==="."||u==="#"){let d=a.charAt(n-1),h=a.slice(n,l);d==="."?s.classList.add(h):d==="#"?s.id=h:(h==="svg"&&(r=DL(r,{namespace:H7})),r.namespace!==void 0?s=t.domNode=o.createElementNS(r.namespace,h):(s=t.domNode=t.domNode||o.createElement(h),h==="input"&&t.properties&&t.properties.type!==void 0&&s.setAttribute("type",t.properties.type)),i!==void 0?e.insertBefore(s,i):s.parentNode!==e&&e.appendChild(s)),n=l+1}}oK(s,t,r)}},iE=(t,e,i)=>{e&&e.split(" ").forEach(r=>{r&&t.classList.toggle(r,i)})},P2e=(t,e,i,r)=>{if(!i)return;let s=!1,n=Object.keys(i),a=n.length;for(let o=0;o<a;o++){let l=n[o],u=i[l],d=e[l];if(l==="class")d!==u&&(iE(t,d,!1),iE(t,u,!0));else if(l==="classes"){let h=t.classList,p=Object.keys(u),m=p.length;for(let g=0;g<m;g++){let b=p[g],v=!!u[b];v!==!!d[b]&&(s=!0,v?h.add(b):h.remove(b))}}else if(l==="styles"){let h=Object.keys(u),p=h.length;for(let m=0;m<p;m++){let g=h[m],b=u[g];b!==d[g]&&(s=!0,b?(nK(b),r.styleApplyer(t,g,b)):r.styleApplyer(t,g,""))}}else if(u||typeof d!="string"||(u=""),l!=="value"||tE(t)){if(u!==d){let h=typeof u;h==="function"&&r.eventHandlerInterceptor||(r.namespace===H7?l==="href"?t.setAttributeNS(sK,l,u):t.setAttribute(l,u):h==="string"?l==="innerHTML"?t[l]=iK.sanitize(u):l==="role"&&u===""?t.removeAttribute(l):tE(t)&&l in t?t[l]=u:t.setAttribute(l,u):t[l]!==u&&(t[l]=u),s=!0)}}else{let h=t[l];h!==u&&(t["oninput-value"]?h===t["oninput-value"]:u!==d)&&(t[l]=u,t["oninput-value"]=void 0),u!==d&&(s=!0)}}return s},L2e=(t,e,i,r,s)=>{if(i===r)return!1;r=r||KD;let n,a=(i=i||KD).length,o=r.length,l=0,u=0,d=!1;for(;u<o;){let h=l<a?i[l]:void 0,p=r[u];if(h!==void 0&&zL(h,p))d=U4(h,p,s)||d,l++;else{let m=M2e(i,p,l+1);if(m>=0){for(n=l;n<m;n++)iz(i[n]),qx(i,n,t,"removed");d=U4(i[m],p,s)||d,l=m+1}else iw(p,e,l<a?i[l].domNode:void 0,s),C2e(p),qx(r,u,t,"added")}u++}if(a>l)for(n=l;n<a;n++)iz(i[n]),qx(i,n,t,"removed");return d};U4=(t,e,i)=>{let r=t.domNode,s=!1;if(t===e)return!1;let n=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let a=r.ownerDocument.createTextNode(e.text);return r.parentNode.replaceChild(a,r),e.domNode=a,s=!0,s}e.domNode=r}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(i=DL(i,{namespace:H7})),t.text!==e.text&&(n=!0,e.text===void 0?r.removeChild(r.firstChild):r.textContent=e.text),e.domNode=r,n=L2e(e,r,t.children,e.children,i)||n,n=P2e(r,t.properties,e.properties,i)||n,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[r,i,e.vnodeSelector,e.properties,e.children]);return n&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(r,e.properties,t.properties),s};let t5=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=t;t=i,U4(r,i,e)},domNode:t.domNode});const R2e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}};let Nv=t=>DL(R2e,t),Rf={append:(t,e,i)=>(i=Nv(i),iw(e,t,void 0,i),t5(e,i)),insertBefore:(t,e,i)=>(i=Nv(i),iw(e,t.parentNode,t,i),t5(e,i)),merge:(t,e,i)=>(i=Nv(i),e.domNode=t,oK(t,e,i),t5(e,i)),replace:(t,e,i)=>(i=Nv(i),iw(e,t.parentNode,t,i),t.parentNode.removeChild(t),t5(e,i))},lK,O2e=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};lK=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let F2e=(t,e)=>{let i=t;return e.forEach(r=>{i=i&&i.children?lK(i.children,s=>s.domNode===r):void 0}),i},N2e=(t,e,i)=>{let r=function(s){i("domEvent",s);let n=e(),a=O2e(s.currentTarget,n.domNode);a.reverse();let o,l=F2e(n.getLastRender(),a);return t.scheduleRender(),l&&(o=l.properties[`on${s.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",s),o};return(s,n,a,o)=>r},G4=t=>{let e,i,r=Nv(t),s=r.performanceLogger,n=!0,a=!1,o=[],l=[],u=(h,p,m)=>{let g,b=()=>g;r.eventHandlerInterceptor=N2e(e,b,s),g=h(p,m(),r),o.push(g),l.push(m)},d=()=>{if(i=void 0,n){n=!1,s("renderStart",void 0);for(let h=0;h<o.length;h++){let p=l[h]();s("rendered",void 0),o[h].update(p),s("patched",void 0)}s("renderDone",void 0),n=!0}};return e={renderNow:d,scheduleRender:()=>{i||a||(i=requestAnimationFrame(d))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),a=!0},resume:()=>{a=!1,n=!0,e.scheduleRender()},append:(h,p)=>{u(Rf.append,h,p)},insertBefore:(h,p)=>{u(Rf.insertBefore,h,p)},merge:(h,p)=>{u(Rf.merge,h,p)},replace:(h,p)=>{u(Rf.replace,h,p)},detach:h=>{for(let p=0;p<l.length;p++)if(l[p]===h)return l.splice(p,1),o.splice(p,1)[0];throw new Error("renderFunction was not found")}},e},Ud=class extends ce{constructor(){super(...arguments),this.items=new K,this._watchUpdatingTracking=new vm,this._callbacks=new Map,this._projector=G4(),this._hiddenProjector=G4()}get needsRender(){return this.items.length>0}get updating(){var e;return((e=this._watchUpdatingTracking)==null?void 0:e.updating)??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const s=()=>r.render();this._callbacks.set(r,s),this._projector.append(this.surface,s)}for(const r of i.removed){const s=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(s.domNode),this._callbacks.delete(r)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const i=this._hiddenSurface,r=this._hiddenProjector;let s;const n=()=>(s=e.render(),s);r.append(i,n),r.renderNow();const a={left:0,top:0,right:0,bottom:0};if(s!=null&&s.domNode){const o=s.domNode.getBoundingClientRect();a.left=o.left,a.top=o.top,a.right=o.right,a.bottom=o.bottom}for(r.detach(n);i.firstChild;)i.removeChild(i.firstChild);return a}overlaps(e,i){const r=this.computeBoundingRect(e),s=this.computeBoundingRect(i);return Math.max(r.left,s.left)<=Math.min(r.right,s.right)&&Math.max(r.top,s.top)<=Math.min(r.bottom,s.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(e,i){const r=!!(i!=null&&i.disableDecorations);if(!this.items.some(n=>n.visible&&!(r&&n.isDecoration)))return;const s=e.getContext("2d");s.save(),s.font=this._fontString(),this.items.forEach(n=>{r&&n.isDecoration||(s.save(),n.renderCanvas(s),s.restore())}),s.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};c([f({readOnly:!0})],Ud.prototype,"surface",void 0),c([f({readOnly:!0})],Ud.prototype,"items",void 0),c([f({readOnly:!0})],Ud.prototype,"needsRender",null),c([f({readOnly:!0})],Ud.prototype,"_watchUpdatingTracking",void 0),c([f({readOnly:!0})],Ud.prototype,"updating",null),Ud=c([E("esri.views.overlay.ViewOverlay")],Ud);const rz=Ud,Bx=[0,0];function D2e(t){const e=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return Bx[0]=i.left+((e==null?void 0:e.pageXOffset)??0),Bx[1]=i.top+((e==null?void 0:e.pageYOffset)??0),Bx}function sz(t){t&&(t.textContent="",t.parentNode&&t.parentNode.removeChild(t))}function z2e(t){const e=document.createElement("div");return t.appendChild(e),e}const T0=16,X1=750,V2e=512,j2e=2,q2e=t=>{let e=class extends t{constructor(...i){super(...i),this._freqInfo={freq:T0,time:X1},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([Y(()=>this.cursor,r=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",r)}),Y(()=>this.navigating,r=>{const{surface:s}=this;s&&s.setAttribute("data-navigating",r.toString())})])}initialize(){this.addHandles([Y(()=>this.ui,(i,r)=>this._handleUIChange(i,r),Le),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){var i;this.destroyed||((i=this.ui)==null||i.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(i){const r=this._get("container"),s=OL(i);if(s||typeof i!="string"||W.getLogger(this).error("#container",`element with id '${i}' not found`),r===s)return;if(this._stopMeasuring(),r&&(r.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(sz(this.root),this._set("root",null)),this.userContent&&(ZD(this.userContent,r),sz(this.userContent),this._set("userContent",null))),!s)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);s.classList.add("esri-view");const n=document.createElement("div");n.className="esri-view-user-storage",ZD(s,n),s.appendChild(n),this._set("userContent",n);const a=document.createElement("div");a.className="esri-view-root",s.insertBefore(a,s.firstChild),this._set("root",a);const o=document.createElement("div");o.className="esri-view-surface",o.setAttribute("role","application"),o.tabIndex=0,a.appendChild(o),this._set("surface",o);const l=new rz;a.appendChild(l.surface),this._set("overlay",l),this.addHandles(Y(()=>l.needsRender,u=>{u&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Eb({render:()=>{var d;return(d=this.overlay)==null?void 0:d.render()}}):this._overlayRenderTaskHandle=oi(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",s),this._startMeasuring()}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get size(){return[this.width,this.height]}set ui(i){const r=this._get("ui");r!==i&&(r==null||r.destroy()),this._set("ui",i)}blur(){var i;(i=this.surface)==null||i.blur()}focus(){var i;(i=this.surface)==null||i.focus()}pageToContainer(i,r,s){const n=this.position;return i-=n?n[0]:0,r-=n?n[1]:0,s?(s[0]=i,s[1]=r):s=[i,r],s}containerToPage(i,r,s){const n=this.position;return i+=n?n[0]:0,r+=n?n[1]:0,s?(s[0]=i,s[1]=r):s=[i,r],s}_handleUIChange(i,r){this.removeHandles("ui"),r&&r!==i&&r.destroy(),i&&(i.view=this,this.addHandles(Y(()=>this.root,s=>{i.container=s?z2e(s):null},Le),"ui")),this._set("ui",i)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=T0,i.time=X1;const r=Eb({prepare:a=>{const o=this._measure(),l=this._freqInfo;if(l.time+=a.deltaTime,o&&(l.freq=T0,this._get("resizing")||this._set("resizing",!0)),l.time<l.freq)return;l.time=0;const u=this._position();l.freq=u||o?T0:Math.min(X1,l.freq*j2e),!o&&l.freq>=V2e&&(r.pause(),this._get("resizing")&&this._set("resizing",!1))}}),s=new ResizeObserver(a=>{i.freq=T0,i.time=X1,r.resume()});this.container!=null&&s.observe(this.container);const n=ht(()=>s.disconnect());this.addHandles([s1(window,"resize",()=>{i.freq=T0,i.time=X1,r.resume()}),n,r],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,r=i?i.clientWidth:0,s=i?i.clientHeight:0;if(r===0||s===0)return this.suspended||this._set("suspended",!0),!1;const n=this.width,a=this.height;return r===n&&s===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",r),this._set("height",s),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:n,oldHeight:a,width:r,height:s}),!0)}_position(){const i=this.container,r=this.position,s=i&&D2e(i);return!!s&&(!r||s[0]!==r[0]||s[1]!==r[1])&&(this._set("position",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return c([f()],e.prototype,"container",null),c([f({readOnly:!0})],e.prototype,"focused",null),c([f({readOnly:!0})],e.prototype,"height",void 0),c([f()],e.prototype,"messagesCommon",void 0),c([f({type:rz})],e.prototype,"overlay",void 0),c([f({readOnly:!0})],e.prototype,"position",void 0),c([f({readOnly:!0})],e.prototype,"resizing",void 0),c([f({readOnly:!0})],e.prototype,"root",void 0),c([f({value:null,readOnly:!0})],e.prototype,"size",null),c([f({readOnly:!0})],e.prototype,"surface",void 0),c([f({readOnly:!0})],e.prototype,"suspended",void 0),c([f({nonNullable:!0})],e.prototype,"ui",null),c([f({readOnly:!0})],e.prototype,"userContent",void 0),c([f({readOnly:!0})],e.prototype,"width",void 0),c([f()],e.prototype,"widthBreakpoint",void 0),e=c([E("esri.views.DOMContainer")],e),e};function B2e(t,e,i){return ld(t.map((r,s)=>e.apply(i,[r,s])))}async function U2e(t,e,i){return(await ld(t.map((r,s)=>e.apply(i,[r,s])))).map(r=>r.value)}function VL(t){return{ok:!0,value:t}}function jL(t){return{ok:!1,error:t}}function G2e(t){return t!=null&&t.ok===!0?t.value:null}function H2e(t){return t!=null&&t.ok===!1?t.error:null}async function W7(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return VL(await t)}catch(e){return jL(e)}}async function W2e(t){try{return VL(await t)}catch(e){return Nl(e),jL(e)}}function mh(t,e){return new Gd(t,e)}let Gd=class extends ce{get value(){return G2e(this._result)}get error(){return H2e(this._result)}get finished(){return this._result!=null}constructor(e,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=bs(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then(s=>{this._result=VL(s),this._cleanup()},s=>{this._result=jL(s),this._cleanup()}),this._abortHandle=Zo(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=oi(this._abortHandle),this._abortController=null}};c([f()],Gd.prototype,"value",null),c([f()],Gd.prototype,"error",null),c([f()],Gd.prototype,"finished",null),c([f()],Gd.prototype,"promise",void 0),c([f()],Gd.prototype,"_result",void 0),Gd=c([E("esri.core.asyncUtils.ReactiveTask")],Gd);const cK=q("mac")?"Meta":"Control",Z2e=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),J2e=t=>Z2e.has(t);let Y2e=class{constructor(e,i=[]){this.eventType=e,this.keyModifiers=i}matches(e){if(e.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=e.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},_r=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const i=this._incoming[e];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback(i=>this._handleEvent(i)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,i,r){let s;typeof i=="function"?(r=i,s=[]):s=i||[];const n=typeof e=="string"?new Y2e(e,s):e,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},o=d=>{const h=this._incoming[d.match.eventType];if(h){const p=h.indexOf(d);h.splice(p,1),a(),this._manager&&this._manager.updateDependencies()}},l=new X2e(n,r,{onPause:o,onRemove:o,onResume:d=>{const h=this._incoming[d.match.eventType];h&&!h.includes(d)&&(h.push(d),a(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[n.eventType];return u||(u=[],this._incoming[n.eventType]=u),u.push(l),a(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const i=new Q2e(e,{onEmit:(r,s,n,a)=>{var o;(o=this._manager)==null||o.emit(r.eventType,s,n,a)},onRemove:r=>{var s;delete this._outgoing[r.eventType],(s=this._manager)==null||s.updateDependencies()}});return this._outgoing[e]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(e){var i;(i=this._manager)==null||i.setPointerCapture(e,!0)}stopCapturingPointer(e){var i;(i=this._manager)==null||i.setPointerCapture(e,!1)}refreshHasPendingInputs(){var e;(e=this._manager)==null||e.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){var r;const i=this._incoming[e.type];if(i){for(const s of i)if(s.match.matches(e)&&((r=s.callback)==null||r.call(s,e),e.shouldStopPropagation()))break}}},X2e=class{constructor(e,i,r){this.match=e,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},Q2e=class{constructor(e,i){this.eventType=e,this._removed=!1,this._handler=i}emit(e,i,r){this._removed||this._handler.onEmit(this,e,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},K2e=class extends _r{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(e){const i=e.native.pointerType==="touch"?"touch":"mouse",{x:r,y:s}=e;i===this._value&&this._x===r&&this._y===s||(this._value=i,this._x=r,this._y=s,this._onChange(i,r,s))}},ewe=class extends _r{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Vm(!1),this._onPointerAdd=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},twe=class{constructor(e,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in e){const s=e[r],n=new LZ(s,void 0,void 0,2,2);this._properties[r]={pool:n,acquired:[]}}this._afterDispatchHandle=whe(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const i=this._properties[e];for(const r of i.acquired)rN(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(e){const i=this._owner._get(e),r=this._properties[e];let s=r.pool.acquire();for(r.acquired.push(s);s===i;)r.acquired.push(s),s=r.pool.acquire();return s}_release(){for(const e in this._properties){const i=this._properties[e];let r=0;for(const s of i.acquired)rN(s)?i.acquired[r++]=s:i.pool.release(s);i.acquired.length=r}}},ga=class extends ce{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=cK,this._latestPointerType="mouse",this._propertiesPool=new twe({latestPointerLocation:swe},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const i of e)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,i,r=rd.INTERNAL){if(this._nameToGroup[e]||i.length===0)return;const s={name:e,handlers:i.map(n=>({handler:n,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=s;for(let n=s.handlers.length-1;n>=0;n--){const a=s.handlers[n];this._handlers.push(a),a.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(o,l,u,d,h)=>{this._emitInputEvent(a.priorityIndex+1,o,l,u,h,d)},setPointerCapture:(o,l)=>{this._setPointerCapture(s,a,o,l)},setEventCallback:o=>{a.eventCallback=o},setUninstallCallback:o=>{a.uninstallCallback=o},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const i=this._nameToGroup[e];i?(i.handlers.forEach(r=>{var s;r.removed=!0,(s=r.uninstallCallback)==null||s.call(r)}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):W.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const s=this._handlers[r];s.priorityIndex=r,this._handlersPriority.push(s)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const s=this._handlersPriority[r];s.priorityIndex=r;let n=s.handler.hasSideEffects;if(!n){for(const a of s.handler.outgoingEventTypes)if(e.has(a)){n=!0;break}}if(n)for(const a of s.handler.incomingEventMatches){e.add(a.eventType);for(const o of a.keyModifiers)J2e(o)||i.add(o)}s.active=n}this._sourceEvents=e,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,i,r){this._latestPointerType=e;const s=this._get("latestPointerLocation");if(s==null||s.x!==i||s.y!==r){const n=this._propertiesPool.get("latestPointerLocation");n.x=i,n.y=r,this._set("latestPointerLocation",n)}}_onEventReceived(e,i){if(e==="pointer-capture-lost"){const n=i;this._pointerCaptures.delete(n.native.pointerId)}this._updateKeyModifiers(e,i);const r=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,s=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(e,i,r,s)}_updateKeyModifiers(e,i){if(!i)return;let r=!1;const s=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},n=(o,l)=>{l&&!this._activeKeyModifiers.has(o)?(s(),this._activeKeyModifiers.add(o)):!l&&this._activeKeyModifiers.has(o)&&(s(),this._activeKeyModifiers.delete(o))};if(e==="key-down"||e==="key-up"){const o=i.key;this._keyModifiers.has(o)&&n(o,e==="key-down")}const a=i.native;n("Alt",!!(a!=null&&a.altKey)),n("Control",!!(a!=null&&a.ctrlKey)),n("Ctrl",!!(a!=null&&a.ctrlKey)),n("Shift",!!(a!=null&&a.shiftKey)),n("Meta",!!(a!=null&&a.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new K2e((e,i,r)=>this._setLatestPointer(e,i,r)),this._multiTouchHandler=new ewe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],rd.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,rd.INTERNAL)}_setPointerCapture(e,i,r,s){const n=e.name+"-"+i.priorityIndex,a=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,a),s?(a.add(n),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):a.has(n)&&(a.delete(n),a.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,i,r,s){this._emitInputEvent(0,e,i,r,s)}_emitInputEvent(e,i,r,s,n,a){const o=s!==void 0?s:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=n!==void 0&&n,u={event:new iwe(i,r,o,a||this._activeKeyModifiers,l),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(u):this._doNewPropagation(u)}_doNewPropagation(e){this._currentPropagation={events:new qw,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){var i,r,s;this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:n,priorityIndex:a}=e.events.pop(),o=(i=n.data)==null?void 0:i.eventId;if(!(o!=null&&this._stoppedPropagationEventIds.has(o)))for(e.currentHandler=this._handlersPriority[a];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!n.shouldStopPropagation()&&((s=(r=e.currentHandler).eventCallback)==null||s.call(r,n)),n.shouldStopPropagation()){o!=null&&this._stoppedPropagationEventIds.add(o);break}if(n.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:n,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const i=new qw;i.push(e);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,i){if(e.handler.hasSideEffects!==i.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==i.groupPriority)return e.groupPriority>i.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const s of i.handler.incomingEventMatches){if(r.eventType!==s.eventType)continue;const n=r.keyModifiers.filter(a=>s.keyModifiers.includes(a));if(n.length===r.keyModifiers.length!=(n.length===s.keyModifiers.length))return r.keyModifiers.length>s.keyModifiers.length?-1:1}return e.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(e){const i=[];for(const r of e){let s=0;for(;s<i.length&&this._compareHandlerPriority(r,i[s])>=0;)s++;i.splice(s,0,r)}return i}get debug(){const e=i=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=r};return{injectEvent:(i,r)=>{e(()=>this._onEventReceived(i,r))},disablePointerCapture:e}}};c([f({readOnly:!0})],ga.prototype,"hasPendingInputs",null),c([f({constructOnly:!0})],ga.prototype,"eventSource",void 0),c([f({constructOnly:!0})],ga.prototype,"recognizers",void 0),c([f()],ga.prototype,"_latestPointerType",void 0),c([f()],ga.prototype,"latestPointerType",null),c([f()],ga.prototype,"multiTouchActive",null),c([f({readOnly:!0})],ga.prototype,"latestPointerLocation",void 0),c([f()],ga.prototype,"_paused",void 0),c([f({readOnly:!0})],ga.prototype,"updating",null),ga=c([E("esri.views.input.InputManager")],ga);let iwe=class{constructor(e,i,r,s,n){this.type=e,this.data=i,this.timestamp=r,this.modifiers=s,this.cancelable=n,this._propagationState=df.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=df.STOPPED}shouldStopPropagation(){return(this._propagationState&df.STOPPED)!==0}defer(e){this._propagationState|=df.PAUSED;const i=(r,s)=>{this._propagationState&=~df.PAUSED;const n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),s)throw r;return r};return(typeof e=="function"?e():e).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(e){return!!(this._propagationState&df.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}};var df;(function(t){t[t.NONE=0]="NONE",t[t.STOPPED=1]="STOPPED",t[t.PAUSED=2]="PAUSED"})(df||(df={}));const rd={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let rwe=class{};const swe=rwe;function Od(t){return t!=null&&"open"in t&&"declaredClass"in t}function nz(t){return t!=null&&"declaredClass"in t&&"dockOptions"in t}const nwe=t=>{let e=class extends t{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([Y(()=>[this.ui,this.popup],([i,r],s)=>{const n="popup",a="manual";if(s){const[o,l]=s;o&&Od(l)&&(l.view=null,nz(l)&&(o.remove(l,n),l!==r&&r&&l.destroy()))}i&&Od(r)&&(r.view=this,nz(r)&&i.add(r,{key:n,position:a,internal:!0}))},zs),this.on("click",i=>{this.popup&&this.popupEnabled&&(i.pointerType!=="mouse"||i.button===0)&&(Od(this.popup)?this.popup.viewModel.handleViewClick(i):i.defer(async()=>{await this.setupPopup(),Od(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(i)}))},rd.WIDGET)]),cd(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{R(()=>import("./Popup-hmOcQMaP.js"),__vite__mapDeps([241,242,243]))})}destroy(){this.destroyed||this.closePopup()}async openPopup(i){if(Od(this.popup))return this.popup.open(i);try{if(await this.setupPopup(),!this.popup)return void W.getLogger(this).error(new P("view:null-popup","Popup is null and can't be opened"));this.popup.open(i)}catch{}}closePopup(){var i;(i=this._popupSetupTask)==null||i.abort(),Od(this.popup)&&this.popup.close()}async fetchPopupFeatures(i,r){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(i,r),r)}async setupPopup(){var i;if((i=this._popupSetupTask)==null||i.abort(),this.popup&&!Od(this.popup))return this._popupSetupTask=mh(async r=>{const{default:s}=await R(()=>import("./Popup-hmOcQMaP.js"),__vite__mapDeps([241,242,243]));if(ze(r),!this.popup||Od(this.popup))return;const n=this.popup;delete n.open,delete n.close,this.popup=new s(n)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:i,hits:r},s){const n=[],a=[];let o=!1;const l=Zfe(s,q("popup-view-fetch-timeout")??owe),u=p=>{const m=new awe(p);return a.push(m),n.push(m.promise),m},d=p=>{const m=a.at(-1);return m&&m.layerView===p&&!o?m:u(p)};for(const p of r)"graphic"in p?(d(p.layerView).graphics.push(p.graphic),o=!1):(n.push(p.layerView.fetchPopupFeaturesAtLocation(p.mapPoint,l)),o=!0);a.map(p=>p.resolve(l));const h=Wfe(n).then(p=>p.filter(m=>!!m).flat());return{pendingFeatures:n,allGraphicsPromise:h,location:i}}async _getPopupHits(i,r){const{hits:s,location:n}=await this.popupHitTest(i);ze(r);const a=[];for(const o of s)if("graphic"in o){if(this._isValidPopupGraphic(o.graphic,r)){const l=this._isValidPopupGraphicsLayerView(o.layerView)?o.layerView:void 0;a.push({graphic:o.graphic,layerView:l})}}else this._isValidPopupLocationLayerView(o.layerView)&&a.push({mapPoint:o.mapPoint,layerView:o.layerView});return{hits:a,location:n}}_isValidPopupGraphic(i,r){return i&&!!i.getEffectivePopupTemplate(r==null?void 0:r.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(i){return!i||(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesFromGraphics"in i}_isValidPopupLocationLayerView(i){return(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesAtLocation"in i}};return c([f()],e.prototype,"popup",void 0),c([f()],e.prototype,"popupEnabled",void 0),e=c([E("esri.views.PopupView")],e),e};let awe=class{constructor(e){this.layerView=e,this._resolver=Mn(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:i,graphics:r,_resolver:s}=this;if(!i)return s.resolve(r),s.promise;let n;return i.fetchPopupFeaturesFromGraphics(r,e).catch(a=>(n=a,null)).then(a=>{a?s.resolve(a):s.reject(n)}),s.promise}};const owe=5e3;function hd(t,e,i=K){return e||(e=new i),e===t||(e.removeAll(),lwe(t)?e.addMany(t):t&&e.add(t)),e}function uK(t){return t}function lwe(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}var ff;(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(ff||(ff={}));let cwe=class{constructor(){this._resolver=Mn(),this._status=ff.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=ff.RESOLVED,this._cleanUp()},()=>{this._status=ff.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===ff.RESOLVED}isRejected(){return this._status===ff.REJECTED}isFulfilled(){return this._status!==ff.PENDING}abort(){this._resolver.reject(jt())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=Mn(),i=[...this._resolvingPromises,e.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||tr(s)||this._resolver.reject(s)}),e.resolve()}};const dK=t=>{let e=class extends t{constructor(...i){super(...i),this._promiseProps=new cwe,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return e=c([E("esri.core.Promise")],e),e};let qo=class extends dK(ce){};qo=c([E("esri.core.Promise")],qo),function(t){t.EsriPromiseMixin=dK}(qo||(qo={}));const uwe="not-loaded",dwe="loading",fwe="failed",az="loaded",fK=t=>{let e=class extends t{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=n=>{const a=new Promise((o,l)=>{const u=MP(n,l);this.destroyed&&l(new P("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(o,l).finally(()=>{u&&u.remove()})});if(this.loadStatus===uwe){this._set("loadStatus",dwe);const o=this._loadController=new AbortController;s({signal:o.signal})}return r(),a}})),this.when(()=>{this._set("loadStatus",az),this._loadController=null},r=>{this._set("loadStatus",fwe),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=bs(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===az}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new P("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return c([f({readOnly:!0})],e.prototype,"loaded",null),c([f({readOnly:!0})],e.prototype,"loadError",void 0),c([f({clonable:!1})],e.prototype,"loadStatus",void 0),c([f({type:[ca],readOnly:!0})],e.prototype,"loadWarnings",null),e=c([E("esri.core.Loadable")],e),e};let lr=class extends fK(qo){};lr=c([E("esri.core.Loadable")],lr),function(t){function e(i){return!(!i||!i.load)}t.LoadableMixin=fK,t.isLoadable=e}(lr||(lr={}));async function Z7(t,e){return await t.load(),hwe(t,e)}async function hwe(t,e){const i=[],r=(...n)=>{for(const a of n)a!=null&&(Array.isArray(a)?r(...a):K.isCollection(a)?a.forEach(o=>r(o)):lr.isLoadable(a)&&i.push(a))};e(r);let s=null;if(await U2e(i,async n=>{const a=await W7(pwe(n)?n.loadAll():n.load());a.ok!==!1||s||(s=a)}),s)throw s.error;return t}function pwe(t){return"loadAll"in t&&typeof t.loadAll=="function"}let i5;function mwe(t){return i5&&!i5.destroyed||(i5=t()),i5}var rE;const ywe=new Ie({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Oi=rE=class extends ce{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new rE({categories:this.categories?z(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i=[];this.categories&&(i=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a));let r="";if(this.extent){const a=A7(this.extent,le.WGS84);a!=null&&(r=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let s=this.query;!this.disableExtraQuery&&t.extraQuery&&(s="("+s+")"+t.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(a=>ywe.toJSON(a.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...e,...n}}}};c([f()],Oi.prototype,"categories",void 0),c([f()],Oi.prototype,"disableExtraQuery",void 0),c([f({type:qe})],Oi.prototype,"extent",void 0),c([f()],Oi.prototype,"filter",void 0),c([f()],Oi.prototype,"num",void 0),c([f()],Oi.prototype,"query",void 0),c([f()],Oi.prototype,"sortField",void 0),c([f()],Oi.prototype,"sortOrder",null),c([f()],Oi.prototype,"start",void 0),Oi=rE=c([E("esri.portal.PortalQueryParams")],Oi);var sE;let ki=sE=class extends B{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const t=this.url,e=this.thumbnail;return t&&e&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const i=e.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new P("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new sE({sourceJSON:t});return e.read(t),e}queryItems(t,e){let i=Ft(Oi,t);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new Oi,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new Oi,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,e))}_fetchCategorySchemaSet(t,e){const i=this.portal;return i.fetchSelf(i.authMode,!0,e).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new Oi({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,e)}throw new P("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new Oi({num:1,query:`typekeywords:"${t}"`});return s.queryItems(n,e)}throw new P("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",e).then(s=>{const n=s==null?void 0:s.categorySchema;return n!=null&&n.length?n:[]}):[])}};c([f()],ki.prototype,"access",void 0),c([f({type:Date})],ki.prototype,"created",void 0),c([f()],ki.prototype,"description",void 0),c([f()],ki.prototype,"id",void 0),c([f()],ki.prototype,"isInvitationOnly",void 0),c([f({type:Date})],ki.prototype,"modified",void 0),c([f()],ki.prototype,"owner",void 0),c([f()],ki.prototype,"portal",void 0),c([f()],ki.prototype,"snippet",void 0),c([f()],ki.prototype,"sortField",void 0),c([f()],ki.prototype,"sortOrder",void 0),c([f()],ki.prototype,"sourceJSON",void 0),c([f()],ki.prototype,"tags",void 0),c([f()],ki.prototype,"thumbnail",void 0),c([f({readOnly:!0})],ki.prototype,"thumbnailUrl",null),c([f()],ki.prototype,"title",void 0),c([f({readOnly:!0})],ki.prototype,"url",null),ki=sE=c([E("esri.portal.PortalGroup")],ki);let Xh=class extends ce{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};c([f()],Xh.prototype,"nextQueryParams",void 0),c([f()],Xh.prototype,"queryParams",void 0),c([f()],Xh.prototype,"results",void 0),c([f()],Xh.prototype,"total",void 0),Xh=c([E("esri.portal.PortalQueryResult")],Xh);let su=class extends B{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const e=(i=this.portal)==null?void 0:i.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new P("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};c([f({type:Date})],su.prototype,"created",void 0),c([f()],su.prototype,"id",void 0),c([f()],su.prototype,"portal",void 0),c([f()],su.prototype,"title",void 0),c([f({readOnly:!0})],su.prototype,"url",null),c([f()],su.prototype,"username",void 0),su=c([E("esri.portal.PortalFolder")],su);var nE;let kt=nE=class extends B{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,i=t==null?void 0:t.data,r=t==null?void 0:t.folder,s={method:"post"};e&&(s.query=e.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(a=>(e.id=a.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let i=this.userContentUrl;t.ownerFolder&&(i+="/"+t.ownerFolder);const r=e?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${t.id}/delete`,{method:"post",query:r}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=t.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:e}},a=await this.portal.request(i,n);for(const o of a.results){const l=t.find(h=>o.itemId===h.id),u=o.success;let d=null;u?(l.id=null,l.portal=null):o.error&&(d=new P("portal:delete-item-failed",o.error.message,o.error)),r.push({item:l,success:u,error:d})}}return r}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let i;return i=e&&e.folders?e.folders.map(r=>{const s=su.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(i=>{const r=ki.fromJSON(i);return r.portal=this.portal,r}):[],e})}async fetchItems(t){t??(t={});let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:i}=await R(()=>Promise.resolve().then(()=>hK),void 0),r={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},s=await this.portal.request(e,{query:r});let n;return s!=null&&s.items?(n=s.items.map(a=>{const o=i.fromJSON(a);return o.portal=this.portal,o}),await Promise.all(n.map(a=>a.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new ki({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new P("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const i=this.userContentUrl,r=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(i+`/items/${t.id}/restore`,{method:"post",query:r})}toJSON(){throw new P("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new nE({sourceJSON:t});return e.read(t),e}};c([f()],kt.prototype,"access",void 0),c([f({type:Date})],kt.prototype,"created",void 0),c([f()],kt.prototype,"culture",void 0),c([f()],kt.prototype,"description",void 0),c([f()],kt.prototype,"email",void 0),c([f()],kt.prototype,"favGroupId",void 0),c([f()],kt.prototype,"fullName",void 0),c([f()],kt.prototype,"id",void 0),c([f({type:Date})],kt.prototype,"modified",void 0),c([f()],kt.prototype,"orgId",void 0),c([f()],kt.prototype,"portal",void 0),c([f()],kt.prototype,"preferredView",void 0),c([f()],kt.prototype,"privileges",void 0),c([f()],kt.prototype,"region",void 0),c([f()],kt.prototype,"role",void 0),c([f()],kt.prototype,"roleId",void 0),c([f()],kt.prototype,"sourceJSON",void 0),c([f()],kt.prototype,"thumbnail",void 0),c([f({readOnly:!0})],kt.prototype,"thumbnailUrl",null),c([f()],kt.prototype,"units",void 0),c([f({readOnly:!0})],kt.prototype,"userContentUrl",null),c([f({readOnly:!0})],kt.prototype,"url",null),c([f()],kt.prototype,"username",void 0),c([f()],kt.prototype,"userLicenseTypeId",void 0),c([f()],kt.prototype,"userType",void 0),kt=nE=c([E("esri.portal.PortalUser")],kt);var Dn;let Q1;const oz={PortalGroup:()=>Promise.resolve({default:ki}),PortalItem:()=>R(()=>Promise.resolve().then(()=>hK),void 0),PortalUser:()=>Promise.resolve({default:kt})};var Wl;let ie=(Wl=class extends B.JSONSupportMixin(lr){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ut.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){lz.unregister(this),this.defaultBasemap=Lt(this.defaultBasemap),this.defaultDevBasemap=Lt(this.defaultDevBasemap),this.defaultVectorBasemap=Lt(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=oi(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const i of e)ut.request.trustedServers.includes(i)||ut.request.trustedServers.push(i);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,i=!e||this.canSearchPublic;return this.id&&!i?` AND orgid:${this.id}`:null}get hasAPIKey(){return Dme(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const i=e.indexOf("/sharing");e=i>0?e.slice(0,i):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,i=this.thumbnail;return e&&i?this._normalizeSSL(e+"/portals/self/resources/"+i):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let i=null;return e&&(i=kt.fromJSON(e),i.portal=this),i}load(e){const i=R(()=>Promise.resolve().then(()=>Vwe),void 0).then(({default:r})=>{ze(e),Q1=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var s;if(!this.hasAPIKey&&Pe){const n=Pe;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Dn.AUTH_MODE_AUTO&&this.authMode!==Dn.AUTH_MODE_NO_PROMPT||((s=this._esriIdCredentialCreateHandle)==null||s.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",gwe(new WeakRef(this))),lz.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),i=(await R(async()=>{const{default:r}=await import("./ElevationLayer-BaEbTkQp.js");return{default:r}},__vite__mapDeps([244,245,246,247,248]))).default;return e?e.map(r=>new i({id:r.id,url:r.url})):[]}async fetchBasemaps(e,i){const r=await this._fetchBasemaps(e,i);if((i==null?void 0:i.include3d)===!0&&this.use3dBasemaps!==!1){const s=await this._fetchBasemaps3D(e,i);r.unshift(...s)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const i=new Oi;i.query=this.default3DBasemapQuery,i.disableExtraQuery=!0;const r=(await this.queryItems(i,e)).results.find(s=>s.type==="Web Scene");return r?new Q1({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(i=>i.categorySchema):Ya(e)?Promise.reject(jt()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(i=>i.classificationSchema):null}fetchFeaturedGroups(e){const i=this.featuredGroups,r=new Oi({num:100,sortField:"title"});if(i!=null&&i.length){const s=[];for(const n of i)s.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then(n=>n.results)}return Ya(e)?Promise.reject(jt()):Promise.resolve([])}fetchRegions(e){var r;const i=((r=this.user)==null?void 0:r.culture)||this.culture||Tn();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:i}})}fetchSettings(e){var r;const i=((r=this.user)==null?void 0:r.culture)||this.culture||Tn();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:i}})}static getDefault(){return mwe(()=>new Dn)}queryGroups(e,i){return this.queryPortal("/community/groups",e,"PortalGroup",i)}queryItems(e,i){return this.queryPortal("/search",e,"PortalItem",i)}queryUsers(e,i){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",i)}fetchSelf(e=this.authMode,i=!1,r){const s=this.restUrl+"/portals/self",n={authMode:e,query:{culture:Tn().toLowerCase()},withCredentials:!0,...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),i&&(n.query.default=!0),this.request(s,n)}queryPortal(e,i,r,s){const n=Ft(Oi,i),a=o=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...s}).then(l=>{const u=n.clone();return u.start=l.nextStart,new Xh({nextQueryParams:u,queryParams:n,total:l.total,results:Dn._resultsToTypedArray(o,{portal:this},l,s)})}).then(l=>Promise.all(l.results.map(u=>typeof u.when=="function"?u.when():l)).then(()=>l,u=>(Nl(u),l)));return r&&oz[r]?oz[r]().then(({default:o})=>(ze(s),a(o))):a()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new P("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Dn.AUTH_MODE_ANONYMOUS||this.authMode===Dn.AUTH_MODE_NO_PROMPT&&!Pe)return Promise.reject(new P("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=i=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(i||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=i,this.fetchSelf("immediate"))):this.user&&this.credential===i?null:(this.credential=i,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Pe?Pe.getCredential(this.restUrl,{prompt:this.authMode!==Dn.AUTH_MODE_NO_PROMPT}).then(i=>e(i)):e(this.credential)}normalizeUrl(e){var r;const i=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(i?e+(e.includes("?")?"&":"?")+"token="+i:e)}requestToTypedArray(e,i,r){return this.request(e,i).then(s=>{const n=Dn._resultsToTypedArray(r,{portal:this},s);return Promise.all(n.map(a=>typeof a.when=="function"?a.when():s)).then(()=>n,()=>n)})}request(e,i={}){const r={f:"json",...i.query},{authMode:s=this.authMode===Dn.AUTH_MODE_ANONYMOUS||this.authMode===Dn.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:a=!1,method:o="auto",responseType:l="json",signal:u}=i,d={authMode:s,body:n,cacheBust:a,method:o,query:r,responseType:l,timeout:0,signal:u};return i.withCredentials&&(d.withCredentials=!0),it(this._normalizeSSL(e),d).then(h=>h.data)}toJSON(){throw new P("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Dn({sourceJSON:e})}_getHelperService(e){const i=this.helperServices&&this.helperServices[e];if(!i)throw new P("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return i}async _fetchBasemaps(e,i){const r=new Oi;r.query=e||(mI()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const s=await this.queryGroups(r,i);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const a=await n.queryItems(r,i);return a.total?a.results.filter(o=>o.type==="Web Map").map(o=>new Q1({portalItem:o})):[]}async _fetchBasemaps3D(e,i){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];if(mI())return[];const s=new Oi({query:r,disableExtraQuery:!0}),n=await this.queryGroups(s,i);if(!n.total)return[];const a=n.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=a.sortField||"name",s.sortOrder=a.sortOrder||"desc";const o=await a.queryItems(s,i);return o.total?o.results.filter(l=>l.type==="Web Scene").map(l=>new Q1({portalItem:l})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const i=Q1.fromJSON(e);return i.portalItem={portal:this},i}return null}static _resultsToTypedArray(e,i,r,s){let n;if(r){const a=s!=null?s.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||i)&&(n=n.map(o=>{const l=Object.assign(e?e.fromJSON(o):o,i);return typeof l.load=="function"&&l.load(a),l}))}else n=[];return n}},Dn=Wl,Wl.AUTH_MODE_ANONYMOUS="anonymous",Wl.AUTH_MODE_AUTO="auto",Wl.AUTH_MODE_IMMEDIATE="immediate",Wl.AUTH_MODE_NO_PROMPT="no-prompt",Wl);c([f()],ie.prototype,"access",void 0),c([f()],ie.prototype,"allSSL",void 0),c([f()],ie.prototype,"authMode",void 0),c([f()],ie.prototype,"authorizedCrossOriginDomains",void 0),c([te("authorizedCrossOriginDomains")],ie.prototype,"readAuthorizedCrossOriginDomains",null),c([f()],ie.prototype,"basemapGalleryGroupQuery",void 0),c([f({json:{name:"3DBasemapGalleryGroupQuery"}})],ie.prototype,"basemapGalleryGroupQuery3D",void 0),c([f()],ie.prototype,"bingKey",void 0),c([f()],ie.prototype,"canListApps",void 0),c([f()],ie.prototype,"canListData",void 0),c([f()],ie.prototype,"canListPreProvisionedItems",void 0),c([f()],ie.prototype,"canProvisionDirectPurchase",void 0),c([f()],ie.prototype,"canSearchPublic",void 0),c([f()],ie.prototype,"canShareBingPublic",void 0),c([f()],ie.prototype,"canSharePublic",void 0),c([f()],ie.prototype,"canSignInArcGIS",void 0),c([f()],ie.prototype,"canSignInIDP",void 0),c([f()],ie.prototype,"colorSetsGroupQuery",void 0),c([f()],ie.prototype,"commentsEnabled",void 0),c([f({type:Date})],ie.prototype,"created",void 0),c([f()],ie.prototype,"credential",void 0),c([f()],ie.prototype,"culture",void 0),c([f()],ie.prototype,"currentVersion",void 0),c([f()],ie.prototype,"customBaseUrl",void 0),c([f()],ie.prototype,"default3DBasemapQuery",void 0),c([f()],ie.prototype,"defaultBasemap",void 0),c([te("defaultBasemap")],ie.prototype,"readDefaultBasemap",null),c([f()],ie.prototype,"defaultDevBasemap",void 0),c([te("defaultDevBasemap")],ie.prototype,"readDefaultDevBasemap",null),c([f({type:qe})],ie.prototype,"defaultExtent",void 0),c([f()],ie.prototype,"defaultVectorBasemap",void 0),c([te("defaultVectorBasemap")],ie.prototype,"readDefaultVectorBasemap",null),c([f()],ie.prototype,"description",void 0),c([f()],ie.prototype,"devBasemapGalleryGroupQuery",void 0),c([f()],ie.prototype,"eueiEnabled",void 0),c([f({readOnly:!0})],ie.prototype,"extraQuery",null),c([f()],ie.prototype,"featuredGroups",void 0),c([f()],ie.prototype,"featuredItemsGroupQuery",void 0),c([f()],ie.prototype,"galleryTemplatesGroupQuery",void 0),c([f()],ie.prototype,"layoutGroupQuery",void 0),c([f()],ie.prototype,"livingAtlasGroupQuery",void 0),c([f({readOnly:!0})],ie.prototype,"hasAPIKey",null),c([f()],ie.prototype,"hasCategorySchema",void 0),c([f()],ie.prototype,"hasClassificationSchema",void 0),c([f()],ie.prototype,"helpBase",void 0),c([f()],ie.prototype,"helperServices",void 0),c([f()],ie.prototype,"helpMap",void 0),c([f()],ie.prototype,"homePageFeaturedContent",void 0),c([f()],ie.prototype,"homePageFeaturedContentCount",void 0),c([f()],ie.prototype,"httpPort",void 0),c([f()],ie.prototype,"httpsPort",void 0),c([f()],ie.prototype,"id",void 0),c([f()],ie.prototype,"ipCntryCode",void 0),c([f({readOnly:!0})],ie.prototype,"isOrganization",null),c([f()],ie.prototype,"isPortal",void 0),c([f()],ie.prototype,"isReadOnly",void 0),c([f({readOnly:!0})],ie.prototype,"itemPageUrl",null),c([f()],ie.prototype,"layerTemplatesGroupQuery",void 0),c([f()],ie.prototype,"maxTokenExpirationMinutes",void 0),c([f({type:Date})],ie.prototype,"modified",void 0),c([f()],ie.prototype,"name",void 0),c([f()],ie.prototype,"portalHostname",void 0),c([f()],ie.prototype,"portalMode",void 0),c([f()],ie.prototype,"portalProperties",void 0),c([f()],ie.prototype,"region",void 0),c([f()],ie.prototype,"recycleBinEnabled",void 0),c([f({readOnly:!0})],ie.prototype,"restUrl",null),c([f()],ie.prototype,"rotatorPanels",void 0),c([f()],ie.prototype,"showHomePageDescription",void 0),c([f()],ie.prototype,"sourceJSON",void 0),c([f()],ie.prototype,"staticImagesUrl",void 0),c([f({json:{name:"2DStylesGroupQuery"}})],ie.prototype,"stylesGroupQuery2d",void 0),c([f({json:{name:"stylesGroupQuery"}})],ie.prototype,"stylesGroupQuery3d",void 0),c([f()],ie.prototype,"supportsHostedServices",void 0),c([f()],ie.prototype,"symbolSetsGroupQuery",void 0),c([f()],ie.prototype,"templatesGroupQuery",void 0),c([f()],ie.prototype,"thumbnail",void 0),c([f({readOnly:!0})],ie.prototype,"thumbnailUrl",null),c([f()],ie.prototype,"units",void 0),c([f()],ie.prototype,"url",void 0),c([f()],ie.prototype,"urlKey",void 0),c([te("urlKey")],ie.prototype,"readUrlKey",null),c([f()],ie.prototype,"user",void 0),c([te("user")],ie.prototype,"readUser",null),c([f()],ie.prototype,"use3dBasemaps",void 0),c([f()],ie.prototype,"useDefault3dBasemap",void 0),c([f()],ie.prototype,"useStandardizedQuery",void 0),c([f()],ie.prototype,"useVectorBasemaps",void 0),c([f()],ie.prototype,"vectorBasemapGalleryGroupQuery",void 0),ie=Dn=c([E("esri.portal.Portal")],ie);const lz=new FinalizationRegistry(t=>{t.remove()});function gwe(t){const e=Pe;return()=>{const i=t.deref();i&&e.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let nu=class extends ce{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e!=null&&e.portalItem&&e.path?{...e,path:cz(e.path,e.portalItem)}:e}set path(e){e!=null&&$n(e)?W.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return cz(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",i){const r=this.cdnUrl;if(r==null)throw new P("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey,_ts:i!=null&&i.cacheBust?Date.now():null},signal:i==null?void 0:i.signal})}async update(e,i){const{addOrUpdateResources:r}=await R(()=>import("./resourceUtils-CAyfhQPj.js"),[]);return await r(this.portalItem,[{resource:this,content:e,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function cz(t,e){return t==null?t:(t=t.replace(/^\/+/,""),e!=null&&$n(t)&&(t=JP(t,e.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}c([f()],nu.prototype,"portalItem",void 0),c([f({type:String,value:null})],nu.prototype,"path",null),c([Xe("path")],nu.prototype,"_castPath",null),c([f({type:String,readOnly:!0})],nu.prototype,"url",null),c([f({type:String,readOnly:!0})],nu.prototype,"cdnUrl",null),c([f({type:String,readOnly:!0})],nu.prototype,"itemRelativeUrl",null),nu=c([E("esri.portal.PortalItemResource")],nu);let Kp=class extends ce{constructor(e){super(e),this.created=null,this.rating=null}};c([f({type:Date})],Kp.prototype,"created",void 0),c([f()],Kp.prototype,"rating",void 0),Kp=c([E("esri.portal.PortalRating")],Kp);var Qh;const bwe=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),vwe=new Set(["KML","GeoJson","CSV"]);let ke=Qh=class extends B.JSONSupportMixin(lr){static from(t){return o1(Qh,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return t==="Feature Service"||t==="Feature Collection"?i=e.includes("Table")?"Table":e.includes("Route Layer")?"Route Layer":e.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?i=e.includes("Elevation 3D Layer")?"Elevation Layer":e.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?i="Scene Layer":t==="Video Service"?i="Video Layer":t==="Scene Package"?i="Scene Layer Package":t==="Stream Service"?i="Feature Layer":t==="Geoprocessing Service"?i=e.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geoenrichment Service"?i="GeoEnrichment Service":t==="Geocoding Service"?i="Locator":t==="Microsoft Powerpoint"?i="Microsoft PowerPoint":t==="GeoJson"?i="GeoJSON":t==="Globe Service"?i="Globe Layer":t==="Vector Tile Service"?i="Tile Layer":t==="netCDF"?i="NetCDF":t==="Map Service"?i=e.includes("Spatiotemporal")||!e.includes("Hosted Service")&&!e.includes("Tiled")||e.includes("Relational")?"Map Image Layer":"Tile Layer":t!=null&&t.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):t==="datastore catalog service"?i="Big Data File Share":t==="Compact Tile Package"?i="Tile Package (tpkx)":t==="Raster function template"?i="Raster Function Template":t==="OGCFeatureServer"?i="OGC Feature Layer":t==="web mapping application"&&e.includes("configurableApp")?i="Instant App":t==="Insights Page"?i="Insights Report":t==="Excalibur Imagery Project"?i="Excalibur Project":t==="3DTiles Service"?i="3D tiles layer":t==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(t){return t&&t.length?new qe(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){var m;const t=((m=this.type)==null?void 0:m.toLowerCase())||"",e=this.typeKeywords||[],i="esri/images/portal/",r="16";let s,n=!1,a=!1,o=!1,l=!1,u=!1,d=!1,h=!1,p=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(n=e.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(a=e.includes("Table"),o=e.includes("Route Layer"),l=e.includes("Markup"),u=e.includes("Spatiotemporal"),d=e.includes("UtilityNetwork"),s=u&&a?"spatiotemporaltable":a?"table":o?"routelayer":l?"markup":u?"spatiotemporal":d?"utilitynetwork":n?"featureshosted":"features"):t==="map service"||t==="wms"||t==="wmts"?(u=e.includes("Spatiotemporal"),h=e.includes("Relational"),s=u||h?"mapimages":n||e.includes("Tiled")||t==="wmts"?"maptiles":"mapimages"):s=t==="scene service"?e.includes("Line")?"sceneweblayerline":e.includes("3DObject")?"sceneweblayermultipatch":e.includes("Point")?"sceneweblayerpoint":e.includes("IntegratedMesh")?"sceneweblayermesh":e.includes("PointCloud")?"sceneweblayerpointcloud":e.includes("Polygon")?"sceneweblayerpolygon":e.includes("Building")?"sceneweblayerbuilding":e.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":t==="image service"?e.includes("Elevation 3D Layer")?"elevationlayer":e.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?"streamlayer":t==="vector tile service"?"vectortile":t==="datastore catalog service"?"datastorecollection":t==="geocoding service"?"geocodeservice":t==="video service"?e.includes("Live Stream")?"livestreamvideolayer":"videolayer":t==="geoprocessing service"?e.includes("Web Tool")?"tool":"layers":t==="geodata service"?"geodataservice":t==="3dtiles service"?e.includes("3DObject")?"3dobjecttileslayer":e.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):t==="web map"||t==="cityengine web scene"?s="maps":t==="web scene"?s=e.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&e.includes("configurableApp")?s="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?s="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&e.includes("ArcGIS Pro")||t==="explorer map"&&e.indexOf("Explorer Document")?s="mapsgray":t==="service definition"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="netcdf"||t==="administrative report"?s="datafiles":t==="360 vr experience"?s="360vr":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?s="appsgray":t==="arcgis pro add in"||t==="arcgis pro configuration"?s="addindesktop":t==="pdf"?s="pdf":t==="microsoft word"?s="word":t==="microsoft excel"?s="excel":t==="microsoft powerpoint"?s="ppt":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="workflow manager package"||t==="explorer map"&&e.includes("Explorer Mapping Application")||e.includes("Document")?s="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?s="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?s="layersgray":t==="analysis model"?s="analysismodel":t==="scene package"?s="scenepackage":t==="3dtiles package"?s="3dtileslayerpackage":t==="3dtiles service"?s="3dtileslayer":t==="mobile scene package"?s="mobilescenepackage":t==="tile package"||t==="compact tile package"?s="tilepackage":t==="task file"?s="taskfile":t==="report template"?s="report-template":t==="statistical data collection"?s="statisticaldatacollection":t==="insights workbook"?s="workbook":t==="insights model"?s="insightsmodel":t==="insights page"?s="insightspage":t==="insights theme"?s="insightstheme":t==="hub initiative"?s="hubinitiative":t==="hub page"?s="hubpage":t==="hub site application"?s="hubsite":t==="hub event"?s="hubevent":t==="hub project"?s="hubproject":t==="relational database connection"?s="relationaldatabaseconnection":t==="big data file share"?s="datastorecollection":t==="image collection"?s="imagecollection":t==="desktop style"?s="desktopstyle":t==="style"?s=e.includes("Dictionary")?"dictionarystyle":"style":t==="dashboard"?s="dashboard":t==="raster function template"?s="rasterprocessingtemplate":t==="vector tile package"?s="vectortilepackage":t==="ortho mapping project"?s="orthomappingproject":t==="ortho mapping template"?s="orthomappingtemplate":t==="solution"?s="solutions":t==="geopackage"?s="geopackage":t==="deep learning package"?s="deeplearningpackage":t==="real time analytic"?s="realtimeanalytics":t==="reality mapping project"?s="realitymappingproject":t==="big data analytic"?s="bigdataanalytics":t==="feed"?s="feed":t==="excalibur imagery project"?s="excaliburimageryproject":t==="notebook"?s="notebook":t==="storymap"?s="storymap":t==="survey123 add in"?s="survey123addin":t==="mission"?s="mission":t==="mission report"?s="missionreport":t==="mission template"?s="missiontemplate":t==="quickcapture project"?s="quickcaptureproject":t==="pro report"?s="proreport":t==="pro report template"?s="proreporttemplate":t==="urban model"?s="urbanmodel":t==="urban project"?s="urbanproject":t==="web experience"?s="experiencebuilder":t==="web experience template"?s="webexperiencetemplate":t==="experience builder widget"?s="experiencebuilderwidget":t==="experience builder widget package"?s="experiencebuilderwidgetpackage":t==="workflow"?s="workflow":t==="kernel gateway connection"?s="kernelgatewayconnection":t==="insights script"?s="insightsscript":t==="hub initiative template"?s="hubinitiativetemplate":t==="storymap theme"?s="storymaptheme":t==="knowledge graph"?s="knowledgegraph":t==="knowledge graph layer"?s="knowledgegraphlayer":t==="knowledge studio project"?s="knowledgestudio":t==="native application"?s="nativeapp":t==="native application installer"?s="nativeappinstaller":t==="web link chart"?s="linkchart":t==="knowledge graph web investigation"?s="investigation":t==="ogcfeatureserver"?s="features":t==="pro presentation"?s="propresentation":t==="pro project"?s="proproject":t==="insights workbook package"?s="insightsworkbookpackage":t==="apache parquet"?s="apacheparquet":t==="notebook code snippet library"?s="notebookcodesnippets":t==="suitability model"?s="suitabilitymodel":t==="esri classifier definition"?s="classifierdefinition":t==="esri classification schema"?s="classificationschema":t==="insights data engineering workbook"?s="dataengineeringworkbook":t==="insights data engineering model"?s="dataengineeringmodel":t==="deep learning studio project"?s="deeplearningproject":t==="discussion"?s="discussion":t==="allsource project"?s="allsourceproject":t==="api key"?s="apikey":t==="data pipeline"?s="datapipelines":t==="group layer"?(p=e.includes("Map"),s=p?"layergroup2d":"layergroup"):s=t==="media layer"?"onlinemedialayer":t==="form"?e.includes("Survey123")?"survey":"datafilesgray":t==="csv"?"csv":t==="image"?"image":"maps",s?Xt(i+s+r+".png"):null}get isLayer(){return this.type!=null&&bwe.has(this.type)}get itemCdnUrl(){return eL(this.itemUrl)}get itemPageUrl(){var e;const t=(e=this.portal)==null?void 0:e.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const t=this.itemUrl,e=this.thumbnail;return t&&e?((i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`))??null:null}get userItemUrl(){var i,r,s;const t=(i=this.portal)==null?void 0:i.restUrl;if(!t)return null;const e=this.owner||((s=(r=this.portal)==null?void 0:r.user)==null?void 0:s.id);return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){const e=this.portal??(this.portal=ie.getDefault()),i=e.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?e.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){const e={method:"post",query:{}},i=t instanceof Kp?t.rating:t;return i==null||isNaN(i)||typeof t!="number"||(e.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",e),new Kp({rating:i,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:z(this.applicationProxies),avgRating:this.avgRating,categories:z(this.categories),classification:z(this.classification),created:z(this.created),culture:this.culture,description:this.description,extent:z(this.extent),groupCategories:z(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:z(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:z(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:z(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:z(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const e=new Qh({sourceJSON:this.sourceJSON}).set(t);return e._set("isOrgItem",this.isOrgItem),e}createPostQuery(){var e;const t=this.toJSON();for(const i of["tags","typeKeywords","categories"])t[i]=(e=t[i])==null?void 0:e.join(", ");for(const i of["extent","classification"]){const r=t[i];r&&(t[i]=JSON.stringify(r))}return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",e){return this.portal.request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}async fetchRating(t){const e=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return e.rating!=null?(e.created=new Date(e.created),new Kp(e)):null}fetchRelatedItems(t,e){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},Qh)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.applicationProxies&&!Object.hasOwn(t,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t==null?void 0:t.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,e!=null&&(typeof e=="string"?i.query.text=e:typeof e=="object"&&(i.query.text=JSON.stringify(e))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new P("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new P("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:e,itemUrl:i}=this;await e.signIn();const{copyResources:r,folder:s,tags:n,title:a}=t||{},o={method:"post",query:{copyPrivateResources:r==="all",folder:typeof s=="string"?s:s==null?void 0:s.id,includeResources:!!r,tags:n==null?void 0:n.join(","),title:a}},{itemId:l}=await e.request(`${i}/copy`,o);return new Qh({id:l,portal:e})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t.thumbnail,i=t.filename,r={method:"post"};if(typeof e=="string")vd(e)?r.query={data:e}:r.query={url:vn(e)},i!=null&&(r.query.filename=i);else{const s=new FormData;i!=null?s.append("file",e,i):s.append("file",e),r.body=s}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new P("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){const{fetchResources:i}=await R(()=>import("./resourceUtils-CAyfhQPj.js"),[]);return i(this,t,e)}async addResource(t,e,i){const{addOrUpdateResources:r}=await R(()=>import("./resourceUtils-CAyfhQPj.js"),[]);return t.portalItem=this,await r(this,[{resource:t,content:e,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),t}async removeResource(t,e){const{removeResource:i}=await R(()=>import("./resourceUtils-CAyfhQPj.js"),[]);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new P("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,t,e)}async removeAllResources(t){const{removeAllResources:e}=await R(()=>import("./resourceUtils-CAyfhQPj.js"),[]);return e(this,t)}resourceFromPath(t){return new nu({portalItem:this,path:t})}toJSON(){var i,r;const t=this.extent,e={accessInformation:this.accessInformation,categories:z(this.categories),classification:z(this.classification),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(r=this.modified)==null?void 0:r.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:z(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:z(this.typeKeywords),url:this.url};return wfe(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Qh({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)e==="tags"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="typeKeywords"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="extent"&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};c([f({type:["private","shared","org","public"]})],ke.prototype,"access",void 0),c([f()],ke.prototype,"accessInformation",void 0),c([f({type:String})],ke.prototype,"apiKey",void 0),c([f({json:{read:{source:"appProxies"}}})],ke.prototype,"applicationProxies",void 0),c([f()],ke.prototype,"avgRating",void 0),c([f()],ke.prototype,"categories",void 0),c([f()],ke.prototype,"classification",void 0),c([f({type:Date})],ke.prototype,"created",void 0),c([f()],ke.prototype,"culture",void 0),c([f()],ke.prototype,"description",void 0),c([f({readOnly:!0})],ke.prototype,"displayName",null),c([f({type:qe})],ke.prototype,"extent",void 0),c([te("extent")],ke.prototype,"readExtent",null),c([f()],ke.prototype,"groupCategories",void 0),c([f({readOnly:!0})],ke.prototype,"iconUrl",null),c([f()],ke.prototype,"id",void 0),c([f({readOnly:!0})],ke.prototype,"isLayer",null),c([f({type:Boolean,readOnly:!0})],ke.prototype,"isOrgItem",void 0),c([f()],ke.prototype,"itemControl",void 0),c([f({readOnly:!0})],ke.prototype,"itemPageUrl",null),c([f({readOnly:!0})],ke.prototype,"itemUrl",null),c([f()],ke.prototype,"licenseInfo",void 0),c([f({type:Date})],ke.prototype,"modified",void 0),c([f()],ke.prototype,"name",void 0),c([f()],ke.prototype,"numComments",void 0),c([f()],ke.prototype,"numRatings",void 0),c([f()],ke.prototype,"numViews",void 0),c([f()],ke.prototype,"owner",void 0),c([f()],ke.prototype,"ownerFolder",void 0),c([f({type:ie})],ke.prototype,"portal",void 0),c([f()],ke.prototype,"screenshots",void 0),c([f()],ke.prototype,"size",void 0),c([f()],ke.prototype,"snippet",void 0),c([f()],ke.prototype,"sourceJSON",void 0),c([f({type:String})],ke.prototype,"sourceUrl",void 0),c([f({type:String})],ke.prototype,"spatialReference",void 0),c([f()],ke.prototype,"tags",void 0),c([f()],ke.prototype,"thumbnail",void 0),c([f({readOnly:!0})],ke.prototype,"thumbnailUrl",null),c([f()],ke.prototype,"title",void 0),c([f()],ke.prototype,"type",void 0),c([f()],ke.prototype,"typeKeywords",void 0),c([f({type:String,json:{read(t,e){var i;if(vwe.has(e.type)){const r=(i=this.portal)==null?void 0:i.restUrl;t||(t=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return t}}})],ke.prototype,"url",void 0),c([f({readOnly:!0})],ke.prototype,"userItemUrl",null),ke=Qh=c([E("esri.portal.PortalItem")],ke);const hK=Object.freeze(Object.defineProperty({__proto__:null,get default(){return ke}},Symbol.toStringTag,{value:"Module"}));async function wwe(t){if(!t)return;const e=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await q7("esri/t9n/basemaps");return i[t]||i[e]}const Zw={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Xt("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Xt("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Xt("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return Xt("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return Xt("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return Xt("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}};let au=class extends ce{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const e=this.language;let i=e==="local"||e==="global"?e:yQ(e??Tn())??"global";return i=i==="no"?"nb":i,i}};c([f()],au.prototype,"apiKey",void 0),c([f()],au.prototype,"id",void 0),c([f()],au.prototype,"language",void 0),c([f()],au.prototype,"places",void 0),c([f()],au.prototype,"serviceUrl",void 0),c([f()],au.prototype,"worldview",void 0),au=c([E("esri.support.BasemapStyle")],au);const _we=au,r5=new WeakMap;function J7(t){return!t.destroyed&&(r5.has(t)||t.addHandles([Y(()=>{const e=t.parent;return!(!e||!("type"in e))&&(e.type==="catalog-dynamic-group"||J7(e))},e=>r5.set(t,e),zs),ht(()=>r5.delete(t))]),r5.get(t))}function uz(t,e){var o;const i=t.parent,r=t.layer;if((r==null?void 0:r.type)!=="map-image"||!r.sourceJSON||!i)return!1;const s=r.sourceJSON.layers;if(!s)return!1;const n=s.find(l=>t.id===l.id),a=e==="footprints"?"Feature Layer":"Catalog Dynamic Group Layer";return(n==null?void 0:n.type)===a&&((o=s.find(l=>l.id===i.id))==null?void 0:o.type)==="Catalog Layer"}function Swe(t){return mK(t)||Twe(t)}function pK(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function xwe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function $we(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function Twe(t){return(t==null?void 0:t.type)==="scene"}function aE(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function jl(t){return(t==null?void 0:t.type)==="subtype-sublayer"}function mK(t){const e=t==null?void 0:t.type;return e==="imagery-tile"||e==="tile"||e==="open-street-map"||e==="vector-tile"||e==="web-tile"||e==="wmts"}function Iwe(t){const e=t==null?void 0:t.type;return e==="base-tile"||e==="tile"||e==="elevation"||e==="imagery-tile"||e==="base-elevation"||e==="open-street-map"||e==="wcs"||e==="web-tile"||e==="wmts"||e==="vector-tile"}const RKe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function oE(t){const e=t==null?void 0:t.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function OKe(t){return t==="integrated-mesh"||t==="integrated-mesh-3dtiles"}function Y7(t){var e;return(t==null?void 0:t.type)==="feature"&&!t.url&&((e=t.source)==null?void 0:e.type)==="memory"}function FKe(t){var i;const e=t==null?void 0:t.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&((i=t==null?void 0:t.source)==null?void 0:i.type)==="feature-layer"}function Ewe(t){if(t.activeLayer){const e=t.activeLayer.tileMatrixSet;if(e)return e;const i=t.activeLayer.tileMatrixSets;if(i)return i}return null}async function qL(t,e){const i=Pe==null?void 0:Pe.findServerInfo(t);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const r=t.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${t.slice(0,r)}/rest/info`,n=e!=null?e.signal:null,{data:a}=await it(s,{query:{f:"json"},responseType:"json",signal:n});return(a==null?void 0:a.owningSystemUrl)||null}function yK(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function gK(t){return yK(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function Mwe(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function Cwe(t){return!!Mwe(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function NKe(t){const e=new K;for(const i of t.allLayers.concat(t.allTables))i.type==="csv"||J7(i)||("charts"in i&&e.push(i),i.type==="subtype-group"&&e.push(...i.sublayers));return e}function kwe(t,e){return null}function DKe(t){return null}function lE(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function zKe(t,e){!e||!lE(t)||kwe(t.url)}const Awe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),bK=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),Pwe=new Set([...bK,"link-chart"]);function Lwe(t){switch(t.layerContainerType){case"basemap":return Awe;case"operational-layers":return t.origin==="link-chart"?Pwe:bK;default:return null}}function Rwe(t,e){if(e.restrictedWebMapWriting){const i=Lwe(e);return i==null||i.has(t.type)&&!Y7(t)}return!0}function Owe(t,e){var i;if(e)if(Y7(t)){const r=V_("featureCollection.layers",e),s=(i=r==null?void 0:r[0])==null?void 0:i.layerDefinition;s&&dz(t,s)}else t.type!=="group"&&dz(t,e)}function dz(t,e){"maxScale"in t&&(e.maxScale=b4(t.maxScale)??void 0),"minScale"in t&&(e.minScale=b4(t.minScale)??void 0)}function Fwe(t,e){if(Owe(t,e),e&&(e.id=t.id,"blendMode"in t&&(e.blendMode=t.blendMode,e.blendMode==="normal"&&delete e.blendMode),e.opacity=b4(t.opacity)??void 0,e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&t.type!=="wmts"))if(Y7(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function cE(t,e,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i!=null&&i.messages&&i.messages.push(new P("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(Y7(t)&&!t.isTable)e=t.resourceInfo;else if(Rwe(t,i)){const r={};return t.write(r,i)?r:null}return e!=null&&Fwe(t,e=z(e)),e}var Dv;let Nwe=0,zn=Dv=class extends B.JSONSupportMixin(lr){constructor(t){super(t),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Nwe++,this.baseLayers=new K,this.referenceLayers=new K;const e=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type==="elevation"&&W.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=r=>{r.parent=null};this.addHandles([this.baseLayers.on("after-add",r=>e(r.item)),this.referenceLayers.on("after-add",r=>e(r.item)),this.baseLayers.on("after-remove",r=>i(r.item)),this.referenceLayers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(t=>{W.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.baseLayers.toArray();for(const i of t)i.destroy();const e=this.referenceLayers.toArray();for(const i of e)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=Lt(this.portalItem)}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set baseLayers(t){this._set("baseLayers",hd(t,this._get("baseLayers")))}_writeBaseLayers(t,e,i){const r=[];t&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(s=>{const n=cE(s,i.webmap?i.webmap.getLayerJSONFromResourceInfo(s):null,i);n!=null&&r.push(n)}),this.referenceLayers.forEach(s=>{const n=cE(s,i.webmap?i.webmap.getLayerJSONFromResourceInfo(s):null,i);n!=null&&(s.type!=="scene"&&(n.isReference=!0),r.push(n))})),e.baseMapLayers=r}set referenceLayers(t){this._set("referenceLayers",hd(t,this._get("referenceLayers")))}writeTitle(t,e){e.title=t||"Basemap"}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return Z7(this,t=>{t(this.baseLayers,this.referenceLayers)})}clone(){const t={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(e=>n4(e)?e.clone():e),referenceLayers:this.referenceLayers.map(e=>n4(e)?e.clone():e)};return this.loaded&&(t.loadStatus="loaded"),new Dv({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}write(t,e){var i;return t=t||{},e!=null&&e.origin||(e={origin:"web-map",...e}),super.write(t,e),!this.loaded&&((i=this.resourceInfo)!=null&&i.data.baseMapLayers)&&(t.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const s=z(r);return s.url&&Dc(s.url)&&(s.url=`https:${s.url}`),s.templateUrl&&Dc(s.templateUrl)&&(s.templateUrl=`https:${s.templateUrl}`),s})),t}async _loadFromSource(t){const{resourceInfo:e,portalItem:i,style:r}=this;ze(t);const s=[];if(e){const n=e.context?e.context.url:null;if(s.push(this._loadLayersFromJSON(e.data,n,t)),e.data.id&&!e.data.title){const a=e.data.id;s.push(wwe(a).then(o=>{o&&this.read({title:o},e.context)}))}}else i?s.push(this._loadFromItem(i,t)):r&&s.push(this._loadFromStylesService(r,t));await Promise.all(s)}async _loadLayersFromJSON(t,e,i){var l,u;const r=(l=this.resourceInfo)==null?void 0:l.context,s=((u=this.portalItem)==null?void 0:u.portal)||(r==null?void 0:r.portal)||null,n=zwe[(r==null?void 0:r.origin)||""]??"web-map",{populateOperationalLayers:a}=await R(async()=>{const{populateOperationalLayers:d}=await import("./layersCreator-C6Cvz0ob.js");return{populateOperationalLayers:d}},__vite__mapDeps([249,250,251,252,253,254])),o=[];if(ze(i),t.baseMapLayers&&Array.isArray(t.baseMapLayers)){const d={context:{...r,origin:n,url:e,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},h=g=>n==="web-scene"&&g.layerType==="ArcGISSceneServiceLayer"||g.isReference,p=a(this.baseLayers,t.baseMapLayers.filter(g=>!h(g)),d);o.push(p);const m=a(this.referenceLayers,t.baseMapLayers.filter(h),d);o.push(m)}await Promise.allSettled(o)}async _loadFromItem(t,e){const i=await t.load(e),r=await i.fetchData("json",e),s=Si(t.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:Dwe[t.type||""]??"web-map",portal:t.portal||ie.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||ie.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,e)}async _loadFromStylesService(t,e){const i=t.serviceUrl.endsWith("/webmaps")?t.serviceUrl.slice(0,-8):t.serviceUrl,r=`${i}/styles/${t.id}/self`,s=`${i}/webmaps/${t.id}`,n=t.apiKey??ut.apiKeys.basemapStyles,[a,o]=await Promise.all([(await it(r,{query:{token:n},signal:e==null?void 0:e.signal})).data,(await it(s,{query:{language:t.languageParameter,places:t.places,worldview:t.worldview,token:n},signal:e==null?void 0:e.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=a.thumbnailUrl);const l=Si(s);if(this._set("resourceInfo",{data:o.baseMap??{},context:{origin:"web-map",url:l}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:o.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,l,e),n)for(const u of[...this.baseLayers,...this.referenceLayers])"apiKey"in u&&(u.apiKey=n)}static fromId(t){const e=Zw[t];return e?e.itemId?new Dv({portalItem:{id:e.itemId,portal:{url:"https://www.arcgis.com"}}}):Dv.fromJSON(e,e.is3d?{origin:"web-scene",portal:new ie({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}};c([f({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,r){this._writeBaseLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:K}},writer(t,e,i,r){this._writeBaseLayers(t,e,r)}}}}}})],zn.prototype,"baseLayers",null),c([f({type:String,json:{origins:{"web-scene":{write:!0}}}})],zn.prototype,"id",void 0),c([f({type:ke})],zn.prototype,"portalItem",void 0),c([f()],zn.prototype,"referenceLayers",null),c([f({readOnly:!0})],zn.prototype,"resourceInfo",void 0),c([f({type:le})],zn.prototype,"spatialReference",void 0),c([f({type:_we})],zn.prototype,"style",void 0),c([f()],zn.prototype,"thumbnailUrl",void 0),c([f({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],zn.prototype,"title",void 0),c([ne("title")],zn.prototype,"writeTitle",null),zn=Dv=c([E("esri.Basemap")],zn);const Dwe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},zwe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Zf=zn,Vwe=Object.freeze(Object.defineProperty({__proto__:null,default:Zf},Symbol.toStringTag,{value:"Module"})),H4={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function vK(t){return!!H4[t]||!!H4[t.toLowerCase()]}function BL(t){return H4[t]??H4[t.toLowerCase()]}function jwe(t){return[...BL(t)]}function Ux(t,e,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?t+(e-t)*r:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function wK(t,e,i,r=1){const s=(t%360+360)%360/360,n=i<=.5?i*(e+1):i+e-i*e,a=2*i-n;return[Math.round(255*Ux(a,n,s+1/3)),Math.round(255*Ux(a,n,s)),Math.round(255*Ux(a,n,s-1/3)),r]}function qwe(t){const e=t.length>5,i=e?8:4,r=(1<<i)-1,s=e?1:17,n=e?t.length===9:t.length===5;let a=+("0x"+t.slice(1));if(isNaN(a))return null;const o=[0,0,0,1];let l;return n&&(l=a&r,a>>=i,o[3]=s*l/255),l=a&r,a>>=i,o[2]=s*l,l=a&r,a>>=i,o[1]=s*l,l=a&r,a>>=i,o[0]=s*l,o}function _K(t){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),r=parseInt(t.slice(3,4),16),s=t.length===5?15:parseInt(t.slice(4),16);return[e+16*e,i+16*i,r+16*r,(s+16*s)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function SK(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const i=e[2].split(/\s*,\s*/),r=e[1];if(r==="rgb"&&i.length===3||r==="rgba"&&i.length===4){const s=i[0];if(s.charAt(s.length-1)==="%"){const n=i.map(a=>2.56*parseFloat(a));return i.length===4&&(n[3]=parseFloat(i[3])),fz(n)}return fz(i.map(n=>parseFloat(n)))}if(r==="hsl"&&i.length===3||r==="hsla"&&i.length===4)return wK(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3]))}return null}function fz(t){return t[0]=Pg(t[0]),t[1]=Pg(t[1]),t[2]=Pg(t[2]),t[3]=t.length===4?$K(t[3]):1,t}function xK(t){let e=vK(t)?BL(t):null;return e??(e=SK(t)),e??(e=_K(t)),e}function VKe(t){const e=xK(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function $K(t){return TK(t,0,1)}function Pg(t){return Math.round(TK(t,0,255))}function TK(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}const jKe=2.2;function s5(t){return Yr(OP(t),0,255)}function n5(t,e){const i=t.toString(16).padStart(2,"0");return e?i.slice(0,1):i}let z9=class tn{static blendColors(e,i,r,s=new tn){return s.r=Math.round(e.r+(i.r-e.r)*r),s.g=Math.round(e.g+(i.g-e.g)*r),s.b=Math.round(e.b+(i.b-e.b)*r),s.a=e.a+(i.a-e.a)*r,s._sanitize()}static fromRgb(e,i){const r=SK(e);return r?tn.fromArray(r,i):null}static fromHex(e,i=new tn){const r=_K(e);return r?tn.fromArray(r,i):null}static fromArray(e,i=new tn){return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(e,i){const r=xK(e);return r?tn.fromArray(r,i):null}static fromJSON(e){return e!=null?new tn([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return e!=null?[e.r/255,e.g/255,e.b/255,e.a!=null?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?tn.fromString(e,this):Array.isArray(e)?tn.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof tn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const i=(e==null?void 0:e.capitalize)??!1,r=(e==null?void 0:e.digits)??6,s=r===3||r===4,n=r===4||r===8,a=`#${n5(this.r,s)}${n5(this.g,s)}${n5(this.b,s)}${n?n5(Math.round(255*this.a),s):""}`;return i?a.toUpperCase():a}toCss(e=!1){const i=this.r+", "+this.g+", "+this.b;return e?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=tn.AlphaMode.ALWAYS){const i=s5(this.r),r=s5(this.g),s=s5(this.b);return e===tn.AlphaMode.ALWAYS||this.a!==1?[i,r,s,s5(255*this.a)]:[i,r,s]}clone(){return new tn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Pg(this.r),this.g=Pg(this.g),this.b=Pg(this.b),this.a=$K(this.a),this}_set(e,i,r,s){this.r=e,this.g=i,this.b=r,this.a=s}};z9.prototype.declaredClass="esri.Color",function(t){var e;(e=t.AlphaMode||(t.AlphaMode={}))[e.ALWAYS=0]="ALWAYS",e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(z9||(z9={}));const ee=z9;var uE;let V9=uE=class extends B{constructor(t){super(t),this.type="none"}clone(){return new uE({type:this.type})}};c([oe({none:"none",stayAbove:"stay-above"}),f({json:{write:{isRequired:!0}}})],V9.prototype,"type",void 0),V9=uE=c([E("esri.ground.NavigationConstraint")],V9);const Bwe=Symbol("GroundInstance");function X7(t){const e=OP(100*(1-t));return Math.max(0,Math.min(e,100))}function Jw(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}var hz,dE,_W;let ou=dE=(_W=class extends B.JSONSupportMixin(lr){constructor(t){super(t),this[hz]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new K;const e=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&W.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>e(r.item)),this.layers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(t=>{tr(t)||W.getLogger(this).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.layers.removeAll();for(const e of t)Lt(e);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}get layers(){return this._get("layers")}set layers(t){this._set("layers",hd(t,this._get("layers")))}writeLayers(t,e,i,r){const s=[];t&&(r={...r,layerContainerType:"ground"},t.forEach(n=>{if("write"in n){const a={};pfe(n)().write(a,r)&&s.push(a)}else r!=null&&r.messages&&r.messages.push(new P("layer:unsupported",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted in the ground`,{layer:n}))})),e.layers=s}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return Z7(this,t=>{t(this.layers)})}async queryElevation(t,e){await this.load({signal:e==null?void 0:e.signal});const{ElevationQuery:i}=await R(()=>import("./ElevationQuery-BnsiWKGi.js"),[]);ze(e);const r=new i,s=this.layers.filter(pz).toArray();return r.queryAll(s,t,e)}async createElevationSampler(t,e){await this.load({signal:e==null?void 0:e.signal});const{ElevationQuery:i}=await R(()=>import("./ElevationQuery-BnsiWKGi.js"),[]);ze(e);const r=new i,s=this.layers.filter(pz).toArray();return r.createSamplerAll(s,t,e)}clone(){const t={opacity:this.opacity,surfaceColor:z(this.surfaceColor),navigationConstraint:z(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new dE({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve()}async _loadLayersFromJSON(t,e,i){const r=(e==null?void 0:e.origin)||"web-scene",s=(e==null?void 0:e.portal)||null,n=(e==null?void 0:e.url)||null,{populateOperationalLayers:a}=await R(async()=>{const{populateOperationalLayers:l}=await import("./layersCreator-C6Cvz0ob.js");return{populateOperationalLayers:l}},__vite__mapDeps([249,250,251,252,253,254]));ze(i);const o=[];if(t.layers&&Array.isArray(t.layers)){const l={context:{origin:r,url:n,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};o.push(a(this.layers,t.layers,l))}await Promise.allSettled(o)}},hz=Bwe,_W);function Uwe(t){return t&&"createElevationSampler"in t}function pz(t){return t.type==="elevation"||Uwe(t)}c([f({json:{read:!1,write:{isRequired:!0}}})],ou.prototype,"layers",null),c([ne("layers")],ou.prototype,"writeLayers",null),c([f({readOnly:!0})],ou.prototype,"resourceInfo",void 0),c([f({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Ye,read:{reader:Jw,source:"transparency"},write:{writer:(t,e)=>{e.transparency=X7(t)},target:"transparency"}}})],ou.prototype,"opacity",void 0),c([f({type:ee,json:{type:[Ye],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],ou.prototype,"surfaceColor",void 0),c([f({type:V9,json:{write:!0}})],ou.prototype,"navigationConstraint",void 0),ou=dE=c([E("esri.Ground")],ou);const W4=ou,Gwe="randomUUID"in crypto;function b1(){if(Gwe)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=i=>t[i].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function qKe(){return`{${b1().toUpperCase()}}`}function Hwe(){return`{${b1()}}`}function Wwe(t){const e=t.toUpperCase();return t[0]!=="{"?`{${e}}`:e}const I0={Base64:0,Hex:1,String:2,Raw:3},Lg=8,IK=(1<<Lg)-1;function Of(t,e){const i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function Zwe(t){const e=[];for(let i=0,r=t.length*Lg;i<r;i+=Lg)e[i>>5]|=(t.charCodeAt(i/Lg)&IK)<<i%32;return e}function Jwe(t){const e=[];for(let i=0,r=32*t.length;i<r;i+=Lg)e.push(String.fromCharCode(t[i>>5]>>>i%32&IK));return e.join("")}function Ywe(t){const e="0123456789abcdef",i=[];for(let r=0,s=4*t.length;r<s;r++)i.push(e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15));return i.join("")}function Xwe(t){const e="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let s=0,n=4*t.length;s<n;s+=3){const a=(t[s>>2]>>s%4*8&255)<<16|(t[s+1>>2]>>(s+1)%4*8&255)<<8|t[s+2>>2]>>(s+2)%4*8&255;for(let o=0;o<4;o++)8*s+6*o>32*t.length?r.push(e):r.push(i.charAt(a>>6*(3-o)&63))}return r.join("")}function Qwe(t,e){return t<<e|t>>>32-e}function Q7(t,e,i,r,s,n){return Of(Qwe(Of(Of(e,t),Of(r,n)),s),i)}function Kr(t,e,i,r,s,n,a){return Q7(e&i|~e&r,t,e,s,n,a)}function es(t,e,i,r,s,n,a){return Q7(e&r|i&~r,t,e,s,n,a)}function ts(t,e,i,r,s,n,a){return Q7(e^i^r,t,e,s,n,a)}function is(t,e,i,r,s,n,a){return Q7(i^(e|~r),t,e,s,n,a)}function Kwe(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let i=1732584193,r=-271733879,s=-1732584194,n=271733878;for(let a=0;a<t.length;a+=16){const o=i,l=r,u=s,d=n;i=Kr(i,r,s,n,t[a],7,-680876936),n=Kr(n,i,r,s,t[a+1],12,-389564586),s=Kr(s,n,i,r,t[a+2],17,606105819),r=Kr(r,s,n,i,t[a+3],22,-1044525330),i=Kr(i,r,s,n,t[a+4],7,-176418897),n=Kr(n,i,r,s,t[a+5],12,1200080426),s=Kr(s,n,i,r,t[a+6],17,-1473231341),r=Kr(r,s,n,i,t[a+7],22,-45705983),i=Kr(i,r,s,n,t[a+8],7,1770035416),n=Kr(n,i,r,s,t[a+9],12,-1958414417),s=Kr(s,n,i,r,t[a+10],17,-42063),r=Kr(r,s,n,i,t[a+11],22,-1990404162),i=Kr(i,r,s,n,t[a+12],7,1804603682),n=Kr(n,i,r,s,t[a+13],12,-40341101),s=Kr(s,n,i,r,t[a+14],17,-1502002290),r=Kr(r,s,n,i,t[a+15],22,1236535329),i=es(i,r,s,n,t[a+1],5,-165796510),n=es(n,i,r,s,t[a+6],9,-1069501632),s=es(s,n,i,r,t[a+11],14,643717713),r=es(r,s,n,i,t[a],20,-373897302),i=es(i,r,s,n,t[a+5],5,-701558691),n=es(n,i,r,s,t[a+10],9,38016083),s=es(s,n,i,r,t[a+15],14,-660478335),r=es(r,s,n,i,t[a+4],20,-405537848),i=es(i,r,s,n,t[a+9],5,568446438),n=es(n,i,r,s,t[a+14],9,-1019803690),s=es(s,n,i,r,t[a+3],14,-187363961),r=es(r,s,n,i,t[a+8],20,1163531501),i=es(i,r,s,n,t[a+13],5,-1444681467),n=es(n,i,r,s,t[a+2],9,-51403784),s=es(s,n,i,r,t[a+7],14,1735328473),r=es(r,s,n,i,t[a+12],20,-1926607734),i=ts(i,r,s,n,t[a+5],4,-378558),n=ts(n,i,r,s,t[a+8],11,-2022574463),s=ts(s,n,i,r,t[a+11],16,1839030562),r=ts(r,s,n,i,t[a+14],23,-35309556),i=ts(i,r,s,n,t[a+1],4,-1530992060),n=ts(n,i,r,s,t[a+4],11,1272893353),s=ts(s,n,i,r,t[a+7],16,-155497632),r=ts(r,s,n,i,t[a+10],23,-1094730640),i=ts(i,r,s,n,t[a+13],4,681279174),n=ts(n,i,r,s,t[a],11,-358537222),s=ts(s,n,i,r,t[a+3],16,-722521979),r=ts(r,s,n,i,t[a+6],23,76029189),i=ts(i,r,s,n,t[a+9],4,-640364487),n=ts(n,i,r,s,t[a+12],11,-421815835),s=ts(s,n,i,r,t[a+15],16,530742520),r=ts(r,s,n,i,t[a+2],23,-995338651),i=is(i,r,s,n,t[a],6,-198630844),n=is(n,i,r,s,t[a+7],10,1126891415),s=is(s,n,i,r,t[a+14],15,-1416354905),r=is(r,s,n,i,t[a+5],21,-57434055),i=is(i,r,s,n,t[a+12],6,1700485571),n=is(n,i,r,s,t[a+3],10,-1894986606),s=is(s,n,i,r,t[a+10],15,-1051523),r=is(r,s,n,i,t[a+1],21,-2054922799),i=is(i,r,s,n,t[a+8],6,1873313359),n=is(n,i,r,s,t[a+15],10,-30611744),s=is(s,n,i,r,t[a+6],15,-1560198380),r=is(r,s,n,i,t[a+13],21,1309151649),i=is(i,r,s,n,t[a+4],6,-145523070),n=is(n,i,r,s,t[a+11],10,-1120210379),s=is(s,n,i,r,t[a+2],15,718787259),r=is(r,s,n,i,t[a+9],21,-343485551),i=Of(i,o),r=Of(r,l),s=Of(s,u),n=Of(n,d)}return[i,r,s,n]}function UL(t,e=I0.Hex){const i=e||I0.Base64,r=Kwe(Zwe(t),t.length*Lg);switch(i){case I0.Raw:return r;case I0.Hex:return Ywe(r);case I0.String:return Jwe(r);case I0.Base64:return Xwe(r)}}function e_e(t){return t&&"getAtOrigin"in t&&"originOf"in t}function fE(t){return GL[t_e(t)]||r_e}function t_e(t){return t.type==="json"?"application/json":t.type==="blob"?t.blob.type:i_e(t.url)}function i_e(t){const e=qJ(t);return hE[e]||EK}const GL={},EK="text/plain",r_e=GL[EK],hE={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in hE)GL[hE[t]]=t;function s_e(t){const e=(t==null?void 0:t.origins)??[void 0];return(i,r)=>{const s=n_e(t,i,r);for(const n of e){const a=FP(i,n,r);for(const o in s)a[o]=s[o]}}}function n_e(t,e,i){if((t==null?void 0:t.type)==="resource")return a_e(t,e,i);switch((t==null?void 0:t.type)??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:r,write:s}=Cme;return{read:r,write:s}}}}function a_e(t,e,i){var s,n;const r=J_(e,i);return{type:String,read:(a,o,l)=>{const u=E7(a,o,l);return r.type===String?u:typeof r.type=="function"?new r.type({url:u}):void 0},write:{isRequired:(n=(s=r.json)==null?void 0:s.write)==null?void 0:n.isRequired,writer(a,o,l,u){if(!(u!=null&&u.resources))return typeof a=="string"?void(o[l]=Bm(a,u)):void(o[l]=a.write({},u));const d=c_e(a),h=Bm(d,{...u,verifyItemRelativeUrls:u!=null&&u.verifyItemRelativeUrls?{writtenUrls:u.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},Mb.NO),p=r.type!==String&&(!e_e(this)||(u==null?void 0:u.origin)&&this.originIdOf(i)>Ju(u.origin)),m={object:this,propertyName:i,value:a,targetUrl:h,dest:o,targetPropertyName:l,context:u,params:t};u!=null&&u.portalItem&&h&&!$n(h)?p&&(t!=null&&t.contentAddressed)?pE(m):p?o_e(m):l_e(m):u!=null&&u.portalItem&&(h==null||WJ(h)!=null||f1(h)||p)?pE(m):o[l]=h}}}}function pE(t){var g;const{targetUrl:e,params:i,value:r,context:s,dest:n,targetPropertyName:a}=t;if(!s.portalItem)return;const o=ZJ(e),l=CK(r,e,s);if(i!=null&&i.contentAddressed&&l.type!=="json")return void((g=s.messages)==null?void 0:g.push(new P("persistable:contentAddressingUnsupported",`Property "${a}" is trying to serializing a resource with content of type ${l.type} with content addressing. Content addressing is only supported for json resources.`,{content:l})));const u=i!=null&&i.contentAddressed&&l.type==="json"?UL(l.jsonString):(o==null?void 0:o.filename)??b1(),d=uh((i==null?void 0:i.prefix)??(o==null?void 0:o.prefix),u),h=`${d}.${fE(l)}`;if(i!=null&&i.contentAddressed&&s.resources&&l.type==="json"){const b=s.resources.toKeep.find(({resource:v})=>v.path===h)??s.resources.toAdd.find(({resource:v})=>v.path===h);if(b)return void(n[a]=b.resource.itemRelativeUrl)}const p=s.portalItem.resourceFromPath(h);f1(e)&&s.resources&&s.resources.pendingOperations.push(yme(e).then(b=>{p.path=`${d}.${fE({type:"blob",blob:b})}`,n[a]=p.itemRelativeUrl}).catch(()=>{}));const m=(i==null?void 0:i.compress)??!1;s.resources&&MK({...t,resource:p,content:l,compress:m,updates:s.resources.toAdd}),n[a]=p.itemRelativeUrl}function o_e(t){const{context:e,targetUrl:i,params:r,value:s,dest:n,targetPropertyName:a}=t;if(!e.portalItem)return;const o=e.portalItem.resourceFromPath(i),l=CK(s,i,e),u=fE(l),d=qJ(o.path),h=(r==null?void 0:r.compress)??!1;u===d?(e.resources&&MK({...t,resource:o,content:l,compress:h,updates:e.resources.toUpdate}),n[a]=i):pE(t)}function l_e({context:t,targetUrl:e,dest:i,targetPropertyName:r}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),i[r]=e)}function MK({object:t,propertyName:e,updates:i,resource:r,content:s,compress:n}){const a=o=>{u_e(t,e,o)};i.push({resource:r,content:s,compress:n,finish:a})}function CK(t,e,i){return typeof t=="string"?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(i))}}function c_e(t){return t==null?null:typeof t=="string"?t:t.url}function u_e(t,e,i){typeof t[e]=="string"?t[e]=i.url:t[e].url=i.url}let j9=class extends ve.ClonableMixin(B){constructor(e){super(e),this.color=null}};c([f({type:ee,json:{type:[Ye],write:!0}})],j9.prototype,"color",void 0),j9=c([E("esri.effects.FocusAreaOutline")],j9);const d_e=j9;var q9;let mE=q9=class extends B.JSONSupportMixin(K.ofType(Ut)){constructor(t){super(t)}clone(){return new q9(this.items.map(t=>t.clone()))}write(t,e){return this.toJSON(e)}toJSON(t){var i;const e=(i=t==null?void 0:t.layer)==null?void 0:i.spatialReference;return e?this.toArray().map(r=>{var n;if(!e.equals(r.spatialReference)){if(!da(r.spatialReference,e))return(n=t==null?void 0:t.messages)==null||n.push(new ca("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:t.layer.spatialReference,context:t})),null;const a=new Ut;DQ(r,a,e),r=a}const s=r.toJSON(t);return delete s.spatialReference,s}).filter(r=>r!=null):this.toArray().map(r=>r.toJSON(t))}static fromJSON(t,e){const i=new q9;return t.forEach(r=>i.add(Ut.fromJSON(r,e))),i}};mE=q9=c([E("esri.layers.support.PolygonCollection")],mE);const rw=mE;let lu=class extends B.JSONSupportMixin(ve){constructor(e){super(e),this.id=`focusarea-${b1()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new rw}readGeometries(e,i,r){var s,n;Array.isArray(e)?this.geometries=rw.fromJSON(e,r):(n=(s=r.hooks)==null?void 0:s.onAfterLoad)==null||n.call(s,()=>this._loadGeometries(ud(e,r),r))}async _loadGeometries(e,i){const r=await it(e,{responseType:"json"});this.geometries=rw.fromJSON(r.data,i)}};c([f({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),f()],lu.prototype,"id",void 0),c([f({type:String,json:{write:!0}})],lu.prototype,"title",void 0),c([f({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],lu.prototype,"enabled",void 0),c([f({type:d_e,json:{write:!0}})],lu.prototype,"outline",void 0),c([f({type:rw,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new rw(t.items.map(e=>e.clone()))}),s_e({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],lu.prototype,"geometries",void 0),c([te(["web-scene","portal-item"],"geometries")],lu.prototype,"readGeometries",null),lu=c([E("esri.effects.FocusArea")],lu);const f_e=lu;let zv=class extends B.JSONSupportMixin(ve){constructor(e){super(e),this.areas=new K,this.style="bright"}};c([f({type:K.ofType(f_e),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new K(t.items.map(e=>e.clone()))})],zv.prototype,"areas",void 0),c([f({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],zv.prototype,"style",void 0),zv=c([E("esri.effects.FocusAreas")],zv);const kK=zv;function h_e(t){return typeof t=="object"&&t!=null&&"loaded"in t&&t.loaded===!0&&"type"in t}function p_e(t){var e,i;return!(!h_e(t)||!((i=(e=gK(t))==null?void 0:e.operations)!=null&&i.supportsEditing)||"editingEnabled"in t&&!Cwe(t)||J7(t))}const m_e=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,y_e="screenUtils.toPt: input not recognized!",AK=96;function et(t){return t?t/72*AK:0}function lt(t){return t?72*t/AK:0}function ct(t){if(typeof t=="string"){const e=t.match(m_e);if(e){const i=Number(e[1]),r=e[3]&&e[3].toLowerCase(),s=t.charAt(0)==="-",n=r==="px"?lt(i):i;return s?-n:n}return console.warn(y_e),null}return t}function cr(t=0,e=0){return{x:t,y:e}}function HKe(t){return t?cr(t.x,t.y):null}function WKe(t=0,e=0){return[t,e]}function ZKe(t=0,e=0,i=0){return[t,e,i]}function JKe(t){return t}function YKe(t){return t}function XKe(t){return t}function QKe(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function K7(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function g_e(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function b_e(t,e,i,r,s,n,a,o,l,u,d,h,p,m,g,b){const v=new Float32Array(16);return v[0]=t,v[1]=e,v[2]=i,v[3]=r,v[4]=s,v[5]=n,v[6]=a,v[7]=o,v[8]=l,v[9]=u,v[10]=d,v[11]=h,v[12]=p,v[13]=m,v[14]=g,v[15]=b,v}const v_e=K7();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:v_e,clone:g_e,create:K7,fromValues:b_e},Symbol.toStringTag,{value:"Module"}));let HL=1e-6;function Ws(){return HL}function w_e(t){HL=t}const eS=Math.random,__e=Math.PI/180,S_e=180/Math.PI;function WL(t){return t*__e}function x_e(t){return t*S_e}function $_e(t,e){return Math.abs(t-e)<=HL*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:eS,equals:$_e,getEpsilon:Ws,setEpsilon:w_e,toDegree:x_e,toRadian:WL},Symbol.toStringTag,{value:"Module"}));function PK(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ih(t,e,i,r,s,n,a,o,l,u,d,h,p,m,g,b,v){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=a,t[6]=o,t[7]=l,t[8]=u,t[9]=d,t[10]=h,t[11]=p,t[12]=m,t[13]=g,t[14]=b,t[15]=v,t}function tS(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Eh(t,e){if(t===e){const i=e[1],r=e[2],s=e[3],n=e[6],a=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=n,t[11]=e[14],t[12]=s,t[13]=a,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function T_e(t,e){return LK(t,e)||tS(t),t}function LK(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],g=e[12],b=e[13],v=e[14],w=e[15],_=i*o-r*a,S=i*l-s*a,T=i*u-n*a,C=r*l-s*o,A=r*u-n*o,O=s*u-n*l,L=d*b-h*g,F=d*v-p*g,D=d*w-m*g,G=h*v-p*b,H=h*w-m*b,se=p*w-m*v;let X=_*se-S*H+T*G+C*D-A*F+O*L;return X?(X=1/X,t[0]=(o*se-l*H+u*G)*X,t[1]=(s*H-r*se-n*G)*X,t[2]=(b*O-v*A+w*C)*X,t[3]=(p*A-h*O-m*C)*X,t[4]=(l*D-a*se-u*F)*X,t[5]=(i*se-s*D+n*F)*X,t[6]=(v*T-g*O-w*S)*X,t[7]=(d*O-p*T+m*S)*X,t[8]=(a*H-o*D+u*L)*X,t[9]=(r*D-i*H-n*L)*X,t[10]=(g*A-b*T+w*_)*X,t[11]=(h*T-d*A-m*_)*X,t[12]=(o*F-a*G-l*L)*X,t[13]=(i*G-r*F+s*L)*X,t[14]=(b*S-g*C-v*_)*X,t[15]=(d*C-h*S+p*_)*X,t):null}function I_e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],g=e[12],b=e[13],v=e[14],w=e[15];return t[0]=o*(p*w-m*v)-h*(l*w-u*v)+b*(l*m-u*p),t[1]=-(r*(p*w-m*v)-h*(s*w-n*v)+b*(s*m-n*p)),t[2]=r*(l*w-u*v)-o*(s*w-n*v)+b*(s*u-n*l),t[3]=-(r*(l*m-u*p)-o*(s*m-n*p)+h*(s*u-n*l)),t[4]=-(a*(p*w-m*v)-d*(l*w-u*v)+g*(l*m-u*p)),t[5]=i*(p*w-m*v)-d*(s*w-n*v)+g*(s*m-n*p),t[6]=-(i*(l*w-u*v)-a*(s*w-n*v)+g*(s*u-n*l)),t[7]=i*(l*m-u*p)-a*(s*m-n*p)+d*(s*u-n*l),t[8]=a*(h*w-m*b)-d*(o*w-u*b)+g*(o*m-u*h),t[9]=-(i*(h*w-m*b)-d*(r*w-n*b)+g*(r*m-n*h)),t[10]=i*(o*w-u*b)-a*(r*w-n*b)+g*(r*u-n*o),t[11]=-(i*(o*m-u*h)-a*(r*m-n*h)+d*(r*u-n*o)),t[12]=-(a*(h*v-p*b)-d*(o*v-l*b)+g*(o*p-l*h)),t[13]=i*(h*v-p*b)-d*(r*v-s*b)+g*(r*p-s*h),t[14]=-(i*(o*v-l*b)-a*(r*v-s*b)+g*(r*l-s*o)),t[15]=i*(o*p-l*h)-a*(r*p-s*h)+d*(r*l-s*o),t}function E_e(t){const e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],a=t[5],o=t[6],l=t[7],u=t[8],d=t[9],h=t[10],p=t[11],m=t[12],g=t[13],b=t[14],v=t[15];return(e*a-i*n)*(h*v-p*b)-(e*o-r*n)*(d*v-p*g)+(e*l-s*n)*(d*b-h*g)+(i*o-r*a)*(u*v-p*m)-(i*l-s*a)*(u*b-h*m)+(r*l-s*o)*(u*g-d*m)}function RK(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=e[4],l=e[5],u=e[6],d=e[7],h=e[8],p=e[9],m=e[10],g=e[11],b=e[12],v=e[13],w=e[14],_=e[15];let S=i[0],T=i[1],C=i[2],A=i[3];return t[0]=S*r+T*o+C*h+A*b,t[1]=S*s+T*l+C*p+A*v,t[2]=S*n+T*u+C*m+A*w,t[3]=S*a+T*d+C*g+A*_,S=i[4],T=i[5],C=i[6],A=i[7],t[4]=S*r+T*o+C*h+A*b,t[5]=S*s+T*l+C*p+A*v,t[6]=S*n+T*u+C*m+A*w,t[7]=S*a+T*d+C*g+A*_,S=i[8],T=i[9],C=i[10],A=i[11],t[8]=S*r+T*o+C*h+A*b,t[9]=S*s+T*l+C*p+A*v,t[10]=S*n+T*u+C*m+A*w,t[11]=S*a+T*d+C*g+A*_,S=i[12],T=i[13],C=i[14],A=i[15],t[12]=S*r+T*o+C*h+A*b,t[13]=S*s+T*l+C*p+A*v,t[14]=S*n+T*u+C*m+A*w,t[15]=S*a+T*d+C*g+A*_,t}function M_e(t,e,i){const r=i[0],s=i[1],n=i[2];if(e===t)t[12]=e[0]*r+e[4]*s+e[8]*n+e[12],t[13]=e[1]*r+e[5]*s+e[9]*n+e[13],t[14]=e[2]*r+e[6]*s+e[10]*n+e[14],t[15]=e[3]*r+e[7]*s+e[11]*n+e[15];else{const a=e[0],o=e[1],l=e[2],u=e[3],d=e[4],h=e[5],p=e[6],m=e[7],g=e[8],b=e[9],v=e[10],w=e[11];t[0]=a,t[1]=o,t[2]=l,t[3]=u,t[4]=d,t[5]=h,t[6]=p,t[7]=m,t[8]=g,t[9]=b,t[10]=v,t[11]=w,t[12]=a*r+d*s+g*n+e[12],t[13]=o*r+h*s+b*n+e[13],t[14]=l*r+p*s+v*n+e[14],t[15]=u*r+m*s+w*n+e[15]}return t}function C_e(t,e,i){const r=i[0],s=i[1],n=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function k_e(t,e,i,r){let s=r[0],n=r[1],a=r[2],o=Math.sqrt(s*s+n*n+a*a);if(o<=Ws())return void PK(t,e);o=1/o,s*=o,n*=o,a*=o;const l=Math.sin(i),u=Math.cos(i),d=1-u,h=e[0],p=e[1],m=e[2],g=e[3],b=e[4],v=e[5],w=e[6],_=e[7],S=e[8],T=e[9],C=e[10],A=e[11],O=s*s*d+u,L=n*s*d+a*l,F=a*s*d-n*l,D=s*n*d-a*l,G=n*n*d+u,H=a*n*d+s*l,se=s*a*d+n*l,X=n*a*d-s*l,ue=a*a*d+u;t[0]=h*O+b*L+S*F,t[1]=p*O+v*L+T*F,t[2]=m*O+w*L+C*F,t[3]=g*O+_*L+A*F,t[4]=h*D+b*G+S*H,t[5]=p*D+v*G+T*H,t[6]=m*D+w*G+C*H,t[7]=g*D+_*G+A*H,t[8]=h*se+b*X+S*ue,t[9]=p*se+v*X+T*ue,t[10]=m*se+w*X+C*ue,t[11]=g*se+_*X+A*ue,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function A_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[4],a=e[5],o=e[6],l=e[7],u=e[8],d=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=n*s+u*r,t[5]=a*s+d*r,t[6]=o*s+h*r,t[7]=l*s+p*r,t[8]=u*s-n*r,t[9]=d*s-a*r,t[10]=h*s-o*r,t[11]=p*s-l*r,t}function P_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[0],a=e[1],o=e[2],l=e[3],u=e[8],d=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*s-u*r,t[1]=a*s-d*r,t[2]=o*s-h*r,t[3]=l*s-p*r,t[8]=n*r+u*s,t[9]=a*r+d*s,t[10]=o*r+h*s,t[11]=l*r+p*s,t}function L_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[0],a=e[1],o=e[2],l=e[3],u=e[4],d=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*s+u*r,t[1]=a*s+d*r,t[2]=o*s+h*r,t[3]=l*s+p*r,t[4]=u*s-n*r,t[5]=d*s-a*r,t[6]=h*s-o*r,t[7]=p*s-l*r,t}function R_e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function O_e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F_e(t,e,i){if(e===0)return tS(t);let r=i[0],s=i[1],n=i[2],a=Math.sqrt(r*r+s*s+n*n);if(a<=Ws())return null;a=1/a,r*=a,s*=a,n*=a;const o=Math.sin(e),l=Math.cos(e),u=1-l;return t[0]=r*r*u+l,t[1]=s*r*u+n*o,t[2]=n*r*u-s*o,t[3]=0,t[4]=r*s*u-n*o,t[5]=s*s*u+l,t[6]=n*s*u+r*o,t[7]=0,t[8]=r*n*u+s*o,t[9]=s*n*u-r*o,t[10]=n*n*u+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N_e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function D_e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function z_e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function OK(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=r+r,l=s+s,u=n+n,d=r*o,h=r*l,p=r*u,m=s*l,g=s*u,b=n*u,v=a*o,w=a*l,_=a*u;return t[0]=1-(m+b),t[1]=h+_,t[2]=p-w,t[3]=0,t[4]=h-_,t[5]=1-(d+b),t[6]=g+v,t[7]=0,t[8]=p+w,t[9]=g-v,t[10]=1-(d+m),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function V_e(t,e){const i=j_e,r=-e[0],s=-e[1],n=-e[2],a=e[3],o=e[4],l=e[5],u=e[6],d=e[7],h=r*r+s*s+n*n+a*a;return h>0?(i[0]=2*(o*a+d*r+l*n-u*s)/h,i[1]=2*(l*a+d*s+u*r-o*n)/h,i[2]=2*(u*a+d*n+o*s-l*r)/h):(i[0]=2*(o*a+d*r+l*n-u*s),i[1]=2*(l*a+d*s+u*r-o*n),i[2]=2*(u*a+d*n+o*s-l*r)),OK(t,e,i),t}const j_e=$h();function q_e(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function B_e(t,e){const i=e[0],r=e[1],s=e[2],n=e[4],a=e[5],o=e[6],l=e[8],u=e[9],d=e[10];return t[0]=Math.sqrt(i*i+r*r+s*s),t[1]=Math.sqrt(n*n+a*a+o*o),t[2]=Math.sqrt(l*l+u*u+d*d),t}function U_e(t,e){const i=e[0]+e[5]+e[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function G_e(t,e,i,r){const s=e[0],n=e[1],a=e[2],o=e[3],l=s+s,u=n+n,d=a+a,h=s*l,p=s*u,m=s*d,g=n*u,b=n*d,v=a*d,w=o*l,_=o*u,S=o*d,T=r[0],C=r[1],A=r[2];return t[0]=(1-(g+v))*T,t[1]=(p+S)*T,t[2]=(m-_)*T,t[3]=0,t[4]=(p-S)*C,t[5]=(1-(h+v))*C,t[6]=(b+w)*C,t[7]=0,t[8]=(m+_)*A,t[9]=(b-w)*A,t[10]=(1-(h+g))*A,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function H_e(t,e,i,r,s){const n=e[0],a=e[1],o=e[2],l=e[3],u=n+n,d=a+a,h=o+o,p=n*u,m=n*d,g=n*h,b=a*d,v=a*h,w=o*h,_=l*u,S=l*d,T=l*h,C=r[0],A=r[1],O=r[2],L=s[0],F=s[1],D=s[2],G=(1-(b+w))*C,H=(m+T)*C,se=(g-S)*C,X=(m-T)*A,ue=(1-(p+w))*A,xe=(v+_)*A,be=(g+S)*O,ye=(v-_)*O,at=(1-(p+b))*O;return t[0]=G,t[1]=H,t[2]=se,t[3]=0,t[4]=X,t[5]=ue,t[6]=xe,t[7]=0,t[8]=be,t[9]=ye,t[10]=at,t[11]=0,t[12]=i[0]+L-(G*L+X*F+be*D),t[13]=i[1]+F-(H*L+ue*F+ye*D),t[14]=i[2]+D-(se*L+xe*F+at*D),t[15]=1,t}function W_e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],a=i+i,o=r+r,l=s+s,u=i*a,d=r*a,h=r*o,p=s*a,m=s*o,g=s*l,b=n*a,v=n*o,w=n*l;return t[0]=1-h-g,t[1]=d+w,t[2]=p-v,t[3]=0,t[4]=d-w,t[5]=1-u-g,t[6]=m+b,t[7]=0,t[8]=p+v,t[9]=m-b,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Z_e(t,e,i,r,s,n,a){const o=1/(i-e),l=1/(s-r),u=1/(n-a);return t[0]=2*n*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*l,t[6]=0,t[7]=0,t[8]=(i+e)*o,t[9]=(s+r)*l,t[10]=(a+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*n*2*u,t[15]=0,t}function J_e(t,e,i,r,s){const n=1/Math.tan(e/2);let a;return t[0]=n/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,s!=null&&s!==1/0?(a=1/(r-s),t[10]=(s+r)*a,t[14]=2*s*r*a):(t[10]=-1,t[14]=-2*r),t}function Y_e(t,e,i,r){const s=Math.tan(e.upDegrees*Math.PI/180),n=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+o),u=2/(s+n);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-o)*l*.5,t[9]=(s-n)*u*.5,t[10]=r/(i-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*i/(i-r),t[15]=0,t}function X_e(t,e,i,r,s,n,a){const o=1/(e-i),l=1/(r-s),u=1/(n-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+i)*o,t[13]=(s+r)*l,t[14]=(a+n)*u,t[15]=1,t}function Q_e(t,e,i,r){const s=e[0],n=e[1],a=e[2];let o=s-i[0],l=n-i[1],u=a-i[2];const d=Ws();if(Math.abs(o)<d&&Math.abs(l)<d&&Math.abs(u)<d)return void tS(t);let h=1/Math.sqrt(o*o+l*l+u*u);o*=h,l*=h,u*=h;const p=r[0],m=r[1],g=r[2];let b=m*u-g*l,v=g*o-p*u,w=p*l-m*o;h=Math.sqrt(b*b+v*v+w*w),h?(h=1/h,b*=h,v*=h,w*=h):(b=0,v=0,w=0);let _=l*w-u*v,S=u*b-o*w,T=o*v-l*b;h=Math.sqrt(_*_+S*S+T*T),h?(h=1/h,_*=h,S*=h,T*=h):(_=0,S=0,T=0),t[0]=b,t[1]=_,t[2]=o,t[3]=0,t[4]=v,t[5]=S,t[6]=l,t[7]=0,t[8]=w,t[9]=T,t[10]=u,t[11]=0,t[12]=-(b*s+v*n+w*a),t[13]=-(_*s+S*n+T*a),t[14]=-(o*s+l*n+u*a),t[15]=1}function K_e(t,e,i,r){const s=e[0],n=e[1],a=e[2],o=r[0],l=r[1],u=r[2];let d=s-i[0],h=n-i[1],p=a-i[2],m=d*d+h*h+p*p;m>0&&(m=1/Math.sqrt(m),d*=m,h*=m,p*=m);let g=l*p-u*h,b=u*d-o*p,v=o*h-l*d;return m=g*g+b*b+v*v,m>0&&(m=1/Math.sqrt(m),g*=m,b*=m,v*=m),t[0]=g,t[1]=b,t[2]=v,t[3]=0,t[4]=h*v-p*b,t[5]=p*g-d*v,t[6]=d*b-h*g,t[7]=0,t[8]=d,t[9]=h,t[10]=p,t[11]=0,t[12]=s,t[13]=n,t[14]=a,t[15]=1,t}function e3e(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function t3e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function i3e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function FK(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function r3e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function s3e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t[9]=e[9]+i[9]*r,t[10]=e[10]+i[10]*r,t[11]=e[11]+i[11]*r,t[12]=e[12]+i[12]*r,t[13]=e[13]+i[13]*r,t[14]=e[14]+i[14]*r,t[15]=e[15]+i[15]*r,t}function n3e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function a3e(t,e){if(t===e)return!0;const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=t[6],u=t[7],d=t[8],h=t[9],p=t[10],m=t[11],g=t[12],b=t[13],v=t[14],w=t[15],_=e[0],S=e[1],T=e[2],C=e[3],A=e[4],O=e[5],L=e[6],F=e[7],D=e[8],G=e[9],H=e[10],se=e[11],X=e[12],ue=e[13],xe=e[14],be=e[15],ye=Ws();return Math.abs(i-_)<=ye*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(r-S)<=ye*Math.max(1,Math.abs(r),Math.abs(S))&&Math.abs(s-T)<=ye*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(n-C)<=ye*Math.max(1,Math.abs(n),Math.abs(C))&&Math.abs(a-A)<=ye*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(o-O)<=ye*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(l-L)<=ye*Math.max(1,Math.abs(l),Math.abs(L))&&Math.abs(u-F)<=ye*Math.max(1,Math.abs(u),Math.abs(F))&&Math.abs(d-D)<=ye*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(h-G)<=ye*Math.max(1,Math.abs(h),Math.abs(G))&&Math.abs(p-H)<=ye*Math.max(1,Math.abs(p),Math.abs(H))&&Math.abs(m-se)<=ye*Math.max(1,Math.abs(m),Math.abs(se))&&Math.abs(g-X)<=ye*Math.max(1,Math.abs(g),Math.abs(X))&&Math.abs(b-ue)<=ye*Math.max(1,Math.abs(b),Math.abs(ue))&&Math.abs(v-xe)<=ye*Math.max(1,Math.abs(v),Math.abs(xe))&&Math.abs(w-be)<=ye*Math.max(1,Math.abs(w),Math.abs(be))}function o3e(t){const e=Ws(),i=t[0],r=t[1],s=t[2],n=t[4],a=t[5],o=t[6],l=t[8],u=t[9],d=t[10];return Math.abs(1-(i*i+n*n+l*l))<=e&&Math.abs(1-(r*r+a*a+u*u))<=e&&Math.abs(1-(s*s+o*o+d*d))<=e}function l3e(t){return t[0]===1&&t[1]===0&&t[2]===0&&t[4]===0&&t[5]===1&&t[6]===0&&t[8]===0&&t[9]===0&&t[10]===1}const c3e=RK,u3e=FK;Object.freeze(Object.defineProperty({__proto__:null,add:i3e,adjoint:I_e,copy:PK,determinant:E_e,equals:a3e,exactEquals:n3e,frob:t3e,fromQuat:W_e,fromQuat2:V_e,fromRotation:F_e,fromRotationTranslation:OK,fromRotationTranslationScale:G_e,fromRotationTranslationScaleOrigin:H_e,fromScaling:O_e,fromTranslation:R_e,fromXRotation:N_e,fromYRotation:D_e,fromZRotation:z_e,frustum:Z_e,getRotation:U_e,getScale:B_e,getTranslation:q_e,hasIdentityRotation:l3e,identity:tS,invert:LK,invertOrIdentity:T_e,isOrthoNormal:o3e,lookAt:Q_e,mul:c3e,multiply:RK,multiplyScalar:r3e,multiplyScalarAndAdd:s3e,ortho:X_e,perspective:J_e,perspectiveFromFieldOfView:Y_e,rotate:k_e,rotateX:A_e,rotateY:P_e,rotateZ:L_e,scale:C_e,set:Ih,str:e3e,sub:u3e,subtract:FK,targetTo:K_e,translate:M_e,transpose:Eh},Symbol.toStringTag,{value:"Module"}));const d3e=(t,e)=>{const i=Ih(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return Eh(i,i)},f3e=(t,e)=>{const i=Ih(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return Eh(i,i)},h3e=(t,e)=>{const i=1-e,r=Ih(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return Eh(r,r)},p3e=(t,e)=>{const i=Math.sin(e*Math.PI/180),r=Math.cos(e*Math.PI/180),s=Ih(t,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return Eh(s,s)},m3e=(t,e)=>{const i=1-2*e,r=Ih(t,i,0,0,e,0,i,0,e,0,0,i,e,0,0,0,1);return Eh(r,r)},y3e=(t,e)=>{const i=Ih(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return Eh(i,i)},g3e=(t,e)=>{const i=1-e,r=Ih(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return Eh(r,r)};let NK=class DK{constructor(e,i,r){this.strength=e,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(e,i,r){this.strength=bn(e.strength,i.strength,r),this.radius=bn(e.radius,i.radius,r),this.threshold=bn(e.threshold,i.threshold,r)}clone(){return new DK(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:sw(this.radius),strength:this.strength,threshold:this.threshold}}},zK=class VK{constructor(e){this.radius=e,this.type="blur"}interpolate(e,i,r){this.radius=Math.round(bn(e.radius,i.radius,r))}clone(){return new VK(this.radius)}toJSON(){return{type:"blur",radius:sw(this.radius)}}},yE=class jK{constructor(e,i){this.type=e,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.amount=bn(e.amount,i.amount,r),this._updateMatrix()}clone(){return new jK(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||K7();switch(this.type){case"brightness":this._colorMatrix=d3e(e,this.amount);break;case"contrast":this._colorMatrix=f3e(e,this.amount);break;case"grayscale":this._colorMatrix=h3e(e,this.amount);break;case"invert":this._colorMatrix=m3e(e,this.amount);break;case"saturate":this._colorMatrix=y3e(e,this.amount);break;case"sepia":this._colorMatrix=g3e(e,this.amount)}}},qK=class BK{constructor(e,i,r,s){this.offsetX=e,this.offsetY=i,this.blurRadius=r,this.color=s,this.type="drop-shadow"}interpolate(e,i,r){this.offsetX=bn(e.offsetX,i.offsetX,r),this.offsetY=bn(e.offsetY,i.offsetY,r),this.blurRadius=bn(e.blurRadius,i.blurRadius,r),this.color[0]=Math.round(bn(e.color[0],i.color[0],r)),this.color[1]=Math.round(bn(e.color[1],i.color[1],r)),this.color[2]=Math.round(bn(e.color[2],i.color[2],r)),this.color[3]=bn(e.color[3],i.color[3],r)}clone(){return new BK(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:sw(this.offsetX),yoffset:sw(this.offsetY),blurRadius:sw(this.blurRadius),color:e}}},UK=class GK{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.angle=bn(e.angle,i.angle,r),this._updateMatrix()}clone(){return new GK(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||K7();this._colorMatrix=p3e(e,this.angle)}},HK=class WK{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,i,r){this.amount=bn(e.amount,i.amount,r)}clone(){return new WK(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function bn(t,e,i){return t+(e-t)*i}function sw(t){return Math.round(1e3*lt(t))/1e3}function b3e(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new yE(t.type,0);case"saturate":case"brightness":case"contrast":return new yE(t.type,1);case"opacity":return new HK(1);case"hue-rotate":return new UK(0);case"blur":return new zK(0);case"drop-shadow":return new qK(0,0,0,[...BL("transparent")]);case"bloom":return new NK(0,0,1)}}function ZK(t,e){const i=t.length>e.length?t:e;return(t.length>e.length?e:t).every((r,s)=>r.type===i[s].type)}function JK(t,e){const i=t.length>e.length?t:e,r=t.length>e.length?e:t;for(let s=r.length;s<i.length;s++)r.push(b3e(i[s]))}function v3e(t){const e=t[0];return!!e&&"type"in e}function w3e(t,e){return JSON.stringify(t??null)===JSON.stringify(e??null)}function KKe(t,e){var r;const i=t.allLayerViews.find(s=>s.uid===e);return(i==null?void 0:i.layer.parent)===((r=t.map)==null?void 0:r.basemap)}function _3e(t){let e=null;const i=gE(t),r=!(i!=null&&i.baseLayers.length);for(const s in Zw){const n=XK(i,YK(Zw[s]),{mustMatchReferences:r});if(n==="equal"){e=s;break}n==="base-layers-equal"&&(e=s)}return e}function S3e(t,e){var i,r;return t===e||((i=t==null?void 0:t.portalItem)==null?void 0:i.id)!=null&&t.portalItem.id===((r=e==null?void 0:e.portalItem)==null?void 0:r.id)?!0:XK(gE(t),gE(e),{mustMatchReferences:!0})==="equal"}function eet(t){return!!(t!=null&&t.baseLayers.concat(t.referenceLayers).some(x3e))}function x3e(t){if(mz(t.url))return!0;if(t.type==="vector-tile")for(const e in t.sourceNameToSource){const i=t.sourceNameToSource[e];if(mz(i==null?void 0:i.sourceUrl))return!0}return!1}function $3e(t,e){var n;if(e==null||t==null)return{spatialReference:null,updating:!1};if(e.loadStatus==="not-loaded")return e.load(),{spatialReference:null,updating:!0};if(e.spatialReference)return{spatialReference:e.spatialReference,updating:!1};if(e.baseLayers.length===0)return{spatialReference:null,updating:!1};const i=e.baseLayers.at(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const r=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?(n=i.tileInfo)==null?void 0:n.spatialReference:i.spatialReference]).filter(Boolean),s=t.spatialReference;return s?{spatialReference:r.find(a=>s.equals(a))??r[0]??null,updating:!1}:{spatialReference:r[0],updating:!1}}const T3e=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function mz(t){if(!t)return!1;const e=new Uf(vn(t));return!!e.authority&&T3e.test(e.authority)}function gE(t){return t?!t.loaded&&t.resourceInfo?YK(t.resourceInfo.data):{baseLayers:yz(t.baseLayers),referenceLayers:yz(t.referenceLayers)}:null}function yz(t){return(K.isCollection(t)?t.toArray():t).map(I3e)}function I3e(t){var e,i;return{type:t.type,effect:"effect"in t?t.effect:void 0,url:QK("urlTemplate"in t&&t.urlTemplate||t.url||"styleUrl"in t&&t.styleUrl||""),minScale:"minScale"in t&&t.minScale!=null?t.minScale:0,maxScale:"maxScale"in t&&t.maxScale!=null?t.maxScale:0,opacity:t.opacity!=null?t.opacity:1,visible:t.visible==null||!!t.visible,sublayers:t.type!=="map-image"&&t.type!=="wms"||t.sublayers==null||(e=t.sublayers)==null?void 0:e.map(r=>({id:r.id,visible:r.visible})),activeLayerId:t.type==="wmts"?(i=t.activeLayer)==null?void 0:i.id:void 0}}function gz(t){return t.isReference||t.layerType==="ArcGISSceneServiceLayer"}function YK(t){return t?{baseLayers:bz((t.baseMapLayers??[]).filter(e=>!gz(e))),referenceLayers:bz((t.baseMapLayers??[]).filter(e=>gz(e)))}:null}function bz(t){return t.map(e=>E3e(e))}function E3e(t){let e;switch(t.layerType){case"VectorTileLayer":e="vector-tile";break;case"ArcGISTiledMapServiceLayer":e="tile";break;case"ArcGISSceneServiceLayer":e="scene";break;default:e="unknown"}return{type:e,effect:t.effect,url:QK(t.templateUrl||t.urlTemplate||t.styleUrl||t.url),minScale:t.minScale??0,maxScale:t.maxScale??0,opacity:t.opacity??1,visible:t.visibility==null||!!t.visibility,sublayers:void 0,activeLayerId:void 0}}function XK(t,e,i){return t!=null!=(e!=null)?"not-equal":!t||!e?"equal":vz(t.baseLayers,e.baseLayers)?vz(t.referenceLayers,e.referenceLayers)?"equal":i.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal"}function vz(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!M3e(t[i],e[i]))return!1;return!0}function M3e(t,e){if(t.type!==e.type||t.url!==e.url||t.minScale!==e.minScale||t.maxScale!==e.maxScale||t.visible!==e.visible||t.opacity!==e.opacity||!w3e(t.effect,e.effect))return!1;if(t.activeLayerId!=null||e.activeLayerId!=null)return t.activeLayerId===e.activeLayerId;if(t.sublayers!=null||e.sublayers!=null){if(t.sublayers==null||e.sublayers==null||t.sublayers.length!==e.sublayers.length)return!1;for(let i=0;i<t.sublayers.length;i++){const r=t.sublayers.at(i),s=e.sublayers.at(i);if((r==null?void 0:r.id)!==(s==null?void 0:s.id)||(r==null?void 0:r.visible)!==(s==null?void 0:s.visible))return!1}}return!0}function QK(t){return t?Ja(t).replace(/^\s*https?:/i,"").toLowerCase():""}const Gx=()=>W.getLogger("esri.support.basemapUtils");function C3e(){return{}}function k3e(t){for(const e in t){const i=t[e];Lt(i),delete t[e]}}function KK(t,e){let i;if(typeof t=="string"){const r=t in Zw,s=!r&&t.includes("/");if(!r&&!s){if(mI())Gx().warn(`Unable to find basemap definition for: ${t}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const n=Object.entries(Zw).filter(([a,o])=>o.classic||o.is3d).map(([a])=>`"${a}"`).sort().join(", ");Gx().warn(`Unable to find basemap definition for: ${t}. Try one of these: ${n}`)}return null}e&&(i=e[t]),i||(i=r?Zf.fromId(t):new Zf({style:{id:t}}),e&&(e[t]=i))}else i=Ft(Zf,t);return i!=null&&i.destroyed&&(Gx().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function A3e(t){return new Vl({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const i=[];return"tables"in e&&i.push(e.tables),"layers"in e&&i.push(e.layers),i},itemFilterFunction:e=>{const i=e.parent;return!!i&&"tables"in i&&i.tables.includes(e)}})}function Hx(t){for(const e of t.values())e==null||e.destroy();t.clear()}const wz={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function P3e(t){let e=null;if(typeof t=="string")if(t in wz){const i=wz[t];e=new W4({resourceInfo:{data:{layers:[i]}}})}else W.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else e=Ft(W4,t);return e}let eee=0;const tee=t=>{let e=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+eee++})}};return e=c([E("esri.core.Identifiable")],e),e},L3e=t=>{let e=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:eee++})}};return e=c([E("esri.core.Identifiable.NumericIdentifiable")],e),e};let Vv=class extends tee(class{}){};Vv=c([E("esri.core.Identifiable")],Vv),function(t){t.IdentifiableMixin=tee,t.NumericIdentifiableMixin=L3e}(Vv||(Vv={}));const An=Vv;async function R3e(t){var r;const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await R(async()=>{const{fromItem:s}=await import("./portalLayers-NaLrGetb.js");return{fromItem:s}},__vite__mapDeps([254,252,251,250,253]));try{return await i(e)}catch(s){const n=e==null?void 0:e.portalItem,a=(n==null?void 0:n.id)||"unset",o=((r=n==null?void 0:n.portal)==null?void 0:r.url)||ut.portalUrl;throw W.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+a+"')",s),s}}const Rg={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function Wx(t,e,i,r=Xs){const s=new Cn(j7(r)),n=pe.fromJSDate(t,{zone:s}),a=i==="decades"||i==="centuries"?"year":ree(i);return i==="decades"&&(e*=10),i==="centuries"&&(e*=100),n.plus({[a]:e}).toJSDate()}function iet(t,e,i="milliseconds"){const r=t.getTime(),s=iee(e,i,"milliseconds");return new Date(r+s)}function _z(t,e,i=Xs){const r=new Cn(j7(i)),s=pe.fromJSDate(t,{zone:r});if(e==="decades"||e==="centuries"){const a=s.startOf("year"),{year:o}=a,l=o-o%(e==="decades"?10:100);return a.set({year:l}).toJSDate()}const n=ree(e);return s.startOf(n).toJSDate()}function iee(t,e,i){return t===0?0:t*Rg[e]/Rg[i]}function ret(t,e){return t&&e?t.intersection(e):t||e}function ree(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var ba,Qg;let xt=(Qg=class extends B{static get allTime(){return Sz}static get empty(){return O3e}static fromArray(e){return new ba({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,i){return i.end!=null?new Date(i.end):null}writeEnd(e,i){i.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(ba.allTime)}get isEmpty(){return this.equals(ba.empty)}readStart(e,i){return i.start!=null?new Date(i.start):null}writeStart(e,i){i.start=(e==null?void 0:e.getTime())??null}clone(){return new ba({end:this.end,start:this.start})}equals(e){var a,o,l,u;if(!e)return!1;const i=((a=this.start)==null?void 0:a.getTime())??this.start,r=((o=this.end)==null?void 0:o.getTime())??this.end,s=((l=e.start)==null?void 0:l.getTime())??e.start,n=((u=e.end)==null?void 0:u.getTime())??e.end;return i===s&&r===n}expandTo(e,i=Xs){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=_z(r,e,i));let s=this.end;if(s){const n=_z(s,e,i);s=s.getTime()===n.getTime()?n:Wx(n,1,e,i)}return new ba({start:r,end:s})}intersection(e){var l,u,d,h;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return ba.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const i=((l=this.start)==null?void 0:l.getTime())??-1/0,r=((u=this.end)==null?void 0:u.getTime())??1/0,s=((d=e.start)==null?void 0:d.getTime())??-1/0,n=((h=e.end)==null?void 0:h.getTime())??1/0;let a,o;return s>=i&&s<=r?a=s:i>=s&&i<=n&&(a=i),r>=s&&r<=n?o=r:n>=i&&n<=r&&(o=n),a==null||o==null||isNaN(a)||isNaN(o)?ba.empty:new ba({start:a===-1/0?null:new Date(a),end:o===1/0?null:new Date(o)})}offset(e,i,r=Xs){if(this.isEmpty||this.isAllTime)return this.clone();const s=new ba,{start:n,end:a}=this;return n!=null&&(s.start=Wx(n,e,i,r)),a!=null&&(s.end=Wx(a,e,i,r)),s}toArray(){var e,i;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((i=this.end)==null?void 0:i.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return Sz.clone();const i=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new ba({start:i,end:r})}},ba=Qg,Qg);c([f({type:Date,json:{write:{allowNull:!0}}})],xt.prototype,"end",void 0),c([te("end")],xt.prototype,"readEnd",null),c([ne("end")],xt.prototype,"writeEnd",null),c([f({readOnly:!0,json:{read:!1}})],xt.prototype,"isAllTime",null),c([f({readOnly:!0,json:{read:!1}})],xt.prototype,"isEmpty",null),c([f({type:Date,json:{write:{allowNull:!0}}})],xt.prototype,"start",void 0),c([te("start")],xt.prototype,"readStart",null),c([ne("start")],xt.prototype,"writeStart",null),xt=ba=c([E("esri.time.TimeExtent")],xt);const Sz=new xt,O3e=new xt({start:void 0,end:void 0});let F3e=0,si=class extends ha.EventedMixin(An.IdentifiableMixin(lr)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new qe(-180,-90,180,90,le.WGS84),this.id=Date.now().toString(16)+"-layer-"+F3e++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=le.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const i=typeof e=="string"?{url:e}:e;return(await R(async()=>{const{fromUrl:r}=await import("./arcgisLayers-CGocYGQl.js");return{fromUrl:r}},__vite__mapDeps([255,252,251,253]))).fromUrl(i)}static fromPortalItem(e){return R3e(e)}initialize(){this.when().catch(e=>{tr(e)||W.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}destroy(){const e=this.parent;if(e){const i=this;"layers"in e&&e.layers.includes(i)?e.layers.remove(i):"tables"in e&&e.tables.includes(i)?e.tables.remove(i):"baseLayers"in e&&e.baseLayers.includes(i)?e.baseLayers.remove(i):"referenceLayers"in e&&e.referenceLayers.includes(i)&&e.referenceLayers.remove(i),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const i=this.parent;return e&&i&&"effectiveVisible"in i&&e&&(e=i.effectiveVisible),e}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Si(this.url)}createLayerView(e,i){return Promise.reject(new P("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await it(e,{query:{f:"json"},responseType:"json"})).data;throw new P("layer:no-attribution-data","Layer does not have attribution data")}};c([f({type:String})],si.prototype,"attributionDataUrl",void 0),c([f({readOnly:!0})],si.prototype,"effectiveVisible",null),c([f({type:qe})],si.prototype,"fullExtent",void 0),c([f({readOnly:!0})],si.prototype,"hasAttributionData",null),c([f({type:String,clonable:!1})],si.prototype,"id",void 0),c([f({type:Boolean,nonNullable:!0})],si.prototype,"legendEnabled",void 0),c([f({type:["show","hide","hide-children"]})],si.prototype,"listMode",void 0),c([f({type:Number,range:{min:0,max:1},nonNullable:!0})],si.prototype,"opacity",void 0),c([f({clonable:!1})],si.prototype,"parent",void 0),c([f({readOnly:!0})],si.prototype,"parsedUrl",null),c([f({type:Boolean,readOnly:!0})],si.prototype,"persistenceEnabled",void 0),c([f({type:Boolean})],si.prototype,"popupEnabled",void 0),c([f({type:Boolean})],si.prototype,"attributionVisible",void 0),c([f({type:le})],si.prototype,"spatialReference",void 0),c([f({type:String})],si.prototype,"title",void 0),c([f({readOnly:!0,json:{read:!1}})],si.prototype,"type",void 0),c([f()],si.prototype,"url",void 0),c([f({type:xt})],si.prototype,"visibilityTimeExtent",void 0),c([f({type:Boolean,nonNullable:!0})],si.prototype,"visible",void 0),si=c([E("esri.layers.Layer")],si);function bE(t,e,i){let r,s;if(t)for(let n=0,a=t.length;n<a;n++){if(r=t.at(n),(r==null?void 0:r[e])===i)return r;if((r==null?void 0:r.type)==="group"&&(s=bE(r.layers,e,i),s))return s}}const N3e=t=>{let e=class extends t{constructor(...i){super(...i),this.layers=new K;const r=a=>{a.parent&&"remove"in a.parent&&a.parent.remove(a)},s=a=>{a.parent=this,this.layerAdded(a),a.type!=="elevation"&&a.type!=="base-elevation"||W.getLogger(this).error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as an operational layer and will therefore be ignored.`)},n=a=>{a.parent=null,this.layerRemoved(a)};this.addHandles([this.layers.on("before-add",a=>{if(a.item===this)return a.preventDefault(),void W.getLogger(this).error("#add()","Cannot add layer to itself.");r(a.item)}),this.layers.on("after-add",a=>s(a.item)),this.layers.on("after-remove",a=>n(a.item))])}destroy(){const i=this.layers.toArray();for(const r of i)r.destroy();this.layers.destroy()}set layers(i){this._set("layers",hd(i,this._get("layers")))}add(i,r){const s=this.layers;if(r=s.getNextIndex(r),i instanceof si){const n=i;n.parent===this?this.reorder(n,r):s.add(n,r)}else qc(i)?i.then(n=>{this.destroyed||this.add(n,r)}):W.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,r){const s=this.layers;let n=s.getNextIndex(r);i.slice().forEach(a=>{a.parent!==this?(s.add(a,n),n+=1):this.reorder(a,n)})}findLayerById(i){return bE(this.layers,"id",i)}findLayerByUid(i){return bE(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,r){return this.layers.reorder(i,r)}layerAdded(i){}layerRemoved(i){}};return c([f()],e.prototype,"layers",null),e=c([E("esri.support.LayersMixin")],e),e},D3e=new Set(["feature","subtype-group"]);function vE(t,e,i){if(t)for(let r=0,s=t.length;r<s;r++){const n=t.at(r);if(n[e]===i)return n;if((n==null?void 0:n.type)==="group"){const a=vE(n.tables,e,i);if(a)return a}}}const z3e=t=>{let e=class extends t{constructor(...i){super(...i),this.tables=new K,this.addHandles([this.tables.on("after-add",r=>{const s=r.item;s.parent&&s.parent!==this&&"tables"in s.parent&&s.parent.tables.remove(s),s.parent=this,D3e.has(s.type)||W.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",r=>{r.item.parent=null})])}destroy(){const i=this.tables.toArray();for(const r of i)r.destroy();this.tables.destroy()}set tables(i){this._set("tables",hd(i,this._get("tables")))}findTableById(i){return vE(this.tables,"id",i)}findTableByUid(i){return vE(this.tables,"uid",i)}};return c([f()],e.prototype,"tables",null),e=c([E("esri.support.TablesMixin")],e),e};let va=class extends z3e(N3e(ha.EventedMixin(ce))){constructor(e){super(e),this.allLayers=new Vl({getCollections:()=>{var i,r,s;return[(i=this.basemap)==null?void 0:i.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(s=this.basemap)==null?void 0:s.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.focusAreas=new kK,this.allTables=A3e(this),this.basemap=null,this.editableLayers=new Vl({getCollections:()=>[this.allLayers],itemFilterFunction:p_e}),this.ground=new W4,this._basemapCache=C3e()}destroy(){k3e(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=Lt(this.basemap),Lt(this.ground),this._set("ground",null)}castBasemap(e){return KK(e,this._basemapCache)}castGround(e){return P3e(e)??this._get("ground")}findLayerById(e){return this.allLayers.find(i=>i.id===e)}findTableById(e){return this.allTables.find(i=>i.id===e)}};c([f({readOnly:!0,dependsOn:[]})],va.prototype,"allLayers",void 0),c([f({type:kK,nonNullable:!0,json:{write:{overridePolicy:t=>({enabled:t.areas.length>0,ignoreOrigin:!0})}}})],va.prototype,"focusAreas",void 0),c([f({readOnly:!0})],va.prototype,"allTables",void 0),c([f({type:Zf,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],va.prototype,"basemap",void 0),c([Xe("basemap")],va.prototype,"castBasemap",null),c([f({readOnly:!0})],va.prototype,"editableLayers",void 0),c([f({type:W4,nonNullable:!0})],va.prototype,"ground",void 0),c([Xe("ground")],va.prototype,"castGround",null),c([f()],va.prototype,"undoRedo",void 0),va=c([E("esri.Map")],va);const see=va;let nw=class extends K{constructor(e){super(e),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(K.ofType(this.itemType.Type))(e):new K(e)}};function wE(t,e){return{type:t,cast:uK,set(i){const r=hd(i,this._get(e),t);r.owner=this,this._set(e,r)}}}c([f()],nw.prototype,"owner",null),nw=c([E("esri.core.support.OwningCollection")],nw);var jv;const Z4=ji()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),nee=Z4.jsonValues.slice();gfe(nee,"orthometric");const aw=ji()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Fs=jv=class extends B{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,e,i){return Z4.write(t,e,i)}readHeightModel(t,e,i){return Z4.read(t)||(i!=null&&i.messages&&i.messages.push(V3e(t,{context:i})),null)}readHeightUnit(t,e,i){return aw.read(t)||(i!=null&&i.messages&&i.messages.push(xz(t,{context:i})),null)}readHeightUnitService(t,e,i){return dL(t)||aw.read(t)||(i!=null&&i.messages&&i.messages.push(xz(t,{context:i})),null)}readVertCRS(t,e){return e.vertCRS||e.ellipsoid||e.geoid}clone(){return new jv({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,e){const i=vY(e);return new jv({heightModel:t.heightModel,heightUnit:i??void 0,vertCRS:t.vertCRS})}write(t,e){return e={origin:"web-scene",...e},super.write(t,e)}static fromJSON(t){if(!t)return null;const e=new jv;return e.read(t,{origin:"web-scene"}),e}};function xz(t,e){return new ca("height-unit:unsupported",`Height unit of value '${t}' is not supported`,e)}function V3e(t,e){return new ca("height-model:unsupported",`Height model of value '${t}' is not supported`,e)}c([f({type:Z4.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:nee,default:"ellipsoidal",write:{isRequired:!0}}}}})],Fs.prototype,"heightModel",void 0),c([ne("web-scene","heightModel")],Fs.prototype,"writeHeightModel",null),c([te(["web-scene","service"],"heightModel")],Fs.prototype,"readHeightModel",null),c([f({type:aw.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:aw.jsonValues,write:{writer:aw.write,isRequired:!0}}}}})],Fs.prototype,"heightUnit",void 0),c([te("web-scene","heightUnit")],Fs.prototype,"readHeightUnit",null),c([te("service","heightUnit")],Fs.prototype,"readHeightUnitService",null),c([f({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Fs.prototype,"vertCRS",void 0),c([te("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Fs.prototype,"readVertCRS",null),Fs=jv=c([E("esri.geometry.HeightModelInfo")],Fs);let J4=class extends nw{constructor(e){super(e),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(W.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};J4=c([E("esri.support.AnalysesCollection")],J4);let Zx;async function j3e(){return Zx==null&&(Zx=R(()=>import("./WhereClauseCache-C2FG_QgW.js"),__vite__mapDeps([122,123])).then(t=>new t.WhereClauseCache(500,500))),Zx}async function ZL(t,e){const i=await j3e(),r=i.get(t,e);if(r==null)throw i.getError(t,e);return r}function ow(t,e){return t||(t=null),e||(e=null),t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function _E(t,e){return t||(t=null),e||(e=null),t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function aee(t,e){return e.length===0?null:`${t} IN (${q3e(e)})`}function q3e(t){return t.map(e=>typeof e=="string"?B3e(e):e).join(",")}function B3e(t){return`'${t.replaceAll("'","''")}'`}function Ym(t){return typeof t=="number"}function cet(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function uet(t){return typeof t=="boolean"}function s3(t){return typeof t=="string"||t instanceof String}function U3e(t){return t==null||s3(t)}function det(t){return Array.isArray(t)}function oee(t){return(t==null?void 0:t.declaredClass)==="esri.Graphic"}function fet(t){return t instanceof Date}const G3e="HH:mm",H3e="HH:mm:ss",W3e="HH:mm:ss.SSS",Z3e=[W3e,H3e,G3e,"TT"],J3e="yyyy-MM-dd";function $z(t){if(!t||!s3(t))return null;const e=pe.fromFormat(t,J3e);return e.isValid?e:null}function Tz(t){return t&&s3(t)?Ufe(Z3e,e=>{const i=pe.fromFormat(t,e);return i.isValid?i:null})??null:null}function Iz(t){if(!t||!s3(t))return null;const e=pe.fromISO(t);return e.isValid?e:null}var Y4;(function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Y4||(Y4={}));const lee=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function Y3e(t){return t!=null&&lee.has(t.type)}function cee(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function uee(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function dee(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const X3e=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);PP(lee,X3e);function het(t,e){const i=t==null?void 0:t.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=Y3e(t);return cee(t)||dee(t)||uee(t)?{...Q3e(t,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function Q3e(t,e,i){var r,s,n,a,o,l;return cee(t)?{min:(r=$z(i))==null?void 0:r.toMillis(),max:(s=$z(e))==null?void 0:s.toMillis(),rawMin:i,rawMax:e}:dee(t)?{min:(n=Tz(i))==null?void 0:n.toMillis(),max:(a=Tz(e))==null?void 0:a.toMillis(),rawMin:i,rawMax:e}:uee(t)?{min:(o=Iz(i))==null?void 0:o.toMillis(),max:(l=Iz(e))==null?void 0:l.toMillis(),rawMin:i,rawMax:e}:{max:null,min:null}}function K3e(t){if(!t)return;const e=t.match(e5e);return e!=null&&e.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const e5e=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function t5e(t){var e,i;return((i=(e=t.match(i5e))==null?void 0:e[1])==null?void 0:i.replace(/\\'/g,"'"))??null}const i5e=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Jx;function Qa(){return Jx||(Jx=(async()=>{const[t,e,i]=await Promise.all([R(()=>import("./arcadeUtils-BhE0w0-4.js"),__vite__mapDeps([256,257,258,259,131,260,121,123,261])),R(()=>import("./batchExec-BpkABYLh.js"),__vite__mapDeps([262,176])),R(()=>import("./aiServices-Bi4Uh0zB.js").then(r=>r.ag),__vite__mapDeps([258,259,131,260]))]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:i,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel}})()),Jx}const r5e=/^([0-9_])/,s5e=/[^a-z0-9_\u0080-\uffff]+/gi;function n5e(t){return t==null?null:t.trim().replaceAll(s5e,"_").replace(r5e,"F$1")||null}const a5e=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],o5e=["field","normalizationField"];function Ez(t,e){if(t!=null&&e!=null){for(const i of Array.isArray(t)?t:[t])if(Mz(a5e,i,e),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)Mz(o5e,r,e)}}function Mz(t,e,i){if(t)for(const r of t){const s=V_(r,e),n=s&&typeof s!="function"&&i.get(s);n&&ti(r,n.name,e)}}function fee(t,e){var i;if(t!=null&&((i=e==null?void 0:e.fields)!=null&&i.length))if("startField"in t){const r=e.get(t.startField),s=e.get(t.endField);t.startField=(r==null?void 0:r.name)??null,t.endField=(s==null?void 0:s.name)??null}else{const r=e.get(t.startTimeField),s=e.get(t.endTimeField);t.startTimeField=(r==null?void 0:r.name)??null,t.endTimeField=(s==null?void 0:s.name)??null}}const Yx=new Set;function iS(t,e){return t&&e?(Yx.clear(),yh(Yx,t,e),Array.from(Yx).sort()):[]}function yh(t,e,i){var r;if(i)if((r=e==null?void 0:e.fields)!=null&&r.length)if(i.includes("*"))for(const{name:s}of e.fields)t.add(s);else for(const s of i)Zs(t,e,s);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const s of i)s!=null&&t.add(s)}}function Zs(t,e,i){if(typeof i=="string")if(e){const r=e.get(i);r&&t.add(r.name)}else t.add(i)}function pet(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(i=>i.name):e}function met(t,e,i=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const r=iS(t,e);return r.length/t.fields.length>=i?["*"]:r}async function Xr(t,e,i){var n;if(!i)return;let r;const s=K3e(i);if(s)r=[s];else{const{arcadeUtils:a}=await Qa();r=a.extractFieldNames(i,(n=e==null?void 0:e.fields)==null?void 0:n.map(o=>o.name))}for(const a of r)Zs(t,e,a)}async function JL(t,e,i){if(i&&i!=="1=1"){const r=await ZL(i,e);if(!r.isStandardized)throw new P("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});yh(t,e,r.fieldNames)}}function l5e({displayField:t,fields:e}){return t||(e!=null&&e.length?Xx(e,"name-or-title")||Xx(e,"unique-identifier")||Xx(e,"type-or-category")||c5e(e):null)}function c5e(t){for(const e of t){if(!(e!=null&&e.name))continue;const i=e.name.toLowerCase();if(i.includes("name")||i.includes("title"))return e.name}return null}function Xx(t,e){for(const i of t)if(i!=null&&i.valueType&&i.valueType===e)return i.name;return null}async function yet(t,e){var r;if(!e)return;const i=(r=e.elevationInfo)==null?void 0:r.featureExpressionInfo;return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}function u5e(t,e,i){i.onStatisticExpression?Xr(t,e,i.onStatisticExpression.expression):t.add(i.onStatisticField)}async function get(t,e,i){if(!e||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(hee(t,e,s)),i.fields&&r.push(...i.fields.map(async n=>u5e(t,e.fieldsIndex,n))),await Promise.all(r)}async function bet(t,e){var n,a,o;const{fieldsIndex:i,trackInfo:r}=e;if(!e||!r||!i)return;const s=[(n=r.latestObservations.renderer)==null?void 0:n.collectRequiredFields(t,i),(a=r.previousObservations.renderer)==null?void 0:a.collectRequiredFields(t,i),(o=r.trackLines.renderer)==null?void 0:o.collectRequiredFields(t,i)];r.popupTemplate&&s.push(hee(t,e,r.popupTemplate));for(const l of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(l)for(const u of l)s.push(yee(t,i,u));await Promise.all(s)}async function hee(t,e,i){const r=[];i!=null&&i.expressionInfos&&r.push(...i.expressionInfos.map(n=>Xr(t,e.fieldsIndex,n.expression)));const s=i==null?void 0:i.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(Xr(t,e.fieldsIndex,n.expressionInfo.expression));await Promise.all(r)}async function vet(t,e,i){e&&(e.timeInfo&&(i!=null&&i.timeExtent)&&yh(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&yh(t,e.fieldsIndex,[e.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await JL(t,e.fieldsIndex,i.where))}async function wet(t,e,i){e&&i&&await Promise.all(i.map(r=>d5e(t,e,r)))}async function d5e(t,e,i){e&&i&&(i.valueExpression?await Xr(t,e.fieldsIndex,i.valueExpression):i.field&&Zs(t,e.fieldsIndex,i.field))}function _et(t){return t?iS(t.fieldsIndex,pee(t)):[]}function f5e(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?iS(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function xet(t,e,i){if(!e||!i)return;const r=e.fieldsIndex;await Promise.all(i.filters.map(s=>JL(t,r,s.where)))}const h5e=new Set(["oid","global-id","guid"]),p5e=new Set(["oid","global-id"]),m5e=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function y5e(t){const e=new Set;mee(t).forEach(r=>e.add(r)),f5e(t).forEach(r=>e.add(r.toLowerCase()));const i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>e.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>e.add(r.toLowerCase()))),Array.from(e)}function pee(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=e;return[i,r,s,n].filter(Boolean)}function mee(t){return pee(t).map(e=>e.toLowerCase())}function g5e(t,e){var i;return t.editable&&!h5e.has(t.type)&&!mee(e).includes(((i=t.name)==null?void 0:i.toLowerCase())??"")}function b5e(t,e){var r;const i=((r=t.name)==null?void 0:r.toLowerCase())??"";return!((e==null?void 0:e.objectIdField)!=null&&i===e.objectIdField.toLowerCase()||(e==null?void 0:e.globalIdField)!=null&&i===e.globalIdField.toLowerCase()||y5e(e).includes(i)||p5e.has(t.type)||m5e.some(s=>s.test(i)))}async function $et(t,e){const{labelingInfo:i,fieldsIndex:r}=e;i!=null&&i.length&&await Promise.all(i.map(s=>yee(t,r,s)))}async function yee(t,e,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await Xr(t,e,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(a=>{Zs(t,e,a.slice(1,-1))})}await JL(t,e,s)}function v5e(t){const e=t.defaultValue;return e!==void 0&&bee(t,e)?e:t.nullable?null:void 0}function Tet(t){const e=typeof t=="string"?{type:t}:t;return YL(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function gee(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function w5e(t){return t===null||gee(t)}function _5e(t){return t===null||Number.isInteger(t)}function S5e(){return!0}function bee(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?_5e:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?w5e:gee;break;case"string":case"esriFieldTypeString":i=t.nullable?U3e:s3;break;default:i=S5e}return arguments.length===1?i:i(e)}const vee=["integer","small-integer","big-integer","long"],wee=["single","double"],x5e=[...vee,...wee],$5e=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],T5e=["esriFieldTypeSingle","esriFieldTypeDouble"],_ee=new Set([...vee,...$5e]),I5e=new Set([...wee,...T5e]),E5e=PP(_ee,I5e);function M5e(t){return t!=null&&_ee.has(t.type)}function n3(t){return t!=null&&E5e.has(t.type)}function YL(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function rS(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function See(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function xee(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function $s(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function Cz(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function kz(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function Iet(t,e){return C5e(t,e)===null}var X4,Q4;function Eet(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function C5e(t,e){return t==null||t.nullable&&e===null?null:bee(t,e)?n3(t)&&!k5e(t.type,Number(e))?X4.OUT_OF_RANGE:null:Q4.INVALID_TYPE}function k5e(t,e){const i=typeof t=="string"?$ee(t):t;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(e)&&e>=r&&e<=s:e>=r&&e<=s}function $ee(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return A5e;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return P5e;case"esriFieldTypeBigInteger":case"big-integer":return L5e;case"esriFieldTypeSingle":case"single":return R5e;case"esriFieldTypeDouble":case"double":return O5e}}(function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(X4||(X4={})),function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(Q4||(Q4={}));const A5e={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},P5e={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},L5e={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},R5e={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},O5e={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Met(t,e,i){switch(t){case Y4.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case Y4.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case Q4.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case X4.OUT_OF_RANGE:{const{min:r,max:s}=$ee(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${r} to ${s}`}}}function Tee(t,e){return!F5e(t,e,null)}function F5e(t,e,i){if(!(t!=null&&t.attributes)||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function SE(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function XL(t){const e=t==null?void 0:t.match(/{[^}]+}/g);return e?e.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let B9=class extends B{constructor(e){super(e),this.type=null}};c([f({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],B9.prototype,"type",void 0),B9=c([E("esri.popup.content.Content")],B9);const _d=B9,a5=new Ie({asc:"ascending",desc:"descending"});let qv=class extends ve.ClonableMixin(B){constructor(e){super(e),this.field=null,this.order="ascending"}};c([f({type:String,json:{write:!0}})],qv.prototype,"field",void 0),c([f({type:a5.apiValues,json:{type:a5.jsonValues,read:a5.read,write:a5.write}})],qv.prototype,"order",void 0),qv=c([E("esri.popup.support.AttachmentsOrderByInfo")],qv);const Iee=qv;let Hd=class extends ve.ClonableMixin(_d){constructor(e){super(e),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};c([f({type:String,json:{write:!0}})],Hd.prototype,"description",void 0),c([f({type:["auto","preview","list"],json:{write:!0}})],Hd.prototype,"displayType",void 0),c([f({type:[Iee],json:{write:!0}})],Hd.prototype,"orderByFields",void 0),c([f({type:String,json:{write:!0}})],Hd.prototype,"title",void 0),c([f({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Hd.prototype,"type",void 0),Hd=c([E("esri.popup.content.AttachmentsContent")],Hd);const jb=Hd;var xE;let Kh=xE=class extends _d{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new xE({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?z(this.outFields):null})}};c([f()],Kh.prototype,"creator",void 0),c([f()],Kh.prototype,"destroyer",void 0),c([f()],Kh.prototype,"outFields",void 0),c([f({type:["custom"],readOnly:!0})],Kh.prototype,"type",void 0),Kh=xE=c([E("esri.popup.content.CustomContent")],Kh);const N5e=Kh;var $E;let X0=$E=class extends B{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new $E({title:this.title,expression:this.expression})}};c([f({type:String,json:{write:!0}})],X0.prototype,"title",void 0),c([f({type:String,json:{write:!0}})],X0.prototype,"expression",void 0),c([f({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],X0.prototype,"returnType",void 0),X0=$E=c([E("esri.popup.ElementExpressionInfo")],X0);const Eee=X0;var TE;let Bv=TE=class extends _d{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){var t;return new TE({expressionInfo:(t=this.expressionInfo)==null?void 0:t.clone()})}};c([f({type:Eee,json:{write:!0}})],Bv.prototype,"expressionInfo",void 0),c([f({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Bv.prototype,"type",void 0),Bv=TE=c([E("esri.popup.content.ExpressionContent")],Bv);const sS=Bv;let Q0=class extends ve.ClonableMixin(B){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};c([oe(m1e)],Q0.prototype,"dateFormat",void 0),c([f({type:Boolean,json:{write:!0}})],Q0.prototype,"digitSeparator",void 0),c([f({type:Ye,json:{write:!0}})],Q0.prototype,"places",void 0),Q0=c([E("esri.popup.support.FieldInfoFormat")],Q0);const U9=Q0;var IE;let ho=IE=class extends B{constructor(t){super(t),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var t;return new IE({fieldName:this.fieldName,format:(t=this.format)==null?void 0:t.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};c([f({type:String,json:{write:!0}})],ho.prototype,"fieldName",void 0),c([f({type:U9,json:{write:!0}})],ho.prototype,"format",void 0),c([f({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],ho.prototype,"isEditable",void 0),c([f({type:String,json:{write:!0}})],ho.prototype,"label",void 0),c([oe(new Ie({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],ho.prototype,"stringFieldOption",void 0),c([f({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],ho.prototype,"statisticType",void 0),c([f({type:String,json:{write:!0}})],ho.prototype,"tooltip",void 0),c([f({type:Boolean,json:{write:!0}})],ho.prototype,"visible",void 0),ho=IE=c([E("esri.popup.FieldInfo")],ho);const a3=ho;var EE;let cu=EE=class extends _d{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map(i=>i.toJSON())}clone(){return new EE(z({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};c([f({type:Object,json:{write:!0}})],cu.prototype,"attributes",void 0),c([f({type:String,json:{write:!0}})],cu.prototype,"description",void 0),c([f({type:[a3]})],cu.prototype,"fieldInfos",void 0),c([ne("fieldInfos")],cu.prototype,"writeFieldInfos",null),c([f({type:String,json:{write:!0}})],cu.prototype,"title",void 0),c([f({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],cu.prototype,"type",void 0),cu=EE=c([E("esri.popup.content.FieldsContent")],cu);const Xm=cu;let ep=class extends B{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};c([f({type:String,json:{write:!0}})],ep.prototype,"altText",void 0),c([f({type:String,json:{write:!0}})],ep.prototype,"caption",void 0),c([f({type:String,json:{write:!0}})],ep.prototype,"title",void 0),c([f({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ep.prototype,"type",void 0),ep=c([E("esri.popup.content.mixins.MediaInfo")],ep);const QL=ep;var ME;let tp=ME=class extends ce{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var t;return new ME({color:(t=this.color)==null?void 0:t.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};c([f()],tp.prototype,"color",void 0),c([f()],tp.prototype,"fieldName",void 0),c([f()],tp.prototype,"tooltip",void 0),c([f()],tp.prototype,"value",void 0),tp=ME=c([E("esri.popup.content.support.ChartMediaInfoValueSeries")],tp);const Mee=tp;var CE;let Wd=CE=class extends B{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new CE({colors:z(this.colors),fields:z(this.fields),normalizeField:this.normalizeField,series:z(this.series),tooltipField:this.tooltipField})}};c([f({type:[ee],json:{type:[[Ye]],write:!0}})],Wd.prototype,"colors",void 0),c([f({type:[String],json:{write:{isRequired:!0}}})],Wd.prototype,"fields",void 0),c([f({type:String,json:{write:!0}})],Wd.prototype,"normalizeField",void 0),c([f({type:[Mee],json:{read:!1}})],Wd.prototype,"series",void 0),c([f({type:String,json:{write:!0}})],Wd.prototype,"tooltipField",void 0),Wd=CE=c([E("esri.popup.content.support.ChartMediaInfoValue")],Wd);const D5e=Wd;let Uv=class extends QL{constructor(e){super(e),this.type=null,this.value=void 0}};c([f({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Uv.prototype,"type",void 0),c([f({type:D5e,json:{write:{isRequired:!0}}})],Uv.prototype,"value",void 0),Uv=c([E("esri.popup.content.mixins.ChartMediaInfo")],Uv);const nS=Uv,aS=ji()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var kE;let G9=kE=class extends nS{constructor(t){super(t),this.type="bar-chart"}clone(){var t;return new kE({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};c([f({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:aS.write,isRequired:!0}}})],G9.prototype,"type",void 0),G9=kE=c([E("esri.popup.content.BarChartMediaInfo")],G9);const Cee=G9;var AE;let H9=AE=class extends nS{constructor(t){super(t),this.type="column-chart"}clone(){var t;return new AE({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};c([f({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:aS.write,isRequired:!0}}})],H9.prototype,"type",void 0),H9=AE=c([E("esri.popup.content.ColumnChartMediaInfo")],H9);const kee=H9;var PE;let Gv=PE=class extends B{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new PE({linkURL:this.linkURL,sourceURL:this.sourceURL})}};c([f({type:String,json:{write:!0}})],Gv.prototype,"linkURL",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],Gv.prototype,"sourceURL",void 0),Gv=PE=c([E("esri.popup.content.support.ImageMediaInfoValue")],Gv);const z5e=Gv;var LE;let K0=LE=class extends QL{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var t;return new LE({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(t=this.value)==null?void 0:t.clone()})}};c([f({type:Number,json:{write:!0}})],K0.prototype,"refreshInterval",void 0),c([f({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],K0.prototype,"type",void 0),c([f({type:z5e,json:{write:{isRequired:!0}}})],K0.prototype,"value",void 0),K0=LE=c([E("esri.popup.content.ImageMediaInfo")],K0);const Aee=K0;var RE;let W9=RE=class extends nS{constructor(t){super(t),this.type="line-chart"}clone(){var t;return new RE({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};c([f({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:aS.write,isRequired:!0}}})],W9.prototype,"type",void 0),W9=RE=c([E("esri.popup.content.LineChartMediaInfo")],W9);const Pee=W9;var OE;let Z9=OE=class extends nS{constructor(t){super(t),this.type="pie-chart"}clone(){var t;return new OE({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};c([f({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:aS.write,isRequired:!0}}})],Z9.prototype,"type",void 0),Z9=OE=c([E("esri.popup.content.PieChartMediaInfo")],Z9);const Lee=Z9,FE={base:QL,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Cee,"column-chart":kee,"line-chart":Pee,"pie-chart":Lee,image:Aee}};var NE;let po=NE=class extends _d{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?Aee.fromJSON(e):e.type==="barchart"?Cee.fromJSON(e):e.type==="columnchart"?kee.fromJSON(e):e.type==="linechart"?Pee.fromJSON(e):e.type==="piechart"?Lee.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(i=>i.toJSON())}clone(){return new NE(z({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};c([f()],po.prototype,"activeMediaInfoIndex",void 0),c([f({type:Object,json:{write:!0}})],po.prototype,"attributes",void 0),c([f({type:String,json:{write:!0}})],po.prototype,"description",void 0),c([f({types:[FE]})],po.prototype,"mediaInfos",void 0),c([te("mediaInfos")],po.prototype,"readMediaInfos",null),c([ne("mediaInfos")],po.prototype,"writeMediaInfos",null),c([f({type:String,json:{write:!0}})],po.prototype,"title",void 0),c([f({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],po.prototype,"type",void 0),po=NE=c([E("esri.popup.content.MediaContent")],po);const qb=po;var DE;let Hv=DE=class extends B{constructor(t){super(t),this.field=null,this.order=null}clone(){return new DE({field:this.field,order:this.order})}};c([f({type:String,json:{write:!0}})],Hv.prototype,"field",void 0),c([f({type:["asc","desc"],json:{write:!0}})],Hv.prototype,"order",void 0),Hv=DE=c([E("esri.popup.support.RelatedRecordsInfoFieldOrder")],Hv);const KL=Hv;let sl=class extends ve.ClonableMixin(_d){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};c([f({type:String,json:{write:!0}})],sl.prototype,"description",void 0),c([f({type:Number,json:{type:Ye,write:!0}})],sl.prototype,"displayCount",void 0),c([f({type:["list"],json:{write:{isRequired:!0}}})],sl.prototype,"displayType",void 0),c([f({type:[KL],json:{write:!0}})],sl.prototype,"orderByFields",void 0),c([f({type:Number,json:{type:Ye,write:{isRequired:!0}}})],sl.prototype,"relationshipId",void 0),c([f({type:String,json:{write:!0}})],sl.prototype,"title",void 0),c([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],sl.prototype,"type",void 0),sl=c([E("esri.popup.content.RelationshipContent")],sl);const Yw=sl;var zE;let Wv=zE=class extends _d{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new zE({text:this.text})}};c([f({type:String,json:{write:!0}})],Wv.prototype,"text",void 0),c([f({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Wv.prototype,"type",void 0),Wv=zE=c([E("esri.popup.content.TextContent")],Wv);const Qm=Wv;let uu=class extends ve.ClonableMixin(B){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};c([f({type:String,json:{write:!0}})],uu.prototype,"title",void 0),c([f({type:String,json:{write:!0}})],uu.prototype,"description",void 0),c([f({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],uu.prototype,"type",void 0),c([f({type:Number,json:{type:Ye,write:!0}})],uu.prototype,"associatedNetworkSourceId",void 0),c([f({type:Number,json:{type:Ye,write:!0}})],uu.prototype,"associatedAssetGroup",void 0),c([f({type:Number,json:{type:Ye,write:!0}})],uu.prototype,"associatedAssetType",void 0),uu=c([E("esri.popup.support.UtilityNetworkAssociationType")],uu);const Ree=uu;let Zd=class extends ve.ClonableMixin(_d){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};c([f({type:String,json:{write:!0}})],Zd.prototype,"description",void 0),c([f({type:Number,json:{type:Ye,write:!0}})],Zd.prototype,"displayCount",void 0),c([f({type:String,json:{write:!0}})],Zd.prototype,"title",void 0),c([f({type:[Ree],json:{write:!0}})],Zd.prototype,"associationTypes",void 0),c([oe({utilityNetworkAssociations:"utility-network-associations"})],Zd.prototype,"type",void 0),Zd=c([E("esri.popup.content.UtilityNetworkAssociationsContent")],Zd);const eR=Zd,V5e={base:null,key:"type",typeMap:{attachment:jb,media:qb,text:Qm,expression:sS,field:Xm,relationship:Yw,utilityNetworkAssociations:eR}},j5e={base:null,key:"type",typeMap:{attachment:jb,media:qb,text:Qm,expression:sS,field:Xm,relationship:Yw}};var VE;let ip=VE=class extends B{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new VE({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([f({type:String,json:{write:!0}})],ip.prototype,"name",void 0),c([f({type:String,json:{write:!0}})],ip.prototype,"title",void 0),c([f({type:String,json:{write:!0}})],ip.prototype,"expression",void 0),c([f({type:["string","number"],json:{write:!0}})],ip.prototype,"returnType",void 0),ip=VE=c([E("esri.popup.ExpressionInfo")],ip);const Oee=ip;var jE;let Zv=jE=class extends B{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new jE({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};c([f({type:Boolean,json:{write:!0}})],Zv.prototype,"returnTopmostRaster",void 0),c([f({type:Boolean,json:{write:!0}})],Zv.prototype,"showNoDataRecords",void 0),Zv=jE=c([E("esri.popup.LayerOptions")],Zv);const q5e=Zv;var qE;let Jv=qE=class extends B{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new qE({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?z(this.orderByFields):null})}};c([f({type:Boolean,json:{write:!0}})],Jv.prototype,"showRelatedRecords",void 0),c([f({type:[KL],json:{write:!0}})],Jv.prototype,"orderByFields",void 0),Jv=qE=c([E("esri.popup.RelatedRecordsInfo")],Jv);const Az=Jv;var BE;let wa=BE=class extends An.IdentifiableMixin(ce){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new BE({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};c([f()],wa.prototype,"active",void 0),c([f()],wa.prototype,"className",void 0),c([f()],wa.prototype,"disabled",void 0),c([f()],wa.prototype,"icon",void 0),c([f()],wa.prototype,"id",void 0),c([f()],wa.prototype,"indicator",void 0),c([f()],wa.prototype,"title",void 0),c([f()],wa.prototype,"type",void 0),c([f()],wa.prototype,"visible",void 0),wa=BE=c([E("esri.support.actions.ActionBase")],wa);const oS=wa;var UE;let J9=UE=class extends oS{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new UE({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};c([f()],J9.prototype,"image",void 0),J9=UE=c([E("esri.support.actions.ActionButton")],J9);const Fee=J9;var GE;let Yv=GE=class extends oS{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new GE({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};c([f()],Yv.prototype,"image",void 0),c([f()],Yv.prototype,"value",void 0),Yv=GE=c([E("esri.support.actions.ActionToggle")],Yv);const Nee=Yv,K1="relationships/",Pz="expression/",B5e=K.ofType({key:"type",defaultKeyValue:"button",base:oS,typeMap:{button:Fee,toggle:Nee}}),U5e={base:_d,key:"type",typeMap:{media:qb,custom:N5e,text:Qm,attachments:jb,fields:Xm,expression:sS,relationship:Yw,utilityNetworkAssociations:eR}},Dee=new Set(["attachments","fields","media","text","expression","relationship"]),G5e=new Set([...Dee,"utility-network-associations"]);let rr=class extends ve.ClonableMixin(B){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(i=>Nc(U5e,i)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||qc(e)?e:(W.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(e,i,r,s){this._writePopupTemplateContent(e,i,s)}writeWebMapContent(e,i,r,s){this._writePopupTemplateContent(e,i,s)}writeFieldInfos(e,i,r,s){const{content:n}=this,a=Array.isArray(n)?n:null;if(e){const o=a?a.filter(u=>u.type==="fields"):[],l=o.length&&o.every(u=>{var d;return(d=u.fieldInfos)==null?void 0:d.length});i.fieldInfos=e.filter(Boolean).map(u=>{const d=u.toJSON(s);return l&&(d.visible=!1),d})}if(a)for(const o of a)o.type==="fields"&&this._writeFieldsContent(o,i)}writeLayerOptions(e,i,r,s){i[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,i){i.title=e||""}async collectRequiredFields(e,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,i,[...r,...this._getContentExpressionInfos(this.content,r)]),yh(e,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const i=new Set;return await this.collectRequiredFields(i,e),[...i].sort()}_writePopupTemplateContent(e,i,r){typeof e!="string"?Array.isArray(e)&&(i.popupElements=e.filter(s=>(r==null?void 0:r.origin)==="web-scene"?Dee.has(s.type):G5e.has(s.type)).map(s=>s==null?void 0:s.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=e}_writeFieldsContent(e,i){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=z(e.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(s=>{const n=i.fieldInfos.find(a=>{var o,l;return((o=a.fieldName)==null?void 0:o.toLowerCase())===((l=s.fieldName)==null?void 0:l.toLowerCase())});n?n.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,i){var n,a;const r=((n=e.orderByFields)==null?void 0:n.map(o=>this._toFieldOrderJSON(o,e.relationshipId)))||[],s=[...((a=i.relatedRecordsInfo)==null?void 0:a.orderByFields)||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...(s==null?void 0:s.length)&&{orderByFields:s}}}_writeTextContent(e,i){!i.description&&e.text&&(i.description=e.text)}_writeMediaContent(e,i){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=z(e.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(e,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),qb.fromJSON(n)):n.type==="text"?(n.text||!e||s.description||(n.text=e,s.description=!0),Qm.fromJSON(n)):n.type==="attachments"?jb.fromJSON(n):n.type==="fields"?Xm.fromJSON(n):n.type==="expression"?sS.fromJSON(n):n.type==="relationship"?Yw.fromJSON(n):n.type==="utilityNetworkAssociations"?eR.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:i,order:r}=e;if(!(i!=null&&i.startsWith(K1)))return null;const s=i.replace(K1,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),a=s[1];return!Number.isNaN(n)&&a?Yw.fromJSON({relationshipId:n,orderByFields:[{field:a,order:r}]}):null}_toFieldOrderJSON(e,i){const{order:r,field:s}=e;return{field:`${K1}${i}/${s}`,order:r}}_readPopupInfo({description:e,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];e?n.push(new Qm({text:e})):n.push(new Xm),Array.isArray(i)&&i.length&&n.push(qb.fromJSON({mediaInfos:i})),r&&n.push(jb.fromJSON({displayType:"auto"}));const{showRelatedRecords:a,orderByFields:o}=s;return a&&(o!=null&&o.length)&&o.forEach(l=>{const u=this._toRelationshipContent(l);u&&n.push(u)}),n.length?n:e}_getContentElementFields(e){const i=e==null?void 0:e.type;if(i==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(i==="custom")return e.outFields||[];if(i==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(i==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(e.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:i,title:r,value:s}=e,n=s||{},{fields:a,normalizeField:o,tooltipField:l,sourceURL:u,linkURL:d}=n,h=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(u),...this._extractFieldNames(d),...a??[]];return o&&h.push(o),l&&h.push(l),h}_getContentExpressionInfos(e,i){return Array.isArray(e)?e.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,i,r){r&&await Promise.all(r.map(s=>Xr(e,i,s.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(K1)||i.startsWith(Pz))).map(i=>i.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:i,title:r,type:s}=e,n=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return XL(e).filter(i=>!(i.indexOf(K1)===0||i.indexOf(Pz)===0))}};c([f({type:B5e})],rr.prototype,"actions",void 0),c([f()],rr.prototype,"content",void 0),c([Xe("content")],rr.prototype,"castContent",null),c([te("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],rr.prototype,"readContent",null),c([ne("web-scene","content",{popupElements:{type:K.ofType(j5e)},showAttachments:{type:Boolean},mediaInfos:{type:K.ofType(FE)},description:{type:String},relatedRecordsInfo:{type:Az}})],rr.prototype,"writeWebSceneContent",null),c([ne("content",{popupElements:{type:K.ofType(V5e)},showAttachments:{type:Boolean},mediaInfos:{type:K.ofType(FE)},description:{type:String},relatedRecordsInfo:{type:Az}})],rr.prototype,"writeWebMapContent",null),c([f({type:[Oee],json:{write:!0}})],rr.prototype,"expressionInfos",void 0),c([f({type:[a3]})],rr.prototype,"fieldInfos",void 0),c([ne("fieldInfos")],rr.prototype,"writeFieldInfos",null),c([f({type:q5e})],rr.prototype,"layerOptions",void 0),c([ne("layerOptions")],rr.prototype,"writeLayerOptions",null),c([f({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],rr.prototype,"lastEditInfoEnabled",void 0),c([f()],rr.prototype,"outFields",void 0),c([f()],rr.prototype,"overwriteActions",void 0),c([f()],rr.prototype,"returnGeometry",void 0),c([f({json:{type:String}})],rr.prototype,"title",void 0),c([ne("title")],rr.prototype,"writeTitle",null),rr=c([E("esri.PopupTemplate")],rr);const v1=rr;function zet(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const i=[];for(const r of e.fieldNames)i.push(t.attributes[r]??null);return JSON.stringify(i)}}}function H5e(t,e){var i,r,s;if("uniqueIdFields"in e&&((i=e.uniqueIdFields)!=null&&i.length)){if(e.uniqueIdFields.length===1)return(r=t.attributes)==null?void 0:r[e.uniqueIdFields[0]];const n=e.uniqueIdFields.map(a=>{var o;return(o=t.attributes)==null?void 0:o[a]});return JSON.stringify(n)}return"objectIdField"in e&&e.objectIdField?(s=t.attributes)==null?void 0:s[e.objectIdField]:null}const Lz=new Ie({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let W5e=0,zi=class extends B{constructor(e){super(e),this.id="sym"+W5e++,this.type=null,this.color=new ee([0,0,0,1])}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};c([f({type:Lz.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Lz.write,isRequired:!0}}})],zi.prototype,"type",void 0),c([f({type:ee,json:{write:{allowNull:!0}}})],zi.prototype,"color",void 0),c([te("color")],zi.prototype,"readColor",null),zi=c([E("esri.symbols.Symbol")],zi);var HE;let ms=HE=class extends zi{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(n=>{const a=n.valueExpressionInfo;return a?Xr(t,e,a.expression):null});await Promise.all(s)}}}clone(){return new HE({data:z(this.data)})}hash(){return yZ(JSON.stringify(this.data)).toString()}};c([f({json:{write:!1}})],ms.prototype,"color",void 0),c([f({json:{write:!0}})],ms.prototype,"data",void 0),c([te("data",["symbol"])],ms.prototype,"readData",null),c([ne("data",{})],ms.prototype,"writeData",null),c([oe({CIMSymbolReference:"cim"},{readOnly:!0})],ms.prototype,"type",void 0),ms=HE=c([E("esri.symbols.CIMSymbol")],ms);let Us=class extends B{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,i,r){e||(i[r]=e)}};c([f({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Us.prototype,"enabled",void 0),c([ne("enabled")],Us.prototype,"writeEnabled",null),c([f({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Us.prototype,"type",void 0),Us=c([E("esri.symbols.Symbol3DLayer")],Us);function Z5e(t,e){const i=e.transparency!=null?Jw(e.transparency):1,r=e.color;return r&&Array.isArray(r)?new ee([r[0]||0,r[1]||0,r[2]||0,i]):null}function J5e(t,e){e.color=t.toJSON().slice(0,3);const i=X7(t.a);i!==0&&(e.transparency=i)}function Mh(t){return{type:ee,nonNullable:t==null?void 0:t.nonNullable,json:{type:[Ye],default:null,read:{source:["color","transparency"],reader:Z5e},write:{target:{color:{type:[Ye],isRequired:t==null?void 0:t.colorRequiredOnWrite},transparency:{type:Ye}},writer:J5e}}}}const jc={type:Number,cast:ct,json:{write:!0}};var K4;function qet(t){return t==="emissive"?K4.Emissive:K4.Color}(function(t){t[t.Emissive=0]="Emissive",t[t.Color=1]="Color"})(K4||(K4={}));let rp=class extends B{constructor(e){super(e),this.color=new ee([0,0,0,1]),this.extensionLength=0,this.size=lt(1)}clone(){}cloneProperties(){return{color:z(this.color),size:this.size,extensionLength:this.extensionLength}}};c([f({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],rp.prototype,"type",void 0),c([f(Mh({colorRequiredOnWrite:!0}))],rp.prototype,"color",void 0),c([f({...jc,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],rp.prototype,"extensionLength",void 0),c([f(jc)],rp.prototype,"size",void 0),rp=c([E("esri.symbols.edges.Edges3D")],rp);const tR=rp;var WE;let Y9=WE=class extends tR{constructor(t){super(t),this.type="sketch"}clone(){return new WE(this.cloneProperties())}};c([oe({sketch:"sketch"},{readOnly:!0})],Y9.prototype,"type",void 0),Y9=WE=c([E("esri.symbols.edges.SketchEdges3D")],Y9);const zee=Y9;var ZE;let X9=ZE=class extends tR{constructor(t){super(t),this.type="solid"}clone(){return new ZE(this.cloneProperties())}};c([oe({solid:"solid"},{readOnly:!0})],X9.prototype,"type",void 0),X9=ZE=c([E("esri.symbols.edges.SolidEdges3D")],X9);const iR=X9,Vee={types:{key:"type",base:tR,typeMap:{solid:iR,sketch:zee}},json:{write:!0}};var JE;let Ky=JE=class extends B{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new JE(t)}};c([f({json:{write:!1}})],Ky.prototype,"strength",void 0),c([f({json:{write:!1}})],Ky.prototype,"source",void 0),Ky=JE=c([E("esri.symbols.support.Symbol3DEmissive")],Ky);var YE;let wn=YE=class extends B{constructor(t){super(t),this.color=null,this.emissive=new Ky({source:"emissive"})}clone(){var e,i;const t={color:((e=this.color)==null?void 0:e.clone())??null,emissive:((i=this.emissive)==null?void 0:i.clone())??null};return new YE(t)}};c([f(Mh())],wn.prototype,"color",void 0),c([f({type:Ky,json:{write:!1}})],wn.prototype,"emissive",void 0),wn=YE=c([E("esri.symbols.support.Symbol3DMaterial")],wn);var XE,Kg;let kl=(Kg=class extends Us{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,i;return new XE({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(i=this.material)==null?void 0:i.clone(),castShadows:this.castShadows,size:this.size})}},XE=Kg,Kg);c([oe({Extrude:"extrude"},{readOnly:!0})],kl.prototype,"type",void 0),c([f({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],kl.prototype,"size",void 0),c([f({type:wn,json:{write:!0}})],kl.prototype,"material",void 0),c([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],kl.prototype,"castShadows",void 0),c([f(Vee)],kl.prototype,"edges",void 0),kl=XE=c([E("esri.symbols.ExtrudeSymbol3DLayer")],kl);let lw=class extends B{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};c([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],lw.prototype,"type",void 0),lw=c([E("esri.symbols.patterns.LinePattern3D")],lw);const Y5e=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var QE;const X5e=ji()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let em=QE=class extends lw{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new QE(t)}};c([f({type:["style"],json:{write:{isRequired:!0}}})],em.prototype,"type",void 0),c([oe(X5e),f({type:Y5e,json:{write:{isRequired:!0}}})],em.prototype,"style",void 0),em=QE=c([E("esri.symbols.patterns.LineStylePattern3D")],em);let cw=class extends B{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};c([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],cw.prototype,"type",void 0),cw=c([E("esri.symbols.patterns.Pattern3D")],cw);const Q5e=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var KE;let eg=KE=class extends cw{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new KE({style:this.style})}};c([f({type:["style"],json:{write:{isRequired:!0}}})],eg.prototype,"type",void 0),c([f({type:Q5e,json:{read:!0,write:{isRequired:!0}}})],eg.prototype,"style",void 0),eg=KE=c([E("esri.symbols.patterns.StylePattern3D")],eg);const K5e={types:{key:"type",base:cw,typeMap:{style:eg}},json:{write:!0}},jee={types:{key:"type",base:lw,typeMap:{style:em}},json:{write:!0}},uw=new ee("white"),e9e=new ee([255,255,255,0]);function t9e(t){return t.r===0&&t.g===0&&t.b===0}var eM;let dw=eM=class extends wn{constructor(t){super(t),this.colorMixMode=null}clone(){var e,i;const t={color:((e=this.color)==null?void 0:e.clone())??null,colorMixMode:this.colorMixMode,emissive:((i=this.emissive)==null?void 0:i.clone())??null};return new eM(t)}};c([oe({multiply:"multiply",replace:"replace",tint:"tint"})],dw.prototype,"colorMixMode",void 0),dw=eM=c([E("esri.symbols.support.Symbol3DFillMaterial")],dw);function i9e(t,e=!1){return t<=cZ?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function Het(t){return(lZ(t)?t.byteLength/8:t.length)<=cZ?Array.from(t):new Float64Array(t)}function Wet(t,e,i){return Array.isArray(t)?t.slice(e,e+i):t.subarray(e,e+i)}function o3(t=a9e){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function rR(t,e,i,r,s,n,a=o3()){return a[0]=t,a[1]=e,a[2]=i,a[3]=r,a[4]=s,a[5]=n,a}function Zet(t,e=o3()){return r9e(t,0,t.length/3,e)}function r9e(t,e,i,r=o3()){return qee(r,tM),s9e(r,t,e,i),r}function Jet(t,e=i9e(24)){const[i,r,s,n,a,o]=t;return e[0]=i,e[1]=r,e[2]=s,e[3]=i,e[4]=r,e[5]=o,e[6]=i,e[7]=a,e[8]=s,e[9]=i,e[10]=a,e[11]=o,e[12]=n,e[13]=r,e[14]=s,e[15]=n,e[16]=r,e[17]=o,e[18]=n,e[19]=a,e[20]=s,e[21]=n,e[22]=a,e[23]=o,e}function Yet(t,e){const i=isFinite(t[2])||isFinite(t[5]);return new qe(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function Xet(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function Qet(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function Ket(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function s9e(t,e,i=0,r=e.length/3){let s=t[0],n=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<r;d++)s=Math.min(s,e[i+3*d]),n=Math.min(n,e[i+3*d+1]),a=Math.min(a,e[i+3*d+2]),o=Math.max(o,e[i+3*d]),l=Math.max(l,e[i+3*d+1]),u=Math.max(u,e[i+3*d+2]);t[0]=s,t[1]=n,t[2]=a,t[3]=o,t[4]=l,t[5]=u}function ett(t,e,i){const r=e.length;let s=t[0],n=t[1],a=t[2],o=t[3],l=t[4],u=t[5];if(i)for(let d=0;d<r;d++){const h=e[d];s=Math.min(s,h[0]),n=Math.min(n,h[1]),a=Math.min(a,h[2]),o=Math.max(o,h[0]),l=Math.max(l,h[1]),u=Math.max(u,h[2])}else for(let d=0;d<r;d++){const h=e[d];s=Math.min(s,h[0]),n=Math.min(n,h[1]),o=Math.max(o,h[0]),l=Math.max(l,h[1])}t[0]=s,t[1]=n,t[2]=a,t[3]=o,t[4]=l,t[5]=u}function ttt(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function l3(t){return t[0]>=t[3]?0:t[3]-t[0]}function c3(t){return t[1]>=t[4]?0:t[4]-t[1]}function u3(t){return t[2]>=t[5]?0:t[5]-t[2]}function itt(t){const e=l3(t),i=u3(t),r=c3(t);return Math.sqrt(e*e+i*i+r*r)}function rtt(t,e=[0,0,0]){return e[0]=t[0]+l3(t)/2,e[1]=t[1]+c3(t)/2,e[2]=t[2]+u3(t)/2,e}function stt(t,e=[0,0,0]){return e[0]=l3(t),e[1]=c3(t),e[2]=u3(t),e}function ntt(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function n9e(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function att(t,e){return e==null||n9e(t,e)}function ott(t,e,i,r,s=t){return s[0]=t[0]+e,s[1]=t[1]+i,s[2]=t[2]+r,s[3]=t[3]+e,s[4]=t[4]+i,s[5]=t[5]+r,s}function ltt(t,e,i=t){const r=t[0]+l3(t)/2,s=t[1]+c3(t)/2,n=t[2]+u3(t)/2;return i[0]=r+(t[0]-r)*e,i[1]=s+(t[1]-s)*e,i[2]=n+(t[2]-n)*e,i[3]=r+(t[3]-r)*e,i[4]=s+(t[4]-s)*e,i[5]=n+(t[5]-n)*e,i}function ctt(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function utt(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function dtt(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function qee(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ftt(t){return t?qee(t,tM):o3(tM)}function htt(t,e){return e||(e=ei()),e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function ptt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function mtt(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=s,t[5]=Number.POSITIVE_INFINITY,t}function Rz(t){return t.length===6}function ytt(t){return l3(t)===0&&c3(t)===0&&u3(t)===0}function gtt(t,e,i){if(t==null||e==null)return t===e;if(!Rz(t)||!Rz(e))return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const tM=[1/0,1/0,1/0,-1/0,-1/0,-1/0],a9e=[0,0,0,0,0,0];o3();function btt(t,{isPrimitive:e,width:i,depth:r,height:s}){const n=e?10:1;if(i==null&&s==null&&r==null)return[n*t[0],n*t[1],n*t[2]];const a=g1(i,r,s);let o;for(let l=0;l<3;l++){const u=a[l];if(u!=null){o=u/t[l];break}}for(let l=0;l<3;l++)a[l]==null&&(a[l]=t[l]*o);return a}const o9e=rR(-.5,-.5,-.5,.5,.5,.5),l9e=rR(-.5,-.5,0,.5,.5,1),c9e=rR(-.5,-.5,0,.5,.5,.5);function vtt(t){switch(t){case"sphere":case"cube":case"diamond":return o9e;case"cylinder":case"cone":case"inverted-cone":return l9e;case"tetrahedron":return c9e;default:return}}const sR=["butt","square","round"],u9e=[...sR,"none"],Bee=["miter","bevel","round"];var iM;let sp=iM=class extends B{constructor(t){super(t),this.color=new ee([0,0,0,1]),this.size=lt(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new iM(t)}};c([f(Mh({colorRequiredOnWrite:!0}))],sp.prototype,"color",void 0),c([f({...jc,json:{write:{isRequired:!0}}})],sp.prototype,"size",void 0),c([f(jee)],sp.prototype,"pattern",void 0),c([f({type:sR,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],sp.prototype,"patternCap",void 0),sp=iM=c([E("esri.symbols.support.Symbol3DOutline")],sp);var Q9,eb;let Hr=(eb=class extends Us{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Q9(e)}static fromSimpleFillSymbol(e){var s,n,a;const i=e.outline&&e.outline.style&&e.outline.style!=="solid"?new em({style:e.outline.style}):null,r={size:((s=e.outline)==null?void 0:s.width)??0,color:(((n=e.outline)==null?void 0:n.color)??uw).clone(),pattern:i};return i&&((a=e.outline)!=null&&a.cap)&&(r.patternCap=e.outline.cap),new Q9({material:new dw({color:(e.color??e9e).clone()}),pattern:e.style&&e.style!=="solid"?new eg({style:e.style}):null,outline:r})}},Q9=eb,eb);c([oe({Fill:"fill"},{readOnly:!0})],Hr.prototype,"type",void 0),c([f({type:dw,json:{write:!0}})],Hr.prototype,"material",void 0),c([f(K5e)],Hr.prototype,"pattern",void 0),c([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Hr.prototype,"castShadows",void 0),c([f({type:sp,json:{write:!0}})],Hr.prototype,"outline",void 0),c([f(Vee)],Hr.prototype,"edges",void 0),Hr=Q9=c([E("esri.symbols.FillSymbol3DLayer")],Hr);var rM;const d9e=ji()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let np=rM=class extends B{constructor(t){super(t)}readHref(t,e,i){return t?ud(t,i):e.dataURI}writeHref(t,e,i,r){t&&(vd(t)?e.dataURI=t:(e.href=Bm(t,r),$n(e.href)&&(e.href=Ja(e.href))))}clone(){return new rM({href:this.href,primitive:this.primitive})}};c([f({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],np.prototype,"href",void 0),c([te("href")],np.prototype,"readHref",null),c([ne("href",{href:{type:String},dataURI:{type:String}})],np.prototype,"writeHref",null),c([oe(d9e)],np.prototype,"primitive",void 0),np=rM=c([E("esri.symbols.support.IconSymbol3DLayerResource")],np);const f9e="circle";var sM;let tg=sM=class extends ce{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new sM({x:this.x,y:this.y})}};c([f({type:Number})],tg.prototype,"x",void 0),c([f({type:Number})],tg.prototype,"y",void 0),tg=sM=c([E("esri.symbols.support.Symbol3DAnchorPosition2D")],tg);var nM;let Xv=nM=class extends B{constructor(t){super(t),this.color=new ee([0,0,0,1]),this.size=lt(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new nM(t)}};c([f(Mh({colorRequiredOnWrite:!0}))],Xv.prototype,"color",void 0),c([f({...jc,json:{write:{isRequired:!0}}})],Xv.prototype,"size",void 0),Xv=nM=c([E("esri.symbols.support.Symbol3DIconOutline")],Xv);var ey,tb;let Pr=(tb=class extends Us{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new ey({anchor:this.anchor,anchorPosition:z(this.anchorPosition),enabled:this.enabled,material:z(this.material),outline:z(this.outline),resource:z(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const i=e.color||uw,r=Oz(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||uw).clone()}:null;return new ey({size:e.size,angle:e.angle,resource:{primitive:p9e(()=>W.getLogger(this.prototype),e.style)},material:{color:i},outline:s,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const i=!e.color||t9e(e.color)?uw:e.color,r=Oz(e);return new ey({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:i.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new ey({resource:{href:FJ({mediaType:"application/json",data:JSON.stringify(e.data)})}})}},ey=tb,tb);function Oz(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,r=Fz(t.xoffset),s=Fz(t.yoffset);return(r||s)&&e&&i?{x:-r/e,y:s/i}:null}function Fz(t){return isFinite(t)?t:0}c([f({type:wn,json:{write:!0}})],Pr.prototype,"material",void 0),c([f({type:np,json:{write:!0}})],Pr.prototype,"resource",void 0),c([oe({Icon:"icon"},{readOnly:!0})],Pr.prototype,"type",void 0),c([f({...jc,json:{write:{isRequired:!0}}})],Pr.prototype,"size",void 0),c([oe({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],Pr.prototype,"anchor",void 0),c([f({type:tg,json:{type:[Number],read:{reader:t=>new tg({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Pr.prototype,"anchorPosition",void 0),c([f({type:Xv,json:{write:!0}})],Pr.prototype,"outline",void 0),c([f({type:Number,json:{write:!0,default:0}})],Pr.prototype,"angle",void 0),Pr=ey=c([E("esri.symbols.IconSymbol3DLayer")],Pr);const h9e={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function p9e(t,e){return h9e[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const m9e=["begin","end","begin-end"],Uee=["arrow","circle","square","diamond","cross","x"];let Du=class extends ve.ClonableMixin(B){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};c([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Du.prototype,"type",void 0),c([f({type:m9e,json:{default:"begin-end",write:!0}})],Du.prototype,"placement",void 0),c([f({type:Uee,json:{default:"arrow",write:!0}})],Du.prototype,"style",void 0),c([f({type:ee,json:{type:[Ye],default:null,write:!0}})],Du.prototype,"color",void 0),Du=c([E("esri.symbols.LineStyleMarker3D")],Du);var K9,ib;let ds=(ib=class extends Us{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=lt(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new K9(e)}static fromSimpleLineSymbol(e){var r;const i={enabled:!0,size:e.width??lt(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new em({style:e.style}):null,material:new wn({color:(e.color||uw).clone()}),marker:e.marker?new Du({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new K9(i)}},K9=ib,ib);c([f({type:wn,json:{write:!0}})],ds.prototype,"material",void 0),c([oe({Line:"line"},{readOnly:!0})],ds.prototype,"type",void 0),c([f({type:Bee,json:{write:!0,default:"miter"}})],ds.prototype,"join",void 0),c([f({type:sR,json:{write:!0,default:"butt"}})],ds.prototype,"cap",void 0),c([f({...jc,json:{write:{isRequired:!0}}})],ds.prototype,"size",void 0),c([f(jee)],ds.prototype,"pattern",void 0),c([f({types:{key:"type",base:Du,typeMap:{style:Du}},json:{write:!0}})],ds.prototype,"marker",void 0),ds=K9=c([E("esri.symbols.LineSymbol3DLayer")],ds);var aM;const y9e=ji()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Qv=aM=class extends B{clone(){return new aM({href:this.href,primitive:this.primitive})}};c([f({type:String,json:{read:E7,write:Um}})],Qv.prototype,"href",void 0),c([oe(y9e)],Qv.prototype,"primitive",void 0),Qv=aM=c([E("esri.symbols.support.ObjectSymbol3DLayerResource")],Qv);const g9e="sphere";var oM;let zp=oM=class extends ce{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new oM({x:this.x,y:this.y,z:this.z})}};c([f({type:Number})],zp.prototype,"x",void 0),c([f({type:Number})],zp.prototype,"y",void 0),c([f({type:Number})],zp.prototype,"z",void 0),zp=oM=c([E("esri.symbols.support.Symbol3DAnchorPosition3D")],zp);var lM,rb;let yr=(rb=class extends Us{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,i,r;return new lM({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((i=this.material)==null?void 0:i.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},lM=rb,rb);c([f({type:wn,json:{write:!0}})],yr.prototype,"material",void 0),c([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],yr.prototype,"castShadows",void 0),c([f({type:Qv,json:{write:!0}})],yr.prototype,"resource",void 0),c([oe({Object:"object"},{readOnly:!0})],yr.prototype,"type",void 0),c([f({type:Number,json:{write:!0}})],yr.prototype,"width",void 0),c([f({type:Number,json:{write:!0}})],yr.prototype,"height",void 0),c([f({type:Number,json:{write:!0}})],yr.prototype,"depth",void 0),c([oe({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],yr.prototype,"anchor",void 0),c([f({type:zp,json:{type:[Number],read:{reader:t=>new zp({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],yr.prototype,"anchorPosition",void 0),c([f({type:Number,json:{write:!0}})],yr.prototype,"heading",void 0),c([f({type:Number,json:{write:!0}})],yr.prototype,"tilt",void 0),c([f({type:Number,json:{write:!0}})],yr.prototype,"roll",void 0),c([f({readOnly:!0})],yr.prototype,"isPrimitive",null),yr=lM=c([E("esri.symbols.ObjectSymbol3DLayer")],yr);var cM,sb;let Cr=(sb=class extends Us{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,i){return e??(i.height==null&&i.size!=null?i.size:void 0)}readHeight(e,i){return e??(i.width==null&&i.size!=null?i.size:void 0)}clone(){return new cM({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},cM=sb,sb);c([f({type:wn,json:{write:!0}})],Cr.prototype,"material",void 0),c([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Cr.prototype,"castShadows",void 0),c([oe({Path:"path"},{readOnly:!0})],Cr.prototype,"type",void 0),c([f({type:["circle","quad"],json:{write:!0,default:"circle"}})],Cr.prototype,"profile",void 0),c([f({type:Bee,json:{write:!0,default:"miter"}})],Cr.prototype,"join",void 0),c([f({type:u9e,json:{write:!0,default:"butt"}})],Cr.prototype,"cap",void 0),c([f({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Cr.prototype,"width",void 0),c([te("width",["width","size","height"])],Cr.prototype,"readWidth",null),c([f({type:Number,json:{write:!0}})],Cr.prototype,"height",void 0),c([te("height",["height","size","width"])],Cr.prototype,"readHeight",null),c([f({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Cr.prototype,"anchor",void 0),c([f({type:["heading","all"],json:{write:!0,default:"all"}})],Cr.prototype,"profileRotation",void 0),Cr=cM=c([E("esri.symbols.PathSymbol3DLayer")],Cr);const b9e=["none","underline","line-through"],v9e=["normal","italic","oblique"],w9e=["normal","lighter","bold","bolder"],Gee={type:Number,cast:t=>{const e=js(t);return e===0?1:Yr(e,.1,4)},nonNullable:!0},_9e=["left","right","center"],S9e=["baseline","top","middle","bottom"],Hee={type:_9e,nonNullable:!0},Wee={type:S9e,nonNullable:!0},x9e=8;var uM;let Kn=uM=class extends B{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return ct(t)}clone(){return new uM({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};c([f({type:b9e,json:{default:"none",write:!0}})],Kn.prototype,"decoration",void 0),c([f({type:String,json:{write:!0}})],Kn.prototype,"family",void 0),c([f({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],Kn.prototype,"size",void 0),c([Xe("size")],Kn.prototype,"castSize",null),c([f({type:v9e,json:{default:"normal",write:!0}})],Kn.prototype,"style",void 0),c([f({type:w9e,json:{default:"normal",write:!0}})],Kn.prototype,"weight",void 0),Kn=uM=c([E("esri.symbols.Font")],Kn);var dM;let ig=dM=class extends B{constructor(){super(...arguments),this.color=new ee([0,0,0,1]),this.size=0}clone(){const t={color:z(this.color),size:this.size};return new dM(t)}};c([f(Mh())],ig.prototype,"color",void 0),c([f(jc)],ig.prototype,"size",void 0),ig=dM=c([E("esri.symbols.support.Symbol3DHalo")],ig);let fw=class extends ve.ClonableMixin(B){constructor(e){super(e),this.color=null}};c([f(Mh())],fw.prototype,"color",void 0),fw=c([E("esri.symbols.support.Symbol3DTextBackground")],fw);var e6,nb;let gr=(nb=class extends Us{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,i,r,s){const n={...s,textSymbol3D:!0};i.font=e.write({},n),delete i.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new e6({enabled:this.enabled,font:this.font&&z(this.font),halo:this.halo&&z(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:z(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new e6({font:e.font!=null?e.font.clone():new Kn,halo:$9e(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new wn({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new fw({color:e.backgroundColor.clone()}):null})}},e6=nb,nb);function $9e(t,e){return t&&e!=null&&e>0?new ig({color:z(t),size:e}):null}c([f({type:Kn,json:{write:!0}})],gr.prototype,"font",null),c([ne("font")],gr.prototype,"writeFont",null),c([f({type:ig,json:{write:!0}})],gr.prototype,"halo",void 0),c([f({...Hee,json:{default:"center",write:!0}})],gr.prototype,"horizontalAlignment",void 0),c([f({...Gee,json:{default:1,write:!0}})],gr.prototype,"lineHeight",void 0),c([f({type:wn,json:{write:!0}})],gr.prototype,"material",void 0),c([f({type:fw,json:{write:!0}})],gr.prototype,"background",void 0),c([f(jc)],gr.prototype,"size",null),c([f({type:String,json:{write:!0}})],gr.prototype,"text",void 0),c([oe({Text:"text"},{readOnly:!0})],gr.prototype,"type",void 0),c([f({...Wee,json:{default:"baseline",write:!0}})],gr.prototype,"verticalAlignment",void 0),gr=e6=c([E("esri.symbols.TextSymbol3DLayer")],gr);var fM,ab;let Eu=(ab=class extends Us{constructor(e){super(e),this.color=hM.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new fM({color:z(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},fM=ab,ab);c([f({type:ee,nonNullable:!0,json:{type:[Ye],write:(t,e,i)=>e[i]=t.toArray(ee.AlphaMode.UNLESS_OPAQUE),default:()=>hM.clone(),defaultEquals:t=>t.toCss(!0)===hM.toCss(!0)}})],Eu.prototype,"color",void 0),c([oe({Water:"water"},{readOnly:!0})],Eu.prototype,"type",void 0),c([f({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Eu.prototype,"waterbodySize",void 0),c([f({type:Number,json:{write:!0,default:null}})],Eu.prototype,"waveDirection",void 0),c([f({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Eu.prototype,"waveStrength",void 0),Eu=fM=c([E("esri.symbols.WaterSymbol3DLayer")],Eu);const hM=new ee([0,119,190]);var pM;let No=pM=class extends ce{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new pM({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};c([f({type:String})],No.prototype,"name",void 0),c([f({type:String})],No.prototype,"styleUrl",void 0),c([f({type:String})],No.prototype,"styleName",void 0),c([f({type:ie})],No.prototype,"portal",void 0),No=pM=c([E("esri.symbols.support.StyleOrigin")],No);var mM;let wm=mM=class extends ce{constructor(){super(...arguments),this.url=""}clone(){return new mM({url:this.url})}};c([f({type:String})],wm.prototype,"url",void 0),wm=mM=c([E("esri.symbols.support.Thumbnail")],wm);const Zee={icon:Pr,object:yr,line:ds,path:Cr,fill:Hr,extrude:kl,text:gr,water:Eu},T9e=K.ofType({base:Us,key:"type",typeMap:Zee,errorContext:"symbol-layer"});let pn=class extends zi{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i==null?void 0:i.type,s=r||K;this._set("symbolLayers",new s)}get color(){return null}set color(e){this.constructed&&W.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){hd(e,this._get("symbolLayers"))}readStyleOrigin(e,i,r){if(e.styleUrl&&e.name){const s=ud(e.styleUrl,r);return new No({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new No({portal:(r==null?void 0:r.portal)||ie.getDefault(),styleName:e.styleName,name:e.name});r!=null&&r.messages&&r.messages.push(new ca("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,i,r,s){if(e.styleUrl&&e.name){let n=Bm(e.styleUrl,s);$n(n)&&(n=Ja(n)),i.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&(s!=null&&s.portal)&&!OJ(e.portal.restUrl,s.portal.restUrl)?s!=null&&s.messages&&s.messages.push(new ca("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Us||e&&Zee[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};c([f({json:{read:!1,write:!1}})],pn.prototype,"color",null),c([f({type:T9e,nonNullable:!0,json:{write:!0}}),Xe(uK)],pn.prototype,"symbolLayers",null),c([f({type:No})],pn.prototype,"styleOrigin",void 0),c([te("styleOrigin")],pn.prototype,"readStyleOrigin",null),c([ne("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],pn.prototype,"writeStyleOrigin",null),c([f({type:wm,json:{read:!1}})],pn.prototype,"thumbnail",void 0),c([f({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],pn.prototype,"type",void 0),pn=c([E("esri.symbols.Symbol3D")],pn);let rg=class extends B{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};c([f({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],rg.prototype,"type",void 0),c([f({readOnly:!0})],rg.prototype,"visible",void 0),rg=c([E("esri.symbols.callouts.Callout3D")],rg);var yM;let t6=yM=class extends B{constructor(t){super(t),this.color=new ee("white")}clone(){return new yM({color:z(this.color)})}};c([f(Mh({colorRequiredOnWrite:!0}))],t6.prototype,"color",void 0),t6=yM=c([E("esri.symbols.callouts.LineCallout3DBorder")],t6);const I9e=t6;var gM;let Mu=gM=class extends rg{constructor(t){super(t),this.type="line",this.color=new ee([0,0,0,1]),this.size=lt(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new gM({color:z(this.color),size:this.size,border:z(this.border)})}};c([oe({line:"line"})],Mu.prototype,"type",void 0),c([f(Mh({colorRequiredOnWrite:!0}))],Mu.prototype,"color",void 0),c([f({...jc,json:{write:{isRequired:!0}}})],Mu.prototype,"size",void 0),c([f({type:I9e,json:{write:!0}})],Mu.prototype,"border",void 0),c([f({readOnly:!0})],Mu.prototype,"visible",null),Mu=gM=c([E("esri.symbols.callouts.LineCallout3D")],Mu);function nR(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function Jee(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!(e!=null&&e.visible)&&!!nR(t)}function $tt(t){return t.type==="point-3d"||t.type==="label-3d"}function Ttt(t){return t.horizontalAlignment==="center"}const Yee={types:{key:"type",base:rg,typeMap:{line:Mu}},json:{write:!0}};var bM;let $f=bM=class extends B{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new bM({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};c([f({...jc,json:{write:{isRequired:!0}}})],$f.prototype,"screenLength",void 0),c([f({type:Number,nonNullable:!0,json:{write:!0,default:0}})],$f.prototype,"minWorldLength",void 0),c([f({type:Number,json:{write:!0}})],$f.prototype,"maxWorldLength",void 0),$f=bM=c([E("esri.symbols.support.Symbol3DVerticalOffset")],$f);var i6;const Xee=K.ofType({base:null,key:"type",typeMap:{text:gr}});let ko=i6=class extends pn{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Xee,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Jee(this)}hasVisibleVerticalOffset(){return nR(this)}clone(){return new i6({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail),callout:z(this.callout),verticalOffset:z(this.verticalOffset)})}static fromTextSymbol(t){return new i6({symbolLayers:new K([gr.fromTextSymbol(t)])})}};c([f({type:$f,json:{write:!0}})],ko.prototype,"verticalOffset",void 0),c([f(Yee)],ko.prototype,"callout",void 0),c([f({json:{read:!1,write:!1}})],ko.prototype,"styleOrigin",void 0),c([f({type:Xee})],ko.prototype,"symbolLayers",void 0),c([oe({LabelSymbol3D:"label-3d"},{readOnly:!0})],ko.prototype,"type",void 0),ko=i6=c([E("esri.symbols.LabelSymbol3D")],ko);var r6;const Qee=K.ofType({base:null,key:"type",typeMap:{line:ds,path:Cr}}),E9e=K.ofType({base:null,key:"type",typeMap:{line:ds,path:Cr}});let na=r6=class extends pn{constructor(t){super(t),this.symbolLayers=new Qee,this.type="line-3d"}clone(){return new r6({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleLineSymbol(t){return new r6({symbolLayers:new K([ds.fromSimpleLineSymbol(t)])})}};c([f({type:Qee,json:{type:E9e}})],na.prototype,"symbolLayers",void 0),c([oe({LineSymbol3D:"line-3d"},{readOnly:!0})],na.prototype,"type",void 0),na=r6=c([E("esri.symbols.LineSymbol3D")],na);var s6;const Kee=K.ofType({base:null,key:"type",typeMap:{fill:Hr}});let _c=s6=class extends pn{constructor(t){super(t),this.symbolLayers=new Kee,this.type="mesh-3d"}clone(){return new s6({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleFillSymbol(t){return new s6({symbolLayers:new K([Hr.fromSimpleFillSymbol(t)])})}};c([f({type:Kee})],_c.prototype,"symbolLayers",void 0),c([oe({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],_c.prototype,"type",void 0),_c=s6=c([E("esri.symbols.MeshSymbol3D")],_c);let Kv=class extends zi{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};c([oe({esriSLS:"simple-line"},{readOnly:!0})],Kv.prototype,"type",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],Kv.prototype,"width",void 0),Kv=c([E("esri.symbols.LineSymbol")],Kv);var vM;let nl=vM=class extends B{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,r){e[i]=(r==null?void 0:r.origin)==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,r){(r==null?void 0:r.origin)==="web-map"||(e[i]=t)}clone(){return new vM({color:z(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${(t=this.color)==null?void 0:t.hash()}.${this.style}`}};c([f({type:["begin","end","begin-end"],json:{write:!0}})],nl.prototype,"placement",void 0),c([oe({"line-marker":"line-marker"},{readOnly:!0}),f({json:{origins:{"web-map":{write:!1}}}})],nl.prototype,"type",void 0),c([f({type:Uee})],nl.prototype,"style",void 0),c([ne("style")],nl.prototype,"writeStyle",null),c([f({type:ee,value:null,json:{write:{allowNull:!0}}})],nl.prototype,"color",null),c([te("color")],nl.prototype,"readColor",null),c([ne("color")],nl.prototype,"writeColor",null),nl=vM=c([E("esri.symbols.LineSymbolMarker")],nl);const M9e=nl;var wM;const Qx=new Ie({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let hi=wM=class extends Kv{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,r,s,n){if(t&&typeof t!="string")return t;const a={};return t!=null&&(a.style=t),e!=null&&(a.color=e),i!=null&&(a.width=ct(i)),r!=null&&(a.cap=r),s!=null&&(a.join=s),n!=null&&(a.miterLimit=ct(n)),a}clone(){var t;return new wM({color:z(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(t=this.marker)==null?void 0:t.clone()})}hash(){var t,e;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(e=this.marker)==null?void 0:e.hash()}`}};c([oe({esriSLS:"simple-line"},{readOnly:!0})],hi.prototype,"type",void 0),c([f({type:Qx.apiValues,json:{read:Qx.read,write:Qx.write}})],hi.prototype,"style",void 0),c([f({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],hi.prototype,"cap",void 0),c([f({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],hi.prototype,"join",void 0),c([f({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":M9e}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],hi.prototype,"marker",void 0),c([f({type:Number,json:{read:!1,write:!1}})],hi.prototype,"miterLimit",void 0),hi=wM=c([E("esri.symbols.SimpleLineSymbol")],hi);let sg=class extends zi{constructor(e){super(e),this.outline=null,this.type=null}hash(){var e;return`${this.type}.${(e=this.outline)==null?void 0:e.hash()}`}};c([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":hi}},json:{default:null,write:!0}})],sg.prototype,"outline",void 0),c([f({type:["simple-fill","picture-fill"],readOnly:!0})],sg.prototype,"type",void 0),sg=c([E("esri.symbols.FillSymbol")],sg);function C9e(t,e,i){return e.imageData?FJ({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):ete(e.url,i)}function ete(t,e){if(!$n(t)){const i=A9e(e);if(i)return uh(i,"images",t)}return ud(t,e)}function k9e(t,e,i,r){if(vd(t)){const s=qm(t);if(!s)return;e.contentType=s.mediaType,e.imageData=s.data,i&&i.imageData===e.imageData&&i.url&&Um(i.url,e,"url",r)}else Um(t,e,"url",r)}const tte={json:{read:{source:["imageData","url"],reader:C9e},write:{writer(t,e,i,r){k9e(t,e,this.source,r)}}}},ite={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const r={};return e.imageData&&(r.imageData=e.imageData),e.contentType&&(r.contentType=e.contentType),e.url&&(r.url=ete(e.url,i)),r}}}};function A9e(t){var s,n;if(!t)return null;const{origin:e,layer:i}=t;if(e!=="service"&&e!=="portal-item")return null;const r=i==null?void 0:i.type;return r==="feature"||r==="stream"?(s=i.parsedUrl)==null?void 0:s.path:r==="map-image"||r==="tile"?(n=t.url)==null?void 0:n.path:null}var _M;let un=_M=class extends sg{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string"&&t.imageData==null)return t;const s={};return t&&(s.url=t),e&&(s.outline=e),i!=null&&(s.width=ct(i)),r!=null&&(s.height=ct(r)),s}clone(){const t=new _M({color:z(this.color),height:this.height,outline:z(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",z(this.source)),t}hash(){var t;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};c([oe({esriPFS:"picture-fill"},{readOnly:!0})],un.prototype,"type",void 0),c([f(tte)],un.prototype,"url",void 0),c([f({type:Number,json:{write:!0}})],un.prototype,"xscale",void 0),c([f({type:Number,json:{write:!0}})],un.prototype,"yscale",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],un.prototype,"width",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],un.prototype,"height",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],un.prototype,"xoffset",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],un.prototype,"yoffset",void 0),c([f(ite)],un.prototype,"source",void 0),un=_M=c([E("esri.symbols.PictureFillSymbol")],un);let Cu=class extends zi{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};c([f({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Cu.prototype,"angle",void 0),c([f({type:["simple-marker","picture-marker"],readOnly:!0})],Cu.prototype,"type",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],Cu.prototype,"xoffset",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],Cu.prototype,"yoffset",void 0),c([f({cast:t=>t==="auto"?t:js(ct(t)),json:{write:!0}})],Cu.prototype,"size",void 0),Cu=c([E("esri.symbols.MarkerSymbol")],Cu);var SM;let Ns=SM=class extends Cu{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e!=null&&(r.width=ct(e)),i!=null&&(r.height=ct(i)),r}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new SM({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",z(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};c([f({json:{write:!1}})],Ns.prototype,"color",void 0),c([oe({esriPMS:"picture-marker"},{readOnly:!0})],Ns.prototype,"type",void 0),c([f(tte)],Ns.prototype,"url",void 0),c([f(ite)],Ns.prototype,"source",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],Ns.prototype,"height",void 0),c([te("height",["height","size"])],Ns.prototype,"readHeight",null),c([f({type:Number,cast:ct,json:{write:!0}})],Ns.prototype,"width",void 0),c([f({json:{write:!1}})],Ns.prototype,"size",void 0),Ns=SM=c([E("esri.symbols.PictureMarkerSymbol")],Ns);var ap;const rte=K.ofType({base:null,key:"type",typeMap:{icon:Pr,object:yr,text:gr}});let Zr=ap=class extends pn{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new rte,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Jee(this)}hasVisibleVerticalOffset(){return nR(this)}clone(){return new ap({verticalOffset:z(this.verticalOffset),callout:z(this.callout),styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new ap({symbolLayers:new K([Pr.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new ap({symbolLayers:new K([Pr.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){var r,s;if(((s=(r=t.data)==null?void 0:r.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const i=t.data.symbol;return new ap(i!=null&&i.callout?{symbolLayers:new K([Pr.fromCIMSymbol(t)]),callout:new Mu({size:.5,color:new ee([0,0,0])}),verticalOffset:new $f({screenLength:40})}:{symbolLayers:new K([Pr.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new ap({symbolLayers:new K([gr.fromTextSymbol(t)])})}};c([f({type:$f,json:{write:!0}})],Zr.prototype,"verticalOffset",void 0),c([f(Yee)],Zr.prototype,"callout",void 0),c([f({type:rte,json:{origins:{"web-scene":{write:!0}}}})],Zr.prototype,"symbolLayers",void 0),c([oe({PointSymbol3D:"point-3d"},{readOnly:!0})],Zr.prototype,"type",void 0),Zr=ap=c([E("esri.symbols.PointSymbol3D")],Zr);var e2;const ste=K.ofType({base:null,key:"type",typeMap:{extrude:kl,fill:Hr,icon:Pr,line:ds,object:yr,text:gr,water:Eu}});let _n=e2=class extends pn{constructor(t){super(t),this.symbolLayers=new ste,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&lh(W.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&lh(W.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(wr(()=>this.symbolLayers,"after-add",({item:e})=>t(e),Fc))}clone(){return new e2({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromJSON(t){var i;const e=new e2;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const r=e.symbolLayers.at(0),s=e.symbolLayers.at(1);!s.enabled||(i=t.symbolLayers)!=null&&i[1]&&t.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:s.material!=null?s.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new e2({symbolLayers:new K([Hr.fromSimpleFillSymbol(t)])})}};c([f({type:ste,json:{write:!0}})],_n.prototype,"symbolLayers",void 0),c([oe({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],_n.prototype,"type",void 0),_n=e2=c([E("esri.symbols.PolygonSymbol3D")],_n);var xM;const Kx=new Ie({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let ys=xM=class extends sg{constructor(...t){super(...t),this.color=new ee([0,0,0,.25]),this.outline=new hi,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e&&(r.outline=e),i&&(r.color=i),r}clone(){return new xM({color:z(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};c([f()],ys.prototype,"color",void 0),c([f()],ys.prototype,"outline",void 0),c([oe({esriSFS:"simple-fill"},{readOnly:!0})],ys.prototype,"type",void 0),c([f({type:Kx.apiValues,json:{read:Kx.read,write:Kx.write}})],ys.prototype,"style",void 0),ys=xM=c([E("esri.symbols.SimpleFillSymbol")],ys);var $M;const e$=new Ie({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Qt=$M=class extends Cu{constructor(...t){super(...t),this.color=new ee([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new hi}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string")return t;const s={};return t&&(s.style=t),e!=null&&(s.size=ct(e)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new $M({angle:this.angle,color:z(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(t=this.outline)==null?void 0:t.hash()}`}};c([f()],Qt.prototype,"color",void 0),c([ne("color")],Qt.prototype,"writeColor",null),c([oe({esriSMS:"simple-marker"},{readOnly:!0})],Qt.prototype,"type",void 0),c([f()],Qt.prototype,"size",void 0),c([f({type:e$.apiValues,json:{read:e$.read,write:e$.write}})],Qt.prototype,"style",void 0),c([f({type:String,json:{write:!0}})],Qt.prototype,"path",null),c([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":hi}},json:{default:null,write:!0}})],Qt.prototype,"outline",void 0),Qt=$M=c([E("esri.symbols.SimpleMarkerSymbol")],Qt);var TM;let At=TM=class extends zi{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Kn,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.text=t),e&&(r.font=e),i&&(r.color=i),r}writeLineWidth(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}castLineWidth(t){return ct(t)}writeLineHeight(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}clone(){return new TM({angle:this.angle,backgroundColor:z(this.backgroundColor),borderLineColor:z(this.borderLineColor),borderLineSize:this.borderLineSize,color:z(this.color),font:this.font&&this.font.clone(),haloColor:z(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t,e,i;return`${(t=this.backgroundColor)==null?void 0:t.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(e=this.color)==null?void 0:e.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};c([f({type:ee,json:{write:!0}})],At.prototype,"backgroundColor",void 0),c([f({type:ee,json:{write:!0}})],At.prototype,"borderLineColor",void 0),c([f({type:Number,json:{write:!0},cast:ct})],At.prototype,"borderLineSize",void 0),c([f({type:Kn,json:{write:!0}})],At.prototype,"font",void 0),c([f({...Hee,json:{write:!0}})],At.prototype,"horizontalAlignment",void 0),c([f({type:Boolean,json:{write:!0}})],At.prototype,"kerning",void 0),c([f({type:ee,json:{write:!0}})],At.prototype,"haloColor",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],At.prototype,"haloSize",void 0),c([f({type:Boolean,json:{write:!0}})],At.prototype,"rightToLeft",void 0),c([f({type:Boolean,json:{write:!0}})],At.prototype,"rotated",void 0),c([f({type:String,json:{write:!0}})],At.prototype,"text",void 0),c([oe({esriTS:"text"},{readOnly:!0})],At.prototype,"type",void 0),c([f({...Wee,json:{write:!0}})],At.prototype,"verticalAlignment",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],At.prototype,"xoffset",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],At.prototype,"yoffset",void 0),c([f({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],At.prototype,"angle",void 0),c([f({type:Number,json:{write:!0}})],At.prototype,"width",void 0),c([f({type:Number})],At.prototype,"lineWidth",void 0),c([ne("lineWidth")],At.prototype,"writeLineWidth",null),c([Xe("lineWidth")],At.prototype,"castLineWidth",null),c([f(Gee)],At.prototype,"lineHeight",void 0),c([ne("lineHeight")],At.prototype,"writeLineHeight",null),At=TM=c([E("esri.symbols.TextSymbol")],At);var IM;let Lr=IM=class extends zi{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:ie.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e==null?void 0:e.portal,super.read(t,e)}clone(){return new IM({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){oJ(W.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if((e==null?void 0:e.type)!=="cim")throw new P("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,i=e?this._fetchCacheKey:null;if(e!=null){const a=i&&e.get(i);if(a)return a.clone()}const{resolveWebStyleSymbol:r}=await R(()=>Promise.resolve().then(()=>mFe),void 0);ze(t);const s=r(this,{portal:this.portal},t);s.catch(a=>{W.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const n=await s;return e!=null&&e.set(i,n.clone()),n}};c([f({json:{write:!1}})],Lr.prototype,"color",void 0),c([f({type:String,json:{write:!0}})],Lr.prototype,"styleName",void 0),c([f({type:ie,json:{write:!1}})],Lr.prototype,"portal",void 0),c([f({type:String,json:{read:E7,write:Um}})],Lr.prototype,"styleUrl",void 0),c([f({type:wm,json:{read:!1}})],Lr.prototype,"thumbnail",void 0),c([f({type:String,json:{write:!0}})],Lr.prototype,"name",void 0),c([oe({styleSymbolReference:"web-style"},{readOnly:!0})],Lr.prototype,"type",void 0),c([f()],Lr.prototype,"_fetchCacheKey",null),Lr=IM=c([E("esri.symbols.WebStyleSymbol")],Lr);function lS(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Bc(t){switch(t==null?void 0:t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Ff={base:zi,key:"type",typeMap:{"simple-fill":ys,"picture-fill":un,"picture-marker":Ns,"simple-line":hi,"simple-marker":Qt,text:At,"label-3d":ko,"line-3d":na,"mesh-3d":_c,"point-3d":Zr,"polygon-3d":_n,"web-style":Lr,cim:ms},errorContext:"symbol"},Ctt={base:zi,key:"type",typeMap:{"picture-marker":Ns,"simple-marker":Qt,"point-3d":Zr,cim:ms},errorContext:"symbol"},ktt={base:zi,key:"type",typeMap:{"simple-line":hi,"line-3d":na,cim:ms},errorContext:"symbol"},Att={base:zi,key:"type",typeMap:{"simple-fill":ys,"picture-fill":un,"polygon-3d":_n,cim:ms},errorContext:"symbol"},P9e={base:zi,key:"type",typeMap:{"picture-marker":Ns,"simple-marker":Qt,text:At,"web-style":Lr,cim:ms},errorContext:"symbol"},L9e=c1({types:Ff}),nte={base:zi,key:"type",typeMap:{"simple-fill":ys,"picture-fill":un,"picture-marker":Ns,"simple-line":hi,"simple-marker":Qt,text:At,"line-3d":na,"mesh-3d":_c,"point-3d":Zr,"polygon-3d":_n,"web-style":Lr,cim:ms},errorContext:"symbol"},R9e={base:zi,key:"type",typeMap:{text:At,"label-3d":ko},errorContext:"symbol"},Nz={base:zi,key:"type",typeMap:{"line-3d":na,"mesh-3d":_c,"point-3d":Zr,"polygon-3d":_n,"web-style":Lr,cim:ms},errorContext:"symbol"},O9e={base:zi,key:"type",typeMap:{"label-3d":ko},errorContext:"symbol"},ate=Nc(Ff);var EM;function F9e(t){if(!t)return null;const e={};for(const i in t){const r=Xa(t[i]);r&&(e[i]=r)}return Object.keys(e).length!==0?e:null}function N9e(t){if(t==null)return null;const e={};for(const i in t){const r=t[i];r&&(e[i]=r.toJSON())}return Object.keys(e).length!==0?e:null}var ob;let mt=(ob=class extends ve.ClonableMixin(B){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:_9(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&_pe(W.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const i=this._get("aggregateGeometries");JSON.stringify(i)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const i=this._get("attributes");i!==e&&(this._set("attributes",e),this._notifyLayer("attributes",i,e))}set geometry(e){const i=this._get("geometry");i!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",i,e))}set popupTemplate(e){const i=this._get("popupTemplate");i!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",i,e))}set symbol(e){const i=this._get("symbol");i!==e&&(this._set("symbol",e),this._notifyLayer("symbol",i,e))}get version(){return this._version}set visible(e){const i=this._get("visible");i!==e&&(this._set("visible",e),this._notifyLayer("visible",i,e))}cloneShallow(){return new EM({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const i=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const r of[i,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(e&&"defaultPopupTemplate"in r&&r.defaultPopupTemplate!=null)return r.defaultPopupTemplate}return null}getAttribute(e){var i;return(i=this.attributes)==null?void 0:i[e]}setAttribute(e,i){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=i,this._notifyLayer("attributes",r,i,e)}else this.attributes={[e]:i}}getObjectId(){const e=this.sourceLayer??this.layer;return e?H5e(this,e):null}getGlobalId(){const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){var e;return{aggregateGeometries:N9e(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:Fw(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:i}=this;if((i==null?void 0:i.type)==="mesh"){const r={origin:i.origin,transform:i.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,i,r,s){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:i,newValue:r};e==="origin-transform"&&(n.action=s),e==="attributes"&&(n.attributeName=s),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([ir(()=>{var e,i;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(i=this.geometry.transform)==null?void 0:i.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:i})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===i||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=i,this.notifyMeshTransformChanged())}),ir(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var i;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(i=e.transform)==null?void 0:i.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,i)=>e===i,sync:!0})])}},EM=ob,ob);c([f({value:null,json:{read:F9e}})],mt.prototype,"aggregateGeometries",null),c([f({value:null})],mt.prototype,"attributes",null),c([f({value:null,types:n0,json:{read:Xa}})],mt.prototype,"geometry",null),c([f({type:Boolean})],mt.prototype,"isAggregate",void 0),c([f({clonable:!1})],mt.prototype,"layer",void 0),c([f({clonable:"reference"})],mt.prototype,"origin",void 0),c([f({type:v1,value:null})],mt.prototype,"popupTemplate",null),c([f({clonable:"reference"})],mt.prototype,"sourceLayer",void 0),c([f({value:null,types:Ff})],mt.prototype,"symbol",null),c([f({clonable:!1,json:{read:!1,write:!1}})],mt.prototype,"_version",void 0),c([f({type:Boolean,value:!0})],mt.prototype,"visible",null),mt=EM=c([E("esri.Graphic")],mt);let _m=class extends nw{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};c([NP({Type:mt,ensureType:Ft(mt)})],_m.prototype,"itemType",void 0),_m=c([E("esri.support.GraphicsCollection")],_m);let Jd=class extends ce{constructor(e){super(e),this.view=null,this.baseLayerViews=new K,this.referenceLayerViews=new K,this._loadingHandle=Y(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.basemap},i=>{i&&i.load().catch(()=>{})},Le)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const e of this.baseLayerViews)e.destroy();this.baseLayerViews.length=0;for(const e of this.referenceLayerViews)e.destroy();this.referenceLayerViews.length=0}get suspended(){var e;return((e=this.view)==null?void 0:e.suspended)??!0}get updating(){var i,r,s;if((i=this.view)!=null&&i.suspended)return!1;const e=(s=(r=this.view)==null?void 0:r.map)==null?void 0:s.basemap;return!!(e!=null&&e.loaded)&&(this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};c([f({constructOnly:!0})],Jd.prototype,"view",void 0),c([f({readOnly:!0})],Jd.prototype,"baseLayerViews",void 0),c([f({readOnly:!0})],Jd.prototype,"referenceLayerViews",void 0),c([f({readOnly:!0})],Jd.prototype,"suspended",null),c([f({type:Boolean,readOnly:!0})],Jd.prototype,"updating",null),Jd=c([E("esri.views.BasemapView")],Jd);const D9e=Jd;let Vn=class extends ce{constructor(e){super(e),this.factor=1.5,this.offset=cr(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};c([f({type:Number})],Vn.prototype,"factor",void 0),c([f({nonNullable:!0})],Vn.prototype,"offset",void 0),c([f()],Vn.prototype,"position",void 0),c([f({type:Number,range:{min:0}})],Vn.prototype,"size",void 0),c([f()],Vn.prototype,"maskUrl",void 0),c([f()],Vn.prototype,"maskEnabled",void 0),c([f()],Vn.prototype,"overlayUrl",void 0),c([f()],Vn.prototype,"overlayEnabled",void 0),c([f({readOnly:!0})],Vn.prototype,"version",null),c([f({type:Boolean})],Vn.prototype,"visible",void 0),Vn=c([E("esri.views.Magnifier")],Vn);const ote=Vn;let Sm=class{constructor(e){this._observable=new r1,this._map=new Map(e)}get size(){return Ee(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const i=this._map.delete(e);return i&&this._observable.notify(),i}entries(){return Ee(this._observable),this._map.entries()}forEach(e,i){Ee(this._observable),this._map.forEach((r,s)=>e.call(i,r,s,this),i)}get(e){return Ee(this._observable),this._map.get(e)}has(e){return Ee(this._observable),this._map.has(e)}keys(){return Ee(this._observable),this._map.keys()}set(e,i){return this._map.set(e,i),this._observable.notify(),this}values(){return Ee(this._observable),this._map.values()}[Symbol.iterator](){return Ee(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var MM;let Nf=MM=class extends B{constructor(t){super(t),this.name=null,this.code=null}clone(){return new MM({name:this.name,code:this.code})}};c([f({type:String,json:{write:{isRequired:!0}}})],Nf.prototype,"name",void 0),c([f({type:[String,Number],json:{write:{isRequired:!0}}})],Nf.prototype,"code",void 0),Nf=MM=c([E("esri.layers.support.CodedValue")],Nf);const z9e=new Ie({inherited:"inherited",codedValue:"coded-value",range:"range"});let Df=class extends B{constructor(e){super(e),this.name=null,this.type=null}};c([f({type:String,json:{write:!0}})],Df.prototype,"name",void 0),c([oe(z9e),f({json:{write:{isRequired:!0}}})],Df.prototype,"type",void 0),Df=c([E("esri.layers.support.Domain")],Df);var CM,lb;let Yu=(lb=class extends Df{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let i=null;if(this.codedValues){const r=String(e);this.codedValues.some(s=>(String(s.code)===r&&(i=s.name),!!i))}return i}clone(){return new CM({codedValues:z(this.codedValues),name:this.name})}},CM=lb,lb);c([f({type:[Nf],json:{write:{isRequired:!0}}})],Yu.prototype,"codedValues",void 0),c([oe({codedValue:"coded-value"})],Yu.prototype,"type",void 0),Yu=CM=c([E("esri.layers.support.CodedValueDomain")],Yu);var kM,cb;let hw=(cb=class extends Df{constructor(e){super(e),this.type="inherited"}clone(){return new kM}},kM=cb,cb);c([oe({inherited:"inherited"})],hw.prototype,"type",void 0),hw=kM=c([E("esri.layers.support.InheritedDomain")],hw);var AM,ub;let Vp=(ub=class extends Df{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new AM({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},AM=ub,ub);c([f({json:{type:[Number],read:{source:"range",reader:(t,e)=>{var i;return(i=e.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]},isRequired:!0}}})],Vp.prototype,"maxValue",void 0),c([f({json:{type:[Number],read:{source:"range",reader:(t,e)=>{var i;return(i=e.range)==null?void 0:i[0]}},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]},isRequired:!0}}})],Vp.prototype,"minValue",void 0),c([oe({range:"range"})],Vp.prototype,"type",void 0),Vp=AM=c([E("esri.layers.support.RangeDomain")],Vp);const lte={key:"type",base:Df,typeMap:{range:Vp,"coded-value":Yu,inherited:hw}};function cS(t){if(!(t!=null&&t.type))return null;switch(t.type){case"range":return Vp.fromJSON(t);case"codedValue":return Yu.fromJSON(t);case"inherited":return hw.fromJSON(t)}return null}const w1=new Ie({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var PM;const V9e=new Ie({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var db;let sr=(db=class extends B{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return(r==null?void 0:r.value)??null}readValueType(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?V9e.fromJSON(r.fieldValueType):null}clone(){var e;return new PM({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},PM=db,db);c([f({type:String,json:{write:!0}})],sr.prototype,"alias",void 0),c([f({type:[String,Number],json:{write:{allowNull:!0}}})],sr.prototype,"defaultValue",void 0),c([f()],sr.prototype,"description",void 0),c([te("description")],sr.prototype,"readDescription",null),c([f({types:lte,json:{read:{reader:cS},write:!0}})],sr.prototype,"domain",void 0),c([f({type:Boolean,json:{write:!0}})],sr.prototype,"editable",void 0),c([f({type:Ye,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],sr.prototype,"length",void 0),c([f({type:String,json:{write:!0}})],sr.prototype,"name",void 0),c([f({type:Boolean,json:{write:!0}})],sr.prototype,"nullable",void 0),c([oe(w1)],sr.prototype,"type",void 0),c([f()],sr.prototype,"valueType",void 0),c([te("valueType",["description"])],sr.prototype,"readValueType",null),c([f({type:Boolean,json:{read:!1}})],sr.prototype,"visible",void 0),sr=PM=c([E("esri.layers.support.Field")],sr);var LM;let ty=LM=class extends B{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new LM({mapLayerId:t,gdbVersion:e})}};c([oe({mapLayer:"map-layer"}),f({json:{write:{isRequired:!0}}})],ty.prototype,"type",void 0),c([f({type:Ye,json:{write:{isRequired:!0}}})],ty.prototype,"mapLayerId",void 0),c([f({type:String,json:{write:!0}})],ty.prototype,"gdbVersion",void 0),ty=LM=c([E("esri.layers.support.source.MapLayerSource")],ty);var RM;let du=RM=class extends B{constructor(t){super(t),this.type="query-table"}clone(){const{workspaceId:t,query:e,oidFields:i,spatialReference:r,geometryType:s}=this,n={workspaceId:t,query:e,oidFields:i,spatialReference:(r==null?void 0:r.clone())??void 0,geometryType:s};return new RM(n)}};c([oe({queryTable:"query-table"}),f({json:{write:{isRequired:!0}}})],du.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],du.prototype,"workspaceId",void 0),c([f({type:String,json:{write:!0}})],du.prototype,"query",void 0),c([f({type:String,json:{write:!0}})],du.prototype,"oidFields",void 0),c([f({type:le,json:{write:!0}})],du.prototype,"spatialReference",void 0),c([oe(jye)],du.prototype,"geometryType",void 0),du=RM=c([E("esri.layers.support.source.QueryTableDataSource")],du);var OM;let iy=OM=class extends B{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new OM({workspaceId:t,dataSourceName:e})}};c([oe({raster:"raster"}),f({json:{write:{isRequired:!0}}})],iy.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],iy.prototype,"dataSourceName",void 0),c([f({type:String,json:{write:!0}})],iy.prototype,"workspaceId",void 0),iy=OM=c([E("esri.layers.support.source.RasterDataSource")],iy);var FM;let op=FM=class extends B{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new FM({workspaceId:t,gdbVersion:e,dataSourceName:i})}};c([oe({table:"table"}),f({json:{write:{isRequired:!0}}})],op.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],op.prototype,"workspaceId",void 0),c([f({type:String,json:{write:!0}})],op.prototype,"gdbVersion",void 0),c([f({type:String,json:{write:!0}})],op.prototype,"dataSourceName",void 0),op=FM=c([E("esri.layers.support.source.TableDataSource")],op);var NM,DM;const j9e=ji()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let jn=NM=class extends B{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return Dz()(t,e,i)}castLeftTableSource(t){return Nc(zM(),t)}readRightTableSource(t,e,i){return Dz()(t,e,i)}castRightTableSource(t){return Nc(zM(),t)}clone(){const{leftTableKey:t,rightTableKey:e,leftTableSource:i,rightTableSource:r,joinType:s}=this,n={leftTableKey:t,rightTableKey:e,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(r==null?void 0:r.clone())??void 0,joinType:s};return new NM(n)}};c([oe({joinTable:"join-table"}),f({json:{write:{isRequired:!0}}})],jn.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],jn.prototype,"leftTableKey",void 0),c([f({type:String,json:{write:!0}})],jn.prototype,"rightTableKey",void 0),c([f({json:{write:!0}})],jn.prototype,"leftTableSource",void 0),c([te("leftTableSource")],jn.prototype,"readLeftTableSource",null),c([Xe("leftTableSource")],jn.prototype,"castLeftTableSource",null),c([f({json:{write:!0}})],jn.prototype,"rightTableSource",void 0),c([te("rightTableSource")],jn.prototype,"readRightTableSource",null),c([Xe("rightTableSource")],jn.prototype,"castRightTableSource",null),c([oe(j9e)],jn.prototype,"joinType",void 0),jn=NM=c([E("esri.layers.support.source.JoinTableDataSource")],jn);let t$=null;function Dz(){return t$||(t$=c1({types:zM()})),t$}let i$=null;function zM(){return i$||(i$={key:"type",base:null,typeMap:{"data-layer":Ao,"map-layer":ty}}),i$}const q9e={key:"type",base:null,typeMap:{"join-table":jn,"query-table":du,raster:iy,table:op}};var fb;let Ao=(fb=class extends B{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:i}=this;return new DM({fields:e,dataSource:i})}},DM=fb,fb);c([oe({dataLayer:"data-layer"}),f({json:{write:{isRequired:!0}}})],Ao.prototype,"type",void 0),c([f({type:[sr],json:{write:!0}})],Ao.prototype,"fields",void 0),c([f({types:q9e,json:{write:!0}})],Ao.prototype,"dataSource",void 0),Ao=DM=c([E("esri.layers.support.source.DataLayerSource")],Ao),Ao.from=Ft(Ao);let lp=class extends ve.ClonableMixin(B){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};c([f({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],lp.prototype,"onFields",void 0),c([f({type:String,json:{write:!0}})],lp.prototype,"operator",void 0),c([f({type:String,json:{write:!0}})],lp.prototype,"searchTerm",void 0),c([f({type:String,json:{write:!0}})],lp.prototype,"searchType",void 0),lp=c([E("esri.rest.support.FullTextSearch")],lp);const B9e=lp;var VM;const zz=new Ie({upperLeft:"upper-left",lowerLeft:"lower-left"});let zu=VM=class extends B{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new VM(z({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};c([f({type:qe,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],zu.prototype,"extent",void 0),c([f({type:["view","edit"],json:{write:!0}})],zu.prototype,"mode",void 0),c([f({type:String,json:{read:zz.read,write:zz.write}})],zu.prototype,"originPosition",void 0),c([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],zu.prototype,"tolerance",void 0),zu=VM=c([E("esri.rest.support.QuantizationParameters")],zu);const cte=new Ie({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var jM;const Vz=new Ie({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let br=jM=class extends B{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,e){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(e.statisticParameters=z(t))}clone(){return new jM({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:z(this.statisticParameters)})}};c([f({type:Number,json:{write:!0}})],br.prototype,"maxPointCount",void 0),c([f({type:Number,json:{write:!0}})],br.prototype,"maxRecordCount",void 0),c([f({type:Number,json:{write:!0}})],br.prototype,"maxVertexCount",void 0),c([f({type:String,json:{write:!0}})],br.prototype,"onStatisticField",void 0),c([f({type:String,json:{write:!0}})],br.prototype,"outStatisticFieldName",void 0),c([f({type:String,json:{read:{source:"statisticType",reader:Vz.read},write:{target:"statisticType",writer:Vz.write}}})],br.prototype,"statisticType",void 0),c([f({type:Object})],br.prototype,"statisticParameters",void 0),c([ne("statisticParameters")],br.prototype,"writeStatisticParameters",null),br=jM=c([E("esri.rest.support.StatisticDefinition")],br);var n6;const U9e=new Ie({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var km;let me=(km=class extends B{static from(e){return o1(n6,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeParameterValues(e,i){if(e){const r={};for(const s in e){const n=e[s];Array.isArray(n)?r[s]=n.map(a=>a instanceof Date?a.getTime():a):n instanceof Date?r[s]=n.getTime():r[s]=n}i.parameterValues=r}}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,i.where="1=1"}writeWhere(e,i){i.where=e||"1=1"}clone(){return new n6(z({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},n6=km,km.MAX_MAX_RECORD_COUNT_FACTOR=5,km);c([f({json:{write:!0}})],me.prototype,"aggregateIds",void 0),c([f({type:Boolean,json:{write:!0}})],me.prototype,"cacheHint",void 0),c([f({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"compactGeometryEnabled",void 0),c([f({json:{write:!0}})],me.prototype,"datumTransformation",void 0),c([Xe("datumTransformation")],me.prototype,"castDatumTransformation",null),c([f({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"defaultSpatialReferenceEnabled",void 0),c([f({type:Number,json:{write:!0}})],me.prototype,"distance",void 0),c([f({type:Ao,json:{write:!0}})],me.prototype,"dynamicDataSource",void 0),c([f({type:String,json:{write:!0}})],me.prototype,"formatOf3DObjects",void 0),c([f({type:[B9e],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],me.prototype,"fullText",void 0),c([f({type:String,json:{write:!0}})],me.prototype,"gdbVersion",void 0),c([f({types:n0,json:{read:Xa,write:!0}})],me.prototype,"geometry",void 0),c([f({type:Number,json:{write:!0}})],me.prototype,"geometryPrecision",void 0),c([f({type:[String],json:{write:!0}})],me.prototype,"groupByFieldsForStatistics",void 0),c([f({type:String,json:{write:!0}})],me.prototype,"having",void 0),c([f({type:Date})],me.prototype,"historicMoment",void 0),c([ne("historicMoment")],me.prototype,"writeHistoricMoment",null),c([f({type:Number,json:{write:!0}})],me.prototype,"maxAllowableOffset",void 0),c([f({type:Number,cast:t=>t<1?1:t>me.MAX_MAX_RECORD_COUNT_FACTOR?me.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],me.prototype,"maxRecordCountFactor",void 0),c([f({type:["xyFootprint"],json:{write:!0}})],me.prototype,"multipatchOption",void 0),c([f({type:Number,json:{read:{source:"resultRecordCount"}}})],me.prototype,"num",void 0),c([f({json:{write:!0}})],me.prototype,"objectIds",void 0),c([f({type:[String],json:{write:!0}})],me.prototype,"orderByFields",void 0),c([f({type:[String],json:{write:!0}})],me.prototype,"outFields",void 0),c([f({type:le,json:{name:"outSR",write:!0}})],me.prototype,"outSpatialReference",void 0),c([f({type:[br],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],me.prototype,"outStatistics",void 0),c([f({json:{write:!0}})],me.prototype,"parameterValues",void 0),c([ne("parameterValues")],me.prototype,"writeParameterValues",null),c([f({type:_e,json:{write:!0}})],me.prototype,"pixelSize",void 0),c([f({type:zu,json:{write:!0}})],me.prototype,"quantizationParameters",void 0),c([f({type:[Object],json:{write:!0}})],me.prototype,"rangeValues",void 0),c([f({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],me.prototype,"relationParameter",void 0),c([f({type:String,json:{write:!0}})],me.prototype,"resultType",void 0),c([f({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"returnCentroid",void 0),c([f({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"returnDistinctValues",void 0),c([f({type:Boolean,json:{default:!0,write:!0}})],me.prototype,"returnExceededLimitFeatures",void 0),c([f({type:Boolean,json:{write:!0}})],me.prototype,"returnGeometry",void 0),c([f({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"returnQueryGeometry",void 0),c([f({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"returnM",void 0),c([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],me.prototype,"returnZ",void 0),c([f({type:Boolean,json:{write:!0}})],me.prototype,"returnTrueCurves",void 0),c([f({type:le,json:{write:!0}})],me.prototype,"sourceSpatialReference",void 0),c([oe(cte,{ignoreUnknown:!1,name:"spatialRel"})],me.prototype,"spatialRelationship",void 0),c([f({type:Number,json:{read:{source:"resultOffset"}}})],me.prototype,"start",void 0),c([ne("start"),ne("num")],me.prototype,"writeStart",null),c([f({type:String,json:{write:!0}})],me.prototype,"sqlFormat",void 0),c([f({type:String,json:{write:!0}})],me.prototype,"text",void 0),c([f({type:xt,json:{write:!0}})],me.prototype,"timeExtent",void 0),c([f({type:Boolean,json:{default:!1,write:!0}})],me.prototype,"timeReferenceUnknownClient",void 0),c([oe(U9e,{ignoreUnknown:!1}),f({json:{write:{overridePolicy(t){return{enabled:!!t&&this.distance!=null}}}}})],me.prototype,"units",void 0),c([f({type:String,json:{write:{overridePolicy(t){return{enabled:t!=null||this.start!=null&&this.start>0}}}}})],me.prototype,"where",void 0),c([ne("where")],me.prototype,"writeWhere",null),me=n6=c([E("esri.rest.support.Query")],me);function Fd(t){return!(t==null||typeof t!="object"||!("createQuery"in t)||!t.createQuery)}let _a=class extends ha.EventedAccessor{constructor(e){super(e),this._selectionMap=new Sm,this._sources=new K,this._trashCan=[],this._layerEditHandles=new K,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([Y(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),Y(()=>this.view,e=>{e==null||e.when().then(()=>this.syncSources())},Le),wr(()=>this.sources,"change",e=>{var s;const i=this._selectionMap,r=[];for(const n of e.removed){const a=i.get(n);a&&(i.delete(n),(s=a.highlightHandle)==null||s.remove(),r.push({layer:n,selection:[],added:[],removed:[...a.selection]}))}this._refreshListeners(),r.length&&this._onSelectionChange(r)},{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(oi)}get selections(){return Array.from(this._selectionMap.entries()).map(e=>{const[i,r]=e;return{layer:i,selection:[...r.selection]}})}get count(){let e=0;for(const i of this._selectionMap.values())e+=i.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){hd(e,this._sources)}syncSources(){var s;const e=new Set,i=(s=this.view)==null?void 0:s.map;if(!i)return;const r=n=>{var a,o,l,u,d;$we(n)?((a=n.layers)==null||a.forEach(r),(o=n.tables)==null||o.forEach(r)):xwe(n)?((l=n.sublayers)==null||l.forEach(r),(u=n.subtables)==null||u.forEach(r)):aE(n)?(d=n.sublayers)==null||d.forEach(r):Fd(n)&&e.add(n)};i.allLayers.forEach(r),i.allTables.forEach(r),this.sources=[...e]}async getSelectedFeatures(e,i={},r="layerView"){const{view:s,selections:n}=this;if(!s&&r==="layerView")return W.getLogger(this).warn("Cannot query layer views without a view."),[];const a=e!=null&&e.length?n.filter(l=>e.includes(l.layer)):n,o=[];return a.forEach(async l=>{const{layer:u,selection:d}=l;if(!d.length)return;const h=jl(u)?u.parent:u;if(h==null)return;if(r==="layer")return void o.push(Bz(h,d,i));if(jz(h)||!s||!qz(h))return;const p=await s.whenLayerView(h).catch(()=>null);p&&o.push(Bz(p,d,i))}),(await Promise.all(o)).filter(l=>l!=null)}updateSelection(e){const i=new Map;for(const[n,a]of this._selectionMap)i.set(n,[...a.selection]);let r=!1;const s=e.current.concat(e.added);for(const n of s){const a=n.sourceLayer,o=n.getObjectId();if(this.sources.includes(a)&&(Fd(a)||jl(a))&&o!==null){const l=bd(i,a,()=>[]);l.includes(o)||(l.push(o),r=!0)}}for(const n of e.removed){const a=n.sourceLayer,o=n.getObjectId();if(this.sources.includes(a)&&(Fd(a)||jl(a))&&o!==null){const l=i.get(a),u=l==null?void 0:l.indexOf(o);u!==void 0&&u>=0&&(l==null||l.splice(u,1),r=!0)}}if(r){const{_selectionMap:n,_trashCan:a}=this,o=[];for(const[l,u]of i){const d=n.get(l);d!==void 0&&a.push(d),n.set(l,{selection:u}),o.push({layer:l,selection:u,...VF(d!==void 0?d.selection:[],u)})}this._onSelectionChange(o)}}setSelection(e,i){this._setSelection(e,i)}getSelection(e){const i=this._selectionMap.get(e);return i==null?void 0:i.selection}appendToSelection(e,i){const r=this._selectionMap.get(e),s=r!==void 0?[...r.selection]:[];for(const n of i)s.includes(n)||s.push(n);this._setSelection(e,s)}removeFromSelection(e,i){const r=this._selectionMap.get(e);if(!r)return;const s=[];for(const n of r.selection)i.includes(n)||s.push(n);this._setSelection(e,s)}toggleInSelection(e,i){const r=this._selectionMap.get(e);if(!r||r.selection.length===0)return void this._setSelection(e,i);const s=new Set(r.selection),n=new Set(i),a=phe(s,n);this._setSelection(e,Array.from(a))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const i=[];for(const[r,s]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...s.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){var a;for(this._vizTaskId++;this._trashCan.length>0;){const o=this._trashCan.pop();(a=o==null?void 0:o.highlightHandle)==null||a.remove()}if(this.view==null)return;const{sources:e,view:i,_selectionMap:r,showHighlight:s}=this,n=this._vizTaskId;for(const o of e){const l=r.get(o),u=jl(o)?o.parent:o;if(u!=null&&qz(u)){if(jz(u))continue;i.whenLayerView(u).then(d=>{var h;(h=l==null?void 0:l.highlightHandle)==null||h.remove(),l!=null&&s&&n===this._vizTaskId&&"highlight"in d&&typeof d.highlight=="function"&&l.selection.length>0&&(l.highlightHandle=d.highlight(l.selection,this.highlightName))}).catch(()=>{var d;(d=l==null?void 0:l.highlightHandle)==null||d.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(oi);const e=new Set(this.sources.map(i=>jl(i)?i.parent:i));for(const i of e)Fd(i)&&"on"in i&&i.on&&this._layerEditHandles.push(i.on("edits",r=>this._onLayerEdit(r,i)))}_onLayerEdit(e,i){if(aE(i))this._onParentLayerEdit(e,i);else if(e.deletedFeatures.length&&this._selectionMap.has(i)){const r=[];e.deletedFeatures.forEach(({error:s,objectId:n})=>{n!=null&&s==null&&r.push(n)}),this.removeFromSelection(i,r)}}_onParentLayerEdit(e,i){var a;const{deletedFeatures:r,edits:s,updatedFeatures:n}=e;if((a=s==null?void 0:s.updateFeatures)==null||a.forEach(o=>{var h;const l=o.getObjectId()??o.attributes[i.objectIdField];if(l==null||(h=n.find(p=>p.objectId===l))!=null&&h.error)return;const u=i.findSublayerForFeature(o);if(!Fd(u))return;const d=i.sublayers.find(p=>{var m;return!(!Fd(p)||!((m=this.getSelection(p))!=null&&m.includes(l)))});Fd(d)&&d!==u&&(this.removeFromSelection(d,[l]),this.appendToSelection(u,[l]))}),r.length){const o=[];r.forEach(({error:l,objectId:u})=>{u!=null&&l==null&&o.push(u)}),i.sublayers.forEach(l=>{Fd(l)&&this._selectionMap.has(l)&&this.removeFromSelection(l,o)})}}_setSelection(e,i){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const r=this._selectionMap.get(e);if(r===void 0||!H9e(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(e,{selection:[...i]});const s={layer:e,selection:[...i],...VF(r!==void 0?r.selection:[],i)};this._onSelectionChange([s])}}};c([f()],_a.prototype,"_selectionMap",void 0),c([f()],_a.prototype,"_sources",void 0),c([f({readOnly:!0,nonNullable:!0})],_a.prototype,"selections",null),c([f({readOnly:!0,nonNullable:!0})],_a.prototype,"count",null),c([f()],_a.prototype,"view",void 0),c([f({readOnly:!0,nonNullable:!0})],_a.prototype,"hasSelection",null),c([f()],_a.prototype,"showHighlight",void 0),c([f()],_a.prototype,"sources",null),c([f()],_a.prototype,"highlightName",void 0),_a=c([E("esri.views.SelectionManager")],_a);const jz=t=>{var e;return jl(t)?((e=t.parent)==null?void 0:e.isTable)===!0:t.isTable},G9e=t=>t.layer!==void 0,qz=t=>(t==null?void 0:t.when)!==void 0,H9e=(t,e)=>{if(t==null&&e==null)return!0;if(t!=null&&e==null||t==null&&e!=null)return!1;if(t!=null&&e!=null&&t.selection!=null&&e.selection!=null){const i=[...t.selection],r=[...e.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let s=0;s<i.length;s++)if(i[s]!==r[s])return!1}return!0},Bz=async(t,e,i={})=>{let r;if(G9e(t)){const s=t;r=s===void 0?null:await s.queryFeatures(new me({...i,objectIds:e})).then(n=>({data:n,layer:t.layer}))}else{const s=t;r=s===void 0?null:await s.queryFeatures(new me({...i,objectIds:e})).then(n=>({data:n,layer:s}))}return r},W9e=_a;let t2=class extends ve.ClonableMixin(ce){constructor(e){super(e),this.accentColor=new ee([255,127,0]),this.textColor=new ee([255,255,255])}};c([f({type:ee,nonNullable:!0})],t2.prototype,"accentColor",void 0),c([f({type:ee,nonNullable:!0})],t2.prototype,"textColor",void 0),t2=c([E("esri.views.Theme")],t2);const qM=t2;var Uz;(function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right"})(Uz||(Uz={}));const ute=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],dte={};function fte(t){return!!dte[t]}function Z9e(t){for(const e of t)if(!fte(e))return!1;return!0}ute.forEach(t=>{dte[t]=!0});let hte=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(({handler:i,priority:r},s)=>{var n;return(n=this.inputManager)==null?void 0:n.installHandlers(s,[i],r)})}disconnect(){this.inputManager&&this._handlers.forEach((e,i)=>{var r;return(r=this.inputManager)==null?void 0:r.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,i,r,s){const n=Array.isArray(e)?e:e.split(",");if(!Z9e(n))return n.some(fte)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let a,o;Array.isArray(i)?o=i:(a=i,o=[]),typeof r=="function"?a=r:s=r,s=s??rd.DEFAULT;const l=this._createUniqueGroupName(),u=new J9e(this.view,n,o,a);this._handlers.set(l,{handler:u,priority:s});for(const d of n){const h=this._handlerCounts.get(d)||0;this._handlerCounts.set(d,h+1)}return this.inputManager&&this.inputManager.installHandlers(l,[u],s),ht(()=>this._removeHandler(l,n))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,i){if(this._handlers.has(e)){this._handlers.delete(e);for(const r of i){const s=this._handlerCounts.get(r);s===void 0||(s===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,s-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},J9e=class extends _r{constructor(e,i,r,s){super(!0),this._latestDragStart=void 0,this.view=e;for(const n of i)switch(n){case"click":this.registerIncoming("click",r,a=>s(Q9e(e,a)));break;case"double-click":this.registerIncoming("double-click",r,a=>s(K9e(e,a)));break;case"immediate-click":this.registerIncoming("immediate-click",r,a=>s(e6e(e,a)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,a=>s(t6e(e,a)));break;case"hold":this.registerIncoming("hold",r,a=>s(i6e(e,a)));break;case"drag":this.registerIncoming("drag",r,a=>{const o=this._wrapDrag(a);o&&s(o)});break;case"key-down":this.registerIncoming("key-down",r,a=>s(r6e(a)));break;case"key-up":this.registerIncoming("key-up",r,a=>s(s6e(a)));break;case"pointer-down":this.registerIncoming("pointer-down",r,a=>s(ev(a,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,a=>s(ev(a,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,a=>s(ev(a,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,a=>s(n6e(a)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,a=>s(a6e(a)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,a=>s(ev(a,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,a=>s(ev(a,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,a=>{s(o6e(a))});break;case"focus":this.registerIncoming("focus",r,a=>{s(Y9e(a))});break;case"blur":this.registerIncoming("blur",r,a=>{s(X9e(a))})}}_wrapDrag(e){const i=e.data,{x:r,y:s}=i.center,{action:n,pointerType:a,button:o}=i;if(n==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const l=i.pointer.native,u=i.buttons,{cancelable:d,timestamp:h}=e,p={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return n==="end"&&(this._latestDragStart=void 0),{type:"drag",action:n,x:r,y:s,origin:p,pointerType:a,button:o,buttons:u,radius:i.radius,angle:pJ(i.angle),native:l,timestamp:h,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:m=>e.defer(m),preventDefault:()=>e.preventDefault()}}};function Y9e(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function X9e(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function Q9e(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:o,eventId:l}=e.data,{cancelable:u,timestamp:d}=e;return{type:"click",pointerType:i,button:r,buttons:s,x:n,y:a,native:o,timestamp:d,screenPoint:cr(n,a),mapPoint:d3(t,n,a),eventId:l,cancelable:u,stopPropagation:()=>e.stopPropagation(),defer:h=>e.defer(h),preventDefault:()=>e.preventDefault()}}function K9e(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:o,eventId:l}=e.data,{cancelable:u,timestamp:d}=e;return{type:"double-click",pointerType:i,button:r,buttons:s,x:n,y:a,native:o,timestamp:d,mapPoint:d3(t,n,a),eventId:l,cancelable:u,stopPropagation:()=>e.stopPropagation(),defer:h=>e.defer(h),preventDefault:()=>e.preventDefault()}}function e6e(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:o,eventId:l}=e.data,u=o.pointerId,{cancelable:d,timestamp:h}=e;return{type:"immediate-click",pointerId:u,pointerType:i,button:r,buttons:s,x:n,y:a,native:o,timestamp:h,mapPoint:d3(t,n,a),eventId:l,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:p=>e.defer(p),preventDefault:()=>e.preventDefault()}}function t6e(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:o,eventId:l}=e.data,u=o.pointerId,{cancelable:d,timestamp:h}=e;return{type:"immediate-double-click",pointerId:u,pointerType:i,button:r,buttons:s,x:n,y:a,native:o,timestamp:h,mapPoint:d3(t,n,a),eventId:l,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:p=>e.defer(p),preventDefault:()=>e.preventDefault()}}function i6e(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:a,native:o}=e.data,{cancelable:l,timestamp:u}=e;return{type:"hold",pointerType:i,button:r,buttons:s,x:n,y:a,native:o,timestamp:u,mapPoint:d3(t,n,a),cancelable:l,stopPropagation:()=>e.stopPropagation(),defer:d=>e.defer(d),preventDefault:()=>e.preventDefault()}}function d3(t,e,i){return t.toMap(cr(e,i),{exclude:[]})}function r6e(t){const{key:e,repeat:i,native:r}=t.data,{cancelable:s,timestamp:n}=t;return{type:"key-down",key:e,repeat:i,native:r,timestamp:n,cancelable:s,stopPropagation:()=>t.stopPropagation(),defer:a=>t.defer(a),preventDefault:()=>t.preventDefault()}}function s6e(t){const{key:e,native:i}=t.data,{cancelable:r,timestamp:s}=t;return{type:"key-up",key:e,native:i,timestamp:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),defer:n=>t.defer(n),preventDefault:()=>t.preventDefault()}}function ev(t,e){const{x:i,y:r,button:s,buttons:n,native:a,eventId:o}=t.data,l=a.pointerId,u=a.pointerType,{cancelable:d,timestamp:h}=t;return{type:e,x:i,y:r,pointerId:l,pointerType:u,button:s,buttons:n,native:a,timestamp:h,eventId:o,cancelable:d,stopPropagation:()=>t.stopPropagation(),defer:p=>t.defer(p),preventDefault:()=>t.preventDefault()}}function n6e(t){const{x:e,y:i,buttons:r,native:s,eventId:n}=t.data.currentEvent,{button:a}=t.data.startEvent,o=t.data.startEvent.native.pointerId,l=t.data.startEvent.native.pointerType,u=t.data.action,d={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:h,timestamp:p}=t;return{type:"pointer-drag",x:e,y:i,pointerId:o,pointerType:l,button:a,buttons:r,action:u,origin:d,native:s,timestamp:p,eventId:n,cancelable:h,stopPropagation:()=>t.stopPropagation(),defer:m=>t.defer(m),preventDefault:()=>t.preventDefault()}}function a6e(t){const{cancelable:e,data:i,timestamp:r}=t,{x:s,y:n,deltaY:a,native:o}=i;return{type:"mouse-wheel",x:s,y:n,deltaY:a,native:o,timestamp:r,cancelable:e,stopPropagation:()=>t.stopPropagation(),defer:l=>t.defer(l),preventDefault:()=>t.preventDefault()}}function o6e(t){const{action:e,state:i,device:r}=t.data,{cancelable:s,timestamp:n}=t,{buttons:a,axes:o}=i;return{type:"gamepad",device:r,timestamp:n,action:e,buttons:a,axes:o,cancelable:s,stopPropagation:()=>t.stopPropagation(),defer:l=>t.defer(l),preventDefault:()=>t.preventDefault()}}var Xw,Gz,Hz;(function(t){t[t.USER=0]="USER",t[t.MANAGER=1]="MANAGER"})(Xw||(Xw={})),function(t){t[t.None=0]="None",t[t.Unfocused=1]="Unfocused",t[t.Focused=2]="Focused",t[t.Unselected=4]="Unselected",t[t.Selected=8]="Selected",t[t.All=15]="All"}(Gz||(Gz={})),function(t){t[t.None=0]="None",t[t.Custom1=16]="Custom1",t[t.Custom2=32]="Custom2",t[t.Custom3=64]="Custom3",t[t.Custom4=128]="Custom4",t[t.Custom5=256]="Custom5",t[t.Custom6=512]="Custom6",t[t.Custom7=1024]="Custom7",t[t.Custom8=2048]="Custom8",t[t.Custom9=4096]="Custom9",t[t.Custom10=8192]="Custom10",t[t.Custom11=16384]="Custom11",t[t.Custom12=32768]="Custom12",t[t.All=65520]="All"}(Hz||(Hz={}));const l6e="z",c6e="r",pte={cancel:"Escape",complete:"Enter"},qtt={...pte,redo:c6e,undo:l6e,center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},Btt={toggle:"Control"},Utt={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},Gtt={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:cK,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0}};let Htt=class{constructor(){this._bindings=new Map}add(e,i){return this.addToggle(e,r=>{r.type==="key-down"&&i(r)})}addToggle(e,i){const r=u6e.fromDefinition(e,i),s=bd(this._bindings,r.key,()=>[]);return s.push(r),ht(()=>_P(s,r))}register(e,i=rd.WIDGET){return r0([e.on("key-down",r=>this.dispatch(e.inputManager,r),i),e.on("key-up",r=>this.dispatch(e.inputManager,r),i)])}dispatch(e,i){const r=i.key,s=this._bindings.get(r);if(s)for(const n of s)n.process(e,i)}},u6e=class BM{constructor(e,i,r,s,n){this.key=e,this.modifiers=i,this.repeats=r,this.continuePropagation=s,this.callback=n}process(e,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const r of this.modifiers)if(!e.isModifierKeyDown(r))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(e,i){if(typeof e=="string")return new BM(e,[],!1,!1,i);const{key:r,modifier:s,repeats:n,continuePropagation:a}=e;return new BM(r,s?Array.isArray(s)?s:[s]:[],!!n,!!a,i)}};function d6e(t){return[t.on("before-add",e=>{const i=e.item;if(i==null||t.includes(i))return W.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void e.preventDefault();i.onAdd()}),t.on("after-remove",e=>{const i=e.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function UM(t){return t.visible&&t.getEditableFlag!=null&&t.getEditableFlag(Xw.USER)&&t.getEditableFlag(Xw.MANAGER)}function f6e(t){return t.type==="key-down"&&t.key===pte.cancel}function al(t){return cr(t.x,t.y)}function mte(t,e){var r;const i=(r=t instanceof HTMLElement?t:t.surface)==null?void 0:r.getBoundingClientRect();return i?cr(e.clientX-i.left,e.clientY-i.top):cr(0,0)}function yte(t,e){return e instanceof Event?mte(t,e):al(e)}function gte(t){if(t instanceof Event)return!0;if(typeof t=="object"&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let h6e=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,i){const r=()=>e.stopPropagation();switch(e.type){case"pointer-move":Zz(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:e.action==="start"?this._externallyDragging=!0:e.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),e.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!Jz(e))break;const s=al(e),n=E0(s,e.pointerType,i.forEachTool);if(n==null)break;const a=n.manipulator,o=n.tool;a==null||o==null||!a.interactive||a.grabbable&&a.grabbableForEvent(e)||!a.grabbing||a.dragging||this._releaseManipulatorBeforeDragging(a,e,i),a!=null&&o!=null&&a.interactive&&a.grabbable&&a.grabbableForEvent(e)&&!a.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:a,tool:o,start:s,pointerType:e.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(n.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:s}),r());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,i);break;case"pointer-drag":{if(!Jz(e))break;const s=this._grabbedManipulators.get(e.pointerId),n=s==null?void 0:s.manipulator,a=s==null?void 0:s.tool;if(n==null||a==null)break;const o=al(e);o.x=Yr(o.x,0,i.view.width),o.y=Yr(o.y,0,i.view.height);const l=s.start,u=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":e.action!=="update"&&this._grabbedManipulators.size!==1||(n.dragging=!0,u?n.events.emit("drag",{action:"update",start:l,screenPoint:o}):n.events.emit("drag",{action:"start",start:l,screenPoint:o,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:a,manipulator:n,start:l}));break;case"end":n.dragging=!1,u&&n.events.emit("drag",{action:"end",start:l,screenPoint:o}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,i)}r();break}case"immediate-click":{const s=al(e),n=E0(s,e.pointerType,i.forEachTool);if(p6e(e)||i.forEachTool(u=>{if((n==null||n.tool!==u||u.automaticManipulatorSelection)&&u.manipulators){let d=!1;u.manipulators.forEach(({manipulator:h})=>{h.selected&&(h.selected=!1,d=!0)}),d&&u.onManipulatorSelectionChanged&&u.onManipulatorSelectionChanged()}}),n==null)break;const{manipulator:a,tool:o}=n;if(!a.interactive)break;a.selectable&&o.automaticManipulatorSelection&&(a.selected=!a.selected,o.onManipulatorSelectionChanged&&o.onManipulatorSelectionChanged());const l=e.native.shiftKey;a.events.emit("immediate-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:l,stopPropagation:r}),r$(a,r);break}case"click":{const s=al(e),n=E0(s,e.pointerType,i.forEachTool),a=n==null?void 0:n.manipulator;if(a==null||!a.interactive)break;const o=e.native.shiftKey;a.events.emit(e.type,{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:o}),r();break}case"double-click":{const s=al(e),n=E0(s,e.pointerType,i.forEachTool),a=n!=null?n.manipulator:null;if(a==null||!a.interactive)break;const o=e.native.shiftKey;a.events.emit("double-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:r}),r$(a,r);break}case"immediate-double-click":{const s=al(e),n=E0(s,e.pointerType,i.forEachTool),a=n!=null?n.manipulator:null;if(a==null||!a.interactive)break;const o=e.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:r}),e.pointerType==="mouse"&&r$(a,r);break}}this._onFocusChange(i.forEachTool)}_releaseManipulatorBeforeDragging(e,i,r){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:al(i)}),this._grabbedManipulators.forEach(({manipulator:s},n)=>{s===e&&this._grabbedManipulators.delete(n)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(e,i){var s;const r=(s=this._grabbedManipulators.get(e.pointerId))==null?void 0:s.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:al(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(e){this._updateCursor(),this._updateFocusedManipulatorTools(e)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=Wz(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=Wz(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(e){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:s})=>{i.add(s)}),this._hoveredManipulators.forEach(({tool:s})=>{r.add(s)}),e(s=>{s.hasGrabbedManipulators=i.has(s),s.hasHoveredManipulators=r.has(s);const n=this._grabbedManipulators.values(),a=Spe(n,({tool:o})=>o===s);s.firstGrabbedManipulator=a!=null?a.manipulator:null})}clearPointers(e,{forEachTool:i,setActiveTool:r},s=!0,n){const a=(o,l)=>o===e&&(n==null||n===l);this._grabbedManipulators.forEach(({tool:o,manipulator:l,pointerType:u},d)=>{a(o,l)&&(this._grabbedManipulators.delete(d),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:u}))}),this._draggedManipulators.forEach(({tool:o,manipulator:l},u)=>{a(o,l)&&(this._draggedManipulators.delete(u),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),s&&this._hoveredManipulators.forEach(({tool:o,manipulator:l},u)=>{a(o,l)&&(this._hoveredManipulators.delete(u),l.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(cr(i.x,i.y),r,i.pointerType,e)})}handleHoverEvent(e,i){const r=e.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!Zz(e.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition(al(e),e.pointerId,e.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(e,i,r,s){var o;let n=E0(e,r,s);const a=(o=this._hoveredManipulators.get(i))==null?void 0:o.manipulator;n==null||n.manipulator.interactive||(n=null),n!=null&&a===n.manipulator||(a!=null&&(a.hovering=!1),n!=null?(n.manipulator.hovering=!0,this._hoveredManipulators.set(i,n)):this._hoveredManipulators.delete(i),this._onFocusChange(s))}_afterManipulatorRelease(e){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach(({manipulator:i},r)=>{e===r&&(this._hoveredManipulators.delete(e),i.hovering=!1)})}};function Wz(t){for(const{manipulator:e}of t.values())if(e!=null&&e.interactive){if(e.grabbing&&e.grabCursor)return e.grabCursor;if(e.cursor)return e.cursor}return null}function E0(t,e,i){let r=null;return i(s=>{if(s.manipulators==null||!UM(s))return!1;const n=s.manipulators.intersect(t,e);return n!=null&&(r={tool:s,manipulator:n},!0)}),r}function Zz(t){return t==="mouse"}function Jz(t){return t.pointerType!=="mouse"||t.button===0}function p6e(t){return!!t.native.shiftKey}function r$(t,e){t!=null&&t.consumesClicks&&e()}const Yz="attached",s$="tools",m6e=1e3;let ol=class extends ce{constructor(e){super(e),this._updatingHandles=new vm,this._clock=a1,this._manipulatorState=new h6e,this.tools=new K,this.cursor=null,this._interacting=!1,this._interactingTimeout=m6e,this._interactingTimeoutHandle=null,this._forEachTool=i=>{for(const r of this.tools.items)if(i(r))return}}initialize(){this.addHandles([this.view.on(ute,e=>{this._handleInputEvent(e)},rd.TOOL),...d6e(this.tools),this.tools.on("before-add",({item:e})=>{this._updateToolEditableFlag(e)}),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(e=>e.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(e!=null&&!this.view.ready)return void W.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const i=this.activeTool;this._set("activeTool",e),i!=null&&i.deactivate(),e!=null&&e.activate(),this._removeIncompleteTools(e);for(const r of this.tools){this._updateToolEditableFlag(r);const s=UM(r);this.activeTool!=null&&s||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!s)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(e=>e.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=oi(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var e;this.view.type==="3d"?this.addHandles([Y(()=>{const{state:i}=this.view;return"camera"in i&&i.camera},()=>this._forEachManipulator(i=>i.onViewChange())),(e=this.view.elevationProvider)==null?void 0:e.on("elevation-change",i=>this._forEachManipulator(r=>r.onElevationChange(i)))],Yz):this.addHandles(Y(()=>this.view.extent,()=>this._forEachManipulator(i=>i.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(Yz),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){this._forEachTool(i=>{i.manipulators&&i.manipulators.forEach(({manipulator:r})=>e(r,i))})}_handleInputEvent(e){let i=!1;const r={...e,stopPropagation:()=>{i=!0,e.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool(s=>{!i&&s.visible&&s.handleInputEvent(r)}),!i&&f6e(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor(),e.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(s$),this._forEachTool(e=>{if(e instanceof ce){const i=Y(()=>[e.cursor,e.visible,e.editable],()=>{UM(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(i,s$)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),e.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],s$)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(e){var i;(i=e.setEditableFlag)==null||i.call(e,Xw.MANAGER,this.activeTool==null||e===this.activeTool)}_updateCursor(){let e=this._manipulatorState.cursor;e==null&&this._forEachTool(i=>!(i.cursor==null||!i.visible)&&(e=i.cursor,!0)),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter(i=>(e==null||i!==e)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};c([f({constructOnly:!0,nonNullable:!0})],ol.prototype,"view",void 0),c([f({value:null})],ol.prototype,"activeTool",null),c([f({readOnly:!0,type:K})],ol.prototype,"tools",void 0),c([f({readOnly:!0})],ol.prototype,"cursor",void 0),c([f({readOnly:!0})],ol.prototype,"updating",null),c([f()],ol.prototype,"_interacting",void 0),c([f({readOnly:!0})],ol.prototype,"interacting",null),ol=c([E("esri.views.ToolViewManager")],ol);const y6e=new ee("cyan"),g6e=1,b6e=.25,v6e=new ee("black"),w6e=.4,_6e=.2,Ytt=.25,bte="default",S6e="temporary",x6e=new ee("yellow");var GM;let qn=GM=class extends ce{constructor(t){super(t),this.name=bte,this.color=y6e.clone(),this.haloColor=null,this.haloOpacity=g6e,this.fillOpacity=b6e,this.shadowColor=v6e.clone(),this.shadowOpacity=w6e,this.shadowDifference=_6e,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.haloWidth===t.haloWidth&&this.haloBlur===t.haloBlur&&this.shadowColor.equals(t.shadowColor)&&this.shadowOpacity===t.shadowOpacity&&this.shadowDifference===t.shadowDifference}clone(){var t,e;return new GM({...this,color:this.color.clone(),haloColor:(t=this.haloColor)==null?void 0:t.clone(),shadowColor:(e=this.shadowColor)==null?void 0:e.clone()})}assignFrom(t){var e;this.color=t.color.clone(),this.haloColor=(e=t.haloColor)==null?void 0:e.clone(),this.haloOpacity=t.haloOpacity,this.fillOpacity=t.fillOpacity,this.shadowColor=t.shadowColor.clone(),this.shadowDifference=t.shadowDifference,this.shadowOpacity=t.shadowOpacity,this.haloBlur=t.haloBlur,this.haloWidth=t.haloWidth}};c([f({type:String,constructOnly:!0,nonNullable:!0})],qn.prototype,"name",void 0),c([f({type:ee,nonNullable:!0})],qn.prototype,"color",void 0),c([f({type:ee})],qn.prototype,"haloColor",void 0),c([f({nonNullable:!0})],qn.prototype,"haloOpacity",void 0),c([f({nonNullable:!0})],qn.prototype,"fillOpacity",void 0),c([f({type:ee,nonNullable:!0})],qn.prototype,"shadowColor",void 0),c([f({nonNullable:!0})],qn.prototype,"shadowOpacity",void 0),c([f({nonNullable:!0})],qn.prototype,"shadowDifference",void 0),c([f({nonNullable:!0})],qn.prototype,"haloWidth",void 0),c([f({nonNullable:!0})],qn.prototype,"haloBlur",void 0),qn=GM=c([E("esri.views.support.HighlightOptions")],qn);const Jf=qn;function $6e(){return new(K.ofType(Jf))([new Jf({name:bte}),new Jf({name:S6e,color:x6e})])}let ry=class extends ce{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":T6e.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return I6e[this.deviceType]}};c([f({nonNullable:!0,readOnly:!0})],ry.prototype,"nativeIndex",void 0),c([f({type:String,readOnly:!0})],ry.prototype,"deviceType",null),c([f({type:Number,readOnly:!0})],ry.prototype,"axisThreshold",null),ry=c([E("esri.views.input.gamepad.GamepadInputDevice")],ry);const aR=ry,T6e=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),I6e={standard:.15,spacemouse:.025,unknown:0};let i2=class extends ce{constructor(...e){super(...e),this.devices=new K,this.enabledFocusMode="document"}};c([f({type:K.ofType(aR),readOnly:!0})],i2.prototype,"devices",void 0),c([f({type:["document","view","none"]})],i2.prototype,"enabledFocusMode",void 0),i2=c([E("esri.views.input.gamepad.GamepadSettings")],i2);const E6e=i2;let a6=class extends ce{constructor(){super(...arguments),this.gamepad=new E6e}};c([f({readOnly:!0})],a6.prototype,"gamepad",void 0),a6=c([E("esri.views.input.Input")],a6);const M6e=a6,oR=()=>ut.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,n$=()=>f({type:["pan","rotate","zoom","none"],nonNullable:!0});let cp=class extends ce{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};c([n$()],cp.prototype,"dragPrimary",void 0),c([n$()],cp.prototype,"dragSecondary",void 0),c([n$()],cp.prototype,"dragTertiary",void 0),c([f({type:["zoom","none"],nonNullable:!0})],cp.prototype,"mouseWheel",void 0),cp=c([E("esri.views.navigation.NavigationActionMap")],cp);const lR=cp;let Yd=class extends ce{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};c([f({type:Boolean,nonNullable:!0})],Yd.prototype,"enabled",void 0),c([f({type:aR})],Yd.prototype,"device",void 0),c([f({type:["pan","zoom"],nonNullable:!0})],Yd.prototype,"mode",void 0),c([f({type:["forward-down","forward-up"],nonNullable:!0})],Yd.prototype,"tiltDirection",void 0),c([f({type:Number,nonNullable:!0})],Yd.prototype,"velocityFactor",void 0),Yd=c([E("esri.views.navigation.gamepad.GamepadSettings")],Yd);const vte=Yd;let Xd=class extends ce{constructor(e){super(e),this.actionMap=new lR,this.browserTouchPanEnabled=!0,this.gamepad=new vte,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!oR()}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(e){lJ(W.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};c([f({type:lR,nonNullable:!0})],Xd.prototype,"actionMap",void 0),c([f({type:Boolean})],Xd.prototype,"browserTouchPanEnabled",void 0),c([f({type:vte,nonNullable:!0})],Xd.prototype,"gamepad",void 0),c([f({type:Boolean})],Xd.prototype,"momentumEnabled",void 0),c([f({type:Boolean})],Xd.prototype,"mouseWheelZoomEnabled",null),Xd=c([E("esri.views.navigation.Navigation")],Xd);const uS=Xd;function rit(t,e,i){const r=wte(t),s=e,n=C6e(r,s,i);if(r){const a=Fs.deriveUnitFromSR(r,t.spatialReference).heightUnit;if(!i&&a!==r.heightUnit){const o=new P("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${a})`,{horizontalUnit:a});return new P("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:o})}}if(!k6e(t)||n===yn.Unsupported)return new P("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(n){case yn.Units:{const a=(r==null?void 0:r.heightUnit)||"unknown",o=(s==null?void 0:s.heightUnit)||"unknown",l=new P("layerview:incompatible-height-unit",`The vertical units of the layer (${a}) must match the vertical units of the scene (${o})`,{layerUnit:a,sceneUnit:o});return new P("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:l})}case yn.HeightModel:{const a=(r==null?void 0:r.heightModel)||"unknown",o=(s==null?void 0:s.heightModel)||"unknown",l=new P("layerview:incompatible-height-model",`The height model of the layer (${a}) must match the height model of the scene (${o})`,{layerHeightModel:a,sceneHeightModel:o});return new P("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:l})}case yn.CRS:{const a=(r==null?void 0:r.vertCRS)||"unknown",o=(s==null?void 0:s.vertCRS)||"unknown",l=new P("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${a}) must match the vertical datum of the scene (${o})`,{layerDatum:a,sceneDatum:o});return new P("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:l})}}return null}function C6e(t,e,i){if(!Xz(t)||!Xz(e))return yn.Unsupported;if(t==null||e==null)return yn.Ok;if(!i&&t.heightUnit!==e.heightUnit)return yn.Units;if(t.heightModel!==e.heightModel)return yn.HeightModel;switch(t.heightModel){case"gravity-related-height":return yn.Ok;case"ellipsoidal":return t.vertCRS===e.vertCRS?yn.Ok:yn.CRS;default:return yn.Unsupported}}var yn;function Xz(t){return t==null||t.heightModel!=null&&t.heightUnit!=null}function k6e(t){return"heightModelInfo"in t&&t.heightModelInfo!=null||t.spatialReference!=null||!xte(t)}function wte(t){var r;if(t.type==="integrated-mesh-3dtiles")return null;const e=t.url?zc(t.url):void 0;return!(((r=t.spatialReference)==null?void 0:r.vcsWkid)==null&&e!=null&&e.serverType==="ImageServer")&&_te(t)&&t.heightModelInfo?t.heightModelInfo:xte(t)?Fs.deriveUnitFromSR(P6e,t.spatialReference):null}function _te(t){return"heightModelInfo"in t}function Ste(t){if(t.type==="unknown"||!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function xte(t){return Ste(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):$te(t)}function A6e(t){return t.layers!=null||$te(t)||Ste(t)||_te(t)}function $te(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(t){t[t.Ok=0]="Ok",t[t.Units=1]="Units",t[t.HeightModel=2]="HeightModel",t[t.CRS=3]="CRS",t[t.Unsupported=4]="Unsupported"})(yn||(yn={}));const P6e=new Fs({heightModel:"gravity-related-height"});var pd;function Qz(t){return t===pd.Global?"global":"local"}(function(t){t[t.Global=1]="Global",t[t.Local=2]="Local"})(pd||(pd={}));let HM,a$=null;async function L6e(t){a$||(a$=R(()=>import("./geometryServiceUtils-Cd3YRrzB.js"),[]).then(e=>HM=e)),await a$,ze(t)}async function Tte(t,e,i,r){if(!t)return null;const s=t.spatialReference;return wd()||da(s,e)?Th(t,e):HM?HM.projectGeometry(t,e,i,r):(await Promise.race([L6e(r),fd(r)]),Tte(t,e,i,r))}async function sit(t,e){try{return t!=null&&t.spatialReference?await RQ(t,e):null}catch{return null}}let Nt=class extends ce{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=bs(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,s,n,a;const e=(r=this.map)==null?void 0:r.call(this),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:e==null?void 0:e.basemap,layers:(s=e==null?void 0:e.basemap)==null?void 0:s.baseLayers},{layers:e==null?void 0:e.layers},{parent:e==null?void 0:e.ground,layers:(n=e==null?void 0:e.ground)==null?void 0:n.layers},{parent:e==null?void 0:e.basemap,layers:(a=e==null?void 0:e.basemap)==null?void 0:a.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,r=>{const s=this._getSupportedSpatialReferences(r);if(s.length>0){const n=this._narrowDownSpatialReferenceCandidates(e,s);n!=null&&(e=n)}return(e==null?void 0:e.length)===1})&&(e==null?void 0:e.length)!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(e);return{spatialReference:(i==null?void 0:i.spatialReference)??null,viewingMode:(i==null?void 0:i.viewingMode)??null,updating:!1}}get _tileInfoTask(){var n,a;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=(n=this.map)==null?void 0:n.call(this),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const s=this._collectLayers([{parent:e==null?void 0:e.basemap,layers:(a=e==null?void 0:e.basemap)==null?void 0:a.baseLayers},{layers:e==null?void 0:e.layers}],o=>{var l;return!(!("tileInfo"in o)||!((l=o.tileInfo)!=null&&l.spatialReference.equals(i)))&&(r=o,!0)},o=>"tileInfo"in o);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:s}}get _heightModelInfoTask(){var r;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))!=null&&r.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};let e={};const i=this._collectLayers(this.mapCollections,s=>{var a,o;const n=wte(s);return!!n&&(e={heightModelInfo:n,vcsWkid:(a=s.spatialReference)==null?void 0:a.vcsWkid,latestVcsWkid:(o=s.spatialReference)==null?void 0:o.latestVcsWkid},!0)},s=>A6e(s));return{...e,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],i=this._collectLayers(this.mapCollections,r=>{const s="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),n=this.requiresExtentInSpatialReference?null:s[0],a=s.find(o=>o.spatialReference.equals(this.spatialReference))??n;if(a)return e.push({extent:a,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const o of s)e.push({extent:o,layer:r});return!1});return{candidates:e,updating:i}}get _extentTask(){const{candidates:e,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(e==null||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(e),s=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&s.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=bs(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:s.clone(),task:mh(async n=>{try{const a=await Tte(r.extent,s,"portalItem"in r.layer?r.layer.portalItem:void 0,n);this._projectExtentTask={...this._projectExtentTask,task:null,output:a}}catch{if(Ya(n))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,i){if(e==null)return i;const r=new Array;for(const s of e)for(const n of i){if(!s.spatialReference.equals(n.spatialReference))continue;const a=O6e(s.viewingMode,n.viewingMode);if(a!==!1){r.push({spatialReference:s.spatialReference,viewingMode:a});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(e){const i=this.defaultSpatialReference;return e==null||e.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&e.length>1&&e.some(({spatialReference:r})=>r.equals(i))&&(e=e.filter(({spatialReference:r})=>r.equals(i))),e.length>1&&e.some(({viewingMode:r})=>r!==pd.Local)&&(e=e.filter(({viewingMode:r})=>r!==pd.Local)),e[0])}_getSupportedSpatialReferences(e){const i="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const s of i){const n=this.getSpatialReferenceSupport(s,e);if(n!=null){const a=n.constraints??[{spatialReference:s,viewingMode:null}];for(const{spatialReference:o,viewingMode:l}of a)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!o.equals(this.userSpatialReference)||r.push({spatialReference:o,viewingMode:l})}}return r}_pickExtentCandidate(e){const i=this.spatialReference;return e.find(({extent:r})=>i.equals(r.spatialReference))||e[0]}_collectLayers(e,i,r=()=>!0){var n;switch(this._loadMaybe((n=this.map)==null?void 0:n.call(this))){case"loading":return!0;case"failed":return!1}const s=new R6e(r,i);for(const a of e)if(this._collectCollection(a,s),s.done||s.preloading===this.sourcePreloadCount)break;return s.updating}_collectCollection(e,i){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of e.layers)if(i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&e.loadStatus!=null?e.loadStatus==="not-loaded"?(e.load().catch(i=>{tr(i)}),"loading"):e.loadStatus:"loaded"}};c([f()],Nt.prototype,"required",void 0),c([f({constructOnly:!0})],Nt.prototype,"map",void 0),c([f({constructOnly:!0})],Nt.prototype,"getSpatialReferenceSupport",void 0),c([f()],Nt.prototype,"defaultSpatialReference",void 0),c([f()],Nt.prototype,"userSpatialReference",void 0),c([f()],Nt.prototype,"sourcePreloadCount",void 0),c([f()],Nt.prototype,"priorityCollection",void 0),c([f()],Nt.prototype,"requiresExtentInSpatialReference",void 0),c([f()],Nt.prototype,"suspended",void 0),c([f({readOnly:!0})],Nt.prototype,"ready",null),c([f({readOnly:!0})],Nt.prototype,"heightModelInfoReady",null),c([f({readOnly:!0})],Nt.prototype,"spatialReference",null),c([f({readOnly:!0})],Nt.prototype,"extent",null),c([f({readOnly:!0})],Nt.prototype,"heightModelInfo",null),c([f({readOnly:!0})],Nt.prototype,"vcsWkid",null),c([f({readOnly:!0})],Nt.prototype,"latestVcsWkid",null),c([f({readOnly:!0})],Nt.prototype,"viewingMode",null),c([f({readOnly:!0})],Nt.prototype,"tileInfo",null),c([f({readOnly:!0})],Nt.prototype,"mapCollections",null),c([f({readOnly:!0})],Nt.prototype,"_spatialReferenceTask",null),c([f({readOnly:!0})],Nt.prototype,"_tileInfoTask",null),c([f({readOnly:!0})],Nt.prototype,"_heightModelInfoTask",null),c([f({readOnly:!0})],Nt.prototype,"_extentCandidatesTask",null),c([f()],Nt.prototype,"_extentTask",null),c([f()],Nt.prototype,"_projectExtentTask",void 0),Nt=c([E("esri.views.support.DefaultsFromMap")],Nt);let R6e=class{constructor(e,i){this.layerFilter=e,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function O6e(t,e){return t!=null?e!=null?t===e&&t:t:e}function F6e(t){return"tryRecycleWith"in t}let N6e=class{constructor(e,i,r){this.layer=e,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._deferred=Mn(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,Zo(this._controller.signal,()=>{var n;(n=this._recycleController)==null||n.abort();const s=new P("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(s)})}tryRecycle(e){var s;if(!this.done||!this.layerView||!F6e(this.layerView))return null;(s=this._recycleController)==null||s.abort(),this._recycleController=new AbortController;const i=this.layer.type,r=this._recycleController.signal;for(let n=0;n<e.length;n++){const a=e[n];if(a.type!==i)continue;const o=this.layerView.tryRecycleWith(a,{signal:r});if(o){e.splice(n,1),this.layer=a;const l=this.layerView,u=l.view;return this.promise=o.then(()=>(ze(r),a.emit("layerview-destroy",{view:u,layerView:l}),u.emit("layerview-destroy",{view:u,layerView:l}),a.emit("layerview-create",{view:u,layerView:l}),u.emit("layerview-create",{view:u,layerView:l}),l)),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:e}),r.emit("layerview-destroy",{layer:i,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var s,n;const{view:e}=this;if(this._started||!e.map)return;this._started=!0;const{_controller:{signal:i},layer:r}=this;this._map=e.map;try{let a,o;if(await r.load({signal:i}),r.prefetchResources&&await r.prefetchResources({signal:i}),D6e(r))a=await r.createLayerView(e,{signal:i});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new P("layer:view-not-supported","No layerview implementation was found");const d=await this.layerViewImporter.importLayerView(r);ze(i),a="default"in d?new d.default({layer:r,view:e}):new d({layer:r,view:e})}const l=()=>{o=oi(o),a.destroyed||a.destroy(),a.layer=null,a.parent=null,a.view=null,this.done=!0};o=Zo(i,l),ze(i);try{await a.when()}catch(d){throw l(),d}if(!((n=(s=this._map)==null?void 0:s.allLayers)==null?void 0:n.includes(r)))return l(),void this._deferred.reject(new P("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=a,r.emit("layerview-create",{view:e,layerView:a}),e.emit("layerview-create",{layer:r,layerView:a}),this.done=!0,this._deferred.resolve(a)}catch(a){r.emit("layerview-create-error",{view:e,error:a}),e.emit("layerview-create-error",{layer:r,error:a}),this.done=!0,this._deferred.reject(new P("layerview:create-error","layerview creation failed",{layer:r,error:a}))}}};function D6e(t){return t.createLayerView!==si.prototype.createLayerView}function z6e(t){return t!=null&&typeof t=="object"&&"layerViews"in t}let Bn=class extends ce{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new vm,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r,s;const i=(r=this.view.map)==null?void 0:r.allLayers;if(i)for(const n of i)((s=this.layerViewFilter)==null?void 0:s.call(this,n))!==!1&&this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=Mn(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(U_(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var d,h,p;const i=this.view.map;if(this.destroyed||!i)return void this.clear();if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,s=[],n=this.view.ready,a=m=>{var g;if(m!=null){for(const b of m)if(b){if(((g=this.layerViewFilter)==null?void 0:g.call(this,b))===!1)continue;r.add(b);const v=this._layerLayerViewInfoMap.get(b);v&&n?v.start():v||this._recyclingInfoMap.has(b)||s.push(b),"layers"in b&&b.layers&&a(b.layers)}}};for(const m of this._rootCollectionNames)a(_s(this,m));const o=new Array,l=m=>{const g=m.tryRecycle(s);g?(this._recyclingInfoMap.set(m.layer,m),this.notifyChange("updating"),g.then(()=>{this._recyclingInfoMap.delete(m.layer),this._layerLayerViewInfoMap.set(m.layer,m),this._reschedule(),this.notifyChange("updating")}).catch(b=>{tr(b)||(this._recyclingInfoMap.delete(m.layer),m.destroy(),this._reschedule(),this.notifyChange("updating"))})):o.push(m)};for(const m of this._layerLayerViewInfoMap.values())r.has(m.layer)||(this._layerLayerViewInfoMap.delete(m.layer),l(m));for(const m of this._recyclingInfoMap.values())r.has(m.layer)||(this._recyclingInfoMap.delete(m.layer),l(m));for(const m of s)this._createLayerView(m);this._refreshCollections(),o.forEach(m=>m.destroy());const u=[(d=i==null?void 0:i.ground)==null?void 0:d.layers,(h=i==null?void 0:i.basemap)==null?void 0:h.baseLayers,(p=i==null?void 0:i.basemap)==null?void 0:p.referenceLayers,i==null?void 0:i.layers].filter(m=>!!m);r.forEach(m=>"layers"in m&&u.push(m.layers)),this.addHandles(u.map(m=>this._watchUpdatingTracking.addOnCollectionChange(()=>m,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([wr(()=>{var e,i;return(i=(e=this.view)==null?void 0:e.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Y(()=>{const e=this.view,i=e==null?void 0:e.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,e==null?void 0:e.ready]},()=>this._reschedule(),zs)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),Hx(this._recyclingInfoMap),Hx(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(jt()),this._workPromise=null)}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Che(this._layerLayerViewInfoMap,e=>!e.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),Hx(this._layerLayerViewInfoMap))}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new P("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}isCreatingLayerViewsForLayer(e,i){var n;this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(e);if(!(r!=null&&r.done))return!0;const s=r.layerView;return!(!s||!i||s.parent===i)||!!(r.done&&s&&"layers"in e&&((n=e.layers)!=null&&n.length))&&e.layers.some(a=>this.isCreatingLayerViewsForLayer(a,s))}_refreshCollections(){for(const[e,i]of this._layersToLayerViews)this._populateLayerViewsOwners(_s(this,e),_s(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){var e;for(const i of this._layersToLayerViews.values())(e=_s(this,i))==null||e.removeAll()}_populateLayerViewsOwners(e,i,r){if(!e||!i)return void(i==null?void 0:i.removeAll());let s=0;for(const n of e){const a=this._layerLayerViewInfoMap.get(n);if(!(a!=null&&a.layerView))continue;const o=a.layerView;o.layer=n,o.parent=r,i.at(s)!==o&&i.splice(s,0,o),"layers"in n&&z6e(o)&&this._populateLayerViewsOwners(n.layers,o.layerViews,o),s+=1}s<i.length&&i.splice(s)}_createLayerView(e){e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const i=new N6e(e,this.view,this.layerViewImporter);i.promise.then(()=>this._refreshCollections(),r=>{r&&(tr(r)||r.name==="cancelled:layerview-create")||W.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};c([f()],Bn.prototype,"_workPromise",void 0),c([f({readOnly:!0})],Bn.prototype,"_watchUpdatingTracking",void 0),c([f({readOnly:!0})],Bn.prototype,"_layersToLayerViews",null),c([f({readOnly:!0})],Bn.prototype,"_rootCollectionNames",null),c([f({constructOnly:!0})],Bn.prototype,"layerViewFilter",void 0),c([f()],Bn.prototype,"layerViewImporter",void 0),c([f()],Bn.prototype,"supportsGround",void 0),c([f({readOnly:!0})],Bn.prototype,"updating",null),c([f({readOnly:!0})],Bn.prototype,"updatingRemaining",null),c([f({constructOnly:!0})],Bn.prototype,"view",void 0),Bn=c([E("esri.views.support.LayerViewManager")],Bn);const V6e=Bn;let sy=class extends ce{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};c([f()],sy.prototype,"featureTitleFields",void 0),c([f()],sy.prototype,"utilityNetworkFields",void 0),c([f()],sy.prototype,"globalIdField",void 0),sy=c([E("esri.views.support.RequiredFieldsOptions")],sy);const j6e=sy;var r2,Am;let we=(Am=class extends ha.EventedMixin(qo.EsriPromiseMixin(ce)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new u1,this.updatingHandles=new vm,this.allLayerViews=new Vl({getCollections:()=>{var i,r,s;return[(i=this.basemapView)==null?void 0:i.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(s=this.basemapView)==null?void 0:s.referenceLayerViews]},getChildrenFunction:B6e}),this.analyses=new J4,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new _m,this.groundView=null,this.typeSpecificPreconditionsReady=!0,this.layerViews=new K,this.magnifier=new ote,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new M6e,this.navigation=new uS,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new hte(this),this.persistableViewModels=new K,this.requiredFieldsOptions=new j6e,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(Y(()=>this.preconditionsReady,i=>{var s,n;const r=this.ready;if(i?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,r2.views.add(this)):(this._lockedSpatialReference=null,r2.views.remove(this)),this.notifyChange("spatialReference"),!i&&r)(s=this.toolViewManager)==null||s.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(n=this.layerViewManager)==null||n.clear(),this._teardown();else if(i&&!r){try{this._startup()}catch(a){return void queueMicrotask(()=>{this.fatalError=new P("view:startup-error","View._startup failed",a)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},Fc))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,cd(()=>this.ready)))),this.basemapView=new D9e({view:this}),this.layerViewManager=new V6e({view:this,layerViewFilter:e=>{var i;return((i=this.layerViewFilter)==null?void 0:i.call(this,e))??!0},layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new ol({view:this}),this.selectionManager=new W9e({view:this}),this.addHandles([ir(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{W.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),Y(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},zs),Y(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},Fc),Y(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},zs)])}destroy(){var e,i;this.destroyed||(r2.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Lt(this.graphics),this.analyses=Lt(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Lt(this.analysisViewManager),this.toolViewManager=Lt(this.toolViewManager),this.layerViewManager=Lt(this.layerViewManager),this.selectionManager=Lt(this.selectionManager),this.basemapView=Lt(this.basemapView),(e=this.groundView)==null||e.destroy(),(i=this.layerViews)==null||i.forEach(r=>r.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=Lt(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return W.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Nt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,i)=>this.getSpatialReferenceSupport(e,i),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??$6e()}set highlights(e){this._set("highlights",hd(e,this._get("highlights"),K.ofType(Jf)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||lr.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(W.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),lr.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){var e,i,r,s;if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((((e=this.defaultsFromMap)==null?void 0:e.ready)??!1)&&!this.spatialReference){const n=!("loaded"in this.map)||this.map.loaded,a=this.map.ground.loaded,o=((i=this.map.basemap)==null?void 0:i.loaded)??!0;return n&&o&&a&&!((r=this.map)!=null&&r.allLayers.length)?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=mh(l=>kP(q("view-readyState-waiting-delay"),null,l)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),(s=this._readyStateWaitingTask)!=null&&s.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=bs(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){var i,r;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((r=(i=this.defaultsFromMap)==null?void 0:i.required)!=null&&r.heightModelInfo)){const s=e.clone();return s.vcsWkid=this.defaultsFromMap.vcsWkid,s.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,s}return e}set spatialReference(e){const i=!li(e,this._get("spatialReference"));this._set("_userSpatialReference",e),i&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Xs}set timeZone(e){this._userTimeZone=e,oQ(e)||W.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new qM}whenLayerView(e){var i;return((i=this.layerViewManager)==null?void 0:i.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new P("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,i){return this.isResolved()&&!this.ready&&W.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,i)}forceReadyCycle(){this.ready&&(ir(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}},r2=Am,Am.views=new K,Am);c([f()],we.prototype,"_userSpatialReference",void 0),c([f()],we.prototype,"activeTool",null),c([f({readOnly:!0})],we.prototype,"allLayerViews",void 0),c([f(wE(J4,"analyses"))],we.prototype,"analyses",void 0),c([f()],we.prototype,"animation",null),c([f()],we.prototype,"basemapView",void 0),c([f()],we.prototype,"center",null),c([f()],we.prototype,"defaultsFromMapSettings",null),c([f()],we.prototype,"defaultsFromMap",null),c([f()],we.prototype,"displayFilterEnabled",void 0),c([f({type:qe})],we.prototype,"extent",null),c([f()],we.prototype,"fatalError",void 0),c([f(wE(_m,"graphics"))],we.prototype,"graphics",void 0),c([f()],we.prototype,"groundView",void 0),c([f({readOnly:!0,type:Fs})],we.prototype,"heightModelInfo",null),c([f({type:K.ofType(Jf)})],we.prototype,"highlights",null),c([f({readOnly:!0})],we.prototype,"interacting",null),c([f({constructOnly:!0})],we.prototype,"layerViewFilter",void 0),c([f({readOnly:!0})],we.prototype,"navigating",null),c([f({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],we.prototype,"preconditionsReady",null),c([f({readOnly:!0})],we.prototype,"typeSpecificPreconditionsReady",void 0),c([f({type:K,readOnly:!0})],we.prototype,"layerViews",void 0),c([f()],we.prototype,"resolution",null),c([f({type:ote})],we.prototype,"magnifier",void 0),c([f({value:null,type:see})],we.prototype,"map",null),c([f()],we.prototype,"padding",void 0),c([f({readOnly:!0})],we.prototype,"ready",void 0),c([f()],we.prototype,"_readyStateWaitingTask",void 0),c([f({readOnly:!0})],we.prototype,"readyState",null),c([f({type:le})],we.prototype,"spatialReference",null),c([f()],we.prototype,"stationary",null),c([f({readOnly:!0})],we.prototype,"supportsGround",void 0),c([f({type:xt})],we.prototype,"timeExtent",null),c([f({type:String,nonNullable:!0})],we.prototype,"timeZone",null),c([f()],we.prototype,"tools",null),c([f()],we.prototype,"toolViewManager",void 0),c([f({readOnly:!0})],we.prototype,"type",void 0),c([f({type:Number})],we.prototype,"scale",void 0),c([f({readOnly:!0})],we.prototype,"updating",void 0),c([f({readOnly:!0})],we.prototype,"initialExtentRequired",void 0),c([f({readOnly:!0})],we.prototype,"initialExtent",null),c([f()],we.prototype,"cursor",null),c([f({readOnly:!0})],we.prototype,"input",void 0),c([f({type:uS,nonNullable:!0})],we.prototype,"navigation",void 0),c([f()],we.prototype,"layerViewManager",void 0),c([f()],we.prototype,"analysisViewManager",void 0),c([f()],we.prototype,"selectionManager",void 0),c([f()],we.prototype,"width",void 0),c([f()],we.prototype,"height",void 0),c([f({readOnly:!0})],we.prototype,"resizing",void 0),c([f({value:null,readOnly:!0})],we.prototype,"size",null),c([f({readOnly:!0})],we.prototype,"suspended",void 0),c([f({readOnly:!0})],we.prototype,"viewEvents",void 0),c([f({readOnly:!0})],we.prototype,"persistableViewModels",void 0),c([f()],we.prototype,"_isValid",void 0),c([f()],we.prototype,"_readyCycleForced",void 0),c([f()],we.prototype,"_lockedSpatialReference",void 0),c([f()],we.prototype,"_userTimeZone",void 0),c([f()],we.prototype,"_lockedTimeZone",void 0),c([f()],we.prototype,"_userTimeExtent",void 0),c([f()],we.prototype,"_lockedTimeExtent",void 0),c([f({type:qM})],we.prototype,"theme",void 0),c([f({readOnly:!0,type:qM})],we.prototype,"effectiveTheme",null),we=r2=c([E("esri.views.View")],we);const o$=globalThis.$arcgis;o$&&!o$.views&&Object.defineProperty(o$,"views",{configurable:!1,enumerable:!0,writable:!1,value:we.views});const q6e=we;function B6e(t){return t.layerViews}function Og(t,e){return t[0]=e[0],t[1]=e[1],t}function Ni(t,e,i){return t[0]=e,t[1]=i,t}function Ite(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Qw(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function Ete(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function Mte(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function U6e(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function G6e(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function H6e(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function W6e(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function Z6e(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function f3(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function J6e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t}function dS(t,e){const i=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(i*i+r*r)}function e8(t,e){const i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r}function t8(t){const e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function Cte(t){const e=t[0],i=t[1];return e*e+i*i}function kte(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Y6e(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function WM(t,e){const i=e[0],r=e[1];let s=i*i+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s),t}function Ate(t,e){return t[0]*e[0]+t[1]*e[1]}function Pte(t,e,i){const r=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=r,t}function X6e(t,e,i,r){const s=e[0],n=e[1];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t}function Q6e(t,e=1){const i=2*eS()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function K6e(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[2]*s,t[1]=i[1]*r+i[3]*s,t}function gs(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[2]*s+i[4],t[1]=i[1]*r+i[3]*s+i[5],t}function e4e(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[3]*s+i[6],t[1]=i[1]*r+i[4]*s+i[7],t}function t4e(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[4]*s+i[12],t[1]=i[1]*r+i[5]*s+i[13],t}function i4e(t,e,i,r){const s=e[0]-i[0],n=e[1]-i[1],a=Math.sin(r),o=Math.cos(r);return t[0]=s*o-n*a+i[0],t[1]=s*a+n*o+i[1],t}function r4e(t,e){const i=t[0],r=t[1],s=e[0],n=e[1];let a=i*i+r*r;a>0&&(a=1/Math.sqrt(a));let o=s*s+n*n;o>0&&(o=1/Math.sqrt(o));const l=(i*s+r*n)*a*o;return l>1?0:l<-1?Math.PI:Math.acos(l)}function s4e(t){return"vec2("+t[0]+", "+t[1]+")"}function n4e(t,e){return t[0]===e[0]&&t[1]===e[1]}function a4e(t,e){const i=t[0],r=t[1],s=e[0],n=e[1],a=Ws();return Math.abs(i-s)<=a*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-n)<=a*Math.max(1,Math.abs(r),Math.abs(n))}function o4e(t,e,i,r,s){let n=e[0]-i[0],a=e[1]-i[1];const o=(r[0]*n+r[1]*a)*(s-1);return n=r[0]*o,a=r[1]*o,t[0]=e[0]+n,t[1]=e[1]+a,t}const l4e=t8,cR=Qw,c4e=Ete,u4e=Mte,d4e=dS,f4e=e8,h4e=Cte;Object.freeze(Object.defineProperty({__proto__:null,add:Ite,angle:r4e,ceil:U6e,copy:Og,cross:Pte,dist:d4e,distance:dS,div:u4e,divide:Mte,dot:Ate,equals:a4e,exactEquals:n4e,floor:G6e,inverse:Y6e,len:l4e,length:t8,lerp:X6e,max:W6e,min:H6e,mul:c4e,multiply:Ete,negate:kte,normalize:WM,projectAndScale:o4e,random:Q6e,rotate:i4e,round:Z6e,scale:f3,scaleAndAdd:J6e,set:Ni,sqrDist:f4e,sqrLen:h4e,squaredDistance:e8,squaredLength:Cte,str:s4e,sub:cR,subtract:Qw,transformMat2:K6e,transformMat2d:gs,transformMat3:e4e,transformMat4:t4e},Symbol.toStringTag,{value:"Module"}));function _i(){return[0,0]}function p4e(t){return[t[0],t[1]]}function h3(t,e){return[t,e]}function m4e(t,e){return[t,e]}function y4e(t,e=_i()){const i=Math.min(2,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function Lte(){return _i()}function Rte(){return h3(1,1)}function Ote(){return h3(1,0)}function Fte(){return h3(0,1)}const g4e=Lte(),b4e=Rte(),v4e=Ote(),w4e=Fte();Object.freeze(Object.defineProperty({__proto__:null,ONES:b4e,UNIT_X:v4e,UNIT_Y:w4e,ZEROS:g4e,clone:p4e,create:_i,freeze:m4e,fromArray:y4e,fromValues:h3,ones:Rte,unitX:Ote,unitY:Fte,zeros:Lte},Symbol.toStringTag,{value:"Module"}));function _4e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function p3(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function S4e(t,e,i,r,s,n,a){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=a,t}function uR(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],o=e[5];let l=i*n-r*s;return l?(l=1/l,t[0]=n*l,t[1]=-r*l,t[2]=-s*l,t[3]=i*l,t[4]=(s*o-n*a)*l,t[5]=(r*a-i*o)*l,t):null}function x4e(t){return t[0]*t[3]-t[1]*t[2]}function ql(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=e[4],l=e[5],u=i[0],d=i[1],h=i[2],p=i[3],m=i[4],g=i[5];return t[0]=r*u+n*d,t[1]=s*u+a*d,t[2]=r*h+n*p,t[3]=s*h+a*p,t[4]=r*m+n*g+o,t[5]=s*m+a*g+l,t}function gh(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=e[4],l=e[5],u=Math.sin(i),d=Math.cos(i);return t[0]=r*d+n*u,t[1]=s*d+a*u,t[2]=r*-u+n*d,t[3]=s*-u+a*d,t[4]=o,t[5]=l,t}function m3(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=e[4],l=e[5],u=i[0],d=i[1];return t[0]=r*u,t[1]=s*u,t[2]=n*d,t[3]=a*d,t[4]=o,t[5]=l,t}function Pc(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=e[4],l=e[5],u=i[0],d=i[1];return t[0]=r,t[1]=s,t[2]=n,t[3]=a,t[4]=r*u+n*d+o,t[5]=s*u+a*d+l,t}function fS(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=0,t[5]=0,t}function Nte(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function dR(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function $4e(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function T4e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function I4e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t}function Dte(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t}function E4e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t}function M4e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t}function C4e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function k4e(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=e[0],u=e[1],d=e[2],h=e[3],p=e[4],m=e[5],g=Ws();return Math.abs(i-l)<=g*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-u)<=g*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-d)<=g*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(n-h)<=g*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-p)<=g*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-m)<=g*Math.max(1,Math.abs(o),Math.abs(m))}const A4e=ql,P4e=Dte;Object.freeze(Object.defineProperty({__proto__:null,add:I4e,copy:_4e,determinant:x4e,equals:k4e,exactEquals:C4e,frob:T4e,fromRotation:fS,fromScaling:Nte,fromTranslation:dR,identity:p3,invert:uR,mul:A4e,multiply:ql,multiplyScalar:E4e,multiplyScalarAndAdd:M4e,rotate:gh,scale:m3,set:S4e,str:$4e,sub:P4e,subtract:Dte,translate:Pc},Symbol.toStringTag,{value:"Module"}));function Lc(){return[1,0,0,1,0,0]}function L4e(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function R4e(t,e,i,r,s,n){return[t,e,i,r,s,n]}const O4e=Lc();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:O4e,clone:L4e,create:Lc,fromValues:R4e},Symbol.toStringTag,{value:"Module"}));const o5={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new wi({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:le.WebMercator}),minus180Line:new wi({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:le.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new wi({paths:[[[180,-180],[180,180]]],spatialReference:le.WGS84}),minus180Line:new wi({paths:[[[-180,-180],[-180,180]]],spatialReference:le.WGS84})}};function tm(t,e){return Math.ceil((t-e)/(2*e))}function zte(t,e){const i=pw(t);for(const r of i)for(const s of r)s[0]+=e;return t}function pw(t){return pi(t)?t.rings:t.paths}function F4e(t,e){return e?{...e,query:{...t??{},...e.query}}:{query:t}}function hS(t){return typeof t=="string"?Si(t):z(t)}function N4e(t,e,i){const r={};for(const s in t){if(s==="declaredClass")continue;const n=t[s];if(n!=null&&typeof n!="function")if(Array.isArray(n))r[s]=n.map(a=>N4e(a));else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(i==null?void 0:i[s]);r[s]=e?a:JSON.stringify(a)}else r[s]=e?n:JSON.stringify(n);else r[s]=n}return r}function D4e(t,e){var i;return t?e&&rL(t)?e:iL(t)??((i=Pe==null?void 0:Pe.findCredential(t))==null?void 0:i.token):null}async function uit(t,e,i){const r=D4e(t,e);if(r)return r;!Pe&&ut.request.useIdentity&&await R(()=>import("./IdentityManager-DuQna8Ui.js"),[]);const s=await Pe.getCredential(t,i);return s==null?void 0:s.token}async function z4e(t,e,i,r){const s=hS(t),n=e[0].spatialReference,a={...r,responseType:"json",query:{...s.query,f:"json",sr:kb(n),target:JSON.stringify({geometryType:s0(e[0]),geometries:e}),cutter:JSON.stringify(i)}},o=await it(s.path+"/cut",a),{cutIndexes:l,geometries:u=[]}=o.data;return{cutIndexes:l,geometries:u.map(d=>{const h=Xa(d);return h.spatialReference=n,h})}}function V4e(t){return{geometryType:s0(t[0]),geometries:t.map(e=>e.toJSON())}}function Vte(t,e,i){const r=Vye(e);return t.map(s=>{const n=r.fromJSON(s);return n.spatialReference=i,n})}async function j4e(t,e,i){const r=typeof t=="string"?Si(t):t,s=e[0].spatialReference,n=s0(e[0]),a={...i,query:{...r.query,f:"json",sr:kb(s),geometries:JSON.stringify(V4e(e))}},{data:o}=await it(r.path+"/simplify",a);return Vte(o.geometries,n,s)}const jte=()=>W.getLogger("esri.geometry.support.normalizeUtils");function q4e(t){return t.type==="polygon"}function B4e(t){return t[0].type==="polygon"}function U4e(t){return t[0].type==="polyline"}function Kz(t){const e=[];let i=0,r=0;for(let s=0;s<t.length;s++){const n=t[s];let a=null;for(let o=0;o<n.length;o++)a=n[o],e.push(a),o===0?(i=a[0],r=i):(i=Math.min(i,a[0]),r=Math.max(r,a[0]));a&&e.push([(i+r)/2,0])}return e}function G4e(t,e){if(!(t instanceof wi||t instanceof Ut)){const s="straightLineDensify: the input geometry is neither polyline nor polygon";throw jte().error(s),new P("internal:geometry",s)}const i=pw(t),r=[];for(const s of i){const n=[];r.push(n),n.push([s[0][0],s[0][1]]);for(let a=0;a<s.length-1;a++){const o=s[a][0],l=s[a][1],u=s[a+1][0],d=s[a+1][1],h=Math.sqrt((u-o)*(u-o)+(d-l)*(d-l)),p=(d-l)/h,m=(u-o)/h,g=h/e;if(g>1){for(let _=1;_<=g-1;_++){const S=_*e,T=m*S+o,C=p*S+l;n.push([T,C])}const b=(h+Math.floor(g-1)*e)/2,v=m*b+o,w=p*b+l;n.push([v,w])}n.push([u,d])}}return q4e(t)?new Ut({rings:r,spatialReference:t.spatialReference}):new wi({paths:r,spatialReference:t.spatialReference})}function eV(t,e,i){if(e){const r=G4e(t,1e6);t=Xy(r,!0)}return i&&(t=zte(t,i)),t}function tV(t,e,i){if(Array.isArray(t)){const r=t[0];if(r>e){const s=tm(r,e);t[0]=r+s*(-2*e)}else if(r<i){const s=tm(r,i);t[0]=r+s*(-2*i)}}else{const r=t.x;if(r>e){const s=tm(r,e);t=t.clone().offset(s*(-2*e),0)}else if(r<i){const s=tm(r,i);t=t.clone().offset(s*(-2*i),0)}}return t}function H4e(t,e){let i=-1;for(let r=0;r<e.cutIndexes.length;r++){const s=e.cutIndexes[r],n=e.geometries[r],a=pw(n);for(let o=0;o<a.length;o++){const l=a[o];l.some(u=>{if(u[0]<180)return!0;{let d=0;for(let p=0;p<l.length;p++){const m=l[p][0];d=m>d?m:d}d=Number(d.toFixed(9));const h=-360*tm(d,180);for(let p=0;p<l.length;p++){const m=n.getPoint(o,p);n.setPoint(o,p,m.clone().offset(h,0))}return!0}})}if(s===i){if(B4e(t))for(const o of pw(n))t[s]=t[s].addRing(o);else if(U4e(t))for(const o of pw(n))t[s]=t[s].addPath(o)}else i=s,t[s]=n}return t}async function fR(t,e,i){if(!Array.isArray(t))return fR([t],e);e&&typeof e!="string"&&jte().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof e=="string"?e:(e==null?void 0:e.url)??ut.geometryServiceUrl;let s,n,a,o,l,u,d,h,p=0;const m=[],g=[];for(const T of t)if(T!=null)if(s||(s=T.spatialReference,n=xs(s),a=s.isWebMercator,u=a?102100:4326,o=o5[u].maxX,l=o5[u].minX,d=o5[u].plus180Line,h=o5[u].minus180Line),n)if(T.type==="mesh")g.push(T);else if(T.type==="point")g.push(tV(T.clone(),o,l));else if(T.type==="multipoint"){const C=T.clone();C.points=C.points.map(A=>tV(A,o,l)),g.push(C)}else if(T.type==="extent"){const C=T.clone()._normalize(!1,!1,n);g.push(C.rings?new Ut(C):C)}else if(T.extent){const C=T.extent,A=tm(C.xmin,l)*(2*o);let O=A===0?T.clone():zte(T.clone(),A);C.offset(A,0);let{xmin:L,xmax:F}=C;L=Number(L.toFixed(9)),F=Number(F.toFixed(9)),C.intersects(d)&&F!==o?(p=F>p?F:p,O=eV(O,a),m.push(O),g.push("cut")):C.intersects(h)&&L!==l?(p=F*(2*o)>p?F*(2*o):p,O=eV(O,a,360),m.push(O),g.push("cut")):g.push(O)}else g.push(T.clone());else g.push(T);else g.push(T);let b=tm(p,o),v=-90;const w=b,_=new wi;for(;b>0;){const T=360*b-180;_.addPath([[T,v],[T,-1*v]]),v*=-1,b--}if(m.length>0&&w>0){const T=H4e(m,await z4e(r,m,_,i)),C=[],A=[];for(let F=0;F<g.length;F++){const D=g[F];if(D!=="cut")A.push(D);else{const G=T.shift(),H=t[F];H!=null&&H.type==="polygon"&&H.rings&&H.rings.length>1&&G.rings.length>=H.rings.length?(C.push(G),A.push("simplify")):A.push(a?Gf(G):G)}}if(!C.length)return A;const O=await j4e(r,C,i),L=[];for(let F=0;F<A.length;F++){const D=A[F];D!=="simplify"?L.push(D):L.push(a?Gf(O.shift()):O.shift())}return L}const S=[];for(let T=0;T<g.length;T++){const C=g[T];if(C!=="cut")S.push(C);else{const A=m.shift();S.push(a===!0?Gf(A):A)}}return S}function W4e(t){if(!t)return null;const e=t.extent;if(!e)return null;const i=t.spatialReference&&xs(t.spatialReference);if(!i)return e;const[r,s]=i.valid,n=2*s,{width:a}=e;let o,{xmin:l,xmax:u}=e;if([l,u]=[u,l],t.type==="extent"||a===0||a<=s||a>n||l<r||u>s)return e;switch(t.type){case"polygon":if(!(t.rings.length>1))return e;o=Kz(t.rings);break;case"polyline":if(!(t.paths.length>1))return e;o=Kz(t.paths);break;case"multipoint":o=t.points}const d=e.clone();for(let h=0;h<o.length;h++){let p=o[h][0];p<0?(p+=s,u=Math.max(p,u)):(p-=s,l=Math.min(p,l))}return d.xmin=l,d.xmax=u,d.width<a?(d.xmin-=s,d.xmax-=s,d):e}function hR(t,e,i){const r=xs(i);if(r==null)return t;const[s,n]=r.valid,a=2*n;let o=0,l=0;e>n?o=Math.ceil(Math.abs(e-n)/a):e<s&&(o=-Math.ceil(Math.abs(e-s)/a)),t>n?l=Math.ceil(Math.abs(t-n)/a):t<s&&(l=-Math.ceil(Math.abs(t-s)/a));let u=t+(o-l)*a;const d=u-e;return d>n?u-=a:d<s&&(u+=a),u}function dit(t,e){const i=xs(e);if(i){const[r,s]=i.valid,n=s-r;if(t<r)for(;t<r;)t+=n;if(t>s)for(;t>s;)t-=n}return t}const qte=96,Bte=39.37,Z4e=180/Math.PI;function Ute(t){return t.wkid?t:t.spatialReference||le.WGS84}function pR(t,e){return e.type?Ni(t,e.x,e.y):Og(t,e)}function Gte(t){return kn(t)}function pS(t,e,i=0){let r=t.width,s=t.height;if(i!==0){const o=wc(i),l=Math.abs(Math.cos(o)),u=Math.abs(Math.sin(o));r=t.width*l+t.height*u,s=t.width*u+t.height*l}const n=Math.max(1,e[0]),a=Math.max(1,e[1]);return Math.max(r/n,s/a)*i8e(t.spatialReference)}async function s2(t,e,i,r){var o,l,u;let s,n;if(!t||Array.isArray(t)&&!t.length)return null;if(K.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&typeof t[0]=="object"){const d=t.every(m=>"attributes"in m),h=t.some(m=>!m.geometry);let p=t;if(d&&h&&e&&e.allLayerViews){const m=new Map;for(const w of t){const _=w.layer,S=m.get(_)||[],T=w.attributes[_.objectIdField];T!=null&&S.push(T),m.set(_,S)}const g=[];m.forEach((w,_)=>{var T;const S=(T=e.allLayerViews)==null?void 0:T.find(C=>C.layer.id===_.id);if(S&&"queryFeatures"in S){const C=_.createQuery();C.objectIds=w,C.returnGeometry=!0,g.push(S.queryFeatures(C))}});const b=await Promise.all(g),v=[];for(const w of b)if(w&&w.features&&w.features.length)for(const _ of w.features)_.geometry!=null&&v.push(_.geometry);p=v}for(const m of p)r=await s2(m,e,i,r);return r}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number")s=new _e(t);else if(t instanceof Rr)s=t;else if("geometry"in t){if(t.geometry)s=t.geometry;else if(t.layer){const d=t.layer,h=(o=e.allLayerViews)==null?void 0:o.find(p=>p.layer.id===d.id);if(h&&"queryFeatures"in h){const p=d.createQuery();p.objectIds=[t.attributes[d.objectIdField]],p.returnGeometry=!0;const m=await h.queryFeatures(p);s=(u=(l=m==null?void 0:m.features)==null?void 0:l[0])==null?void 0:u.geometry}}}if(s==null)return null;switch(s.type){case"point":n=new qe({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":n=W4e(s);break;default:n=s.extent}if(!n)return null;wd()||da(n.spatialReference,i)||await fd();const a=Th(n,i);if(!a)return null;if(r){const d=a.center,h=d.clone();h.x=hR(d.x,r.center.x,i),h.x!==d.x&&a.centerAt(h),r=r.union(a)}else r=a;return r}function J4e(t){var e;if(t&&(!Array.isArray(t)||typeof t[0]!="number")&&(typeof t=="object"||Array.isArray(t)&&typeof t[0]=="object")){if("layer"in t&&((e=t.layer)==null?void 0:e.minScale)!=null&&t.layer.maxScale!=null){const i=t.layer;return{min:i.minScale,max:i.maxScale}}if(Array.isArray(t)&&t.length&&t.every(i=>"layer"in i)){let i=0,r=0;for(const s of t){const n=s.layer;n!=null&&n.minScale&&n.maxScale&&(i=n.minScale<i?n.minScale:i,r=n.maxScale>r?n.maxScale:r)}return i&&r?{min:i,max:r}:null}}}function iV(t,e){const i=Ute(t);return li(i,e)||i.imageCoordinateSystem||e.imageCoordinateSystem?t:Th(t,e)}async function Y4e(t,e){var v;if(!t||!e)return new er({targetGeometry:new _e,scale:0,rotation:0});let i=e.spatialReference;const{constraints:r,padding:s,viewpoint:n,size:a}=e,o=[s?a[0]-s.left-s.right:a[0],s?a[1]-s.top-s.bottom:a[1]];let l=null;t instanceof er?l=t:t.viewpoint?l=t.viewpoint:t.target&&t.target.declaredClass==="esri.Viewpoint"&&(l=t.target);let u=null;l!=null&&l.targetGeometry?u=l.targetGeometry:t instanceof qe?u=t:t instanceof Rr?u=await s2(t,e,i):t&&(u=await s2(t.center,e,i)||await s2(t.target,e,i)||await s2(t,e,i)),!u&&(n!=null&&n.targetGeometry)?u=n.targetGeometry:!u&&e.extent&&(u=e.extent),i||(i=Ute(e.spatialReference||e.extent||u)),wd()||li(u.spatialReference,i)||da(u.spatialReference,i)||await fd();const d=iV(u,i),h="center"in d?d.center:d;e.pickClosestTarget!==!1&&h.type==="point"&&((v=n.targetGeometry)==null?void 0:v.type)==="point"&&(h.x=hR(h.x,n.targetGeometry.x,h.spatialReference));let p=0;l?p=l.rotation:t.hasOwnProperty("rotation")?p=t.rotation:n&&(p=n.rotation);let m=0;m=(l==null?void 0:l.targetGeometry)!=null&&l.targetGeometry.type==="point"?l.scale:"scale"in t&&t.scale?t.scale:"zoom"in t&&t.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(t.zoom):Array.isArray(u)||u.type==="point"||u.type==="extent"&&u.width===0&&u.height===0?n.scale:pS(iV(u.extent,i),o,p);const g=J4e(t.target??t);g&&(g.min&&g.min<m?m=g.min:g.max&&g.max>m&&(m=g.max));let b=new er({targetGeometry:h,scale:m,rotation:p});return r&&(b=r.fit(b),r.constrainByGeometry(b),r.rotationEnabled||(b.rotation=n.rotation)),b}function Ss(t,e){const i=t.targetGeometry,r=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function X4e(t,e,i){return i?Ni(t,.5*(e[0]-i.right+i.left),.5*(e[1]-i.bottom+i.top)):f3(t,e,.5)}const Q4e=function(){const t=_i();return function(e,i,r){const s=i.targetGeometry;pR(t,s);const n=.5*_1(i);return e.xmin=t[0]-n*r[0],e.ymin=t[1]-n*r[1],e.xmax=t[0]+n*r[0],e.ymax=t[1]+n*r[1],e.spatialReference=s.spatialReference,e}}();function K4e(t,e,i,r,s){var n;return ZM(t,e,i.center),t.scale=pS(i,r),(n=s==null?void 0:s.constraints)==null||n.constrain(t),t}function e8e(t,e,i,r){return bR(t,e,i,r),uR(t,t)}const Hte=function(){const t=_i();return function(e,i,r){return cR(e,r8e(e,i),X4e(t,i,r))}}(),t8e=function(){const t=Lc(),e=_i();return function(i,r,s,n){const a=_1(r),o=yR(r);return Ni(e,a,a),Nte(t,e),gh(t,t,o),Pc(t,t,Hte(e,s,n)),Pc(t,t,[0,n.top-n.bottom]),Ni(i,t[4],t[5])}}();function _1(t){var e;return t.scale*mR((e=t.targetGeometry)==null?void 0:e.spatialReference)}function mR(t){return Gs(t)?1/(Gte(t)*Bte*qte):1}function yR(t){return WL(t.rotation)||0}function i8e(t){return Gs(t)?Gte(t)*Bte*qte:1}function r8e(t,e){return f3(t,e,.5)}const gR=function(){const t=_i(),e=_i(),i=_i();return function(r,s,n,a,o,l){return kte(t,s),f3(e,n,.5*l),Ni(i,1/a*l,-1/a*l),dR(r,e),o&&gh(r,r,o),m3(r,r,i),Pc(r,r,t),r}}(),bR=function(){const t=_i();return function(e,i,r,s){const n=_1(i),a=yR(i);return pR(t,i.targetGeometry),gR(e,t,r,n,a,s)}}(),s8e=function(){const t=_i();return function(e,i,r,s){const n=_1(i);return pR(t,i.targetGeometry),gR(e,t,r,n,0,s)}}();function Wte(t){const e=xs(t);return e?e.valid[1]-e.valid[0]:0}function n8e(t,e){return Math.round(Wte(t)/e)}const a8e=function(){const t=_i(),e=_i(),i=[0,0,0];return function(r,s,n){Qw(t,r,s),WM(t,t),Qw(e,r,n),WM(e,e),Pte(i,t,e);let a=Math.acos(Ate(t,e)/(t8(t)*t8(e)))*Z4e;return i[2]<0&&(a=-a),isNaN(a)&&(a=0),a}}(),o8e=function(){const t=_i();return function(e,i,r,s){const n=e.targetGeometry;return Ss(e,i),t8e(t,i,r,s),n.x+=t[0],n.y+=t[1],e}}(),ZM=function(t,e,i){Ss(t,e);const r=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,t},l8e=function(){const t=_i();return function(e,i,r,s,n){n||(n="center"),cR(t,r,s),f3(t,t,.5);const a=t[0],o=t[1];switch(n){case"center":Ni(t,0,0);break;case"left":Ni(t,-a,0);break;case"top":Ni(t,0,o);break;case"right":Ni(t,a,0);break;case"bottom":Ni(t,0,-o);break;case"top-left":Ni(t,-a,o);break;case"bottom-left":Ni(t,-a,-o);break;case"top-right":Ni(t,a,o);break;case"bottom-right":Ni(t,a,-o)}return mS(e,i,t),e}}();function fit(t,e,i){return Ss(t,e),t.rotation+=i,t}function c8e(t,e,i){return Ss(t,e),t.rotation=i,t}const u8e=function(){const t=_i();return function(e,i,r,s,n){return Ss(e,i),isNaN(r)||r===0||(Jte(t,s,i,n),e.scale=i.scale*r,Yte(t,t,e,n),mS(e,e,Ni(t,t[0]-s[0],s[1]-t[1]))),e}}();function rV(t,e,i){return Ss(t,e),t.scale=i,t}const Zte=function(){const t=_i();return function(e,i,r,s,n,a){return Ss(e,i),isNaN(r)||r===0||(Jte(t,n,i,a),e.scale=i.scale*r,e.rotation+=s,Yte(t,t,e,a),mS(e,e,Ni(t,t[0]-n[0],n[1]-t[1]))),e}}(),hit=function(){const t=_i(),e=_i();return function(i,r,s,n,a,o,l){return Hte(e,o,l),Ite(t,a,e),n?Zte(i,r,s,n,t,o):u8e(i,r,s,t,o)}}(),Jte=function(){const t=Lc();return function(e,i,r,s){return gs(e,i,e8e(t,r,s,1))}}(),Yte=function(){const t=Lc();return function(e,i,r,s){return gs(e,i,bR(t,r,s,1))}}(),mS=function(){const t=_i(),e=Lc();return function(i,r,s){Ss(i,r);const n=_1(r),a=i.targetGeometry;return fS(e,yR(r)),m3(e,e,h3(n,n)),gs(t,s,e),a.x+=t[0],a.y+=t[1],i}}();function sd(){const t=new Float32Array(6);return t[0]=1,t[3]=1,t}function d8e(t){const e=new Float32Array(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function f8e(t,e,i,r,s,n){const a=new Float32Array(6);return a[0]=t,a[1]=e,a[2]=i,a[3]=r,a[4]=s,a[5]=n,a}function Xte(t,e,i,r){const s=e[r],n=e[r+1];t[r]=i[0]*s+i[2]*n+i[4],t[r+1]=i[1]*s+i[3]*n+i[5]}function Qte(t,e,i,r=0,s=0,n=2){const a=s||e.length/n;for(let o=r;o<a;o++)Xte(t,e,i,o*n)}Object.freeze(Object.defineProperty({__proto__:null,clone:d8e,create:sd,fromValues:f8e,transform:Xte,transformMany:Qte},Symbol.toStringTag,{value:"Module"}));function h8e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function p8e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Kte(t,e,i,r,s,n,a,o,l,u){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=a,t[6]=o,t[7]=l,t[8]=u,t}function eie(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function m8e(t,e){if(t===e){const i=e[1],r=e[2],s=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=r,t[7]=s}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function y8e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8],h=d*a-o*u,p=-d*n+o*l,m=u*n-a*l;let g=i*h+r*p+s*m;return g?(g=1/g,t[0]=h*g,t[1]=(-d*r+s*u)*g,t[2]=(o*r-s*a)*g,t[3]=p*g,t[4]=(d*i-s*l)*g,t[5]=(-o*i+s*n)*g,t[6]=m*g,t[7]=(-u*i+r*l)*g,t[8]=(a*i-r*n)*g,t):null}function g8e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8];return t[0]=a*d-o*u,t[1]=s*u-r*d,t[2]=r*o-s*a,t[3]=o*l-n*d,t[4]=i*d-s*l,t[5]=s*n-i*o,t[6]=n*u-a*l,t[7]=r*l-i*u,t[8]=i*a-r*n,t}function b8e(t){const e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],a=t[5],o=t[6],l=t[7],u=t[8];return e*(u*n-a*l)+i*(-u*s+a*o)+r*(l*s-n*o)}function vR(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=e[4],l=e[5],u=e[6],d=e[7],h=e[8],p=i[0],m=i[1],g=i[2],b=i[3],v=i[4],w=i[5],_=i[6],S=i[7],T=i[8];return t[0]=p*r+m*a+g*u,t[1]=p*s+m*o+g*d,t[2]=p*n+m*l+g*h,t[3]=b*r+v*a+w*u,t[4]=b*s+v*o+w*d,t[5]=b*n+v*l+w*h,t[6]=_*r+S*a+T*u,t[7]=_*s+S*o+T*d,t[8]=_*n+S*l+T*h,t}function JM(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=e[4],l=e[5],u=e[6],d=e[7],h=e[8],p=i[0],m=i[1];return t[0]=r,t[1]=s,t[2]=n,t[3]=a,t[4]=o,t[5]=l,t[6]=p*r+m*a+u,t[7]=p*s+m*o+d,t[8]=p*n+m*l+h,t}function tie(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3],o=e[4],l=e[5],u=e[6],d=e[7],h=e[8],p=Math.sin(i),m=Math.cos(i);return t[0]=m*r+p*a,t[1]=m*s+p*o,t[2]=m*n+p*l,t[3]=m*a-p*r,t[4]=m*o-p*s,t[5]=m*l-p*n,t[6]=u,t[7]=d,t[8]=h,t}function v8e(t,e,i){const r=i[0],s=i[1],n=i[2];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=n*e[6],t[7]=n*e[7],t[8]=n*e[8],t}function w8e(t,e,i){const r=i[0],s=i[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t}function _8e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function S8e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x8e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function $8e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function T8e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],a=i+i,o=r+r,l=s+s,u=i*a,d=r*a,h=r*o,p=s*a,m=s*o,g=s*l,b=n*a,v=n*o,w=n*l;return t[0]=1-h-g,t[3]=d-w,t[6]=p+v,t[1]=d+w,t[4]=1-u-g,t[7]=m-b,t[2]=p-v,t[5]=m+b,t[8]=1-u-h,t}function I8e(t,e){const i=e[0],r=e[1],s=e[2],n=e[4],a=e[5],o=e[6],l=e[8],u=e[9],d=e[10],h=d*a-o*u,p=-d*n+o*l,m=u*n-a*l,g=i*h+r*p+s*m;if(!g)return null;const b=1/g;return t[0]=h*b,t[1]=(-d*r+s*u)*b,t[2]=(o*r-s*a)*b,t[3]=p*b,t[4]=(d*i-s*l)*b,t[5]=(-o*i+s*n)*b,t[6]=m*b,t[7]=(-u*i+r*l)*b,t[8]=(a*i-r*n)*b,t}function E8e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],g=e[12],b=e[13],v=e[14],w=e[15],_=i*o-r*a,S=i*l-s*a,T=i*u-n*a,C=r*l-s*o,A=r*u-n*o,O=s*u-n*l,L=d*b-h*g,F=d*v-p*g,D=d*w-m*g,G=h*v-p*b,H=h*w-m*b,se=p*w-m*v;let X=_*se-S*H+T*G+C*D-A*F+O*L;return X?(X=1/X,t[0]=(o*se-l*H+u*G)*X,t[1]=(l*D-a*se-u*F)*X,t[2]=(a*H-o*D+u*L)*X,t[3]=(s*H-r*se-n*G)*X,t[4]=(i*se-s*D+n*F)*X,t[5]=(r*D-i*H-n*L)*X,t[6]=(b*O-v*A+w*C)*X,t[7]=(v*T-g*O-w*S)*X,t[8]=(g*A-b*T+w*_)*X,t):null}function M8e(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function C8e(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function k8e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function A8e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function iie(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function P8e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function L8e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t}function R8e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function O8e(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=t[6],u=t[7],d=t[8],h=e[0],p=e[1],m=e[2],g=e[3],b=e[4],v=e[5],w=e[6],_=e[7],S=e[8],T=Ws();return Math.abs(i-h)<=T*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-p)<=T*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(s-m)<=T*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(n-g)<=T*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(a-b)<=T*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-v)<=T*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(l-w)<=T*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(u-_)<=T*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(d-S)<=T*Math.max(1,Math.abs(d),Math.abs(S))}function F8e(t){const e=Ws(),i=t[0],r=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=t[6],u=t[7],d=t[8];return Math.abs(1-(i*i+n*n+l*l))<=e&&Math.abs(1-(r*r+a*a+u*u))<=e&&Math.abs(1-(s*s+o*o+d*d))<=e}const N8e=vR,D8e=iie;Object.freeze(Object.defineProperty({__proto__:null,add:A8e,adjoint:g8e,copy:p8e,determinant:b8e,equals:O8e,exactEquals:R8e,frob:k8e,fromMat2d:$8e,fromMat4:h8e,fromQuat:T8e,fromRotation:S8e,fromScaling:x8e,fromTranslation:_8e,identity:eie,invert:y8e,isOrthoNormal:F8e,mul:N8e,multiply:vR,multiplyScalar:P8e,multiplyScalarAndAdd:L8e,normalFromMat4:E8e,normalFromMat4Legacy:I8e,projection:M8e,rotate:tie,scale:v8e,scaleByVec2:w8e,set:Kte,str:C8e,sub:D8e,subtract:iie,translate:JM,transpose:m8e},Symbol.toStringTag,{value:"Module"}));function o6(){const t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function z8e(t){const e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function V8e(t,e,i,r,s,n,a,o,l){const u=new Float32Array(9);return u[0]=t,u[1]=e,u[2]=i,u[3]=r,u[4]=s,u[5]=n,u[6]=a,u[7]=o,u[8]=l,u}Object.freeze(Object.defineProperty({__proto__:null,clone:z8e,create:o6,fromValues:V8e},Symbol.toStringTag,{value:"Module"}));function Kw(){return new Float32Array(2)}function j8e(t){const e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}function Km(t,e){const i=new Float32Array(2);return i[0]=t,i[1]=e,i}function rie(){return Kw()}function sie(){return Km(1,1)}function nie(){return Km(1,0)}function aie(){return Km(0,1)}const q8e=rie(),B8e=sie(),U8e=nie(),G8e=aie();Object.freeze(Object.defineProperty({__proto__:null,ONES:B8e,UNIT_X:U8e,UNIT_Y:G8e,ZEROS:q8e,clone:j8e,create:Kw,fromValues:Km,ones:sie,unitX:nie,unitY:aie,zeros:rie},Symbol.toStringTag,{value:"Module"}));function H8e(t){return t instanceof Float32Array&&t.length>=2}function W8e(t){return Array.isArray(t)&&t.length>=2}function l$(t){return H8e(t)||W8e(t)}var YM;const Hc=[0,0];let fu=YM=class extends B{constructor(t){super(t),this._viewpoint2D={center:_i(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new qe,this.id=0,this.inverseTransform=Lc(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Lc(),this.transformNoRotation=Lc(),this.displayMat3=o6(),this.displayViewMat3=o6(),this.viewMat3=o6(),this.viewMat2d=sd(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const e=this._viewpoint2D,i=t.targetGeometry;e.center[0]=i.x,e.center[1]=i.y,e.rotation=t.rotation,e.scale=t.scale,e.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[t,e]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,e),this.toMap([0,0],t,e),this.toMap([0,0],t,0)]}copy(t){const e=this.size,i=this.viewpoint;return i&&e?(this.viewpoint=Ss(i,t.viewpoint),this._set("size",Og(e,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new YM({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,e,i){return l$(e)?gs(t,e,this.inverseTransform):(Hc[0]=e,Hc[1]=i,gs(t,Hc,this.inverseTransform))}toScreen(t,e,i){return l$(e)?gs(t,e,this.transform):(Hc[0]=e,Hc[1]=i,gs(t,Hc,this.transform))}toScreenNoRotation(t,e,i){return l$(e)?gs(t,e,this.transformNoRotation):(Hc[0]=e,Hc[1]=i,gs(t,Hc,this.transformNoRotation))}wrapMapCoordinate(t,e){Og(t,e);const[i]=e,[r]=this.center,{extent:s,spatialReference:n}=this;let{xmin:a,xmax:o}=s;if(n.isWrappable){const l=Wte(n)/2;a=Math.max(a,r-l),o=Math.min(o,r+l)}return(i<a||i>o)&&(t[0]=hR(i,r,n)),t}getScreenTransform(t,e){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size");return gR(t,i,s,e,0,r),t}_update(){const{center:t,spatialReference:e,scale:i,rotation:r}=this._viewpoint2D,s=this._get("pixelRatio")||1,n=this._get("size"),a=new er({targetGeometry:new _e(t[0],t[1],e),scale:i,rotation:r});if(this._set("viewpoint",a),!n||!e||!i)return;this.resolution=_1(a),this.rotation=r,this.scale=i,this.spatialReference=e,Og(this.center,t);const o=n[0]!==0?2/n[0]:0,l=n[1]!==0?-2/n[1]:0;Kte(this.displayMat3,o,0,0,0,l,0,-1,1,1);const u=eie(this.viewMat3),d=Km(n[0]/2,n[1]/2),h=Km(-n[0]/2,-n[1]/2),p=WL(r);JM(u,u,d),tie(u,u,p),JM(u,u,h),vR(this.displayViewMat3,this.displayMat3,u);const m=dR(this.viewMat2d,d);return gh(m,m,p),Pc(m,m,h),Q4e(this.extent,a,n),bR(this.transform,a,n,s),uR(this.inverseTransform,this.transform),s8e(this.transformNoRotation,a,n,s),this.worldScreenWidth=n8e(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};c([f({readOnly:!0})],fu.prototype,"id",void 0),c([f({value:1,json:{write:!0}})],fu.prototype,"pixelRatio",null),c([f({json:{write:!0}})],fu.prototype,"size",null),c([f()],fu.prototype,"spatialReference",void 0),c([f({type:er,json:{write:!0}})],fu.prototype,"viewpoint",null),c([f({readOnly:!0})],fu.prototype,"visibleArea",null),fu=YM=c([E("esri.views.2d.ViewState")],fu);const sV=fu;var XM,QM;let Vu=XM=class extends ce{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new XM({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};c([f()],Vu.prototype,"left",void 0),c([f()],Vu.prototype,"top",void 0),c([f()],Vu.prototype,"right",void 0),c([f()],Vu.prototype,"bottom",void 0),Vu=XM=c([E("esri.views.2d.PaddedViewState.Padding")],Vu);let ny=QM=class extends sV{constructor(...t){super(...t),this.paddedViewState=new sV,this._updateContent=(()=>{const e=_i();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const s=this.paddedViewState;Ni(e,r.left+r.right,r.top+r.bottom),Qw(e,i,e),Og(s.size,e);const n=s.viewpoint;n&&(this.viewpoint=n)}})(),this.addHandles(Y(()=>[this.size,this.padding],()=>this._updateContent(),Fc)),this.padding=new Vu,this.size=[0,0]}set padding(t){this._set("padding",t||new Vu)}set viewpoint(t){if(t){this.paddedViewState.viewpoint=t;let e=t;const i=this._get("padding");i&&(e=o8e(t.clone(),t,this._get("size"),i));const{targetGeometry:r,rotation:s,scale:n}=e,{x:a,y:o,spatialReference:l}=r,u=this._viewpoint2D;u.center[0]=a,u.center[1]=o,u.rotation=s,u.scale=n,u.spatialReference=l,this._update()}}clone(){return new QM({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};c([f()],ny.prototype,"paddedViewState",void 0),c([f({type:Vu})],ny.prototype,"padding",null),c([f()],ny.prototype,"viewpoint",null),ny=QM=c([E("esri.views.2d.PaddedViewState")],ny);const wR=ny;var cs;(function(t){t[t.ANIMATING=0]="ANIMATING",t[t.INTERACTING=1]="INTERACTING",t[t.IDLE=2]="IDLE"})(cs||(cs={}));const oie=Symbol("Yield");let Z8e=class{constructor(){this._tasks=new Array,this._numPendingTasks=Vm(0),this._running=Vm(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get running(){return this._running.value}_updateRunning(){this._running.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(this.length===0)return oie;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,i,r){return new Promise((s,n)=>{this._tasks.push(new nV(s,n,e,i,r)),++this._numPendingTasks.value,this._updateRunning()}).finally(()=>--this._numPendingTasks.value)}unshift(e,i,r){return new Promise((s,n)=>{this._tasks.unshift(new nV(s,n,e,i,r)),++this._numPendingTasks.value,this._updateRunning()}).finally(()=>--this._numPendingTasks.value)}_process(e){var r;if(this._tasks.length===0)return!1;const i=this._tasks.shift();this._updateRunning();try{const s=Ya(i.signal);if(s&&!i.abortCallback)i.reject(jt());else{const n=s?(r=i.abortCallback)==null?void 0:r.call(i,jt()):i.callback(e);qc(n)?n.then(i.resolve,i.reject):i.resolve(n)}}catch(s){i.reject(s)}return!0}cancelAll(){const e=jt();for(const i of this._tasks)if(i.abortCallback){const r=i.abortCallback(e);i.resolve(r)}else i.reject(e);this._tasks.length=0,this._updateRunning()}},nV=class{constructor(e,i,r,s=void 0,n=void 0){this.resolve=e,this.reject=i,this.callback=r,this.signal=s,this.abortCallback=n}},n2=class extends ce{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};c([f()],n2.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),c([f()],n2.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),n2=c([E("esri.views.support.debugFlags")],n2);const J8e=new n2;function Y8e(){return new i8.Scheduler}var Je;(function(t){t.RESOURCE_CONTROLLER_IMMEDIATE="immediate",t.RESOURCE_CONTROLLER="schedule",t.SLIDE="slide",t.STREAM_DATA_LOADER="stream loader",t.ELEVATION_QUERY="elevation query",t.TERRAIN_SURFACE="terrain",t.SURFACE_GEOMETRY_UPDATES="surface geometry updates",t.LOD_RENDERER="LoD renderer",t.GRAPHICS_CORE="Graphics3D",t.I3S_CONTROLLER="I3S",t.POINT_CLOUD_LAYER="point cloud",t.FEATURE_TILE_FETCHER="feature fetcher",t.OVERLAY="overlay",t.OVERLAY_RENDERER="overlay renderer",t.STAGE="stage",t.GRAPHICS_DECONFLICTOR="graphics deconflictor",t.FILTER_VISIBILITY="Graphics3D filter visibility",t.SCALE_VISIBILITY="Graphics3D scale visibility",t.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",t.POINT_OF_INTEREST_FREQUENT="POI frequent",t.POINT_OF_INTEREST_INFREQUENT="POI infrequent",t.LABELER="labeler",t.FEATURE_QUERY_ENGINE="feature query",t.FEATURE_TILE_TREE="feature tile tree",t.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",t.ELEVATION_ALIGNMENT="elevation alignment",t.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",t.TEXT_TEXTURE_ATLAS="text texture atlas",t.TEXTURE_UNLOAD="texture unload",t.LINE_OF_SIGHT_TOOL="line of sight tool",t.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",t.ELEVATION_PROFILE="elevation profile",t.SNAPPING="snapping",t.SHADOW_ACCUMULATOR="shadow accumulator",t.CLOUDS_GENERATOR="clouds generator",t.MAPVIEW_FETCH_QUEUE="mapview fetch queue",t.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",t.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",t[t.NONE=0]="NONE",t[t.TEST_PRIO=1]="TEST_PRIO"})(Je||(Je={}));const Aa=0,aV=new Map([[Je.RESOURCE_CONTROLLER_IMMEDIATE,Aa],[Je.RESOURCE_CONTROLLER,4],[Je.SLIDE,Aa],[Je.STREAM_DATA_LOADER,Aa],[Je.ELEVATION_QUERY,Aa],[Je.TERRAIN_SURFACE,1],[Je.SURFACE_GEOMETRY_UPDATES,1],[Je.LOD_RENDERER,2],[Je.GRAPHICS_CORE,2],[Je.I3S_CONTROLLER,2],[Je.POINT_CLOUD_LAYER,2],[Je.FEATURE_TILE_FETCHER,2],[Je.CLOUDS_GENERATOR,2],[Je.OVERLAY,4],[Je.OVERLAY_RENDERER,4],[Je.STAGE,4],[Je.GRAPHICS_DECONFLICTOR,4],[Je.FILTER_VISIBILITY,4],[Je.SCALE_VISIBILITY,4],[Je.FRUSTUM_VISIBILITY,4],[Je.POINT_OF_INTEREST_FREQUENT,6],[Je.POINT_OF_INTEREST_INFREQUENT,30],[Je.LABELER,8],[Je.FEATURE_QUERY_ENGINE,8],[Je.FEATURE_TILE_TREE,16],[Je.FEATURE_TILE_TREE_ACTIVE,Aa],[Je.ELEVATION_ALIGNMENT,12],[Je.ELEVATION_ALIGNMENT_SCENE,14],[Je.TEXT_TEXTURE_ATLAS,12],[Je.TEXTURE_UNLOAD,12],[Je.LINE_OF_SIGHT_TOOL,16],[Je.LINE_OF_SIGHT_TOOL_INTERACTIVE,Aa],[Je.SNAPPING,Aa],[Je.SHADOW_ACCUMULATOR,30],[Je.MAPVIEW_FETCH_QUEUE,Aa],[Je.MAPVIEW_LAYERVIEW_UPDATE,2],[Je.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,Aa]]);function oV(t){return aV.has(t)?aV.get(t):typeof t=="number"?t:1}const X8e=6.5,lV=1,Q8e=30,K8e=1e3/30,e7e=100,cV=.9;var i8,Fh;(function(t){class e{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(n=>n.needsUpdate)}constructor(){this._updating=Vm(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new W2("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new r,this._state=cs.INTERACTING,this._tasks=new Z2,this._runQueue=new Z2,this._load=0,this._idleStateCallbacks=new Z2,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=Y(()=>J8e.SCHEDULER_LOG_SLOW_TASKS,n=>this._debug=n,Le);for(const n of Object.keys(Je))this.performanceInfo.tasks.set(Je[n],new W2(Je[n]))}destroy(){this._tasks.toArray().forEach(n=>n.remove()),this._tasks.clear(),oi(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(n){this._updatingChanged(),n&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(n,a){const o=new i(this,n,a);return this._tasks.push(o),this._updatingChanged(),this.performanceInfo.tasks.has(n)||this.performanceInfo.tasks.set(n,new W2(n)),o}registerIdleStateCallbacks(n,a){const o={idleBegin:n,idleEnd:a};this._idleStateCallbacks.push(o),this.state===cs.IDLE&&this._idleUpdatesStartFired&&o.idleBegin();const l=this;return{remove:()=>this._removeIdleStateCallbacks(o),set idleBegin(u){l._idleUpdatesStartFired&&(o.idleEnd(),l._state===cs.IDLE&&u()),o.idleBegin=u},set idleEnd(u){o.idleEnd=u}}}get load(){return this._load}set state(n){this._state!==n&&(this._state=n,this.state!==cs.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(a=>a.idleEnd())))}get state(){return this._state}frame(n){this._startFrameTaskTimes();const a=this._updateBudget(n);if(a){const o=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-o)}else this._recordFrameTaskTimes(0);return a}_updateBudget(n){this._test&&(this._test.usedBudget=0),++this._frameNumber;let a=X8e,o=n.frameDuration,l=lV;switch(this.state){case cs.IDLE:a=0,o=Math.max(e7e,n.frameDuration),l=Q8e;break;case cs.INTERACTING:o=Math.max(K8e,n.frameDuration);case cs.ANIMATING:}return o=o-n.elapsedFrameTime-a,this.state!==cs.IDLE&&o<lV&&!this._forceTask?(this._forceTask=!0,!1):(o=Math.max(o,l),this._budget.reset(o),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case cs.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(n=>n.idleBegin())),this._runIdle();break;case cs.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0),this._budget.madeProgress()}_removeIdleStateCallbacks(n){this._idleUpdatesStartFired&&n.idleEnd(),this._idleStateCallbacks.removeUnordered(n)}removeTask(n){this._tasks.removeUnordered(n),this._runQueue.removeUnordered(n),this._updatingChanged()}_updateTask(n){this._tasks.forAll(a=>{a.name===n&&a.setPriority(n)})}_getState(n){if(this._runQueue.some(o=>o.name===n))return Fh.SCHEDULED;let a=Fh.IDLE;return this._tasks.forAll(o=>{o.name===n&&o.needsUpdate&&(o.schedulePriority<=1?a=Fh.READY:a!==Fh.READY&&(a=Fh.WAITING))}),a}_getRuntime(n){let a=0;return this._tasks.forAll(o=>{o.name===n&&(a+=o.runtime)}),a}_resetRuntimes(){this._tasks.forAll(n=>n.runtime=0)}_getRunning(){const n=new Map;if(this._tasks.forAll(o=>{o.needsUpdate&&n.set(o.name,(n.get(o.name)||0)+1)}),n.size===0)return null;let a="";return n.forEach((o,l)=>{a+=o>1?` ${o}x ${l}`:` ${l}`}),a}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const n=this._tasks.reduce((a,o)=>o.needsUpdate?++a:a,0);this._load=this._load*cV+n*(1-cV)}_schedule(){for(this._runQueue.filterInPlace(n=>!!n.needsUpdate||(n.schedulePriority=n.basePriority,!1)),this._tasks.forAll(n=>{n.basePriority===Aa&&n.needsUpdate&&!this._runQueue.includes(n)&&n.blockFrame!==this._frameNumber&&this._runQueue.unshift(n)});this._runQueue.length===0;){let n=!1,a=0;if(this._tasks.forAll(o=>{o.needsUpdate&&o.schedulePriority!==0&&o.basePriority!==Aa&&o.blockFrame!==this._frameNumber&&(n=!0,a=Math.max(a,o.basePriority),o.schedulePriority===1?(o.schedulePriority=0,this._runQueue.push(o)):--o.schedulePriority)}),!n)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const n=this._budget.now(),a=this._runQueue.pop();this._budget.resetProgress();try{a.task.runTask(this._budget)===oie&&(a.blockFrame=this._frameNumber)}catch(l){W.getLogger("esri.views.support.Scheduler").error(`Exception in task "${a.name}"`,l),a.blockFrame=this._frameNumber}!this._budget.hasProgressed&&a.blockFrame!==this._frameNumber&&a.needsUpdate&&(a.name,Je.I3S_CONTROLLER,a.blockFrame=this._frameNumber),a.schedulePriority=a.basePriority;const o=this._budget.now()-n;if(a.runtime+=o,this._frameTaskTimes.set(a.priority,this._frameTaskTimes.get(a.priority)+o),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const n of Object.keys(Je))this._frameTaskTimes.set(Je[n],0)}_recordFrameTaskTimes(n){this._frameTaskTimes.forEach((a,o)=>this.performanceInfo.tasks.get(o).push(a)),this.performanceInfo.total.push(n)}get test(){return this._test}}t.Scheduler=e;class i{get task(){return this._task.value}get updating(){return this._queue.running}constructor(n,a,o){this._scheduler=n,this.name=a,this.blockFrame=0,this.runtime=0,this._queue=new Z8e,this._handles=new u1,this._basePriority=oV(a),this.schedulePriority=this._basePriority,this._task=Vm(o??this._queue),this._handles.add(ir(()=>this.task.running,l=>n.taskRunningChanged(l)))}remove(){this.processQueue(_R),this._scheduler.removeTask(this),this.schedule=uV.schedule,this.reschedule=uV.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(n){if(this.name===n)return;this.name=n;const a=oV(n);this._basePriority!==Aa&&this.schedulePriority===0||(this.schedulePriority=a),this._basePriority=a}get priority(){return this.name}set priority(n){this.setPriority(n)}get needsUpdate(){return this.updating||this.task.running}schedule(n,a,o){return this._queue.push(n,a,o)}reschedule(n,a,o){return this._queue.unshift(n,a,o)}processQueue(n){return this._queue.runTask(n)}}class r{constructor(){this._begin=(performance==null?void 0:performance.now())??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(n){return!this.done&&(n()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(n){this._enabled=n}reset(n){this._begin=this.now(),this._budget=n,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}t.Budget=r})(i8||(i8={})),function(t){t.SCHEDULED="s",t.READY="r",t.WAITING="w",t.IDLE="i"}(Fh||(Fh={}));const _R=new i8.Budget;_R.enabled=!1;let t7e=class{remove(){}processQueue(){}schedule(e,i,r){try{if(Ya(i)){const s=jt();return r?Promise.resolve(r(s)):Promise.reject(s)}return HT(e(_R))}catch(s){return Promise.reject(s)}}reschedule(e,i,r){return this.schedule(e,i,r)}};const uV=new t7e;let i7e=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=Y8e(),this._schedulerHandle=ir(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{var i;this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),((i=this.view.animation)==null?void 0:i.target)==null||qc(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{var o,l,u;if(this._updateRequested=!1,(o=this.view)==null?void 0:o.destroyed)return;const{allLayerViews:r,graphicsView:s,labelManager:n,state:{id:a}}=this.view;r==null||r.forEach(this._updateLayerView,this),n!=null&&(n.lastUpdateId!==a&&(n.viewChange(),n.lastUpdateId=a),n.updateRequested&&n.processUpdate(this._updateParameters)),s!=null&&(s.lastUpdateId!==a&&(s.viewChange(),s.lastUpdateId=a),s.updateRequested&&s.processUpdate(this._updateParameters)),(l=this.view.graphicsTileStore)==null||l.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=cs.ANIMATING:this.view.interacting?this._scheduler.state=cs.INTERACTING:this._scheduler.state=cs.IDLE,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==cs.IDLE||((u=this._frameTaskHandle)==null||u.pause())}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new wR,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=Y(()=>e.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=Eb(this),this.requestUpdate()}stop(){var e;this._frameTaskHandle&&(this._updateRequested=!1,(e=this._stationaryHandle)==null||e.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){var s;if(!e.attached)return void this.requestUpdate();const i=this.view.state,r=e.lastUpdateId;r!=null&&(this.stationary||e.moving)||(e.moving=!0),r!==i.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=i.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&((s=e.layerViews)==null||s.forEach(this._updateLayerView,this))}};function r7e(t,e){const{spatialReference:i}=e,r=[e.x,e.y];let s,n,a,o;const l=[0,0],u=s7e(t);for(let p=0;p<u.length;p++){const m=u[p];for(let g=0;g<m.length-1;g++){rye(l,r,m,g);const b=dS(r,l);(s==null||b<s)&&(s=b,n=[...l],a=p,o=g)}}if(s==null||!n||a==null||o==null)throw new P("nearest-coordinate:failed","Failed to find the nearest coordinate");const[d,h]=n;return{coordinate:new _e({x:d,y:h,spatialReference:i}),distance:s}}function s7e(t){switch(t.type){case"extent":return[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]];case"polygon":return t.rings;case"polyline":return t.paths}}var KM;let jp=KM=class extends An.NumericIdentifiableMixin(ce){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Th(this.geometry,this.spatialReference)}catch(t){return W.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,e){if(this.normalizedGeometry==null)return t;const i=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?X_(this.normalizedGeometry,i):fL(this.normalizedGeometry,i))return t;const{coordinate:r}=r7e(this.normalizedGeometry,i);return r&&(t.targetGeometry=r),t}clone(){var t,e;return new KM({geometry:(t=this.geometry)==null?void 0:t.clone(),spatialReference:(e=this.spatialReference)==null?void 0:e.clone()})}};c([f({constructOnly:!0})],jp.prototype,"geometry",void 0),c([f({readOnly:!0})],jp.prototype,"normalizedGeometry",null),c([f({constructOnly:!0})],jp.prototype,"spatialReference",void 0),jp=KM=c([E("esri.views.2d.constraints.GeometryConstraint")],jp);var eC;let a2=eC=class extends An.NumericIdentifiableMixin(ce){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,e){return this.enabled&&e&&(this.rotationEnabled||(t.rotation=e.rotation)),t}clone(){return new eC({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};c([f()],a2.prototype,"enabled",void 0),c([f()],a2.prototype,"rotationEnabled",void 0),a2=eC=c([E("esri.views.2d.constraints.RotationConstraint")],a2);const lie=a2;var tC;let rn=tC=class extends An.NumericIdentifiableMixin(ce){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:e,minScale:i,maxScale:r,minZoom:s,maxZoom:n}=this,a=-1,o=-1,l=!1,u=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!(e!=null&&e.length))return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);e=e.map(d=>d.clone()),e.sort((d,h)=>h.scale-d.scale),e.forEach((d,h)=>d.level=h);for(const d of e)!l&&i>0&&i>=d.scale&&(a=d.level,l=!0),!u&&r>0&&r>=d.scale&&(o=t?t.level:-1,u=!0),t=d;s===-1&&(s=i===0?0:a),n===-1&&(n=r===0?e.length-1:o),s=Math.max(s,0),s=Math.min(s,e.length-1),n=Math.max(n,0),n=Math.min(n,e.length-1),s>n&&([s,n]=[n,s]),i=e[s].scale,r=e[n].scale,e.splice(0,s),e.splice(n-s+1),e.forEach((d,h)=>{this._lodByScale[d.scale]=d,this._scales[h]=d.scale}),this._set("effectiveLODs",e),this._set("effectiveMinZoom",s),this._set("effectiveMaxZoom",n),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(t,e){if(e&&t.scale===e.scale)return t;const i=this.effectiveMinScale,r=this.effectiveMaxScale,s=t.targetGeometry,n=e&&e.targetGeometry,a=r!==0&&t.scale<r,o=i!==0&&t.scale>i;if(a||o){const l=o?i:r;if(e&&n){const u=(l-e.scale)/(t.scale-e.scale);s.x=n.x+(s.x-n.x)*u,s.y=n.y+(s.y-n.y)*u}t.scale=l}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const e=this.scaleToZoom(t.scale),i=Math.abs(e-Math.floor(e));return t.scale=this.zoomToScale(i>.99?Math.round(e):Math.floor(e)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);const e=this._scales;if(t<=0)return e[0];if(t>=e.length)return e[e.length-1];const i=Math.floor(t),r=Math.ceil(t);return e[i]+(t-i)*(e[r]-e[i])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const e=this._scales;let i,r;if(t>=e[0])return this.effectiveMinZoom;if(t<=e[e.length-1])return this.effectiveMaxZoom;for(let s=0;s<e.length-1;s++){if(i=e[s],r=e[s+1],r===t)return s+this.effectiveMinZoom+1;if(i>t&&r<t)return s+this.effectiveMinZoom+1-(t-r)/(i-r)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;const e=this.scaleToZoom(t);return this.zoomToScale(Math.round(e))}snapToNextScale(t,e=.5){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,e=2){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new tC({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((e,i)=>Math.abs(i-t)<=Math.abs(e-t)?i:e,this._scales[0])),this._lodByScale[t].scale}};c([f({readOnly:!0})],rn.prototype,"effectiveLODs",void 0),c([f({readOnly:!0})],rn.prototype,"effectiveMinZoom",void 0),c([f({readOnly:!0})],rn.prototype,"effectiveMaxZoom",void 0),c([f({readOnly:!0})],rn.prototype,"effectiveMinScale",void 0),c([f({readOnly:!0})],rn.prototype,"effectiveMaxScale",void 0),c([f()],rn.prototype,"lods",void 0),c([f()],rn.prototype,"minZoom",void 0),c([f()],rn.prototype,"maxZoom",void 0),c([f()],rn.prototype,"minScale",void 0),c([f()],rn.prototype,"maxScale",void 0),c([f()],rn.prototype,"snapToZoom",void 0),rn=tC=c([E("esri.views.2d.constraints.ZoomConstraint")],rn);const cie=rn,n7e={base:null,key:"type",typeMap:{extent:qe,polygon:Ut}};let Mi=class extends ce{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new K}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e,i,r;return`${(e=this._zoom)==null?void 0:e.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(r=this._geometry)==null?void 0:r.uid}`}get _geometry(){var i,r;const e=this._get("_geometry");return e&&this.geometry===e.geometry&&((i=this.view)==null?void 0:i.constraintsInfo.spatialReference)===e.spatialReference?e:new jp({geometry:this.geometry,spatialReference:(r=this.view)==null?void 0:r.constraintsInfo.spatialReference})}get _rotation(){return new lie({rotationEnabled:this.rotationEnabled})}get _zoom(){var l;const e=this._get("_zoom"),i=this.lods||((l=this.view)==null?void 0:l.constraintsInfo.lods),r=this.minZoom,s=this.maxZoom,n=this.minScale,a=this.maxScale,o=this.snapToZoom;return e&&e.lods===i&&e.minZoom===r&&e.maxZoom===s&&e.minScale===n&&e.maxScale===a&&e.snapToZoom===o?e:new cie({lods:i,minZoom:r,maxZoom:s,minScale:n,maxScale:a,snapToZoom:o})}canZoomInTo(e){const i=this.effectiveMaxScale;return i===0||e>=i}canZoomOutTo(e){const i=this.effectiveMinScale;return i===0||e<=i}constrain(e,i){return this._zoom.constrain(e,i),this._rotation.constrain(e,i),this._geometry.constrain(e,i),this.customConstraints.forEach(r=>r.constrain(e,i)),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach(i=>{var r;return(r=i.applyPanConstraint)==null?void 0:r.call(i,e)}),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};c([f({readOnly:!0})],Mi.prototype,"effectiveLODs",null),c([f({readOnly:!0})],Mi.prototype,"effectiveMinScale",null),c([f({readOnly:!0})],Mi.prototype,"effectiveMaxScale",null),c([f({readOnly:!0})],Mi.prototype,"effectiveMinZoom",null),c([f({readOnly:!0})],Mi.prototype,"effectiveMaxZoom",null),c([f({types:n7e,value:null})],Mi.prototype,"geometry",null),c([f({type:[Ki]})],Mi.prototype,"lods",void 0),c([f()],Mi.prototype,"minScale",void 0),c([f()],Mi.prototype,"maxScale",void 0),c([f()],Mi.prototype,"minZoom",void 0),c([f()],Mi.prototype,"maxZoom",void 0),c([f()],Mi.prototype,"rotationEnabled",void 0),c([f()],Mi.prototype,"snapToZoom",void 0),c([f({type:K})],Mi.prototype,"customConstraints",void 0),c([f()],Mi.prototype,"view",void 0),c([f({readOnly:!0})],Mi.prototype,"version",null),c([f({type:jp,readOnly:!0})],Mi.prototype,"_geometry",null),c([f({type:lie})],Mi.prototype,"_rotation",null),c([f({readOnly:!0,type:cie})],Mi.prototype,"_zoom",null),Mi=c([E("esri.views.2d.MapViewConstraints")],Mi);const dV=Mi;let ss=class extends ce{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([Y(()=>{var i;return(i=this.constraints)==null?void 0:i.version},i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Fc)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new _e({x:e[0],y:e[1],spatialReference:i})}set center(e){if(e==null)return;if(!this.ready)return void this._set("center",e);let i;try{i=this._project(e,this.state.spatialReference)}catch(s){return void W.getLogger(this).error(new P("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:s}))}const r=this.viewpoint;ZM(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void W.getLogger(this).error(new P("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(e,this.state.spatialReference)}catch(s){return void W.getLogger(this).error(new P("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:s}))}const r=this.viewpoint;K4e(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const i=this.viewpoint;c8e(i,i,e),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;rV(i,i,e),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){var n;if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?r=new P("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):e.targetGeometry==null&&(r=new P("mapview:invalid-viewpoint","geometry not defined"))}catch(a){r=new P("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:a})}if(r)return void W.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const s=new er({targetGeometry:new _e,scale:0,rotation:0});Ss(s,i),(n=this.constraints)==null||n.constrain(s,this.state.paddedViewState.viewpoint),this.state.viewpoint=s,this._set("viewpoint",s)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){var e;return this.ready?((e=this.constraints)==null?void 0:e.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(e){var s,n;if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const a=this._get("extent");return void(a&&(this._set("extent",void 0),this._set("center",a.center)))}const i=((s=this.constraints)==null?void 0:s.zoomToScale(e))??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;rV(r,r,i),this.viewpoint=r,this._set("zoom",((n=this.constraints)==null?void 0:n.scaleToZoom(this.scale))??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,s=this._get("center"),n=this._get("extent"),a=this._get("scale"),o=this._get("rotation"),l=this._get("viewpoint"),u=this._get("zoom"),d=u!=null&&r!=null&&r.zoomToScale(u)||void 0;let h,p,m;const g=l==null?void 0:l.rotation,b=l==null?void 0:l.targetGeometry;(b==null?void 0:b.type)==="extent"?h=b:(b==null?void 0:b.type)==="point"&&(p=b,m=l==null?void 0:l.scale);const v=n??h;return{center:s??p??(v==null?void 0:v.center),rotation:o??g,scale:(a??d??m??(v&&pS(v,[e[0]-i.left-i.right,e[1]-i.top-i.bottom])))||void 0}}startup(e,i,r,s){var a;const n=e.targetGeometry;try{this._project(e,r)}catch(o){W.getLogger(this).warn(new ca("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:r,error:o})),e.targetGeometry=s||new _e({x:0,y:0,spatialReference:r})}(a=this.constraints)==null||a.fit(e),this._set("state",new wR({padding:this.padding,size:i,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,i],spatialReference:r,rotation:s,scale:n}=this.state.paddedViewState,a=new _e({x:e,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",a),this._set("zoom",-1),this._set("rotation",s),this._set("scale",n),this._set("state",null)}changeSpatialReference(e){var l;const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const u=i.viewpoint.clone();u.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=u}const r=i.clone(),[s,n]=i.center;let a=null;try{a=this._project(new _e({x:s,y:n,spatialReference:i.spatialReference}),e)}catch(u){sL()||W.getLogger(this).warn(new ca("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a==null?void 0:a.toJSON(),spatialReference:e,error:u}))}a||(a=new _e({x:0,y:0,spatialReference:e}));const o=ZM(new er({targetGeometry:new _e,scale:0,rotation:0}),i.viewpoint,a);r.viewpoint=o;try{const d=[i.size[0]/2,i.size[1]/2],h=[d[0]+20,d[1]],p=i.toMap([0,0],h),{x:m,y:g}=this._project(new _e({x:p[0],y:p[1],spatialReference:i.spatialReference}),e);p[0]=m,p[1]=g,r.toScreen(p,p);const b=a8e(d,p,h),v=Math.hypot(p[0]-d[0],p[1]-d[1])/20;!Number.isFinite(v)||Math.abs(v)>4?(o.rotation=0,o.targetGeometry=new _e({x:0,y:0,spatialReference:e})):(o.scale*=v,o.scale>q("mapview-srswitch-adjust-rotation-scale-threshold")?o.rotation=0:o.rotation+=Number.isFinite(b)?b:0)}catch{}(l=this._get("constraints"))==null||l.constrain(o,void 0),this._get("state").viewpoint=o}resize(e,i){var a;if(!this.ready)return;const r=this.state;let s=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.slice();r.size=[e,i],l8e(s,s,n,this.state.paddedViewState.size,this.resizeAlign),s=((a=this.constraints)==null?void 0:a.constrain(s,void 0))??s,this.state.viewpoint=s}toMap(e){if(!this.ready)return null;const i=[0,0],[r,s]=this.state.toMap(i,[e.x,e.y]),n=this.state.spatialReference;return new _e({x:r,y:s,spatialReference:n})}toScreen(e,i){if(!this.ready)return null;const r=this._project(e,this.state.spatialReference),s=[r.x,r.y];return(i==null?void 0:i.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(s,s),this.state.toScreen(s,s),cr(s[0],s[1])}_project(e,i){var n;const r=(e==null?void 0:e.targetGeometry)||e;if(!i)return e;if(!r)return null;if(i.imageCoordinateSystem||(n=r.spatialReference)!=null&&n.imageCoordinateSystem||li(i,r.spatialReference))return e;const s=Th(r,i);if(!s)throw new P("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return a7e(e)?(e.targetGeometry=s,e):s}};function a7e(t){return(t==null?void 0:t.declaredClass)==="esri.Viewpoint"}c([f({type:_e})],ss.prototype,"center",null),c([f()],ss.prototype,"constraints",void 0),c([f({type:qe})],ss.prototype,"extent",null),c([f({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],ss.prototype,"padding",null),c([f()],ss.prototype,"ready",void 0),c([f()],ss.prototype,"resizeAlign",void 0),c([f({readOnly:!0})],ss.prototype,"resolution",null),c([f({type:Number})],ss.prototype,"rotation",null),c([f({type:Number})],ss.prototype,"scale",null),c([f({readOnly:!0})],ss.prototype,"state",void 0),c([f({type:er})],ss.prototype,"viewpoint",null),c([f({readOnly:!0})],ss.prototype,"visibleArea",null),c([f()],ss.prototype,"zoom",null),ss=c([E("esri.views.2d.ViewStateManager")],ss);const fV=160;let o2=class extends ce{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=fV&&this.clear()},fV))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};c([f()],o2.prototype,"_timer",void 0),c([f()],o2.prototype,"stationary",null),o2=c([E("esri.views.2d.support.StationaryManager")],o2);const o7e=t=>{let e=class extends t{constructor(...i){super(...i),this.fullOpacity=1,this.stateManager=new ss({constraints:new dV({view:this})}),this.stationaryManager=new o2,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new i7e(this),this.viewEvents=new hte(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([Y(()=>this.viewpoint,()=>this.stationaryManager.flip(),Fc)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){var i;return((i=this.stateManager)==null?void 0:i.extent)??null}set extent(i){this.stateManager.extent=i}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(i){const r=this._get("animation");if(i===r)return;if(r&&r.stop(),i!==this.animationManager.animation&&this.animationManager.stop(),!i||i.isFulfilled())return void this._set("animation",null);this._set("animation",i);const s=()=>{var n;this.destroyed||i===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame())};i.when(s,s)}get constraints(){var i;return(i=this.stateManager)==null?void 0:i.constraints}set constraints(i){i.view=this;const r=this.stateManager.constraints;this.stateManager.constraints=i,r==null||r.destroy()}get padding(){var i;return(i=this.stateManager)==null?void 0:i.padding}set padding(i){this.stateManager&&(this.stateManager.padding=i)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(i){this.stateManager.resizeAlign=i}get rotation(){return this.stateManager.rotation??0}set rotation(i){const{rotationEnabled:r}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=i,this.constraints.rotationEnabled=r}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(i){this.stateManager.viewpoint=i,this.frameTask.requestFrame()}};return c([f({readOnly:!0})],e.prototype,"animationManager",void 0),c([f({readOnly:!0})],e.prototype,"fullOpacity",void 0),c([f()],e.prototype,"stateManager",void 0),c([f()],e.prototype,"constraintsInfo",null),c([f()],e.prototype,"extent",null),c([f({readOnly:!0})],e.prototype,"state",null),c([f({readOnly:!0})],e.prototype,"mapViewNavigation",void 0),c([f()],e.prototype,"renderingOptions",void 0),c([f({readOnly:!0})],e.prototype,"interacting",null),c([f()],e.prototype,"stationary",null),c([f()],e.prototype,"animation",null),c([f({type:dV})],e.prototype,"constraints",null),c([f()],e.prototype,"padding",null),c([f()],e.prototype,"resizeAlign",null),c([f()],e.prototype,"rotation",null),c([f({readOnly:!0})],e.prototype,"viewEvents",void 0),c([f({type:er})],e.prototype,"viewpoint",null),e=c([E("esri.views.Viewport2DBaseMixin")],e),e};let Qd=class extends qo{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=Mn(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var e;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(e=this._resolver)==null||e.reject(new P("view:animation-stopped","ViewAnimation stopped")))}finish(){var e;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(e=this._resolver)==null||e.resolve())}update(e,i){i||(i=qc(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",i)}};c([f({readOnly:!0})],Qd.prototype,"done",null),c([f({readOnly:!0,type:String})],Qd.prototype,"state",void 0),c([f()],Qd.prototype,"target",void 0),Qd=c([E("esri.views.ViewAnimation")],Qd),function(t){t.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Qd||(Qd={}));const iC=Qd;let l6=class extends ce{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,i){if(!e)return void W.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new iC;this.view.animation=r,await cd(()=>this.view.ready,i);const s={...i,animate:(i==null?void 0:i.animate)??!oR(),animationMode:(i==null?void 0:i.animationMode)??"auto"},{extent:n,spatialReference:a,size:o,viewpoint:l,constraints:u,padding:d,allLayerViews:h}=this.view,p=Y4e(e,{extent:n,spatialReference:a,size:o,viewpoint:l,constraints:u,padding:d,allLayerViews:h,pickClosestTarget:(i==null?void 0:i.pickClosestTarget)??!0});return r==null||r.update(p),this._gotoTask={},s.animate?this._gotoAnimated(p,s):this._gotoImmediate(p,s)}_gotoImmediate(e,i){const r=this._gotoTask,s=this.view.animation,n=e.then(a=>{if(ze(i),r!==this._gotoTask)throw new P("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=s.target=a,s.finish()});return this._cancellableGoTo(r,s,n,i)}_gotoAnimated(e,i){const r=this._gotoTask,s=this.view.animation;if(!s)return Promise.resolve();const n=e.then(a=>{if(ze(i),r!==this._gotoTask)throw new P("view:goto-interrupted","Goto was interrupted");return s.update(a),this.view.animationManager.animate(s,this.view.viewpoint,i),s.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,s,n,i)}_cancellableGoTo(e,i,r,s){const n=()=>e===this._gotoTask;return CP(r,s).finally(()=>{n()&&(i.done||i.stop())})}};c([f({constructOnly:!0})],l6.prototype,"view",void 0),l6=c([E("esri.views.2d.GoToManager")],l6);function uie(t,e){switch(e){case"primary":return t.pointerType==="touch"||t.button===0;case"secondary":return t.pointerType!=="touch"&&t.button===2;case"tertiary":return t.pointerType!=="touch"&&t.button===1}}function die(t,e){return e.some(i=>uie(t,i))}function hV(t,{dragPrimary:e,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:e},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(s=>s.value===t).map(s=>s.key)}let pV=class extends _r{constructor(e,i){super(!0),this._view=e,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(e,i){uie(e.data,"primary")&&(e.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},l7e=class extends _r{constructor(e,i,r){super(!0),this.view=e,this.pointerType=i,this.registerIncoming("double-tap-drag",r,s=>this._handleDoubleTapDrag(s))}_handleDoubleTapDrag(e){const{data:i}=e,{pointerType:r}=i;if(r!==this.pointerType)return;e.stopPropagation();const{action:s,delta:n}=i,{view:a}=this,{mapViewNavigation:o}=a;switch(s){case"begin":{const{scale:l}=a;this._startScale=l,this._currentScale=l,this._previousDelta=n,o.begin();break}case"update":{if(this._previousDelta.y===n.y)return;this._previousDelta=n;const l=1.015**n.y,u=this._startScale*l,d=u/this._currentScale;o.setViewpointImmediate(d),this._currentScale=u;break}case"end":{const{constraints:l}=a,{effectiveLODs:u,snapToZoom:d}=l;if(!d||!u)return void o.end();const h=l.snapScale(this._currentScale),p=(n.y>0?Math.max(h,l.snapToPreviousScale(this._startScale)):Math.min(h,l.snapToNextScale(this._startScale)))/this._currentScale;o.zoom(p).then(()=>{o.end()});break}}}},yS=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const i=e.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){var i,r;this._startEvent=e,(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},c7e=class extends _r{constructor(e,i,r){super(!0),this.view=e,this.pointerActions=i,this.registerIncoming("drag",r,s=>this._handleDrag(s)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(e){super.onInstall(e),this._dragEventSeparator=new yS({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&die(r.data,this.pointerActions)})}_handleDrag(e){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},u7e=class extends _r{constructor(e,i,r){super(!0),this._view=e,this.pointerActions=i;const s=this._view.mapViewNavigation;this._dragEventSeparator=new yS({start:(n,a)=>{s.rotate.begin(this._view,a.data),a.stopPropagation()},update:(n,a)=>{s.rotate.update(this._view,a.data),a.stopPropagation()},end:(n,a)=>{s.rotate.end(),a.stopPropagation()},condition:(n,a)=>n===1&&die(a.data,this.pointerActions)}),this.registerIncoming("drag",r,n=>this._dragEventSeparator.handle(n))}};function fie(t){const e=t[0],i=t[1],r=t[2];return Math.sqrt(e*e+i*i+r*r)}function d7e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function f7e(t,e,i,r){return t[0]=e,t[1]=i,t[2]=r,t}function h7e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function hie(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function pie(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function mie(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function p7e(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function m7e(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function y7e(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function g7e(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function b7e(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function v7e(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function w7e(t,e=0,i=1){return t[0]=Math.min(Math.max(t[0],e),i),t[1]=Math.min(Math.max(t[1],e),i),t[2]=Math.min(Math.max(t[2],e),i),t}function _7e(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function yie(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function S7e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t}function gie(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}function bie(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return i*i+r*r+s*s}function vie(t){const e=t[0],i=t[1],r=t[2];return e*e+i*i+r*r}function x7e(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function $7e(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function rC(t,e){const i=e[0],r=e[1],s=e[2];let n=i*i+r*r+s*s;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n),t}function wie(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T7e(t,e,i){const r=e[0],s=e[1],n=e[2],a=i[0],o=i[1],l=i[2];return t[0]=s*l-n*o,t[1]=n*a-r*l,t[2]=r*o-s*a,t}function I7e(t,e,i){const r=e[0],s=e[1],n=e[2],a=i[0],o=i[1],l=i[2],u=s*l-n*o,d=n*a-r*l,h=r*o-s*a,p=Math.sqrt(u*u+d*d+h*h);return t[0]=u/p,t[1]=d/p,t[2]=h/p,t}function E7e(t,e,i,r){const s=e[0],n=e[1],a=e[2];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t[2]=a+r*(i[2]-a),t}function M7e(t,e,i,r,s,n){const a=n*n,o=a*(2*n-3)+1,l=a*(n-2)+n,u=a*(n-1),d=a*(3-2*n);return t[0]=e[0]*o+i[0]*l+r[0]*u+s[0]*d,t[1]=e[1]*o+i[1]*l+r[1]*u+s[1]*d,t[2]=e[2]*o+i[2]*l+r[2]*u+s[2]*d,t}function C7e(t,e,i,r,s,n){const a=1-n,o=a*a,l=n*n,u=o*a,d=3*n*o,h=3*l*a,p=l*n;return t[0]=e[0]*u+i[0]*d+r[0]*h+s[0]*p,t[1]=e[1]*u+i[1]*d+r[1]*h+s[1]*p,t[2]=e[2]*u+i[2]*d+r[2]*h+s[2]*p,t}function k7e(t,e=1){const i=eS,r=2*i()*Math.PI,s=2*i()-1,n=Math.sqrt(1-s*s)*e;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t[2]=s*e,t}function A7e(t,e,i){const r=e[0],s=e[1],n=e[2];return t[0]=i[0]*r+i[4]*s+i[8]*n+i[12],t[1]=i[1]*r+i[5]*s+i[9]*n+i[13],t[2]=i[2]*r+i[6]*s+i[10]*n+i[14],t}function P7e(t,e,i){const r=e[0],s=e[1],n=e[2];return t[0]=r*i[0]+s*i[3]+n*i[6],t[1]=r*i[1]+s*i[4]+n*i[7],t[2]=r*i[2]+s*i[5]+n*i[8],t}function L7e(t,e,i){const r=i[0],s=i[1],n=i[2],a=i[3],o=e[0],l=e[1],u=e[2],d=s*u-n*l,h=n*o-r*u,p=r*l-s*o,m=s*p-n*h,g=n*d-r*p,b=r*h-s*d,v=2*a;return t[0]=o+d*v+2*m,t[1]=l+h*v+2*g,t[2]=u+p*v+2*b,t}function R7e(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[0],n[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),n[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function O7e(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),n[1]=s[1],n[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function F7e(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),n[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),n[2]=s[2],t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function N7e(t,e){rC(mV,t),rC(yV,e);const i=wie(mV,yV);return i>1?0:i<-1?Math.PI:Math.acos(i)}const mV=$h(),yV=$h();function D7e(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function z7e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function V7e(t,e){if(t===e)return!0;const i=t[0],r=t[1],s=t[2],n=e[0],a=e[1],o=e[2],l=Ws();return Math.abs(i-n)<=l*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-a)<=l*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-o)<=l*Math.max(1,Math.abs(s),Math.abs(o))}function j7e(t,e,i){const r=i[0]-e[0],s=i[1]-e[1],n=i[2]-e[2];let a=r*r+s*s+n*n;return a>0?(a=1/Math.sqrt(a),t[0]=r*a,t[1]=s*a,t[2]=n*a,t):(t[0]=0,t[1]=0,t[2]=0,t)}const q7e=hie,B7e=pie,U7e=mie,G7e=gie,H7e=bie,W7e=fie,Z7e=vie;Object.freeze(Object.defineProperty({__proto__:null,abs:y7e,add:h7e,angle:N7e,bezier:C7e,ceil:p7e,clamp:w7e,copy:d7e,cross:T7e,crossAndNormalize:I7e,direction:j7e,dist:G7e,distance:gie,div:U7e,divide:mie,dot:wie,equals:V7e,exactEquals:z7e,floor:m7e,hermite:M7e,inverse:$7e,len:W7e,length:fie,lerp:E7e,max:v7e,min:b7e,mul:B7e,multiply:pie,negate:x7e,normalize:rC,random:k7e,rotateX:R7e,rotateY:O7e,rotateZ:F7e,round:_7e,scale:yie,scaleAndAdd:S7e,set:f7e,sign:g7e,sqrDist:H7e,sqrLen:Z7e,squaredDistance:bie,squaredLength:vie,str:D7e,sub:q7e,subtract:hie,transformMat3:P7e,transformMat4:A7e,transformQuat:L7e},Symbol.toStringTag,{value:"Module"}));function oo(t){let e=t*t;return t<0&&(e*=-1),e}function J7e(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function Y7e(t,e,i){const r=i,s=t.state,n=t.device,a=e.tiltDirection==="forward-down"?1:-1,o=1;return n.deviceType==="standard"?(r.translation[0]=oo(s.axes[0]),r.translation[1]=oo(s.axes[1]),r.translation[2]=oo(s.buttons[7])-oo(s.buttons[6]),r.heading=oo(s.axes[2]),r.tilt=oo(s.axes[3])):n.deviceType==="spacemouse"&&(r.translation[0]=1.2*oo(s.axes[0]),r.translation[1]=1.2*oo(s.axes[1]),r.translation[2]=2*-oo(s.axes[2]),r.heading=1.2*oo(s.axes[5]),r.tilt=1.2*oo(s.axes[3])),r.tilt*=a,yie(r.translation,r.translation,o),r}function X7e(t){return t.translation[0]===0&&t.translation[1]===0&&t.translation[2]===0&&t.heading===0&&t.tilt===0&&t.zoom===0}let Q7e=class extends _r{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new u1,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([Y(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=Eb({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Le)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){var r;const i=this._view.navigation.gamepad.device;i&&e.data.device!==i||this._currentDevice&&this._currentDevice!==e.data.device||(e.data.action==="end"?(this._currentDevice=null,J7e(this._transformation)):(this._currentDevice=e.data.device,Y7e(e.data,this._view.navigation.gamepad,this._transformation)),(r=this._frameTask)==null||r.resume())}_frameUpdate(e){var h;const i=this._transformation;if(X7e(i))return void((h=this._frameTask)==null?void 0:h.pause());const r=this._view.viewpoint.clone(),s=this._view.navigation.gamepad.velocityFactor,n=eSe*s*e;mS(r,r,[i.translation[0]*n,-i.translation[1]*n]);const a=1+i.translation[2]*tSe*e,o=this._view.constraints.rotationEnabled?-i.heading*K7e*e:0,l=this._view.size,u=[l[0]/2,l[1]];Zte(r,r,a,o,u,l);const d=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=d}};const K7e=.06,eSe=.7,tSe=6e-4;function _ie(t){const e=()=>t(document.visibilityState==="visible");return document.addEventListener("visibilitychange",e),ht(()=>document.removeEventListener("visibilitychange",e))}let iSe=class extends _r{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=s=>{const n=this._keyMap[s.data.key];if(s.modifiers.has("Meta")||s.modifiers.has("Control"))return void this._stopMovement();if(n==null)return;s.stopPropagation(),s.preventDefault();const a=s.type==="key-down";if(this._pressedKeys[a?"add":"delete"](n),a){if(this._direction===n)return;this._direction=n,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const o=this._timeout===void 0,l=this._pressedKeys.size>0;o||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=_ie(s=>s?null:this._stopMovement())}onUninstall(){var e;this._stopMovement(),(e=this._visibilityHandle)==null||e.remove()}get _direction(){return this._currentDirection}set _direction(e){const i=this._currentDirection!=null;if(e!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=e===void 0?void 0:setTimeout(()=>{this._timeout=void 0,e()},this._stickyKeyDuration)}},rSe=class extends _r{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),this.registerIncoming("key-up",r,s=>this._handleKeyUp(s)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=_ie(s=>s?null:this._handleStop())}onUninstall(){var e;(e=this._visibilityHandle)==null||e.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,i){for(const r of e)this._keyToDirection.set(r,i)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const r=e.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection.get(e.data.key);if(this._pressed=s!=null,this._pressed){if(e.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}};var ng;(function(t){t[t.IN=0]="IN",t[t.OUT=1]="OUT"})(ng||(ng={}));let sSe=class extends _r{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),i.zoomIn.forEach(s=>this._keysToZoomAction[s]=ng.IN),i.zoomOut.forEach(s=>this._keysToZoomAction[s]=ng.OUT)}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const i=e.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=e.data;if(!(r in this._keysToZoomAction))return;const s=this._keysToZoomAction[r],{mapViewNavigation:n}=this.view;let a=null;switch(s){case ng.IN:a=n.zoomIn();break;case ng.OUT:a=n.zoomOut();break;default:return}n.begin(),a.then(()=>n.end()),e.stopPropagation()}};const nSe=.6;let aSe=class extends _r{constructor(e,i){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(e){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:s,deltaY:n}=e.data,a=1/nSe**(1/60*n),o=i.zoom(a,[r,s]);o&&(this._canZoom=!1,o.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}},oSe=class extends _r{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new yS({start:(r,s)=>{i.pinch.begin(this.view,s.data),s.stopPropagation()},update:(r,s)=>{i.pinch.update(this.view,s.data),s.stopPropagation()},end:(r,s)=>{i.pinch.end(this.view),s.stopPropagation()},condition:r=>r>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function gV(t){const e=t.native;return e?{buttons:e.buttons.map(i=>i.pressed?i.value||1:0),axes:e.axes.map(i=>uSe(i,t.axisThreshold))}:{buttons:[],axes:[]}}function lSe(t,e){if(t.axes.length!==e.axes.length||t.buttons.length!==e.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==e.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==e.buttons[i])return!1;return!0}function cSe(t){for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==0)return!1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==0)return!1;return!0}function uSe(t,e){const i=Math.abs(t);return i<e?0:Math.sign(t)*(i-e)/(1-e)}let dSe=class{constructor(e,i){this._element=e,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=n=>{this._connectGamepad(n.gamepad)},this._onDisconnectGamepad=n=>{const a=n.gamepad,o=a.index,l=this._inputDevices[o];l&&(this._emitGamepadEvent(a,gV(l),!1),this._inputDevices.splice(o,1),this._latestUpdate.splice(o,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,s=window.isSecureContext;this.supported=r&&s,this.supported&&(bV(n=>this._connectGamepad(n)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const i=new aR(e);i.deviceType!=="unknown"&&(this._inputDevices[e.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Eb({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!e||this._input.gamepad.enabledFocusMode==="view"&&!i;bV(s=>{const n=this._inputDevices[s.index];if(!n)return;const a=this._latestUpdate[s.index],o=gV(n),l=r||cSe(o);a&&(a.timestamp===s.timestamp||!a.active&&l||lSe(a.state,o))||this._emitGamepadEvent(s,o,!l)})}_emitGamepadEvent(e,i,r){const s=this._latestUpdate[e.index],n=s&&s.active;if(!n&&!r)return;const a=!n&&r?"start":n&&r?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[e.index],state:i,action:a})}};function fSe(t){if(!t||!t.connected)return!1;for(let e=0;e<t.axes.length;e++)if(isNaN(t.axes[e]))return!1;return!0}function bV(t){for(const e of navigator.getGamepads())fSe(e)&&t(e)}const vV=q("edge"),hSe=q("chrome"),pSe=q("ff"),mSe=q("safari"),wV="esri-view-surface",M0={touchNone:`${wV}--touch-none`,touchPan:`${wV}--touch-pan`};var Pm;let ySe=(Pm=class{constructor(e,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new dSe(e,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>this._releasePointerCaptureSafe(e)),this._activePointerCaptures.clear(),this._gamepadSource=Lt(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const i in this._active)if(!e||!e.has(i)){const r=this._active[i];this._element.removeEventListener(c$[i],r),delete this._active[i]}e&&e.forEach(i=>{if(!this._active[i]&&c$[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(c$[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=(e==null?void 0:e.has("gamepad"))??!1)}setPointerCapture(e,i){i?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?M0.touchNone:M0.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?M0.touchPan:M0.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(M0.touchNone),this._element.classList.remove(M0.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(e,i){const r=mte(this._element,e);return Pm.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(e,i){const{key:r}=i;r&&e==="key-up"&&this._keyDownState.delete(r);const s={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&e==="key-down"&&this._keyDownState.add(s.key),this._callback(e,s)}_handlePointer(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(e,r)}_handlePointerPreventDefault(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(e,r)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&q("mac")&&e.deltaY===0?e.deltaX:e.deltaY}_handleMouseWheel(e,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:vV&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}vV?r*=.7:hSe||mSe?r*=.6:pSe&&(r*=1.375);const s=100,n=Math.abs(r);n>s&&(r=r/n*200/(1+Math.exp(-.02*(n-s))));const a=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(e,a)}_handlePointerCaptureLost(e,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(e,i)}_handleDefault(e,i){const r={native:i};i.preventDefault(),this._callback(e,r)}_preventAltKeyDefault(e){e.key==="Alt"&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}},Pm.test={disableSubpixelCoordinates:!1},Pm);const c$={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let gSe=class extends _r{constructor(){super(!0),this.registerIncoming("context-menu",e=>e.data.native.preventDefault())}};const Sie=()=>({maximumClickDelay:300}),bSe=(t={})=>({...Sie(),movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...t}),SR=(t={})=>({...Sie(),maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...t});function r8(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function vSe(t,e){const i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)}function wSe(t,e){if(e?(e.radius=0,e.center.x=0,e.center.y=0):e={radius:0,center:cr()},t.length===0)return e;if(t.length===1)return e.center.x=t[0].x,e.center.y=t[0].y,e;if(t.length===2){const[S,T]=t,[C,A]=[T.x-S.x,T.y-S.y];return e.radius=Math.sqrt(C*C+A*A)/2,e.center.x=(S.x+T.x)/2,e.center.y=(S.y+T.y)/2,e}let i=0,r=0;for(let S=0;S<t.length;S++)i+=t[S].x,r+=t[S].y;i/=t.length,r/=t.length;const s=t.map(S=>S.x-i),n=t.map(S=>S.y-r);let a=0,o=0,l=0,u=0,d=0,h=0,p=0;for(let S=0;S<s.length;S++){const T=s[S],C=n[S],A=T*T,O=C*C;a+=A,o+=O,l+=T*C,u+=A*T,d+=O*C,h+=T*O,p+=C*A}const m=.5*(u+h),g=.5*(d+p),b=a*o-l*l,v=(m*o-g*l)/b,w=(a*g-l*m)/b,_=cr(v+i,w+r);return{radius:Math.sqrt(v*v+w*w+(a+o)/t.length),center:_}}function xm(t){const{native:e}=t,{pointerId:i,button:r,pointerType:s}=e;return s==="mouse"?`${i}:${r}`:`${s}`}let _Se=class extends _r{constructor(e={},i=a1){super(!1),this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=cr(0,0),this._pointerState=new Map,this._parameters=SR(e),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new yS({start:(r,s)=>this._dragStart(r,s),update:(r,s)=>this._dragUpdate(s),end:(r,s)=>this._dragEnd(s)}),this.registerIncoming("drag",r=>this._dragEventSeparator.handle(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(e=>{e.doubleTapTimeout=oi(e.doubleTapTimeout)})}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(e){const i=this._pointerState.get(e);i&&(i.doubleTapTimeout=oi(i.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,i){if(!this._doubleTapDragReady||e!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:s}=i,{center:n}=r;this._dragStartCenter=n;const a=u$("begin",cr(0,0),r);this._doubleTapDrag.emit(a,void 0,s),i.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:s}=i,n=u$("update",cr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:s}=i,n=u$("end",cr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:i}=e,r=xm(i),s=this._pointerState.get(r),{pointerType:n}=i.native;if(s){const a=n==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(r),r8(s.event.data,i)>a?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:i}=e,{pointerType:r}=i.native,s=xm(i),n=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(s),n);this._pointerState.set(s,{event:e,doubleTapTimeout:a}),this.refreshHasPendingInputs()}};function u$(t,e,i){const{button:r,buttons:s,pointer:n,pointers:a,pointerType:o,timestamp:l}=i;return{action:t,delta:e,button:r,buttons:s,pointer:n,pointers:a,pointerType:o,timestamp:l}}let SSe=class extends _r{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,i,r,s){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:s,pointers:xSe(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(e){const i=e.native.pointerId,r=l5(this._activePointerMap).angle,s={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,s);const n=c6(s,xie(this._activePointerMap));s.initialAngle=n,s.lastAngle=n,this._updatePointerAngles(r)}_updatePointer(e){if(e&&e.x==null&&e.y==null)return;const i=e.native.pointerId,r=this._activePointerMap.get(i);r?r.event=e:this._addPointer(e)}_removePointer(e){const i=l5(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(i)}_updatePointerAngles(e){const i=l5(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=c6(r,i)-e,r.lastAngle=c6(r,i)-e})}_emitEvent(e,i,r){const s=l5(this._activePointerMap);this._drag.emit(this._createPayload(e,i,s,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const i=e.data.native.pointerId,r=e.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",e.data,e.timestamp)))}_handlePointerDrag(e){const i=e.data,r=i.currentEvent,s=e.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,s)):(this._addPointer(r),this._emitEvent("added",r,s),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,s))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function xie(t){const e=[];return t.forEach(i=>{e.push(cr(i.event.x,i.event.y))}),wSe(e)}function l5(t){const e=xie(t);let i=0;return t.forEach(r=>{let s=c6(r,e),n=s-r.lastAngle;for(;n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;s=r.lastAngle+n,r.lastAngle=s;const a=s-r.initialAngle;i+=a}),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function xSe(t){const e=new Map;return t.forEach((i,r)=>e.set(r,i.event)),e}function c6(t,e){const i=t.event,r=i.x-e.center.x,s=i.y-e.center.y;return Math.atan2(s,r)}var _V;(function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t[t.Undefined=-1]="Undefined"})(_V||(_V={}));let $Se=class extends _r{constructor(e={},i=a1){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=SR(e),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=xm(i);if(!this._pointerState.has(r)){const s={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,s),this.startCapturingPointer(i.native)}}_handlePointerUp(e){const i=e.data,r=xm(i),s=this._pointerState.get(r);if(s&&s.downButton===i.native.button){const n=s.immediateDoubleClick,a=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),r8(n,e.data)>a?this._startImmediateDoubleClick(e,s):(this._immediateDoubleClick.emit(e.data,void 0,n.modifiers),this._removeState(i))):r8(s,e.data)>a?this._removeState(i):this._startImmediateDoubleClick(e,s)}}_startImmediateDoubleClick(e,i){const r=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;i.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(e.data),r)}}_removeState(e){const i=xm(e);this._pointerState.delete(i),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},TSe=class extends _r{constructor(e={},i=a1){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=bSe(e),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",r=>this._handlePointerLoss(r,"pointer-up")),this.registerIncoming("pointer-capture-lost",r=>this._handlePointerLoss(r,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",r=>this._handlePointerLoss(r,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",r=>this._handlePointerMove(r)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(e=>{e.holdTimeout=oi(e.holdTimeout)}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=i.native.pointerId;let s=null;this._pointerState.size===0&&(s=this._clock.setTimeout(()=>{const a=this._pointerState.get(r);if(a){if(!a.isDragging){const o=a.previousEvent;this._pointerHold.emit(o,void 0,e.modifiers),a.holdEmitted=!0}a.holdTimeout=null}},this._parameters.holdDelay));const n={startEvent:i,previousEvent:i,startTimestamp:e.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:s,modifiers:new Set};this._pointerState.set(r,n),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const i=e.data,r=i.native.pointerId,s=this._pointerState.get(r);s&&(s.isDragging?this._pointerDrag.emit(c5("update",s,i),void 0,s.modifiers):vSe(i,s.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(e),s.previousEvent=i)}_getDragThreshold(e){switch(e){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){const i=e.data,r=i.native.pointerId;this._pointerState.forEach(s=>{s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging||(s.modifiers=e.modifiers,s.isDragging=!0,r===s.startEvent.native.pointerId?this._pointerDrag.emit(c5("start",s,i)):this._pointerDrag.emit(c5("start",s,s.previousEvent),e.timestamp))})}_handlePointerLoss(e,i){const r=e.data,s=r.native.pointerId,n=this._pointerState.get(s);n&&(n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging?this._pointerDrag.emit(c5("end",n,i==="pointer-up"?r:n.previousEvent),void 0,n.modifiers):i==="pointer-up"&&n.downButton===r.native.button&&e.timestamp-n.startTimestamp<=this._parameters.maximumClickDelay&&!n.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(s),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function c5(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}let ISe=class extends _r{constructor(e={},i=a1){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=SR(e),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",r=>this._handleImmediateClick(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r))}onUninstall(){this._pointerState.forEach(e=>e.doubleClickTimer=oi(e.doubleClickTimer))}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(e,i){const r=this._pointerState.get(e);r&&(r.doubleClickTimer=oi(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const i=this._pointerState.get(e);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const i=e.data,{pointerType:r}=i.native,s=ESe(i);if(!this._pointerState.has(s))return void this._startClick(e);const n=this._pointerState.get(s),{data:a,modifiers:o}=n.event,l=r==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;r8(a,i)>l?(this._clearDoubleClickTimer(s,!0),this._startClick(e)):(this._clearDoubleClickTimer(s,!1),n.pointerDownCount===2&&this._doubleClick.emit(a,void 0,o))}_handlePointerDown(e){const i=xm(e.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(e){const{data:i}=e,{native:{pointerType:r}}=i,s=xm(i),n=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(s),n);this._pointerState.set(s,{event:e,doubleClickTimer:a,pointerDownCount:1}),this.refreshHasPendingInputs()}};function ESe(t){const{pointerId:e,pointerType:i,button:r}=t.native;return i==="mouse"?`${e}:${r}`:`${i}`}const u5={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},SV=Symbol("handles");let up=class extends ce{initialize(){const e=()=>{var i;return(i=this.view)==null?void 0:i.ready};this.addHandles([ir(()=>!e(),()=>this._disconnect()),ir(e,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerType}get latestPointerLocation(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerLocation}get multiTouchActive(){var e;return((e=this._inputManager)==null?void 0:e.multiTouchActive)??!1}isModifierKeyDown(e){var i;return((i=this._inputManager)==null?void 0:i.isModifierKeyDown(e))??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(SV),this._inputManager=Lt(this._inputManager)}_connect(){const e=this.view.surface,i=new ySe(e,this.view.input),r=[new $Se,new TSe,new ISe,new SSe(this.view.navigation),new _Se],s=new ga({eventSource:i,recognizers:r}),n=new c7e(this.view,["primary"]),a=new u7e(this.view,["secondary"]);s.installHandlers("prevent-context-menu",[new gSe],rd.INTERNAL),s.installHandlers("navigation",[new oSe(this.view),new Q7e(this.view),new aSe(this.view),new pV(this.view),new pV(this.view,[u5.counter]),n,new iSe(this.view,u5.pan),new sSe(this.view,u5.zoom),new rSe(this.view,u5.rotate),a,new l7e(this.view,"touch")],rd.INTERNAL),this.view.viewEvents.connect(s),this._source=i,this._inputManager=s,this.addHandles([Y(()=>{var o,l;return(l=(o=this.view)==null?void 0:o.navigation)==null?void 0:l.browserTouchPanEnabled},o=>{this._source&&(this._source.browserTouchPanningEnabled=!o)},Le),Y(()=>{const{actionMap:o}=this.view.navigation;return{panActions:hV("pan",o),rotateActions:hV("rotate",o)}},({panActions:o,rotateActions:l})=>{n.pointerActions=o,a.pointerActions=l},zs)],SV)}get test(){}};c([f()],up.prototype,"view",void 0),c([f()],up.prototype,"latestPointerType",null),c([f()],up.prototype,"latestPointerLocation",null),c([f()],up.prototype,"multiTouchActive",null),up=c([E("esri.views.2d.input.MapViewInputManager")],up);const MSe=up,CSe=t=>{let e=class extends t{constructor(...i){super(...i),this.goToManager=new l6({view:this}),this.inputManager=new MSe({view:this}),this.addHandles([this.on("resize",r=>this.stateManager.resize(r.width,r.height))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(i,r,s,n){return this.inputManager&&this.viewEvents.on(i,r,s,n)||super.on(i,r)}hasEventListener(i){return super.hasEventListener(i)||this.viewEvents.hasHandler(i)}goTo(i,r){return this.goToManager.goTo(i,r)}toMap(i){if(!this.ready)return null;const r=gte(i)?yte(this,i):i;return this.stateManager.toMap(r)}};return c([f()],e.prototype,"goToManager",void 0),c([f({readOnly:!0})],e.prototype,"interacting",null),c([f()],e.prototype,"stationary",null),c([f({readOnly:!0})],e.prototype,"inputManager",void 0),e=c([E("esri.views.Viewport2DMixin")],e),e};let xV=class{constructor(e){this._view=e,this.viewpoint=new er({targetGeometry:new _e,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,i]=this._view.size;return Math.sqrt(e*e+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return mR(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,i){i.pan=xY(this.center,e.center);let r=Math.abs(e.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=wc(r),i.sourceZoom=this.scale,i.targetZoom=e.scale}interpolate(e,i,r){const{pan:s,rotate:n,zoom:a,zoomOffset:o}=r,{center:l}=this;l.spatialReference=e.center.spatialReference,l.x=Cv(e.center.x,i.center.x,s),l.y=Cv(e.center.y,i.center.y,s),this.viewpoint.scale=Cv(e.scale,i.scale+o,a);let u=e.rotation;const d=i.rotation;Math.abs(d-u)>=180&&(u+=360*(u<d?1:-1)),this.viewpoint.rotation=Cv(u,d,n)}copyFrom(e){Ss(this.viewpoint,e.viewpoint),this._view=e.view}};function tv(t,e,i,r){const s=3*t,n=3*(i-t)-s,a=1-s-n,o=3*e,l=3*(r-e)-o,u=1-o-l;function d(g){return((a*g+n)*g+s)*g}function h(g){return((u*g+l)*g+o)*g}function p(g){return(3*a*g+2*n)*g+s}function m(g,b){let v,w,_,S,T,C;for(_=g,C=0;C<8;C++){if(S=d(_)-g,Math.abs(S)<b)return _;if(T=p(_),Math.abs(T)<1e-6)break;_-=S/T}if(v=0,w=1,_=g,_<v)return v;if(_>w)return w;for(;v<w;){if(S=d(_),Math.abs(S-g)<b)return _;g>S?v=_:w=_,_=.5*(w-v)+v}return _}return function(g,b=1e-6){return h(m(g,b))}}const La={};La.ease=tv(.25,.1,.25,1),La.linear=tv(0,0,1,1),La.easeIn=La["ease-in"]=tv(.42,0,1,1),La.easeOut=La["ease-out"]=tv(0,0,.58,1),La.easeInOut=La["ease-in-out"]=tv(.42,0,.58,1);const kSe=t=>t,e_=t=>t*t,s8=t=>1-e_(1-t),$V=t=>t<.5?e_(2*t)/2:(s8(2*(t-.5))+1)/2,n8=t=>t*t*t,sC=t=>1-n8(1-t),TV=t=>t<.5?n8(2*t)/2:(sC(2*(t-.5))+1)/2,a8=t=>t*t*t*t,nC=t=>1-a8(1-t),IV=t=>t<.5?a8(2*t)/2:(nC(2*(t-.5))+1)/2,o8=t=>t*t*t*t*t,aC=t=>1-o8(1-t),EV=t=>t<.5?o8(2*t)/2:(aC(2*(t-.5))+1)/2,l8=t=>1-Math.cos(t*Math.PI/2),oC=t=>1-l8(1-t),MV=t=>t<.5?l8(2*t)/2:(oC(2*(t-.5))+1)/2,c8=t=>2**(10*(t-1)),u8=t=>1-c8(1-t),CV=t=>t<.5?c8(2*t)/2:(u8(2*(t-.5))+1)/2,d8=t=>-(Math.sqrt(1-t*t)-1),lC=t=>1-d8(1-t),kV=t=>t<.5?d8(2*t)/2:(lC(2*(t-.5))+1)/2;function Ka(t){const e=2*(t-Math.sqrt((t-1)*t)),i=e/2/t;return r=>r<i?t*r*r:e*r-e+1}function eo(t,e){return(i,r)=>i<e?e*t(i/e,r):1-t((1-i)/(1-e),r)*(1-e)}const AV=eo(Ka(1),1),PV=eo(Ka(1),0),f8=eo(Ka(1),.5),LV=eo(Ka(2),1),RV=eo(Ka(2),0),OV=eo(Ka(2),.5),FV=eo(Ka(3),1),NV=eo(Ka(3),0),DV=eo(Ka(3),.5),zV=eo(Ka(4),1),VV=eo(Ka(4),0),jV=eo(Ka(4),.5),qV={linear:kSe,"in-quad":e_,"out-quad":s8,"in-out-quad":$V,"in-coast-quad":AV,"out-coast-quad":PV,"in-out-coast-quad":f8,"in-cubic":n8,"out-cubic":sC,"in-out-cubic":TV,"in-coast-cubic":LV,"out-coast-cubic":RV,"in-out-coast-cubic":OV,"in-quart":a8,"out-quart":nC,"in-out-quart":IV,"in-coast-quart":FV,"out-coast-quart":NV,"in-out-coast-quart":DV,"in-quint":o8,"out-quint":aC,"in-out-quint":EV,"in-coast-quint":zV,"out-coast-quint":VV,"in-out-coast-quint":jV,"in-sine":l8,"out-sine":oC,"in-out-sine":MV,"in-expo":c8,"out-expo":u8,"in-out-expo":CV,"in-circ":d8,"out-circ":lC,"in-out-circ":kV,"quad-in":e_,"quad-out":s8,"quad-in-out":$V,"quad-in-coast":AV,"quad-out-coast":PV,"quad-in-out-coast":f8,"cubic-in":n8,"cubic-out":sC,"cubic-in-out":TV,"cubic-in-coast":LV,"cubic-out-coast":RV,"cubic-in-out-coast":OV,"quart-in":a8,"quart-out":nC,"quart-in-out":IV,"quart-in-coast":FV,"quart-out-coast":NV,"quart-in-out-coast":DV,"quint-in":o8,"quint-out":aC,"quint-in-out":EV,"quint-in-coast":zV,"quint-out-coast":VV,"quint-in-out-coast":jV,"sine-in":l8,"sine-out":oC,"sine-in-out":MV,"expo-in":c8,"expo-out":u8,"expo-in-out":CV,"circ-in":d8,"circ-out":lC,"circ-in-out":kV,ease:t=>La.ease(t),"ease-in":t=>La.easeIn(t),"ease-out":t=>La.easeOut(t),"ease-in-out":t=>La.easeInOut(t)};let ASe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const h8={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},$ie={maxDuration:4e3};let PSe=class Tie{constructor(e){this._createCamera=e,this.compared=new ASe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:h8.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new Tie(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,i,r){this.source!==e&&this.source.copyFrom(e),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??h8.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const i=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Ws()}get hasFov(){return Math.abs(this.compared.fov)>Ws()}get hasRotate(){return this.compared.rotate>Ws()}},LSe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},RSe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((e,i)=>e+i.time,0)}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),e*=this.time;let r=0,s=0;const n=this.definition,a=this.segments.reduce((o,l)=>o||l.definition.hasZoom,!1);for(let o=0;o<this.segments.length;o++){const l=this.segments[o],u=l.definition;if(e<=l.time||o===this.segments.length-1){if(this.segmentInterpolateComponentsAt(l,l.time===0?0:e/l.time,i),n.hasPan&&!isNaN(i.pan)&&isFinite(n.compared.pan)?i.pan=(r+u.compared.pan*i.pan)/n.compared.pan:i.pan=1,n.hasRotate&&!isNaN(i.rotate)&&isFinite(n.compared.rotate)?i.rotate=(s+u.compared.rotate*i.rotate)/n.compared.rotate:i.rotate=1,a&&!isNaN(i.zoom)&&isFinite(u.compared.targetZoom)){const{sourceZoom:d,targetZoom:h}=u.compared,p=i.zoom*(h-d)+d,m=this.segments[0].definition.compared.sourceZoom,g=this.segments[this.segments.length-1].definition.compared.targetZoom,b=Math.abs(h-m)>Math.abs(d-m)?h:d;i.zoomOffset=b-g,i.zoom=(p-m)/(b-m)}else i.zoom=1;return i}e-=l.time,r+=u.compared.pan,s+=u.compared.rotate}}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r)}},d$=class{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,i=e.compared,r=i.sourceZoom,s=i.targetZoom;this._zoomSign=r>s?1:-1,this._panPixelsAtSource=i.pan*e.source.pixelsPerPanAtZoom(r);const n=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*n}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:s,hasRotate:n}=this.definition;let a=0,o=0;r&&(s&&(a=(i/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),n&&(o=this._zoomSign*(Math.log(e/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(r&&s&&n){const u=a+o+a*o;this._zoomPixelFlow=a*o/u*l,this._panPixelFlow=o/u*l,this._rotatePixelFlow=a/u*l}else if(r&&s){const u=1+a;this._zoomPixelFlow=a/u*l,this._panPixelFlow=1/u*l}else if(r&&n){const u=1+o;this._zoomPixelFlow=o/u*l,this._rotatePixelFlow=1/u*l}else if(s&&n){const u=this._panPixelsAtSource/this._rotatePixels,d=1+u;this._panPixelFlow=u/d*l,this._rotatePixelFlow=1/d*l}else s?this._panPixelFlow=l:r?this._zoomPixelFlow=l:n&&(this._rotatePixelFlow=l);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const u=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=u,this._panPixelFlow/=u,this._rotatePixelFlow/=u}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/OSe:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=e*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(e){if(e===0||e===1)return e;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-e-i)/(r-i)}return e}_interpolateComponentsFov(e){if(e===0)return this.definition.segmentStart;if(e===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+e*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(e===0||e===1)return e;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*e*this._time)-1))/(i*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),i.zoom=this._interpolateComponentsZoom(e),i.pan=this._interpolateComponentsPan(e),i.rotate=this._interpolateComponentsRotate(e),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(e)}};const OSe=wc(45);function FSe(t,e,i){const r=e-t.compared.sourceZoom,s=t.halfWindowPanAtZoom(r);return-t.halfWindowSize*(i.ascensionFactor*Math.LN2*t.compared.pan+s)*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2*s)}function NSe(t,e,i){const r=1/e,s=Math.log(t.compared.sourceZoom*r),n=1/t.desiredPixelFlow,a=1/Math.LN2,o=e-t.compared.sourceZoom,l=1/o,u=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(o))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*r*n*a*l*u-t.halfWindowSize*s*n*a*l+t.halfWindowSize*s*n*a*u/(o*o)}function DSe(t,e,i){const r=e-t.compared.sourceZoom,s=1/r,n=1/e,a=Math.log(t.compared.sourceZoom*n),o=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(r))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*s*(-2*s*n*o+2*s*a+2*n-2*a*o/(r*r)-o/(e*e))/(t.desiredPixelFlow*Math.LN2)}function zSe(t,e){return-t.halfWindowSize*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2)}function VSe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function jSe(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function qSe(t,e,i){return-t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e))}function BSe(t,e,i){return t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e))}function USe(t,e,i){return-2*t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e*e))}function GSe(t,e,i){return t.halfWindowSize*(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*t.halfWindowPanAtZoom(-e+t.compared.targetZoom))}function HSe(t,e,i){const r=Math.log(e/t.compared.targetZoom),s=1/t.desiredPixelFlow,n=1/Math.LN2,a=-e+t.compared.targetZoom,o=1/a,l=(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return-t.halfWindowSize*r*s*n*o+t.halfWindowSize*r*s*n*l/(a*a)+t.halfWindowSize*s*n*o*l/e}function WSe(t,e,i){const r=e-t.compared.targetZoom,s=1/r,n=1/e,a=Math.log(e/t.compared.targetZoom),o=(t.halfWindowPanAtZoom(e)+i.descensionFactor*Math.LN2*t.compared.pan-t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*s*(-2*s*n*o-2*s*a+2*n+2*a*o/(r*r)-o/(e*e))/(t.desiredPixelFlow*Math.LN2)}function ZSe(t,e){return t.halfWindowSize*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2)}function JSe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function YSe(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function XSe(t){const e=t.compared.sourceZoom-t.compared.targetZoom;if(e===0)return t.compared.pan*t.halfWindowSize/(t.desiredPixelFlow*t.halfWindowPanAtZoom(t.compared.sourceZoom));const i=Math.LN2*t.compared.pan,r=e,s=t.halfWindowPanAtZoom(r),n=t.halfWindowSize*Math.log(t.compared.sourceZoom/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*s);return t.compared.sourceZoom<=t.compared.targetZoom?n*(i-s):n*(i+s)}function QSe(t,e){let i=KSe(t,e);const r={ascensionFactor:e.ascensionFactor!=null?e.ascensionFactor:.5,descensionFactor:e.descensionFactor!=null?e.descensionFactor:.5},s=r.ascensionFactor===0,n=r.descensionFactor===0,a=s?zSe:FSe,o=s?VSe:NSe,l=s?jSe:DSe,u=n?ZSe:GSe,d=n?JSe:HSe,h=n?YSe:WSe,p=C=>a(t,C,r)+qSe(t,C,r)+u(t,C,r),m=C=>o(t,C,r)+BSe(t,C,r)+d(t,C,r),g=C=>l(t,C,r)+USe(t,C,r)+h(t,C,r);let b=p(i);const v=XSe(t);let w;const _=e.maximumIterations||20,S=e.maximumDistance!=null?e.maximumDistance:1/0;for(w=0;w<_;w++){const C=e.desiredSlope??1e-6;let A=m(i);Math.abs(A)>C&&(A+=C);const O=A/g(i);if(isNaN(O)||i>=S&&O<0){if(!isFinite(S))return null;i=S,b=p(i);break}if(i-=O,i<=t.compared.sourceZoom||i<=t.compared.targetZoom)return null;const L=p(i);if(Math.abs(L-b)/b<=.005)break;b=L}return isNaN(b)||b>v*(1-.3)||i<=t.compared.sourceZoom||i<=t.compared.targetZoom?null:i}function KSe(t,e){const i=Math.max(t.compared.sourceZoom,t.compared.targetZoom),r=t.source.zoomAtPixelsPerPan(t.desiredPixelFlow/t.compared.pan)/2;return r<i?e.maximumDistance!=null?i+(e.maximumDistance-i)/2:1.5*i:e.maximumDistance?Math.min(e.maximumDistance,r):r}let exe=class extends RSe{constructor(e,i){super(),this._preallocSegments=[new d$,new d$,new d$],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,i)}update(e,i){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const r=i!=null&&i.apex?QSe(e,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i==null?void 0:i.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r),e===this._ascensionSegment?r.zoom=s8(r.zoom):e===this._descensionSegment&&(r.zoom=e_(r.zoom))}_updateWithApex(e,i){const[r,s,n]=this._preallocSegments,a=(i==null?void 0:i.ascensionFactor)??.5,o=Math.min(1-a,(i==null?void 0:i.ascensionFactor)!=null&&i.descensionFactor!=null?i.descensionFactor:.5),l=1-a-o;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*a,r.definition.compared.rotate=this.definition.compared.rotate*a,r.definition.segmentEnd=a,r.update(),this._ascensionSegment=r,this.segments.push(r),l>0&&(s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.copyFrom(this.definition),s.definition.compared.sourceZoom=e,s.definition.compared.targetZoom=e,s.definition.compared.pan=this.definition.compared.pan*l,s.definition.compared.rotate=this.definition.compared.rotate*l,s.definition.segmentStart=r.definition.segmentEnd,s.definition.segmentEnd=r.definition.segmentEnd+l,s.update(),this.segments.push(s)),n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.sourceZoom=e,n.definition.compared.pan=this.definition.compared.pan*o,n.definition.compared.rotate=this.definition.compared.rotate*o,n.definition.segmentStart=a+l,n.update(),this._descensionSegment=n,this.segments.push(n)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}};const txe=new LSe;let ixe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(e){this._time=0,this._easing=f8,this.definition=new PSe(e),this.path=new exe}update(e,i,r){this.definition.update(e,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(ehe(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?f8:u8)}cameraAt(e,i){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const r=this.path.interpolateComponentsAt(e,txe);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(e){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(e,this._time)-i)/(r-i)}_applyTimeSettings(e,i){const r=i.speedFactor!=null?i.speedFactor:1,s=i.minDuration??h8.minDuration/r,n=i.maxDuration??h8.maxDuration/r;return e=i.duration!=null?i.duration:Math.min(Math.max(e/r,s),n)}};const rxe=2e3,sxe=64;let nxe=class{constructor(e){this._view=e,this._animation=new ixe(()=>new xV(this._view)),this._current=new xV(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,i,r={}){Ss(this._current.viewpoint,e),Ss(this._source.viewpoint,e),Ss(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(e,i){this._animation.cameraAt(i,this._current),Ss(e,this._current.viewpoint)}},ay=class extends ce{constructor(e){super(e),this._animation=null,this._destinationViewState=new wR,this.updateFunction=null,this.easing=qV.ease,this.viewpoint=new er({targetGeometry:new _e,scale:0,rotation:0}),this._updateTask=Eb({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new nxe(e.view)}destroy(){this._updateTask=oi(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,i,r){this.stop();const s=this.viewpoint;Ss(s,i);const n=e.target;this._transition.update(this.viewpoint,n,{apex:{maximumDistance:Math.min(Math.min(i.scale,n.scale)*sxe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r==null?void 0:r.duration,maxDuration:(r==null?void 0:r.animationMode)==="auto"?1/0:(r==null?void 0:r.maxDuration)??$ie.maxDuration,speedFactor:r==null?void 0:r.speedFactor,easing:(typeof(r==null?void 0:r.easing)=="string"?qV[r.easing]:r==null?void 0:r.easing)||this.easing}),(r==null?void 0:r.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=n,axe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,n,{duration:0}));const a=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,i){this.stop(),this.updateFunction=i,this.viewpoint=e;const r=new iC({target:e.clone()}),s=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){var r,s;const i=this.animation;if(i&&i.state!==iC.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),(r=this.animation)==null||r.update(this.viewpoint);else{const n=performance.now()-this._startTime,a=this._transition.duration,o=a>0?n/a:1,l=o>=1;this._transition.applyRatio(this.viewpoint,o),l&&((s=this.animation)==null||s.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function axe(t,e,i,r){if((e==null?void 0:e.duration)!=null)return!0;const{time:s,isLinear:n}=t,a=(e==null?void 0:e.speedFactor)||1;if(s>((e==null?void 0:e.maxDuration)??$ie.maxDuration/a))return!1;if(n){const l=_i(),u=cr(...r.toScreen(l,...i.center)),d=cr(...i.toScreen(l,...r.center)),h=d!=null&&d.x>-1*i.size[0]&&d.x<(1.5+.5)*i.size[0]&&d.y>-1*i.size[1]&&d.y<(1.5+.5)*i.size[1],p=u!=null&&u.x>-1*r.size[0]&&u.x<(1.5+.5)*r.size[0]&&u.y>-1*r.size[1]&&u.y<(1.5+.5)*r.size[1];if(s>rxe/a&&!h&&!p)return!1}return!0}c([f()],ay.prototype,"easing",void 0),c([f()],ay.prototype,"view",void 0),c([f()],ay.prototype,"viewpoint",void 0),ay=c([E("esri.views.2d.AnimationManager")],ay);const oxe=ay;function Wt(){return Promise.all([R(()=>import("./webglDeps-DTbXpSfz.js"),__vite__mapDeps([263,264,265,266])),R(()=>import("./mapViewDeps-B14k0O1N.js"),__vite__mapDeps([267,268,172,269,265,264,235,213,168,270,169,143,271,167,188,272,220,219,175,121,170,176,273,173,174,218,263,266,274,183,275,276,277,232,229,211,166,124,278,279,171,280,178,281,180,148,164,282,283,284,285,228,286,287]))])}const iv=()=>Wt().then(()=>R(()=>import("./TileLayerView2D-5_KWFAW_.js"),__vite__mapDeps([288,168,272,271,167,143,264,188,220,219,175,121,218,274,269,265,235,213,270,169,183,275,276,172,268,170,176,173,174,232,229,211,281,166,124,180,148,164,289,290,285,291,243,292,283,284,293,294,295,296]))),Nh=()=>Wt().then(()=>R(()=>import("./FeatureLayerView2D-BVyal78h.js").then(t=>t.F),__vite__mapDeps([297,121,298,299,291,272,243,284,168,167,143,265,264,285,271,188,220,219,175,268,172,269,235,213,270,169,170,176,183,273,300,182,296,293]))),BV={"base-dynamic":()=>Wt().then(()=>R(()=>import("./BaseDynamicLayerView2D-DFEHvL5q.js"),__vite__mapDeps([301,302,271,167,143,264,188,272,220,219,175,121,290,269,265,235,213,172,291,243,303,293]))),"base-tile":iv,"bing-maps":iv,catalog:()=>Wt().then(()=>R(()=>import("./CatalogLayerView2D-CHhTzRRG.js"),__vite__mapDeps([304,291,272,243]))),"catalog-dynamic-group":()=>Wt().then(()=>R(()=>import("./CatalogDynamicGroupLayerView2D-C1S8FHRW.js"),__vite__mapDeps([305,291,272,243]))),"catalog-footprint":()=>Wt().then(()=>R(()=>import("./CatalogFootprintLayerView2D-hMBQb8jz.js"),__vite__mapDeps([306,297,121,298,299,291,272,243,284,168,167,143,265,264,285,271,188,220,219,175,268,172,269,235,213,270,169,170,176,183,273,300,182,296,293]))),csv:Nh,"geo-rss":()=>Wt().then(()=>R(()=>import("./GeoRSSLayerView2D-DNWRI64M.js"),__vite__mapDeps([307,291,272,243,282,283,284,168,167,143,265,264,285,271,188,220,219,175,121,268,172,269,235,213,270,169,170,176,281,166,124,180,148,164]))),feature:Nh,geojson:Nh,parquet:Nh,graphics:()=>Wt().then(()=>R(()=>import("./GraphicsLayerView2D-DDjSjrLB.js"),__vite__mapDeps([308,291,272,243,282,283,284,168,167,143,265,264,285,271,188,220,219,175,121,268,172,269,235,213,270,169,170,176,281,166,124,180,148,164]))),group:()=>Wt().then(()=>R(()=>import("./GroupLayerView2D-Bs0t8FL_.js"),__vite__mapDeps([309,291,272,243]))),imagery:()=>Wt().then(()=>R(()=>import("./ImageryLayerView2D-ClAmv-Nc.js"),__vite__mapDeps([310,311,264,143,196,271,167,188,272,220,219,175,121,291,243,281,166,168,169,124,268,172,269,265,235,213,270,170,176,180,148,164,292,283,284,285,302,290,303,200,298,296,293]))),"imagery-tile":()=>Wt().then(()=>R(()=>import("./ImageryTileLayerView2D-BCpsiYUP.js"),__vite__mapDeps([312,313,311,264,143,196,271,167,188,272,220,219,175,121,291,243,199,314,285,269,265,235,213,172,270,169,315,200,298,296,293]))),kml:()=>Wt().then(()=>R(()=>import("./KMLLayerView2D-buDJE1cZ.js"),__vite__mapDeps([316,317,290,272,269,265,264,235,213,172,302,271,167,143,188,220,219,175,121,291,243,282,283,284,168,285,268,270,169,170,176,281,166,124,180,148,164,280,178,200,277,263,266,232,229,211,275,314]))),"knowledge-graph":()=>Wt().then(()=>R(()=>import("./KnowledgeGraphLayerView2D-D9YeJTyK.js"),__vite__mapDeps([318,291,272,243]))),"link-chart":()=>Wt().then(()=>R(()=>import("./KnowledgeGraphLayerView2D-D9YeJTyK.js"),__vite__mapDeps([318,291,272,243]))),"knowledge-graph-sublayer":Nh,"map-image":()=>Wt().then(()=>R(()=>import("./MapImageLayerView2D-B-jC-RY6.js"),__vite__mapDeps([319,302,271,167,143,264,188,272,220,219,175,121,290,269,265,235,213,172,291,243,281,166,168,169,124,268,270,170,176,180,148,164,292,283,284,285,303,298,293,294,295,296]))),"map-notes":()=>Wt().then(()=>R(()=>import("./MapNotesLayerView2D-CGn8PQZs.js"),__vite__mapDeps([320,291,272,243,282,283,284,168,167,143,265,264,285,271,188,220,219,175,121,268,172,269,235,213,270,169,170,176,281,166,124,180,148,164]))),media:()=>Wt().then(()=>R(()=>import("./MediaLayerView2D-B5u9yV8g.js"),__vite__mapDeps([321,322,180,148,168,272,271,167,143,264,188,220,219,175,121,218,274,269,265,235,213,270,169,183,275,276,172,268,170,176,173,174,232,229,211,281,166,124,164,278,323,279,291,243]))),"ogc-feature":()=>Wt().then(()=>R(()=>import("./OGCFeatureLayerView2D-CeJ9hTrX.js"),__vite__mapDeps([324,297,121,298,299,291,272,243,284,168,167,143,265,264,285,271,188,220,219,175,268,172,269,235,213,270,169,170,176,183,273,300,182,296,293]))),"open-street-map":iv,"oriented-imagery":Nh,route:()=>Wt().then(()=>R(()=>import("./RouteLayerView2D-BQIWJRP-.js"),__vite__mapDeps([325,326,327,291,272,243,282,283,284,168,167,143,265,264,285,271,188,220,219,175,121,268,172,269,235,213,270,169,170,176,281,166,124,180,148,164]))),stream:()=>Wt().then(()=>R(()=>import("./StreamLayerView2D-CHlLBWLa.js"),__vite__mapDeps([328,297,121,298,299,291,272,243,284,168,167,143,265,264,285,271,188,220,219,175,268,172,269,235,213,270,169,170,176,183,273,300,182,296,293]))),"subtype-group":()=>Wt().then(()=>R(()=>import("./SubtypeGroupLayerView2D-D6n0QxTL.js"),__vite__mapDeps([329,297,121,298,299,291,272,243,284,168,167,143,265,264,285,271,188,220,219,175,268,172,269,235,213,270,169,170,176,183,273,300,182,296,293]))),tile:iv,"vector-tile":()=>Wt().then(()=>R(()=>import("./VectorTileLayerView2D-CfG0rLrl.js"),__vite__mapDeps([330,218,276,219,220,264,271,167,143,188,272,175,121,285,129,221,222,291,243,293]))),video:()=>Wt().then(()=>R(()=>import("./VideoLayerView2D-DvsE5GW9.js"),__vite__mapDeps([331,332,323,188,271,167,143,264,272,220,219,175,121,268,172,269,265,235,213,168,270,169,170,176,279,291,243,282,283,284,285,281,166,124,180,148,164]))),wcs:()=>Wt().then(()=>R(()=>import("./ImageryTileLayerView2D-BCpsiYUP.js"),__vite__mapDeps([312,313,311,264,143,196,271,167,188,272,220,219,175,121,291,243,199,314,285,269,265,235,213,172,270,169,315,200,298,296,293]))),"web-tile":iv,wfs:Nh,wms:()=>Wt().then(()=>R(()=>import("./WMSLayerView2D-BBrGCzqf.js"),__vite__mapDeps([333,302,271,167,143,264,188,272,220,219,175,121,290,269,265,235,213,172,291,243,303,293,334,298]))),wmts:()=>Wt().then(()=>R(()=>import("./WMTSLayerView2D-CN1XN1fH.js"),__vite__mapDeps([335,289,290,272,269,265,264,235,213,172,271,167,143,188,220,219,175,121,285,291,243,293]))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function lxe(t){const e=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=e.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new P(`${i}:view-not-supported`,`${e} is not supported in 2D`)}const UV={hasLayerViewModule:t=>BV[t.type]!=null,importLayerView:t=>{const e=BV[t.type];if(e==null)throw lxe(t);return e(t)}};var ea;let S1=(ea=class{static getId(e,i,r,s){return typeof e=="object"?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${i}/${r}/${s}`}constructor(e,i,r,s){this.set(e,i,r,s)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|e<<8|r}acquire(e,i,r,s){this.set(e,i,r,s)}contains(e){const i=e.level-this.level;return i>=0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}containsChild(e){const i=e.level-this.level;return i>0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new ea(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,i,r,s){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e=="object")this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e=="string"){const[n,a,o,l]=e.split("/");this.level=parseFloat(n),this.row=parseFloat(a),this.col=parseFloat(o),this.world=parseFloat(l)}else this.level=+e,this.row=+i,this.col=+r,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new ea(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,i,r){const s=this.clone();return s.col+=e,s.row+=i,r.normalizeKey(s),s}getChildKeys(){const e=this.level+1,i=this.row<<1,r=this.col<<1,s=this.world;return[new ea(e,i,r,s),new ea(e,i,r+1,s),new ea(e,i+1,r,s),new ea(e,i+1,r+1,s)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}},ea.pool=new _h(ea,null,null,25,50),ea);function C0(t,e){return[t,e]}function Dh(t,e,i){return t[0]=e,t[1]=i,t}function cxe(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t}const lo=new S1("0/0/0/0");let uxe=class Iie{static create(e,i,r=null){const s=xs(e.spatialReference),n=i.origin||C0(e.origin.x,e.origin.y),a=C0(e.size[0]*i.resolution,e.size[1]*i.resolution),o=C0(-1/0,-1/0),l=C0(1/0,1/0),u=C0(1/0,1/0);r!=null&&(Dh(o,Math.max(0,Math.floor((r.xmin-n[0])/a[0])),Math.max(0,Math.floor((n[1]-r.ymax)/a[1]))),Dh(l,Math.max(0,Math.floor((r.xmax-n[0])/a[0])),Math.max(0,Math.floor((n[1]-r.ymin)/a[1]))),Dh(u,l[0]-o[0]+1,l[1]-o[1]+1));const{cols:d,rows:h}=i;let p,m,g,b;return!r&&d&&h&&(Dh(o,d[0],h[0]),Dh(l,d[1],h[1]),Dh(u,d[1]-d[0]+1,h[1]-h[0]+1)),e.isWrappable?(p=C0(Math.ceil(Math.round((s.valid[1]-s.valid[0])/i.resolution)/e.size[0]),u[1]),m=!0,g=s.origin,b=s.valid):(p=u,m=!1),new Iie(i.level,i.resolution,i.scale,n,o,l,u,a,p,m,g,b)}constructor(e,i,r,s,n,a,o,l,u,d,h,p){this.level=e,this.resolution=i,this.scale=r,this.origin=s,this.first=n,this.last=a,this.size=o,this.norm=l,this.worldSize=u,this.wrap=d,this._spatialReferenceOrigin=h,this._spatialReferenceValid=p}normalizeCol(e){if(!this.wrap)return e;const i=this.worldSize[0];return e<0?i-1-Math.abs((e+1)%i):e%i}normalizeKey(e){if(!this.wrap)return;const i=this.worldSize[0],r=e.col;r<0?(e.col=r+i,e.world-=1):r>=i&&(e.col=r-i,e.world+=1)}denormalizeCol(e,i){return this.wrap?this.worldSize[0]*i+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const i=this.origin[0]+e*this.norm[0],r=this._spatialReferenceOrigin,s=this._spatialReferenceValid;return this.wrap&&r&&s?i===r[0]?s[0]:this.origin[0]===r[0]&&e===this.worldSize[0]?s[1]:i:i}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,i,r=!1){lo.set(i);const s=r?lo.col:this.denormalizeCol(lo.col,lo.world),n=lo.row;return cxe(e,this.getXForColumn(s),this.getYForRow(n+1),this.getXForColumn(s+1),this.getYForRow(n)),e}getTileCoords(e,i,r=!1){lo.set(i);const s=r?lo.col:this.denormalizeCol(lo.col,lo.world);return Array.isArray(e)?Dh(e,this.getXForColumn(s),this.getYForRow(lo.row)):(e.x=this.getXForColumn(s),e.y=this.getYForRow(lo.row)),e}};var Lm;let xR=(Lm=class{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:i,colFrom:r,colTo:s}of this.spans)for(let n=r;n<=s;n++){const a=e.getWorldForColumn(n);yield new S1(e.level,i,e.normalizeCol(n),a)}}forEach(e,i){const{spans:r,lodInfo:s}=this,{level:n}=s;if(r.length!==0)for(const{row:a,colFrom:o,colTo:l}of r)for(let u=o;u<=l;u++)e.call(i,n,a,s.normalizeCol(u),s.getWorldForColumn(u))}},Lm.pool=new _h(Lm),Lm),f$=class{constructor(e,i,r){this.row=e,this.colFrom=i,this.colTo=r}};const ii=new S1("0/0/0/0");let dxe=class Eie{static create(e,i){e[1]>i[1]&&([e,i]=[i,e]);const[r,s]=e,[n,a]=i,o=n-r,l=a-s,u=l!==0?o/l:0,d=(Math.ceil(s)-s)*u,h=(Math.floor(s)-s)*u;return new Eie(r,Math.floor(s),Math.ceil(a),u,o<0?d:h,o<0?h:d,o<0?n:r,o<0?r:n)}constructor(e,i,r,s,n,a,o,l){this.x=e,this.ymin=i,this.ymax=r,this.invM=s,this.leftAdjust=n,this.rightAdjust=a,this.leftBound=o,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Rn=[[0,0],[0,0],[0,0],[0,0]],fxe=1e-6;let hxe=class{constructor(e,i=null,r=e.lods[0].level,s=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=e.lods.filter(o=>o.level>=r&&o.level<=s);this.minScale=n[0].scale,this.maxScale=n[n.length-1].scale;const a=this._lodInfos=n.map(o=>uxe.create(e,o,i));n.forEach((o,l)=>{this._infoByLevel[o.level]=a[l],this._infoByScale[o.scale]=a[l],this.scales[l]=o.scale},this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel[typeof e=="number"?e:e.level]}getTileBounds(e,i,r=!1){ii.set(i);const s=this._infoByLevel[ii.level];return s?s.getTileBounds(e,ii,r):e}getTileCoords(e,i,r=!1){ii.set(i);const s=this._infoByLevel[ii.level];return s?s.getTileCoords(e,ii,r):e}getTileCoverage(e,i=192,r=!0,s="closest"){if(!r&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const n=s==="closest"?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),a=xR.pool.acquire(n),o=this._wrap;let l,u,d,h=1/0,p=-1/0;const m=a.spans;Rn[0][0]=Rn[0][1]=Rn[1][1]=Rn[3][0]=-i,Rn[1][0]=Rn[2][0]=e.size[0]+i,Rn[2][1]=Rn[3][1]=e.size[1]+i;for(const w of Rn)e.toMap(w,w),w[0]=n.getColumnForX(w[0]),w[1]=n.getRowForY(w[1]);const g=[];let b=3;for(let w=0;w<4;w++){if(Rn[w][1]===Rn[b][1]){b=w;continue}const _=dxe.create(Rn[w],Rn[b]);h=Math.min(_.ymin,h),p=Math.max(_.ymax,p),g[_.ymin]===void 0&&(g[_.ymin]=[]),g[_.ymin].push(_),b=w}if(h==null||p==null||p-h>100)return null;let v=[];for(l=h;l<p;){g[l]!=null&&(v=v.concat(g[l])),u=1/0,d=-1/0;for(let w=v.length-1;w>=0;w--){const _=v[w];u=Math.min(u,_.getLeftCol()),d=Math.max(d,_.getRightCol())}if(u=Math.floor(u),d=Math.floor(d),l>=n.first[1]&&l<=n.last[1])if(o)if(n.size[0]<n.worldSize[0]){const w=Math.floor(d/n.worldSize[0]);for(let _=Math.floor(u/n.worldSize[0]);_<=w;_++)m.push(new f$(l,Math.max(n.getFirstColumnForWorld(_),u),Math.min(n.getLastColumnForWorld(_),d)))}else m.push(new f$(l,u,d));else u>n.last[0]||d<n.first[0]||(u=Math.max(u,n.first[0]),d=Math.min(d,n.last[0]),m.push(new f$(l,u,d)));l+=1;for(let w=v.length-1;w>=0;w--){const _=v[w];_.ymax>=l?_.incrRow():v.splice(w,1)}}return a}getTileParentId(e){ii.set(e);const i=this._infoByLevel[ii.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(ii,this._lodInfos[r],ii),ii.id)}getTileResolution(e){const i=this._infoByLevel[typeof e=="object"?e.level:e];return i?i.resolution:-1}getTileScale(e){const i=this._infoByLevel[e.level];return i?i.scale:-1}intersects(e,i){ii.set(i);const r=this._infoByLevel[ii.level],s=e.lodInfo;if(s.resolution>r.resolution){this._getTileIdAtLOD(ii,s,ii);const a=s.denormalizeCol(ii.col,ii.world);for(const o of e.spans)if(o.row===ii.row&&o.colFrom<=a&&o.colTo>=a)return!0}if(s.resolution<r.resolution){const[a,o,l,u]=e.spans.reduce((b,v)=>(b[0]=Math.min(b[0],v.row),b[1]=Math.max(b[1],v.row),b[2]=Math.min(b[2],v.colFrom),b[3]=Math.max(b[3],v.colTo),b),[1/0,-1/0,1/0,-1/0]),d=r.denormalizeCol(ii.col,ii.world),h=s.getColumnForX(r.getXForColumn(d)),p=s.getRowForY(r.getYForRow(ii.row)),m=s.getColumnForX(r.getXForColumn(d+1))-1,g=s.getRowForY(r.getYForRow(ii.row+1))-1;return!(h>u||m<l||p>o||g<a)}const n=s.denormalizeCol(ii.col,ii.world);return e.spans.some(a=>a.row===ii.row&&a.colFrom<=n&&a.colTo>=n)}normalizeBounds(e,i,r){if(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],this._wrap){const s=xs(this.tileInfo.spatialReference),n=-r*(s.valid[1]-s.valid[0]);e[0]+=n,e[2]+=n}return e}getSmallestInfoForScale(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(e>i[r]+fxe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(e){const i=this.scales;return this._infoByScale[e]||(e=i.reduce((r,s)=>Math.abs(s-e)<Math.abs(r-e)?s:r,i[0])),this._infoByScale[e]}scaleToLevel(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let r=i.length-1;r>=0;r--)if(e<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-e)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,i,r){const s=this._infoByLevel[r.level];return e.set(r),i.resolution<s.resolution?null:(i.resolution===s.resolution||(e.level=i.level,e.col=Math.floor(r.col*s.resolution/i.resolution+.01),e.row=Math.floor(r.row*s.resolution/i.resolution+.01)),e)}},pxe=class{constructor(e,i){this.item=e,this.controller=i,this.promise=null}},mxe=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new Sm,this._controllers=new Sm,this._processingItems=new Sm,this._pausedSignal=Vm(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new qw(e.peeker),this.process=e.process;const i=e.scheduler;e.priority&&i&&(this._task=i.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=oi(this._schedule),this._task=oi(this._task)}get updating(){var e;return!!((e=this._task)!=null&&e.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(e){const i=this._controllers.get(e);i&&i.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(i=>e.push(i)),this._controllers.clear(),e.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((i,r)=>e(r))}get(e){const i=this._deferreds.get(e);return i?i.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,i){const r=this.get(e);if(r)return r;const s=new AbortController;let n=null;i&&(n=Zo(i,()=>s.abort()));const a=()=>{const d=this._processingItems.get(e);d&&d.controller.abort(),o(),u.reject(jt())},o=()=>{l.remove(),n!=null&&n.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},l=MP(s.signal,a),u=Mn();return this._deferreds.set(e,u),this._controllers.set(e,s),u.promise.then(o,o),this._queue.push(e),this._scheduleNext(),u.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){var i;const e=this._queue.popLast();return e&&((i=this._deferreds.get(e))==null||i.reject(jt()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of e)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=U_(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(i))}_processError(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(i))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(e==null)return;let i;const r=new AbortController,s=new pxe(e,r);this._processingItems.set(e,s);try{i=this.process(e,r.signal)}catch(n){this._processError(s,n)}qc(i)?(s.promise=i,i.then(n=>this._processResult(s,n),n=>this._processError(s,n))):this._processResult(s,i)}get test(){}};const GV=[0,0];let hu=class extends ce{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:i,scheduler:r,priority:s}=this;this._queue=new mxe({concurrency:e,scheduler:r,priority:s,process:(n,a)=>{const o=this._keyToItem.get(n);return i(o,{signal:a})},peeker:n=>this._peek(n)})}destroy(){this.clear(),this._queue=Lt(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const i=typeof e=="string"?e:e.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const i=e.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),s=this.tileInfoView.getTileScale(e.key),n=bd(this._tilesByScale,s,()=>new Set),a=()=>{n.delete(e.key),n.size===0&&this._tilesByScale.delete(s),this._keyToItem.delete(i)};return n.add(e.key),this._keyToItem.set(i,e),r.then(a,a),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const i=new Set;for(const a of e)i.add(this._keyToItem.get(a).key);const r=this.state.scale;let s,n=Number.POSITIVE_INFINITY;for(const[a,o]of this._tilesByScale)if(NZ(o,l=>i.has(l))){const l=Math.abs(a-r);l<n&&(s=o,n=l)}return this._getClosestTileKey(s,e).id}_getClosestTileKey(e,i){const r=this.tileInfoView,s=this.state.center;let n,a=Number.POSITIVE_INFINITY;for(const o of e)if(i.has(o.id)){r.getTileCoords(GV,o);const l=dS(GV,s);l<a&&(a=l,n=o)}return n}};c([f({constructOnly:!0})],hu.prototype,"concurrency",void 0),c([f({constructOnly:!0})],hu.prototype,"priority",void 0),c([f({constructOnly:!0})],hu.prototype,"process",void 0),c([f({constructOnly:!0})],hu.prototype,"scheduler",void 0),c([f()],hu.prototype,"state",void 0),c([f({constructOnly:!0})],hu.prototype,"tileInfoView",void 0),hu=c([E("esri.views.2d.tiling.TileQueue")],hu);const rrt=hu;let yxe=class{constructor(e,i,r){this.maxSize=e,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const i=this._tilePerId.get(e);if(!i)return;const r=i.key.level,s=this._tileKeysPerLevel[r];HV(this._tilePerId,e);for(let n=0;n<s.length;n++)if(s[n].id===e){s.splice(n,1);break}return i.visible=!0,i}add(e){e.visible=!1;const i=e.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,e);const s=i.level;this._tileKeysPerLevel[s]||(this._tileKeysPerLevel[s]=[]),this._tileKeysPerLevel[s].push(i)}prune(e,i,r){let s=this._tilePerId.size;if(s<=this.maxSize)return;let n=this._tileKeysPerLevel.length-1;for(;s>this.maxSize&&n>=0;)n!==e&&(s=this._pruneAroundCenterTile(s,i,r,n)),n--;s>this.maxSize&&(s=this._pruneAroundCenterTile(s,i,r,e))}_pruneAroundCenterTile(e,i,r,s){const n=this._tileKeysPerLevel[s];if(!n||n.length===0)return e;const{size:a,origin:o}=this._tileInfoView.tileInfo,l=r*a[0],u=r*a[1],d=[0,0],h=[0,0];for(n.sort((p,m)=>(d[0]=o.x+l*(p.col+.5),d[1]=o.y-u*(p.row+.5),h[0]=o.x+l*(m.col+.5),h[1]=o.y-u*(m.row+.5),e8(d,i)-e8(h,i)));n.length>0;){const p=n.pop();if(this._removeTile(p.id),--e===this.maxSize)break}return e}_removeTile(e){const i=this._tilePerId.get(e);this._removedFunc&&i&&this._removedFunc(i),HV(this._tilePerId,e)}};function HV(t,e){t.delete(e)}const zh=new S1(0,0,0,0),Wc=new Map,rv=[],h$=[];let nrt=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,e.resampling!=null&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),e.buffer!=null&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new yxe(e.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(e){var w,_;const{resampling:i,tileIndex:r}=this,{scale:s,center:n,resolution:a}=e.state,{minScale:o,maxScale:l}=this.tileInfoView,u=!e.stationary&&s>this._previousScale;if(this._previousScale=s,!i&&(s>o||s<l))return this.tiles.length=0,void this.clear();const d=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!d)return this.tiles.length=0,void this.clear();const{spans:h,lodInfo:p}=d,{level:m}=p;this.tiles.length=0,r.forEach(S=>S.visible=!0);let g=0,b=0;if(h.length>0)for(const{row:S,colFrom:T,colTo:C}of h)for(let A=T;A<=C;A++){g++;const O=zh.set(m,S,p.normalizeCol(A),p.getWorldForColumn(A)).id;let L=r.get(O);if(L)L.isReady?(Wc.set(O,L),b++):u||this._addParentTile(O,Wc);else{if((w=this._tileCache)!=null&&w.has(O)){if(L=this._tileCache.pop(O),this.tileIndex.set(O,L),L.isReady){Wc.set(O,L),b++;continue}}else L=this.acquireTile(zh),this.tileIndex.set(O,L);u||this._addParentTile(O,Wc)}}const v=b===g;for(const[S,T]of r){if(Wc.has(S))continue;zh.set(S);const C=this.tileInfoView.intersects(d,zh),A=this.cachePolicy==="purge"?zh.level!==m:zh.level>m;!C||!u&&v?!A&&C||rv.push(T):T.isReady?A&&this.cachePolicy==="purge"&&this._hasReadyAncestor(zh,m)?rv.push(T):h$.push(T):A&&rv.push(T)}for(const S of h$)S.isReady&&Wc.set(S.key.id,S);for(const S of rv)this._tileCache?this._tileCache.add(S):this.releaseTile(S),r.delete(S.key.id);for(const S of Wc.values())this.tiles.push(S);for(const S of r.values())Wc.has(S.key.id)||(S.visible=!1);(_=this._tileCache)==null||_.prune(m,n,a),xR.pool.release(d),h$.length=0,rv.length=0,Wc.clear()}clear(){const{tileIndex:e}=this;for(const i of e.values())this.releaseTile(i);e.clear()}refresh(e){var i;for(const r of this.tileIndex.values())e(r);(i=this._tileCache)==null||i.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,i){var n;let r=e,s=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(s=this.tileIndex.get(r),s==null?void 0:s.isReady){i.has(s.key.id)||i.set(s.key.id,s);break}}else if((n=this._tileCache)!=null&&n.has(r)&&(s=this._tileCache.pop(r),this.tileIndex.set(r,s),s==null?void 0:s.isReady)){i.has(s.key.id)||i.set(s.key.id,s);break}}_hasReadyAncestor(e,i){const r=ei();this.tileInfoView.getTileBounds(r,e,!0);for(const s of this.tileIndex.values())if(s.isReady&&s.key.level>=i&&s.key.level<e.level){const n=ei();if(this.tileInfoView.getTileBounds(n,s.key,!0),xye(n,r))return!0}return!1}},gxe=class{constructor(e,i={}){this.events=new ha,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,e!=null?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),e.contains(this._canvas)||e.appendChild(this._canvas)):i.canvas!=null&&(this._canvas=i.canvas);const r={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let s=this._canvas.getContext("webgl2",r);s||(s=this._canvas.getContext("webgl2",{...r,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=s,this._handles=r0([s1(this._canvas,"webglcontextlost",n=>this.events.emit("webgl-context-lost",n))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,i){if(this._hasMajorPerformanceCaveat||q("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=q("esri-performance-mode-frames-between-render")&&(i(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[r,s,n,a,o,l]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${r}, ${s}, ${n}, ${a}, ${o}, ${l})`}}else i()}resize(e){const i=this._canvas,r=i.style,{state:{size:s},pixelRatio:n}=e,a=s[0],o=s[1],l=Math.round(a*n),u=Math.round(o*n);i.width===l&&i.height===u||(i.width=l,i.height=u),r.width=a+"px",r.height=o+"px"}_computeViewTransform(e,i){const[r,s]=e.center,[n,a]=i.center,[o,l]=e.toScreen([0,0],n,a),[u,d]=e.toScreen([0,0],r,s),h=u-o,p=d-l,m=e.scale/i.scale,g=i.rotation-e.rotation,b=Lc();return p3(b),m3(b,b,[m,m]),gh(b,b,wc(g)),Pc(b,b,[h,p]),b}};function bxe(t,e,i,r,s){Mie(t,e,i||0,r||t.length-1,s||vxe)}function Mie(t,e,i,r,s){for(;r>i;){if(r-i>600){var n=r-i+1,a=e-i+1,o=Math.log(n),l=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*l*(n-l)/n)*(a-n/2<0?-1:1);Mie(t,e,Math.max(i,Math.floor(e-a*l/n+u)),Math.min(r,Math.floor(e+(n-a)*l/n+u)),s)}var d=t[e],h=i,p=r;for(sv(t,i,e),s(t[r],d)>0&&sv(t,i,r);h<p;){for(sv(t,h,p),h++,p--;s(t[h],d)<0;)h++;for(;s(t[p],d)>0;)p--}s(t[i],d)===0?sv(t,i,p):sv(t,++p,r),p<=e&&(i=p+1),e<=p&&(r=p-1)}}function sv(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function vxe(t,e){return t<e?-1:t>e?1:0}function p8(t,e){if(!(this instanceof p8))return new p8(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&(typeof e=="function"?this.toBBox=e:this._initFormat(e)),this.clear()}function wxe(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function k0(t,e){l2(t,0,t.children.length,e,t)}function l2(t,e,i,r,s){s||(s=oy(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var n,a=e;a<i;a++)n=t.children[a],c2(s,t.leaf?r(n):n);return s}function c2(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function WV(t,e){return t.minX-e.minX}function ZV(t,e){return t.minY-e.minY}function p$(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d5(t){return t.maxX-t.minX+(t.maxY-t.minY)}function _xe(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Sxe(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),n=Math.min(t.maxY,e.maxY);return Math.max(0,s-i)*Math.max(0,n-r)}function m$(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f5(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function oy(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function JV(t,e,i,r,s){for(var n,a=[e,i];a.length;)(i=a.pop())-(e=a.pop())<=r||(n=e+Math.ceil((i-e)/r/2)*r,bxe(t,n,e,i,s),a.push(e,n,n,i))}p8.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!f5(t,e))return i;for(var s,n,a,o,l=[];e;){for(s=0,n=e.children.length;s<n;s++)a=e.children[s],f5(t,o=e.leaf?r(a):a)&&(e.leaf?i.push(a):m$(t,o)?this._all(a,i):l.push(a));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!f5(t,e))return!1;for(var r,s,n,a,o=[];e;){for(r=0,s=e.children.length;r<s;r++)if(n=e.children[r],f5(t,a=e.leaf?i(n):n)){if(e.leaf||m$(t,a))return!0;o.push(n)}e=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var s=this.data;this.data=r,r=s}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t!=null&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=oy([]),this},remove:function(t,e){if(t==null)return this;for(var i,r,s,n,a=this.data,o=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],i=u.pop(),n=!0),a.leaf&&(s=wxe(t,a.children,e))!==-1)return a.children.splice(s,1),l.push(a),this._condense(l),this;n||a.leaf||!m$(a,o)?r?(i++,a=r.children[i],n=!1):a=null:(l.push(a),u.push(i),i=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:WV,compareMinY:ZV,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var s,n=i-e+1,a=this._maxEntries;if(n<=a)return k0(s=oy(t.slice(e,i+1)),this.toBBox),s;r||(r=Math.ceil(Math.log(n)/Math.log(a)),a=Math.ceil(n/Math.pow(a,r-1))),(s=oy([])).leaf=!1,s.height=r;var o,l,u,d,h=Math.ceil(n/a),p=h*Math.ceil(Math.sqrt(a));for(JV(t,e,i,p,this.compareMinX),o=e;o<=i;o+=p)for(JV(t,o,u=Math.min(o+p-1,i),h,this.compareMinY),l=o;l<=u;l+=h)d=Math.min(l+h-1,u),s.children.push(this._build(t,l,d,r-1));return k0(s,this.toBBox),s},_chooseSubtree:function(t,e,i,r){for(var s,n,a,o,l,u,d,h;r.push(e),!e.leaf&&r.length-1!==i;){for(d=h=1/0,s=0,n=e.children.length;s<n;s++)l=p$(a=e.children[s]),(u=_xe(t,a)-l)<h?(h=u,d=l<d?l:d,o=a):u===h&&l<d&&(d=l,o=a);e=o||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,s=i?t:r(t),n=[],a=this._chooseSubtree(s,this.data,e,n);for(a.children.push(t),c2(a,s);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(s,n,e)},_split:function(t,e){var i=t[e],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);var n=this._chooseSplitIndex(i,s,r),a=oy(i.children.splice(n,i.children.length-n));a.height=i.height,a.leaf=i.leaf,k0(i,this.toBBox),k0(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=oy([t,e]),this.data.height=t.height+1,this.data.leaf=!1,k0(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,s,n,a,o,l,u,d;for(l=u=1/0,r=e;r<=i-e;r++)a=Sxe(s=l2(t,0,r,this.toBBox),n=l2(t,r,i,this.toBBox)),o=p$(s)+p$(n),a<l?(l=a,d=r,u=o<u?o:u):a===l&&o<u&&(u=o,d=r);return d},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:WV,s=t.leaf?this.compareMinY:ZV;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,s)&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var s,n,a=this.toBBox,o=l2(t,0,e,a),l=l2(t,i-e,i,a),u=d5(o)+d5(l);for(s=e;s<i-e;s++)n=t.children[s],c2(o,t.leaf?a(n):n),u+=d5(o);for(s=i-e-1;s>=e;s--)n=t.children[s],c2(l,t.leaf?a(n):n),u+=d5(l);return u},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)c2(e[r],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():k0(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};function xxe(t,{timeZone:e,timeExtent:i}){return{$view:{scale:t,timeZone:e,timeProperties:{currentStart:i==null?void 0:i.start,currentEnd:i==null?void 0:i.end}}}}let YV=class Cie{constructor(e,i){this.key=new S1(0,0,0,0),this.bounds=ei(),this.objectIds=new Set,this.key.set(i);const r=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=e.zoomToScale(r.level-1),this.maxScale=e.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return wye(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return xxe(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),i=Vs.acquire();for(let r=0;r<e.length;r++)i[r]=new Cie(this.tileInfoView,e[r]);return i}getQuantizationParameters(){return zu.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Vh={added:[],removed:[]},y$=new Set,$xe=new S1(0,0,0,0);function Txe(t,e){const i=xs(e);if(!i)return null;const[r,s]=i.valid;return t[2]>s?[ei([t[0],t[1],s,t[3]]),ei([r,t[1],r+t[2]-s,t[3]])]:t[0]<r?[ei([r,t[1],t[2],t[3]]),ei([s-(r-t[0]),t[1],s,t[3]])]:null}let Ixe=class extends ha{constructor(e){super(),this._tiles=new Map,this._index=p8(9,q("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||L7(e)===0||R7(e)===0)return[];const i=Txe(e,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const i={added:[],removed:[]};for(const r of e.added)if(!this.has(r)){const s=new YV(this.tileScheme,r);this._tiles.set(r,s),this._index.insert(s),i.added.push(s)}for(const r of e.removed)if(this.has(r)){const s=this.get(r);this._tiles.delete(r),this._index.remove(s),i.removed.push(s)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(e){const i=this.tileScheme.getTileCoverage(e,0);if(!i)return;const{spans:r,lodInfo:s}=i,{level:n}=s;if(r.length>0)for(const{row:a,colFrom:o,colTo:l}of r)for(let u=o;u<=l;u++){const d=$xe.set(n,a,s.normalizeCol(u),s.getWorldForColumn(u)).id;if(y$.add(d),!this.has(d)){const h=new YV(this.tileScheme,d);this._tiles.set(d,h),this._index.insert(h),this.tiles.push(h),Vh.added.push(h)}}for(let a=this.tiles.length-1;a>=0;a--){const o=this.tiles[a];y$.has(o.id)||(this._tiles.delete(o.id),this.tiles.splice(a,1),this._index.remove(o),Vh.removed.push(o))}(Vh.added.length||Vh.removed.length)&&this.emit("update",Vh),xR.pool.release(i),y$.clear(),Vh.added.length=0,Vh.removed.length=0}};const crt=1e-30,ag=512,h5=16777216,urt=8,kie=29,Aie=24,drt=4,frt=0,hrt=0,prt=0,mrt=1,yrt=2,grt=3,brt=4,vrt=5,wrt=6,_rt=12,Srt=13,xrt=5,Exe=6,$rt=5,Trt=6;var XV;(function(t){t[t.FilterFlags=0]="FilterFlags",t[t.Animation=1]="Animation",t[t.GPGPU=2]="GPGPU",t[t.VV=3]="VV",t[t.DD0=4]="DD0",t[t.DD1=5]="DD1",t[t.DD2=6]="DD2",t[t.LocalTimeOrigin=7]="LocalTimeOrigin"})(XV||(XV={}));const Pie=6,Mxe=1<<Pie,Irt=Mxe<<1,Ert=1.05,Mrt=3,Crt=1,Cxe=3,kxe=3,krt=5,Art=6,Prt=1.15,Axe=4,Lrt=128,Pxe=256,Rrt=Pxe-2*Axe,Ort=2,Frt=128,Lie=1,Nrt=10,Lxe=1024,Drt=128,zrt=4,Vrt=1,jrt=1<<20,qrt=.75,Brt=10,Urt=.75,Grt=256,Rxe=32,Oxe=512,Hrt=0,Wrt=1,Fxe=1,Zrt=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],Jrt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],nv=256;var QV,KV,ej,tj,ij,cC,rj,sj,_l,uC,mw,ui,m8,qa,dC,Qi,Se,y8,Bb,$m,fC,t_,nj,aj,oj;(function(t){t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t[t.COLOR=16384]="COLOR"})(QV||(QV={})),function(t){t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(KV||(KV={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(ej||(ej={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(tj||(tj={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(ij||(ij={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(cC||(cC={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(rj||(rj={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(sj||(sj={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=5131]="HALF_FLOAT"}(_l||(_l={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(uC||(uC={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(mw||(mw={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(ui||(ui={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(m8||(m8={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(qa||(qa={})),function(t){t[t.MIN_LOD=33082]="MIN_LOD",t[t.MAX_LOD=33083]="MAX_LOD",t[t.BASE_LEVEL=33084]="BASE_LEVEL",t[t.MAX_LEVEL=33085]="MAX_LEVEL",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE"}(dC||(dC={})),function(t){t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(Qi||(Qi={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(Se||(Se={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(y8||(y8={})),function(t){t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(Bb||(Bb={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F"}($m||($m={})),function(t){t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8"}(fC||(fC={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(t_||(t_={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(nj||(nj={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(aj||(aj={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(oj||(oj={}));const Yrt=33984;var g8,lj;(function(t){t[t.Texture=0]="Texture",t[t.TileTexture=1]="TileTexture",t[t.BufferObject=2]="BufferObject",t[t.VertexArrayObject=3]="VertexArrayObject",t[t.Shader=4]="Shader",t[t.Program=5]="Program",t[t.FramebufferObject=6]="FramebufferObject",t[t.Renderbuffer=7]="Renderbuffer",t[t.TransformFeedback=8]="TransformFeedback",t[t.Sync=9]="Sync",t[t.UNCOUNTED=10]="UNCOUNTED",t[t.LinesOfCode=10]="LinesOfCode",t[t.Uniform=11]="Uniform",t[t.COUNT=12]="COUNT"})(g8||(g8={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(lj||(lj={}));const Xrt=36064,Qrt=36065,Krt=36066,est=33306,tst=36096,ist=36128;var kr,cj,uj,dj,fj,hj,pj,hf,mj;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(kr||(kr={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(cj||(cj={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(uj||(uj={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(dj||(dj={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(fj||(fj={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(hj||(hj={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(pj||(pj={})),function(t){t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL"}(hf||(hf={})),function(t){t[t.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR"}(mj||(mj={}));const Nxe=()=>W.getLogger("esri.views.webgl.checkWebGLError");function Dxe(t){switch(t){case hf.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case hf.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case hf.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case hf.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case hf.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case hf.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const Rie=!!q("enable-feature:webgl-debug");function Oie(){return Rie}function rst(){return Rie}function jh(t,e=Oie()){if(e){const i=t.getError();if(i){const r=Dxe(i),s=new Error().stack;Nxe().error(new P("webgl-error","WebGL error occurred",{message:r,stack:s}))}}}var b8;(function(t){t[t.TextureDescriptor=0]="TextureDescriptor",t[t.Texture=1]="Texture",t[t.Renderbuffer=2]="Renderbuffer"})(b8||(b8={}));function zxe(t){switch(t){case _l.BYTE:case _l.UNSIGNED_BYTE:return 1;case _l.SHORT:case _l.UNSIGNED_SHORT:case _l.HALF_FLOAT:return 2;case _l.FLOAT:case _l.INT:case _l.UNSIGNED_INT:return 4}}function Vxe(t){const e=t.gl;switch(e.getError()){case e.NO_ERROR:return null;case e.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case e.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case e.INVALID_OPERATION:return"The specified command is not allowed for the current state";case e.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case e.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case e.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function sst(t,e,i,r,s=0){var a;const n=t.gl;t.bindBuffer(i);for(const o of r){const l=e.get(o.name);if(l==null){console.warn(`There is no location for vertex attribute '${o.name}' defined.`);continue}const u=s*o.stride;if(o.count<=4)n.vertexAttribPointer(l,o.count,o.type,o.normalized,o.stride,o.offset+u),n.enableVertexAttribArray(l),o.divisor>0&&t.gl.vertexAttribDivisor(l,o.divisor);else if(o.count===9)for(let d=0;d<3;d++)n.vertexAttribPointer(l+d,3,o.type,o.normalized,o.stride,o.offset+12*d+u),n.enableVertexAttribArray(l+d),o.divisor>0&&t.gl.vertexAttribDivisor(l+d,o.divisor);else if(o.count===16)for(let d=0;d<4;d++)n.vertexAttribPointer(l+d,4,o.type,o.normalized,o.stride,o.offset+16*d+u),n.enableVertexAttribArray(l+d),o.divisor>0&&((a=t.gl)==null||a.vertexAttribDivisor(l+d,o.divisor));else console.error("Unsupported vertex attribute element count: "+o.count);if(Oie()){const d=Vxe(t),h=zxe(o.type),p=o.offset,m=Math.round(h/p)!==h/p?`. Offset not a multiple of stride. DataType requires ${h} bytes, but descriptor has an offset of ${p}`:"";d&&console.error(`Unable to bind vertex attribute "${o.name}" with baseInstanceOffset ${u}${m}:`,d,o)}}}function nst(t,e,i,r){var n,a,o;const s=t.gl;t.bindBuffer(i);for(const l of r){const u=e.get(l.name);if(l.count<=4)s.disableVertexAttribArray(u),l.divisor&&l.divisor>0&&((n=t.gl)==null||n.vertexAttribDivisor(u,0));else if(l.count===9)for(let d=0;d<3;d++)s.disableVertexAttribArray(u+d),l.divisor&&l.divisor>0&&((a=t.gl)==null||a.vertexAttribDivisor(u+d,0));else if(l.count===16)for(let d=0;d<4;d++)s.disableVertexAttribArray(u+d),l.divisor&&l.divisor>0&&((o=t.gl)==null||o.vertexAttribDivisor(u+d,0));else console.error("Unsupported vertex attribute element count: "+l.count)}t.unbindBuffer(cC.ARRAY_BUFFER)}function jxe(t){switch(t){case Qi.ALPHA:case Qi.LUMINANCE:case Qi.RED:case Qi.RED_INTEGER:case Se.R8:case Se.R8I:case Se.R8UI:case Se.R8_SNORM:case fC.STENCIL_INDEX8:return 1;case Qi.LUMINANCE_ALPHA:case Qi.RG:case Qi.RG_INTEGER:case Se.RGBA4:case Se.R16F:case Se.R16I:case Se.R16UI:case Se.RG8:case Se.RG8I:case Se.RG8UI:case Se.RG8_SNORM:case Se.RGB565:case Se.RGB5_A1:case $m.DEPTH_COMPONENT16:return 2;case Qi.RGB:case Qi.RGB_INTEGER:case Se.RGB8:case Se.RGB8I:case Se.RGB8UI:case Se.RGB8_SNORM:case Se.SRGB8:case $m.DEPTH_COMPONENT24:return 3;case Qi.RGBA:case Qi.RGBA_INTEGER:case Se.RGBA8:case Se.R32F:case Se.R11F_G11F_B10F:case Se.RG16F:case Se.R32I:case Se.R32UI:case Se.RG16I:case Se.RG16UI:case Se.RGBA8I:case Se.RGBA8UI:case Se.RGBA8_SNORM:case Se.SRGB8_ALPHA8:case Se.RGB9_E5:case Se.RGB10_A2UI:case Se.RGB10_A2:case $m.DEPTH_COMPONENT32F:case Bb.DEPTH24_STENCIL8:return 4;case Bb.DEPTH32F_STENCIL8:return 5;case Se.RGB16F:case Se.RGB16I:case Se.RGB16UI:return 6;case Se.RG32F:case Se.RG32I:case Se.RG32UI:case Se.RGBA16F:case Se.RGBA16I:case Se.RGBA16UI:return 8;case Se.RGB32F:case Se.RGB32I:case Se.RGB32UI:return 12;case Se.RGBA32F:case Se.RGBA32I:case Se.RGBA32UI:return 16;case kr.COMPRESSED_RGB_S3TC_DXT1_EXT:case kr.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case kr.COMPRESSED_RGBA_S3TC_DXT3_EXT:case kr.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case kr.COMPRESSED_R11_EAC:case kr.COMPRESSED_SIGNED_R11_EAC:case kr.COMPRESSED_RGB8_ETC2:case kr.COMPRESSED_SRGB8_ETC2:case kr.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case kr.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case kr.COMPRESSED_RG11_EAC:case kr.COMPRESSED_SIGNED_RG11_EAC:case kr.COMPRESSED_RGBA8_ETC2_EAC:case kr.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let Fie=class{constructor(e=0,i=e){this.width=e,this.height=i,this.type=b8.TextureDescriptor,this.target=qa.TEXTURE_2D,this.pixelFormat=Qi.RGBA,this.dataType=t_.UNSIGNED_BYTE,this.samplingMode=ui.LINEAR,this.wrapMode=m8.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}};function qxe(t){return t.width<=0||t.height<=0||t.depth<=0?0:Math.round(t.width*t.height*t.depth*(t.hasMipmap?4/3:1)*(t.internalFormat==null?4:jxe(t.internalFormat))*(t.target===qa.TEXTURE_CUBE_MAP?6:1))}const av=()=>W.getLogger("esri/views/webgl/textureUtils");function ov(t){const{width:e,height:i,depth:r}=t;(e!=null&&e<0||i!=null&&i<0||r!=null&&r<0)&&av().error("Negative dimension parameters are not allowed!");const{internalFormat:s}=t;if(s&&(Nie(s)||Die(s))){const{linearFilterDepth:n,compareEnabled:a,samplingMode:o,hasMipmap:l}=t;l&&av().error("Depth textures cannot have mipmaps"),n?o!==ui.LINEAR&&o!==ui.NEAREST&&av().error("Depth textures cannot sample mipmaps"):(o!==ui.NEAREST&&av().error("Depth textures without filtering must use NEAREST filtering"),a&&av().error("Depth textures without filtering cannot use compare function"))}}function Bxe(t){return t in Se}function Nie(t){return t in $m}function Die(t){return t in Bb}function Uxe(t){return t!=null&&t in kr}function ly(t){return t!=null&&"type"in t&&t.type==="compressed"}function Gxe(t){return t!=null&&"byteLength"in t}function yj(t){return t!=null&&!ly(t)&&!Gxe(t)}function A0(t){return t===qa.TEXTURE_3D||t===qa.TEXTURE_2D_ARRAY}function gj(t,e,i,r=1){let s=Math.max(e,i);return t===qa.TEXTURE_3D&&(s=Math.max(s,r)),Math.floor(Math.log2(s))+1}function p5(t){if(t.internalFormat!=null)return t.internalFormat;switch(t.dataType){case t_.FLOAT:switch(t.pixelFormat){case Qi.RGBA:return Se.RGBA32F;case Qi.RGB:return Se.RGB32F;default:throw new P("texture:unknown-format","Unable to derive format")}case t_.UNSIGNED_BYTE:switch(t.pixelFormat){case Qi.RGBA:return Se.RGBA8;case Qi.RGB:return Se.RGB8}}const{pixelFormat:e}=t;return t.internalFormat=e===y8.DEPTH_STENCIL?Bb.DEPTH24_STENCIL8:e===y8.DEPTH_COMPONENT?$m.DEPTH_COMPONENT24:e,t.internalFormat}function Hxe(t){let e="width"in t?t.width:t.codedWidth,i="height"in t?t.height:t.codedHeight;return t instanceof HTMLVideoElement&&(e=t.videoWidth,i=t.videoHeight),{width:e,height:i,depth:1}}let Wxe=class zie extends Fie{constructor(e,i){switch(super(),this.context=e,Object.assign(this,i),this.internalFormat){case Se.R16F:case Se.R32F:case Se.R8_SNORM:case Se.R8:this.pixelFormat=Qi.RED;break;case Se.R8I:case Se.R8UI:case Se.R16I:case Se.R16UI:case Se.R32I:case Se.R32UI:this.pixelFormat=Qi.RED_INTEGER}}static validate(e,i){return new zie(e,i)}};const Zc=()=>W.getLogger("esri/views/webgl/Texture");var nr;let Zxe=(nr=class{constructor(e,i=null,r=null){if(this.type=b8.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,r=i;else{const s=Wxe.validate(e,i);if(!s)throw new P("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=s}this._descriptor.target===qa.TEXTURE_CUBE_MAP?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return qxe(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this._descriptor.context.gl&&this.hasWebGLTextureObject&&(this._descriptor.context.instanceCounter.decrement(g8.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(e,i){const r=this._descriptor;if(r.width!==e||r.height!==i){if(this._wasImmutablyAllocated)throw new P("texture:immutable-resize","Immutable textures can't be resized!");r.width=e,r.height=i,this._descriptor.target===qa.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!ly(e)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in kr&&(this._descriptor.internalFormat=void 0),this._setData(e),!ly(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(e,i,r,s,n,a,o=0){a||Zc().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||Zc().error("An attempt to update uninitialized texture!");const l=this._descriptor;l.internalFormat=p5(l);const{context:u,pixelFormat:d,dataType:h,target:p,isImmutable:m}=l;if(m&&!this._wasImmutablyAllocated)throw new P("texture:uninitialized","Cannot update immutable texture before allocation!");const g=u.bindTexture(this,nr.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+s>l.width||r+n>l.height)&&Zc().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:b}=u;o&&(s&&n||Zc().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),b.pixelStorei(b.UNPACK_SKIP_ROWS,o)),yj(a)?b.texSubImage2D(p,e,i,r,s,n,d,h,a):ly(a)?b.compressedTexSubImage2D(p,e,i,r,s,n,l.internalFormat,a.levels[e]):b.texSubImage2D(p,e,i,r,s,n,d,h,a),o&&b.pixelStorei(b.UNPACK_SKIP_ROWS,0),u.bindTexture(g,nr.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(e,i,r,s,n,a,o,l){l||Zc().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||Zc().error("An attempt to update an uninitialized texture!");const u=this._descriptor;u.internalFormat=p5(u);const{context:d,pixelFormat:h,dataType:p,isImmutable:m,target:g}=u;if(m&&!this._wasImmutablyAllocated)throw new P("texture:uninitialized","Cannot update immutable texture before allocation!");A0(g)||Zc().warn("Attempting to set 3D texture data on a non-3D texture");const b=d.bindTexture(this,nr.TEXTURE_UNIT_FOR_UPDATES);d.setActiveTexture(nr.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||s<0||i+n>u.width||r+a>u.height||s+o>u.depth)&&Zc().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:v}=d;if(ly(l))l=l.levels[e],v.compressedTexSubImage3D(g,e,i,r,s,n,a,o,u.internalFormat,l);else{const w=l;v.texSubImage3D(g,e,i,r,s,n,a,o,h,p,w)}d.bindTexture(b,nr.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const e=this._descriptor;if(e.width===0||e.height===0)return;if(!e.hasMipmap){if(this._wasImmutablyAllocated)throw new P("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");e.hasMipmap=!0,this._samplingModeDirty=!0,ov(e)}e.samplingMode===ui.LINEAR?(this._samplingModeDirty=!0,e.samplingMode=ui.LINEAR_MIPMAP_NEAREST):e.samplingMode===ui.NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=ui.NEAREST_MIPMAP_NEAREST);const i=this._descriptor.context.bindTexture(this,nr.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(nr.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(e.target),this._descriptor.context.bindTexture(i,nr.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new P("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,ov(e)}e.samplingMode===ui.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,e.samplingMode=ui.LINEAR):e.samplingMode===ui.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=ui.NEAREST)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,ov(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?ui.LINEAR:ui.NEAREST),ov(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=bs(this._compressionAbortController)}_setData(e,i){var l;const r=this._descriptor,s=(l=r.context)==null?void 0:l.gl;if(!s)return;jh(s),this.hasWebGLTextureObject||(this._glName=s.createTexture(),r.context.instanceCounter.increment(g8.Texture,this)),ov(r);const n=r.context.bindTexture(this,nr.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(nr.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),jh(s);const a=i??r.target,o=A0(a);if(yj(e))this._setDataFromTexImageSource(e,a);else{const{width:u,height:d,depth:h}=r;if(u==null||d==null)throw new P("texture:missing-size","Width and height must be specified!");if(o&&h==null)throw new P("texture:missing-depth","Depth must be specified!");if(r.internalFormat=p5(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(a,r.internalFormat,r.hasMipmap,u,d,h),ly(e)){if(!Uxe(r.internalFormat))throw new P("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(e,r.internalFormat,a)}else this._texImage(a,0,r.internalFormat,u,d,h,e),jh(s),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),jh(s),r.context.bindTexture(n,nr.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let i=qa.TEXTURE_CUBE_MAP_POSITIVE_X;i<=qa.TEXTURE_CUBE_MAP_NEGATIVE_Z;i++)this._setData(e,i)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:s}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,i),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s?1:0)}_setDataFromTexImageSource(e,i){const{gl:r}=this._descriptor.context,s=this._descriptor;s.internalFormat=p5(s);const n=A0(i),{width:a,height:o,depth:l}=Hxe(e);s.width&&s.height,s.width||(s.width=a),s.height||(s.height=o),n&&s.depth,n&&(s.depth=l),s.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,s.internalFormat,s.hasMipmap,a,o,l),this._texImage(i,0,s.internalFormat,a,o,l,e),jh(r),s.hasMipmap&&(this.generateMipmap(),jh(r))}_setDataFromCompressedSource(e,i,r){const s=this._descriptor,{width:n,height:a,depth:o}=s,l=e.levels,u=gj(r,n,a,o),d=Math.min(u,l.length)-1;this._descriptor.context.gl.texParameteri(s.target,dC.MAX_LEVEL,d),this._forEachMipmapLevel((h,p,m,g)=>{const b=l[Math.min(h,l.length-1)];this._compressedTexImage(r,h,i,p,m,g,b)},d)}_texStorage(e,i,r,s,n,a){const{gl:o}=this._descriptor.context;if(!Bxe(i)&&!Nie(i)&&!Die(i))throw new P("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=r?gj(e,s,n,a):1;if(A0(e)){if(a==null)throw new P("texture:missing-depth","Missing depth dimension for 3D texture upload");o.texStorage3D(e,l,i,s,n,a)}else o.texStorage2D(e,l,i,s,n);this._wasImmutablyAllocated=!0}_texImage(e,i,r,s,n,a,o){const l=this._descriptor.context.gl,u=A0(e),{isImmutable:d,pixelFormat:h,dataType:p}=this._descriptor;if(d){if(o!=null){const m=o;if(u){if(a==null)throw new P("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texSubImage3D(e,i,0,0,0,s,n,a,h,p,m)}else l.texSubImage2D(e,i,0,0,s,n,h,p,m)}}else{const m=o;if(u){if(a==null)throw new P("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texImage3D(e,i,r,s,n,a,0,h,p,m)}else l.texImage2D(e,i,r,s,n,0,h,p,m)}}_compressedTexImage(e,i,r,s,n,a,o){const l=this._descriptor.context.gl,u=A0(e);if(this._descriptor.isImmutable){if(o!=null)if(u){if(a==null)throw new P("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(e,i,0,0,0,s,n,a,r,o)}else l.compressedTexSubImage2D(e,i,0,0,s,n,r,o)}else if(u){if(a==null)throw new P("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexImage3D(e,i,r,s,n,a,0,o)}else l.compressedTexImage2D(e,i,r,s,n,0,o)}async _compressOnWorker(e){var m,g,b,v;const{width:i,height:r,context:s,flipped:n,preMultiplyAlpha:a,hasMipmap:o}=this._descriptor,l=(m=this._descriptor.compress)==null?void 0:m.compressionTracker,u=(g=this._descriptor.compress)==null?void 0:g.compressionCallback,{compressedTextureETC:d,compressedTextureS3TC:h}=s.capabilities;if(!((b=nr.compressionWorkerHandle)!=null&&b.isCompressible(e,this._descriptor))||!d&&!h)return;this.abortCompression();const p=new AbortController;this._compressionAbortController=p,l==null||l.increment();try{let w;e instanceof Uint8Array?w=e.buffer:(w=await createImageBitmap(e,{imageOrientation:n?"flipY":"none"}),ze(p));const _={data:w,width:i,height:r,needsFlip:e instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===Qi.RGBA?4:3,preMultiplyAlpha:a,hasMipmap:o,hasETC:!!d,hasS3TC:!!h},S=await nr.compressionWorkerHandle.invoke(_,p.signal,"low");if(ze(p),S.compressedTexture&&this.hasWebGLTextureObject){const T=this.usedMemory;this._descriptor.internalFormat=S.internalFormat,this._setData(S.compressedTexture),u==null||u(T-this.usedMemory)}}catch(w){tr(w)||Zc().error("Texture compression failed!")}finally{l==null||l.decrement(),(v=this._compressionAbortController)!=null&&v.signal.aborted&&(this._compressionAbortController=null)}}_forEachMipmapLevel(e,i=1/0){let{width:r,height:s,depth:n,hasMipmap:a,target:o}=this._descriptor;const l=o===qa.TEXTURE_3D;if(r==null||s==null||l&&n==null)throw new P("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let u=0;e(u,r,s,n),a&&(r!==1||s!==1||l&&n!==1)&&!(u>=i);++u)r=Math.max(1,r>>1),s=Math.max(1,s>>1),l&&(n=Math.max(1,n>>1))}_applySamplingMode(){var n;const e=this._descriptor,i=(n=e.context)==null?void 0:n.gl;let r=e.samplingMode,s=e.samplingMode;r===ui.LINEAR_MIPMAP_NEAREST||r===ui.LINEAR_MIPMAP_LINEAR?(r=ui.LINEAR,e.hasMipmap||(s=ui.LINEAR)):r!==ui.NEAREST_MIPMAP_NEAREST&&r!==ui.NEAREST_MIPMAP_LINEAR||(r=ui.NEAREST,e.hasMipmap||(s=ui.NEAREST)),i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,s)}_applyWrapMode(){var r;const e=this._descriptor,i=(r=e.context)==null?void 0:r.gl;typeof e.wrapMode=="number"?(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode)):(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode.s),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){var s;const e=this._descriptor,i=(s=e.context)==null?void 0:s.gl,r=e.compareEnabled?i.COMPARE_REF_TO_TEXTURE:i.NONE;i.texParameteri(e.target,i.TEXTURE_COMPARE_MODE,r),e.compareEnabled&&i.texParameteri(e.target,i.TEXTURE_COMPARE_FUNC,i.GREATER),jh(i)}_applyAnisotropicFilteringParameters(){const e=this._descriptor,i=e.context.capabilities.textureFilterAnisotropic;i&&e.context.gl.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}},nr.TEXTURE_UNIT_FOR_UPDATES=0,nr.compressionWorkerHandle=null,nr);const g$=()=>W.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function Jxe(t,e){e.fillColor[0]=t.color.r/255,e.fillColor[1]=t.color.g/255,e.fillColor[2]=t.color.b/255,e.fillColor[3]=t.color.a,t.haloColor?(e.outlineColor[0]=t.haloColor.r/255,e.outlineColor[1]=t.haloColor.g/255,e.outlineColor[2]=t.haloColor.b/255,e.outlineColor[3]=t.haloColor.a):(e.outlineColor[0]=e.fillColor[0],e.outlineColor[1]=e.fillColor[1],e.outlineColor[2]=e.fillColor[2],e.outlineColor[3]=e.fillColor[3]),e.fillColor[3]*=t.fillOpacity,e.outlineColor[3]*=t.haloOpacity,e.fillColor[0]*=e.fillColor[3],e.fillColor[1]*=e.fillColor[3],e.fillColor[2]*=e.fillColor[3],e.outlineColor[0]*=e.outlineColor[3],e.outlineColor[1]*=e.outlineColor[3],e.outlineColor[2]*=e.outlineColor[3],e.outlineWidth=(1-t.haloBlur)*t.haloWidth,e.outerHaloWidth=t.haloBlur*t.haloWidth/2,e.innerHaloWidth=t.haloBlur*t.haloWidth/2,e.outlinePosition=0}const Yxe=[0,0,0,0];let Vie=class{constructor(){this.type="single",this._highlightOptions=new Jf,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*nv),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,i){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,Exe),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var e;(e=this._shadeTex)==null||e.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<Pie)-1,activeGradient:this}]}_updateGradientTexture(e){const i=Xxe(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,Jxe(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,s=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,n=r.outlinePosition-r.outlineWidth/2,a=r.outlinePosition+r.outlineWidth/2,o=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,l=Math.sqrt(Math.PI/2)*Fxe,u=Math.abs(s)>l?Math.round(10*(Math.abs(s)-l))/10:0,d=Math.abs(o)>l?Math.round(10*(Math.abs(o)-l))/10:0;let h;u&&!d?g$().error("The outer rim of the highlight is "+u+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!u&&d?g$().error("The inner rim of the highlight is "+d+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):u&&d&&g$().error("The highlight is "+Math.max(u,d)+"px away from the edge of the feature; consider reducing some width values.");const p=[void 0,void 0,void 0,void 0];function m(b,v,w){p[0]=(1-w)*b[0]+w*v[0],p[1]=(1-w)*b[1]+w*v[1],p[2]=(1-w)*b[2]+w*v[2],p[3]=(1-w)*b[3]+w*v[3]}const{_texelData:g}=this;for(let b=0;b<nv;++b)h=s+b/(nv-1)*(o-s),h<s?(p[0]=0,p[1]=0,p[2]=0,p[3]=0):h<n?m(Yxe,r.outlineColor,(h-s)/(n-s)):h<a?[p[0],p[1],p[2],p[3]]=r.outlineColor:h<o?m(r.outlineColor,r.fillColor,(h-a)/(o-a)):[p[0],p[1],p[2],p[3]]=r.fillColor,g[4*b]=255*p[0],g[4*b+1]=255*p[1],g[4*b+2]=255*p[2],g[4*b+3]=255*p[3];if(this._minMaxDistance[0]=s,this._minMaxDistance[1]=o,!this._shadeTex){const b=new Fie;b.wrapMode=m8.CLAMP_TO_EDGE,b.width=nv,b.height=1,this._shadeTex=new Zxe(e,b)}this._shadeTex.updateData(0,0,0,nv,1,this._texelData)}};function Xxe(t){return`${t.color};${t.haloColor};${t.haloOpacity};${t.fillOpacity};${t.haloWidth};${t.haloBlur}`}let Qxe=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let i=0;i<e.length;i++)this.gradients[i]||(this.gradients[i]=new Vie),this.gradients[i].setHighlightOptions(e[i]);for(let i=e.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const i=[];for(let r=0;r<this.gradients.length;r++){const s=this.gradients[r];i.push({activeReasons:e,activeGradient:s}),e<<=1}return i}};var bj,vj,wj,_j,Sj,xj,v8,$j,Tj;(function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT",t[t.LABEL=4]="LABEL"})(bj||(bj={})),function(t){t[t.NONE=0]="NONE",t[t.MAP=1]="MAP",t[t.LABEL=2]="LABEL",t[t.LABEL_ALPHA=4]="LABEL_ALPHA",t[t.HITTEST=8]="HITTEST",t[t.HIGHLIGHT=16]="HIGHLIGHT",t[t.CLIP=32]="CLIP",t[t.DEBUG=64]="DEBUG",t[t.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(vj||(vj={})),function(t){t[t.SIZE=0]="SIZE",t[t.COLOR=1]="COLOR",t[t.OPACITY=2]="OPACITY",t[t.ROTATION=3]="ROTATION"}(wj||(wj={})),function(t){t[t.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",t[t.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",t[t.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",t[t.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(_j||(_j={})),function(t){t[t.SPRITE=0]="SPRITE",t[t.GLYPH=1]="GLYPH"}(Sj||(Sj={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SIMPLE=1]="SIMPLE",t[t.DOT_DENSITY=2]="DOT_DENSITY",t[t.OUTLINE_FILL=3]="OUTLINE_FILL",t[t.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",t[t.HEATMAP=5]="HEATMAP",t[t.PIE_CHART=6]="PIE_CHART"}(xj||(xj={})),function(t){t[t.All=0]="All",t[t.Highlight=1]="Highlight",t[t.InsideEffect=2]="InsideEffect",t[t.OutsideEffect=3]="OutsideEffect"}(v8||(v8={})),function(t){t[t.BATCHING=0]="BATCHING",t[t.STRICT_ORDER=1]="STRICT_ORDER",t[t.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}($j||($j={})),function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT"}(Tj||(Tj={}));const jie={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:t=>t.stencilRef,compare:uC.EQUAL,mask:255,op:{fail:mw.KEEP,zFail:mw.KEEP,zPass:mw.REPLACE}}}},Kxe={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},e$e={...jie,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function t$e({pixelRatio:t,state:e,displayLevel:i,requiredLevel:r},s){const n=1/2**(i-s.key.level),a=1/2**(r-s.key.level);return{displayMat3:e.displayMat3,displayViewMat3:e.displayViewMat3,displayViewScreenMat3:s.transforms.displayViewScreenMat3,viewMat3:e.viewMat3,tileMat3:s.transforms.tileMat3,displayZoomFactor:n,requiredZoomFactor:a,tileOffset:[s.x,s.y],currentScale:e.scale,currentZoom:i,metersPerSRUnit:kn(e.spatialReference),rotation:e.rotation,pixelRatio:t}}function qie(t){var e;return((e=t.passOptions)==null?void 0:e.type)==="highlight"}function Bie(t){var e;return((e=t.passOptions)==null?void 0:e.type)==="hittest"}function i$e(t){if(!Bie(t))return null;const{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}=t.passOptions;return{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}}function r$e(t){if(!qie(t))return null;const{activeReasons:e,highlightAll:i}=t.passOptions;return{activeReasons:e,highlightAll:i?1:0}}function cst(t,e,i){const r={};for(const s in i)typeof i[s]!="function"?r[s]=i[s]:r[s]=i[s](t,e);return r}function ust(t,e){const{attributeView:i,context:r}=t;return{storage:i.getUniforms(r),view:t$e(t,e),hittestRequest:i$e(t),highlight:r$e(t)}}function dst(t){return{inside:t.selection===v8.InsideEffect,outside:t.selection===v8.OutsideEffect}}function s$e(t){return Bie(t)?Kxe:qie(t)&&t.passOptions.stepType==="clear"?e$e:jie}function fst(t){const{row:e,col:i}=t.key,r=i*ag,s=e*ag;return{tileOffsetFromLocalOrigin:[r%h5,s%h5],maxIntsToLocalOrigin:[Math.floor(r/h5),Math.floor(s/h5)]}}const n$e=new Ie({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function hst(t){return n$e.toJSON(t)}function pst(t){const{bandCount:e,attributeTable:i,colormap:r,pixelType:s}=t.raster.rasterInfo;return e===1&&(i!=null||r!=null||s==="u8"||s==="s8")}function a$e(t,e){return e==null?(t==null||t.destroy(),null):((t==null?void 0:t.type)==="single"&&Array.isArray(e)&&(t.destroy(),t=null),(t==null?void 0:t.type)!=="multi"||Array.isArray(e)||(t.destroy(),t=null),t||(t=Array.isArray(e)?new Qxe:new Vie),Array.isArray(e)?t.type==="multi"&&t.setHighlightOptions(e):t.type==="single"&&t.setHighlightOptions(e),t)}function mst(t,e,i,r){const{painter:s,highlightGradient:n}=t,{highlight:a}=s.effects;if(!n)return;const o=t.passOptions,l=n.getReasonsWithGradients();for(let u=0;u<l.length;u++){const d={...t,passOptions:{type:"highlight",activeGradient:l[u].activeGradient,activeReasons:l[u].activeReasons,stepType:"burn",highlightAll:e}};if(a.bind(d),i(d),u<l.length-1){let p=0;for(let m=u+1;m<l.length;m++)p|=l[m].activeReasons;i({...t,passOptions:{type:"highlight",activeGradient:l[u].activeGradient,activeReasons:p,stepType:"clear",highlightAll:e}})}const h={...t,passOptions:{type:"highlight",activeGradient:l[u].activeGradient,activeReasons:l[u].activeReasons,stepType:"draw",highlightAll:e}};s.setPipelineState(s$e(t)),s.updatePipelineState(t.context),a.draw(h),a.unbind()}t.passOptions=o}const m5=t=>parseFloat(t)/100;function o$e(t,e,i){const r=typeof t.left=="string"?m5(t.left)*e:t.left,s=typeof t.right=="string"?m5(t.right)*e:t.right,n=typeof t.top=="string"?m5(t.top)*i:t.top,a=typeof t.bottom=="string"?m5(t.bottom)*i:t.bottom,o=n;return{xmin:r,xmax:Math.max(e-s,r),ymin:o,ymax:Math.max(i-a,n)}}function Uie(t,e,i,r){switch(e.type){case"rect":{const{width:s,height:n}=t,{xmin:a,xmax:o,ymin:l,ymax:u}=o$e(e,s,n),{x:d,y:h}=i;return d>a&&d<o&&h>l&&h<u}case"path":return e.path.length===0||!Array.isArray(e.path[0][0])||hL(e.path,[i.x,i.y]);case"geometry":return e.geometry==null||(e.geometry.type==="polygon"?fL(e.geometry,r):X_(e.geometry,r))}}function l$e(t){if(!t.highlights)return null;const e=t.highlights.findIndex(i=>i.name==="default");return e===-1?null:t.highlights.items[e]}function c$e(t,e){if(!t.highlights){if(!e)return;t.highlights=new K([new Jf])}const i=t.highlights.findIndex(r=>r.name==="default");e?t.highlights.items[i].assignFrom(e):(t.highlights.removeAt(i),t.highlights.length===0&&(t.highlights=null))}async function u$e(t,e,i){const r=gte(e)?yte(t,e):e;if(!t.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let s=new Set;const n=new Set;let a=!1,o=null,l=null;i!=null&&i.include?Ej(i.include,Ij(t,p=>{s.add(p),b$(p,m=>n.add(m))},(p,m)=>{n.add(p),s.add(m)},p=>{o||(o=new Set),o.add(p)},p=>s.add(p),()=>a=!0)):(a=!0,s=new Set(t.allLayerViews),s.forEach(p=>{b$(p,m=>n.add(m))})),i!=null&&i.exclude&&Ej(i.exclude,Ij(t,p=>{s.delete(p),b$(p,m=>n.delete(m))},p=>n.delete(p),p=>{l||(l=new Set),l.add(p)}));const u=t.toMap(r),d=t.allLayerViews.filter(p=>!p.suspended&&s.has(p)&&p.clips.every(m=>Uie(t,m,r,u))).reverse();let h=[...a?t.graphicsView.hitTest(u).map(p=>({type:"graphic",graphic:p,layer:null,mapPoint:u})):[],...await Promise.all(d.map(p=>p.hitTest(u,r)).toArray())].filter(Kt).flat().filter(Kt);return h=h.filter(p=>{var m;return p.type!=="graphic"||((m=p.layer)==null?void 0:m.type)!=="subtype-group"||n.has(p.graphic.layer)}),o&&(h=h.filter(p=>!("graphic"in p)||!p.graphic||(o==null?void 0:o.has(hC(p.graphic))))),l&&(h=h.filter(p=>!("graphic"in p)||!p.graphic||!(l!=null&&l.has(hC(p.graphic))))),{screenPoint:r,results:h}}function Ij(t,e,i,r,s,n){return a=>{if(a instanceof mt){if(a.layer===t)n==null||n();else{const o=t.allLayerViews.find(l=>l.layer===a.layer);o&&(s==null||s(o))}r(hC(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){const o=t.allLayerViews.find(l=>l.layer===a.parent);o&&i(a,o)}else{const o=t.allLayerViews.find(l=>l.layer===a);o&&e(o)}}}function Ej(t,e){if(t)if(w4(t))for(const i of t)if(w4(i))for(const r of i)e(r);else e(i);else e(t)}function hC(t){var i,r;const e=t.getObjectId();return e?`${((i=t.layer)==null?void 0:i.uid)??((r=t.sourceLayer)==null?void 0:r.uid)??"MapView"}/${e}`:`"MapView/${t.uid}`}function b$({layer:t},e){(t==null?void 0:t.type)==="subtype-group"&&t.sublayers.forEach(i=>{e(i)})}let lv=null,w8=!0;function d$e(t,e,i){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(w8)try{return new ImageData(t,e)}catch{w8=!1}return Gie(t,e,i)}function yst(t,e,i,r){if(!e||!i)throw new Error("Cannot construct image data without dimensions");if(w8)try{return new ImageData(t,e,i)}catch{w8=!1}const s=Gie(e,i,r);return s.data.set(t,0),s}function f$e(){return lv||(lv=document.createElement("canvas"),lv.width=1,lv.height=1),lv}function Gie(t,e,i){return i||(i=f$e()),i.getContext("2d").createImageData(t,e)}async function h$e(t,e){const i=window.URL.createObjectURL(t);try{const{data:r}=await it(i,{...e,responseType:"image"});return r}catch(r){throw tr(r)?r:new P("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function p$e(t,e){const{arrayBuffer:i,mediaType:r}=await m$e(t,e),s=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:n,parseGif:a}=await R(()=>import("./gif-RtSzKx9X.js"),[]);if(n(i))return a(i,e)}if(s){const{isAnimatedPNG:n,parseApng:a}=await R(()=>import("./apng-hrLbAAZD.js"),__vite__mapDeps([336,116]));if(n(i))return a(i,e)}return h$e(new Blob([i],{type:r}),e)}async function m$e(t,e){var s;const i=qm(t);if(i!=null&&i.isBase64)return{arrayBuffer:CJ(i.data),mediaType:i.mediaType};const r=await it(t,{responseType:"array-buffer",...e});return{arrayBuffer:r.data,mediaType:((s=r.getHeader)==null?void 0:s.call(r,"Content-Type"))??""}}function Hie(t,e,i){const{ctx:r,canvas:s}=Zie(t,i),n=r.getImageData(0,0,t.width,t.height),a=Yie(s,e);return Jie(s),{dataUrl:a,data:n}}function Wie(t,e){const{ctx:i,canvas:r}=Zie(t,e),s=i.getImageData(0,0,t.width,t.height);return Jie(r),s}function Zie(t,e){const i=y$e();e.premultipliedAlpha&&w$e(t),i.width=t.width,i.height=t.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(t,0,0),e.flipY&&v$e(r),{ctx:r,canvas:i}}function Jie(t){t.width=0,t.height=0}function y$e(){return v$==null&&(v$=document.createElement("canvas")),v$}let v$=null;function Yie(t,e){const i=_$e[e.format],r=e.quality/100;return t.toDataURL(i,r)}function Xie(t,e){const i=b$e(t),r=x$e[i];return{format:i,quality:Yr(e??r,0,100)}}function Qie(t,e){return e/Math.max(t[0],t[1])}function g$e(t,e,i,r=0,s=0,n=t.width-r,a=t.height-s,o=!1){const{data:l}=t,{width:u,height:d,data:h}=e,p=n/u,m=a/d,g=Math.ceil(p/2),b=Math.ceil(m/2),v=t.width;for(let w=0;w<d;w++)for(let _=0;_<u;_++){const S=4*(_+(o?d-w-1:w)*u);let T=0,C=0,A=0,O=0,L=0,F=0;const D=(w+.5)*m;for(let G=Math.floor(w*m);G<(w+1)*m;G++){const H=Math.abs(D-(G+.5))/b,se=(_+.5)*p,X=H*H;for(let ue=Math.floor(_*p);ue<(_+1)*p;ue++){const xe=Math.abs(se-(ue+.5))/g,be=Math.sqrt(X+xe*xe);if(be>=1)continue;let ye=2*be*be*be-3*be*be+1;const at=4*(r+ue+(s+G)*v);F+=ye*l[at+3],C+=ye,!i&&l[at+3]<255&&(ye=ye*l[at+3]/255),A+=ye*l[at],O+=ye*l[at+1],L+=ye*l[at+2],T+=ye}}h[S]=A/T,h[S+1]=O/T,h[S+2]=L/T,h[S+3]=F/C}return e}function b$e(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return S$e}}function v$e(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore()}function w$e(t){const e=t.data,i=e.length;for(let r=0;r<i;r+=4){const s=e[r+3];if(s!==255&&s>0){const n=255/s;e[r]=e[r]*n,e[r+1]=e[r+1]*n,e[r+2]=e[r+2]*n}}}const _$e={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},Mj=98,S$e="png",x$e={png:100,jpg:Mj,jpeg:Mj},gst=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:d$e,encode:Hie,encodeData:Wie,getFormatAndQuality:Xie,getMaximumResolutionScale:Qie,resampleHermite:g$e,toDataUrl:Yie},Symbol.toStringTag,{value:"Module"})),Kie={flipY:!0,premultipliedAlpha:!0};async function $$e(t,e){const i=await ere(t,e),{format:r,quality:s}=Xie(e==null?void 0:e.format,e==null?void 0:e.quality);return Hie(i,{format:r,quality:s},Kie)}async function T$e(t,e){const i=await ere(t,e);return Wie(i,Kie)}function ere(t,e){const i=M$e(e||{},E$e(t.stage,t.size),t.size,t.padding),r=I$e(e,t.allLayerViews);return t.stage.takeScreenshot(i,r,t.backgroundColor,e==null?void 0:e.rotation)}function I$e(t={},e){if(!t.layers)return;const i=[];return t.layers.forEach(r=>{const s=e.find(n=>n.layer.id===r.id);s!=null&&s.container&&i.push(s.container)}),i}function E$e(t,e){return Math.min(4,Qie(e,Math.min(4096,t.context.parameters.maxTextureSize)))}function M$e(t,e,i,r){t.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let s=null;t.width!=null&&t.height!=null?s=[t.width,t.height]:t.width==null&&t.height!=null?s=[t.height,t.height]:t.width!=null&&t.height==null?s=[t.width,t.width]:t.width==null&&t.height==null&&(s=null);const n=i[0]-(r.left+r.right),a=i[1]-(r.top+r.bottom);let o,l,u=t.area||{x:0,y:0,width:n,height:a};if(s){const d=n/a,h=s[0]/s[1];if(h>d){const p=u.width/h;u={x:u.x,y:Math.round(u.y+(u.height-p)/2),width:u.width,height:Math.round(p)}}else{const p=u.height*h;u={x:Math.round(u.x+(u.width-p)/2),y:u.y,width:Math.round(p),height:u.height}}}else s=[u.width,u.height];return s[0]>u.width?(o=Math.min(s[0]/u.width,e),l=s[0]/u.width/o):(o=1,l=s[0]/u.width),{cropArea:{x:Math.round((u.x+r.left)*o),y:Math.round((u.y+r.top)*o),width:Math.round(u.width*o),height:Math.round(u.height*o)},outputScale:l,resolutionScale:o}}const C$e=t=>t.includes("Brush");let tre=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),C$e(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}},k$e=class{constructor(e){this.getUnmaskedRenderer=e}};function A$e(t){const e=t.getExtension("WEBGL_debug_renderer_info");return e?new k$e(()=>t.getParameter(e.UNMASKED_RENDERER_WEBGL)):null}let Cj;function P$e(){return Cj??(Cj=O$e()),Cj}let L$e=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function R$e(t){var s;if(typeof WebGL2RenderingContext>"u")return null;const e=document.createElement("canvas");if(!e)return null;let i=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=e.getContext("webgl2"),i!=null&&(t.majorPerformanceCaveat=!0,t.unmaskedRenderer=((s=A$e(i))==null?void 0:s.getUnmaskedRenderer())??"unknown")),i==null)return i;t.available=!0,t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(t.supportsHighPrecisionFragment=r.precision>0),i}function O$e(){const t=new L$e,e=R$e(t);return e==null||(t.supportsColorBufferFloat=e.getExtension("EXT_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||e.getExtension("EXT_color_buffer_half_float")!==null),t}function F$e(t){const e=P$e();return e.available?t==="3d"&&e.majorPerformanceCaveat?new P("webgl:major-performance-caveat-detected",`Your WebGL implementation (${e.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):e.supportsHighPrecisionFragment?e.supportsVertexShaderSamplers?null:new P("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new P("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new P("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function N$e(t){return t&&"nodeType"in t}function D$e(t){return t&&typeof t.render=="function"}const kj={component:"esri-component"};let dp=class extends ce{constructor(){super(...arguments),this.widget=null}destroy(){var e;this.node=null,(e=this.widget)==null||e.destroy()}get id(){var e,i;return this._get("id")??((e=this.widget)==null?void 0:e.id)??((i=this.node)==null?void 0:i.id)}set id(e){this._set("id",e)}set node(e){const i=this._get("node");e!==i&&(e&&e.classList.add(kj.component),i&&i.classList.remove(kj.component),this._set("node",e))}castNode(e){var i;return(i=this.widget)==null||i.destroy(),e?typeof e=="string"||N$e(e)?(this._set("widget",null),OL(e)):(D$e(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};c([f()],dp.prototype,"id",null),c([f()],dp.prototype,"node",null),c([Xe("node")],dp.prototype,"castNode",null),c([f({readOnly:!0})],dp.prototype,"widget",void 0),dp=c([E("esri.views.ui.Component")],dp);const u6=dp,ire="calcite-mode-",rre="dark",z$e="light",V$e=/\W/g,j$e="--esri-calcite-mode-name";function sre(){return getComputedStyle(document.body).getPropertyValue(j$e).replaceAll(V$e,"").toLowerCase()}function $R(){return sre()===rre}function q$e(){const t=sre();switch(t){case rre:case z$e:return`${ire}${t}`;default:return null}}function B$e(t){const e=q$e();e&&(U$e(t),t.classList.add(e))}function U$e(t){Array.from(t.classList).forEach(e=>{e.startsWith(ire)&&t.classList.remove(e)})}const gS=new Map;function nre(){gS.clear()}function G$e(t){return gS.get(t)}function H$e(t,e){gS.set(t,e)}function w$(t){gS.delete(t)}function og(...t){const e=Vs.acquire();for(let r=0;r<t.length;r++){const s=t[r],n=typeof s;if(n==="string")e.push(s);else if(Array.isArray(s))e.push.apply(e,s);else if(n==="object")for(const a in s)s[a]&&e.push(a)}const i=e.join(" ");return Vs.release(e),i}(()=>{const t=new Map,e=new ResizeObserver(r=>{var s;nre();for(const n of r)(s=t.get(n.target))==null||s(n)}),i=(r,s,n)=>(t.set(r,s),e.observe(r,n),ht(()=>{e.unobserve(r),t.delete(r)}));return(r,s,n)=>{let a=null;return r0([Y(()=>typeof r=="function"?r():r,o=>{a==null||a.remove(),o&&(a=i(o,s,n))},zs),ht(()=>a==null?void 0:a.remove())])}})();function Bo(t){const e=t==null?void 0:t.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function Aj(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function Pj(t){const e="data-node-ref";this[t.getAttribute(e)]=t}function W$e(t){return t==="Enter"||t===" "}async function Xu(t,e){await che(B_(e));const i=typeof t=="function"?t():t;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const Z$e={left:0,top:0,bottom:0,right:0},are={bottom:30,top:15,right:15,left:15},Jc="esri-ui",Qs={ui:Jc,corner:`${Jc}-corner`,innerContainer:`${Jc}-inner-container`,manualContainer:`${Jc}-manual-container`,cornerContainer:`${Jc}-corner-container`,topLeft:`${Jc}-top-left`,topRight:`${Jc}-top-right`,bottomLeft:`${Jc}-bottom-left`,bottomRight:`${Jc}-bottom-right`};function J$e(t){return t&&!t._started&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}function y5(t){return t===0?"0":`${t}px`}function _$(t){const e=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(e===null||e===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function S$(t,{top:e,bottom:i,left:r,right:s}){t.style.top=e,t.style.bottom=i,t.style.left=r,t.style.right=s}let ll=class extends ha.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Tn(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&S$(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&S$(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([Y(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,Le),Y(()=>this.padding,this._applyUIPadding,Le),Y(()=>[this.container,this._locale],([e,i])=>{e&&e.setAttribute("lang",i)},Le),_L(e=>{this._locale=e})])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear()}set container(e){const i=this._get("container");e!==i&&(e&&(e.classList.add(Qs.ui),B$e(e),this._attachContainers(e)),i&&(i.classList.remove(Qs.ui),S$(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",e))}get height(){var n;const e=((n=this.view)==null?void 0:n.height)??0;if(e===0)return e;const i=this._getViewPadding(),{top:r,bottom:s}=i;return Math.max(e-r-s,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...are,...e}}get width(){var n;const e=((n=this.view)==null?void 0:n.width)??0;if(e===0)return e;const i=this._getViewPadding(),{left:r,right:s}=i;return Math.max(e-r-s,0)}add(e,i){let r,s,n;if(Array.isArray(e))return void e.forEach(o=>this.add(o,i));const a=_$(e);a&&({index:r,position:i,component:e,key:s}=a),i&&typeof i=="object"&&({index:r,key:s,position:i,internal:n}=i),!e||i&&!this._isValidPosition(i)||this._add(e,i,r??this._getNumComponentsAtPosition(i),s,n)}remove(e,i){var s;if(!e)return;if(Array.isArray(e))return e.map(n=>this.remove(n,i));const r=this._find(e);if(r){const n=this._componentMap.get(r);if(!n||n.key!==i)return;const a=this._components.indexOf(r),o=r.node.parentNode;return o==null||o.removeChild(r.node),this._componentMap.delete(r),(s=r.widget)==null||s.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach(l=>{const u=this._componentMap.get(l);u&&u.position===n.position&&u.index>n.index&&u.index--}),this._components.splice(a,1)[0]}}empty(e,i={removeInternal:!1}){if(Array.isArray(e)){for(const n of e)this.empty(n,i);return}const r=this._positionNameToContainerLookup[e??"manual"],s=Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(n=>{var a;return n==null?!1:!(((a=this._componentMap.get(n))==null?void 0:a.internal)??!1)||i.removeInternal});for(const n of s)this.remove(n)}move(e,i){if(Array.isArray(e)&&e.forEach(a=>this.move(a,i)),!e)return;let r;const s=_$(e)||_$(i);if(s&&(r=s.index,i=s.position,e=s.component||e),i&&!this._isValidPosition(i))return;const n=this.remove(e);n&&this.add(n,{position:i,index:r})}find(e){if(!e)return null;const i=this._findById(e);return i&&(i.widget||i.node)}getComponents(e,i={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(e,i):this._components.filter(r=>{var s;return i.includeInternal||!((s=this._componentMap.get(r))!=null&&s.internal)}).map(({widget:r,node:s})=>r??s)}getPosition(e){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(e))return i;return null}_add(e,i,r,s,n){e instanceof u6||(e=new u6({node:e}));const{widget:a}=e;a!=null&&a instanceof ce&&a.addHandles(ht(()=>{queueMicrotask(()=>this.remove(e))}),this._removeWidgetHandleKey),this._components.some(o=>{var l,u;return((l=this._componentMap.get(o))==null?void 0:l.position)===i&&((u=this._componentMap.get(o))==null?void 0:u.index)===r})&&this._components.forEach(o=>{const l=this._componentMap.get(o);l&&l.position===i&&l.index>=r&&l.index++}),this._place({component:e,position:i,index:r}),this._components.push(e),this._componentMap.set(e,{key:s,position:i,internal:n,index:r})}_find(e){return e?e instanceof u6?this._findByComponent(e):typeof e=="string"?this._findById(e):"domNode"in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){var e;return((e=this.view)==null?void 0:e.padding)??Z$e}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Qs.innerContainer,Qs.cornerContainer);const i=document.createElement("div");i.classList.add(Qs.innerContainer,Qs.manualContainer);const r=document.createElement("div");r.classList.add(Qs.topLeft,Qs.corner),e.appendChild(r);const s=document.createElement("div");s.classList.add(Qs.topRight,Qs.corner),e.appendChild(s);const n=document.createElement("div");n.classList.add(Qs.bottomLeft,Qs.corner),e.appendChild(n);const a=document.createElement("div");a.classList.add(Qs.bottomRight,Qs.corner),e.appendChild(a),this._innerContainer=e,this._manualContainer=i;const o=Bo();this._cornerNameToContainerLookup={"top-left":r,"top-right":s,"bottom-left":n,"bottom-right":a,"top-leading":o?s:r,"top-trailing":o?r:s,"bottom-leading":o?a:n,"bottom-trailing":o?n:a},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){var l,u;const i=e.position??"manual",{component:r,index:s}=e,n=this._positionNameToContainerLookup[i],a=s!=null&&s>-1;if(J$e(r.widget)&&r.widget.startup(),!a)return void n.appendChild(r.node);const o=Array.from(n.children);if(o.length!==0){for(const d of o){const h=this._findByNode(d);if(h&&s<(((l=this._componentMap.get(h))==null?void 0:l.index)??0))return void((u=d.parentNode)==null?void 0:u.insertBefore(r.node,d))}n.appendChild(r.node)}else n.appendChild(r.node)}_toPixelPosition(e){return{top:y5(e.top),left:y5(e.left),right:y5(e.right),bottom:y5(e.bottom)}}_findByComponent(e){return this._components.find(i=>i===e)??null}_findById(e){return this._components.find(({id:i})=>i===e)??null}_findByNode(e){return e?this._components.find(({node:i})=>i===e):null}_getComponentsAtPosition(e,i){const r=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(Kt).filter(s=>{var n;return i.includeInternal||!((n=this._componentMap.get(s))!=null&&n.internal)}).map(({widget:s,node:n})=>s??n)}_getNumComponentsAtPosition(e){const i=this._positionNameToContainerLookup[e];return(i==null?void 0:i.children.length)??0}};c([f()],ll.prototype,"_locale",void 0),c([f()],ll.prototype,"container",null),c([f()],ll.prototype,"height",null),c([f({value:are})],ll.prototype,"padding",null),c([Xe("padding")],ll.prototype,"castPadding",null),c([f()],ll.prototype,"view",void 0),c([f()],ll.prototype,"width",null),ll=c([E("esri.views.ui.UI")],ll);const Y$e=ll,X$e={handleInterceptedEvent:(t,e,i,r)=>(t.scheduleRender(),e.properties[`on${r.type}`].apply(e.properties.bind||i,[r]))},Q$e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}},K$e=t=>({...Q$e,...t}),eTe=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},tTe=(t,e)=>t.find(e),Lj=(t,e,i=!1)=>{let r=t;return e.forEach((s,n)=>{const a=r!=null&&r.children?tTe(r.children,o=>o.domNode===s):void 0;i&&!a&&n!==e.length-1||(r=a)}),r},iTe=t=>{let e;const i={...X$e,...t},r=K$e(i),s=r.performanceLogger;let n,a=!0,o=!1;const l=[],u=[],d=(p,m,g)=>{var w;let b;r.eventHandlerInterceptor=(_,S,T,C)=>function(A){let O;s("domEvent",A);const L=eTe(A.currentTarget,b.domNode),F=L.some(G=>{var H;return customElements.get((H=G==null?void 0:G.tagName)==null?void 0:H.toLowerCase())});if(A.eventPhase===Event.CAPTURING_PHASE||!F)L.reverse(),O=Lj(b.getLastRender(),L);else{const G=A.composedPath(),H=G.slice(G.indexOf(A.currentTarget),G.indexOf(b.domNode)).reverse();O=Lj(b.getLastRender(),H,!0)}let D;return O&&(D=i.handleInterceptedEvent(e,O,this,A)),s("domEventProcessed",A),D},(w=i.postProcessProjectionOptions)==null||w.call(i,r);const v=g();b=p(m,v,r),r.eventHandlerInterceptor=void 0,l.push(b),u.push(g),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(b,v)};let h=()=>{if(n=void 0,a){a=!1,s("renderStart",void 0);for(let p=0;p<l.length;p++){const m=u[p]();s("rendered",void 0);try{l[p].update(m)}catch(g){console.error(g)}s("patched",void 0)}s("renderDone",void 0),a=!0}};return i.modifyDoRenderImplementation&&(h=i.modifyDoRenderImplementation(h,l,u)),e={renderNow:h,scheduleRender:()=>{n||o||(n=requestAnimationFrame(h))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),o=!0},resume:()=>{o=!1,a=!0,e.scheduleRender()},append:(p,m)=>{d(Rf.append,p,m)},insertBefore:(p,m)=>{d(Rf.insertBefore,p,m)},merge:(p,m)=>{d(Rf.merge,p,m)},replace:(p,m)=>{d(Rf.replace,p,m)},detach:p=>{for(let m=0;m<u.length;m++)if(u[m]===p)return u.splice(m,1),l.splice(m,1)[0];throw new Error("renderFunction was not found")}},e};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */let ore=!1;const rTe=t=>{ore=!0,ffe(t)};let lre;function sTe(){ore||rTe(vn(Xt(lre)))}function Pn(t){var i;const e=[];for(const r of Object.keys(t))customElements.get(`calcite-${r}`)||e.push((i=t[r])==null?void 0:i.call(t));return e.length>0?Promise.all(e):null}lre="components/assets";const cre=Symbol("widget"),ure=Symbol("widget-test-data"),nTe=[],aTe={},_8=new WeakMap;function dre(t,e){let i=e.children;if(i!=null&&i.length)for(let s=0;s<i.length;++s)i[s]=dre(t,i[s]);else i=nTe;const r=e.vnodeSelector;if(S8(r)){const s=e.properties||aTe,n=s.key||r,a={key:n,afterCreate:oTe,afterUpdate:lTe,afterRemoved:fre,parentWidget:t,widgetConstructor:r,widgetProperties:{...s,key:n,children:i}};return{vnodeSelector:r.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return e}function oTe(t,e,i,{parentWidget:r,widgetConstructor:s,widgetProperties:n}){var o;const a=new s(n);a.container=t,_8.set(t,a),(o=a.afterCreate)==null||o.call(a,a,t),r.addHandles(ht(()=>fre(t))),queueMicrotask(()=>{a[ure].projector.renderNow()})}function lTe(t,e,i,{widgetProperties:r}){var n;const s=_8.get(t);s&&(s.set(r),(n=s.afterUpdate)==null||n.call(s,s,t))}function fre(t){var i;const e=_8.get(t);e&&((i=e.afterRemoved)==null||i.call(e,e,t),e.destroy(),_8.delete(t))}function S8(t){return typeof t=="function"&&t[cre]}const Rj=new Set;function cTe(t){Rj.add(t),t.finally(()=>Rj.delete(t))}function uTe(t){return ht()}var Oj;let dTe=0;function hre(t,e){const i=Object.prototype.hasOwnProperty;for(const r in e)i.call(e,r)&&i.call(t,r)&&(t[r]!=null&&e[r]!=null&&typeof t[r]=="object"&&typeof e[r]=="object"?hre(t[r],e[r]):t[r]=e[r]);return t}const fTe=iTe({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(r,s,n,a)=>{const o=e==null?void 0:e(r,s,n,a),l=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in n)||l){const u=r[2].toLowerCase()+r.slice(3),d=m=>o==null?void 0:o.call(n,m);n.addEventListener(u,d,l);const h=()=>n.removeEventListener(u,d,l),p=a.afterRemoved;a.afterRemoved=m=>{p==null||p(m),h()}}return o}},handleInterceptedEvent(t,e,i,r){const{eventPhase:s,type:n}=r,a=s===Event.CAPTURING_PHASE;let o=`on${n}${a?"capture":""}`;const l=e.properties;(l&&o in l||(o=`on${n[0].toUpperCase()}${n.slice(1)}${a?"Capture":""}`,l&&o in l))&&(nre(),t.scheduleRender(),l[o].call(l.bind||i,r))}});let x$=!1;var Rm;let Tr=(Rm=class extends qo.EsriPromiseMixin(ha.EventedAccessor){constructor(e,i){super(e,i),this._attached=!1,this._projector=fTe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=Cc(async()=>{var l;if((l=this._messageBundleProps)!=null&&l.length){const u=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:d,propertyName:h})=>{if(this.destroyed)return;let p=await q7(d);this.uiStrings&&Object.keys(this.uiStrings)&&(p=hre(z(p),this.uiStrings)),this[h]=p}));if(this.destroyed)return;for(const d of u)d.status==="rejected"&&W.getLogger(this).error("widget-intl:locale-error",this.declaredClass,d.reason)}await this.loadLocale()}),this.addHandles(uTe()),sTe();const r="esri-widget-uid-"+b1(),s=this.render.bind(this);this._trackingTarget=new j_(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const n=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),a=()=>{var h,p;if(!this._readyForTrueRender||this.destroyed)return null;const l=s()??n(),u=l.properties??(l.properties={});if(u.key??(u.key=r),S8(l.vnodeSelector)){if(!this.visible)return n()}else this.visible?u.styles||(u.styles={}):(u.class="",u.styles={display:"none"}),(h=u.styles).display??(h.display="");let d=0;return(p=l.children)==null||p.forEach(m=>{var g;S8(m.vnodeSelector)||(m.properties??(m.properties={}),(g=m.properties).key??(g.key=`${this.id}--${d++}`))}),dre(this,l)};this.render=()=>{if(x$)return a();let l=G$e(this)??null;if(l)return l;this._trackingTarget.clear(),x$=!0;try{l=Oc(this._trackingTarget,a)}catch(u){throw W.getLogger(this).error(u),u}finally{x$=!1}return l&&H$e(this,l),l};const o=this.beforeFirstRender();o?this._resourcesFetch=o.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),cTe(this._resourcesFetch)}normalizeCtorArgs(e,i){const r={...e};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){var i;const e=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(XF):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Lt(this._trackingTarget),Lt(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,w$(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return OL(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){var e;return this._get("id")||((e=this.container)==null?void 0:e.id)||Date.now().toString(16)+"-widget-"+dTe++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(Oj=cre,ure)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(w$(this),this._projector.scheduleRender())}classes(...e){return og.apply(this,e)}renderNow(){w$(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(Y(()=>this.viewModel,(r,s)=>{s&&this.removeHandles("delegated-events"),r&&$7(r)&&this.addHandles(this._delegatedEventNames.map(n=>s1(r,n,a=>{this.emit(n,a)})),"delegated-events")},zs)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(XF),this.scheduleRender()};this.addHandles([_L(e),Y(()=>this.uiStrings,e)]),this.addHandles(ir(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=e==null?void 0:e.parentNode)==null||i.removeChild(e)}},Rm[Oj]=!0,Rm.vnodeSelector="div",Rm);c([f()],Tr.prototype,"_readyForTrueRender",void 0),c([f({value:null})],Tr.prototype,"container",null),c([Xe("container")],Tr.prototype,"castContainer",null),c([f()],Tr.prototype,"icon",null),c([f()],Tr.prototype,"id",null),c([f()],Tr.prototype,"label",null),c([f()],Tr.prototype,"renderable",null),c([f()],Tr.prototype,"uiStrings",void 0),c([f()],Tr.prototype,"viewModel",void 0),c([f({value:!0})],Tr.prototype,"visible",null),c([f()],Tr.prototype,"key",void 0),c([f()],Tr.prototype,"children",void 0),c([f()],Tr.prototype,"afterCreate",void 0),c([f()],Tr.prototype,"afterUpdate",void 0),c([f()],Tr.prototype,"afterRemoved",void 0),Tr=c([E("esri.widgets.Widget")],Tr);const It=Tr;var Fj,Nj,Dj,zj,Vj,jj,qj,Bj,Uj,Gj,Hj,Wj,Zj,Jj,Yj;(function(t){t.U8="U8",t.I8="I8",t.U16="U16",t.I16="I16",t.U32="U32",t.I32="I32",t.F32="F32",t.F64="F64",t.Utf8String="Utf8String",t.NotSet="NotSet"})(Fj||(Fj={})),function(t){t.Png="Png",t.Jpeg="Jpeg",t.Dds="Dds",t.Raw="Raw",t.Dxt1="Dxt1",t.Dxt5="Dxt5",t.Bc7="Bc7",t.Basis="Basis",t.Etc1="Etc1",t.Etc2="Etc2",t.Astc="Astc",t.Pvrtc="Pvrtc",t.NotSet="NotSet"}(Nj||(Nj={})),function(t){t.Position="Position",t.Normal="Normal",t.TexCoord="TexCoord",t.Color="Color",t.Tangent="Tangent",t.FeatureIndex="FeatureIndex",t.UvRegion="UvRegion",t.FeatureVariable="FeatureVariable",t.NotSet="NotSet"}(Dj||(Dj={})),function(t){t.Opaque="Opaque",t.Mask="Mask",t.Blend="Blend"}(zj||(zj={})),function(t){t.None="None",t.Mask="Mask",t.Alpha="Alpha",t.PreMultAlpha="PreMultAlpha",t.NotSet="NotSet"}(Vj||(Vj={})),function(t){t.Points="Points",t.Lines="Lines",t.LineStrip="LineStrip",t.Triangles="Triangles",t.TriangleStrip="TriangleStrip",t.NotSet="NotSet"}(jj||(jj={})),function(t){t.None="None",t.WrapXBit="WrapXBit",t.WrapYBit="WrapYBit",t.WrapXy="WrapXy",t.NotSet="NotSet"}(qj||(qj={})),function(t){t.Linear="Linear",t.Nearest="Nearest",t.NotSet="NotSet"}(Bj||(Bj={})),function(t){t.Linear="Linear",t.Nearest="Nearest",t.NearestMipmapNearest="NearestMipmapNearest",t.LinearMipmapNearest="LinearMipmapNearest",t.NearestMipmapLinear="NearestMipmapLinear",t.LinearMipmapLinear="LinearMipmapLinear",t.NotSet="NotSet"}(Uj||(Uj={})),function(t){t.FeatureId="FeatureId",t.GlobalUid="GlobalUid",t.UnspecifiedDateTime="UnspecifiedDateTime",t.EcmaIso8601DateTime="EcmaIso8601DateTime",t.EcmaIso8601DateOnly="EcmaIso8601DateOnly",t.TimeOnly="TimeOnly",t.TimeStamp="TimeStamp",t.ColorRgb="ColorRgb",t.ColorRgba="ColorRgba",t.Unrecognized="Unrecognized",t.NotSet="NotSet"}(Gj||(Gj={})),function(t){t.Texture="Texture",t.VertexAtrb="VertexAtrb",t.Implicit="Implicit",t.NotSet="NotSet"}(Hj||(Hj={})),function(t){t.Front="Front",t.Back="Back",t.None="None",t.NotSet="NotSet"}(Wj||(Wj={})),function(t){t.Pbr="Pbr",t.Unlit="Unlit"}(Zj||(Zj={})),function(t){t.Rgb8="Rgb8",t.Rgba8="Rgba8",t.R8="R8",t.Bgr8="Bgr8",t.Bgra8="Bgra8",t.Rg8="Rg8",t.Ga8="Ga8",t.Etc1="Etc1",t.Etc2="Etc2",t.Dxt1="Dxt1",t.Dxt5="Dxt5",t.Bc7="Bc7",t.NotSet="NotSet"}(Jj||(Jj={})),function(t){t[t.Succeeded=0]="Succeeded",t[t.Failed=1]="Failed",t[t.MissingInputs=2]="MissingInputs"}(Yj||(Yj={}));const hTe=new Map;function pTe(t){return hTe.get(t)}function Xj(t,e){return t&&"copyright"in t&&(!e||typeof t.originOf=="function"&&t.originOf("copyright")==="user")}function mTe(t,e){return t.length!==e.length||t.some((i,r)=>i.text!==e[r].text)}function cv(t,e,i){!i||!e||t.find(r=>r.layerView===e&&r.text===i)||t.push({text:i,layerView:e})}function yTe(t){return t.type==="bing-maps"}const Yc=[];let cy=class extends ce{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new K,this.view=null,this._allLayerViewsChange=i=>{var s;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const r=(s=this.view)==null?void 0:s.allLayerViews;r&&(this.addHandles(r.map(n=>Y(()=>{var a;return[n.suspended,(a=n.layer)==null?void 0:a.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),r.forEach(n=>{n.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(n.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),i!=null&&i.removed&&i.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this.addHandles([wr(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),ir(()=>{var i;return((i=this.view)==null?void 0:i.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var e;return(e=this.view)!=null&&e.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,i=e==null?void 0:e.allLayerViews;if(Yc.length=0,!e||!i)return void this._clear();i.forEach(s=>{var o,l;if(s.suspended||!((o=s.layer)!=null&&o.attributionVisible))return;const n=s.layer;if(Xj(n,"user"))return void cv(Yc,s,n.copyright);if(n.hasAttributionData){if(this._fetchedAttributionData.has(s)){const u=this._fetchedAttributionData.get(s);return void(u?cv(Yc,s,this._getDynamicAttribution(u,e,n)):Xj(n)&&cv(Yc,s,n.copyright))}return void this._fetchAttributionData(s)}const a="portalItem"in n?(l=n.portalItem)==null?void 0:l.accessInformation:void 0;cv(Yc,s,a||n.copyright)});const r=i.find(s=>{var n;return((n=s.layer)==null?void 0:n.type)==="integrated-mesh-3dtiles"});if(this.view&&r){const s=pTe(this.view);if(s){const n=s.getAttributionText();for(let a=0;a<n.length;++a)cv(Yc,r,n[a])}}mTe(this.items,Yc)&&(this.items.removeAll(),this.items.addMany(Yc)),Yc.length=0,this.notifyChange("state")}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const i=await W7(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const r=i.ok?this._createContributionIndex(i.value,yTe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,r)}this._updateAttributionItems()}_createContributionIndex(e,i){const r=e.contributors,s={};if(!r)return s;for(let n=0;n<r.length;n++){const a=r[n],o=a.coverageAreas;if(!o)return;for(const l of o){const u=l.bbox,d=l.zoomMin-(i&&l.zoomMin?1:0),h=l.zoomMax-(i&&l.zoomMax?1:0),p=new qe({xmin:u[1],ymin:u[0],xmax:u[3],ymax:u[2],spatialReference:le.WGS84}),m={extent:Gf(p),attribution:a.attribution||"",score:l.score!=null?l.score:100,id:n};for(let g=d;g<=h;g++)s[g]??(s[g]=[]),s[g].push(m)}}return s.maxKey=Math.max.apply(null,Object.keys(s)),s}_getDynamicAttribution(e,i,r){var d;const{extent:s,scale:n}=i;let a=((d=r.tileInfo)==null?void 0:d.scaleToZoom(n))??0;if(a=Math.min(e.maxKey??0,Math.round(a)),!s||a==null||a<=-1)return"";const o=e[a],l=A7(s.center.clone().normalize(),le.WebMercator),u=new Set;return o?o.filter(h=>{const p=h.id,m=!u.has(p)&&l&&h.extent&&X_(h.extent,l);return m&&u.add(p),m}).sort((h,p)=>p.score-h.score||h.objectId-p.objectId).map(h=>h.attribution).join(", "):""}};c([f({readOnly:!0,type:K})],cy.prototype,"items",void 0),c([f({readOnly:!0})],cy.prototype,"state",null),c([f()],cy.prototype,"view",void 0),cy=c([E("esri.widgets.Attribution.AttributionViewModel")],cy);const pre=cy,Ce={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",hidden:"esri-hidden",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function gTe(){return function(t,e){if(!t[e])throw new TypeError(`Cannot auto bind undefined function '${String(e)}'`);return{value:vTe(t[e])}}}function bTe(t){const e=t==null?void 0:t.type;return t instanceof KeyboardEvent||e==="keyup"||e==="keydown"||e==="keypress"}function vTe(t){return function(e,...i){bTe(e)?W$e(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):t.call(this,e,...i)}}function xi(t){return(e,i)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}var wTe=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},mre=function(t,e){for(var i=0,r=t.length;i<r;i++){var s=t[i];Array.isArray(s)?mre(s,e):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=wTe(s)),e.push(s))}},_Te=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var s=[];return mre(i,s),{vnodeSelector:t,properties:e||void 0,children:s,text:void 0,domNode:null}};function M(t,e,...i){return typeof t!="function"||S8(t)?_Te(t,e??null,...i):t(e,...i)}function $st(...t){return t}const P0="esri-attribution",L0={base:P0,poweredBy:`${P0}__powered-by`,sources:`${P0}__sources`,open:`${P0}--open`,sourcesOpen:`${P0}__sources--open`,link:`${P0}__link`};let ks=class extends It{constructor(e,i){super(e,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:s})=>this._checkSourceTextOverflow(s))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new pre}initialize(){this.addHandles(wr(()=>{var e;return(e=this.viewModel)==null?void 0:e.items},"change",()=>this.scheduleRender()))}destroy(){var e;(e=this._resizeObserver)==null||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,i)=>(e.includes(i.text)||e.push(i.text),e),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[L0.open]:this._isOpen};return M("div",{bind:this,class:this.classes(L0.base,Ce.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return M("div",{class:L0.poweredBy},"Powered by"," ",M("a",{class:L0.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:s}=this,n={[L0.sourcesOpen]:e,[Ce.interactive]:i};return M("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(L0.sources,n),innerHTML:s,tabIndex:r})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let i=!1;const{clientHeight:r,clientWidth:s,scrollWidth:n}=e,a=n>s,o=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,o&&(i=!0),this._isOpen){const l=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,l&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};c([f()],ks.prototype,"_isOpen",void 0),c([f()],ks.prototype,"_isInteractive",null),c([f()],ks.prototype,"_attributionTextOverflowed",void 0),c([f()],ks.prototype,"_prevSourceNodeHeight",void 0),c([f({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],ks.prototype,"attributionText",null),c([f()],ks.prototype,"icon",null),c([f()],ks.prototype,"itemDelimiter",void 0),c([f()],ks.prototype,"label",null),c([f(),xi("esri/widgets/Attribution/t9n/Attribution")],ks.prototype,"messages",void 0),c([f()],ks.prototype,"view",null),c([f({type:pre})],ks.prototype,"viewModel",void 0),c([gTe()],ks.prototype,"_toggleState",null),ks=c([E("esri.widgets.Attribution")],ks);const STe=ks;function xTe(){const t=q("mapview-essential-goto-duration");return t==null?t:t}function $Te(t){var e,i;return((e=t==null?void 0:t.spatialReference)==null?void 0:e.isWebMercator)||((i=t==null?void 0:t.spatialReference)==null?void 0:i.isGeographic)||!1}function TTe(t,e,i){return t.goTo(e,i)}const TR=t=>{let e=class extends t{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:r}=this;return n1(r),this.goToOverride?this.goToOverride(r,i):TTe(r,i.target,i.options)}};return c([f()],e.prototype,"goToOverride",void 0),c([f()],e.prototype,"view",void 0),e=c([E("esri.widgets.support.GoTo")],e),e};let fp=class extends TR(ce){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Le)}destroy(){this.view=null}get canShowNorth(){return $Te(this.view)}get state(){var e;return!((e=this.view)!=null&&e.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var e,i;(e=this.view)!=null&&e.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:xTe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles(e.type==="2d"?Y(()=>e==null?void 0:e.rotation,this._updateForRotation,Le):Y(()=>e==null?void 0:e.camera,this._updateForCamera,Le))}_watchForView(e){this.addHandles(Y(()=>this.view,this._updateRotationWatcher,e))}};c([f({readOnly:!0})],fp.prototype,"canShowNorth",null),c([f({readOnly:!0})],fp.prototype,"orientation",void 0),c([f({readOnly:!0})],fp.prototype,"state",null),c([f()],fp.prototype,"view",void 0),fp=c([E("esri.widgets.Compass.CompassViewModel")],fp);const yre=fp,Qj="esri-compass",Kj={base:Qj,iconContainer:`${Qj}__icon-container`};let pu=class extends It{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new yre,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return Pn({button:()=>R(()=>Promise.resolve().then(()=>T3),void 0),icon:()=>R(()=>Promise.resolve().then(()=>m0),void 0)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:i}=this.viewModel,{messages:r}=this;return M("div",{class:this.classes(Kj.base,Ce.widget)},M("calcite-button",{class:Ce.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},M("div",{"aria-hidden":"true",class:Kj.iconContainer,title:r.reset},M("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};c([f()],pu.prototype,"goToOverride",null),c([f()],pu.prototype,"icon",null),c([f()],pu.prototype,"label",null),c([f(),xi("esri/widgets/Compass/t9n/Compass")],pu.prototype,"messages",void 0),c([f()],pu.prototype,"view",null),c([f({type:yre})],pu.prototype,"viewModel",void 0),pu=c([E("esri.widgets.Compass")],pu);const ITe=pu,eq="esri-navigation-toggle",tq={base:eq,isLayoutHorizontal:`${eq}--horizontal`};let uy=class extends ce{constructor(e){super(e),this._navigationMode="pan",this.view=null,e!=null&&e.isDefaultViewModel||wpe(W.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(e={}){const{isDefaultViewModel:i,...r}=e;return r}initialize(){this.addHandles(ir(()=>{var e,i;return(i=(e=this.view)==null?void 0:e.navigation)==null?void 0:i.actionMap},()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){var e,i;return(e=this.view)!=null&&e.ready&&((i=this.view)==null?void 0:i.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){var r,s;const e=(s=(r=this.view)==null?void 0:r.navigation)==null?void 0:s.actionMap;if(!e)return;const i=this._navigationMode==="pan";e.dragPrimary=i?"pan":"rotate",e.dragSecondary=i?"rotate":"pan"}};c([f({readOnly:!0})],uy.prototype,"state",null),c([f()],uy.prototype,"_navigationMode",void 0),c([f()],uy.prototype,"view",void 0),uy=c([E("esri.widgets.NavigationToggle.NavigationToggleViewModel")],uy);const gre=uy;let mu=class extends It{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new gre({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var s;const r=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan"?this._rotateButton:this._panButton;Xu(r),this.toggle()},e!=null&&e.isDefaultUI||vpe(W.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(e={}){const{isDefaultUI:i,...r}=e;return r}loadDependencies(){return Pn({button:()=>R(()=>Promise.resolve().then(()=>T3),void 0)})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){var s,n;const e=((s=this.viewModel)==null?void 0:s.state)==="disabled",i=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan",r=this.messages.toggle;return M("div",{class:this.classes(tq.base,Ce.widget,{[tq.isLayoutHorizontal]:this.layout==="horizontal"})},M("calcite-button",{afterCreate:a=>{this._panButton=a},appearance:i?"outline-fill":"solid",class:Ce.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),M("calcite-button",{afterCreate:a=>{this._rotateButton=a},appearance:i?"solid":"outline-fill",class:Ce.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};c([f()],mu.prototype,"icon",null),c([f()],mu.prototype,"label",null),c([f({value:"vertical"})],mu.prototype,"layout",null),c([f(),xi("esri/widgets/NavigationToggle/t9n/NavigationToggle")],mu.prototype,"messages",void 0),c([f()],mu.prototype,"view",null),c([f({type:gre})],mu.prototype,"viewModel",void 0),mu=c([E("esri.widgets.NavigationToggle")],mu);const ETe=mu;let hp=class extends ce{get canZoomIn(){var r,s,n;if(!((r=this.view)==null?void 0:r.ready))return!1;const i=(n=(s=this.view)==null?void 0:s.constraints)==null?void 0:n.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var s;const{view:e}=this;if(!(e==null?void 0:e.ready))return!1;const r=(s=e.constraints)==null?void 0:s.effectiveMinScale;return r===0||this._scale<r}get _scale(){var i,r,s;const e=(r=(i=this.view)==null?void 0:i.animation)==null?void 0:r.target;return(e&&"then"in e||e==null?void 0:e.scale)??((s=this.view)==null?void 0:s.scale)??0}};c([f({readOnly:!0})],hp.prototype,"canZoomIn",null),c([f({readOnly:!0})],hp.prototype,"canZoomOut",null),c([f()],hp.prototype,"view",void 0),c([f()],hp.prototype,"_scale",null),hp=c([E("esri.widgets.Zoom.ZoomConditions2D")],hp);const MTe=hp;let dy=class extends ce{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};c([f({readOnly:!0})],dy.prototype,"canZoomIn",null),c([f({readOnly:!0})],dy.prototype,"canZoomOut",null),c([f()],dy.prototype,"view",void 0),dy=c([E("esri.widgets.Zoom.ZoomConditions3D")],dy);const CTe=dy;let Kd=class extends ce{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var e;return this._zoomConditions!=null&&((e=this._zoomConditions)==null?void 0:e.canZoomOut)}get state(){var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new MTe({view:e}):e.type==="3d"&&(this._zoomConditions=new CTe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&(e.type==="2d"?e.mapViewNavigation.zoomIn():Mc(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&(e.type==="2d"?e.mapViewNavigation.zoomOut():Mc(e.goTo({zoomFactor:.5})))}};c([f()],Kd.prototype,"_zoomConditions",void 0),c([f()],Kd.prototype,"canZoomIn",null),c([f()],Kd.prototype,"canZoomOut",null),c([f({readOnly:!0})],Kd.prototype,"state",null),c([f()],Kd.prototype,"view",null),Kd=c([E("esri.widgets.Zoom.ZoomViewModel")],Kd);const bre=Kd,iq={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let yu=class extends It{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new bre,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return Pn({button:()=>R(()=>Promise.resolve().then(()=>T3),void 0)})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[iq.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:s,zoomOut:n}=this.messages;return M("div",{class:this.classes(iq.base,Ce.widget,e)},M("calcite-button",{class:Ce.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:s,onclick:this.zoomIn,title:s}),M("calcite-button",{class:Ce.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:n,onclick:this.zoomOut,title:n}))}};c([f()],yu.prototype,"icon",null),c([f()],yu.prototype,"label",null),c([f({value:"vertical"})],yu.prototype,"layout",null),c([f(),xi("esri/widgets/Zoom/t9n/Zoom")],yu.prototype,"messages",void 0),c([f()],yu.prototype,"view",null),c([f({type:bre})],yu.prototype,"viewModel",void 0),yu=c([E("esri.widgets.Zoom")],yu);const kTe=yu;function ATe(t){return(t==null?void 0:t.view)!==void 0}let d6=class extends Y$e{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(r=>{const s=this._find(r),n=s==null?void 0:s.widget;ATe(n)&&(n.view=i)})},this._componentsWatcher=(i,r)=>{this._removeComponents(r),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([Y(()=>this.components,this._componentsWatcher,Le),Y(()=>this.view,this._updateViewAwareWidgets,Le)])}_add(e,i,r,s,n){let a=e;if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;a=this._createComponent(e)}super._add(a,i,r,s,n)}_removeComponents(e){e.forEach(i=>{const r=this._find(i);r&&(this.remove(r),r.destroy())})}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(e){this.constructed&&e.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(e){const i=this._createWidget(e);return new u6({id:e,node:i})}_createWidget(e){const i=this.view;switch(e){case"attribution":return new STe({view:i});case"compass":return new ITe({view:i});case"navigation-toggle":return new ETe({view:i,isDefaultUI:!0});case"zoom":return new kTe({view:i})}}};c([f()],d6.prototype,"components",void 0),d6=c([E("esri.views.ui.DefaultUI")],d6);const vre=d6;let f6=class extends vre{constructor(e){super(e),this.components=["attribution","zoom"]}};c([f()],f6.prototype,"components",void 0),f6=c([E("esri.views.ui.2d.DefaultUI2D")],f6);const wre=f6;let _re=class pC{constructor(e,i,r=""){this.major=e,this.minor=i,this._context=r}lessThan(e,i){return this.major<e||e===this.major&&this.minor<i}greaterEqual(e,i){return!this.lessThan(e,i)}validate(e){if(this.major!==e.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new P(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new pC(this.major,this.minor,this._context)}static parse(e,i=""){const[r,s]=e.split("."),n=/^\s*\d+\s*$/;if(!(r!=null&&r.match)||!n.test(r))throw new P((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!(s!=null&&s.match)||!n.test(s))throw new P((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const a=parseInt(r,10),o=parseInt(s,10);return new pC(a,o,i)}},Fg=class extends _re{constructor(e,i){super(e,i,"webmap")}};function $$(t){return t!=null&&typeof t=="object"&&"declaredClass"in t&&t.declaredClass==="esri.WebMap"}const Sre=new Fg(2,34);var mC;let h6=mC=class extends B{constructor(t){super(t),this.color=new ee([0,0,0,1])}clone(){return new mC(z({color:this.color}))}};c([f({type:ee,json:{write:!0}})],h6.prototype,"color",void 0),h6=mC=c([E("esri.webmap.background.ColorBackground")],h6);const bS=h6;let xre,$re,Tre,Ire,Ere,Mre,Cre;async function PTe(){const[,{GraphicsView2D:t,GraphicContainer:e,LabelManager:i,MapViewNavigation:r,MagnifierView2D:s,GridView2D:n,Stage:a}]=await Promise.all([R(()=>import("./webglDeps-DTbXpSfz.js"),__vite__mapDeps([263,264,265,266])),R(()=>import("./mapViewDeps-B14k0O1N.js"),__vite__mapDeps([267,268,172,269,265,264,235,213,168,270,169,143,271,167,188,272,220,219,175,121,170,176,273,173,174,218,263,266,274,183,275,276,277,232,229,211,166,124,278,279,171,280,178,281,180,148,164,282,283,284,285,228,286,287]))]);$re=t,Tre=e,Ire=i,Ere=r,Mre=s,Cre=n,xre=a}var hb;let ot=(hb=class extends CSe(o7e(Pve(nwe(q2e(q6e))))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Vl({getCollections:()=>{var i,r;return[(i=this.basemapView)==null?void 0:i.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new uS({actionMap:new lR({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new K,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new tre,this.type="2d",this.view2dType=null,this.ui=new wre,this.test={takeScreenshot:async i=>T$e(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},U1e()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=Lt(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Ixe(this.featuresTilingScheme)}get constraintsInfo(){var r,s;const e=(r=this.defaultsFromMap)==null?void 0:r.tileInfo,i=this.spatialReference;return{lods:(s=e==null?void 0:e.spatialReference)!=null&&s.equals(i)?e.lods:null,spatialReference:i}}get initialExtentRequired(){var o;if(!this.stateManager)return!1;const{scale:e,constraints:i,center:r,viewpoint:s,extent:n}=this;let a=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((o=this.map.initialViewProperties)!=null&&o.viewpoint))&&!n&&(i!=null&&i.effectiveLODs||(a=-1),(!r||e===0&&a===-1)&&((s==null?void 0:s.targetGeometry)==null||s.targetGeometry.type!=="extent"&&!s.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const i=e.targetGeometry,r=this.spatialReference;return AQ(i.spatialReference,r)}get background(){return $$(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){var e;return((e=this.stateManager)==null?void 0:e.center)??null}set center(e){this.stateManager.center=e}get highlightOptions(){return l$e(this)}set highlightOptions(e){c$e(this,e)}get padding(){var e;return(e=this.stateManager)==null?void 0:e.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){var e;return((e=this.stage)==null?void 0:e.renderRequested)??!1}get resolution(){return this.stateManager.resolution??0}get scale(){var e;return((e=this.stateManager)==null?void 0:e.scale)??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get tileInfo(){var e;return(e=this.featuresTilingScheme)==null?void 0:e.tileInfo}get updating(){var r,s,n,a;const e=!(!this.magnifier.visible||this.magnifier.position===null||!((r=this._magnifierView)!=null&&r.updatingHandles.updating)),i=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(o=>!o.destroyed&&!("layerViews"in o)&&o.updating===!0)||e);if(q("esri-2d-log-updating")){const o=this.allLayerViews.reduce((l,u)=>({...l,[`${u.layer.id}(${u.layer.type})`]:!u.destroyed&&!("layerViews"in u)&&u.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(s=this.layerViewManager)==null?void 0:s.updating}
-> labelManager.updating: ${(n=this.labelManager)==null?void 0:n.updating}
-> graphicsView.updating: ${(a=this.graphicsView)==null?void 0:a.updating}
-> allLayerViews: ${JSON.stringify(o)}
-> updatingMagnifier: ${e}
`)}return i}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new Ut({rings:[e.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){var e;return((e=this.mapViewNavigation)==null?void 0:e.interacting)??!1}async hitTest(e,i){return u$e(this,e,i)}async takeScreenshot(e){return $$e(this._getScreenshotView(e),e)}toScreen(e,i){return this.stateManager.toScreen(e,i)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e;return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||((e=this.defaultsFromMap)==null?void 0:e.spatialReference)||null}getDefaultTimeZone(){return $$(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return $$(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return UV.hasLayerViewModule(e)}importLayerView(e){return UV.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(W.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){var u;const i=this.toMap(e),r=await this.hitTest(e),s=this.allLayerViews.toArray().filter(d=>d.clips.every(h=>Uie(this,h,e,i))).reverse(),n=new globalThis.Map(s.map(d=>[d.layer.uid,d])),a=[];let o=0,l=0;for(;o<r.results.length||l<s.length;){const d=r.results.at(o);if(d&&d.type!=="graphic"){++o;continue}const h=n.get((u=(d==null?void 0:d.layer)??(d==null?void 0:d.graphic.layer))==null?void 0:u.uid);if((!d||h)&&l<s.length&&s.at(l)!==h){const p=s.at(l);"fetchPopupFeaturesAtLocation"in p&&a.push({mapPoint:i,layerView:p}),++l}else d&&(a.push({graphic:d.graphic,layerView:h}),++o)}return{hits:a,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=F$e(this.type);if(q("safari")&&q("safari")<9&&(e=new P("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:q("safari")})),e!=null){W.getLogger(this).warn("#validate()",e.message);const i=document.createElement("div");i.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const r=document.createElement("div");r.innerHTML="Unable to display map. WebGL2 support is required.",r.setAttribute("style","font-size: 24px; font-weight: bold;");const s=document.createElement("div");s.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",s.setAttribute("style","font-size: 18px;");const n=document.createElement("a");throw n.innerHTML="https://esriurl.com/systemRequirements",n.target="_blank",n.setAttribute("style","font-size: 18px;"),n.href="https://esriurl.com/systemRequirements",i.appendChild(r),i.appendChild(s),i.appendChild(n),this.surface.appendChild(i),e}}loadAsyncDependencies(){return PTe()}_getDefaultViewpoint(){var v;const{constraints:e,initialExtent:i,map:r,padding:s,size:n}=this;if(!e)return null;const a=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,o=this.stateManager.getUserStartupOptions(this.size),l=a==null?void 0:a.viewpoint,u=((v=l==null?void 0:l.targetGeometry)==null?void 0:v.extent)??i,d=u==null?void 0:u.center,h=(l==null?void 0:l.rotation)??0,p=(l==null?void 0:l.scale)||u&&pS(u,[n[0]-s.left-s.right,n[1]-s.top-s.bottom]),m=o.center??d,g=o.rotation??h,b=o.scale??p;return m&&b?new er({targetGeometry:m,scale:b,rotation:g}):null}_startup(){var l;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,(l=this.defaultsFromMap.extent)==null?void 0:l.center),this.graphics.owner=this;const i=new gxe(this.surface),r=new xre(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline},i);this.stage=r,this._magnifierView=new Mre,this._magnifierView.magnifier=this.magnifier,this._gridView=new Cre;const s=new Ire({view:this});this._set("labelManager",s);const n=new oxe({view:this});this._set("animationManager",n);const a=new Ere({view:this,animationManager:n});this._set("mapViewNavigation",a),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",u=>this.fatalError=u.error),Y(()=>this.stationary,u=>r.stationary=u,zs),Y(()=>this.background,u=>{r.backgroundColor=u==null?void 0:u.color,this._magnifierView.backgroundColor=u==null?void 0:u.color},zs),Y(()=>this.magnifier,u=>this._magnifierView.magnifier=u,zs),Y(()=>this.grid,u=>this._gridView.grid=u,zs),Y(()=>this.renderingOptions,u=>r.renderingOptions=u,zs),Y(()=>this.highlights.items.map(u=>({name:u.name,options:{fillColor:u.color,haloColor:u.haloColor,fillOpacity:u.fillOpacity,haloOpacity:u.haloOpacity,haloWidth:u.haloWidth,haloBlur:u.haloBlur}})),()=>{r.highlightGradient=a$e(r.highlightGradient,this.highlights.items)},zs),Y(()=>this.state.id,()=>r.state=this.state,zs)],"map-view"),this._updateStageChildren();const o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach(u=>u(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new hxe(Ji.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const i=new $re({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Tre(e)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){var a;const{allLayerViews:i,padding:r,size:s,stage:n}=this;return{allLayerViews:i,backgroundColor:e!=null&&e.ignoreBackground?null:(a=this.background)==null?void 0:a.color,padding:r,size:s,stage:n}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}},hb.type="2d",hb);c([f({constructOnly:!0})],ot.prototype,"deactivatedWebGLExtensions",void 0),c([f({constructOnly:!0})],ot.prototype,"debugWebGLExtensions",void 0),c([f({readOnly:!0})],ot.prototype,"featuresTilingScheme",void 0),c([f({readOnly:!0})],ot.prototype,"graphicsTileStore",null),c([f()],ot.prototype,"graphicsView",void 0),c([f()],ot.prototype,"constraintsInfo",null),c([f()],ot.prototype,"initialExtentRequired",null),c([f()],ot.prototype,"labelManager",void 0),c([f({type:uS,nonNullable:!0})],ot.prototype,"navigation",void 0),c([f({constructOnly:!0})],ot.prototype,"renderCanvas",void 0),c([f()],ot.prototype,"renderingOptions",void 0),c([f({constructOnly:!0})],ot.prototype,"supersampleScreenshotsEnabled",void 0),c([f({readOnly:!0})],ot.prototype,"supportsGround",void 0),c([f()],ot.prototype,"defaultsFromMapSettings",null),c([f({readOnly:!0})],ot.prototype,"typeSpecificPreconditionsReady",null),c([f({type:bS})],ot.prototype,"background",null),c([f()],ot.prototype,"center",null),c([f({type:K})],ot.prototype,"floors",void 0),c([f()],ot.prototype,"grid",void 0),c([f({type:Jf})],ot.prototype,"highlightOptions",null),c([f()],ot.prototype,"map",void 0),c([f()],ot.prototype,"padding",null),c([f({readOnly:!0})],ot.prototype,"rendering",null),c([f({readOnly:!0})],ot.prototype,"resolution",null),c([f()],ot.prototype,"scale",null),c([f({constructOnly:!0})],ot.prototype,"spatialReferenceLocked",void 0),c([f({readOnly:!0})],ot.prototype,"tileInfo",null),c([f({type:tre,readOnly:!0})],ot.prototype,"timeline",void 0),c([f({readOnly:!0})],ot.prototype,"type",void 0),c([f({readOnly:!0})],ot.prototype,"updating",null),c([f({readOnly:!0})],ot.prototype,"view2dType",void 0),c([f({readOnly:!0})],ot.prototype,"visibleArea",null),c([f()],ot.prototype,"zoom",null),c([f({readOnly:!0})],ot.prototype,"navigating",null),c([f(),Xe(t=>t instanceof vre?t:o1(wre,t))],ot.prototype,"ui",void 0),ot=c([E("esri.views.View2D")],ot);const LTe=ot;let p6=class extends LTe{constructor(e){super(e),this.view2dType="map"}};c([f({readOnly:!0})],p6.prototype,"view2dType",void 0),p6=c([E("esri.views.MapView")],p6);const yC=p6;let RTe=class kre{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(nI),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const i=new kre,r=this._originStores[Oe.DEFAULTS];r&&r.forEach((s,n)=>{i.set(n,z(s),Oe.DEFAULTS)});for(let s=Oe.SERVICE;s<nI;s++){const n=this._originStores[s];n&&n.forEach((a,o)=>{e&&e.has(o)||i.set(o,z(a),s)})}return i}get(e,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(e):void 0}keys(e){const i=e==null?this._values:this._originStores[e];return i?[...i.keys()]:[]}set(e,i,r=Oe.USER){let s=this._originStores[r];if(s||(s=new Map,this._originStores[r]=s),s.set(e,i),!this._values.has(e)||this._propertyOriginMap.get(e)<=r){const n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,r),n!==i}return!1}delete(e,i=Oe.USER){const r=this._originStores[i];if(!r)return;const s=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===i){this._values.delete(e);for(let n=i-1;n>=0;n--){const a=this._originStores[n];if(a&&a.has(e)){this._values.set(e,a.get(e)),this._propertyOriginMap.set(e,n);break}}}return s}has(e,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(e)}revert(e,i){for(;i>0&&!this.has(e,i);)--i;const r=this._originStores[i],s=r==null?void 0:r.get(e),n=this._values.get(e);return this._values.set(e,s),this._propertyOriginMap.set(e,i),n!==s}originOf(e){return this._propertyOriginMap.get(e)||Oe.DEFAULTS}isAtOrigin(e,i){return this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(e)}};const Are=t=>{let e=class extends t{constructor(...i){super(...i);const r=Ys(this),s=r.store,n=new RTe;r.store=n,wJ(r,s,n)}read(i,r){SJ(this,i,r)}getAtOrigin(i,r){const s=T$(this),n=Ju(r);if(typeof i=="string")return s.get(i,n);const a={};return i.forEach(o=>{a[o]=s.get(o,n)}),a}originOf(i){return Ow(this.originIdOf(i))}originIdOf(i){return T$(this).originOf(i)}revert(i,r){const s=T$(this),n=Ju(r),a=Ys(this);let o;o=typeof i=="string"?i==="*"?s.keys(n):[i]:i,o.forEach(l=>{a.invalidate(l),s.revert(l,n),a.commit(l)})}};return e=c([E("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function T$(t){return Ys(t).store}let rq=class extends Are(ce){};rq=c([E("esri.core.ReadOnlyMultiOriginJSONSupport")],rq);const OTe=t=>{let e=class extends t{constructor(...i){super(...i)}clear(i,r="user"){Ys(this).clearOrigin(i,Ju(r))}write(i,r){return TJ(this,i=i||{},r),i}setAtOrigin(i,r,s){Ys(this).setAtOrigin(i,r,Ju(s))}removeOrigin(i){const r=sq(this),s=Ju(i),n=r.keys(s);for(const a of n)r.originOf(a)===s&&r.set(a,r.get(a,s),Oe.USER)}updateOrigin(i,r){const s=sq(this),n=Ju(r),a=_s(this,i);for(let o=n+1;o<nI;++o)s.delete(i,o);s.set(i,a,n)}toJSON(i){return this.write({},i)}};return e=c([E("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function sq(t){return Ys(t).store}const vS=t=>{let e=class extends OTe(Are(t)){constructor(...i){super(...i)}};return e=c([E("esri.core.MultiOriginJSONSupport")],e),e};let gC=class extends vS(ce){};gC=c([E("esri.core.MultiOriginJSONSupport")],gC);async function FTe(t){const e=t.spatialReference;if(e.isWGS84)return t.clone();if(e.isWebMercator)return Xy(t);const i=le.WGS84;return await U7(e,i),Th(t,i)}function NTe(t,e){if(!IR(t,e)){const i=t.typeKeywords;i?i.push(e):t.typeKeywords=[e]}}function IR(t,e){var i;return!!((i=t.typeKeywords)!=null&&i.includes(e))}function Vst(t){return IR(t,ER.HOSTED_SERVICE)}function DTe(t,e){const i=t.typeKeywords;if(i){const r=i.indexOf(e);r>-1&&i.splice(r,1)}}function jst(t,e,i){i?NTe(t,e):DTe(t,e)}async function qst(t){const e=t.clone().normalize();let i;if(e.length>1)for(const r of e)i?r.width>i.width&&(i=r):i=r;else i=e[0];return FTe(i)}const ER={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function zTe(t){var l;const{portal:e,isOrgItem:i,itemControl:r}=t,s=(l=e.user)==null?void 0:l.privileges;let n=!s||s.includes("features:user:edit"),a=!!i&&!!(s!=null&&s.includes("features:user:fullEdit"));const o=r==="update"||r==="admin";return o?a=n=!0:a&&(n=!0),{features:{edit:n,fullEdit:a},content:{updateItem:o}}}let ef=class extends B{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};c([f({type:String,json:{write:{isRequired:!0}}})],ef.prototype,"facilityIdField",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],ef.prototype,"layerId",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],ef.prototype,"nameField",void 0),c([f({type:String,json:{write:!0}})],ef.prototype,"siteIdField",void 0),c([f({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],ef.prototype,"sublayerId",void 0),ef=c([E("esri.layers.support.FacilityLayerInfo")],ef);const VTe=ef;let mo=class extends B{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};c([f({type:String,json:{write:{isRequired:!0}}})],mo.prototype,"facilityIdField",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],mo.prototype,"layerId",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],mo.prototype,"levelIdField",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],mo.prototype,"levelNumberField",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],mo.prototype,"longNameField",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],mo.prototype,"shortNameField",void 0),c([f({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],mo.prototype,"sublayerId",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],mo.prototype,"verticalOrderField",void 0),mo=c([E("esri.layers.support.LevelLayerInfo")],mo);const jTe=mo;let pp=class extends B{constructor(e){super(e),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};c([f({type:String,json:{write:{isRequired:!0}}})],pp.prototype,"layerId",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],pp.prototype,"nameField",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],pp.prototype,"siteIdField",void 0),c([f({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],pp.prototype,"sublayerId",void 0),pp=c([E("esri.layers.support.SiteLayerInfo")],pp);const qTe=pp;let fy=class extends B{constructor(e){super(e),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};c([f({type:jTe,json:{write:{isRequired:!0}}})],fy.prototype,"levelLayer",void 0),c([f({type:VTe,json:{write:{isRequired:!0}}})],fy.prototype,"facilityLayer",void 0),c([f({type:qTe,json:{write:!0}})],fy.prototype,"siteLayer",void 0),fy=c([E("esri.support.MapFloorInfo")],fy);const BTe=fy;var Sc;(function(t){t[t.SAVE=0]="SAVE",t[t.SAVE_AS=1]="SAVE_AS"})(Sc||(Sc={}));var bC;let hy=bC=class extends B{constructor(t){super(t),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new bC(z({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};c([f({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],hy.prototype,"activeRange",void 0),c([f({type:[Number],json:{write:!0}})],hy.prototype,"currentRangeExtent",void 0),c([f({type:[Number],json:{write:!0}})],hy.prototype,"fullRangeExtent",void 0),hy=bC=c([E("esri.webdoc.RangeInfo")],hy);const MR=hy;var vC;let cl=vC=class extends B{constructor(t){super(t),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new vC(z({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};c([f({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],cl.prototype,"enabled",void 0),c([f({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],cl.prototype,"longNames",void 0),c([f({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],cl.prototype,"minimized",void 0),c([f({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],cl.prototype,"pinnedLevels",void 0),c([f({type:String,json:{read:{source:"site"},write:{target:"site"}}})],cl.prototype,"site",void 0),c([f({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],cl.prototype,"facility",void 0),c([f({type:String,json:{read:{source:"level"},write:{target:"level"}}})],cl.prototype,"level",void 0),cl=vC=c([E("esri.webdoc.widgets.FloorFilter")],cl);const UTe=cl;var wC;const g5=new Ie({slider:"slider",picker:"picker"});let py=wC=class extends B{constructor(t){super(t),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new wC({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};c([f({type:g5.apiValues,nonNullable:!0,json:{type:g5.jsonValues,default:null,read:{reader:g5.read},write:{isRequired:!0,writer:g5.write}}})],py.prototype,"interactionMode",void 0),c([f({type:Ye,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const t=this.stopInterval!=null;return{enabled:!t,isRequired:!t}}}}})],py.prototype,"numStops",void 0),c([f({type:Number,json:{write:{overridePolicy(){return{isRequired:this.numStops==null}}}}})],py.prototype,"stopInterval",void 0),py=wC=c([E("esri.webdoc.widgets.Range")],py);const GTe=py,CR=ji()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let Uo=class extends ve.ClonableMixin(B){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return iee(this.value,this.unit,"milliseconds")}};c([oe(CR,{nonNullable:!0})],Uo.prototype,"unit",void 0),c([f({type:Number,json:{write:!0},nonNullable:!0})],Uo.prototype,"value",void 0),Uo=c([E("esri.time.TimeInterval")],Uo);var _C;let fr=_C=class extends B{constructor(t){super(t),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(t){return t?xt.fromArray(t):void 0}writeCurrentTimeExtent(t,e,i){t&&ti(i,t.toArray(),e)}readFullTimeExtent(t,e){const i=e.properties;if(!i)return;const r=i.endTime!=null?new Date(i.endTime):null,s=i.startTime!=null?new Date(i.startTime):null;return new xt({start:s,end:r})}writeFullTimeExtent(t,e){if(!t)return;const i=e.properties=e.properties||{},r=t.end,s=t.start;r&&(i.endTime=r!=null?r.getTime():null),s&&(i.startTime=s!=null?s.getTime():null)}readStopInterval(t,e,i){return t?Uo.fromJSON({value:t.interval,unit:t.units},i):null}writeStopInterval(t,e,i,r){if(!t)return;const s=t.toJSON(r);ti("properties.timeStopInterval",{interval:s.value,units:s.unit},e)}readStops(t){return t!=null&&t.length?t.map(e=>new Date(e)):null}writeStops(t,e,i){t!=null&&t.length&&ti(i,t.map(r=>r.getTime()),e)}clone(){return new _C(z({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};c([f({type:xt,json:{type:[[Ye,l1]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],fr.prototype,"currentTimeExtent",void 0),c([te("currentTimeExtent")],fr.prototype,"readCurrentTimeExtent",null),c([ne("currentTimeExtent")],fr.prototype,"writeCurrentTimeExtent",null),c([f({type:xt,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],fr.prototype,"fullTimeExtent",void 0),c([te("fullTimeExtent")],fr.prototype,"readFullTimeExtent",null),c([ne("fullTimeExtent")],fr.prototype,"writeFullTimeExtent",null),c([f({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],fr.prototype,"loop",void 0),c([f({type:Ye,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var r;const t=!!this.stopInterval,e=!!((r=this.stops)!=null&&r.length),i=!(t||e);return{enabled:i,isRequired:i}}}}})],fr.prototype,"numStops",void 0),c([f({type:[1,2],nonNullable:!0,json:{type:Ye,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],fr.prototype,"numThumbs",void 0),c([f({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],fr.prototype,"stopDelay",void 0),c([f({type:Uo,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:CR.jsonValues.filter(t=>t!=="esriTimeUnitsUnknown")}},overridePolicy(){var i;const t=this.numStops!=null,e=!!((i=this.stops)!=null&&i.length);return{enabled:!e,isRequired:!(t||e)}}}}})],fr.prototype,"stopInterval",void 0),c([te("stopInterval")],fr.prototype,"readStopInterval",null),c([ne("stopInterval")],fr.prototype,"writeStopInterval",null),c([f({type:[Date],json:{type:[Ye],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:this.numStops==null&&!this.stopInterval}}}}})],fr.prototype,"stops",void 0),c([te("stops")],fr.prototype,"readStops",null),c([ne("stops")],fr.prototype,"writeStops",null),fr=_C=c([E("esri.webdoc.widgets.TimeSlider")],fr);const HTe=fr;var SC;let my=SC=class extends B{constructor(t){super(t),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new SC(z({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};c([f({type:GTe,json:{write:!0}})],my.prototype,"range",void 0),c([f({type:HTe,json:{write:!0}})],my.prototype,"timeSlider",void 0),c([f({type:UTe,json:{write:!0}})],my.prototype,"floorFilter",void 0),my=SC=c([E("esri.webdoc.Widgets")],my);const WTe=my,ZTe={width:600,height:400},b5=1.5;function JTe(t,e){e=e||ZTe;let{width:i,height:r}=e;const s=i/r;return s<b5?r=i/b5:s>b5&&(i=r*b5),i>t.width&&(r*=t.width/i,i=t.width),r>t.height&&(i*=t.height/r,r=t.height),{width:Math.round(i),height:Math.round(r)}}function YTe(t,e){return{...Pre(t,e),readResourcePaths:[]}}function Zst(t,e,i){const r=Si(t.itemUrl);return{...Pre(t,e),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:r?{rootPath:r.path,writtenUrls:[]}:null,resources:i?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function Pre(t,e){return{origin:e,url:Si(t.itemUrl),portal:t.portal||ie.getDefault(),portalItem:t}}let pf=class extends B{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(s=>s.toJSON()),i=this.geometries[0],r={};return r.outSR=kb(this.outSpatialReference),r.inSR=kb(i.spatialReference),r.geometries=JSON.stringify({geometryType:s0(i),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};c([f()],pf.prototype,"geometries",void 0),c([f({type:le,json:{read:{source:"outSR"}}})],pf.prototype,"outSpatialReference",void 0),c([f()],pf.prototype,"transformation",void 0),c([f()],pf.prototype,"transformForward",void 0),pf=c([E("esri.rest.support.ProjectParameters")],pf);const XTe=Ft(pf);async function QTe(t,e,i){e=XTe(e);const r=hS(t),s={...r.query,f:"json",...e.toJSON()},n=e.outSpatialReference,a=s0(e.geometries[0]),o=F4e(s,i);return it(r.path+"/project",o).then(({data:{geometries:l}})=>Vte(l,a,n))}function KTe(t,e){var i;return e.resourceInfo?Lre(e,e.resourceInfo,{origin:t.origin}):(i=e.portalItem)!=null&&i.id?eIe(t,e,e.portalItem):Promise.resolve()}function Lre(t,e,i){const r={context:{...i,layerContainerType:"operational-layers"}};return t.portalItem&&(r.context.portal=t.portalItem.portal||ie.getDefault()),R(()=>import("./layersCreator-C6Cvz0ob.js"),__vite__mapDeps([249,250,251,252,253,254])).then(({populateOperationalLayers:s})=>{const n=[],a=e.operationalLayers;a!=null&&a.length&&n.push(s(t.layers,a,r));const o={...r,context:{...r.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},l=e.tables;return l!=null&&l.length&&n.push(s(t.tables,l,o)),Promise.allSettled(n).then(()=>{})})}async function eIe(t,e,i){var a;if(await i.load().catch(o=>{throw new P(`${t.name}:load-portal-item`,"Failed to load portal item",{error:o})}),i.type!==t.itemType)throw new P(`${t.name}:invalid-portal-item`,`Invalid portal item type '${i.type}', expected '${t.itemType}'`,{type:i.type});const r=await i.fetchData();e.resourceInfo=r;const s=YTe(i,t.origin);await tIe(t,e,r,s),e.resourceReferences={portalItem:i,paths:s.readResourcePaths};const n=await rIe(e.initialViewProperties,i,W.getLogger(e));if(n){const o=((a=e.initialViewProperties)==null?void 0:a.clone())??t.createInitialViewProperties();o.viewpoint=n,e.initialViewProperties=o}}function tIe(t,e,i,r){const s=iIe(t,i);return e.read(s,r),Lre(e,s,r)}function iIe(t,e){const i=t.parseVersion(e.version||"",t.name);return t.currentVersion.validate(i),e.version=`${i.major}.${i.minor}`,e}async function rIe(t,e,i){var n;if((n=t==null?void 0:t.viewpoint)==null?void 0:n.targetGeometry)return null;const s=await sIe(t,e,i);return s?new er({targetGeometry:s}):null}async function sIe(t,e,i){const r=t==null?void 0:t.spatialReference,s=e==null?void 0:e.extent;if(!r||!s)return null;if(r.isWGS84)return s.clone();if(r.isWebMercator)return Gf(s);const{getGeometryServiceURL:n}=await R(()=>import("./geometryServiceUtils-Cd3YRrzB.js"),[]);try{const a=await n(e),o=new pf({geometries:[s],outSpatialReference:r});return(await QTe(a,o))[0]}catch(a){i.error("Error projecting item's extent:",a)}return null}function nq(t){return{enabled:!!(t!=null&&t.length)}}var xC;let yy=xC=class extends B{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new xC({exactMatch:this.exactMatch,type:this.type,name:this.name})}};c([f({type:Boolean,json:{write:!0}})],yy.prototype,"exactMatch",void 0),c([f({type:String,json:{write:!0}})],yy.prototype,"name",void 0),c([oe(w1)],yy.prototype,"type",void 0),yy=xC=c([E("esri.webdoc.applicationProperties.SearchLayerField")],yy);const nIe=yy;var $C;let gy=$C=class extends B{constructor(t){super(t),this.field=null,this.id=null,this.subLayer=null}clone(){return new $C(z({field:this.field,id:this.id,subLayer:this.subLayer}))}};c([f({type:nIe,json:{write:{isRequired:!0}}})],gy.prototype,"field",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],gy.prototype,"id",void 0),c([f({type:Ye,json:{write:!0}})],gy.prototype,"subLayer",void 0),gy=$C=c([E("esri.webdoc.applicationProperties.SearchLayer")],gy);const aIe=gy;var TC;let by=TC=class extends B{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new TC({exactMatch:this.exactMatch,type:this.type,name:this.name})}};c([f({type:Boolean,json:{write:!0}})],by.prototype,"exactMatch",void 0),c([f({type:String,json:{write:!0}})],by.prototype,"name",void 0),c([oe(w1)],by.prototype,"type",void 0),by=TC=c([E("esri.webdoc.applicationProperties.SearchTableField")],by);const oIe=by;var IC;let u2=IC=class extends B{constructor(t){super(t),this.field=null,this.id=null}clone(){return new IC(z({field:this.field,id:this.id}))}};c([f({type:oIe,json:{write:{isRequired:!0}}})],u2.prototype,"field",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],u2.prototype,"id",void 0),u2=IC=c([E("esri.webdoc.applicationProperties.SearchTable")],u2);const lIe=u2;var EC;const Rre=K.ofType(aIe),Ore=K.ofType(lIe);let ul=EC=class extends B{constructor(t){super(t),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new Rre,this.tables=new Ore}readAddressSearchEnabled(t){return!t}writeAddressSearchEnabled(t,e,i){e[i]=!t}clone(){return new EC(z({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};c([f({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],ul.prototype,"addressSearchEnabled",void 0),c([te("addressSearchEnabled")],ul.prototype,"readAddressSearchEnabled",null),c([ne("addressSearchEnabled")],ul.prototype,"writeAddressSearchEnabled",null),c([f({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],ul.prototype,"enabled",void 0),c([f({type:String,json:{write:!0}})],ul.prototype,"hintText",void 0),c([f({type:Rre,json:{write:{overridePolicy:nq},origins:{"web-scene":{write:{isRequired:!0}}}}})],ul.prototype,"layers",void 0),c([f({type:Ore,json:{read:!0,write:{overridePolicy:nq}}})],ul.prototype,"tables",void 0),ul=EC=c([E("esri.webdoc.applicationProperties.Search")],ul);const cIe=ul;var MC;let m6=MC=class extends B{constructor(t){super(t),this.search=null}clone(){return new MC(z({search:this.search}))}};c([f({type:cIe,json:{write:!0}})],m6.prototype,"search",void 0),m6=MC=c([E("esri.webdoc.applicationProperties.Viewing")],m6);const uIe=m6;var CC;let vy=CC=class extends B{constructor(t){super(t),this.editing=null,this.offline=null,this.viewing=null}clone(){return new CC(z({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};c([f({json:{write:!0}})],vy.prototype,"editing",void 0),c([f({json:{write:!0}})],vy.prototype,"offline",void 0),c([f({type:uIe,json:{write:!0}})],vy.prototype,"viewing",void 0),vy=CC=c([E("esri.webmap.ApplicationProperties")],vy);const dIe=vy;var kC;let ra=kC=class extends B{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return NJ(this.url)}get isDataURI(){return vd(this.url)}clone(){return new kC({url:this.url})}};c([f({type:String,json:{write:{isRequired:!0}}})],ra.prototype,"url",void 0),c([f()],ra.prototype,"isSecureUrl",null),c([f()],ra.prototype,"isDataURI",null),ra=kC=c([E("esri.webdoc.support.SlideThumbnail")],ra);const fIe={type:xt,json:{read:{source:"timeExtent",reader:t=>t?Array.isArray(t)?xt.fromArray(t):xt.fromJSON(t):null},write:{writer:(t,e,i,r)=>{t&&(t.isEmpty?r!=null&&r.messages&&r.messages.push(new P("invalid-timeExtent","TimeExtent cannot be empty")):e[i]=t.toArray())},target:{timeExtent:{type:[[Ye,l1]]}}}}};var AC;let dl=AC=class extends An.IdentifiableMixin(B){constructor(t){super(t),this.name=null,this.thumbnail=new ra,this.timeExtent=null}castThumbnail(t){return typeof t=="string"?new ra({url:t}):Ft(ra,t)}set viewpoint(t){const{targetGeometry:e,scale:i}=t;e!=null&&e.type==="point"&&i==null&&W.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",t),this._set("viewpoint",t)}readViewpoint(t,e){const{extent:i,viewpoint:r}=e;return er.fromJSON(r||{targetGeometry:i})}writeViewpoint(t,e,i,r){if(!t)return;const{targetGeometry:s}=t;if(s==null||s.type==="extent")s!=null&&(e.extent=s.toJSON()),e[i]=t.toJSON();else{const n="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";r!=null&&r.messages?r.messages.push(new P("property:unsupported",n)):W.getLogger(this).error(n)}}clone(){return new AC(z({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};c([f({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],dl.prototype,"name",void 0),c([f({type:ra,json:{write:{overridePolicy:t=>({enabled:!(!t||!t.url)})}}})],dl.prototype,"thumbnail",void 0),c([Xe("thumbnail")],dl.prototype,"castThumbnail",null),c([f(fIe)],dl.prototype,"timeExtent",void 0),c([f({type:er,nonNullable:!0,json:{write:!0}})],dl.prototype,"viewpoint",null),c([te("viewpoint",["extent","viewpoint"])],dl.prototype,"readViewpoint",null),c([ne("viewpoint")],dl.prototype,"writeViewpoint",null),dl=AC=c([E("esri.webmap.Bookmark")],dl);const kR=dl;let gu=class extends ve.ClonableMixin(ce){constructor(e){super(e),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=Xs,this.viewpoint=null}};c([f({type:bS})],gu.prototype,"background",void 0),c([f({type:MR})],gu.prototype,"rangeInfo",void 0),c([f({type:le})],gu.prototype,"spatialReference",void 0),c([f({type:xt})],gu.prototype,"timeExtent",void 0),c([f({nonNullable:!0})],gu.prototype,"timeZone",void 0),c([f({type:er})],gu.prototype,"viewpoint",void 0),gu=c([E("esri.webmap.InitialViewProperties")],gu);const x8=gu,Fre=K.ofType(kR),hIe=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),pIe="ArcGIS Pro",mIe=ER.JSAPI;let Gt=class extends vS(lr.LoadableMixin(qo.EsriPromiseMixin(see))){constructor(e){super(e),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new Fre,this.floorInfo=null,this.initialViewProperties=new x8,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=Cc(async(i,r,s)=>{const{save:n,saveAs:a}=await R(()=>import("./webdocSaveUtils-95cE7YjM.js"),__vite__mapDeps([337,338,339,340,341]));switch(i){case Sc.SAVE:return n(this.context,this,r);case Sc.SAVE_AS:return a(this.context,this,s,r)}}),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=Lt(this.portalItem)}initialize(){if(this.when().catch(e=>{W.getLogger(this).error("#load()","Failed to load web map",e)}),this.resourceInfo){let e;try{e=this._validateJSON(this.resourceInfo)}catch(i){return void this.addResolvingPromise(Promise.reject(i))}this.read(e)}}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",e)}writeAuthoringApp(e,i){e&&this._isAuthoringAppSetByUser?i.authoringApp=e:i.authoringApp=mIe}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",e)}writeAuthoringAppVersion(e,i){e&&this._isAuthoringAppVersionSetByUser?i.authoringAppVersion=e:i.authoringAppVersion=HJ}readInitialViewProperties(e,i){var a,o;const r=new x8;i.background&&(r.background=bS.fromJSON(i.background));const s=(a=i.initialState)==null?void 0:a.timeExtent;s&&(r.timeExtent=xt.fromArray(s));const n=(o=i.initialState)==null?void 0:o.viewpoint;return n&&(n.rotation&&Fg.parse(i.version||"","webmap").lessThan(2,20)&&i.authoringApp===pIe&&(n.rotation*=-1),r.viewpoint=er.fromJSON(n)),i.mapRangeInfo&&(r.rangeInfo=MR.fromJSON(i.mapRangeInfo)),i.spatialReference&&(r.spatialReference=le.fromJSON(i.spatialReference)),i.timeZone&&(r.timeZone=i.timeZone),r}writeInitialViewProperties(e,i,r,s){var o;if(!e)return;(o=e.background)!=null&&o.color&&(i.background=e.background.write({},s));const{timeExtent:n,viewpoint:a}=e;if(a||n){const l={};a&&(l.viewpoint=a.write({},s)),n&&(l.timeExtent=n.toArray()),i.initialState=l}e.rangeInfo&&(i.mapRangeInfo=e.rangeInfo.toJSON(s)),e.spatialReference&&(i.spatialReference=e.spatialReference.write({},s)),i.timeZone=e.timeZone}writeLayers(e,i,r,s){i[r]=this._writeLayers(e,s,"operational-layers")}readSourceVersion(e,i){const[r,s]=i.version.split(".");return new Fg(parseInt(r,10),parseInt(s,10))}writeSourceVersion(e,i,r){i[r]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(e,i,r,s){const n=this._writeLayers(e,s,"tables");n.length&&(i[r]=n)}get thumbnailUrl(){var e;return((e=this.portalItem)==null?void 0:e.thumbnailUrl)||null}set thumbnailUrl(e){e?(this._override("thumbnailUrl",e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(e){return this.addResolvingPromise(KTe(this.context,this)),Promise.resolve(this)}loadAll(){return Z7(this,e=>{e(this.ground,this.basemap,this.layers,this.tables)})}read(e,i){i={...i,origin:this.context.origin};const r=this._getAuthoringPropsState();xJ(this,e,s=>super.read(e,s),i),this._restoreAuthoringPropsFromState(r)}write(e,i){if(this.loadStatus!=="loaded"){const r=new P("webmap:not-loaded","Web map must be loaded before it can be serialized");throw W.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),r}return this._removeDanglingLayerRefs(),i={...i,origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this},super.write(e,i)}async save(e){return this._debouncedSaveOperations(Sc.SAVE,e)}async saveAs(e,i){return this._debouncedSaveOperations(Sc.SAVE_AS,i,e)}async updateFrom(e,i){const r=this._updateFromInternal(e,i);this._updateFromPromise=r,await r,r===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(e){var r,s,n,a;const i=this.resourceInfo;return this._collectAllLayersJSON([...((r=i==null?void 0:i.baseMap)==null?void 0:r.baseMapLayers)||[],...(i==null?void 0:i.operationalLayers)||[],...((a=(n=(s=this.basemap)==null?void 0:s.resourceInfo)==null?void 0:n.data)==null?void 0:a.baseMapLayers)||[]]).find(o=>o.id===e.id)}async updateItemThumbnail(){var e;this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await((e=this.portalItem)==null?void 0:e.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename})),this._clearThumbnailOverride())}getThumbnailState(){let e=this.thumbnailUrl;return e&&(e=this._isOverridden("thumbnailUrl")?e:jJ(e,"w","8192")),{thumbnailUrl:e,filename:this._thumbnailFilename}}restoreThumbnailFromState(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename}_collectAllLayersJSON(e){return e.reduce((i,r)=>(i.push(r),r.layerType==="GroupLayer"&&(i=i.concat(this._collectAllLayersJSON(r.layers||[]))),i),[])}_writeLayers(e,i,r){return i={...i,layerContainerType:r},e.map(s=>cE(s,r==="tables"?null:this.getLayerJSONFromResourceInfo(s),i)).filter(Kt).toArray()}_validateJSON(e){const i=Fg.parse(e.version||"","webmap");return this.context.currentVersion.validate(i),e.version=`${i.major}.${i.minor}`,e}_removeDanglingLayerRefs(){var a,o;const e=this.applicationProperties,i=(a=e==null?void 0:e.viewing)==null?void 0:a.search,r=l=>this.allLayers.some(u=>u.id===l);if(i!=null&&i.layers&&(i.layers=i.layers.filter(l=>r(l.id))),i!=null&&i.tables&&(i.tables=i.tables.filter(l=>this.tables.some(u=>u.id===l.id))),e){const l=(o=e.editing)==null?void 0:o.locationTracking;l!=null&&l.info&&!r(l.info.layerId)&&(e.editing=null)}const s="presentation"in this?this.presentation:null,n=s==null?void 0:s.slides;n&&n.forEach(l=>{l.visibleLayers&&(l.visibleLayers=l.visibleLayers.filter(u=>r(u.id)))})}async _updateFromInternal(e,i){if(i??(i={}),await cd(()=>e.ready),this._updateInitialViewProperties(e,i),e.map===this)for(const r of e.allLayerViews)"visible"in r&&"visible"in r.layer&&r._isOverridden("visible")&&(r.layer.visible=r.visible),"featureEffect"in r&&"featureEffect"in r.layer&&r._isOverridden("featureEffect")&&(r.layer.featureEffect=r.featureEffect);await this._updateThumbnailUrl(e,i)}_updateInitialViewProperties(e,i){var r,s;if(i.backgroundExcluded||(this.initialViewProperties.background=(r=e.background)==null?void 0:r.clone()),this.initialViewProperties.spatialReference=(s=e.spatialReference)==null?void 0:s.clone(),this.initialViewProperties.timeZone=e.timeZone,i.viewpointExcluded||(this.initialViewProperties.viewpoint=new er({rotation:e.rotation,scale:i.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!i.widgetsExcluded)for(const n of e.persistableViewModels)n.updateWebDocument(this)}_getViewExtent(e){const i=e.center.clone().normalize(),r=e.extent.clone(),s=r.width/2;return r.xmin=i.x-s,r.xmax=i.x+s,r}async _updateThumbnailUrl(e,i){if(i.thumbnailExcluded)return;const r=JTe(e,i.thumbnailSize),s=await e.takeScreenshot({format:"png",width:r.width,height:r.height});this._setAutoGeneratedThumbnail(s.dataUrl)}_setAutoGeneratedThumbnail(e){this.thumbnailUrl=e,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(e){if(vd(e)){const i=qm(e),r=i==null?void 0:i.mediaType,s=r&&hIe.get(r.toLowerCase())||null,n=`thumbnail${Date.now()}`;return s?`${n}.${s}`:n}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};c([f()],Gt.prototype,"_updateFromPromise",void 0),c([f({type:dIe,json:{write:!0}})],Gt.prototype,"applicationProperties",void 0),c([f({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Gt.prototype,"authoringApp",null),c([ne("authoringApp")],Gt.prototype,"writeAuthoringApp",null),c([f({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Gt.prototype,"authoringAppVersion",null),c([ne("authoringAppVersion")],Gt.prototype,"writeAuthoringAppVersion",null),c([f({type:Fre,json:{write:{overridePolicy:t=>({enabled:!!(t&&t.length>0),ignoreOrigin:!0})}}})],Gt.prototype,"bookmarks",void 0),c([f({type:BTe,json:{name:"mapFloorInfo",write:!0}})],Gt.prototype,"floorInfo",void 0),c([f({type:x8,nonNullable:!0,json:{read:{source:["background","initialState.timeExtent","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:bS},"initialState.timeExtent":{type:xt},"initialState.viewpoint":{type:er},mapRangeInfo:{type:MR},spatialReference:{type:le},"timeZone:":{type:String}}}}})],Gt.prototype,"initialViewProperties",void 0),c([te("initialViewProperties")],Gt.prototype,"readInitialViewProperties",null),c([ne("initialViewProperties")],Gt.prototype,"writeInitialViewProperties",null),c([f({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],Gt.prototype,"layers",void 0),c([ne("layers")],Gt.prototype,"writeLayers",null),c([f({type:ke})],Gt.prototype,"portalItem",void 0),c([f()],Gt.prototype,"resourceInfo",void 0),c([f({readOnly:!0,type:Fg,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],Gt.prototype,"sourceVersion",void 0),c([te("sourceVersion")],Gt.prototype,"readSourceVersion",null),c([ne("sourceVersion")],Gt.prototype,"writeSourceVersion",null),c([f({json:{read:!1,write:{ignoreOrigin:!0}}})],Gt.prototype,"tables",void 0),c([ne("tables")],Gt.prototype,"writeTables",null),c([f()],Gt.prototype,"thumbnailUrl",null),c([f()],Gt.prototype,"updatingFromView",null),c([f({type:WTe,json:{write:!0}})],Gt.prototype,"widgets",void 0),Gt=c([E("esri.WebDocument2D")],Gt);const yIe=Gt,Vt=(t=>t)(["operational-layers","basemap","ground"]);var PC;let mp=PC=class extends B{constructor(t){super(t),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new PC({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([f({type:String,json:{write:!0}})],mp.prototype,"expression",void 0),c([f({type:String,json:{write:!0}})],mp.prototype,"name",void 0),c([f({type:["boolean","date","number","string"],json:{write:!0}})],mp.prototype,"returnType",void 0),c([f({type:String,json:{write:!0}})],mp.prototype,"title",void 0),mp=PC=c([E("esri.form.ExpressionInfo")],mp);const gIe=mp;let yp=class extends B{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};c([f({type:String,json:{write:!0}})],yp.prototype,"description",void 0),c([f({type:String,json:{write:!0}})],yp.prototype,"label",void 0),c([f()],yp.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],yp.prototype,"visibilityExpression",void 0),yp=c([E("esri.form.elements.Element")],yp);const bh=yp;let y6=class extends ve.ClonableMixin(B){constructor(e){super(e),this.type=null}};c([f()],y6.prototype,"type",void 0),y6=c([E("esri.form.elements.inputs.attachments.Input")],y6);const vh=y6,wS=["any","capture","upload"];let wy=class extends vh{constructor(e){super(e),this.type="audio",this.inputMethod="any",this.maxDuration=null}};c([f({type:["audio"],readOnly:!0,json:{write:!0}})],wy.prototype,"type",void 0),c([f({type:wS,json:{write:!0}})],wy.prototype,"inputMethod",void 0),c([f({type:Number,json:{write:!0}})],wy.prototype,"maxDuration",void 0),wy=c([E("esri.form.elements.inputs.attachments.AudioInput")],wy);const aq=wy;let d2=class extends vh{constructor(e){super(e),this.type="document",this.maxFileSize=null}};c([f({type:["document"],readOnly:!0,json:{write:!0}})],d2.prototype,"type",void 0),c([f({type:Number,json:{write:!0}})],d2.prototype,"maxFileSize",void 0),d2=c([E("esri.form.elements.inputs.attachments.DocumentInput")],d2);const oq=d2;let _y=class extends vh{constructor(e){super(e),this.type="image",this.inputMethod="any",this.maxImageSize=null}};c([f({type:["image"],readOnly:!0,json:{write:!0}})],_y.prototype,"type",void 0),c([f({type:wS,json:{write:!0}})],_y.prototype,"inputMethod",void 0),c([f({type:Number,json:{write:!0}})],_y.prototype,"maxImageSize",void 0),_y=c([E("esri.form.elements.inputs.attachments.ImageInput")],_y);const lq=_y;let f2=class extends vh{constructor(e){super(e),this.type="signature",this.inputMethod="any"}};c([f({type:["signature"],readOnly:!0,json:{write:!0}})],f2.prototype,"type",void 0),c([f({type:wS,json:{write:!0}})],f2.prototype,"inputMethod",void 0),f2=c([E("esri.form.elements.inputs.attachments.SignatureInput")],f2);const cq=f2;let Sy=class extends vh{constructor(e){super(e),this.type="video",this.inputMethod="any",this.maxDuration=null}};c([f({type:["video"],readOnly:!0,json:{write:!0}})],Sy.prototype,"type",void 0),c([f({type:wS,json:{write:!0}})],Sy.prototype,"inputMethod",void 0),c([f({type:Number,json:{write:!0}})],Sy.prototype,"maxDuration",void 0),Sy=c([E("esri.form.elements.inputs.attachments.VideoInput")],Sy);const uq=Sy;function Nre(t){return{nestableTypes:{base:vh,key:"type",typeMap:{audio:aq,document:oq,image:lq,signature:cq,video:uq}},allTypes:{base:vh,key:"type",typeMap:{attachment:t,audio:aq,document:oq,image:lq,signature:cq,video:uq}}}}function bIe(t,e,i){return t?t.map(r=>Nc(e.nestableTypes,r)):null}function vIe(t,e,i){if(!t)return null;const r=e.nestableTypes.typeMap;return t.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function wIe(t,e,i){if(!t)return null;const r=e.nestableTypes.typeMap;return t.filter(s=>r[s.type]).map(s=>s.toJSON())}let Sl=class extends vh{constructor(e){super(e),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(e){return bIe(e,I$)}readInputs(e,i){return vIe(i.inputTypes,I$)}writeInputs(e,i){i.inputTypes=wIe(e,I$)}};c([f({type:["attachment"],readOnly:!0,json:{write:!0}})],Sl.prototype,"type",void 0),c([f({type:["any","exact","exactOrNone"],json:{write:!0}})],Sl.prototype,"attachmentAssociationType",void 0),c([f({json:{write:{isRequired:!0}}})],Sl.prototype,"inputTypes",void 0),c([Xe("inputTypes")],Sl.prototype,"castInputs",null),c([te("inputTypes")],Sl.prototype,"readInputs",null),c([ne("inputTypes")],Sl.prototype,"writeInputs",null),Sl=c([E("esri.form.elements.inputs.attachments.AttachmentInput")],Sl);const I$=Nre(Sl),_Ie=Sl;var LC;const SIe=Nre(_Ie);let Un=LC=class extends bh{constructor(t){super(t),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){var t;return new LC({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:(t=this.input)==null?void 0:t.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};c([f({type:Boolean,json:{write:!0}})],Un.prototype,"allowUserRename",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],Un.prototype,"attachmentKeyword",void 0),c([f({type:Boolean,json:{write:!0}})],Un.prototype,"displayFilename",void 0),c([f({type:String,json:{write:!0}})],Un.prototype,"editableExpression",void 0),c([f({type:String,json:{write:!0}})],Un.prototype,"filenameExpression",void 0),c([f({types:SIe.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],Un.prototype,"input",void 0),c([f({type:Number,json:{write:!0}})],Un.prototype,"maxAttachmentCount",void 0),c([f({type:Number,json:{write:!0}})],Un.prototype,"minAttachmentCount",void 0),c([f({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],Un.prototype,"type",void 0),c([f({type:Boolean,json:{write:!0}})],Un.prototype,"useOriginalFilename",void 0),Un=LC=c([E("esri.form.elements.AttachmentElement")],Un);const dq=Un;let g6=class extends B{constructor(e){super(e),this.type=null}};c([f()],g6.prototype,"type",void 0),g6=c([E("esri.form.elements.inputs.Input")],g6);const Sd=g6;let h2=class extends Sd{constructor(e){super(e),this.maxLength=null,this.minLength=0}};c([f({type:Number,json:{write:!0}})],h2.prototype,"maxLength",void 0),c([f({type:Number,json:{write:!0}})],h2.prototype,"minLength",void 0),h2=c([E("esri.form.elements.inputs.TextInput")],h2);const AR=h2;var RC;let b6=RC=class extends AR{constructor(t){super(t),this.type="barcode-scanner"}clone(){return new RC({maxLength:this.maxLength,minLength:this.minLength})}};c([f({type:["barcode-scanner"],json:{read:!1,write:!0}})],b6.prototype,"type",void 0),b6=RC=c([E("esri.form.elements.inputs.BarcodeScannerInput")],b6);const xIe=b6;var OC;let xy=OC=class extends Sd{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new OC({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};c([f({type:String,json:{write:!0}})],xy.prototype,"noValueOptionLabel",void 0),c([f({type:Boolean,json:{write:!0}})],xy.prototype,"showNoValueOption",void 0),c([f({type:["combo-box"],json:{read:!1,write:!0}})],xy.prototype,"type",void 0),xy=OC=c([E("esri.form.elements.inputs.ComboBoxInput")],xy);const $Ie=xy;var FC;function fq(t){return t??null}function hq(t){return t??null}let fl=FC=class extends Sd{constructor(t){super(t),this.max=null,this.min=null,this.type="date-picker"}readMax(t,e){return fq(e.max)}writeMax(t,e){e.max=hq(t)}readMin(t,e){return fq(e.min)}writeMin(t,e){e.min=hq(t)}clone(){return new FC({max:this.max,min:this.min})}};c([f({type:String,json:{type:String,write:!0}})],fl.prototype,"max",void 0),c([te("max")],fl.prototype,"readMax",null),c([ne("max")],fl.prototype,"writeMax",null),c([f({type:String,json:{type:String,write:!0}})],fl.prototype,"min",void 0),c([te("min")],fl.prototype,"readMin",null),c([ne("min")],fl.prototype,"writeMin",null),c([f({type:["date-picker"],json:{read:!1,write:!0}})],fl.prototype,"type",void 0),fl=FC=c([E("esri.form.elements.inputs.DatePickerInput")],fl);const TIe=fl;var NC;function E$(t){return t??null}function M$(t){return t??null}let sn=NC=class extends Sd{constructor(t){super(t),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(t,e){return E$(e.max)}writeMax(t,e){e.max=M$(t)}readMin(t,e){return E$(e.min)}writeMin(t,e){e.min=M$(t)}readTimeResolution(t,e){return E$(e.timeResolution)}writeTimeResolution(t,e){e.timeResolution=M$(t)}clone(){return new NC({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};c([f({type:Boolean,json:{write:!0}})],sn.prototype,"includeTimeOffset",void 0),c([f({type:String,json:{type:String,write:!0}})],sn.prototype,"max",void 0),c([te("max")],sn.prototype,"readMax",null),c([ne("max")],sn.prototype,"writeMax",null),c([f({type:String,json:{type:String,write:!0}})],sn.prototype,"min",void 0),c([te("min")],sn.prototype,"readMin",null),c([ne("min")],sn.prototype,"writeMin",null),c([f({type:String,json:{type:String,write:!0}})],sn.prototype,"timeResolution",void 0),c([te("timeResolution")],sn.prototype,"readTimeResolution",null),c([ne("timeResolution")],sn.prototype,"writeTimeResolution",null),c([f({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],sn.prototype,"type",void 0),sn=NC=c([E("esri.form.elements.inputs.DateTimeOffsetPickerInput")],sn);const IIe=sn;var DC;function pq(t){return t!=null?new Date(t):null}function mq(t){return t?t.getTime():null}let yo=DC=class extends Sd{constructor(t){super(t),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(t,e){return pq(e.max)}writeMax(t,e){e.max=mq(t)}readMin(t,e){return pq(e.min)}writeMin(t,e){e.min=mq(t)}clone(){return new DC({includeTime:this.includeTime,max:this.max,min:this.min})}};c([f({type:Boolean,json:{write:!0}})],yo.prototype,"includeTime",void 0),c([f({type:Date,json:{type:Number,write:!0}})],yo.prototype,"max",void 0),c([te("max")],yo.prototype,"readMax",null),c([ne("max")],yo.prototype,"writeMax",null),c([f({type:Date,json:{type:Number,write:!0}})],yo.prototype,"min",void 0),c([te("min")],yo.prototype,"readMin",null),c([ne("min")],yo.prototype,"writeMin",null),c([f({type:["datetime-picker"],json:{read:!1,write:!0}})],yo.prototype,"type",void 0),yo=DC=c([E("esri.form.elements.inputs.DateTimePickerInput")],yo);const EIe=yo;var zC;let $y=zC=class extends Sd{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new zC({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};c([f({type:String,json:{write:!0}})],$y.prototype,"noValueOptionLabel",void 0),c([f({type:Boolean,json:{write:!0}})],$y.prototype,"showNoValueOption",void 0),c([f({type:["radio-buttons"],json:{read:!1,write:!0}})],$y.prototype,"type",void 0),$y=zC=c([E("esri.form.elements.inputs.RadioButtonsInput")],$y);const MIe=$y;var VC;let Ty=VC=class extends Sd{constructor(t){super(t),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new VC({offValue:this.offValue,onValue:this.onValue})}};c([f({type:[String,Number],json:{write:!0}})],Ty.prototype,"offValue",void 0),c([f({type:[String,Number],json:{write:!0}})],Ty.prototype,"onValue",void 0),c([f({type:["switch"],json:{read:!1,write:!0}})],Ty.prototype,"type",void 0),Ty=VC=c([E("esri.form.elements.inputs.SwitchInput")],Ty);const CIe=Ty;var jC;let v6=jC=class extends AR{constructor(t){super(t),this.type="text-area"}clone(){return new jC({maxLength:this.maxLength,minLength:this.minLength})}};c([f({type:["text-area"],json:{read:!1,write:!0}})],v6.prototype,"type",void 0),v6=jC=c([E("esri.form.elements.inputs.TextAreaInput")],v6);const kIe=v6;var qC;let w6=qC=class extends AR{constructor(t){super(t),this.type="text-box"}clone(){return new qC({maxLength:this.maxLength,minLength:this.minLength})}};c([f({type:["text-box"],json:{read:!1,write:!0}})],w6.prototype,"type",void 0),w6=qC=c([E("esri.form.elements.inputs.TextBoxInput")],w6);const AIe=w6;var BC;function C$(t){return t??null}function k$(t){return t??null}let Gn=BC=class extends Sd{constructor(t){super(t),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(t,e){return C$(e.max)}writeMax(t,e){e.max=k$(t)}readMin(t,e){return C$(e.min)}writeMin(t,e){e.min=k$(t)}readTimeResolution(t,e){return C$(e.timeResolution)}writeTimeResolution(t,e){e.timeResolution=k$(t)}clone(){return new BC({max:this.max,min:this.min,timeResolution:this.timeResolution})}};c([f({type:String,json:{type:String,write:!0}})],Gn.prototype,"max",void 0),c([te("max")],Gn.prototype,"readMax",null),c([ne("max")],Gn.prototype,"writeMax",null),c([f({type:String,json:{type:String,write:!0}})],Gn.prototype,"min",void 0),c([te("min")],Gn.prototype,"readMin",null),c([ne("min")],Gn.prototype,"writeMin",null),c([f({type:String,json:{type:String,write:!0}})],Gn.prototype,"timeResolution",void 0),c([te("timeResolution")],Gn.prototype,"readTimeResolution",null),c([ne("timeResolution")],Gn.prototype,"writeTimeResolution",null),c([f({type:["time-picker"],json:{read:!1,write:!0}})],Gn.prototype,"type",void 0),Gn=BC=c([E("esri.form.elements.inputs.TimePickerInput")],Gn);const PIe=Gn,LIe={base:Sd,key:"type",typeMap:{"barcode-scanner":xIe,"combo-box":$Ie,"date-picker":TIe,"datetime-picker":EIe,"datetimeoffset-picker":IIe,"radio-buttons":MIe,switch:CIe,"text-area":kIe,"text-box":AIe,"time-picker":PIe}};var UC;let Sa=UC=class extends bh{constructor(t){super(t),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new UC({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};c([f({types:lte,json:{read:{reader:cS},write:!0}})],Sa.prototype,"domain",void 0),c([f({type:Boolean,json:{write:!0}})],Sa.prototype,"editable",void 0),c([f({type:String,json:{write:!0}})],Sa.prototype,"editableExpression",void 0),c([f({type:String,json:{write:!0}})],Sa.prototype,"fieldName",void 0),c([f({type:String,json:{write:!0}})],Sa.prototype,"hint",void 0),c([f({types:LIe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Sa.prototype,"input",void 0),c([f({type:String,json:{write:!0}})],Sa.prototype,"requiredExpression",void 0),c([f({type:String,json:{read:!1,write:!0}})],Sa.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],Sa.prototype,"valueExpression",void 0),Sa=UC=c([E("esri.form.elements.FieldElement")],Sa);const yq=Sa;var GC;let bu=GC=class extends bh{constructor(t){super(t),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new GC({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:z(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};c([f({type:Number,json:{write:!0}})],bu.prototype,"displayCount",void 0),c([f({type:["list"],json:{write:!0}})],bu.prototype,"displayType",void 0),c([f({type:String,json:{write:!0}})],bu.prototype,"editableExpression",void 0),c([f({type:[KL],json:{write:!0}})],bu.prototype,"orderByFields",void 0),c([f({type:Number,json:{write:!0}})],bu.prototype,"relationshipId",void 0),c([f({type:["relationship"],json:{read:!1,write:!0}})],bu.prototype,"type",void 0),bu=GC=c([E("esri.form.elements.RelationshipElement")],bu);const gq=bu;var HC;let Iy=HC=class extends bh{constructor(t){super(t),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new HC({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};c([f({type:String,json:{write:!0}})],Iy.prototype,"text",void 0),c([f({type:String,json:{write:!0}})],Iy.prototype,"textFormat",void 0),c([f({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Iy.prototype,"type",void 0),Iy=HC=c([E("esri.form.elements.TextElement")],Iy);const bq=Iy;let Ey=class extends ve.ClonableMixin(bh){constructor(e){super(e),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};c([f({type:[Ree],json:{write:{isRequired:!0}}})],Ey.prototype,"associationTypes",void 0),c([f({type:String,json:{write:!0}})],Ey.prototype,"editableExpression",void 0),c([f({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],Ey.prototype,"type",void 0),Ey=c([E("esri.form.elements.UtilityNetworkAssociationsElement")],Ey);const vq=Ey,RIe=t=>t.type==="field",OIe=t=>t.type==="group",FIe=t=>t.type==="text";function Dre(t){return{typesWithGroup:{base:bh,key:"type",typeMap:{attachment:dq,field:yq,group:t,relationship:gq,text:bq,utilityNetworkAssociations:vq}},typesWithoutGroup:{base:bh,key:"type",typeMap:{attachment:dq,field:yq,relationship:gq,text:bq,utilityNetworkAssociations:vq}}}}function zre(t,e,i=!0){if(!t)return null;const r=i?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter(s=>r[s.type]).map(s=>r[s.type].fromJSON(s))}function Vre(t,e,i=!0){if(!t)return null;const r=i?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter(s=>r[s.type]).map(s=>s.toJSON())}function jre(t,e,i=!0){return t?t.map(r=>Nc(i?e.typesWithGroup:e.typesWithoutGroup,r)):null}var WC;let xl=WC=class extends bh{constructor(t){super(t),this.elements=null,this.initialState="expanded",this.type="group"}castElements(t){return jre(t,A$,!1)}readElements(t,e){return zre(e.formElements,A$,!1)}writeElements(t,e){e.formElements=Vre(t,A$,!1)}clone(){return new WC({description:this.description,elements:z(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};c([f({json:{write:!0}})],xl.prototype,"elements",void 0),c([Xe("elements")],xl.prototype,"castElements",null),c([te("elements",["formElements"])],xl.prototype,"readElements",null),c([ne("elements")],xl.prototype,"writeElements",null),c([f({type:["collapsed","expanded"],json:{write:!0}})],xl.prototype,"initialState",void 0),c([f({type:String,json:{read:!1,write:!0}})],xl.prototype,"type",void 0),xl=WC=c([E("esri.form.elements.GroupElement")],xl);const A$=Dre(xl),NIe=xl;var ZC;const P$=Dre(NIe);let go=ZC=class extends B{constructor(t){super(t),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(t){return jre(t,P$)}readElements(t,e){return zre(e.formElements,P$)}writeElements(t,e){e.formElements=Vre(t,P$)}clone(){return new ZC({description:this.description,expressionInfos:z(this.expressionInfos),elements:z(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(t,e){const i=new Set,{description:r,elements:s,expressionInfos:n,title:a}=this;if(yw(i,t,r),yw(i,t,a),!s)return[];const o=DIe(s,n).map(l=>Xr(i,t,l));await Promise.all(o);for(const l of s)qre(i,{fieldsIndex:t,relationships:e},l);return Array.from(i).sort()}};function qre(t,e,i){var s;const{fieldsIndex:r}=e;if(!r||r.fields.length!==t.size)switch(yw(t,r,i.label),yw(t,r,i.description),i.type){case"field":Zs(t,r,i.fieldName);break;case"group":i.elements.forEach(n=>qre(t,e,n));break;case"relationship":if(e.relationships){const n=e.relationships.find(a=>a.id===i.relationshipId);n&&Zs(t,r,n.keyField)}yh(t,r,(s=i.orderByFields)==null?void 0:s.map(n=>n.field));break;case"text":yw(t,r,i.text)}}function DIe(t,e){if(!e||e.length===0)return[];const i=Bre(t),r=[];for(const s of e)i.has(s.name)&&r.push(s.expression);return r}function Bre(t){const e=new Set;for(const i of t)if(tN(e,i.visibilityExpression),!FIe(i)){if(OIe(i))u4(e,Bre(i.elements));else if(tN(e,i.editableExpression),RIe(i)){const{requiredExpression:r,valueExpression:s}=i;u4(e,[r,s])}}return e}function yw(t,e,i){yh(t,e,XL(i))}c([f({type:String,json:{write:!0}})],go.prototype,"description",void 0),c([f({json:{write:!0}})],go.prototype,"elements",void 0),c([Xe("elements")],go.prototype,"castElements",null),c([te("elements",["formElements"])],go.prototype,"readElements",null),c([ne("elements")],go.prototype,"writeElements",null),c([f({type:[gIe],json:{write:!0}})],go.prototype,"expressionInfos",void 0),c([f({type:Boolean,json:{default:!1,write:!0}})],go.prototype,"preserveFieldValuesWhenHidden",void 0),c([f({type:String,json:{write:!0}})],go.prototype,"title",void 0),go=ZC=c([E("esri.form.FormTemplate")],go);const zIe=go;function wq(t,e,i){if(t.hasM==null||t.hasZ)for(const r of e)for(const s of r)s.length>2&&(s[2]*=i)}function VIe(t,e,i){if(!t&&!e||!i)return;const r=Pb(i);_q(t,i,r),_q(e,i,r)}function _q(t,e,i){if(t)for(const r of t)jIe(r.geometry,e,i)}function jIe(t,e,i){if(!(t!=null&&t.spatialReference)||li(t.spatialReference,e))return;const r=Pb(t.spatialReference)/i;if(r!==1){if("x"in t)t.z!=null&&(t.z*=r);else if("rings"in t)wq(t,t.rings,r);else if("paths"in t)wq(t,t.paths,r);else if("points"in t&&(t.hasM==null||t.hasZ))for(const s of t.points)s.length>2&&(s[2]*=r)}}function JC(t,e,i){if(!(i!=null&&i.features)||!i.hasZ)return;const r=CQ(i.geometryType,e,t.outSpatialReference);if(r!=null)for(const s of i.features)r(s.geometry)}var YC;const XC=new Ie({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let di=YC=class extends B{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,e){return this.readFeaturesWithClass(t,e,mt)}writeGeometryType(t,e,i,r){if(t)return void XC.write(t,e,i,r);const{features:s}=this;if(s){for(const n of s)if((n==null?void 0:n.geometry)!=null)return void XC.write(n.geometry.type,e,i,r)}}readQueryGeometry(t,e){if(!t)return null;const i=!!t.spatialReference,r=Xa(t);return r&&!i&&e.spatialReference&&(r.spatialReference=le.fromJSON(e.spatialReference)),r}writeSpatialReference(t,e){if(t)return void(e.spatialReference=t.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(e.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new YC(this.cloneProperties())}cloneProperties(){return z({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){const e=this.write();if(e.features&&Array.isArray(t)&&t.length>0)for(let i=0;i<e.features.length;i++){const r=e.features[i];if(r.geometry){const s=t==null?void 0:t[i];r.geometry=(s==null?void 0:s.toJSON())||r.geometry}}return e}quantize(t){const{scale:[e,i],translate:[r,s]}=t,n=u=>Math.round((u-r)/e),a=u=>Math.round((s-u)/i),o=this.features,l=this._getQuantizationFunction(this.geometryType,n,a);for(let u=0,d=o.length;u<d;u++)l!=null&&l(o[u].geometry)||(o.splice(u,1),u--,d--);return this.transform=t,this}unquantize(){var p,m;const{geometryType:t,features:e,transform:i}=this;if(!i)return this;const{translate:[r,s],scale:[n,a]}=i,o=g=>g*n+r,l=g=>s-g*a;let u=null,d=null;if(this.hasZ&&((p=i==null?void 0:i.scale)==null?void 0:p[2])!=null){const{translate:[,,g],scale:[,,b]}=i;u=v=>v*b+g}if(this.hasM&&((m=i==null?void 0:i.scale)==null?void 0:m[3])!=null){const{translate:[,,,g],scale:[,,,b]}=i;d=v=>v==null?v:v*b+g}const h=this._getHydrationFunction(t,o,l,u,d);for(const{geometry:g}of e)g!=null&&h&&h(g);return this.transform=null,this}readFeaturesWithClass(t,e,i){var n;const r=le.fromJSON(e.spatialReference),s=[];for(let a=0;a<t.length;a++){const o=t[a],l=i.fromJSON(o),u=(n=o.geometry)==null?void 0:n.spatialReference;l.geometry==null||u||(l.geometry.spatialReference=r);const d=o.aggregateGeometries,h=l.aggregateGeometries;if(d&&h!=null)for(const p in h){const m=h[p],g=d[p],b=g==null?void 0:g.spatialReference;m==null||b||(m.spatialReference=r)}s.push(l)}return s}_quantizePoints(t,e,i){let r,s;const n=[];for(let a=0,o=t.length;a<o;a++){const l=t[a];if(a>0){const u=e(l[0]),d=i(l[1]);u===r&&d===s||(n.push([u-r,d-s]),r=u,s=d)}else r=e(l[0]),s=i(l[1]),n.push([r,s])}return n.length>0?n:null}_getQuantizationFunction(t,e,i){return t==="point"?r=>(r.x=e(r.x),r.y=i(r.y),r):t==="polyline"||t==="polygon"?r=>{const s=pi(r)?r.rings:r.paths,n=[];for(let a=0,o=s.length;a<o;a++){const l=s[a],u=this._quantizePoints(l,e,i);u&&n.push(u)}return n.length>0?(pi(r)?r.rings=n:r.paths=n,r):null}:t==="multipoint"?r=>{const s=this._quantizePoints(r.points,e,i);return s&&s.length>0?(r.points=s,r):null}:t==="extent"?r=>r:null}_getHydrationFunction(t,e,i,r,s){return t==="point"?n=>{n.x=e(n.x),n.y=i(n.y),r&&(n.z=r(n.z))}:t==="polyline"||t==="polygon"?n=>{const a=pi(n)?n.rings:n.paths;let o,l;for(let u=0,d=a.length;u<d;u++){const h=a[u];for(let p=0,m=h.length;p<m;p++){const g=h[p];p>0?(o+=g[0],l+=g[1]):(o=g[0],l=g[1]),g[0]=e(o),g[1]=i(l)}}if(r&&s)for(let u=0,d=a.length;u<d;u++){const h=a[u];for(let p=0,m=h.length;p<m;p++){const g=h[p];g[2]=r(g[2]),g[3]=s(g[3])}}else if(r)for(let u=0,d=a.length;u<d;u++){const h=a[u];for(let p=0,m=h.length;p<m;p++){const g=h[p];g[2]=r(g[2])}}else if(s)for(let u=0,d=a.length;u<d;u++){const h=a[u];for(let p=0,m=h.length;p<m;p++){const g=h[p];g[2]=s(g[2])}}}:t==="extent"?n=>{n.xmin=e(n.xmin),n.ymin=i(n.ymin),n.xmax=e(n.xmax),n.ymax=i(n.ymax),r&&n.zmax!=null&&n.zmin!=null&&(n.zmax=r(n.zmax),n.zmin=r(n.zmin)),s&&n.mmax!=null&&n.mmin!=null&&(n.mmax=s(n.mmax),n.mmin=s(n.mmin))}:t==="multipoint"?n=>{const a=n.points;let o,l;for(let u=0,d=a.length;u<d;u++){const h=a[u];u>0?(o+=h[0],l+=h[1]):(o=h[0],l=h[1]),h[0]=e(o),h[1]=i(l)}if(r&&s)for(let u=0,d=a.length;u<d;u++){const h=a[u];h[2]=r(h[2]),h[3]=s(h[3])}else if(r)for(let u=0,d=a.length;u<d;u++){const h=a[u];h[2]=r(h[2])}else if(s)for(let u=0,d=a.length;u<d;u++){const h=a[u];h[2]=s(h[2])}}:null}};c([f({type:String,json:{write:!0}})],di.prototype,"displayFieldName",void 0),c([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],di.prototype,"exceededTransferLimit",void 0),c([f({type:[mt],json:{write:!0}})],di.prototype,"features",void 0),c([te("features")],di.prototype,"readFeatures",null),c([f({type:[sr],json:{write:!0}})],di.prototype,"fields",void 0),c([f({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:XC.read}}})],di.prototype,"geometryType",void 0),c([ne("geometryType")],di.prototype,"writeGeometryType",null),c([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],di.prototype,"hasM",void 0),c([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],di.prototype,"hasZ",void 0),c([f({types:n0,json:{write:!0}})],di.prototype,"queryGeometry",void 0),c([te("queryGeometry")],di.prototype,"readQueryGeometry",null),c([f({type:le,json:{write:!0}})],di.prototype,"spatialReference",void 0),c([ne("spatialReference")],di.prototype,"writeSpatialReference",null),c([f({json:{write:!0}})],di.prototype,"transform",void 0),di=YC=c([E("esri.rest.support.FeatureSet")],di),di.prototype.toJSON.isDefaultToJSON=!0;let qIe=0,ku=class extends lr.LoadableMixin(qo.EsriPromiseMixin(K)){constructor(e){super(e),this._idToClientGeometry=null,this.type="memory"}load(e){const i=e!=null?e.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get _workerGeometryType(){var i;const e=(i=this.layer)==null?void 0:i.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,i={}){await this.load(i);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,i);JC(e,this.layer.spatialReference,r);const s=di.fromJSON(r);if(!this._requiresClientGraphicMapping()||!this._idToClientGeometry)return s;const n=this.layer.objectIdField;for(const a of s.features){const o=a.attributes[n],l=this._idToClientGeometry.get(o);l!==void 0&&(a.geometry=l)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(e,i={}){if(this._requiresClientGraphicMapping())throw new P("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(i);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,i);return JC(e,this.layer.spatialReference,r),r}queryFeatureCount(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,i))}queryObjectIds(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,i))}queryExtent(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,i)).then(r=>({count:r.count,extent:qe.fromJSON(r.extent)}))}querySnapping(e,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",e,i))}async queryAttributeBins(e,i={}){return await this.load(),this._connection.invoke("queryAttributeBins",e==null?void 0:e.toJSON(),i)}async _applyEdits(e){if(!this._connection)throw new P("feature-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField;let r=null;const s=[],n=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const a=d=>"objectId"in d&&d.objectId!=null?d.objectId:"attributes"in d&&d.attributes[i]!=null?d.attributes[i]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const d of e.deleteFeatures){const h=a(d);h!=null&&s.push(h)}const o=e.updateFeatures&&this._idToClientGeometry?new Map:null;if(e.updateFeatures){for(const d of e.updateFeatures)if(n.push(this._serializeFeature(d)),o&&d.geometry!=null){const h=a(d);h!=null&&o.set(h,d)}}VIe(r?r.features:null,n,this.layer.spatialReference);const{fullExtent:l,featureEditResults:u}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:n,deletes:s});return this.fullExtent=l,r&&r.finish(u.uidToObjectId),this._updateIdToClientGeometries(o,u),this._createEditsResult(u)}async _prepareClientMapping(e,i){if(this._layerOrSourceGeometryType!=="mesh"||e==null)return;const r=[];for(const{geometry:s}of e)s==null||s.type!=="mesh"||s.hasExtent||s.loaded||r.push(s.load({signal:i}));r.length&&await Promise.all(r)}_updateIdToClientGeometries(e,i){if(this._idToClientGeometry){if(e)for(const r of i.updateResults){if(!r.success)continue;const s=e.get(r.objectId);s!=null&&this._addIdToClientGeometry(s)}for(const r of i.deleteResults)r.success&&this._idToClientGeometry.delete(r.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const i=e.success===!0?null:e.error||{code:void 0,description:""};return{objectId:e.objectId,globalId:e.globalId,error:i?new P("feature-layer-source:edit-failure",i.description,{code:i.code}):null}}_prepareAddFeatures(e){const i=new Map,r=new Array(e.length);let s=null;for(let a=0;a<e.length;a++){const o=e[a],l=this._serializeFeature(o);s||o.geometry==null||(s=o.geometry.type),r[a]=l,i.set(`${l.uid}`,o)}const n=this;return{features:r,inferredGeometryType:s,finish(a){const o=n.sourceJSON.objectIdField;for(const l in a){const u=a[l],d=i.get(l);d&&(d.attributes||(d.attributes={}),u===-1?delete d.attributes[o]:d.attributes[o]=u,n._addIdToClientGeometry(d))}}}}_addIdToClientGeometry(e){var s;if(!this._idToClientGeometry)return;const i=this.sourceJSON.objectIdField,r=(s=e.attributes)==null?void 0:s[i];r!=null&&this._idToClientGeometry.set(r,e.geometry??null)}get _layerOrSourceGeometryType(){var e,i;return((e=this.layer)==null?void 0:e.geometryType)??((i=this.sourceJSON)==null?void 0:i.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:i}=e,r=this._geometryForSerialization(e),s=(qIe++).toString();return r?{uid:s,geometry:r.toJSON(),attributes:i}:{uid:s,attributes:i}}_geometryForSerialization(e){const{geometry:i}=e;return i==null?null:this._geometryRequiresClientGraphicMapping(i)?i.extent?Ut.fromExtent(i.extent):null:i}async _startWorker(e){this._connection=await vQ("MemorySourceWorker",{strategy:q("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:i,spatialReference:r,objectIdField:s,hasM:n,hasZ:a,timeInfo:o,dateFieldsTimeZone:l}=this.layer,u=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const d=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",g=>{W.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),g.preventDefault()}));const h={features:d.features,fields:i==null?void 0:i.map(g=>g.toJSON()),geometryType:UN.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&n,hasZ:this._layerOrSourceGeometryType==="mesh"||a,objectIdField:s,spatialReference:u?null:r&&r.toJSON(),timeInfo:(o==null?void 0:o.toJSON())??null,dateFieldsTimeZone:l},p=await this._connection.invoke("load",h,{signal:e});for(const g of p.warnings)W.getLogger(this.layer).warn("#load()",`${g.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:g});p.featureErrors.length&&W.getLogger(this.layer).warn("#load()",`Encountered ${p.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:p.featureErrors});const m=p.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(d.inferredGeometryType)&&(m.geometryType=UN.toJSON(d.inferredGeometryType)),this.sourceJSON=m,this._requiresClientGraphicMapping()&&(this._idToClientGeometry=new Map),d.finish(p.assignedObjectIds)}};c([NP({Type:mt,ensureType:Ft(mt)})],ku.prototype,"itemType",void 0),c([f()],ku.prototype,"type",void 0),c([f({constructOnly:!0})],ku.prototype,"layer",void 0),c([f({readOnly:!0})],ku.prototype,"_workerGeometryType",null),c([f()],ku.prototype,"sourceJSON",void 0),ku=c([E("esri.layers.graphics.sources.MemorySource")],ku);function BIe(t){return"portalItem"in t}const UIe=t=>{let e=class extends t{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):BIe(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return c([f({type:String})],e.prototype,"apiKey",null),e=c([E("esri.layers.mixins.APIKeyMixin")],e),e},GIe=t=>{let e=class extends t{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=zc(this.url);if(i!=null&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",Rme(i,W.getLogger(this)))}};return c([f()],e.prototype,"title",null),c([f({type:String})],e.prototype,"url",null),e=c([E("esri.layers.mixins.ArcGISService")],e),e};let Sq=class extends SyntaxError{constructor(e,i,r,s){super(e),this.expected=i,this.found=r,this.location=s,this.name="SyntaxError"}format(e){let i="Error: "+this.message;if(this.location){let r=null;const s=e.find(l=>l.source===this.location.source);s&&(r=s.text.split(/\r\n|\n|\r/g));const n=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(n):n,o=this.location.source+":"+a.line+":"+a.column;if(r){const l=this.location.end,u="".padEnd(a.line.toString().length," "),d=r[n.line-1],h=(n.line===l.line?l.column:d.length+1)-n.column||1;i+=`
 --> `+o+`
`+u+` |
`+a.line+" | "+d+`
`+u+" | "+"".padEnd(n.column-1," ")+"".padEnd(h,"^")}else i+=`
 at `+o}return i}static buildMessage(e,i){function r(p){return p.codePointAt(0).toString(16).toUpperCase()}const s=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function n(p){return s?p.replace(s,m=>"\\u{"+r(m)+"}"):p}function a(p){return n(p.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+r(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+r(m)))}function o(p){return n(p.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+r(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+r(m)))}const l={literal:p=>'"'+a(p.text)+'"',class(p){const m=p.parts.map(g=>Array.isArray(g)?o(g[0])+"-"+o(g[1]):o(g));return"["+(p.inverted?"^":"")+m.join("")+"]"+(p.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:p=>p.description};function u(p){return l[p.type](p)}function d(p){const m=p.map(u);if(m.sort(),m.length>0){let g=1;for(let b=1;b<m.length;b++)m[b-1]!==m[b]&&(m[g]=m[b],g++);m.length=g}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function h(p){return p?'"'+a(p)+'"':"end of input"}return"Expected "+d(e)+" but "+h(i)+" found."}};function HIe(t,e){const i={},r=(e=e!==void 0?e:{}).grammarSource,s={start:vF};let n=vF;const a="none",o=")",l=",",u="(",d="%",h="px",p="cm",m="mm",g="in",b="pt",v="pc",w="deg",_="rad",S="grad",T="turn",C="#",A=".",O="e",L=/^[ \t\n\r]/,F=/^[a-z\-]/,D=/^[0-9a-fA-F]/,G=/^[+\-]/,H=/^[0-9]/,se=Id("none"),X=Sr("none",!1),ue=Sr(")",!1),xe=Sr(",",!1),be=N1([" ","	",`
`,"\r"],!1,!1,!1),ye=Id("function"),at=Sr("(",!1),qi=Id("identifier"),ur=N1([["a","z"],"-"],!1,!1,!1),Ii=Id("percentage"),Uc=Sr("%",!1),kh=Id("length"),y0=Sr("px",!1),g0=Sr("cm",!1),Ah=Sr("mm",!1),O1=Sr("in",!1),$d=Sr("pt",!1),k3=Sr("pc",!1),A3=Id("angle"),P3=Sr("deg",!1),Ph=Sr("rad",!1),b0=Sr("grad",!1),Yce=Sr("turn",!1),Xce=Id("number"),Qce=Id("color"),Kce=Sr("#",!1),mF=N1([["0","9"],["a","f"],["A","F"]],!1,!1,!1),yF=N1(["+","-"],!1,!1,!1),Td=N1([["0","9"]],!1,!1,!1),eue=Sr(".",!1),tue=Sr("e",!1);function iue(){return[]}function rue(N,Z){return{type:"function",name:N,parameters:Z||[]}}function sue(N,Z){return Z.length>0?Nue(N,Z,3):[N]}function nue(N){return{type:"quantity",value:N.value,unit:N.unit}}function aue(N){return{type:"color",colorType:N.type,value:N.value}}function hYe(N){return N}function oue(){return R3()}function lue(N){return{value:N,unit:"%"}}function cue(N){return{value:N,unit:"px"}}function uue(N){return{value:N,unit:"cm"}}function due(N){return{value:N,unit:"mm"}}function fue(N){return{value:N,unit:"in"}}function hue(N){return{value:N,unit:"pt"}}function pue(N){return{value:N,unit:"pc"}}function mue(N){return{value:N,unit:"deg"}}function yue(N){return{value:N,unit:"rad"}}function gue(N){return{value:N,unit:"grad"}}function bue(N){return{value:N,unit:"turn"}}function vue(N){return{value:N,unit:null}}function wue(){return{type:"hex",value:R3()}}function _ue(N){return{type:"function",value:N}}function Sue(){return{type:"named",value:R3()}}function xue(){return parseFloat(R3())}let J=0|e.peg$currPos,ci=J;const v0=[{line:1,column:1}];let F1,to=J,L3=e.peg$maxFailExpected||[],$e=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');n=s[e.startRule]}function R3(){return t.substring(ci,J)}function $ue(N=J){const Z=t.codePointAt(N);return Z===void 0?"":String.fromCodePoint(Z)}function Sr(N,Z){return{type:"literal",text:N,ignoreCase:Z}}function N1(N,Z,ae,De){return{type:"class",parts:N,inverted:Z,ignoreCase:ae,unicode:De}}function Tue(){return{type:"end"}}function Id(N){return{type:"other",description:N}}function gF(N){let Z,ae=v0[N];if(ae)return ae;if(N>=v0.length)Z=v0.length-1;else for(Z=N;!v0[--Z];);for(ae=v0[Z],ae={line:ae.line,column:ae.column};Z<N;)t.charCodeAt(Z)===10?(ae.line++,ae.column=1):ae.column++,Z++;return v0[N]=ae,ae}function bF(N,Z,ae){const De=gF(N),Et=gF(Z);return{source:r,start:{offset:N,line:De.line,column:De.column},end:{offset:Z,line:Et.line,column:Et.column}}}function Qe(N){J<to||(J>to&&(to=J,L3=[]),L3.push(N))}function Iue(N,Z,ae){return new Sq(Sq.buildMessage(N,Z),N,Z,ae)}function vF(){let N;return N=Eue(),N===i&&(N=Mue()),N}function Eue(){let N,Z;return $e++,N=J,xr(),t.substr(J,4)===a?(Z=a,J+=4):(Z=i,$e===0&&Qe(X)),Z!==i?(xr(),ci=N,N=iue()):(J=N,N=i),$e--,N===i&&$e===0&&Qe(se),N}function Mue(){let N,Z;if(N=[],Z=rx(),Z!==i)for(;Z!==i;)N.push(Z),Z=rx();else N=i;return N}function rx(){let N,Z,ae,De;return N=J,xr(),Z=kue(),Z!==i?(xr(),ae=Cue(),ae===i&&(ae=null),xr(),t.charCodeAt(J)===41?(De=o,J++):(De=i,$e===0&&Qe(ue)),De!==i?(xr(),ci=N,N=rue(Z,ae)):(J=N,N=i)):(J=N,N=i),N}function Cue(){let N,Z,ae,De,Et,Ei,dr,Qr;if(N=J,Z=sx(),Z!==i){for(ae=[],De=J,Et=xr(),t.charCodeAt(J)===44?(Ei=l,J++):(Ei=i,$e===0&&Qe(xe)),Ei===i&&(Ei=null),dr=xr(),Qr=sx(),Qr!==i?(Et=[Et,Ei,dr,Qr],De=Et):(J=De,De=i);De!==i;)ae.push(De),De=J,Et=xr(),t.charCodeAt(J)===44?(Ei=l,J++):(Ei=i,$e===0&&Qe(xe)),Ei===i&&(Ei=null),dr=xr(),Qr=sx(),Qr!==i?(Et=[Et,Ei,dr,Qr],De=Et):(J=De,De=i);ci=N,N=sue(Z,ae)}else J=N,N=i;return N}function sx(){let N,Z;return N=J,Z=Aue(),Z===i&&(Z=Pue(),Z===i&&(Z=Lue(),Z===i&&(Z=Rue()))),Z!==i&&(ci=N,Z=nue(Z)),N=Z,N===i&&(N=J,Z=Oue(),Z!==i&&(ci=N,Z=aue(Z)),N=Z),N}function xr(){let N,Z;for($e++,N=[],Z=t.charAt(J),L.test(Z)?J++:(Z=i,$e===0&&Qe(be));Z!==i;)N.push(Z),Z=t.charAt(J),L.test(Z)?J++:(Z=i,$e===0&&Qe(be));return $e--,N}function kue(){let N,Z,ae;return $e++,N=J,Z=wF(),Z!==i?(t.charCodeAt(J)===40?(ae=u,J++):(ae=i,$e===0&&Qe(at)),ae!==i?(ci=N,N=Z):(J=N,N=i)):(J=N,N=i),$e--,N===i&&(Z=i,$e===0&&Qe(ye)),N}function wF(){let N,Z,ae;if($e++,N=J,Z=[],ae=t.charAt(J),F.test(ae)?J++:(ae=i,$e===0&&Qe(ur)),ae!==i)for(;ae!==i;)Z.push(ae),ae=t.charAt(J),F.test(ae)?J++:(ae=i,$e===0&&Qe(ur));else Z=i;return Z!==i&&(ci=N,Z=oue()),N=Z,$e--,N===i&&(Z=i,$e===0&&Qe(qi)),N}function Aue(){let N,Z,ae;return $e++,N=J,xr(),Z=pa(),Z!==i?(t.charCodeAt(J)===37?(ae=d,J++):(ae=i,$e===0&&Qe(Uc)),ae!==i?(ci=N,N=lue(Z)):(J=N,N=i)):(J=N,N=i),$e--,N===i&&$e===0&&Qe(Ii),N}function Pue(){let N,Z,ae;return $e++,N=J,xr(),Z=pa(),Z!==i?(t.substr(J,2)===h?(ae=h,J+=2):(ae=i,$e===0&&Qe(y0)),ae!==i?(ci=N,N=cue(Z)):(J=N,N=i)):(J=N,N=i),N===i&&(N=J,xr(),Z=pa(),Z!==i?(t.substr(J,2)===p?(ae=p,J+=2):(ae=i,$e===0&&Qe(g0)),ae!==i?(ci=N,N=uue(Z)):(J=N,N=i)):(J=N,N=i),N===i&&(N=J,xr(),Z=pa(),Z!==i?(t.substr(J,2)===m?(ae=m,J+=2):(ae=i,$e===0&&Qe(Ah)),ae!==i?(ci=N,N=due(Z)):(J=N,N=i)):(J=N,N=i),N===i&&(N=J,xr(),Z=pa(),Z!==i?(t.substr(J,2)===g?(ae=g,J+=2):(ae=i,$e===0&&Qe(O1)),ae!==i?(ci=N,N=fue(Z)):(J=N,N=i)):(J=N,N=i),N===i&&(N=J,xr(),Z=pa(),Z!==i?(t.substr(J,2)===b?(ae=b,J+=2):(ae=i,$e===0&&Qe($d)),ae!==i?(ci=N,N=hue(Z)):(J=N,N=i)):(J=N,N=i),N===i&&(N=J,xr(),Z=pa(),Z!==i?(t.substr(J,2)===v?(ae=v,J+=2):(ae=i,$e===0&&Qe(k3)),ae!==i?(ci=N,N=pue(Z)):(J=N,N=i)):(J=N,N=i)))))),$e--,N===i&&$e===0&&Qe(kh),N}function Lue(){let N,Z,ae;return $e++,N=J,Z=pa(),Z!==i?(t.substr(J,3)===w?(ae=w,J+=3):(ae=i,$e===0&&Qe(P3)),ae!==i?(ci=N,N=mue(Z)):(J=N,N=i)):(J=N,N=i),N===i&&(N=J,Z=pa(),Z!==i?(t.substr(J,3)===_?(ae=_,J+=3):(ae=i,$e===0&&Qe(Ph)),ae!==i?(ci=N,N=yue(Z)):(J=N,N=i)):(J=N,N=i),N===i&&(N=J,Z=pa(),Z!==i?(t.substr(J,4)===S?(ae=S,J+=4):(ae=i,$e===0&&Qe(b0)),ae!==i?(ci=N,N=gue(Z)):(J=N,N=i)):(J=N,N=i),N===i&&(N=J,Z=pa(),Z!==i?(t.substr(J,4)===T?(ae=T,J+=4):(ae=i,$e===0&&Qe(Yce)),ae!==i?(ci=N,N=bue(Z)):(J=N,N=i)):(J=N,N=i)))),$e--,N===i&&(Z=i,$e===0&&Qe(A3)),N}function Rue(){let N,Z;return $e++,N=J,xr(),Z=pa(),Z!==i?(ci=N,N=vue(Z)):(J=N,N=i),$e--,N===i&&$e===0&&Qe(Xce),N}function Oue(){let N,Z,ae,De;if($e++,N=J,t.charCodeAt(J)===35?(Z=C,J++):(Z=i,$e===0&&Qe(Kce)),Z!==i){if(ae=[],De=t.charAt(J),D.test(De)?J++:(De=i,$e===0&&Qe(mF)),De!==i)for(;De!==i;)ae.push(De),De=t.charAt(J),D.test(De)?J++:(De=i,$e===0&&Qe(mF));else ae=i;ae!==i?(ci=N,N=wue()):(J=N,N=i)}else J=N,N=i;return N===i&&(N=J,Z=rx(),Z!==i&&(ci=N,Z=_ue(Z)),N=Z,N===i&&(N=J,Z=wF(),Z!==i&&(ci=N,Z=Sue()),N=Z)),$e--,N===i&&(Z=i,$e===0&&Qe(Qce)),N}function pa(){let N,Z,ae,De,Et,Ei,dr,Qr;for(N=J,Z=t.charAt(J),G.test(Z)?J++:(Z=i,$e===0&&Qe(yF)),Z===i&&(Z=null),ae=J,De=[],Et=t.charAt(J),H.test(Et)?J++:(Et=i,$e===0&&Qe(Td));Et!==i;)De.push(Et),Et=t.charAt(J),H.test(Et)?J++:(Et=i,$e===0&&Qe(Td));if(t.charCodeAt(J)===46?(Et=A,J++):(Et=i,$e===0&&Qe(eue)),Et!==i){if(Ei=[],dr=t.charAt(J),H.test(dr)?J++:(dr=i,$e===0&&Qe(Td)),dr!==i)for(;dr!==i;)Ei.push(dr),dr=t.charAt(J),H.test(dr)?J++:(dr=i,$e===0&&Qe(Td));else Ei=i;Ei!==i?(De=[De,Et,Ei],ae=De):(J=ae,ae=i)}else J=ae,ae=i;if(ae===i)if(ae=[],De=t.charAt(J),H.test(De)?J++:(De=i,$e===0&&Qe(Td)),De!==i)for(;De!==i;)ae.push(De),De=t.charAt(J),H.test(De)?J++:(De=i,$e===0&&Qe(Td));else ae=i;if(ae!==i){if(De=J,t.charCodeAt(J)===101?(Et=O,J++):(Et=i,$e===0&&Qe(tue)),Et!==i){if(Ei=t.charAt(J),G.test(Ei)?J++:(Ei=i,$e===0&&Qe(yF)),Ei===i&&(Ei=null),dr=[],Qr=t.charAt(J),H.test(Qr)?J++:(Qr=i,$e===0&&Qe(Td)),Qr!==i)for(;Qr!==i;)dr.push(Qr),Qr=t.charAt(J),H.test(Qr)?J++:(Qr=i,$e===0&&Qe(Td));else dr=i;dr!==i?(Et=[Et,Ei,dr],De=Et):(J=De,De=i)}else J=De,De=i;De===i&&(De=null),ci=N,N=xue()}else J=N,N=i;return N}function Fue(N,Z){return N.map(function(ae){return ae[Z]})}function Nue(N,Z,ae){return[N].concat(Fue(Z,ae))}F1=n();const nx=F1!==i&&J===t.length;function _F(){throw F1!==i&&J<t.length&&Qe(Tue()),Iue(L3,to<t.length?$ue(to):null,to<t.length?bF(to,to+1):bF(to,to))}return e.peg$library?{peg$result:F1,peg$currPos:J,peg$FAILED:i,peg$maxFailExpected:L3,peg$maxFailPos:to,peg$success:nx,peg$throw:nx?void 0:_F}:nx?F1:void _F()}function PR(t){if(!t||t.length===0)return null;if(typeof t=="string"){const i=xq(t);return i&&i.length!==0?i:null}const e=t.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new P("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:xq(i.value)}});e.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<e.length-1;i++){if(!ZK(e[i].effects,e[i+1].effects))throw new P("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[i].effects,b:e[i+1].effects});JK(e[i].effects,e[i+1].effects)}return e.sort((i,r)=>r.scale-i.scale),e}function xq(t){let e;if(!t)return[];try{e=HIe(t)}catch(i){throw new P("effect:invalid-syntax","Invalid effect syntax",{value:t,error:i})}return e.map(i=>WIe(i))}function WIe(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return ZIe(t);case"opacity":return JIe(t);case"hue-rotate":return YIe(t);case"blur":return XIe(t);case"drop-shadow":return QIe(t);case"bloom":return KIe(t)}}catch(e){throw e.details.filter=t,e}throw new P("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function ZIe(t){let e=1;return x1(t.parameters,1),t.parameters.length===1&&(e=Po(t.parameters[0])),new yE(t.name,e)}function JIe(t){let e=1;return x1(t.parameters,1),t.parameters.length===1&&(e=Po(t.parameters[0])),new HK(e)}function YIe(t){let e=0;return x1(t.parameters,1),t.parameters.length===1&&(e=nEe(t.parameters[0])),new UK(e)}function XIe(t){let e=0;return x1(t.parameters,1),t.parameters.length===1&&(e=OR(t.parameters[0]),y3(e,t.parameters[0])),new zK(e)}function QIe(t){const e=[];let i=null;for(const r of t.parameters)if(r.type==="color"){if(e.length&&Object.freeze(e),i)throw new P("effect:type-error","Accepts only one color",{});i=aEe(r)}else{const s=OR(r);if(Object.isFrozen(e))throw new P("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(s),e.length===3&&y3(s,r)}if(e.length<2||e.length>3)throw new P("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new qK(e[0],e[1],e[2]||0,i||Ure("black"))}function KIe(t){let e=1,i=0,r=0;return x1(t.parameters,3),t.parameters[0]&&(e=Po(t.parameters[0])),t.parameters[1]&&(i=OR(t.parameters[1]),y3(i,t.parameters[1])),t.parameters[2]&&(r=Po(t.parameters[2])),new NK(e,i,r)}function x1(t,e){if(t.length>e)throw new P("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function _S(t){if(t.type==="color")return"<color>";if(t.unit){if(t.unit in RR)return"<length>";if(t.unit in LR)return"<angle>";if(t.unit==="%")return"<percentage>"}return"<double>"}function y3(t,e){if(t<0)throw new P("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}function eEe(t){if(t.type!=="quantity"||t.unit!==null)throw new P("effect:type-error",`Expected <double>, Actual: ${_S(t)}`,{term:t})}function tEe(t){if(t.type!=="quantity"||t.unit!==null&&t.unit!=="%")throw new P("effect:type-error",`Expected <double> or <percentage>, Actual: ${_S(t)}`,{term:t})}const LR={deg:1,grad:.9,rad:180/Math.PI,turn:360};function iEe(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&LR[t.unit]!=null))throw new P("effect:type-error",`Expected <angle>, Actual: ${_S(t)}`,{term:t})}const RR={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function rEe(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&RR[t.unit]!=null))throw new P("effect:type-error",`Expected <length>, Actual: ${_S(t)}`,{term:t})}function Po(t){tEe(t);const e=t.value;return y3(e,t),t.unit==="%"?.01*e:e}function sEe(t){return eEe(t),y3(t.value,t),t.value}function nEe(t){return iEe(t),t.value*LR[t.unit]||0}function OR(t){return rEe(t),t.value*RR[t.unit]||0}function aEe(t){switch(t.colorType){case"hex":return qwe(t.value);case"named":return Ure(t.value);case"function":return cEe(t.value)}}function Ure(t){if(!vK(t))throw new P("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return jwe(t)}const oEe=/^rgba?/i,lEe=/^hsla?/i;function cEe(t){if(x1(t.parameters,4),oEe.test(t.name))return[Po(t.parameters[0]),Po(t.parameters[1]),Po(t.parameters[2]),t.parameters[3]?Po(t.parameters[3]):1];if(lEe.test(t.name))return wK(sEe(t.parameters[0]),Po(t.parameters[1]),Po(t.parameters[2]),t.parameters[3]?Po(t.parameters[3]):1);throw new P("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}function i_(t,e,i){var r;try{return dEe(t)}catch(s){(r=i==null?void 0:i.messages)==null||r.push(s)}return null}function r_(t,e,i,r){try{const s=uEe(t);ti(i,s,e)}catch(s){r.messages&&r.messages.push(s)}}function uEe(t){const e=PR(t);return e?v3e(e)?e.map(i=>i.toJSON()):e.map(({scale:i,effects:r})=>({scale:i,value:r.map(s=>s.toJSON())})):null}function dEe(t){if(!t||t.length===0)return null;if(fEe(t)){const e=[];for(const i of t)e.push({scale:i.scale,value:$8(i.value)});return e}return $8(t)}function fEe(t){const e=t[0];return!!e&&"scale"in e}function $8(t){if(!(t!=null&&t.length))return"";const e=[];for(const i of t){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[Xc(i,"amount")];break;case"blur":r=[Xc(i,"radius","pt")];break;case"hue-rotate":r=[Xc(i,"angle","deg")];break;case"drop-shadow":r=[Xc(i,"xoffset","pt"),Xc(i,"yoffset","pt"),Xc(i,"blurRadius","pt"),hEe(i,"color")];break;case"bloom":r=[Xc(i,"strength"),Xc(i,"radius","pt"),Xc(i,"threshold")]}const s=`${i.type}(${r.filter(Boolean).join(" ")})`;PR(s),e.push(s)}return e.join(" ")}function Xc(t,e,i){if(t[e]==null)throw new P("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return i?t[e]+i:""+t[e]}function hEe(t,e){if(t[e]==null)throw new P("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const i=t[e];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const pEe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:Vt}},"portal-item":{read:!0,write:{layerContainerTypes:Vt}}}}},$q={read:{reader:i_},write:{allowNull:!0,writer:r_,layerContainerTypes:Vt}},mEe={json:{read:!1,write:!1,origins:{"web-map":$q,"portal-item":$q}}},Gre=t=>{let e=class extends t{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return c([f(pEe)],e.prototype,"blendMode",void 0),c([f(mEe)],e.prototype,"effect",void 0),e=c([E("esri.layers.mixins.BlendLayer")],e),e},yEe=t=>{let e=class extends t{constructor(){super(...arguments),this.customParameters=null}};return c([f({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],e.prototype,"customParameters",void 0),e=c([E("esri.layers.mixins.CustomParametersMixin")],e),e},FR=96;function gEe(t,e){const i=e||t.extent,r=t.width,s=kn(i==null?void 0:i.spatialReference);return i&&r?i.width/r*s*uL*FR:0}function dnt(t,e){return t/(kn(e)*uL*FR)}function QC(t,e){return t*(kn(e)*uL*FR)}function bEe(t,e,i){return vEe(t,e)&&wEe(t,i)}function vEe(t,e){return e===0||xn(t,e)||t<e}function wEe(t,e){return e===0||xn(t,e)||t>e}function _Ee(t,e){return xn(t,e)?0:(t||Number.POSITIVE_INFINITY)>(e||Number.POSITIVE_INFINITY)?1:-1}const Tq={write:{overridePolicy:(t,e,i)=>({enabled:!i||i.filterMode==="scale"})}};let Au=class extends ve.ClonableMixin(B){constructor(e){super(e),this.id=b1(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};c([f({type:String,json:{write:!0}})],Au.prototype,"id",void 0),c([f({type:Number,json:Tq})],Au.prototype,"maxScale",void 0),c([f({type:Number,json:Tq})],Au.prototype,"minScale",void 0),c([f({type:String,json:{write:!0}})],Au.prototype,"title",void 0),c([f({type:String,json:{write:!0}})],Au.prototype,"where",void 0),Au=c([E("esri.layers.support.DisplayFilter")],Au);function SEe(t,e){return{...e,filterMode:t.mode}}function xEe(t,e){return Hre(t,e).next().value??null}function hnt(t,e,i){const r=$Ee(t);if(r&&(mJ(e,r[0])||aI(i,r[1])))return"";const s=Array.from(Hre(t,e,i)),n=TEe(s,e,i)?"1=1":s.map(a=>a.where||"1=1").reduce((a,o)=>_E(a,o),"");return n&&n!=="1=1"?n:""}function $Ee(t){if(Wre(t)==="manual")return null;const e=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:i,maxScale:r}of t.filters)e[0]=Math.max(e[0],s_(i)),e[1]=Math.min(e[1],T8(r));return e}function*Hre(t,e,i){if(Wre(t)==="manual"){const r=t.filters.find(s=>s.id===t.activeFilterId);r&&(yield r)}else{typeof e=="object"&&(e=e.scale);for(const r of t.filters)IEe(r.minScale,r.maxScale,e,i)&&(yield r)}}function TEe(t,e,i){var n,a;if(t.length===0)return!0;const r=s_((n=t.at(0))==null?void 0:n.minScale),s=T8((a=t.at(-1))==null?void 0:a.maxScale);if(aI(r,e)||mJ(s,i))return!0;for(let o=0;o<t.length-1;o++){const l=t[o],u=t[o+1];if(aI(s_(u.minScale),T8(l.maxScale)))return!0}return!1}function IEe(t,e,i,r){return t=s_(t),i=s_(i),e=T8(e),!(!xn(i,t)&&(r??i)>t)&&!Dpe(e,i)&&(r===void 0||!xn(r,t))}function Wre(t){return"mode"in t?t.mode:t.filterMode}function s_(t){return t||Number.POSITIVE_INFINITY}function T8(t){return t||0}let gp=class extends ve.ClonableMixin(B){constructor(e){super(e),this.activeFilterId=null,this.filters=new(K.ofType(Au)),this.mode="manual"}writeFilters(e,i,r,s){const n=e.toArray();this.mode==="scale"&&n.sort((a,o)=>{const l=_Ee(o.minScale,a.minScale),u=a.maxScale-o.maxScale;return l===0?u:l}),i[r]=n.map(a=>a.toJSON(s))}write(e,i){return super.write(e,SEe(this,i))}};c([f({type:String,json:{write:{overridePolicy:(t,e,i)=>({enabled:i.filterMode==="manual",isRequired:!0})}}})],gp.prototype,"activeFilterId",void 0),c([f({type:K.ofType(Au),nonNullable:!0,json:{write:!0}})],gp.prototype,"filters",void 0),c([ne("filters")],gp.prototype,"writeFilters",null),c([f({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],gp.prototype,"mode",void 0),gp=c([E("esri.layers.support.DisplayFilterInfo")],gp);const EEe=t=>{let e=class extends t{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return c([f(MEe)],e.prototype,"displayFilterEnabled",void 0),c([f(CEe)],e.prototype,"displayFilterInfo",void 0),e=c([E("esri.layers.mixins.DisplayFilteredLayer")],e),e},MEe={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:t=>!t},write:{layerContainerTypes:Vt,writer(t,e,i){ti(i,!t,e)}},origins:{"web-scene":{write:!1,read:!1}}}},CEe={type:gp,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:Vt},origins:{"web-scene":{write:!1,read:!1}}}},KC=Hwe(),Zre=new Map,Jre=new Map;async function mnt(t,e,i){if(!t||!i)return!1;if(!e)return!0;const r=new URL(t).host;let s=Zre.get(r);if(!s){const n=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");s=(await it(n,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return s===e}async function Iq(t,e,i=!1){var n,a,o;if(!t||!e)return!0;const r=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),s=(n=Jre.get(r))==null?void 0:n.entries();if(s){for(const[l,u]of s)if(u.name===e){const d=!((a=u.stack)!=null&&a.hasForwardEdits());if(!d&&i){const[{deleteForwardEdits:h},{default:p}]=await Promise.all([R(()=>import("./deleteForwardEdits-BLvlhdwy.js"),[]),R(()=>import("./DeleteForwardEditsParameters-BaHw88ku.js"),[])]),m=await h(r,l,new p({sessionId:KC,moment:u.moment}));return m.success&&((o=u.stack)==null||o.clearForwardEdits()),m.success}return d}}return!0}function _6(t,e){var s;if(!t)return!1;const i=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=(s=Jre.get(i))==null?void 0:s.entries();if(r){for(const[n,a]of r)if(a.name===e)return a.lockType==="edit"}return!1}const NR=new ha.EventEmitter;function Yre(t){return NR.on("apply-edits",new WeakRef(t))}function Xre(t){return NR.on("update-moment",new WeakRef(t))}function Eq(t,e,i=null,r=!1){const s=Mn();return r=e==null||r,NR.emit("apply-edits",{serviceUrl:t,layerId:e,gdbVersion:i,mayReceiveServiceEdits:r,result:s.promise}),s}const Qre=Symbol();function ynt(t){return t!=null&&typeof t=="object"&&Qre in t}function uv(t){return t!=null&&typeof t=="object"&&"gdbVersion"in t}function gw(t,e,i){const r=new URL(t).host,s=Zre.get(r),n=a=>!a||a===s;return n(e)&&n(i)||e===i}const kEe=t=>{var r;var e;let i=(r=class extends t{constructor(...s){super(...s),this[e]=!0,this._applyEditsHandler=n=>{const{serviceUrl:a,layerId:o,gdbVersion:l,mayReceiveServiceEdits:u,result:d}=n,h=a===this.url,p=o!=null&&this.layerId!=null&&o===this.layerId,m=uv(this),g=uv(this)&&gw(a,l,this.gdbVersion);if(!h||m&&!g||!p&&!u)return;const b=d.then(v=>{var S;if(this.lastEditsEventDate=new Date,p&&(v.addedFeatures.length||v.updatedFeatures.length||v.deletedFeatures.length||v.addedAttachments.length||v.updatedAttachments.length||v.deletedAttachments.length))return this.emit("edits",z(v)),v;const w=(S=v.editedFeatures)==null?void 0:S.find(({layerId:T})=>T===this.layerId);if(w){const{adds:T,updates:C,deletes:A}=w.editedFeatures,O={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:T?T.map(({attributes:L})=>({objectId:this.objectIdField&&L[this.objectIdField],globalId:this.globalIdField&&L[this.globalIdField]})):[],deletedFeatures:A?A.map(({attributes:L})=>({objectId:this.objectIdField&&L[this.objectIdField],globalId:this.globalIdField&&L[this.globalIdField]})):[],updatedFeatures:C?C.map(({current:{attributes:L}})=>({objectId:this.objectIdField&&L[this.objectIdField],globalId:this.globalIdField&&L[this.globalIdField]})):[],editedFeatures:z(v.editedFeatures),exceededTransferLimit:!1,historicMoment:z(v.historicMoment)};return this.emit("edits",O),O}const _={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:z(v.editedFeatures),exceededTransferLimit:!1,historicMoment:z(v.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(a,l,_.historicMoment)&&this.emit("edits",_),_}).then(v=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(a,l,v.historicMoment)&&(this.historicMoment=v.historicMoment),v));this.emit("apply-edits",{result:b})},this._updateMomentHandler=n=>{const{serviceUrl:a,gdbVersion:o,moment:l}=n,u=a===this.url,d=uv(this),h=uv(this)&&gw(a,o,this.gdbVersion),p=uv(this)&&!gw(a,this.gdbVersion,null);u&&d&&h&&p&&"historicMoment"in this&&this.historicMoment!==l&&(this.historicMoment=l)},this.when().then(()=>{this.addHandles(Yre(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(Xre(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(s,n,a){return"historicMoment"in this&&this.historicMoment!==a&&_6(s,n)}},e=Qre,r);return c([f()],i.prototype,"lastEditsEventDate",void 0),i=c([E("esri.layers.mixins.EditBusLayer")],i),i};var ek;const L$=new Ie({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),R$=new Ie({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let hl=ek=class extends B{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){const{where:e,geometry:i,spatialRelationship:r,timeExtent:s,objectIds:n,units:a,distance:o}=this;return new me({geometry:z(i),objectIds:z(n),spatialRelationship:r,timeExtent:z(s),where:e,units:a,distance:o,...t})}clone(){const{where:t,geometry:e,spatialRelationship:i,timeExtent:r,objectIds:s,units:n,distance:a}=this;return new ek({geometry:z(e),objectIds:z(s),spatialRelationship:i,timeExtent:z(r),where:t,units:n,distance:a})}};c([f({type:String,json:{write:!0}})],hl.prototype,"where",void 0),c([f({types:n0,json:{write:!0}})],hl.prototype,"geometry",void 0),c([f({type:L$.apiValues,json:{name:"spatialRel",read:{reader:L$.read},write:{allowNull:!1,writer:L$.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],hl.prototype,"spatialRelationship",void 0),c([f({type:Number,json:{write:{overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],hl.prototype,"distance",void 0),c([f({type:[Number],json:{write:!0}})],hl.prototype,"objectIds",void 0),c([f({type:R$.apiValues,json:{read:R$.read,write:{writer:R$.write,overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],hl.prototype,"units",void 0),c([f({type:xt,json:{write:!0}})],hl.prototype,"timeExtent",void 0),hl=ek=c([E("esri.layers.support.FeatureFilter")],hl);const AEe=hl;var tk;const Mq={read:{reader:i_},write:{writer:r_,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},Cq={read:{reader:i_},write:{writer:r_,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},kq={name:"showExcludedLabels",default:!0};let bp=tk=class extends B{constructor(t){super(t),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(t,e){var r,s;const i=super.write(t,e);if(e!=null&&e.origin){if(i.filter){const n=Object.keys(i.filter);if(n.length>1||n[0]!=="where")return(r=e.messages)==null||r.push(new P("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}if("showExcludedLabels"in i)return(s=e.messages)==null||s.push(new P("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:e.layer,effect:this})),null}return i}clone(){return new tk({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};c([f({type:AEe,json:{write:{allowNull:!0,writer(t,e,i,r){const s=t==null?void 0:t.write({},r);s&&Object.keys(s).length!==0?ti(i,s,e):ti(i,null,e)}}}})],bp.prototype,"filter",void 0),c([f({json:{read:i_,write:{writer:r_,allowNull:!0},origins:{"web-map":Mq,"portal-item":Mq}}})],bp.prototype,"includedEffect",void 0),c([f({json:{read:i_,write:{writer:r_,allowNull:!0},origins:{"web-map":Cq,"portal-item":Cq}}})],bp.prototype,"excludedEffect",void 0),c([f({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":kq,"portal-item":kq}}})],bp.prototype,"excludedLabelsVisible",void 0),bp=tk=c([E("esri.layers.support.FeatureEffect")],bp);const Aq={write:{allowNull:!0}},PEe={type:bp,json:{origins:{"web-map":Aq,"portal-item":Aq}}},LEe=t=>{let e=class extends t{constructor(){super(...arguments),this.featureEffect=null}};return c([f(PEe)],e.prototype,"featureEffect",void 0),e=c([E("esri.layers.mixins.FeatureEffectLayer")],e),e};var ik;let p2=ik=class extends B{constructor(t){super(t)}async collectRequiredFields(t,e){return Xr(t,e,this.expression)}clone(){return new ik({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};c([f({type:String,json:{write:{isRequired:!0}}})],p2.prototype,"expression",void 0),c([f({type:String,json:{write:!0}})],p2.prototype,"title",void 0),p2=ik=c([E("esri.symbols.support.FeatureExpressionInfo")],p2);const Pq=p2,SS={unknown:1,inches:pt(1,"meters","inches"),feet:pt(1,"meters","feet"),"us-feet":pt(1,"meters","us-feet"),yards:pt(1,"meters","yards"),miles:pt(1,"meters","miles"),"nautical-miles":pt(1,"meters","nautical-miles"),millimeters:pt(1,"meters","millimeters"),centimeters:pt(1,"meters","centimeters"),decimeters:pt(1,"meters","decimeters"),meters:pt(1,"meters","meters"),kilometers:pt(1,"meters","kilometers"),"decimal-degrees":1/E0e(1,"meters",yi.radius)};function gnt(t){return!!t&&SS[t]!=null}function bnt(t){return 1/(SS[t]||1)}function REe(){const t=Object.keys(SS);return _P(t,"decimal-degrees"),t.sort(),t}const OEe=REe();var rk;const v5=ji()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),Lq=new Ie({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});var pb;let $l=(pb=class extends B{constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,i){return e!=null?e.expression?e:void 0:i.featureExpression&&i.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,i,r,s){i[r]=e.write({},s),e.expression==="0"&&(i.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:i}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||i?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,i){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,i):null}clone(){return new rk({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Bfe(this.featureExpressionInfo,e.featureExpressionInfo)}},rk=pb,pb);c([f({type:Pq,json:{write:!0}})],$l.prototype,"featureExpressionInfo",void 0),c([te("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],$l.prototype,"readFeatureExpressionInfo",null),c([ne("featureExpressionInfo",{featureExpressionInfo:{type:Pq},"featureExpression.value":{type:[0]}})],$l.prototype,"writeFeatureExpressionInfo",null),c([f({type:v5.apiValues,nonNullable:!0,json:{type:v5.jsonValues,read:v5.read,write:{writer:v5.write,isRequired:!0}}})],$l.prototype,"mode",null),c([f({type:Number,json:{write:!0}})],$l.prototype,"offset",void 0),c([f({type:OEe,json:{type:String,read:Lq.read,write:Lq.write}})],$l.prototype,"unit",null),$l=rk=c([E("esri.symbols.support.ElevationInfo")],$l);let My=class extends B{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};c([f({type:String,json:{write:!0}})],My.prototype,"description",void 0),c([f({type:String,json:{write:!0}})],My.prototype,"label",void 0),c([f()],My.prototype,"type",void 0),My=c([E("esri.tables.elements.AttributeTableElement")],My);const $1=My;let m2=class extends ve.ClonableMixin($1){constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return super.clone()}};c([f({type:["auto"],json:{write:!0}})],m2.prototype,"displayType",void 0),c([f({type:["attachment"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],m2.prototype,"type",void 0),m2=c([E("esri.tables.elements.AttributeTableAttachmentElement")],m2);const Kre=m2;let vp=class extends ve.ClonableMixin($1){constructor(e){super(e),this.description=null,this.fieldName=null,this.label=null,this.type="field"}clone(){return super.clone()}};c([f({type:String,json:{read:!1,write:!1}})],vp.prototype,"description",void 0),c([f({type:String,json:{write:{enabled:!0,isRequired:!0}}})],vp.prototype,"fieldName",void 0),c([f({type:String,json:{read:!1,write:!1}})],vp.prototype,"label",void 0),c([f({type:["field"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],vp.prototype,"type",void 0),vp=c([E("esri.tables.elements.AttributeTableFieldElement")],vp);const ese=vp;let y2=class extends ve.ClonableMixin($1){constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return super.clone()}};c([f({type:Number,json:{type:Ye,write:{enabled:!0,isRequired:!0}}})],y2.prototype,"relationshipId",void 0),c([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],y2.prototype,"type",void 0),y2=c([E("esri.tables.elements.AttributeTableRelationshipElement")],y2);const tse=y2,ise={base:$1,key:"type",typeMap:{attachment:Kre,field:ese,relationship:tse}};function FEe(t){return{typesWithGroup:{base:$1,key:"type",typeMap:{attachment:Kre,field:ese,group:t,relationship:tse}},typesWithoutGroup:ise}}let g2=class extends ve.ClonableMixin($1){constructor(e){super(e),this.elements=null,this.type="group"}clone(){return super.clone()}};c([f({types:[ise],json:{name:"attributeTableElements",write:!0}})],g2.prototype,"elements",void 0),c([f({type:["group"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],g2.prototype,"type",void 0),g2=c([E("esri.tables.elements.AttributeTableGroupElement")],g2);const NEe=g2;let b2=class extends ve.ClonableMixin(B){constructor(e){super(e),this.field=null,this.order=null}};c([f({type:String,json:{write:!0}})],b2.prototype,"field",void 0),c([f({type:["asc","desc"],json:{write:!0}})],b2.prototype,"order",void 0),b2=c([E("esri.tables.support.FieldOrder")],b2);const DEe=b2;var sk;const zEe=FEe(NEe);let v2=sk=class extends B{constructor(t){super(t),this.elements=null,this.orderByFields=null}clone(){return new sk({elements:z(this.elements),orderByFields:z(this.orderByFields)})}};c([f({types:[zEe.typesWithGroup],json:{name:"attributeTableElements",write:!0}})],v2.prototype,"elements",void 0),c([f({type:[DEe],json:{write:!0}})],v2.prototype,"orderByFields",void 0),v2=sk=c([E("esri.tables.AttributeTableTemplate")],v2);const VEe=v2,jEe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:Vt}}},xS={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(t,e)=>!e.disablePopup},write:{enabled:!0,writer(t,e,i){e[i]=!t}}}},$S={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:Vt}}},qEe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Um}}},BEe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:Vt}}},UEe={value:null,type:$l,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:Vt}}};function Tnt(t){return{type:t,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const rse={write:{enabled:!0,layerContainerTypes:Vt},read:!0},nk={type:Number,json:{origins:{"web-document":rse,"portal-item":{write:{layerContainerTypes:Vt}}}}},GEe={...nk,json:{...nk.json,origins:{"web-document":{...rse,write:{enabled:!0,layerContainerTypes:Vt,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(t,e,i)=>{var r;return i&&i.origin!=="service"||!e.drawingInfo||e.drawingInfo.transparency===void 0?(r=e.layerDefinition)!=null&&r.drawingInfo&&e.layerDefinition.drawingInfo.transparency!==void 0?Jw(e.layerDefinition.drawingInfo.transparency):void 0:Jw(e.drawingInfo.transparency)}}}},Int={type:qe,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(t,e)=>{const i=qe.fromJSON(t);return e.spatialReference!=null&&typeof e.spatialReference=="object"&&(i.spatialReference=le.fromJSON(e.spatialReference)),i}}}},read:!1}},HEe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},WEe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:Vt}}},ZEe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:Vt}}},sse={json:{write:{ignoreOrigin:!0,layerContainerTypes:Vt},origins:{"web-map":{read:!1,write:!1}}}},JEe={type:VEe,json:{name:"attributeTableInfo",write:!0}};let vu=class extends ve.ClonableMixin(B){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};c([f()],vu.prototype,"creatorField",void 0),c([f()],vu.prototype,"creationDateField",void 0),c([f()],vu.prototype,"editorField",void 0),c([f()],vu.prototype,"editDateField",void 0),c([f()],vu.prototype,"realm",void 0),c([f(z4("dateFieldsTimeReference",!0))],vu.prototype,"timeZone",void 0),vu=c([E("esri.layers.support.EditFieldsInfo")],vu);let Tl=class extends ve.ClonableMixin(B){constructor(e){super(e)}};c([f({constructOnly:!0,json:{write:!0}})],Tl.prototype,"name",void 0),c([f({constructOnly:!0,json:{write:!0}})],Tl.prototype,"fields",void 0),c([f({constructOnly:!0,json:{write:!0}})],Tl.prototype,"isAscending",void 0),c([f({constructOnly:!0,json:{write:!0}})],Tl.prototype,"indexType",void 0),c([f({constructOnly:!0,json:{write:!0}})],Tl.prototype,"isUnique",void 0),c([f({constructOnly:!0,json:{write:!0}})],Tl.prototype,"description",void 0),Tl=c([E("esri.layers.support.FeatureIndex")],Tl);async function DR(t,e,i){e=e.clone(),t.capabilities.query.supportsMaxRecordCountFactor&&(e.maxRecordCountFactor=nse(t));const r=YEe(t),s=t.capabilities.query.supportsPagination;e.start=0,e.num=r;let n=null;for(;;){const a=await t.source.queryFeaturesJSON(e,i);if(n==null?n=a:n.features=n.features.concat(a.features),n.exceededTransferLimit=a.exceededTransferLimit,!s||!a.exceededTransferLimit)break;e.start+=r}return n}function YEe(t){return nse(t)*XEe(t)}function XEe(t){return t.capabilities.query.maxRecordCount||2e3}function nse(t){return t.capabilities.query.supportsMaxRecordCountFactor?me.MAX_MAX_RECORD_COUNT_FACTOR:1}var ak;let w2=ak=class extends B{constructor(t){super(t),this.minValue=0,this.maxValue=0}clone(){return new ak({minValue:this.minValue,maxValue:this.maxValue})}};c([f({type:Number,json:{write:!0}})],w2.prototype,"minValue",void 0),c([f({type:Number,json:{write:!0}})],w2.prototype,"maxValue",void 0),w2=ak=c([E("esri.renderers.support.AuthoringInfoClassBreakInfo")],w2);var ok;let mf=ok=class extends B{constructor(t){super(t),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new ok({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:z(this.classBreakInfos)})}};c([f({type:String,json:{write:!0}})],mf.prototype,"field",void 0),c([f({type:String,json:{write:!0}})],mf.prototype,"normalizationField",void 0),c([f({type:String,json:{write:!0}})],mf.prototype,"label",void 0),c([f({type:[w2],json:{write:!0}})],mf.prototype,"classBreakInfos",void 0),mf=ok=c([E("esri.renderers.support.AuthoringInfoFieldInfo")],mf);var lk;let Cy=lk=class extends B{constructor(t){super(t),this.label=null,this.size=null,this.value=null}clone(){return new lk({label:this.label,value:this.value,size:this.size})}};c([f({type:String,json:{write:!0}})],Cy.prototype,"label",void 0),c([f({type:Number,json:{write:!0}})],Cy.prototype,"size",void 0),c([f({type:Number,json:{write:!0}})],Cy.prototype,"value",void 0),Cy=lk=c([E("esri.renderers.support.AuthoringInfoSizeStop")],Cy);const QEe=Cy;var ck;const w5=new Ie({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),_5=new Ie({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),Rq={key:t=>typeof t=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},Oq=["high-to-low","above-and-below","centered-on","extremes"],Fq=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size","spike"])],Nq=["seconds","minutes","hours","days","months","years"],KEe=["circle","diamond","hexagon-flat","hexagon-pointy","square"],eMe=["triangle-closed-outline","triangle-gradient-fill-closed","triangle-gradient-fill-closed-outline","triangle-gradient-fill-open","triangle-gradient-fill-open-outline","triangle-open-outline","triangle-solid-fill-closed","triangle-solid-fill-closed-outline","triangle-solid-fill-open","triangle-solid-fill-open-outline"];let hr=ck=class extends B{constructor(t){super(t),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(t){return typeof t=="string"||typeof t=="number"?t:null}get normalizationField(){return this.theme==="reference-size"||this.theme==="spike"?this._get("normalizationField"):null}set normalizationField(t){this._set("normalizationField",t)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(t){this._set("referenceSizeScale",t)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(t){this._set("referenceSizeSymbolStyle",t)}get spikeSymbolStyle(){return this.theme==="spike"?this._get("spikeSymbolStyle"):null}set spikeSymbolStyle(t){this._set("spikeSymbolStyle",t)}castStartTime(t){return typeof t=="string"||typeof t=="number"?t:null}get sizeStops(){return this.theme==="reference-size"||this.theme==="spike"?this._get("sizeStops"):null}set sizeStops(t){this._set("sizeStops",t)}get style(){return this.type==="color"?this._get("style"):null}set style(t){this._set("style",t)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(t){this._set("theme",t)}clone(){return new ck({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,spikeSymbolStyle:this.spikeSymbolStyle,sizeStops:z(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};c([f({types:Rq,json:{write:!0}})],hr.prototype,"endTime",void 0),c([Xe("endTime")],hr.prototype,"castEndTime",null),c([f({type:String,json:{write:!0}})],hr.prototype,"field",void 0),c([f({type:Number,json:{write:!0}})],hr.prototype,"maxSliderValue",void 0),c([f({type:Number,json:{write:!0}})],hr.prototype,"minSliderValue",void 0),c([f({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],hr.prototype,"normalizationField",null),c([f({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],hr.prototype,"referenceSizeScale",null),c([f({type:KEe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],hr.prototype,"referenceSizeSymbolStyle",null),c([f({type:eMe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],hr.prototype,"spikeSymbolStyle",null),c([f({types:Rq,json:{write:!0}})],hr.prototype,"startTime",void 0),c([Xe("startTime")],hr.prototype,"castStartTime",null),c([f({type:[QEe],json:{origins:{"web-scene":{write:!1}},write:!0}})],hr.prototype,"sizeStops",null),c([f({type:w5.apiValues,value:null,json:{type:w5.jsonValues,read:w5.read,write:w5.write}})],hr.prototype,"style",null),c([f({type:Fq,value:null,json:{type:Fq,origins:{"web-scene":{type:Oq,write:{writer:(t,e)=>{Oq.includes(t)&&(e.theme=t)}}}},write:!0}})],hr.prototype,"theme",null),c([f({type:_5.apiValues,json:{type:_5.jsonValues,read:_5.read,write:_5.write}})],hr.prototype,"type",void 0),c([f({type:Nq,json:{type:Nq,write:!0}})],hr.prototype,"units",void 0),hr=ck=c([E("esri.renderers.support.AuthoringInfoVisualVariable")],hr);const ase=hr;let Ng=class extends B{constructor(e){super(e),this.type=null}};c([f({readOnly:!0,json:{read:!1,write:!0}})],Ng.prototype,"type",void 0),Ng=c([E("esri.rest.support.ColorRamp")],Ng);var uk;let ju=uk=class extends Ng{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new uk({fromColor:z(this.fromColor),toColor:z(this.toColor),algorithm:this.algorithm})}};c([oe({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],ju.prototype,"algorithm",void 0),c([f({type:ee,json:{type:[Ye],write:!0}})],ju.prototype,"fromColor",void 0),c([f({type:ee,json:{type:[Ye],write:!0}})],ju.prototype,"toColor",void 0),c([f({type:["algorithmic"]})],ju.prototype,"type",void 0),ju=uk=c([E("esri.rest.support.AlgorithmicColorRamp")],ju);var dk;let lg=dk=class extends Ng{constructor(t){super(t),this.colorRamps=null,this.type="multipart"}clone(){return new dk({colorRamps:z(this.colorRamps)})}};c([f({type:[ju],json:{write:!0}})],lg.prototype,"colorRamps",void 0),c([f({type:["multipart"]})],lg.prototype,"type",void 0),lg=dk=c([E("esri.rest.support.MultipartColorRamp")],lg);const tMe={key:"type",base:Ng,typeMap:{algorithmic:ju,multipart:lg}};function iMe(t){return t!=null&&t.type?t.type==="algorithmic"?ju.fromJSON(t):t.type==="multipart"?lg.fromJSON(t):null:null}var fk;const qh=new Ie({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),S5=new Ie({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),Dq=new Ie({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),zq=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],rMe=["high-to-low","above-and-below","above","below"],sMe=["flow-line","wave-front"],nMe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Zt=fk=class extends B{constructor(t){super(t),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const t=this._get("classificationMethod"),e=this.type;return e&&e!=="relationship"?e==="class-breaks-size"||e==="class-breaks-color"?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?iMe(t):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",t)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&t!=="relationship"&&t!=="class-breaks-size"&&t!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",t)}get type(){return this._get("type")}set type(t){let e=t;t==="classed-size"?e="class-breaks-size":t==="classed-color"&&(e="class-breaks-color"),this._set("type",e)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",t)}clone(){var t;return new fk({classificationMethod:this.classificationMethod,colorRamp:z(this.colorRamp),fadeRatio:z(this.fadeRatio),fields:(t=this.fields)==null?void 0:t.slice(),field1:z(this.field1),field2:z(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};c([f({type:qh.apiValues,value:null,json:{type:qh.jsonValues,read:qh.read,write:qh.write,origins:{"web-document":{default:"manual",type:qh.jsonValues,read:qh.read,write:qh.write}}}})],Zt.prototype,"classificationMethod",null),c([f({types:tMe,json:{write:!0}})],Zt.prototype,"colorRamp",void 0),c([te("colorRamp")],Zt.prototype,"readColorRamp",null),c([f({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Zt.prototype,"fadeRatio",void 0),c([f({type:[String],value:null,json:{write:!0}})],Zt.prototype,"fields",null),c([f({type:mf,value:null,json:{write:!0}})],Zt.prototype,"field1",null),c([f({type:mf,value:null,json:{write:!0}})],Zt.prototype,"field2",null),c([f({type:sMe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Zt.prototype,"flowTheme",null),c([f({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Zt.prototype,"focus",null),c([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Zt.prototype,"isAutoGenerated",void 0),c([f({type:Number,value:null,json:{type:Ye,write:!0}})],Zt.prototype,"numClasses",null),c([f({type:zq,json:{type:zq,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Zt.prototype,"lengthUnit",void 0),c([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Zt.prototype,"maxSliderValue",void 0),c([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Zt.prototype,"minSliderValue",void 0),c([f({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Zt.prototype,"statistics",null),c([f({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Zt.prototype,"standardDeviationInterval",null),c([f({type:S5.apiValues,value:null,json:{type:S5.jsonValues,read:S5.read,write:S5.write,origins:{"web-scene":{type:Dq.jsonValues,write:{writer:Dq.write,overridePolicy:t=>({enabled:t!=="flow"})}}}}})],Zt.prototype,"type",null),c([f({type:[ase],json:{write:!0}})],Zt.prototype,"visualVariables",void 0),c([f({type:nMe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Zt.prototype,"univariateSymbolStyle",null),c([f({type:rMe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Zt.prototype,"univariateTheme",null),Zt=fk=c([E("esri.renderers.support.AuthoringInfo")],Zt);const O$=new Ie({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let aa=class extends B{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,e),Array.from(i).sort()}getSymbol(e,i){}async getSymbolAsync(e,i){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};c([f({type:Zt,json:{write:!0}})],aa.prototype,"authoringInfo",void 0),c([f({type:O$.apiValues,readOnly:!0,json:{type:O$.jsonValues,read:!1,write:{writer:O$.write,ignoreOrigin:!0,isRequired:!0}}})],aa.prototype,"type",void 0),aa=c([E("esri.renderers.Renderer")],aa);let _2=class extends ve.ClonableMixin(B){constructor(){super(...arguments),this.showLegend=null,this.title=null}};c([f({type:Boolean,json:{write:!0}})],_2.prototype,"showLegend",void 0),c([f({type:String,json:{write:!0}})],_2.prototype,"title",void 0),_2=c([E("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],_2);const zR=_2,F$=new Ie({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let us=class extends B{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(W.getLogger(this).error(".field: field must be a string value"),null):W_(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};c([f()],us.prototype,"index",void 0),c([f({type:F$.apiValues,readOnly:!0,json:{read:F$.read,write:{writer:F$.write,isRequired:!0}}})],us.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],us.prototype,"field",void 0),c([Xe("field")],us.prototype,"castField",null),c([f({type:String,json:{write:!0}})],us.prototype,"valueExpression",void 0),c([f({type:String,json:{write:!0}})],us.prototype,"valueExpressionTitle",void 0),c([f({readOnly:!0})],us.prototype,"arcadeRequired",null),c([f({type:zR,json:{write:!0}})],us.prototype,"legendOptions",void 0),us=c([E("esri.renderers.visualVariables.VisualVariable")],us);var hk;let wp=hk=class extends B{constructor(t){super(t),this.color=null,this.label=null,this.value=null}writeValue(t,e,i){e[i]=t??0}clone(){return new hk({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};c([f({type:ee,json:{type:[Ye],write:{isRequired:!0}}})],wp.prototype,"color",void 0),c([f({type:String,json:{write:!0}})],wp.prototype,"label",void 0),c([f({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],wp.prototype,"value",void 0),c([ne("value")],wp.prototype,"writeValue",null),wp=hk=c([E("esri.renderers.visualVariables.support.ColorStop")],wp);const VR=wp;var pk;let qu=pk=class extends us{constructor(t){super(t),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value),this._set("stops",t)}clone(){var t;return new pk({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};c([f({readOnly:!0})],qu.prototype,"cache",null),c([f({type:["color"],json:{type:["colorInfo"]}})],qu.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],qu.prototype,"normalizationField",void 0),c([f({type:[VR],json:{write:!0}})],qu.prototype,"stops",null),qu=pk=c([E("esri.renderers.visualVariables.ColorVariable")],qu);var mk;let tf=mk=class extends B{constructor(t){super(t),this.label=null,this.opacity=null,this.value=null}readOpacity(t,e){return Jw(e.transparency)}writeOpacity(t,e,i){e[i]=X7(t)}clone(){return new mk({label:this.label,opacity:this.opacity,value:this.value})}};c([f({type:String,json:{write:!0}})],tf.prototype,"label",void 0),c([f({type:Number,json:{type:Ye,write:{target:"transparency",isRequired:!0}}})],tf.prototype,"opacity",void 0),c([te("opacity",["transparency"])],tf.prototype,"readOpacity",null),c([ne("opacity")],tf.prototype,"writeOpacity",null),c([f({type:Number,json:{write:{isRequired:!0}}})],tf.prototype,"value",void 0),tf=mk=c([E("esri.renderers.visualVariables.support.OpacityStop")],tf);const aMe=tf;var yk;let Bu=yk=class extends us{constructor(t){super(t),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value),this._set("stops",t)}clone(){var t;return new yk({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};c([f({readOnly:!0})],Bu.prototype,"cache",null),c([f({type:["opacity"],json:{type:["transparencyInfo"]}})],Bu.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],Bu.prototype,"normalizationField",void 0),c([f({type:[aMe],json:{write:!0}})],Bu.prototype,"stops",null),Bu=yk=c([E("esri.renderers.visualVariables.OpacityVariable")],Bu);var gk;let yf=gk=class extends us{constructor(t){super(t),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){var t;return new gk({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}};c([f({readOnly:!0})],yf.prototype,"cache",null),c([f({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],yf.prototype,"axis",void 0),c([f({type:["rotation"],json:{type:["rotationInfo"]}})],yf.prototype,"type",void 0),c([f({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],yf.prototype,"rotationType",void 0),yf=gk=c([E("esri.renderers.visualVariables.RotationVariable")],yf);function oMe(t){return ct(t)}var bk;let Nr=bk=class extends B{constructor(t){super(t),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new bk({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};c([f({type:String,json:{write:!0}})],Nr.prototype,"label",void 0),c([f({type:Number,cast:ct,json:{write:{isRequired:!0}}})],Nr.prototype,"size",void 0),c([f({type:Number,json:{write:{isRequired:!0}}})],Nr.prototype,"value",void 0),c([f({type:Boolean,json:{write:!1}})],Nr.prototype,"useMinValue",void 0),c([f({type:Boolean,json:{write:!1}})],Nr.prototype,"useMaxValue",void 0),Nr=bk=c([E("esri.renderers.visualVariables.support.SizeStop")],Nr);let S6=class extends zR{constructor(){super(...arguments),this.customValues=null}};c([f({type:[Number],json:{write:!0}})],S6.prototype,"customValues",void 0),S6=c([E("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],S6);const ose=S6;var nd,vr;function cg(t){return t&&t.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function e0(t){return t!=null&&!isNaN(t)&&isFinite(t)}function lse(t){return t.valueExpression?nd.Expression:t.field&&typeof t.field=="string"?nd.Field:nd.Unknown}function lMe(t,e){const i=e||lse(t),r=t.valueUnit||"unknown";return i===nd.Unknown?vr.Constant:t.stops?vr.Stops:t.minSize!=null&&t.maxSize!=null&&t.minDataValue!=null&&t.maxDataValue!=null?vr.ClampedLinear:r==="unknown"?t.minSize!=null&&t.minDataValue!=null?t.minSize&&t.minDataValue?vr.Proportional:vr.Additive:vr.Identity:vr.RealWorldSize}(function(t){t.Unknown="unknown",t.Expression="expression",t.Field="field"})(nd||(nd={})),function(t){t.Unknown="unknown",t.Stops="stops",t.ClampedLinear="clamped-linear",t.Proportional="proportional",t.Additive="additive",t.Constant="constant",t.Identity="identity",t.RealWorldSize="real-world-size"}(vr||(vr={}));const cse=()=>W.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),TS=t=>cse().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${t}`),IS=()=>cse().error("Use of arcade expressions requires an arcade context"),Vq=new mt,x6=Math.PI,use=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function dse(t,e,i){const r="visualVariables"in t&&t.visualVariables?t.visualVariables.find(g=>g.type==="color"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void TS("ColorVariable");const s=typeof e=="number",n=s?null:e,a=n==null?void 0:n.attributes;let o=s?e:null;const l=r.field,{ipData:u,hasExpression:d}=r.cache;let h=r.cache.compiledFunc;if(!l&&!d){const g=r.stops;return g&&g[0]&&g[0].color}if(typeof o!="number")if(d){if((i==null?void 0:i.arcade)==null)return void IS();const g={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},b=i.arcade.arcadeUtils,v=b.getViewInfo(g),w=b.createExecContext(n,v,i.timeZone);if(!h){const _=b.createSyntaxTree(r.valueExpression);h=b.createFunction(_),r.cache.compiledFunc=h}o=b.executeFunction(h,w)}else a&&(o=a[l]);const p=r.normalizationField,m=a!=null&&p!=null?parseFloat(a[p]):void 0;if(o!=null&&(!p||s||!isNaN(m)&&m!==0)){e0(m)&&!s&&(o/=m);const g=jR(o,u);if(g){const b=g[0],v=g[1],w=b===v?r.stops[b].color:ee.blendColors(r.stops[b].color,r.stops[v].color,g[2],i!=null?i.color:void 0);return new ee(w)}}}function fse(t,e,i){const r="visualVariables"in t&&t.visualVariables?t.visualVariables.find(g=>g.type==="opacity"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void TS("OpacityVariable");const s=typeof e=="number",n=s?null:e,a=n==null?void 0:n.attributes;let o=s?e:null;const l=r.field,{ipData:u,hasExpression:d}=r.cache;let h=r.cache.compiledFunc;if(!l&&!d){const g=r.stops;return g&&g[0]&&g[0].opacity}if(typeof o!="number")if(d){if((i==null?void 0:i.arcade)==null)return void IS();const g={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},b=i.arcade.arcadeUtils,v=b.getViewInfo(g),w=b.createExecContext(n,v,i.timeZone);if(!h){const _=b.createSyntaxTree(r.valueExpression);h=b.createFunction(_),r.cache.compiledFunc=h}o=b.executeFunction(h,w)}else a&&(o=a[l]);const p=r.normalizationField,m=a!=null&&p!=null?parseFloat(a[p]):void 0;if(o!=null&&(!p||s||!isNaN(m)&&m!==0)){e0(m)&&!s&&(o/=m);const g=jR(o,u);if(g){const b=g[0],v=g[1];if(b===v)return r.stops[b].opacity;{const w=r.stops[b].opacity;return w+(r.stops[v].opacity-w)*g[2]}}}}function hse(t,e,i){const r="visualVariables"in t&&t.visualVariables?t.visualVariables.find(m=>m.type==="rotation"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void TS("RotationVariable");const s=r.axis||"heading",n=s==="heading"&&r.rotationType==="arithmetic"?90:0,a=s==="heading"&&r.rotationType==="arithmetic"?-1:1,o=typeof e=="number"?null:e,l=o==null?void 0:o.attributes,u=r.field,{hasExpression:d}=r.cache;let h=r.cache.compiledFunc,p=null;if(!u&&!d)return p;if(d){if((i==null?void 0:i.arcade)==null)return void IS();const m={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},g=i.arcade.arcadeUtils,b=g.getViewInfo(m),v=g.createExecContext(o,b,i.timeZone);if(!h){const w=g.createSyntaxTree(r.valueExpression);h=g.createFunction(w),r.cache.compiledFunc=h}p=g.executeFunction(h,v)}else l&&(p=l[u]);return p=typeof p!="number"||isNaN(p)?null:n+a*p,p}function cMe(t,e,i){const r=typeof e=="number",s=r?null:e,n=s==null?void 0:s.attributes;let a=r?e:null;const{isScaleDriven:o}=t.cache;let l=t.cache.compiledFunc;if(o){const d=i!=null?i.scale:void 0,h=i!=null?i.view:void 0;a=d==null||h==="3d"?uMe(t):d}else if(!r)switch(t.inputValueType){case nd.Expression:{if((i==null?void 0:i.arcade)==null)return void IS();const d={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},h=i.arcade.arcadeUtils,p=h.getViewInfo(d),m=h.createExecContext(s,p,i.timeZone);if(!l){const g=h.createSyntaxTree(t.valueExpression);l=h.createFunction(g),t.cache.compiledFunc=l}a=h.executeFunction(l,m);break}case nd.Field:n&&(a=n[t.field]);break;case nd.Unknown:a=null}if(!e0(a))return null;if(r||!t.normalizationField)return a;const u=n?parseFloat(n[t.normalizationField]):null;return e0(u)&&u!==0?a/u:null}function uMe(t){let e=null,i=null;const r=t.stops;return r?(e=r[0].value,i=r[r.length-1].value):(e=t.minDataValue||0,i=t.maxDataValue||0),(e+i)/2}function ES(t,e,i){const r="visualVariables"in t&&t.visualVariables?t.visualVariables.find(n=>n.type==="size"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void TS("SizeVariable");const s=mse(cMe(r,e,i),r,e,i,r.cache.ipData);return s==null||isNaN(s)?void 0:s}function In(t,e,i){return t==null?null:cg(t)?ES(t,e,i):e0(t)?t:null}function pse(t,e,i){return e0(i)&&t>i?i:e0(e)&&t<e?e:t}function dMe(t,e,i,r){const s=In(e.minSize,i,r)||e.minDataValue;return t==null&&s==null?null:(t??0)+(s??0)}function fMe(t,e,i){const r=t.stops;let s=(r==null?void 0:r.length)&&r[0].size;return s==null&&(s=t.minSize),In(s,e,i)}function hMe(t,e,i,r){const s=In(e.minSize,i,r);if(t==null)return s;const{minDataValue:n,maxDataValue:a}=e;if(n==null||a==null)return null;const o=(t-n)/(a-n),l=In(e.maxSize,i,r),u=r!=null?r.shape:void 0;if(t<=n)return s;if(t>=a)return l;if(s==null||l==null)return null;if(e.scaleBy==="area"&&u){const d=u==="circle",h=d?x6*(s/2)**2:s*s,p=h+o*((d?x6*(l/2)**2:l*l)-h);return d?2*Math.sqrt(p/x6):Math.sqrt(p)}return s+o*(l-s)}function pMe(t,e,i,r){const s=In(e.minSize,i,r);if(t==null||s==null)return s;const n=r!=null?r.shape:void 0,{minDataValue:a}=e;if(a==null)return null;const o=t/a,l=In(e.maxSize,i,r);let u=null;return u=n==="circle"?2*Math.sqrt(o*(s/2)**2):n==="square"||n==="diamond"||n==="image"?Math.sqrt(o*s**2):o*s,pse(u,s,l)}function mMe(t,e,i,r,s){var l,u,d;if(t==null)return null;const[n,a,o]=jR(t,s);if(n===a)return In((l=e.stops)==null?void 0:l[n].size,i,r);{const h=In((u=e.stops)==null?void 0:u[n].size,i,r),p=In((d=e.stops)==null?void 0:d[a].size,i,r);return h==null||p==null?null:h+(p-h)*o}}function yMe(t,e,i,r){const s=((r==null?void 0:r.resolution)??1)*SS[e.valueUnit],n=In(e.minSize,i,r),a=In(e.maxSize,i,r),{valueRepresentation:o}=e;if(t==null)return n;let l=null;return l=o==="area"?2*Math.sqrt(t/x6)/s:o==="radius"||o==="distance"?2*t/s:t/s,pse(l,n,a)}function mse(t,e,i,r,s){switch(e.transformationType){case vr.Additive:return dMe(t,e,i,r);case vr.Constant:return fMe(e,i,r);case vr.ClampedLinear:return hMe(t,e,i,r);case vr.Proportional:return pMe(t,e,i,r);case vr.Stops:return mMe(t,e,i,r,s);case vr.RealWorldSize:return yMe(t,e,i,r);case vr.Identity:return t;case vr.Unknown:return null}}function gMe(t,e,i){const{isScaleDriven:r}=t.cache;if(!(r&&i==="3d"||e))return null;const s={scale:e,view:i};let n=In(t.minSize,Vq,s),a=In(t.maxSize,Vq,s);if(n!=null||a!=null){if(n>a){const o=a;a=n,n=o}return{minSize:n,maxSize:a}}}function bMe(t,e,i){if(!t.visualVariables)return;const r=[],s=[],n=[],a=[],o=[];for(const l of t.visualVariables)switch(l.type){case"color":s.push(l);break;case"opacity":n.push(l);break;case"rotation":o.push(l);break;case"size":a.push(l)}return s.forEach(l=>{const u=dse(l,e,i);r.push({variable:l,value:u})}),n.forEach(l=>{const u=fse(l,e,i);r.push({variable:l,value:u})}),o.forEach(l=>{const u=hse(l,e,i);r.push({variable:l,value:u})}),a.forEach(l=>{const u=ES(l,e,i);r.push({variable:l,value:u})}),r}function jR(t,e){if(!e)return;let i=0,r=e.length-1;return e.some((s,n)=>t<s?(r=n,!0):(i=n,!1)),[i,r,(t-e[i])/(e[r]-e[i])]}function vMe(t,e,i){const r=["proportional","proportional","proportional"];for(const s of t){const n=s.useSymbolValue?"symbol-value":ES(s,e,i)??"proportional";switch(s.axis){case"width":r[0]=n;break;case"depth":r[1]=n;break;case"height":r[2]=n;break;case"width-and-depth":r[0]=n,r[1]=n;break;case"all":case void 0:case null:r[0]=n,r[1]=n,r[2]=n;break;default:s.axis}}return r}const c0=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:vMe,getColor:dse,getOpacity:fse,getRotationAngle:hse,getSize:ES,getSizeForValue:mse,getSizeFromNumberOrVariable:In,getSizeRangeAtScale:gMe,getVisualVariableValues:bMe,viewScaleRE:use},Symbol.toStringTag,{value:"Module"}));var vk;const x5=new Ie({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),wk=new Ie({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function jq(t){if(t!=null)return typeof t=="string"||typeof t=="number"?oMe(t):t.type==="size"?cg(t)?t:(delete(t={...t}).type,new Ke(t)):void 0}function qq(t,e,i){if(typeof t!="object")return t;const r=new Ke;return r.read(t,i),r}let Ke=vk=class extends us{constructor(t){super(t),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&use.test(this.valueExpression)}}set index(t){cg(this.maxSize)&&(this.maxSize.index=`visualVariables[${t}].maxSize`),cg(this.minSize)&&(this.minSize.index=`visualVariables[${t}].minSize`),this._set("index",t)}get inputValueType(){return lse(this)}set maxDataValue(t){t&&this.stops&&(W.getLogger(this).warn("cannot set maxDataValue when stops is not null."),t=null),this._set("maxDataValue",t)}set maxSize(t){t&&this.stops&&(W.getLogger(this).warn("cannot set maxSize when stops is not null."),t=null),this._set("maxSize",t)}castMaxSize(t){return jq(t)}readMaxSize(t,e,i){return qq(t,e,i)}set minDataValue(t){t&&this.stops&&(W.getLogger(this).warn("cannot set minDataValue when stops is not null."),t=null),this._set("minDataValue",t)}set minSize(t){t&&this.stops&&(W.getLogger(this).warn("cannot set minSize when stops is not null."),t=null),this._set("minSize",t)}castMinSize(t){return jq(t)}readMinSize(t,e,i){return qq(t,e,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(t){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value):t&&(W.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),t=null),this._set("stops",t)}get transformationType(){return lMe(this,this.inputValueType)}readValueExpression(t,e){return t||e.expression&&"$view.scale"}writeValueExpressionWebScene(t,e,i,r){if(t==="$view.scale"){if(r!=null&&r.messages){const s=this.index,n=typeof s=="string"?s:`visualVariables[${s}]`;r.messages.push(new P("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:r}))}}else e[i]=t}readValueUnit(t){return t?wk.read(t):null}clone(){var t,e;return new vk({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:cg(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:cg(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(t=this.stops)==null?void 0:t.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}flipSizes(){if(this.transformationType===vr.ClampedLinear){const{minSize:t,maxSize:e}=this;return this.minSize=e,this.maxSize=t,this}if(this.transformationType===vr.Stops){const t=this.stops;if(!t)return this;const e=t.map(r=>r.size).reverse(),i=t.length;for(let r=0;r<i;r++)t[r].size=e[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var t;return(t=this.stops)==null?void 0:t.map(e=>e.value||0)}};c([f({readOnly:!0})],Ke.prototype,"cache",null),c([f({type:x5.apiValues,json:{type:x5.jsonValues,origins:{"web-map":{read:!1}},read:x5.read,write:x5.write}})],Ke.prototype,"axis",void 0),c([f()],Ke.prototype,"index",null),c([f({type:String,readOnly:!0})],Ke.prototype,"inputValueType",null),c([f({type:ose,json:{write:!0}})],Ke.prototype,"legendOptions",void 0),c([f({type:Number,value:null,json:{write:!0}})],Ke.prototype,"maxDataValue",null),c([f({type:Number,value:null,json:{write:!0}})],Ke.prototype,"maxSize",null),c([Xe("maxSize")],Ke.prototype,"castMaxSize",null),c([te("maxSize")],Ke.prototype,"readMaxSize",null),c([f({type:Number,value:null,json:{write:!0}})],Ke.prototype,"minDataValue",null),c([f({type:Number,value:null,json:{write:!0}})],Ke.prototype,"minSize",null),c([Xe("minSize")],Ke.prototype,"castMinSize",null),c([te("minSize")],Ke.prototype,"readMinSize",null),c([f({type:String,json:{write:!0}})],Ke.prototype,"normalizationField",void 0),c([f({readOnly:!0})],Ke.prototype,"arcadeRequired",null),c([f({type:String})],Ke.prototype,"scaleBy",void 0),c([f({type:[Nr],value:null,json:{write:!0}})],Ke.prototype,"stops",null),c([f({type:["outline"],json:{write:!0}})],Ke.prototype,"target",void 0),c([f({type:String,readOnly:!0})],Ke.prototype,"transformationType",null),c([f({type:["size"],json:{type:["sizeInfo"]}})],Ke.prototype,"type",void 0),c([f({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Ke.prototype,"useSymbolValue",void 0),c([f({type:String,json:{write:!0}})],Ke.prototype,"valueExpression",void 0),c([te("valueExpression",["valueExpression","expression"])],Ke.prototype,"readValueExpression",null),c([ne("web-scene","valueExpression")],Ke.prototype,"writeValueExpressionWebScene",null),c([f({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Ke.prototype,"valueRepresentation",void 0),c([f({type:wk.apiValues,json:{write:wk.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],Ke.prototype,"valueUnit",void 0),c([te("valueUnit")],Ke.prototype,"readValueUnit",null),Ke=vk=c([E("esri.renderers.visualVariables.SizeVariable")],Ke);const wMe={color:qu,size:Ke,opacity:Bu,rotation:yf},_Me=new Ie({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),SMe=/^\[([^\]]+)\]$/i;let $6=class extends ce{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),e=e==null?void 0:e.filter(i=>!!i),e==null?void 0:e.length){for(const i of e)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&e.sort((i,r)=>{let s=null;return s=i.target===r.target?0:i.target?1:-1,s});for(let i=0;i<e.length;i++)e[i].index=i;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,i,r){const{rotationExpression:s,rotationType:n}=i,a=s==null?void 0:s.match(SMe),o=a==null?void 0:a[1];if(o&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:n,field:o})),e)return e.map(l=>{const u=_Me.read(l.type),d=wMe[u];d||(W.getLogger(this).warn(`Unknown variable type: ${u}`),r!=null&&r.messages&&r.messages.push(new ca("visual-variable:unsupported",`visualVariable of type '${u}' is not supported`,{definition:l,context:r})));const h=new d;return h.read(l,r),h})}writeVariables(e,i){const r=[];for(const s of e){const n=s.toJSON(i);n&&r.push(n)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};c([f()],$6.prototype,"visualVariables",null),$6=c([E("esri.renderers.visualVariables.VisualVariableFactory")],$6);const xMe={base:us,key:"type",typeMap:{opacity:Bu,color:qu,rotation:yf,size:Ke}},T1=t=>{let e=class extends t{constructor(){super(...arguments),this._vvFactory=new $6}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,r,s){return this._vvFactory.readVariables(i,r,s)}writeVisualVariables(i,r,s,n){r[s]=this._vvFactory.writeVariables(i,n)}get arcadeRequiredForVisualVariables(){var i;return((i=this.visualVariables)==null?void 0:i.some(({arcadeRequired:r})=>r))??!1}hasVisualVariables(i,r){return i?this.getVisualVariablesForType(i,r).length>0:this.getVisualVariablesForType("size",r).length>0||this.getVisualVariablesForType("color",r).length>0||this.getVisualVariablesForType("opacity",r).length>0||this.getVisualVariablesForType("rotation",r).length>0}getVisualVariablesForType(i,r){var s;return((s=this.visualVariables)==null?void 0:s.filter(n=>n.type===i&&(typeof r=="string"?n.target===r:r!==!1||!n.target)))??[]}async collectVVRequiredFields(i,r){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const n of s)n&&(n.field&&Zs(i,r,n.field),n.normalizationField&&Zs(i,r,n.normalizationField),n.valueExpression&&($Me(n.valueExpression,i,r)||await Xr(i,r,n.valueExpression)))}};return c([f({types:[xMe],value:null,json:{write:!0}})],e.prototype,"visualVariables",null),c([te("visualVariables",["visualVariables","rotationType","rotationExpression"])],e.prototype,"readVisualVariables",null),c([ne("visualVariables")],e.prototype,"writeVisualVariables",null),e=c([E("esri.renderers.mixins.VisualVariablesMixin")],e),e};function $Me(t,e,i){const r=t5e(t);return r!=null&&(Zs(e,i,r),!0)}const qR=[252,146,31,255],TMe=[153,153,153,255],IMe={type:"esriSMS",style:"esriSMSCircle",size:6,color:qR,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},EMe={type:"esriSLS",style:"esriSLSSolid",width:.75,color:qR},MMe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},CMe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},kMe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},AMe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},PMe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},I8=Qt.fromJSON(IMe),MS=hi.fromJSON(EMe),yse=ys.fromJSON(MMe),LMe=At.fromJSON(CMe);function Ont(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return I8;case"polyline":return MS;case"polygon":case"extent":return yse}return null}const Fnt=Qt.fromJSON(kMe),Nnt=hi.fromJSON(AMe),Dnt=ys.fromJSON(PMe),RMe=Zr.fromSimpleMarkerSymbol(I8),OMe=na.fromSimpleLineSymbol(MS),FMe=_n.fromSimpleFillSymbol(yse),NMe=new _c({symbolLayers:new K([new Hr({material:{color:qR},edges:new iR({size:lt(1),color:new ee(TMe)})})])}),DMe=new na({symbolLayers:new K([new ds({material:{color:new ee([0,0,0])},size:lt(1)})])}),zMe=new _n({symbolLayers:new K([new Hr({outline:{color:new ee([0,0,0]),size:lt(1)}})])});function znt(t){if(t==null)return null;switch(t.type){case"mesh":return NMe;case"point":case"multipoint":return RMe;case"polyline":return OMe;case"polygon":case"extent":return FMe}return null}const Bq="#useCIMFallbackSymbology()",Uu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function Ub(t,e=Uu){var l,u,d,h;if(!t)return{symbol:null};const{retainId:i=Uu.retainId,ignoreDrivers:r=Uu.ignoreDrivers,hasLabelingContext:s=Uu.hasLabelingContext,retainCIM:n=Uu.retainCIM,cimFallbackEnabled:a=Uu.cimFallbackEnabled}=e;let o=null;if(Bc(t)||t instanceof Lr)o=t.clone();else if(t.type==="cim"){const p=(u=(l=t.data)==null?void 0:l.symbol)==null?void 0:u.type;switch(p){case"CIMPointSymbol":o=n?t.clone():Zr.fromCIMSymbol(t);break;case"CIMLineSymbol":a&&(o=DMe.clone(),(d=e==null?void 0:e.logWarning)==null||d.call(e,Bq,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":a&&(o=zMe.clone(),(h=e==null?void 0:e.logWarning)==null||h.call(e,Bq,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!o)return{error:new P("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${p||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof hi)o=na.fromSimpleLineSymbol(t);else if(t instanceof Qt)o=Zr.fromSimpleMarkerSymbol(t);else if(t instanceof Ns)o=Zr.fromPictureMarkerSymbol(t);else if(t instanceof ys)o=e.geometryType&&e.geometryType==="mesh"?_c.fromSimpleFillSymbol(t):_n.fromSimpleFillSymbol(t);else{if(!(t instanceof At))return{error:new P("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};o=s?ko.fromTextSymbol(t):Zr.fromTextSymbol(t)}return i&&o&&o.type!=="cim"&&(o.id=t.id),!r||o.type==="cim"||o instanceof Lr||o.symbolLayers.forEach(p=>p.ignoreDrivers=!0),{symbol:o}}function E8(t,e,i,r){const s=gse(t,{},{context:r,isLabelSymbol:!1});s!=null&&ti(i,s,e)}function Uq(t,e,i,r){const s=gse(t,{},{context:r,isLabelSymbol:!0});s!=null&&(e[i]=s)}function Gq(t){return Bc(t)||t instanceof Lr}function VMe(t){return(t==null?void 0:t.type)==="polygon-3d"||(t==null?void 0:t.type)==="line-3d"}function gse(t,e,i){var o;if(t==null)return null;const{context:r,isLabelSymbol:s}=i,n=r==null?void 0:r.origin,a=r==null?void 0:r.messages;if(n==="web-scene"&&!Gq(t)){const l=Ub(t,{retainCIM:!0,hasLabelingContext:s});return l.symbol!=null?l.symbol.write(e,r):(a==null||a.push(new P("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:r,error:l.error})),null)}return oE(r==null?void 0:r.layer)&&VMe(t)?(a==null||a.push(new P("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${(o=r==null?void 0:r.layer)==null?void 0:o.declaredClass}'.`,{symbol:t,context:r})),null):(n==="web-map"||n==="portal-item"&&!oE(r==null?void 0:r.layer))&&Gq(t)?(a==null||a.push(new P("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:r})),null):t.write(e,r)}function bse(t,e){return L9e(t,null,e)}const CS={types:nte,json:{write:{writer:E8},origins:{"web-scene":{types:Nz,write:{writer:E8},read:{reader:c1({types:Nz})}}}}},BR=IP({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},CS),UR={types:{base:zi,key:"type",typeMap:{"simple-fill":Ff.typeMap["simple-fill"],"picture-fill":Ff.typeMap["picture-fill"],"polygon-3d":Ff.typeMap["polygon-3d"],cim:Ff.typeMap.cim}},json:{write:{writer:E8},origins:{"web-scene":{type:_n,write:{writer:E8}}}}},T6={cast:t=>t==null||typeof t=="string"||typeof t=="number"?t:`${t}`,json:{type:String,write:{writer:(t,e)=>{e.value=t==null?void 0:t.toString()}}}};var _k;let qs=_k=class extends T1(aa){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(t,e){await Promise.all([this.collectSymbolFields(t,e),this.collectVVRequiredFields(t,e)])}async collectSymbolFields(t,e){await Promise.all(this.symbols.map(i=>i.collectRequiredFields(t,e)))}getSymbol(t,e){return this.symbol}async getSymbolAsync(t,e){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((t,e)=>t+JSON.stringify(e),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new _k({description:this.description,label:this.label,symbol:z(this.symbol),visualVariables:z(this.visualVariables),authoringInfo:z(this.authoringInfo)})}};c([f({type:String,json:{write:!0}})],qs.prototype,"description",void 0),c([f({type:String,json:{write:!0}})],qs.prototype,"label",void 0),c([f(BR)],qs.prototype,"symbol",void 0),c([oe({simple:"simple"})],qs.prototype,"type",void 0),qs=_k=c([E("esri.renderers.SimpleRenderer")],qs);const jMe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function Sk(t){return t instanceof ce}function Hq(t){return t instanceof K?Object.keys(t.items):Sk(t)?Ys(t).keys():t?Object.keys(t):[]}function $5(t,e){return t instanceof K?t.items[e]:t[e]}function qMe(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function bw(t){return t?t.declaredClass:null}function vse(t,e){var h;const i=t.diff;if(i&&typeof i=="function")return i(t,e);const r=Hq(t),s=Hq(e);if(r.length===0&&s.length===0)return;if(!r.length||!s.length||qMe(t,e))return{type:"complete",oldValue:t,newValue:e};const n=s.filter(p=>!r.includes(p)),a=r.filter(p=>!s.includes(p)),o=r.filter(p=>s.includes(p)&&$5(t,p)!==$5(e,p)).concat(n,a).sort(),l=bw(t);if(l&&jMe.has(l)&&o.length)return{type:"complete",oldValue:t,newValue:e};let u;const d=Sk(t)&&Sk(e);for(const p of o){const m=$5(t,p),g=$5(e,p);let b;if((d||typeof m!="function"&&typeof g!="function")&&m!==g&&(m!=null||g!=null)){if(i&&i[p]&&typeof i[p]=="function")b=(h=i[p])==null?void 0:h.call(i,m,g);else if(m instanceof Date&&g instanceof Date){if(m.getTime()===g.getTime())continue;b={type:"complete",oldValue:m,newValue:g}}else b=typeof m=="object"&&typeof g=="object"&&bw(m)===bw(g)?vse(m,g):{type:"complete",oldValue:m,newValue:g};b!=null&&(u!=null?u.diff[p]=b:u={type:"partial",diff:{[p]:b}})}}return u}function Vnt(t,e){return BMe(t,e)}function BMe(t,e){if(t==null)return!1;const i=e.split(".");let r=t;for(const s of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const n=r.diff[s];if(!n)return!1;r=n}}return!0}function jnt(t,e){if(!t)return!1;if(t.type==="partial"){const i=Object.keys(t.diff);return i.length===1&&i[0]===e}return!1}function UMe(t,e){if(typeof t!="function"&&typeof e!="function"&&(t!=null||e!=null))return t==null||e==null||typeof t=="object"&&typeof e=="object"&&bw(t)!==bw(e)?{type:"complete",oldValue:t,newValue:e}:vse(t,e)}function T5(t){if(t==null)return!0;switch(t.type){case"complete":return!1;case"collection":{const e=t;for(const i of e.added)if(!T5(i))return!1;for(const i of e.removed)if(!T5(i))return!1;for(const i of e.changed)if(!T5(i))return!1;return!0}case"partial":for(const e in t.diff)if(!T5(t.diff[e]))return!1;return!0}}var xk;const GMe=ji()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let S2=xk=class extends ve.ClonableMixin(B){static from(t){return o1(xk,t)}constructor(t){super(t),this.title=null,this.order=null}};c([f({type:String,json:{write:!0}})],S2.prototype,"title",void 0),c([oe(GMe)],S2.prototype,"order",void 0),S2=xk=c([E("esri.renderers.support.RendererLegendOptions")],S2);const kS=S2;let zo=class extends ve.ClonableMixin(B){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}};c([f(T6)],zo.prototype,"value",void 0),c([f(T6)],zo.prototype,"value2",void 0),c([f(T6)],zo.prototype,"value3",void 0),zo=c([E("esri.renderers.support.UniqueValue")],zo);let Pu=class extends ve.ClonableMixin(B){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(e==null)return null;const i=typeof(e=Array.isArray(e)?e:[e])[0];return i==="string"||i==="number"?e.map(r=>new zo({value:r})):i==="object"?e[0]instanceof zo?e:e.map(r=>new zo(r)):null}};c([f({type:String,json:{write:!0}})],Pu.prototype,"description",void 0),c([f({type:String,json:{write:!0}})],Pu.prototype,"label",void 0),c([f(CS)],Pu.prototype,"symbol",void 0),c([f({type:[zo],json:{type:[[String]],read:{reader:t=>t?t.map(e=>new zo({value:e[0],value2:e[1],value3:e[2]})):null},write:{writer:(t,e)=>{const i=[];for(const r of t){const s=[r.value,r.value2,r.value3].filter(Kt).map(n=>n.toString());i.push(s)}e.values=i}}}})],Pu.prototype,"values",void 0),c([Xe("values")],Pu.prototype,"castValues",null),Pu=c([E("esri.renderers.support.UniqueValueClass")],Pu);let im=class extends ve.ClonableMixin(B){constructor(e){super(e),this.heading=null,this.classes=null}};c([f({type:String,json:{write:!0}})],im.prototype,"heading",void 0),c([f({type:[Pu],json:{write:{isRequired:!0}}})],im.prototype,"classes",void 0),im=c([E("esri.renderers.support.UniqueValueGroup")],im);var $k;let Do=$k=class extends B{constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new $k({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var e;const t=JSON.stringify((e=this.symbol)==null?void 0:e.toJSON());return`${this.value}.${t}`}};c([f({type:String,json:{write:!0}})],Do.prototype,"description",void 0),c([f({type:String,json:{write:!0}})],Do.prototype,"label",void 0),c([f(BR)],Do.prototype,"symbol",void 0),c([f(T6)],Do.prototype,"value",void 0),Do=$k=c([E("esri.renderers.support.UniqueValueInfo")],Do);const Wq=new Map;async function HMe(t,e){try{return{data:(await GR(t,e)).data,baseUrl:QP(t),styleUrl:t}}catch(i){return Nl(i),null}}function WMe(t,e,i){var l;const r=e.portal!=null?e.portal:ie.getDefault();let s;const n=`${r.url} - ${(l=r.user)==null?void 0:l.username} - ${t}`,a=Wq.get(n);if(a)return a;const o=ZMe(t,r,i).then(u=>(s=u,u.fetchData())).then(u=>({data:u,baseUrl:s.itemUrl??"",styleName:t}));return Wq.set(n,o),o}function ZMe(t,e,i){return e.load(i).then(()=>{const r=new Oi({disableExtraQuery:!0,query:`owner:${Zq} AND type:${Jq} AND typekeywords:"${t}"`});return e.queryItems(r,i)}).then(({results:r})=>{var a;let s=null;const n=t.toLowerCase();if(r&&Array.isArray(r)){for(const o of r)if(((a=o.typeKeywords)==null?void 0:a.some(u=>u.toLowerCase()===n))&&o.type===Jq&&o.owner===Zq){s=o;break}}if(!s)throw new P("symbolstyleutils:style-not-found",`The style '${t}' could not be found`,{styleName:t});return s.load(i)})}function wse(t,e,i){return(t==null?void 0:t.styleUrl)!=null?HMe(t.styleUrl,i):(t==null?void 0:t.styleName)!=null?WMe(t.styleName,e,i):Promise.reject(new P("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function _se(t){return t===null||t.type==="CIMSymbolReference"?t:{type:"CIMSymbolReference",symbol:t}}function JMe(t,e){for(const i of e)switch(i){case"cim":if(t.cimRef)return{format:i,url:encodeURI(t.cimRef)};break;case"web-gltf-basisu":{const r=N$(t,"gltf_basisu");if(r)return{format:i,url:r};break}case"web-gltf":{const r=N$(t,"gltf");if(r)return{format:i,url:r};break}case"web":{const r=N$(t,"gltf");if(r)return{format:"web-gltf",url:r};if(t.webRef)return{format:i,url:encodeURI(t.webRef)};break}}}function N$(t,e){var i,r;if(!q("enable-feature:force-wosr"))return(r=(i=t.formatInfos)==null?void 0:i.find(s=>s.type===e))==null?void 0:r.href}function GR(t,e){const i={responseType:"json",query:{f:"json"},...e};return it(Ja(t),i)}const Zq="esri_en",Jq="Style",YMe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var x2;const Yq="uvInfos-watcher",Xq="uvGroups-watcher",XMe=",",QMe=Ft(Do);function KMe(t){const{field1:e,field2:i,field3:r,fieldDelimiter:s,uniqueValueInfos:n,valueExpression:a}=t,o=!(!e||!i);return[{classes:(n??[]).map(l=>{var w;const{symbol:u,label:d,value:h,description:p}=l,[m,g,b]=o?((w=h==null?void 0:h.toString())==null?void 0:w.split(s||""))||[]:[h],v=[];return(e||a)&&v.push(m),i&&v.push(g),r&&v.push(b),{symbol:u,label:d,values:[v],description:p}})}]}function R0(t){return t!=null&&t!==""&&(typeof t!="string"||t.trim()!==""&&t.toLowerCase()!=="<null>")||(t=null),t+""}let Bt=x2=class extends T1(aa){constructor(t){super(t),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,i){if(!e&&!i)return;if(!e||!i)return{type:"complete",oldValue:e,newValue:i};let r=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<i.length;n++){const a=e.find(o=>o.value===i[n].value);a?UMe(a,i[n])?(s.changed.push({type:"complete",oldValue:a,newValue:i[n]}),r=!0):s.unchanged.push({oldValue:a,newValue:i[n]}):(s.added.push(i[n]),r=!0)}for(let n=0;n<e.length;n++)i.find(a=>a.value===e[n].value)||(s.removed.push(e[n]),r=!0);return r?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(t){this._set("field",t),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(t){return t==null||typeof t=="function"?t:W_(t)}writeField(t,e,i,r){typeof t=="string"?e[i]=t:r!=null&&r.messages?r.messages.push(new P("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):W.getLogger(this).error(".field: cannot write field to JSON since it's not a string value")}set field2(t){this._set("field2",t),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(t){this._set("field3",t),this._updateUniqueValues()}set valueExpression(t){this._set("valueExpression",t),this._updateUniqueValues()}set defaultSymbol(t){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",t)}set fieldDelimiter(t){this._set("fieldDelimiter",t),this._updateUniqueValues()}readPortal(t,e,i){return i.portal||ie.getDefault()}readStyleOrigin(t,e,i){if(e.styleName)return Object.freeze({styleName:e.styleName});if(e.styleUrl){const r=ud(e.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(t,e,i,r){t.styleName?e.styleName=t.styleName:t.styleUrl&&(e.styleUrl=Bm(t.styleUrl,r))}set uniqueValueGroups(t){this.styleOrigin?W.getLogger(this).error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",t),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(t){this.styleOrigin?W.getLogger(this).error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(t,e){var r;if(this.styleOrigin)return void W.getLogger(this).error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof t=="object"?QMe(t):new Do({value:t,symbol:ate(e)}),(r=this.uniqueValueInfos)==null||r.push(i),this._valueInfoMap[R0(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(t){if(this.styleOrigin)return void W.getLogger(this).error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const e=this.uniqueValueInfos;if(e)for(let i=0;i<e.length;i++){const r=e[i];if(String(r.value)===String(t)){delete this._valueInfoMap[R0(t)],e.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(t,e){let i=e;return this.valueExpression&&(e==null?void 0:e.arcade)==null&&(i={...i,arcade:await Qa()}),this._getUniqueValueInfo(t,i)}getSymbol(t,e){if(this.valueExpression&&(e==null?void 0:e.arcade)==null)return void W.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(t,e);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const s=await Qa(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this._getUniqueValueInfo(t,i);return(r==null?void 0:r.symbol)||this.defaultSymbol}get symbols(){const t=[];for(const e of this.uniqueValueInfos??[])e.symbol&&t.push(e.symbol);return this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){var r;const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=(r=this.uniqueValueInfos)==null?void 0:r.reduce((s,n)=>s+n.getMeshHash(),"");return`${t}.${e}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const t=new x2({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:z(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:z(this.visualVariables),legendOptions:z(this.legendOptions),authoringInfo:z(this.authoringInfo),backgroundFillSymbol:z(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(t._isDefaultSymbolDerived=!0),t._set("portal",this.portal);const e=z(this.uniqueValueInfos),i=z(this.uniqueValueGroups);return this.styleOrigin&&(t._set("styleOrigin",Object.freeze(z(this.styleOrigin))),Object.freeze(e),Object.freeze(i)),t._set("uniqueValueInfos",e),t._updateValueInfoMap(),t._set("uniqueValueGroups",i),t._isInfosSource=this._isInfosSource,t._watchUniqueValueInfosAndGroups(),t}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.symbols.map(r=>r.collectRequiredFields(t,e)),Xr(t,e,this.valueExpression)];Zs(t,e,this.field),Zs(t,e,this.field2),Zs(t,e,this.field3),await Promise.all(i)}populateFromStyle(){return wse(this.styleOrigin,{portal:this.portal}).then(t=>{var i;const e=[];return this._valueInfoMap={},t!=null&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach(r=>{const s=new Lr({styleUrl:t.styleUrl,styleName:t.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==t.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const n=new Do({value:r.name,symbol:s});e.push(n),this._valueInfoMap[R0(r.name)]=n}),this._set("uniqueValueInfos",Object.freeze(e)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",XMe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:t}=this;if(t)for(const e of t)this._valueInfoMap[R0(e.value)]=e}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(Yq);const{uniqueValueInfos:t}=this;if(t){const e=[];for(const i of t)e.push(Y(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,s)=>{r!==s&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(e,Yq)}}_watchUniqueValueGroups(){this.removeHandles(Xq);const{uniqueValueGroups:t}=this;if(t){const e=[];for(const i of t){e.push(Y(()=>({classes:i.classes}),(r,s)=>{r!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])e.push(Y(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(s,n)=>{s!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(e,Xq)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const t=[],{field:e,field2:i,field3:r,fieldDelimiter:s,uniqueValueGroups:n,valueExpression:a}=this;if(!e&&!a)return this._set("uniqueValueInfos",t),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const o=!(!e||!i);for(const l of n)for(const u of l.classes??[]){const{symbol:d,label:h,values:p,description:m}=u;for(const g of p??[]){const{value:b,value2:v,value3:w}=g,_=[b];i&&_.push(v),r&&_.push(w);const S=o?_.join(s||""):_[0]??void 0;t.push(new Do({symbol:d,label:h,value:S,description:m}))}}this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(t=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:e,field2:i,valueExpression:r,fieldDelimiter:s,uniqueValueInfos:n}=this;if(!e&&!r||!n.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const a=!(!e||!i),o=n.map(u=>{var w;const{symbol:d,label:h,value:p,description:m}=u,[g,b,v]=a?((w=p==null?void 0:p.toString())==null?void 0:w.split(s||""))||[]:[p];return new Pu({symbol:d,label:h,description:m,values:[new zo({value:g,value2:b,value3:v})]})}),l=[new im({classes:o})];t&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(t,e){return this.valueExpression?this._getUnqiueValueInfoForExpression(t,e):this._getUnqiueValueInfoForFields(t)}_getUnqiueValueInfoForExpression(t,e){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:a}=e??{};let o=this._cache.compiledFunc;const l=n.arcadeUtils;if(!o){const d=l.createSyntaxTree(this.valueExpression);o=l.createFunction(d),this._cache.compiledFunc=o}const u=l.executeFunction(o,l.createExecContext(t,l.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),a));return this._valueInfoMap[R0(u)]}_getUnqiueValueInfoForFields(t){const e=this.field,i=t.attributes;let r;if(this.field2){const s=this.field2,n=this.field3,a=[];e&&a.push(i[e]),s&&a.push(i[s]),n&&a.push(i[n]),r=a.join(this.fieldDelimiter||"")}else e&&(r=i[e]);return this._valueInfoMap[R0(r)]}static fromPortalStyle(t,e){const i=new x2(e==null?void 0:e.properties);i._set("styleOrigin",Object.freeze({styleName:t})),i._set("portal",(e==null?void 0:e.portal)||ie.getDefault());const r=i.populateFromStyle();return r.catch(s=>{W.getLogger(this.prototype).error(`#fromPortalStyle('${t}'[, ...])`,"Failed to create unique value renderer from style name",s)}),r}static fromStyleUrl(t,e){const i=new x2(e==null?void 0:e.properties);i._set("styleOrigin",Object.freeze({styleUrl:t}));const r=i.populateFromStyle();return r.catch(s=>{W.getLogger(this.prototype).error(`#fromStyleUrl('${t}'[, ...])`,"Failed to create unique value renderer from style URL",s)}),r}};c([f({readOnly:!0})],Bt.prototype,"_cache",null),c([oe({uniqueValue:"unique-value"})],Bt.prototype,"type",void 0),c([f(UR)],Bt.prototype,"backgroundFillSymbol",void 0),c([f({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Bt.prototype,"field",null),c([Xe("field")],Bt.prototype,"castField",null),c([ne("field")],Bt.prototype,"writeField",null),c([f({type:String,value:null,json:{write:!0}})],Bt.prototype,"field2",null),c([f({type:String,value:null,json:{write:!0}})],Bt.prototype,"field3",null),c([f({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Bt.prototype,"orderByClassesEnabled",void 0),c([f({type:String,value:null,json:{write:!0}})],Bt.prototype,"valueExpression",null),c([f({type:String,json:{write:!0}})],Bt.prototype,"valueExpressionTitle",void 0),c([f({type:kS,json:{write:!0}})],Bt.prototype,"legendOptions",void 0),c([f({type:String,json:{write:!0}})],Bt.prototype,"defaultLabel",void 0),c([f(IP({...CS},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Bt.prototype,"defaultSymbol",null),c([f({type:String,value:null,json:{write:!0}})],Bt.prototype,"fieldDelimiter",null),c([f({type:ie,readOnly:!0})],Bt.prototype,"portal",void 0),c([te("portal",["styleName"])],Bt.prototype,"readPortal",null),c([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Bt.prototype,"styleOrigin",void 0),c([te("styleOrigin",["styleName","styleUrl"])],Bt.prototype,"readStyleOrigin",null),c([ne("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Bt.prototype,"writeStyleOrigin",null),c([f({type:[im],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(t,e,i)=>(e.uniqueValueGroups||KMe(e)).map(r=>im.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Bt.prototype,"uniqueValueGroups",null),c([f({type:[Do],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],Bt.prototype,"uniqueValueInfos",null),Bt=x2=c([E("esri.renderers.UniqueValueRenderer")],Bt);var Tk,mb;let Wi=(mb=class extends B{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10}clone(){return new Tk(z({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}},Tk=mb,mb);c([f({type:[String],json:{write:!0}})],Wi.prototype,"attachmentTypes",void 0),c([f({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Wi.prototype,"attachmentsWhere",void 0),c([f({type:Boolean,json:{write:!0}})],Wi.prototype,"cacheHint",void 0),c([f({type:[String],json:{write:!0}})],Wi.prototype,"keywords",void 0),c([f({type:[String],json:{write:!0}})],Wi.prototype,"globalIds",void 0),c([f({json:{write:!0}})],Wi.prototype,"name",void 0),c([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Wi.prototype,"num",void 0),c([f({type:[Number],json:{write:!0}})],Wi.prototype,"objectIds",void 0),c([f({type:[String],json:{write:!0}})],Wi.prototype,"orderByFields",void 0),c([f({type:Boolean,json:{default:!1,write:!0}})],Wi.prototype,"returnMetadata",void 0),c([f({type:[Number],json:{write:!0}})],Wi.prototype,"size",void 0),c([f({type:Number,json:{read:{source:"resultOffset"}}})],Wi.prototype,"start",void 0),c([ne("start"),ne("num")],Wi.prototype,"writeStart",null),c([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Wi.prototype,"where",void 0),Wi=Tk=c([E("esri.rest.support.AttachmentQuery")],Wi),Wi.from=Ft(Wi);const Sse=ji()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),Qq="percent-of-total",Kq="field",xse=t=>{let e=class extends t{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let i=this._get("normalizationType");const r=!!this.normalizationField,s=this.normalizationTotal!=null;return r||s?(i=r&&Kq||s&&Qq||null,r&&s&&W.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):i!==Kq&&i!==Qq||(i=null),i}set normalizationType(i){this._set("normalizationType",i)}};return c([f({type:String,json:{name:"parameters.normalizationField",write:!0}})],e.prototype,"normalizationField",void 0),c([f({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],e.prototype,"normalizationMaxValue",void 0),c([f({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],e.prototype,"normalizationMinValue",void 0),c([f({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],e.prototype,"normalizationTotal",void 0),c([oe(Sse,{name:"parameters.normalizationType"})],e.prototype,"normalizationType",null),e=c([E("esri.rest.support.NormalizationBinParametersMixin")],e),e};var Ik,yb;let Ot=(yb=class extends B{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(i.definitionExpression="1=1")}clone(){return new Ik(z({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}},Ik=yb,yb);c([f({type:Boolean,json:{write:!0}})],Ot.prototype,"cacheHint",void 0),c([f({type:Ao,json:{write:!0}})],Ot.prototype,"dynamicDataSource",void 0),c([f({type:String,json:{write:!0}})],Ot.prototype,"gdbVersion",void 0),c([f({type:Number,json:{write:!0}})],Ot.prototype,"geometryPrecision",void 0),c([f({type:Date})],Ot.prototype,"historicMoment",void 0),c([ne("historicMoment")],Ot.prototype,"_writeHistoricMoment",null),c([f({type:Number,json:{write:!0}})],Ot.prototype,"maxAllowableOffset",void 0),c([f({json:{write:!0}})],Ot.prototype,"objectIds",void 0),c([f({type:[String],json:{write:!0}})],Ot.prototype,"orderByFields",void 0),c([f({type:[String],json:{write:!0}})],Ot.prototype,"outFields",void 0),c([f({type:le,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ot.prototype,"outSpatialReference",void 0),c([f({json:{write:!0}})],Ot.prototype,"relationshipId",void 0),c([f({type:Number,json:{read:{source:"resultOffset"}}})],Ot.prototype,"start",void 0),c([ne("start"),ne("num")],Ot.prototype,"writeStart",null),c([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Ot.prototype,"num",void 0),c([f({json:{write:!0}})],Ot.prototype,"returnGeometry",void 0),c([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ot.prototype,"returnM",void 0),c([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ot.prototype,"returnZ",void 0),c([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ot.prototype,"where",void 0),Ot=Ik=c([E("esri.rest.support.RelationshipQuery")],Ot),Ot.from=Ft(Ot);const Gnt=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Ot}},Symbol.toStringTag,{value:"Module"})),Ek=new Ie({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function eCe(t,e,i,r){const s=await Ch(t);if(await HR(t,e,r),!s.addAttachment)throw new P(r,"Layer source does not support addAttachment capability");return s.addAttachment(e,i)}function HR(t,e,i){var n,a;const{attributes:r}=e,{objectIdField:s}=t;return(a=(n=t.capabilities)==null?void 0:n.data)!=null&&a.supportsAttachment?e?r?s&&r[s]?Promise.resolve():Promise.reject(new P(i,`feature is missing the identifying attribute ${s}`)):Promise.reject(new P(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new P(i,"A feature is required to add/delete/update attachments")):Promise.reject(new P(i,"this layer doesn't support attachments"))}async function tCe(t,e,i,r,s){const n=await Ch(t);if(await HR(t,e,s),!n.updateAttachment)throw new P(s,"Layer source does not support updateAttachment capability");return n.updateAttachment(e,i,r)}async function iCe(t,e,i){const{applyEdits:r}=await R(()=>import("./editingSupport-BCr1IpBQ.js"),[]),s=await t.load();let n=i;return s.type==="feature"&&s.infoFor3D&&e.deleteFeatures!=null&&s.globalIdField!=null&&(n={...n,globalIdToObjectId:await $Ce(s,e.deleteFeatures,s.globalIdField)}),r(s,s.source,e,i)}async function rCe(t,e,i){const{uploadAssets:r}=await R(()=>import("./editingSupport-BCr1IpBQ.js"),[]),s=await t.load();return r(s,s.source,e,i)}async function sCe(t,e,i,r){const s=await Ch(t);if(await HR(t,e,r),!s.deleteAttachments)throw new P(r,"Layer source does not support deleteAttachments capability");return s.deleteAttachments(e,i)}async function nCe(t,e,i){const r=(await t.load({signal:e==null?void 0:e.signal})).source;if(!r.fetchRecomputedExtents)throw new P(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(e)}async function aCe(t,e,i,r){var m,g,b,v;e=Wi.from(e),await t.load();const s=t.source,n=t.capabilities;if(!((m=n==null?void 0:n.data)!=null&&m.supportsAttachment))throw new P(r,"this layer doesn't support attachments");const{attachmentTypes:a,objectIds:o,globalIds:l,num:u,size:d,start:h,where:p}=e;if(!((g=n==null?void 0:n.operations)!=null&&g.supportsQueryAttachments)&&((a==null?void 0:a.length)>0||(l==null?void 0:l.length)>0||(d==null?void 0:d.length)>0||u||h||p))throw new P(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!(o!=null&&o.length||l!=null&&l.length||p))throw new P(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);if(!s.queryAttachments)throw new P(r,"Layer source does not support queryAttachments capability",e);return!((b=n==null?void 0:n.attachment)!=null&&b.supportsOrderByFields)&&((v=e.orderByFields)!=null&&v.length)&&((e=e.clone()).orderByFields=null),s.queryAttachments(e)}async function oCe(t,e,i,r){const s=await Ch(t);if(!s.queryObjectIds)throw new P(r,"Layer source does not support queryObjectIds capability");return s.queryObjectIds(me.from(e)??t.createQuery(),i)}async function lCe(t,e,i,r){const s=await Ch(t);if(!s.queryFeatureCount)throw new P(r,"Layer source does not support queryFeatureCount capability");return s.queryFeatureCount(me.from(e)??t.createQuery(),i)}async function cCe(t,e,i,r){const s=await Ch(t);if(!s.queryExtent)throw new P(r,"Layer source does not support queryExtent capability");return s.queryExtent(me.from(e)??t.createQuery(),i)}async function uCe(t,e,i,r){const s=await Ch(t);if(!s.queryRelatedFeatures)throw new P(r,"Layer source does not support queryRelatedFeatures capability");return s.queryRelatedFeatures(Ot.from(e),i)}async function dCe(t,e,i,r){const s=await Ch(t);if(!s.queryRelatedFeaturesCount)throw new P(r,"Layer source does not support queryRelatedFeaturesCount capability");return s.queryRelatedFeaturesCount(Ot.from(e),i)}async function fCe(t){const e=t.source;if(e!=null&&e.refresh)try{const{dataChanged:i,updates:r}=await e.refresh();if(r!=null&&(t.sourceJSON={...t.sourceJSON,...r},t.read(r,{origin:"service",url:t.parsedUrl})),i)return!0}catch{}if(t.definitionExpression)try{return(await ZL(t.definitionExpression,t.fieldsIndex)).hasDateFunctions}catch{}return!1}function hCe(t){var a,o;const e=new me;e.historicMoment=t.historicMoment,e.gdbVersion=t.gdbVersion,e.returnGeometry=!0,e.outFields=["*"],e.multipatchOption=t.geometryType==="multipatch"?"xyFootprint":null;const i=(a=t.capabilities)==null?void 0:a.query;i&&(e.compactGeometryEnabled=i.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference);const r=(o=t.capabilities)==null?void 0:o.data;r!=null&&r.supportsZ&&t.returnZ!=null&&(e.returnZ=t.returnZ),r!=null&&r.supportsM&&t.returnM!=null&&(e.returnM=t.returnM);const{timeOffset:s,timeExtent:n}=t;return e.timeExtent=s!=null&&n!=null?n.offset(-s.value,s.unit):n||null,e}function $se(t){const{globalIdField:e,fields:i}=t;if(e)return e;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function Tse(t){const{objectIdField:e,fields:i}=t;if(e)return e;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function pCe(t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}function mCe(t,e,i,r){var l,u;const s=i==null?void 0:i.feature,n=!!((l=t.subtypes)!=null&&l.length);if(n&&!(i!=null&&i.excludeImpliedDomains)){const d=gCe(t,e);if(d)return d}const a=n&&yCe(t,s);if(a){const d=(u=a==null?void 0:a.domains)==null?void 0:u[e];return(d==null?void 0:d.type)==="inherited"?r:d}const o=Mse(t.types,t.typeIdField,s);if(o){const d=o.domains&&o.domains[e];if(d&&(d==null?void 0:d.type)!=="inherited")return d}if(r)return r;if(!(i!=null&&i.excludeImpliedDomains)){const d=bCe(t,e);if(d)return d}return null}function yCe(t,e){const{subtypes:i,subtypeField:r}=t;if(!(e!=null&&e.attributes)||!(i!=null&&i.length)||!r)return null;const s=e.attributes[r];return s==null?null:i.find(n=>n.code===s)}function gCe(t,e){var a,o;const{fieldsIndex:i,subtypeField:r}=t,{name:s,type:n}=i.get(e)??{};if(!s)return null;if((r&&((a=i.get(r))==null?void 0:a.name))===s&&((o=t.subtypes)!=null&&o.length)){const l=t.subtypes.map(u=>new Nf({code:Ise(u.code,n),name:u.name}));if(l!=null&&l.length)return new Yu({codedValues:l})}return null}function bCe(t,e){var n,a;const{fieldsIndex:i}=t,{name:r,type:s}=i.get(e)??{};if(!r)return null;if(("typeIdField"in t?(n=i.get(t.typeIdField))==null?void 0:n.name:null)===r&&"types"in t&&((a=t.types)!=null&&a.length)){const o=t.types.map(l=>new Nf({code:Ise(l.id,s),name:l.name}));return new Yu({codedValues:o})}return null}function Ise(t,e){return e?YL({type:e})&&typeof t=="number"?`${t}`:M5e({type:e})&&typeof t=="string"?Number.parseInt(t,10):t:t}async function Ch(t){return(await t.load()).source}async function Hnt(t,e){if(!Pe)return;const i=Pe.findCredential(t);if(i)return i.userId;let r;try{const s=await qL(t,e);s&&(r=await Pe.checkSignInStatus(`${s}/sharing`))}catch{}return r?r.userId:null}async function Ese(t,e){if(!Pe||Pe.findCredential(t))return;let i;try{const r=await qL(t,e);r&&(i=await Pe.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=e!=null?e.signal:null;await Pe.getCredential(t,{signal:r})}catch{}}async function vCe(t,e,i){var s;const r=(s=t.parsedUrl)==null?void 0:s.path;r&&t.authenticationTriggerEvent===e&&await Ese(r,i)}async function Wnt(t){var i;const e=(i=t.parsedUrl)==null?void 0:i.path;e&&wCe(t)&&await Ese(e)}function wCe(t){return _Ce(t)&&("serviceDefinitionExpression"in t&&M8(t.serviceDefinitionExpression)||"definitionExpression"in t&&M8(t.definitionExpression))}function _Ce(t){var e;return!(!yK(t)||!((e=t.capabilities)!=null&&e.query.supportsCurrentUser))}function M8(t){return!!(t!=null&&t.toLowerCase().includes("current_user"))}function SCe(t){return!I6(t)&&(t.userHasUpdateItemPrivileges||t.editingEnabled)}const D$=c1({types:nte});function WR(t,e){var i;if(t.defaultSymbol)return(i=t.types)!=null&&i.length?new Bt({defaultSymbol:D$(t.defaultSymbol,t,e),field:t.typeIdField,uniqueValueInfos:t.types.map(r=>({id:r.id,symbol:D$(r.symbol,r,e)}))}):new qs({symbol:D$(t.defaultSymbol,t,e)})}function xCe(t){var r,s,n;let e=(r=t.sourceJSON)==null?void 0:r.cacheMaxAge;if(!e)return!1;const i=(n=(s=t.editingInfo)==null?void 0:s.lastEditDate)==null?void 0:n.getTime();return i==null||(e*=1e3,Date.now()-i<e)}async function $Ce(t,e,i){if(e==null)return null;const r=[],{objectIdField:s}=t;if(e.forEach(u=>{let d=null;if("attributes"in u){const{attributes:h}=u;d={globalId:h[i],objectId:h[s]!=null&&h[s]!==-1?h[s]:null}}else d={globalId:u.globalId,objectId:u.objectId!=null&&u.objectId!==-1?u.objectId:null};d.globalId!=null&&(d.objectId!=null&&d.objectId!==-1||r.push(d.globalId))}),r.length===0)return null;const n=t.createQuery();n.where=r.map(u=>`${i}='${u}'`).join(" OR "),n.returnGeometry=!1,n.outFields=[s,i],n.cacheHint=!1;const a=await W2e(DR(t,n));if(!a.ok)return null;const o=new Map,l=a.value.features;for(const u of l){const d=u.attributes[i],h=u.attributes[s];d!=null&&h!=null&&h!==-1&&o.set(Wwe(d),h)}return o}function Mse(t,e,i){if(!e||!i||!t)return null;const r=i.getAttribute(e);return r==null?null:t.find(s=>{const{id:n}=s;return n!=null&&n.toString()===r.toString()})??null}function I6(t){var e;return((e=t.sourceJSON)==null?void 0:e.isMultiServicesView)||TCe(t)}function TCe(t){var e,i;return!!((i=(e=t.sourceJSON)==null?void 0:e.capabilities)!=null&&i.toLowerCase().split(",").map(r=>r.trim()).includes("map"))}function ICe(t,e,i){var n;const r=e==null?void 0:e.queryAttributeBins;if(!((n=e==null?void 0:e.operations)!=null&&n.supportsQueryBins)||!r)throw new P(i,"Layer source does not support binning");switch(t.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new P(i,"Layer source does not support auto-interval binning");if(t.binParameters.normalizationType&&(!r.supportsNormalization||!eB(t.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new P(i,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new P(i,"Layer source does not support date binning");if(t.binParameters.snapToData&&!r.supportsSnapToData)throw new P(i,"Layer source does not support snapToData binning");if(t.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new P(i,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new P(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new P(i,"Layer source does not support fixed-interval binning");if(t.binParameters.normalizationType&&(!r.supportsNormalization||!eB(t.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new P(i,"Layer source does not support normalization binning")}if(t.binParameters.stackBy&&!r.supportsStackBy)throw new P(i,"Layer source does not support stackBy binning");if(t.binParameters.splitBy&&!r.supportsSplitBy)throw new P(i,"Layer source does not support splitBy binning");if(t.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new P(i,"Layer source does not support firstDayOfWeek binning");const s=r==null?void 0:r.supportedStatistics;if(t.outStatistics&&s){const a=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:o}of t.outStatistics){const l=a.get(o);if(l&&!s[l])throw new P(i,`Layer source does not support ${o} statistic type`)}}}function eB(t,e){return t!=null&&!!(e!=null&&e[Sse.toJSON(t)])}let ky=class extends ve.ClonableMixin(B){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};c([f({type:String,json:{read:{source:"shapeAreaFieldName"}}})],ky.prototype,"shapeAreaField",void 0),c([f({type:String,json:{read:{source:"shapeLengthFieldName"}}})],ky.prototype,"shapeLengthField",void 0),c([f({type:String,json:{read:t=>R0e.read(t)||O0e.read(t)}})],ky.prototype,"units",void 0),ky=c([E("esri.layers.support.GeometryFieldsInfo")],ky);var Mk;let Ay=Mk=class extends B{constructor(t){super(t),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new K}clone(){return new Mk({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};c([f({type:String,json:{write:{isRequired:!0}}})],Ay.prototype,"floorField",void 0),c([f({json:{read:!1,write:!1}})],Ay.prototype,"viewAllMode",void 0),c([f({json:{read:!1,write:!1}})],Ay.prototype,"viewAllLevelIds",void 0),Ay=Mk=c([E("esri.layers.support.LayerFloorInfo")],Ay);const tB=new Ie({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),iB=new Ie({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Hn=class extends ve.ClonableMixin(B){constructor(e){super(e),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};c([f({json:{read:tB.read,write:tB.write}})],Hn.prototype,"cardinality",void 0),c([f({json:{name:"catalogID"}})],Hn.prototype,"catalogId",void 0),c([f({json:{read:!0,write:!0}})],Hn.prototype,"composite",void 0),c([f({json:{read:!0,write:!0}})],Hn.prototype,"id",void 0),c([f({json:{read:!0,write:!0}})],Hn.prototype,"keyField",void 0),c([f({json:{read:!0,write:!0}})],Hn.prototype,"keyFieldInRelationshipTable",void 0),c([f({json:{read:!0,write:!0}})],Hn.prototype,"name",void 0),c([f({json:{read:!0,write:!0}})],Hn.prototype,"relatedTableId",void 0),c([f({json:{read:!0,write:!0}})],Hn.prototype,"relationshipTableId",void 0),c([f({json:{read:iB.read,write:iB.write}})],Hn.prototype,"role",void 0),Hn=c([E("esri.layers.support.Relationship")],Hn);const ECe=[["binary","application/octet-stream","bin",""]];function Ynt(t,e){return Pse(e.name,(t==null?void 0:t.supportedFormats)??[])!=null}function Xnt(t,e){if(!t)return!1;const i=MCe(e,t.supportedFormats??[]);return i!=null&&t.editFormats.includes(i)}function Cse(t,e){return JR(PCe(t,e))}function kse(t,e){return JR(Pse(t,e))}function Qnt(t,e){return Lse(ACe(t,e))}function MCe(t,e){return kse(t.name,e)??Cse(t.type,e)}function AS(t,e,i){return Cse(t,i)??kse(e,i)}function Ase({supportedFormats:t}){return AS("model/gltf-binary","glb",t)}function Knt(t){const e=Ase(t);return e!=null&&t.editFormats.includes(e)}function CCe({supportedFormats:t}){return AS("model/gltf+json","gltf",t)}function kCe(t){if(!t)return null;const e=Ase(t),i=CCe(t);let r=null;for(const s of t.queryFormats){if(s===e)return s;s===i&&(r=s)}return r}function eat({supportedFormats:t}){return AS("application/esri3do-SR_world","wld",t)}function tat({supportedFormats:t}){return AS("application/esri3do-SR_prj","prj",t)}function ZR(t){return[...ECe,...t]}function ACe(t,e){return ZR(e).find(i=>JR(i)===t)}function PCe(t,e){const i=t.toLowerCase();return ZR(e).find(r=>Lse(r)===i)}function Pse(t,e){const i=t.toLowerCase();return ZR(e).find(r=>LCe(r).some(s=>i.endsWith(s)))}function JR(t){return t==null?void 0:t[0]}function Lse(t){return t==null?void 0:t[1].toLowerCase()}function LCe(t){return(t==null?void 0:t[2].split(",").map(e=>e.toLowerCase()))??[]}function iat(t){var e;return(e=t.tables)==null?void 0:e.find(i=>i.role==="assetMaps")}function de(t,e,i){return!!Rse(t,e,i)}function Py(t,e,i){return Rse(t,e,i)}function Rse(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i}const RCe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function OCe(t){var i;const e=(i=t==null?void 0:t.supportedSpatialAggregationStatistics)==null?void 0:i.map(r=>r.toLowerCase());return{envelope:!!(e!=null&&e.includes("envelopeaggregate")),centroid:!!(e!=null&&e.includes("centroidaggregate")),convexHull:!!(e!=null&&e.includes("convexhullaggregate"))}}function g3(t,e){var r;const i=(r=t==null?void 0:t.supportedOperationsWithCacheHint)==null?void 0:r.map(s=>s.toLowerCase());return!!(i!=null&&i.includes(e.toLowerCase()))}function FCe(t){var i;const e=(i=t==null?void 0:t.supportedStatisticTypes)==null?void 0:i.map(r=>r.toLowerCase());return{count:!!(e!=null&&e.includes("count")),sum:!!(e!=null&&e.includes("sum")),min:!!(e!=null&&e.includes("min")),max:!!(e!=null&&e.includes("max")),avg:!!(e!=null&&e.includes("avg")),var:!!(e!=null&&e.includes("var")),stddev:!!(e!=null&&e.includes("stddev")),percentileContinuous:!!(e!=null&&e.includes("percentile_cont")),percentileDiscrete:!!(e!=null&&e.includes("percentile_disc")),envelope:!!(e!=null&&e.includes("envelopeaggregate")),centroid:!!(e!=null&&e.includes("centroidaggregate")),convexHull:!!(e!=null&&e.includes("convexhullaggregate"))}}function NCe(t){var i;const e=(i=t==null?void 0:t.supportedNormalizationTypes)==null?void 0:i.map(r=>r.toLowerCase());return{field:!!(e!=null&&e.includes("field")),log:!!(e!=null&&e.includes("log")),naturalLog:!!(e!=null&&e.includes("naturallog")),percentOfTotal:!!(e!=null&&e.includes("percentoftotal")),squareRoot:!!(e!=null&&e.includes("squareroot"))}}function Ose(t,e){return{analytics:DCe(t),attachment:zCe(t),data:VCe(t),metadata:jCe(t),operations:qCe(t.capabilities,t,e),query:BCe(t,e),queryAttributeBins:HCe(t),queryRelated:UCe(t),queryTopFeatures:GCe(t),editing:WCe(t)}}function DCe(t){return{supportsCacheHint:g3(t.advancedQueryCapabilities,"queryAnalytics")}}function zCe(t){const e=t.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:g3(t.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:de(t.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:de(t,"supportsAttachmentsResizing",!1)};return e&&Array.isArray(e)&&e.forEach(r=>{const s=RCe[r.name];s&&(i[s]=!!r.isEnabled)}),i}function VCe(t){return{isVersioned:de(t,"isDataVersioned",!1),isBranchVersioned:de(t,"isDataBranchVersioned",!1),supportsAttachment:de(t,"hasAttachments",!1),supportsM:de(t,"hasM",!1),supportsZ:de(t,"hasZ",!1)}}function jCe(t){return{supportsAdvancedFieldProperties:de(t,"supportsFieldDescriptionProperty",!1)}}function qCe(t,e,i){var p;const r=(t==null?void 0:t.toLowerCase().split(",").map(m=>m.trim()))??[],s=i?zc(i):null,n=r.includes((s==null?void 0:s.serverType)==="MapServer"?"data":"query"),a=r.includes("editing")&&!e.datesInUnknownTimezone&&((p=e.uniqueIdInfo)==null?void 0:p.OIDFieldContainsHashValue)!==!0;let o=a&&r.includes("create"),l=a&&r.includes("delete"),u=a&&r.includes("update");const d=r.includes("changetracking"),h=e.advancedQueryCapabilities;return a&&!(o||l||u)&&(o=l=u=!0),{supportsCalculate:de(e,"supportsCalculate",!1),supportsTruncate:de(e,"supportsTruncate",!1),supportsValidateSql:de(e,"supportsValidateSql",!1),supportsAdd:o,supportsDelete:l,supportsEditing:a,supportsChangeTracking:d,supportsQuery:n,supportsQueryAnalytics:de(h,"supportsQueryAnalytic",!1),supportsQueryAttachments:de(h,"supportsQueryAttachments",!1),supportsQueryBins:de(h,"supportsQueryBins",!1)||!!e.queryBinsCapabilities,supportsQueryTopFeatures:de(h,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:de(e,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:u,supportsExceedsLimitStatistics:de(e,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:de(e,"supportsAsyncConvert3D",!1)}}function BCe(t,e){const i=t.advancedQueryCapabilities,r=t.ownershipBasedAccessControlForFeatures,s=t.archivingInfo,n=t.currentVersion,a=e==null?void 0:e.includes("MapServer"),o=!a||n>=q("mapserver-pbf-version-support"),l=Dw(e),u=new Set((t.supportedQueryFormats??"").split(",").map(d=>d.toLowerCase().trim()));return{maxRecordCount:Py(t,"maxRecordCount",void 0),maxRecordCountFactor:Py(t,"maxRecordCountFactor",void 0),maxUniqueIDCount:Py(t,"maxUniqueIDCount",void 0),standardMaxRecordCount:Py(t,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:OCe(i),supportsCacheHint:de(i,"supportsQueryWithCacheHint",!1)||g3(i,"query"),supportsCentroid:de(i,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:l,supportsCurrentUser:de(i,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:de(i,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:de(i,"supportsDisjointSpatialRel",!1),supportsDistance:de(i,"supportsQueryWithDistance",!1),supportsDistinct:de(i,"supportsDistinct",t.supportsAdvancedQueries),supportsExtent:de(i,"supportsReturningQueryExtent",!1),supportsFormatPBF:o&&u.has("pbf"),supportsFullTextSearch:de(i,"supportsFullTextSearch",!1),supportsGeometryProperties:de(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:de(i,"supportsHavingClause",!1),supportsHistoricMoment:de(s,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:de(i,"supportsMaxRecordCountFactor",!1),supportsOrderBy:de(i,"supportsOrderBy",t.supportsAdvancedQueries),supportsPagination:de(i,"supportsPagination",!1),supportsPaginationOnAggregatedQueries:de(i,"supportsPaginationOnAggregatedQueries",!1),supportsPercentileStatistics:de(i,"supportsPercentileStatistics",!1),supportsQuantization:de(t,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:de(t,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:de(r,"allowAnonymousToQuery",!0),supportsQueryByOthers:de(r,"allowOthersToQuery",!0),supportsQueryGeometry:de(t,"supportsReturningQueryGeometry",!1),supportsResultType:de(i,"supportsQueryWithResultType",!1),supportsReturnMesh:!!kCe(t.infoFor3D),supportsSpatialAggregationStatistics:de(i,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:de(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:de(t,"useStandardizedQueries",!1),supportsStatistics:de(i,"supportsStatistics",t.supportsStatistics),supportsTopFeaturesQuery:de(i,"supportsTopFeaturesQuery",!1),supportsTrueCurve:de(i,"supportsTrueCurve",!1),tileMaxRecordCount:Py(t,"tileMaxRecordCount",void 0)}}function UCe(t){const e=t.advancedQueryCapabilities,i=de(e,"supportsAdvancedQueryRelated",!1);return{supportsPagination:de(e,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:g3(e,"queryRelated")}}function GCe(t){return{supportsCacheHint:g3(t.advancedQueryCapabilities,"queryTopFilter")}}function HCe(t){const e=t?t.queryBinsCapabilities:void 0;return{supportsDate:de(e,"supportsDateBin",!1),supportsFixedInterval:de(e,"supportsFixedIntervalBin",!1),supportsAutoInterval:de(e,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:de(e,"supportsFixedBoundariesBin",!1),supportsStackBy:de(e,"supportsStackBy",!1),supportsSplitBy:de(e,"supportsSplitBy",!1),supportsSnapToData:de(e,"supportsSnapToData",!1),supportsReturnFullIntervalBin:de(e,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:de(e,"supportsFirstDayOfWeek",!1),supportsNormalization:de(e,"supportsNormalization",!1),supportedStatistics:FCe(e),supportedNormalizationTypes:NCe(e)}}function WCe(t){const e=t.ownershipBasedAccessControlForFeatures,i=t?t.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:de(t,"allowGeometryUpdates",!0),supportsGlobalId:de(t,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:de(t,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:de(t,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:de(t,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:de(t,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:de(e,"allowAnonymousToDelete",!0),supportsDeleteByOthers:de(e,"allowOthersToDelete",!0),supportsUpdateByAnonymous:de(e,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:de(e,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:de(i,"supportsAsyncApplyEdits",!1),zDefault:Py(t,"zDefault",void 0)}}function rat(t){var e;return{operations:{supportsAppend:de(t,"supportsAppend",!1),supportsCoverageQuery:((e=t==null?void 0:t.playbackInfo)==null?void 0:e.klv["0601"])??!1,supportsExportClip:de(t,"supportsExportClip",!1),supportsExportFrameset:de(t,"supportsExportFrameset",!1),supportsMensuration:de(t,"supportsMensuration",!1),supportsPreviews:de(t,"supportsPreviews",!1),supportsUpdate:de(t,"supportsUpdate",!1)}}}let wu=class extends ve.ClonableMixin(B){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;const i={};for(const r of Object.keys(e))i[r]=cS(e[r]);return i}writeDomains(e,i){var s;if(!e)return;const r={};for(const n of Object.keys(e))e[n]&&(r[n]=(s=e[n])==null?void 0:s.toJSON());i.domains=r}};c([f({type:Number,json:{write:!0}})],wu.prototype,"code",void 0),c([f({type:Object,json:{write:!0}})],wu.prototype,"defaultValues",void 0),c([f({json:{write:!0}})],wu.prototype,"domains",void 0),c([te("domains")],wu.prototype,"readDomains",null),c([ne("domains")],wu.prototype,"writeDomains",null),c([f({type:String,json:{write:!0}})],wu.prototype,"name",void 0),wu=c([E("esri.layers.support.Subtype")],wu);const ZCe=t=>{let e=class extends t{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(K.ofType(Tl)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=le.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.uniqueIdFields=null,this.version=void 0,this._isUrlHostModified=!1,this._isUrlHostModificationEnabled=!1}getFieldDomain(){throw new Error("Not implemented")}getField(i){return this.fieldsIndex.get(i)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:i}=this;if(i){const{query:s,operations:n,editing:a}=i;if(!s.supportsQueryByOthers||!s.supportsQueryByAnonymous||n.supportsEditing&&!(a.supportsUpdateByOthers&&a.supportsUpdateByAnonymous&&a.supportsDeleteByOthers&&a.supportsDeleteByAnonymous))return"load"}if(M8(this.serviceDefinitionExpression)||M8(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(xCe(this))return"load";if(this.hasUpdateItemRestrictions)return i.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const r=this.editFieldsInfo;return(r!=null&&r.creatorField||r!=null&&r.editorField)&&(i!=null&&i.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(i,r){return Ose(r,this.url)}readEditingInfo(i,r){const{editingInfo:s}=r;return s?{lastEditDate:s.lastEditDate!=null?new Date(s.lastEditDate):null}:null}get effectiveCapabilities(){const i=this.capabilities;if(!i)return null;const r=z(i),{operations:s,editing:n}=r;return I6(this)?(this.userHasUpdateItemPrivileges&&(s.supportsQuery=!0),r):this.userHasUpdateItemPrivileges?(s.supportsAdd=s.supportsDelete=s.supportsEditing=s.supportsQuery=s.supportsUpdate=n.supportsDeleteByOthers=n.supportsGeometryUpdate=n.supportsUpdateByOthers=!0,r):(this.userHasFullEditingPrivileges&&s.supportsEditing&&(s.supportsAdd=s.supportsDelete=s.supportsUpdate=n.supportsGeometryUpdate=!0),r)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(i,r){return $se(r)}get hasFullEditingRestrictions(){const i=this.capabilities;if(!i||I6(this))return!1;const{operations:r,editing:s}=i;return r.supportsEditing&&!(r.supportsAdd&&r.supportsDelete&&r.supportsUpdate&&s.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const i=this.capabilities;if(!i)return!1;const{operations:r,editing:s}=i;return I6(this)?!r.supportsQuery:!(r.supportsAdd&&r.supportsDelete&&r.supportsEditing&&r.supportsQuery&&r.supportsUpdate&&s.supportsDeleteByOthers&&s.supportsGeometryUpdate&&s.supportsUpdateByOthers)}readIsTableFromService(i,r){return r.type==="Table"}readMaxScale(i,r){return r.effectiveMaxScale||i||0}readMinScale(i,r){return r.effectiveMinScale||i||0}readObjectIdFieldFromService(i,r){return Tse(r)}readServiceDefinitionExpression(i,r){return r.definitionQuery||r.definitionExpression}readUniqueIdFields(i,r){var s;return(s=r.uniqueIdInfo)!=null&&s.OIDFieldContainsHashValue?r.uniqueIdInfo.fields:null}set url(i){if(i==null)return void this._set("url",i);const r=Ome({layer:this,url:i,nonStandardUrlAllowed:!0,logger:W.getLogger(this)});this._set("url",r.url),r.layerId!=null&&this._set("layerId",r.layerId)}writeUrl(i,r,s,n){Fme(this,i,null,r,n)}readVersion(i,r){return pCe(r)}get isUrlHostModified(){var a;const{loaded:i,url:r,_isUrlHostModified:s}=this;if(s)return!0;if(!i||!r||this.originIdOf("url")<Oe.USER)return!1;const n=(a=this.sourceJSON)==null?void 0:a.preferredHost;if(!n||!Ac(r,`https://${n}`,!0))return!1;for(let o=Oe.USER-1;o>=Oe.PORTAL_ITEM;o--){const l=this.getAtOrigin("url",Ow(o));if(l)return!Ac(r,l,!0)}return!1}applyPreferredHost(i){const{url:r,portalItem:s}=this;!r||lE(s)}applyHostFromPortalItem(){const{url:i,portalItem:r}=this;if(!i||this.originIdOf("url")===Oe.USER||!(r!=null&&r.url)||!lE(r)||!IR(r,ER.HOSTED_SERVICE)||Ac(i,r.url,!0)||!this._isUrlHostModificationEnabled)return;const s=Tme(r.url);this._set("url",zJ(i,s)),this._isUrlHostModified=!0}};return c([f({readOnly:!0})],e.prototype,"authenticationTriggerEvent",null),c([f({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],e.prototype,"copyright",void 0),c([f({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","maxUniqueIDCount","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],e.prototype,"capabilities",void 0),c([te("service","capabilities")],e.prototype,"readCapabilitiesFromService",null),c([f(z4("dateFieldsTimeReference"))],e.prototype,"dateFieldsTimeZone",void 0),c([f({type:Boolean})],e.prototype,"datesInUnknownTimezone",void 0),c([f({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],e.prototype,"definitionExpression",void 0),c([f({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],e.prototype,"displayField",void 0),c([f({readOnly:!0,type:vu})],e.prototype,"editFieldsInfo",void 0),c([f({readOnly:!0})],e.prototype,"editingInfo",void 0),c([te("editingInfo")],e.prototype,"readEditingInfo",null),c([f({readOnly:!0})],e.prototype,"effectiveCapabilities",null),c([f()],e.prototype,"effectiveEditingEnabled",null),c([f((()=>{const i=z(UEe),r=i.json.origins;return r["web-map"]={read:!1,write:!1},r["portal-item"]={read:!1,write:!1},i})())],e.prototype,"elevationInfo",void 0),c([f()],e.prototype,"fieldsIndex",void 0),c([f({type:Ay,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:Vt}}})],e.prototype,"floorInfo",void 0),c([f({type:qe,json:{origins:{service:{read:{source:"extent"}}}}})],e.prototype,"fullExtent",void 0),c([f()],e.prototype,"gdbVersion",void 0),c([f({readOnly:!0,type:ky,json:{read:{source:"geometryProperties"}}})],e.prototype,"geometryFieldsInfo",void 0),c([f({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Ek.read}}}})],e.prototype,"geometryType",void 0),c([f({type:String})],e.prototype,"globalIdField",void 0),c([te("service","globalIdField",["globalIdField","fields"])],e.prototype,"readGlobalIdFieldFromService",null),c([f({readOnly:!0})],e.prototype,"hasFullEditingRestrictions",null),c([f({type:Boolean,json:{origins:{service:{read:!0}}}})],e.prototype,"hasM",void 0),c([f({readOnly:!0})],e.prototype,"hasUpdateItemRestrictions",null),c([f({type:Boolean,json:{origins:{service:{read:!0}}}})],e.prototype,"hasZ",void 0),c([f({readOnly:!0,type:Fs})],e.prototype,"heightModelInfo",void 0),c([f({type:Date})],e.prototype,"historicMoment",void 0),c([f({type:K.ofType(Tl),readOnly:!0})],e.prototype,"indexes",void 0),c([f({readOnly:!0})],e.prototype,"isTable",void 0),c([te("service","isTable",["type"])],e.prototype,"readIsTableFromService",null),c([f({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],e.prototype,"layerId",void 0),c([f(ZEe)],e.prototype,"maxScale",void 0),c([te("service","maxScale",["maxScale","effectiveMaxScale"])],e.prototype,"readMaxScale",null),c([f(WEe)],e.prototype,"minScale",void 0),c([te("service","minScale",["minScale","effectiveMinScale"])],e.prototype,"readMinScale",null),c([f({type:String})],e.prototype,"objectIdField",void 0),c([te("service","objectIdField",["objectIdField","fields"])],e.prototype,"readObjectIdFieldFromService",null),c([f(z4("preferredTimeReference"))],e.prototype,"preferredTimeZone",void 0),c([f({type:[Hn],readOnly:!0})],e.prototype,"relationships",void 0),c([f({type:Boolean})],e.prototype,"returnM",void 0),c([f({type:Boolean})],e.prototype,"returnZ",void 0),c([f({readOnly:!0,json:{write:!1}})],e.prototype,"serverGens",void 0),c([f({readOnly:!0})],e.prototype,"serviceDefinitionExpression",void 0),c([te("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],e.prototype,"readServiceDefinitionExpression",null),c([f({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],e.prototype,"serviceItemId",void 0),c([f()],e.prototype,"sourceJSON",void 0),c([f({type:le,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],e.prototype,"spatialReference",void 0),c([f({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],e.prototype,"subtypeField",void 0),c([f({type:[wu],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],e.prototype,"subtypes",void 0),c([f({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],e.prototype,"trackIdField",void 0),c([f({type:[String],readOnly:!0})],e.prototype,"uniqueIdFields",void 0),c([te("service","uniqueIdFields",["uniqueIdInfo.OIDFieldContainsHashValue","uniqueIdInfo.fields"])],e.prototype,"readUniqueIdFields",null),c([f(qEe)],e.prototype,"url",null),c([ne("url")],e.prototype,"writeUrl",null),c([f({json:{origins:{service:{read:!0}},read:!1}})],e.prototype,"version",void 0),c([te("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],e.prototype,"readVersion",null),c([f({readOnly:!0})],e.prototype,"isUrlHostModified",null),e=c([E("esri.layers.mixins.FeatureLayerBase")],e),e};let Tf=class extends ve.ClonableMixin(B){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};c([f({type:String,json:{write:!0}})],Tf.prototype,"expression",void 0),c([f({type:String,json:{write:!0}})],Tf.prototype,"title",void 0),c([f({type:String,json:{write:!0}})],Tf.prototype,"returnType",void 0),Tf=c([E("esri.layers.support.ExpressionInfo")],Tf);var Ck,gb;let ps=(gb=class extends B{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new Ck({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:z(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}},Ck=gb,gb);c([f({type:Boolean,json:{write:!0}})],ps.prototype,"isAutoGenerated",void 0),c([f({type:String,json:{write:!0}})],ps.prototype,"name",void 0),c([f({type:String,json:{write:!0}})],ps.prototype,"alias",void 0),c([f({type:String,json:{write:!0}})],ps.prototype,"onStatisticField",void 0),c([f({type:Tf,json:{write:!0}})],ps.prototype,"onStatisticExpression",void 0),c([f({type:String,json:{write:!0}})],ps.prototype,"statisticType",void 0),ps=Ck=c([E("esri.layers.support.AggregateField")],ps);let Yf=class extends B{constructor(){super(...arguments),this.type=null}};c([f({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],Yf.prototype,"type",void 0),Yf=c([E("esri.layers.support.FeatureReduction")],Yf);const YR="__begin__",XR="__end__",JCe=new RegExp(YR,"ig"),YCe=new RegExp(XR,"ig"),rB=new RegExp("^"+YR,"i"),sB=new RegExp(XR+"$","i"),C8='"',XCe=C8+" + ",QCe=" + "+C8;function KCe(t){return t.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function eke(t){return t.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function QR(t){const e={expression:"",type:"none"};return t.labelExpressionInfo?t.labelExpressionInfo.value?(e.expression=t.labelExpressionInfo.value,e.type="conventional"):t.labelExpressionInfo.expression&&(e.expression=t.labelExpressionInfo.expression,e.type="arcade"):t.labelExpression!=null&&(e.expression=KCe(t.labelExpression),e.type="conventional"),e}function tke(t){const e=QR(t);if(!e)return null;switch(e.type){case"conventional":return kk(e.expression);case"arcade":return e.expression}return null}function ike(t){const e=QR(t);if(!e)return null;switch(e.type){case"conventional":return ske(e.expression);case"arcade":return Fse(e.expression)}return null}function kk(t){let e;return t?(e=En(t,i=>YR+'$feature["'+i+'"]'+XR),e=rB.test(e)?e.replace(rB,""):C8+e,e=sB.test(e)?e.replace(sB,""):e+C8,e=e.replaceAll(JCe,XCe).replaceAll(YCe,QCe)):e='""',e}const rke=/^\s*\{([^}]+)\}\s*$/i;function ske(t){const e=t==null?void 0:t.match(rke);return(e==null?void 0:e[1].trim())||null}const nke=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,ake=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,oke=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function Fse(t){if(!t)return null;let e=nke.exec(t)||ake.exec(t);return e?e[1]||e[3]:(e=oke.exec(t),e?e[2]:null)}var Ak,bb;let Lu=(bb=class extends B{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,i){return i.value?kk(i.value):e}writeExpression(e,i,r){this.value!=null&&(e=kk(this.value)),e!=null&&(i[r]=e)}clone(){return new Ak({expression:this.expression,title:this.title,value:this.value})}},Ak=bb,bb);c([f({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Lu.prototype,"expression",void 0),c([te("expression",["expression","value"])],Lu.prototype,"readExpression",null),c([ne("expression")],Lu.prototype,"writeExpression",null),c([f({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Lu.prototype,"title",void 0),c([f({json:{read:!1,write:!1}})],Lu.prototype,"value",void 0),Lu=Ak=c([E("esri.layers.support.LabelExpressionInfo")],Lu);var Pk;const I5=new Ie({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function E5(t,e,i){return{enabled:!oE(i==null?void 0:i.layer)}}function Nse(t){var e;return!t||t.origin!=="service"&&((e=t.layer)==null?void 0:e.type)!=="map-image"}function lke(t){return(t==null?void 0:t.type)==="map-image"}function Dse(t){var e,i;return!!lke(t)&&!!((i=(e=t.capabilities)==null?void 0:e.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function cke(t){return Nse(t)||Dse(t==null?void 0:t.layer)}var vb;let Jt=(vb=class extends B{static evaluateWhere(e,i){const r=(s,n,a)=>{switch(n){case"=":return s==a;case"<>":return s!=a;case">":return s>a;case">=":return s>=a;case"<":return s<a;case"<=":return s<=a}return!1};try{if(e==null)return!0;const s=e.split(" ");if(s.length===3)return r(i[s[0]],s[1],s[2]);if(s.length===7){const n=r(i[s[0]],s[1],s[2]),a=s[3],o=r(i[s[4]],s[5],s[6]);switch(a){case"AND":return n&&o;case"OR":return n||o}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=LMe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,i){const r=i.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,i,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=eke(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const s=Fse(this.labelExpressionInfo.expression);s&&(e="["+s+"]")}}e!=null&&(i[r]=e)}writeLabelExpressionInfo(e,i,r,s){if(e==null&&this.labelExpression!=null&&Nse(s))e=new Lu({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(s);n.expression&&(i[r]=n)}writeMaxScale(e,i){(e||this.minScale)&&(i.maxScale=e)}writeMinScale(e,i){(e||this.maxScale)&&(i.minScale=e)}getLabelExpression(){return QR(this)}getLabelExpressionArcade(){return tke(this)}getLabelExpressionSingleField(){return ike(this)}hash(){return JSON.stringify(this)}clone(){return new Pk({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:z(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:z(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}},Pk=vb,vb);c([f({type:String,json:{write:!0}})],Jt.prototype,"name",void 0),c([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:E5}}}}})],Jt.prototype,"allowOverrun",void 0),c([f({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:E5}}}}})],Jt.prototype,"deconflictionStrategy",void 0),c([f({type:String,json:{write:{overridePolicy(t,e,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&Dse(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],Jt.prototype,"labelExpression",void 0),c([te("labelExpression")],Jt.prototype,"readLabelExpression",null),c([ne("labelExpression")],Jt.prototype,"writeLabelExpression",null),c([f({type:Lu,json:{write:{overridePolicy:(t,e,i)=>cke(i)?{allowNull:!0}:{enabled:!1}}}})],Jt.prototype,"labelExpressionInfo",void 0),c([ne("labelExpressionInfo")],Jt.prototype,"writeLabelExpressionInfo",null),c([f({type:I5.apiValues,json:{type:I5.jsonValues,read:I5.read,write:I5.write}})],Jt.prototype,"labelPlacement",void 0),c([f({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Jt.prototype,"labelPosition",void 0),c([f({type:Number})],Jt.prototype,"maxScale",void 0),c([ne("maxScale")],Jt.prototype,"writeMaxScale",null),c([f({type:Number})],Jt.prototype,"minScale",void 0),c([ne("minScale")],Jt.prototype,"writeMinScale",null),c([f({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:E5}}}}})],Jt.prototype,"repeatLabel",void 0),c([f({type:Number,cast:ct,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:E5}}}}})],Jt.prototype,"repeatLabelDistance",void 0),c([f({types:R9e,json:{origins:{"web-scene":{types:O9e,write:Uq,default:null}},write:Uq,default:null}})],Jt.prototype,"symbol",void 0),c([f({type:Boolean,json:{write:!0}})],Jt.prototype,"useCodedValues",void 0),c([f({type:String,json:{write:!0}})],Jt.prototype,"where",void 0),Jt=Pk=c([E("esri.layers.support.LabelClass")],Jt);var Lk;let Lo=Lk=class extends B{constructor(t){super(t),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var t;return new Lk({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((t=this.symbol)==null?void 0:t.clone())??null})}getMeshHash(){const t=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${t}`}};c([f({type:String,json:{write:!0}})],Lo.prototype,"description",void 0),c([f({type:String,json:{write:!0}})],Lo.prototype,"label",void 0),c([f({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Lo.prototype,"minValue",void 0),c([f({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Lo.prototype,"maxValue",void 0),c([f(BR)],Lo.prototype,"symbol",void 0),Lo=Lk=c([E("esri.renderers.support.ClassBreakInfo")],Lo);var Rk;const zse="log",E6="percent-of-total",M6="field",M5=new Ie({esriNormalizeByLog:zse,esriNormalizeByPercentOfTotal:E6,esriNormalizeByField:M6}),uke=Ft(Lo);let Ai=Rk=class extends T1(aa){constructor(t){super(t),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(t,e,i){if(!Array.isArray(t))return;let r=e.minValue;return t.map(s=>{const n=new Lo;return n.read(s,i),n.minValue==null&&(n.minValue=r),n.maxValue==null&&(n.maxValue=n.minValue),r=n.maxValue,n})}writeClassBreakInfos(t,e,i,r){const s=t.map(n=>n.write({},r));this._areClassBreaksConsecutive()&&s.forEach(n=>delete n.classMinValue),e[i]=s}castField(t){return t==null?t:typeof t=="function"?(W.getLogger(this).error(".field: field must be a string value"),null):W_(t)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let t=this._get("normalizationType");const e=!!this.normalizationField,i=this.normalizationTotal!=null;return e||i?(t=e&&M6||i&&E6||null,e&&i&&W.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):t!==M6&&t!==E6||(t=null),t}set normalizationType(t){this._set("normalizationType",t)}addClassBreakInfo(t,e,i){let r=null;r=typeof t=="number"?new Lo({minValue:t,maxValue:e,symbol:ate(i)}):uke(z(t)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(t,e){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]===t&&s[1]===e){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(t,e){return this.valueExpression&&(e==null?void 0:e.arcade)==null&&W.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(t,e):this._getBreakIndexForField(t)}async getClassBreakInfo(t,e){let i=e;this.valueExpression&&(e==null?void 0:e.arcade)==null&&(i={...i,arcade:await Qa()});const r=this.getBreakIndex(t,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(t,e){if(this.valueExpression&&(e==null?void 0:e.arcade)==null)return void W.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(t,e);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&(e==null?void 0:e.arcade)==null){const s=await Qa(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this.getBreakIndex(t,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){const t=[];return this.classBreakInfos.forEach(e=>{e.symbol&&t.push(e.symbol)}),this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${t}.${e}.${this.classBreakInfos.reduce((r,s)=>r+s.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var t,e;return new Rk({field:this.field,backgroundFillSymbol:(t=this.backgroundFillSymbol)==null?void 0:t.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(e=this.defaultSymbol)==null?void 0:e.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:z(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:z(this.visualVariables),legendOptions:z(this.legendOptions),authoringInfo:z(this.authoringInfo)})}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.symbols.map(r=>r.collectRequiredFields(t,e)),Xr(t,e,this.valueExpression)];Zs(t,e,this.field),Zs(t,e,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(t,e){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:a}=e??{},{valueExpression:o}=this;let l=this._compiledValueExpression.valueExpression===o?this._compiledValueExpression.compiledFunction:null;const u=n.arcadeUtils;if(!l){const h=u.createSyntaxTree(o);l=u.createFunction(h),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=o;const d=u.executeFunction(l,u.createExecContext(t,u.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),a));return this._getBreakIndexfromInfos(d)}_getBreakIndexForField(t){const e=this.field,i=t.attributes,r=this.normalizationType;let s=parseFloat(i[e]);if(r){const n=this.normalizationTotal,a=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===zse)s=Math.log(s)*Math.LOG10E;else if(r!==E6||n==null||isNaN(n)){if(r===M6&&!isNaN(a)){if(isNaN(s)||isNaN(a))return-1;s/=a}}else s=s/n*100}return this._getBreakIndexfromInfos(s)}_getBreakIndexfromInfos(t){const e=this.isMaxInclusive;if(t!=null&&typeof t=="number"&&!isNaN(t))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=t&&(e?t<=r[1]:t<r[1]))return i}return-1}_areClassBreaksConsecutive(){const t=this.classBreakInfos,e=t.length;for(let i=1;i<e;i++)if(t[i-1].maxValue!==t[i].minValue)return!1;return!0}};c([f(UR)],Ai.prototype,"backgroundFillSymbol",void 0),c([f({type:[Lo],json:{write:{isRequired:!0}}})],Ai.prototype,"classBreakInfos",void 0),c([te("classBreakInfos")],Ai.prototype,"readClassBreakInfos",null),c([ne("classBreakInfos")],Ai.prototype,"writeClassBreakInfos",null),c([f({type:String,json:{write:!0}})],Ai.prototype,"defaultLabel",void 0),c([f(CS)],Ai.prototype,"defaultSymbol",void 0),c([f({type:String,json:{write:!0}})],Ai.prototype,"field",void 0),c([Xe("field")],Ai.prototype,"castField",null),c([f({type:Boolean})],Ai.prototype,"isMaxInclusive",void 0),c([f({type:kS,json:{write:!0}})],Ai.prototype,"legendOptions",void 0),c([f({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Ai.prototype,"minValue",null),c([f({type:String,json:{write:!0}})],Ai.prototype,"normalizationField",void 0),c([f({type:Number,json:{write:!0}})],Ai.prototype,"normalizationTotal",void 0),c([f({type:M5.apiValues,value:null,json:{type:M5.jsonValues,read:M5.read,write:M5.write}})],Ai.prototype,"normalizationType",null),c([oe({classBreaks:"class-breaks"})],Ai.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],Ai.prototype,"valueExpression",void 0),c([f({type:String,json:{write:!0}})],Ai.prototype,"valueExpressionTitle",void 0),Ai=Rk=c([E("esri.renderers.ClassBreaksRenderer")],Ai);const Ok=-3,dke=Ok-1;var Ru;(function(t){t[t.ALL=0]="ALL",t[t.SOME=1]="SOME"})(Ru||(Ru={}));let fke=class{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear()}register(e){this._users.set(e.id.slice(0,-1),e)}deregister(e){this.clear(e),this._sizeLimits.delete(e),this._users.delete(e.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,i){const r=this._db.get(e.id+i);return(r==null?void 0:r.size)??0}put(e,i,r,s,n){i=e.id+i;const a=this._db.get(i);if(a&&(this._size-=a.size,e.size-=a.size,this._db.delete(i),a.entry!==r&&this._notifyRemove(i,a.entry,a.size,Ru.ALL)),s>this._maxSize)return void this._notifyRemove(i,r,s,Ru.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn(`Refusing to cache entry with size ${s} for key ${i}`),void this._notifyRemove(i,r,0,Ru.ALL);const o=1+Math.max(n,dke)-Ok;this._db.set(i,new hke(r,s,o)),this._size+=s,e.size+=s,this._checkSize()}updateSize(e,i,r,s){i=e.id+i;const n=this._db.get(i);if(n&&n.entry===r){for(this._size-=n.size,e.size-=n.size;s>this._maxSize;){const a=this._notifyRemove(i,r,s,Ru.SOME);if(!(a!=null&&a>0))return void this._db.delete(i);s=a}n.size=s,this._size+=s,e.size+=s,this._checkSize()}}pop(e,i){i=e.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(e,i){i=e.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(e,i){const r=this._db.get(e.id+i);return r?++this._hit:++this._miss,r==null?void 0:r.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((a,o)=>{const l=a.lifetime;r[l]=(r[l]||0)+a.size,this._users.forEach(u=>{const{id:d,name:h}=u;if(o.startsWith(d)){const p=i[h]||0;i[h]=p+a.size}})});const s={};this._users.forEach(a=>{const o=a.name;if("hitRate"in a&&typeof a.hitRate=="number"&&!isNaN(a.hitRate)&&a.hitRate>0){const l=i[o]||0;i[o]=l,s[o]=Math.round(100*a.hitRate)+"%"}else s[o]="0%"});const n=Object.keys(i);n.sort((a,o)=>i[o]-i[a]),n.forEach(a=>e[a]=Math.round(i[a]/2**20)+"MB / "+s[a]);for(let a=r.length-1;a>=0;--a){const o=r[a];o&&(e["Priority "+(a+Ok-1)]=Math.round(o/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forEach(e=>e.resetHitRate())}clear(e){const i=e.id;this._db.forEach((r,s)=>{s.startsWith(i)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,r.size,Ru.ALL))}),e.size=0}clearAll(){this._db.forEach((e,i)=>this._notifyRemove(i,e.entry,e.size,Ru.ALL)),this._users.forEach(e=>e.size=0),this._size=0,this._db.clear()}*values(e){for(const[i,r]of this._db)i.startsWith(e.id)&&(yield r.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,i,r,s){var o;const n=(o=this._users.get(e.split(z$)[0]))==null?void 0:o.removeFunc,a=n==null?void 0:n(i,s,r);return typeof a=="number"?a:null}_checkSize(){this._sizeLimits.forEach((e,i)=>this._checkSizeLimits(e,i)),this._checkSizeLimits(this.maxSize)}setMaxSize(e,i){i==null||i<=0?this._sizeLimits.delete(e):this._sizeLimits.set(e,i)}_checkSizeLimits(e,i){const r=i??this;if(r.size<=e)return;const s=i==null?void 0:i.id;let n=!0;for(;n;){n=!1;for(const[a,o]of this._db)if(o.lifetime===0&&(!s||a.startsWith(s))){const l=i??this._users.get(a.split(z$)[0]);if(this._purgeItem(a,o,l),r.size<=.9*e)return;n||(n=this._db.has(a))}}for(const[a,o]of this._db)if(!s||a.startsWith(s)){const l=i??this._users.get(a.split(z$)[0]);if(this._purgeItem(a,o,l),r.size<=.9*e)return}}_purgeItem(e,i,r){if(this._db.delete(e),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const s=this._notifyRemove(e,i.entry,i.size,Ru.SOME);s!=null&&s>0&&(this._size+=s,r&&(r.size+=s),i.lives=i.lifetime,i.size=s,this._db.set(e,i))}else--i.lives,this._db.set(e,i)}},hke=class{constructor(e,i,r){this.entry=e,this.size=i,this.lifetime=r,this.lives=r}};const z$=":";let Vse=class{constructor(e,i){this.removeFunc=i,this._storage=new fke,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,i,r=1){this._storage.put(this,e,i,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}},nB=class jse{static parse(e,i,r){const s=[],n=[],a=e.split(";");for(let o=0;o<a.length;o++){const l=a[o];if(l){if(l.includes("po:")){const u=l.slice(3).split("|");if(u.length===3){const[d,h,p]=u,m=mke(d,h,p);m&&n.push(m)}}else if(l.includes("|")){for(const u of l.split("|"))if(i.has(u)){s.push(u);break}}else if(i.has(l))s.push(l);else if(o===0){s.length=0,s.push(yke(r));break}}}return new jse(s,n)}constructor(e,i){this.partNames=e,this.overrides=i}};function pke(t,e){if(t==="DashTemplate")return e.split(" ").map(i=>Number(i));if(t==="Color"){const i=new ee(e).toRgba();return[i[0],i[1],i[2],255*i[3]]}return Number(e)}function mke(t,e,i){return{primitiveName:t,propertyName:e,value:pke(e,i),defaultValue:null}}function yke(t){switch(t){case"esriGeometryPolyline":return"Invalid_L";case"esriGeometryPolygon":return"Invalid_A";default:return"Invalid_P"}}var wb;let Dl=(wb=class{},wb.instance=new Cn("Etc/UTC"),wb);function gke(t){return t instanceof o0?t===Dl.instance:(t==null?void 0:t.toString().toLowerCase())==="unknown"}function uat(t){return gke(t)?Dl.instance:t}function bke(t){return"timeZone"in t}function vke(t){return"timeZone"in t}function wke(t){return"dateFieldsTimeZone"in t}const _ke=new Map;let n_=class C6{static fromJSON(e){return new C6(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new C6(e.fields??[],oB(e))}static fromLayerJSON(e){return new C6(e.fields??[],oB(e))}constructor(e=[],i){var s;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const n of this.fields){const a=n==null?void 0:n.name,o=aB(a);if(a&&o){const l=qp(a);this._fieldsMap.set(a,n),this._fieldsMap.set(l,n),this._normalizedFieldsMap.set(o,n),r.push(`${l}:${n.type}:${(s=this._timeZoneByFieldName)==null?void 0:s.get(a)}`),rS(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):n3(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),Cz(n)||kz(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)Cz(e)||kz(e)||e.nullable||v5e(e)!==void 0||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===(e==null?void 0:e.uid)}has(e){return this.get(e)!=null}get(e){if(!e)return;let i=this._fieldsMap.get(e);return i||(i=this._fieldsMap.get(qp(e))??this._normalizedFieldsMap.get(aB(e)),i&&this._fieldsMap.set(e,i),i)}getTimeZone(e){const i=this.get(e&&typeof e!="string"?e.name:e);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(W.getLogger("esri.layers.support.FieldsIndex").errorOnce(new P("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),Vc):qse.has(i.type)?hh:null:null}getLuxonTimeZone(e){const i=this.getTimeZone(e);return i?i===hh?Dl.instance:i===Vc?or.utcInstance:bd(_ke,i,()=>Cn.create(i)):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return $s(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){var i;return((i=this.get(e))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(e=>Fw(e)?e.toJSON():e),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function qp(t){return t.trim().toLowerCase()}function aB(t){var e;return((e=n5e(t))==null?void 0:e.toLowerCase())??""}const qse=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function oB(t){const e=new Map;if(!t.fields)return e;const i=t.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:s}=t,n=(r?"startField"in r?r.startField:r.startTimeField:"")??"",a=(r?"endField"in r?r.endField:r.endTimeField:"")??"",o=wke(t)?t.dateFieldsTimeZone??null:t.dateFieldsTimeReference?A9(t.dateFieldsTimeReference):null,l=s?bke(s)?s.timeZone??o:s.dateFieldsTimeReference?A9(s.dateFieldsTimeReference):o??Vc:null,u=r?vke(r)?r.timeZone??o:r.timeReference?A9(r.timeReference):o:null,d=new Map([[qp((s==null?void 0:s.creationDateField)??""),l],[qp((s==null?void 0:s.editDateField)??""),l],[qp(n),u],[qp(a),u]]);for(const{name:h,type:p}of t.fields)if(qse.has(p))e.set(h,hh);else if(p!=="date"&&p!=="esriFieldTypeDate")e.set(h,null);else if(i)e.set(h,hh);else{const m=d.get(qp(h??""))??o;e.set(h,m)}return e}var He;(function(t){t.AsyncNotEnabled="AsyncNotEnabled",t.ModulesNotSupported="ModulesNotSupported",t.CircularModules="CircularModules",t.CannotCompareDateAndTime="CannotCompareDateAndTime",t.NeverReach="NeverReach",t.UnsupportedHashType="UnsupportedHashType",t.InvalidParameter="InvalidParameter",t.FeatureSetDoesNotHaveSubtypes="FeatureSetDoesNotHaveSubtypes",t.UnexpectedToken="UnexpectedToken",t.Unrecognized="Unrecognized",t.UnrecognizedType="UnrecognizedType",t.MaximumCallDepth="MaximumCallDepth",t.BooleanConditionRequired="BooleanConditionRequired",t.TypeNotAllowedInFeature="TypeNotAllowedInFeature",t.KeyMustBeString="KeyMustBeString",t.WrongNumberOfParameters="WrongNumberOfParameters",t.CallNonFunction="CallNonFunction",t.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",t.NoFunctionInDictionary="NoFunctionInDictionary",t.NoFunctionInArray="NoFunctionInArray",t.AssignModuleFunction="AssignModuleFunction",t.LogicExpressionOrAnd="LogicExpressionOrAnd",t.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",t.FunctionNotFound="FunctionNotFound",t.InvalidMemberAccessKey="InvalidMemberAccessKey",t.UnsupportedUnaryOperator="UnsupportUnaryOperator",t.InvalidIdentifier="InvalidIdentifier",t.MemberOfNull="MemberOfNull",t.UnsupportedOperator="UnsupportedOperator",t.Cancelled="Cancelled",t.ModuleAccessorMustBeString="ModuleAccessorMustBeString",t.ModuleExportNotFound="ModuleExportNotFound",t.Immutable="Immutable",t.OutOfBounds="OutOfBounds",t.IllegalResult="IllegalResult",t.FieldNotFound="FieldNotFound",t.PortalRequired="PortalRequired",t.LogicError="LogicError",t.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",t.KeyAccessorMustBeString="KeyAccessorMustBeString",t.WrongSpatialReference="WrongSpatialReference",t.CannotChangeTimeZoneTime="CannotChangeTimeZoneTime",t.CannotChangeTimeZoneDateOnly="CannotChangeTimeZoneDateOnly"})(He||(He={}));const Bse={[He.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[He.LogicError]:"Logic error - {reason}",[He.CannotCompareDateAndTime]:"Cannot compare date or dateonly with timeonly types",[He.NeverReach]:"Encountered unreachable logic",[He.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[He.ModuleAccessorMustBeString]:"Module accessor must be a string",[He.ModuleExportNotFound]:"Module has no export with provided identifier",[He.ModulesNotSupported]:"Current profile does not support modules",[He.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[He.FunctionNotFound]:"Function not found",[He.FieldNotFound]:"Key not found - {key}",[He.CircularModules]:"Circular module dependencies are not allowed",[He.Cancelled]:"Execution cancelled",[He.UnsupportedHashType]:"Type not supported in hash function",[He.IllegalResult]:"Value is not a supported return type",[He.PortalRequired]:"Portal is required",[He.InvalidParameter]:"Invalid parameter",[He.WrongNumberOfParameters]:"Call with wrong number of parameters",[He.Unrecognized]:"Unrecognized code structure",[He.UnrecognizedType]:"Unrecognized type",[He.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[He.BooleanConditionRequired]:"Conditions must use booleans",[He.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[He.NoFunctionInArray]:"Arrays cannot contain functions.",[He.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[He.KeyAccessorMustBeString]:"Accessor must be a string",[He.KeyMustBeString]:"Object keys must be a string",[He.Immutable]:"Object is immutable",[He.UnexpectedToken]:"Unexpected token",[He.MemberOfNull]:"Cannot access property of null object",[He.MaximumCallDepth]:"Exceeded maximum function depth",[He.OutOfBounds]:"Out of bounds",[He.InvalidIdentifier]:"Identifier not recognized",[He.CallNonFunction]:"Expression is not a function",[He.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[He.AssignModuleFunction]:"Cannot assign function to module variable",[He.UnsupportedUnaryOperator]:"Unsupported unary operator",[He.UnsupportedOperator]:"Unsupported operator",[He.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[He.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&",[He.CannotChangeTimeZoneTime]:"Cannot change the timezone of a Time",[He.CannotChangeTimeZoneDateOnly]:"Cannot change the timezone of a DateOnly",[He.FeatureSetDoesNotHaveSubtypes]:"FeatureSet does not have subtypes"};let Ske=class extends Error{constructor(...e){super(...e)}},lB=class Use extends Ske{constructor(e,i){super(KR(i)+e.message,{cause:e}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,Use),i!=null&&i.loc&&(this.loc=i.loc)}},xke=class Gse extends Error{constructor(e,i,r,s){super("Execution error - "+KR(r)+En(Bse[i],s)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,Gse),r!=null&&r.loc&&(this.loc=r.loc)}};function KR(t){var e,i;return t&&t.loc?`Line : ${(e=t.loc.start)==null?void 0:e.line}, ${(i=t.loc.start)==null?void 0:i.column}: `:""}let fat=class Hse extends Error{constructor(e,i,r,s){super("Compilation error - "+KR(r)+En(Bse[i],s)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,Hse),r!=null&&r.loc&&(this.loc=r.loc)}},hat=class Wse extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,Wse)}};function pat(t,e,i){return i.declaredRootClass==="esri.arcade.arcadeexecutionerror"||i.declaredRootClass==="esri.arcade.arcadecompilationerror"?i.loc===null&&(e!=null&&e.loc)?new lB(i,{cause:i}):i:(i.declaredRootClass==="esri.arcade.featureset.support.featureseterror"||i.declaredRootClass==="esri.arcade.featureset.support.sqlerror"||i.declaredRootClass,e!=null&&e.loc?new lB(i,{cause:i}):i)}var k8;(function(t){t.UnrecognizedUri="UnrecognizedUri",t.UnsupportedUriProtocol="UnsupportedUriProtocol"})(k8||(k8={}));const $ke={[k8.UnrecognizedUri]:"Unrecognized uri - {uri}",[k8.UnsupportedUriProtocol]:"Unrecognized uri protocol"};let mat=class Zse extends Error{constructor(e,i){super(En($ke[e],i)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,Zse)}};function k6(t){return t.toLowerCase().replaceAll(/[\s-]+/g,"")}let yat=class{constructor(e,i){const r=new Map;for(const s of e){const n=k6(s);if(r.has(n))throw new Error(`${s} already added as ${r.get(n)}`);r.set(n,s)}if(i!=null)for(const[s,n]of i){const a=k6(s);if(r.has(a))throw new Error(`${s} already associated with ${r.get(a)}`);r.set(a,n)}this._enumMap=r}lookup(e){return this._enumMap.get(k6(e))}get(e){const i=this.lookup(e);if(i==null)throw new xke(null,He.InvalidParameter,null);return i}};var A8;(function(t){t.TimeZoneNotRecognized="TimeZoneNotRecognized"})(A8||(A8={}));const Tke={[A8.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let Ike=class Jse extends Error{constructor(e,i){super(En(Tke[e],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,Jse)}};function O0(t,e,i){return t<e?t-e:t>i?t-i:0}function F0(t,e,i){return t<e?e:t>i?i:t}let xc=class Ui{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,i=1,r=1,s=0,n=0,a=0,o=0,l){if(isNaN(e)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(a)||isNaN(o))return null;const u=pe.local(e,i).daysInMonth;let d=pe.fromObject({day:F0(r,1,u),year:e,month:F0(i,1,12),hour:F0(s,0,23),minute:F0(n,0,59),second:F0(a,0,59),millisecond:F0(o,0,999)},{zone:Al(l)});return d=d.plus({months:O0(i,1,12),days:O0(r,1,u),hours:O0(s,0,23),minutes:O0(n,0,59),seconds:O0(a,0,59),milliseconds:O0(o,0,999)}),new Ui(d)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,i){const r=Al(i);return e.isUnknownTimeZone||r===Dl.instance?Ui.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,r):new Ui(e._date.setZone(r))}static dateJSToArcadeDate(e){return new Ui(pe.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,i="system"){const r=Al(i);return new Ui(pe.fromJSDate(e,{zone:r}))}static unknownEpochToArcadeDate(e){return new Ui(pe.fromMillis(e,{zone:Dl.instance}))}static unknownDateJSToArcadeDate(e){return new Ui(pe.fromMillis(e.getTime(),{zone:Dl.instance}))}static epochToArcadeDate(e,i="system"){const r=Al(i);return new Ui(pe.fromMillis(e,{zone:r}))}static dateTimeToArcadeDate(e){return new Ui(e)}clone(){return new Ui(this._date)}changeTimeZone(e){const i=Al(e);return Ui.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(e,i){const r=Al(i);return e.zone===Dl.instance||r===Dl.instance?Ui.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,r):new Ui(e.setZone(r))}static nowToArcadeDate(e){const i=Al(e);return new Ui(pe.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new Ui(pe.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===Ui.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===Dl.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const e=this.zone;return e.type==="fixed"?e.fixed===0?"UTC":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new Ui(this._date.plus(e))}diff(e,i){return this._date.diff(e._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,i){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(e,i){return this.isUnknownTimeZone&&(e=e.replaceAll("Z","")),this._date.toFormat(e,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new Ui(this._date.toUTC())}toLocal(){return new Ui(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){if(!e)return null;const i=pe.fromISO(e,{setZone:!0});return new Ui(i)}};function Al(t,e=!0){if(t instanceof o0)return t;switch(k6(t)){case"system":return"system";case"utc":return"UTC";case"unknown":return Dl.instance}if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(t)){const r=or.parseSpecifier("UTC"+(t.startsWith("+")||t.startsWith("-")?"":"+")+t);if(r)return r}const i=Cn.create(t);if(!i.isValid){if(e)throw new Ike(A8.TimeZoneNotRecognized);return null}return i}function cB(t){t=t.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let e="";const i=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of t.match(i)||[])switch(r){case"D":e+="d";break;case"DD":e+="dd";break;case"DDD":e+="o";break;case"d":e+="c";break;case"ddd":e+="ccc";break;case"dddd":e+="cccc";break;case"M":e+="L";break;case"MM":e+="LL";break;case"MMM":e+="LLL";break;case"MMMM":e+="LLLL";break;case"YY":e+="yy";break;case"Y":case"YYYY":e+="yyyy";break;case"Q":e+="q";break;case"X":case"x":e+=r;break;default:r.length>=2&&r.slice(0,1)==="["&&r.slice(-1)==="]"?e+=`'${r.slice(1,-1)}'`:e+=`'${r}'`}return e}const uB="esri.core.sql.dateonly";let Yse=class Wn{constructor(e,i,r){this._year=e,this._month=i,this._day=r,this.declaredRootClass=uB}static isDateOnly(e){return typeof e=="object"&&e!=null&&"declaredRootClass"in e&&e.declaredRootClass===uB}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return Wn.isDateOnly(e)&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new Wn(this._year,this._month,this._day)}toDateTime(e){return pe.fromObject({day:this.day,month:this.month,year:this.year},{zone:Al(e)})}toDateTimeLuxon(e){return pe.fromObject({day:this.day,month:this.month,year:this.year},{zone:Al(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,i=!0){if(e===null||e==="")return this.toString();if(i&&(e=cB(e)),!e)return"";const r=this.toDateTime("unknown");return xc.dateTimeToArcadeDate(r).toFormat(e,{locale:Tn(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return xc.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,i){return Wn.fromDateTime(this.toUTCDateTime().plus({[e]:i}))}toUTCDateTime(){return pe.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const i=pe.fromMillis(e,{zone:or.utcInstance});return i.isValid?Wn.fromParts(i.year,i.month,i.day):null}static fromSeconds(e){const i=pe.fromSeconds(e,{zone:or.utcInstance});return i.isValid?Wn.fromParts(i.year,i.month,i.day):null}static fromReader(e){if(!e)return null;const i=e.split("-");return i.length!==3?null:new Wn(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10))}static fromParts(e,i,r){const s=new Wn(e,i,r);return s.isValid===!1?null:s}static fromDateJS(e){return Wn.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return Wn.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,i=null){if(e===""||e===null)return null;const r=[];if(i)(i=cB(i))&&r.push(i);else if(i===null||i===""){const s=pe.fromISO(e,{setZone:!0});return s.isValid?Wn.fromParts(s.year,s.month,s.day):null}for(const s of r){const n=pe.fromFormat(e,i??s);if(n.isValid)return new Wn(n.year,n.month,n.day)}return null}static fromNow(e="system"){const i=pe.fromJSDate(new Date).setZone(Al(e));return new Wn(i.year,i.month,i.day)}};function bat(t){if(t==null)return null;switch(t.type){case"polygon":case"multipoint":case"polyline":return t.extent;case"point":return new qe({xmin:t.x,ymin:t.y,xmax:t.x,ymax:t.y,spatialReference:t.spatialReference});case"extent":return t}return null}function vat(t){if(t==null)return null;const e=t.clone();return t.cache._geVersion!==void 0&&(e.cache._geVersion=t.cache._geVersion),e}function C5(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function dB(t){if(!t)return"";const e=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let i="";for(const r of t.match(e)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":i+=r;break;case"A":case"a":i+="a";break;default:i+=`'${r}'`}return i}const fB="esri.core.sql.timeonly";let Xse=class pl{constructor(e,i,r,s){this._hour=e,this._minute=i,this._second=r,this._millisecond=s,this.declaredRootClass=fB}static isTimeOnly(e){return typeof e=="object"&&e!=null&&"declaredRootClass"in e&&e.declaredRootClass===fB}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return pl.isTimeOnly(e)&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new pl(this.hour,this.minute,this.second,this.millisecond)}isValid(){return C5(this.hour)&&C5(this.minute)&&C5(this.second)&&C5(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return e===null||e===""?this.toString():(e=dB(e))?pe.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:Tn(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,i,r,s){const n=new pl(e,i,r,s);return n.isValid()?n:null}static fromReader(e){if(!e)return null;const i=e.split(":");return i.length!==3?null:new pl(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const i=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),s=Math.floor(e/36e5%24),n=Math.floor(e%1e3);return new pl(s,r,i,n)}static fromDateJS(e){return new pl(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new pl(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,i=null){if(e===""||e===null)return null;const r=[];i?(i=dB(i))&&r.push(i):i!==null&&i!==""||(r.push("HH:mm:ss"),r.push("HH:mm:ss.SSS"),r.push("hh:mm:ss a"),r.push("hh:mm:ss.SSS a"),r.push("HH:mm"),r.push("hh:mm a"),r.push("H:mm"),r.push("h:mm a"),r.push("H:mm:ss"),r.push("h:mm:ss a"),r.push("H:mm:ss.SSS"),r.push("h:mm:ss.SSS a"));for(const s of r){const n=pe.fromFormat(e,s);if(n.isValid)return new pl(n.hour,n.minute,n.second,n.millisecond)}return null}plus(e,i){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return pl.fromDateTime(this.toUTCDateTime().plus({[e]:i}))}return null}toUTCDateTime(){return pe.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}};const Eke=["geometry","scale","timeProperties"];function wat(t,e){if(e!=null)for(const i of Eke)e.hasArcadeDependency(i)&&t.add(i);return t}function Mke(t,e){return Qse.create(t,e,null,["$feature","$view"])}function Cke(t,e,i){return Qse.create(t,e,i,["$feature","$view","$config"])}let Qse=class Kse{static async create(e,i,r,s){const{arcade:n,Dictionary:a}=await Qa();let o;try{o=n.parseScript(e)}catch(m){throw new P("arcade-bad-expression","Failed to parse arcade script",{script:e,error:m})}const l=n.scriptUsesGeometryEngine(o);l&&await n.enableGeometrySupport(),await n.loadDependentModules(new Set,o,null,!1,l);const u={vars:s.reduce((m,g)=>({...m,[g]:null}),{}),spatialReference:i,useAsync:!1},d=n.compileScript(o,u);let h=null;r!=null&&(h=new a(r),h.immutable=!0);const p=new a;return p.immutable=!1,p.setField("scale",0),new Kse(e,n,o,d,i,p,h,a)}constructor(e,i,r,s,n,a,o,l){this.script=e,this._arcade=i,this._syntaxTree=r,this._compiled=s,this._spatialReference=n,this._viewDict=a,this._configDict=o,this._dictionaryCtor=l,this._dependencies=new Map,this._featureReader=new ene,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(e,i){var s;const r=(s=i.$view)==null?void 0:s.timeZone;if(i.$view){let n;if(this._viewDict.setField("scale",i.$view.scale),i.$view.timeProperties!=null){const{currentStart:a,currentEnd:o}=i.$view.timeProperties;n=new this._dictionaryCtor({currentStart:a!=null?r!=null?xc.epochToArcadeDate(a,r):xc.unknownEpochToArcadeDate(a):void 0,currentEnd:o!=null?r!=null?xc.epochToArcadeDate(o,r):xc.unknownEpochToArcadeDate(o):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",n)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:r})}repurposeFeature(e,i){return this._featureReader.bind(e,i,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}},ene=class{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(e,i,r){const s=i??new n_(tne(e.attributes));this._boundTarget=e,this._boundSchema.fields=s.fields,this._boundSchema.fieldsIndex=s,this._boundSchema.spatialReference=r}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const e=Xa(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");e.spatialReference=this._boundSchema.spatialReference}return e}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===hh}field(e,i=!0){const r=this._getField(e);if(r){const s=this._boundTarget.attributes[r.name];if(s==null)return null;switch(r.type){case"date-only":case"esriFieldTypeDateOnly":return Yse.fromReader(s);case"time-only":case"esriFieldTypeTimeOnly":return Xse.fromReader(s);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return xc.fromReaderAsTimeStampOffset(s);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(e)?xc.unknownEpochToArcadeDate(s):xc.epochToArcadeDate(s,this.contextTimeZone??Xs);default:return s}}if(i)throw new Error(`Field ${e} does not exist`);return null}setField(e,i){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map(e=>e.name)}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){var i;return{attributes:this._boundTarget.attributes,geometry:(e==null?void 0:e.keepGeometryType)===!0?this.geometry():((i=this.geometry())==null?void 0:i.toJSON())??null}}castAsJsonAsync(e=null,i=null){return Promise.resolve(this.castAsJson(i))}};function tne(t){const e=[];for(const i in t)e.push({name:i,alias:i,type:typeof t[i]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"});return e}let kke=class ine{static async from(e,i,r){const s=e.dictionary_version?_re.parse(e.dictionary_version):null,n=new Set(e.itemsNames),a={};if(i)for(const h in i)a[h]=i[h];if(e.authoringInfo.configuration)for(const h of e.authoringInfo.configuration)a.hasOwnProperty(h.name)||(a[h.name]=h.value);const o=new Set(e.authoringInfo.symbol);for(const h of Object.keys(r))o.delete(h);o.size&&W.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:o});const l=await Cke(e.expression,null,a);if(!l)throw new P("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const u=!s||!s.greaterEqual(4,0);u&&W.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:s});const d=new Ake(r,u);return new ine(u,n,l,d)}constructor(e,i,r,s){this._requiresFieldCoercionToString=e,this._itemNames=i,this._compiled=r,this._reader=s}get itemNames(){return this._itemNames}evaluate(e,i,r,s){try{return this._reader.bind(e,r,s),this._compiled.evaluate(this._reader,{$view:{scale:i}})}catch(n){W.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:n})}return null}createDictionaryFieldsIndex(e){if(!this._requiresFieldCoercionToString)return new n_(e);const i=e.map(r=>({...r,type:"esriFieldTypeString"}));return new n_(i)}},Ake=class extends ene{constructor(e,i){super(),this._fieldMap=e,this._requiresFieldCoercionToString=i}_getField(e){const i=this._fieldMap[e]??e;return this._boundSchema.fieldsIndex.get(i)}field(e){if(!this._requiresFieldCoercionToString)return super.field(e,!1);const i=this._getField(e);return i==null||this._boundTarget.attributes[i.name]==null?"":""+this._boundTarget.attributes[i.name]}};var hB,pB,mB,yB,$c,gB,Fk,Nk,Dk,bB,zk,Vk,vB,wB,_B,SB,jk,qk,xB,$B,Dg,Ve,Bp,P8,TB,Qu,IB,EB,ug,Bk,MB,CB,kB,AB,PB,LB,RB,Sn,Gr,OB,FB,Ha,NB,DB,zB,VB,To,vw,Up,dg,jB,qB,BB,Uk,UB,L8,GB,R8,fg,HB,Gk,WB,ZB;(function(t){t[t.BUTT=0]="BUTT",t[t.ROUND=1]="ROUND",t[t.SQUARE=2]="SQUARE",t[t.UNKNOWN=4]="UNKNOWN"})(hB||(hB={})),function(t){t[t.BEVEL=0]="BEVEL",t[t.ROUND=1]="ROUND",t[t.MITER=2]="MITER",t[t.UNKNOWN=4]="UNKNOWN"}(pB||(pB={})),function(t){t[t.SCREEN=0]="SCREEN",t[t.MAP=1]="MAP"}(mB||(mB={})),function(t){t[t.Tint=0]="Tint",t[t.Ignore=1]="Ignore",t[t.Multiply=99]="Multiply"}(yB||(yB={})),function(t){t.Both="Both",t.JustBegin="JustBegin",t.JustEnd="JustEnd",t.None="None"}($c||($c={})),function(t){t[t.Mosaic=0]="Mosaic",t[t.Centered=1]="Centered"}(gB||(gB={})),function(t){t[t.Normal=0]="Normal",t[t.Superscript=1]="Superscript",t[t.Subscript=2]="Subscript"}(Fk||(Fk={})),function(t){t[t.MSSymbol=0]="MSSymbol",t[t.Unicode=1]="Unicode"}(Nk||(Nk={})),function(t){t[t.Unspecified=0]="Unspecified",t[t.TrueType=1]="TrueType",t[t.PSOpenType=2]="PSOpenType",t[t.TTOpenType=3]="TTOpenType",t[t.Type1=4]="Type1"}(Dk||(Dk={})),function(t){t[t.Display=0]="Display",t[t.Map=1]="Map"}(bB||(bB={})),function(t){t.None="None",t.Loop="Loop",t.Oscillate="Oscillate"}(zk||(zk={})),function(t){t.Linear="Linear",t.EaseIn="EaseIn",t.EaseOut="EaseOut",t.EaseInOut="EaseInOut"}(Vk||(Vk={})),function(t){t[t.Z=0]="Z",t[t.X=1]="X",t[t.Y=2]="Y"}(vB||(vB={})),function(t){t[t.XYZ=0]="XYZ",t[t.ZXY=1]="ZXY",t[t.YXZ=2]="YXZ"}(wB||(wB={})),function(t){t[t.Rectangle=0]="Rectangle",t[t.RoundedRectangle=1]="RoundedRectangle",t[t.Oval=2]="Oval"}(_B||(_B={})),function(t){t[t.None=0]="None",t[t.Alpha=1]="Alpha",t[t.Screen=2]="Screen",t[t.Multiply=3]="Multiply",t[t.Add=4]="Add"}(SB||(SB={})),function(t){t[t.TTB=0]="TTB",t[t.RTL=1]="RTL",t[t.BTT=2]="BTT"}(jk||(jk={})),function(t){t[t.None=0]="None",t[t.SignPost=1]="SignPost",t[t.FaceNearPlane=2]="FaceNearPlane"}(qk||(qk={})),function(t){t[t.Float=0]="Float",t[t.String=1]="String",t[t.Boolean=2]="Boolean"}(xB||(xB={})),function(t){t[t.Intersect=0]="Intersect",t[t.Subtract=1]="Subtract"}($B||($B={})),function(t){t.OpenEnded="OpenEnded",t.Block="Block",t.Crossed="Crossed"}(Dg||(Dg={})),function(t){t.FullGeometry="FullGeometry",t.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",t.ReversedFirstSegment="ReversedFirstSegment",t.PerpendicularToSecondSegment="PerpendicularToSecondSegment",t.SecondSegmentWithTicks="SecondSegmentWithTicks",t.DoublePerpendicular="DoublePerpendicular",t.OppositeToFirstSegment="OppositeToFirstSegment",t.TriplePerpendicular="TriplePerpendicular",t.HalfCircleFirstSegment="HalfCircleFirstSegment",t.HalfCircleSecondSegment="HalfCircleSecondSegment",t.HalfCircleExtended="HalfCircleExtended",t.OpenCircle="OpenCircle",t.CoverageEdgesWithTicks="CoverageEdgesWithTicks",t.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",t.GapExtentMidline="GapExtentMidline",t.Chevron="Chevron",t.PerpendicularWithArc="PerpendicularWithArc",t.ClosedHalfCircle="ClosedHalfCircle",t.TripleParallelExtended="TripleParallelExtended",t.ParallelWithTicks="ParallelWithTicks",t.Parallel="Parallel",t.PerpendicularToFirstSegment="PerpendicularToFirstSegment",t.ParallelOffset="ParallelOffset",t.OffsetOpposite="OffsetOpposite",t.OffsetSame="OffsetSame",t.CircleWithArc="CircleWithArc",t.DoubleJog="DoubleJog",t.PerpendicularOffset="PerpendicularOffset",t.LineExcludingLastSegment="LineExcludingLastSegment",t.MultivertexArrow="MultivertexArrow",t.CrossedArrow="CrossedArrow",t.ChevronArrow="ChevronArrow",t.ChevronArrowOffset="ChevronArrowOffset",t.PartialFirstSegment="PartialFirstSegment",t.Arch="Arch",t.CurvedParallelTicks="CurvedParallelTicks",t.Arc90Degrees="Arc90Degrees",t.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",t.ConcentricCircles="ConcentricCircles",t.DoubleJogArrow="DoubleJogArrow",t.LinkedChevrons="LinkedChevrons",t.SegmentThenHalfCircle="SegmentThenHalfCircle",t.LineWithStraightTicks="LineWithStraightTicks",t.DoubleCurve="DoubleCurve",t.ParallelWithTicksByWidth="ParallelWithTicksByWidth",t.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(Ve||(Ve={})),function(t){t.Mitered="Mitered",t.Bevelled="Bevelled",t.Rounded="Rounded",t.Square="Square",t.TrueBuffer="TrueBuffer"}(Bp||(Bp={})),function(t){t.ClosePath="ClosePath",t.ConvexHull="ConvexHull",t.RectangularBox="RectangularBox"}(P8||(P8={})),function(t){t.BeginningOfLine="BeginningOfLine",t.EndOfLine="EndOfLine"}(TB||(TB={})),function(t){t.Mitered="Mitered",t.Bevelled="Bevelled",t.Rounded="Rounded",t.Square="Square"}(Qu||(Qu={})),function(t){t.Fast="Fast",t.Accurate="Accurate"}(IB||(IB={})),function(t){t.BeginningOfLine="BeginningOfLine",t.EndOfLine="EndOfLine"}(EB||(EB={})),function(t){t.Sinus="Sinus",t.Square="Square",t.Triangle="Triangle",t.Random="Random"}(ug||(ug={})),function(t){t[t.None=0]="None",t[t.Default=1]="Default",t[t.Force=2]="Force"}(Bk||(Bk={})),function(t){t[t.Buffered=0]="Buffered",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.AlongLine=3]="AlongLine"}(MB||(MB={})),function(t){t[t.Linear=0]="Linear",t[t.Rectangular=1]="Rectangular",t[t.Circular=2]="Circular",t[t.Buffered=3]="Buffered"}(CB||(CB={})),function(t){t[t.Discrete=0]="Discrete",t[t.Continuous=1]="Continuous"}(kB||(kB={})),function(t){t[t.AcrossLine=0]="AcrossLine",t[t.AlongLine=1]="AlongLine"}(AB||(AB={})),function(t){t[t.Auto=0]="Auto",t[t.Clockwise=1]="Clockwise",t[t.Counterclockwise=2]="Counterclockwise"}(PB||(PB={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Justify=3]="Justify"}(LB||(LB={})),function(t){t[t.Base=0]="Base",t[t.MidPoint=1]="MidPoint",t[t.ThreePoint=2]="ThreePoint",t[t.FourPoint=3]="FourPoint",t[t.Underline=4]="Underline",t[t.CircularCW=5]="CircularCW",t[t.CircularCCW=6]="CircularCCW"}(RB||(RB={})),function(t){t.Butt="Butt",t.Round="Round",t.Square="Square"}(Sn||(Sn={})),function(t){t.NoConstraint="NoConstraint",t.HalfPattern="HalfPattern",t.HalfGap="HalfGap",t.FullPattern="FullPattern",t.FullGap="FullGap",t.Custom="Custom"}(Gr||(Gr={})),function(t){t[t.None=-1]="None",t[t.Custom=0]="Custom",t[t.Circle=1]="Circle",t[t.OpenArrow=2]="OpenArrow",t[t.ClosedArrow=3]="ClosedArrow",t[t.Diamond=4]="Diamond"}(OB||(OB={})),function(t){t[t.ExtraLeading=0]="ExtraLeading",t[t.Multiple=1]="Multiple",t[t.Exact=2]="Exact"}(FB||(FB={})),function(t){t.Bevel="Bevel",t.Round="Round",t.Miter="Miter"}(Ha||(Ha={})),function(t){t[t.Default=0]="Default",t[t.String=1]="String",t[t.Numeric=2]="Numeric"}(NB||(NB={})),function(t){t[t.InsidePolygon=0]="InsidePolygon",t[t.PolygonCenter=1]="PolygonCenter",t[t.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(DB||(DB={})),function(t){t[t.Tint=0]="Tint",t[t.Replace=1]="Replace",t[t.Multiply=2]="Multiply"}(zB||(zB={})),function(t){t[t.ClipAtBoundary=0]="ClipAtBoundary",t[t.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",t[t.DoNotTouchBoundary=2]="DoNotTouchBoundary",t[t.DoNotClip=3]="DoNotClip"}(VB||(VB={})),function(t){t.NoConstraint="NoConstraint",t.WithMarkers="WithMarkers",t.WithFullGap="WithFullGap",t.WithHalfGap="WithHalfGap",t.Custom="Custom"}(To||(To={})),function(t){t.Fixed="Fixed",t.Random="Random",t.RandomFixedQuantity="RandomFixedQuantity"}(vw||(vw={})),function(t){t.LineMiddle="LineMiddle",t.LineBeginning="LineBeginning",t.LineEnd="LineEnd",t.SegmentMidpoint="SegmentMidpoint"}(Up||(Up={})),function(t){t.OnPolygon="OnPolygon",t.CenterOfMass="CenterOfMass",t.BoundingBoxCenter="BoundingBoxCenter"}(dg||(dg={})),function(t){t[t.Low=0]="Low",t[t.Medium=1]="Medium",t[t.High=2]="High"}(jB||(jB={})),function(t){t[t.MarkerCenter=0]="MarkerCenter",t[t.MarkerBounds=1]="MarkerBounds"}(qB||(qB={})),function(t){t[t.None=0]="None",t[t.PropUniform=1]="PropUniform",t[t.PropNonuniform=2]="PropNonuniform",t[t.DifUniform=3]="DifUniform",t[t.DifNonuniform=4]="DifNonuniform"}(BB||(BB={})),function(t){t.Tube="Tube",t.Strip="Strip",t.Wall="Wall"}(Uk||(Uk={})),function(t){t[t.Random=0]="Random",t[t.Increasing=1]="Increasing",t[t.Decreasing=2]="Decreasing",t[t.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(UB||(UB={})),function(t){t[t.Relative=0]="Relative",t[t.Absolute=1]="Absolute"}(L8||(L8={})),function(t){t[t.Normal=0]="Normal",t[t.LowerCase=1]="LowerCase",t[t.Allcaps=2]="Allcaps"}(GB||(GB={})),function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(R8||(R8={})),function(t){t.Draft="Draft",t.Picture="Picture",t.Text="Text"}(fg||(fg={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Baseline=2]="Baseline",t[t.Bottom=3]="Bottom"}(HB||(HB={})),function(t){t[t.Right=0]="Right",t[t.Upright=1]="Upright"}(Gk||(Gk={})),function(t){t[t.Small=0]="Small",t[t.Medium=1]="Medium",t[t.Large=2]="Large"}(WB||(WB={})),function(t){t[t.Calm=0]="Calm",t[t.Rippled=1]="Rippled",t[t.Slight=2]="Slight",t[t.Moderate=3]="Moderate"}(ZB||(ZB={}));const Pke={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},Vi={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:L8.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:L8.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:zk.Loop,repeatdelay:0,easing:Vk.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}};function Lke(t){return typeof t=="function"}function xat(t,e,i,r){return Lke(t)?t(e,i,r):t}function $at(t){return[t.r,t.g,t.b,t.a]}const Rke=` /-,
`;function JB(t){let e=t.length;for(;e--;)if(!Rke.includes(t.charAt(e)))return!1;return!0}function Oke(t,e){const i=[];let r=0,s=-1;do if(s=t.indexOf("[",r),s>=r){if(s>r){const n=t.slice(r,s);i.push([n,null,JB(n)])}if(r=s+1,s=t.indexOf("]",r),s>=r){if(s>r){const n=e[t.slice(r,s)];n&&i.push([null,n,!1])}r=s+1}}while(s!==-1);if(r<t.length){const n=t.slice(r);i.push([n,null,JB(n)])}return i}function Tat(t,e,i){let r="",s=null;for(const n of e){const[a,o,l]=n;if(a!=null&&a!=="")l?s=a:(s!=null&&(r+=s,s=null),r+=a);else{const u=t.readAttribute(o);u!=null&&u!==""&&(s!==null&&(r+=s,s=null),r+=u)}}return rne(r,i)}function Fke(t,e,i,r){let s="",n=null;for(const a of e){const[o,l,u]=a;if(o!=null&&o!=="")u?n=o:(n!=null&&(s+=n,n=null),s+=o);else{let d=l;i!=null&&(d=Yke(l,i));const h=t.attributes[d];h!=null&&h!==""&&(n!=null&&(s+=n,n=null),s+=h)}}return rne(s,r)}function rne(t,e){switch(typeof t!="string"&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function Iat(t,e,i,r,s,n,a=!0){const o=e/s,l=i/n,u=Math.ceil(o/2),d=Math.ceil(l/2);for(let h=0;h<n;h++)for(let p=0;p<s;p++){const m=4*(p+(a?n-h-1:h)*s);let g=0,b=0,v=0,w=0,_=0,S=0,T=0;const C=(h+.5)*l;for(let A=Math.floor(h*l);A<(h+1)*l;A++){const O=Math.abs(C-(A+.5))/d,L=(p+.5)*o,F=O*O;for(let D=Math.floor(p*o);D<(p+1)*o;D++){let G=Math.abs(L-(D+.5))/u;const H=Math.sqrt(F+G*G);H>=-1&&H<=1&&(g=2*H*H*H-3*H*H+1,g>0&&(G=4*(D+A*e),T+=g*t[G+3],v+=g,t[G+3]<255&&(g=g*t[G+3]/250),w+=g*t[G],_+=g*t[G+1],S+=g*t[G+2],b+=g))}}r[m]=w/b,r[m+1]=_/b,r[m+2]=S/b,r[m+3]=T/v}}function sne(t){return t?[t[0],t[1],t[2],t[3]/255]:[0,0,0,0]}function eO(t){var e;return((e=t.data)==null?void 0:e.symbol)??null}function tO(t){return t.type==="CIMVectorMarker"||t.type==="CIMPictureMarker"||t.type==="CIMBarChartMarker"||t.type==="CIMCharacterMarker"||t.type==="CIMPieChartMarker"||t.type==="CIMStackedBarChartMarker"}function nne(t){return t.type==="CIMGradientStroke"||t.type==="CIMPictureStroke"||t.type==="CIMSolidStroke"}function Nke(t){return t!=null&&(t.type==="CIMGradientFill"||t.type==="CIMHatchFill"||t.type==="CIMPictureFill"||t.type==="CIMSolidFill"||t.type==="CIMWaterFill")}function PS(t){return t!=null&&(t.type==="CIMMarkerPlacementAlongLineRandomSize"||t.type==="CIMMarkerPlacementAlongLineSameSize"||t.type==="CIMMarkerPlacementAlongLineVariableSize"||t.type==="CIMMarkerPlacementAtExtremities"||t.type==="CIMMarkerPlacementAtMeasuredUnits"||t.type==="CIMMarkerPlacementAtRatioPositions"||t.type==="CIMMarkerPlacementOnLine"||t.type==="CIMMarkerPlacementOnVertices")}const Ne=(t,e=0)=>t==null||isNaN(t)?e:t,Eat=(t,e)=>t??e,Mat=(t,e)=>t??e,Cat=t=>t.tintColor?sne(t.tintColor):[255,255,255,1],Dke=t=>{if(!t)return!1;for(const e of t)switch(e.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectDonut":case"CIMGeometricEffectOffset":case"CIMGeometricEffectTaperedPolygon":case"CIMGeometricEffectEnclosingPolygon":return!0}return!1};function zke(){return R(()=>import("./geometryEngineJSON-BuSJbgcV.js").then(t=>t.g),__vite__mapDeps([114,115,116]))}function Vke(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function jke(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function ane(t){let e="normal",i="normal";if(t){const r=t.toLowerCase();r.includes("italic")?e="italic":r.includes("oblique")&&(e="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:e,weight:i}}function one(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function ww(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const i=ww(e);if(i!=null)return i}break;case"CIMTextSymbol":return ww(t.symbol);case"CIMSolidFill":return t.color}return null}function O8(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const e=t.symbolLayers;if(e)for(const i of e){const r=O8(i);if(r!=null)return r}break}case"CIMTextSymbol":return O8(t.symbol);case"CIMSolidStroke":return t.color}}function kat(t){for(const e of t)if(e.enable)switch(e.type){case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return!0}return!1}function F8(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const i=F8(e);if(i!==void 0)return i}break;case"CIMTextSymbol":return F8(t.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}}function qke(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function Bke(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function Uke(t){return(t?Object.keys(t):[]).map(e=>({name:e,alias:e,type:typeof t[e]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const N0=t=>t.includes("data:image/svg+xml");function N8(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function b3(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Aat(t,e,i,r,s,n,a=!0){const{infos:o}=n;let l=1,u=0,d=0,h=0,p=1;for(const{absoluteAnchorPoint:b,offsetX:v,offsetY:w,rotation:_,size:S,frameHeight:T,rotateClockWise:C,scaleSymbolsProportionally:A}of o)p=b?1:l,d=QB(v,w,u,p,d),h=XB(v,w,u,p,h),T&&(A||a)&&(l*=S/T),u=KB(_,C,u);const m=QB(r,s,u,p,d),g=XB(r,s,u,p,h);return{size:t*l,rotation:KB(e,i,u),offsetX:m,offsetY:g}}function Gke(t){if(t==null)return!1;if(Array.isArray(t))return t.every(e=>Gke(e));switch(typeof t){case"string":return!!t;case"number":return!isNaN(t)}}function Hke(t,e){if(e==="color"||e==="outlinecolor"||e==="backgroundcolor"||e==="borderlinecolor"||e==="tintcolor")return[...Pke[e]];const i=Vi[t];if(!i)throw new Error(`InternalError: default value for type ${t}.`);return i[e]}function Wke(t){return t.split(" ").map(e=>Number(e))}function Zke(t){return typeof t=="string"?Wke(t):t}function lne(t){return t!=null&&t.dashTemplate&&(t.dashTemplate=Zke(t.dashTemplate)),t}function Hk(t){if(t==null)return"Normal";switch(t.type){case"CIMTextSymbol":return t.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const e=t.symbolLayers;if(!e)return"Normal";for(const i of e)if(i.type==="CIMVectorMarker")return Hk(i)}break;case"CIMVectorMarker":{const e=t.markerGraphics;if(!e)return"Normal";for(const i of e)if(i.symbol)return Hk(i.symbol)}}return"Normal"}function Jke(t){if(t)switch(t.type){case"CIMTextSymbol":return t.height;case"CIMPointSymbol":{let e=0;if(t.symbolLayers){for(const i of t.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??Vi.CIMVectorMarker.size;r>e&&(e=r);break}}}return e}case"CIMLineSymbol":case"CIMPolygonSymbol":{let e=0;if(t.symbolLayers){for(const i of t.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>e&&(e=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&PS(i.markerPlacement)){const r=i.size??Vi.CIMVectorMarker.size;r>e&&(e=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>e&&(e=r)}}}return e}}}function Yke(t,e){if(e!==null){const i=e.get(t);return i?i.name:t}return t}function Xke(t){return t.map(e=>({...e,propertyName:b3(e.propertyName)}))}function YB(t){const e={};for(const i in t){const r=t[i];e[b3(i)]=r}return e}function XB(t,e,i,r,s){const n=i*Math.PI/180;if(n){const a=Math.cos(n);return(Math.sin(n)*t+a*e)*r+s}return e*r+s}function QB(t,e,i,r,s){const n=i*Math.PI/180;return n?(Math.cos(n)*t-Math.sin(n)*e)*r+s:t*r+s}function KB(t,e,i){return e?i-t:i+t}function Pat(t,e,i){const r=i==="Color"||i==="TintColor"||i==="ToColor",s=i==="Rotation"||i==="Angle"||i==="ToRotation";let n=e[b3(i)];if(n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180)),n==null&&(n=Hke(e.type,i.toLowerCase()),n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]]:s&&(n*=Math.PI/180))),e.primitiveName!=null){const a=t[e.primitiveName];if(a!=null){const o=a[i];o==null||(typeof o=="string"||typeof o=="number"||Array.isArray(o)?(n=o,n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180))):(n={valueExpressionInfo:o,defaultValue:n},n!=null&&(r?n={type:"Process",op:"ArcadeColor",value:n}:s&&(n={type:"Process",op:"Divide",left:n,right:180/Math.PI}))))}}if(n==null)throw new Error(`Failed to derive a value or an expression for "${i}".`);return n}function Lat(t,e,i){if(e[b3(i)]!=null)return!0;if(e.primitiveName!=null){const r=t[e.primitiveName];if(r!=null&&r[i]!=null)return!0}return!1}function dv(t,e){return Math.max(Math.min((t??e)/100,1),0)}const Qke={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let cne=class{constructor(e,i,r,s){this.url=e,this.fieldMap=r,this.dictionaryInfo=s,this._symbolPartCache=new Vse(100);const n=async()=>kke.from(await s,i,r);this._evaluator=n()}async getSymbolAsync(e,i,r=!0){var h;const s=await this._evaluator,n=(i==null?void 0:i.fields)??tne(e.attributes),a=s.createDictionaryFieldsIndex(n),o=s.evaluate(e,(i==null?void 0:i.scale)??0,a,i==null?void 0:i.spatialReference);if(o==null)return null;const l=s0(e.geometry),u=nB.parse(o,s.itemNames,l),d=l==="esriGeometryPoint"&&!((h=e.geometry)!=null&&h.hasZ);return await this._cimPartsToCIMSymbol(e,u.partNames,u.overrides,d,i,r,a)}async getSymbolForControlString(e,i,r){const s=await this._evaluator,n=nB.parse(e,s.itemNames,i),a=i==="esriGeometryPoint"&&!r,o=eU(await Promise.all(n.partNames.map(l=>this._getSymbolPart(l))),n.overrides,a);return new ms({data:o})}async _cimPartsToCIMSymbol(e,i,r,s,n,a,o){const l=i.map(h=>this._getSymbolPart(h,n));let u=await Promise.all(l);if(a&&this.fieldMap&&u.length>0){const{OverrideHelper:h}=await R(()=>Promise.resolve().then(()=>JVe),void 0);u=z(u);for(const p of u)h.applyDictionaryTextOverrides(p,e,this.fieldMap,o,Hk(p))}const d=eU(u,r,s);return new ms({data:d})}async _fetchSymbolPart(e,i){const r=await this.dictionaryInfo,s=(this.url+"/"+r.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,e),{data:n}=await it(s,{responseType:"json",query:{f:"json"},...i});return n}async _getSymbolPart(e,i){let r=this._symbolPartCache.get(e);return r||(r=this._fetchSymbolPart(e,i),this._symbolPartCache.get(e)),r}};function eU(t,e,i){if(!t||t.length===0)return null;const r={...t[0]};if(t.length>1){r.effects=null,r.symbolLayers=[];for(const s of t){const n=s;if(n.effects!=null)for(const a of n.symbolLayers)a.effects==null?a.effects=n.effects:a.effects.unshift(...n.effects);r.symbolLayers.unshift(...n.symbolLayers)}}return i&&(r.callout=Qke),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:e}}var Wk;let bo=Wk=class extends T1(aa){constructor(t){super(t),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){const t=this.getDictionaryInfo();return new cne(this.url,this.config,this.fieldMap??{},t)}writeData(t,e){t&&(e.scalingExpressionInfo={expression:t,returnType:"number"})}writeVisualVariables(t,e,i,r){r!=null&&r.origin||super.writeVisualVariables(t,e,i,r)}clone(){return new Wk({config:z(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:z(this.fieldMap),url:z(this.url),visualVariables:z(this.visualVariables)})}async getSymbolAsync(t,e,i=!0){return this._loader.getSymbolAsync(t,e,i)}async getSymbolForControlString(t,e,i){return this._loader.getSymbolForControlString(t,e,i)}getDictionaryInfo(){return this._dictionaryInfoPromise||(this._dictionaryInfoPromise=this._fetchDictionaryInfo()),this._dictionaryInfoPromise}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e),this.scaleExpression&&await Xr(t,e,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];e.has(r)&&t.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){const{data:t}=await it(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"}});return t}};c([f({type:cne})],bo.prototype,"_loader",null),c([f({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],bo.prototype,"config",void 0),c([f({type:Object,json:{write:!0}})],bo.prototype,"fieldMap",void 0),c([f({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],bo.prototype,"scaleExpression",void 0),c([ne("scaleExpression")],bo.prototype,"writeData",null),c([f({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(t){return{enabled:!!t&&!!this.scaleExpression}}}}})],bo.prototype,"scaleExpressionTitle",void 0),c([f({type:String,json:{write:!0}})],bo.prototype,"url",void 0),c([ne("visualVariables")],bo.prototype,"writeVisualVariables",null),bo=Wk=c([E("esri.renderers.DictionaryRenderer")],bo);var Zk;let _u=Zk=class extends B{constructor(t){super(t),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(t){return t==null?t:typeof t=="function"?(W.getLogger(this).error(".field: field must be a string value"),null):W_(t)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var t;return new Zk({color:(t=this.color)==null?void 0:t.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([f({type:ee,json:{type:[Number],write:!0}})],_u.prototype,"color",void 0),c([f({type:String,json:{write:!0}})],_u.prototype,"field",void 0),c([Xe("field")],_u.prototype,"castField",null),c([f({type:String,json:{write:!0}})],_u.prototype,"label",void 0),c([f({type:String,json:{write:!0}})],_u.prototype,"valueExpression",void 0),c([f({type:String,json:{write:!0}})],_u.prototype,"valueExpressionTitle",void 0),_u=Zk=c([E("esri.renderers.support.AttributeColorInfo")],_u);const une=_u;var Jk;let A6=Jk=class extends B{constructor(){super(...arguments),this.unit=null}clone(){return new Jk({unit:this.unit})}};c([f({type:String,json:{write:!0}})],A6.prototype,"unit",void 0),A6=Jk=c([E("esri.renderers.support.DotDensityLegendOptions")],A6);const Kke=A6;var Yk;let nn=Yk=class extends T1(aa){constructor(t){super(t),this.attributes=null,this.backgroundColor=new ee([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new hi,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(t){if(this.referenceScale==null)return this.dotValue;const e=t/this.referenceScale*this.dotValue;return e<1?1:e}getSymbol(){return new ys({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){var t;return((t=this.attributes)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new Yk({attributes:z(this.attributes),backgroundColor:z(this.backgroundColor),dotBlendingEnabled:z(this.dotBlendingEnabled),dotShape:z(this.dotShape),dotSize:z(this.dotSize),dotValue:z(this.dotValue),legendOptions:z(this.legendOptions),outline:z(this.outline),referenceScale:z(this.referenceScale),seed:z(this.seed),visualVariables:z(this.visualVariables),authoringInfo:z(this.authoringInfo)})}getControllerHash(){var e;return`${(e=this.attributes)==null?void 0:e.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e);for(const i of this.attributes??[])i.valueExpression&&await Xr(t,e,i.valueExpression),i.field&&t.add(i.field)}};c([f({type:[une],json:{write:!0}})],nn.prototype,"attributes",void 0),c([f({type:ee,json:{write:!0}})],nn.prototype,"backgroundColor",void 0),c([f({type:Boolean,json:{write:!0}})],nn.prototype,"dotBlendingEnabled",void 0),c([f({type:String,json:{write:!1}})],nn.prototype,"dotShape",void 0),c([f({type:Number,json:{write:!0}})],nn.prototype,"dotSize",void 0),c([f({type:Kke,json:{write:!0}})],nn.prototype,"legendOptions",void 0),c([f({type:hi,json:{default:null,write:!0}})],nn.prototype,"outline",void 0),c([f({type:Number,json:{write:!0}})],nn.prototype,"dotValue",void 0),c([f({type:Number,json:{write:!0}})],nn.prototype,"referenceScale",void 0),c([f({type:Number,json:{write:!0}})],nn.prototype,"seed",void 0),c([oe({dotDensity:"dot-density"})],nn.prototype,"type",void 0),nn=Yk=c([E("esri.renderers.DotDensityRenderer")],nn);var Xk;let Ku=Xk=class extends B{constructor(t){super(t),this.color=null,this.ratio=null}clone(){return new Xk({color:this.color&&this.color.clone(),ratio:this.ratio})}};c([f({type:ee,json:{type:[Ye],default:null,write:{isRequired:!0}}})],Ku.prototype,"color",void 0),c([f({type:Number,json:{write:{isRequired:!0}}})],Ku.prototype,"ratio",void 0),Ku=Xk=c([E("esri.renderers.support.HeatmapColorStop")],Ku);let Ly=class extends ve.ClonableMixin(B){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};c([f({type:String,json:{write:!0}})],Ly.prototype,"minLabel",void 0),c([f({type:String,json:{write:!0}})],Ly.prototype,"maxLabel",void 0),c([f({type:String,json:{write:!0}})],Ly.prototype,"title",void 0),Ly=c([E("esri.renderers.support.HeatmapLegendOptions")],Ly);function eAe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function tAe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function iAe(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t}function rAe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function dne(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}function fne(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t}function hne(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t}function sAe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function nAe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function aAe(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t}function oAe(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t}function lAe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function cAe(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function uAe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t}function pne(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return Math.sqrt(i*i+r*r+s*s+n*n)}function mne(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return i*i+r*r+s*s+n*n}function yne(t){const e=t[0],i=t[1],r=t[2],s=t[3];return Math.sqrt(e*e+i*i+r*r+s*s)}function gne(t){const e=t[0],i=t[1],r=t[2],s=t[3];return e*e+i*i+r*r+s*s}function dAe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function fAe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function hAe(t,e){const i=e[0],r=e[1],s=e[2],n=e[3];let a=i*i+r*r+s*s+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=i*a,t[1]=r*a,t[2]=s*a,t[3]=n*a),t}function pAe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function bne(t,e,i,r){const s=e[0],n=e[1],a=e[2],o=e[3];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t[2]=a+r*(i[2]-a),t[3]=o+r*(i[3]-o),t}function mAe(t,e=1){const i=eS;let r,s,n,a,o,l;do r=2*i()-1,s=2*i()-1,o=r*r+s*s;while(o>=1);do n=2*i()-1,a=2*i()-1,l=n*n+a*a;while(l>=1);const u=Math.sqrt((1-o)/l);return t[0]=e*r,t[1]=e*s,t[2]=e*n*u,t[3]=e*a*u,t}function yAe(t,e,i){const r=e[0],s=e[1],n=e[2],a=e[3];return t[0]=i[0]*r+i[4]*s+i[8]*n+i[12]*a,t[1]=i[1]*r+i[5]*s+i[9]*n+i[13]*a,t[2]=i[2]*r+i[6]*s+i[10]*n+i[14]*a,t[3]=i[3]*r+i[7]*s+i[11]*n+i[15]*a,t}function gAe(t,e,i){const r=e[0],s=e[1],n=e[2],a=i[0],o=i[1],l=i[2],u=i[3],d=u*r+o*n-l*s,h=u*s+l*r-a*n,p=u*n+a*s-o*r,m=-a*r-o*s-l*n;return t[0]=d*u+m*-a+h*-l-p*-o,t[1]=h*u+m*-o+p*-a-d*-l,t[2]=p*u+m*-l+d*-o-h*-a,t[3]=e[3],t}function bAe(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vAe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function wAe(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],a=e[0],o=e[1],l=e[2],u=e[3],d=Ws();return Math.abs(i-a)<=d*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-l)<=d*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))}const _Ae=dne,SAe=fne,xAe=hne,$Ae=pne,TAe=mne,IAe=yne,EAe=gne;Object.freeze(Object.defineProperty({__proto__:null,add:rAe,ceil:sAe,copy:eAe,copyVec3:tAe,dist:$Ae,distance:pne,div:xAe,divide:hne,dot:pAe,equals:wAe,exactEquals:vAe,floor:nAe,inverse:fAe,len:IAe,length:yne,lerp:bne,max:oAe,min:aAe,mul:SAe,multiply:fne,negate:dAe,normalize:hAe,random:mAe,round:lAe,scale:cAe,scaleAndAdd:uAe,set:iAe,sqrDist:TAe,sqrLen:EAe,squaredDistance:mne,squaredLength:gne,str:bAe,sub:_Ae,subtract:dne,transformMat4:yAe,transformQuat:gAe},Symbol.toStringTag,{value:"Module"}));function LS(){return[0,0,0,0]}function MAe(t){return[t[0],t[1],t[2],t[3]]}function u0(t,e,i,r){return[t,e,i,r]}function CAe(t,e,i,r){return[t,e,i,r]}function kAe(t,e=LS()){const i=Math.min(4,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function vne(){return LS()}function wne(){return u0(1,1,1,1)}function _ne(){return u0(1,0,0,0)}function Sne(){return u0(0,1,0,0)}function xne(){return u0(0,0,1,0)}function $ne(){return u0(0,0,0,1)}const AAe=vne(),PAe=wne(),LAe=_ne(),RAe=Sne(),OAe=xne(),FAe=$ne();Object.freeze(Object.defineProperty({__proto__:null,ONES:PAe,UNIT_W:FAe,UNIT_X:LAe,UNIT_Y:RAe,UNIT_Z:OAe,ZEROS:AAe,clone:MAe,create:LS,freeze:CAe,fromArray:kAe,fromValues:u0,ones:wne,unitW:$ne,unitX:_ne,unitY:Sne,unitZ:xne,zeros:vne},Symbol.toStringTag,{value:"Module"}));const iO=2.4;function NAe(t){return lt(t*iO)}function DAe(t){return et(t)/iO}function zAe(t,e,i,r){let{color:s,ratio:n}=e,{color:a,ratio:o}=i;o===n&&(o===1?n-=1e-6:o+=1e-6);const l=Yr((r-n)/(o-n),0,1);bne(t,s.toArray(),a.toArray(),l)}function Fat(t){const i=new Uint8ClampedArray(2048);if(t=t.filter(({ratio:o})=>o>=0&&o<=1).sort((o,l)=>o.ratio-l.ratio).map(({color:o,ratio:l})=>({color:o,ratio:Math.max(l,.001)})),t.length<1)return i;let r=t[0],s=t[0],n=1;const a=LS();for(let o=0;o<512;o++){const l=(o+.5)/512;for(;l>s.ratio&&n<t.length;)r=s,s=t[n++];zAe(a,r,s,l),i.set(a,4*o)}return i}function VAe(t,e,i){const r=Math.sqrt(t**2+e**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function jAe(t){return typeof t=="function"?t:t?e=>+e[t]:()=>1}var Qk;function tU(t){if(t!=null){const{maxDensity:e,minDensity:i,radius:r}=t;if(e!=null||i!=null||r!=null){const{blurRadius:s,maxPixelIntensity:n,minPixelIntensity:a,...o}=t;return o}}return t}let mr=Qk=class extends aa{constructor(t){super(t),this.authoringInfo=null,this.colorStops=[new Ku({ratio:0,color:new ee("rgba(255, 140, 0, 0)")}),new Ku({ratio:.75,color:new ee("rgba(255, 140, 0, 1)")}),new Ku({ratio:.9,color:new ee("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(t){return tU(t)}get blurRadius(){return DAe(this.radius)}set blurRadius(t){const e=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",NAe(t)),this._set("maxDensity",e*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(t){this._set("maxDensity",t*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(t){this._set("minDensity",t*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(iO**2*this.blurRadius**4)}read(t,e){t=tU(t),super.read(t,e)}getSymbol(){return new Qt}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(t,e){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&Zs(t,e,i),r&&typeof r=="string"&&await Xr(t,e,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new Qk({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:z(this.colorStops),field:this.field,legendOptions:z(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([f({type:Zt,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],mr.prototype,"authoringInfo",void 0),c([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],mr.prototype,"blurRadius",null),c([f({type:[Ku],json:{write:{isRequired:!0}}})],mr.prototype,"colorStops",void 0),c([f({type:String,json:{write:!0}})],mr.prototype,"field",void 0),c([f({type:Ly,json:{write:!0}})],mr.prototype,"legendOptions",void 0),c([f({type:Number,json:{write:!0}})],mr.prototype,"maxDensity",void 0),c([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],mr.prototype,"maxPixelIntensity",null),c([f({type:Number,json:{write:!0}})],mr.prototype,"minDensity",void 0),c([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],mr.prototype,"minPixelIntensity",null),c([f({type:Number,cast:ct,json:{write:!0}})],mr.prototype,"radius",void 0),c([f({type:Number,range:{min:0},json:{default:0,write:!0}})],mr.prototype,"referenceScale",void 0),c([oe({heatmap:"heatmap"})],mr.prototype,"type",void 0),c([f({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],mr.prototype,"valueExpression",void 0),c([f({type:String})],mr.prototype,"valueExpressionTitle",void 0),c([f({readOnly:!0})],mr.prototype,"_pixelIntensityToDensity",null),mr=Qk=c([E("esri.renderers.HeatmapRenderer")],mr);let Gp=class extends ve.ClonableMixin(B){constructor(){super(...arguments),this.color=new ee([0,0,0,0]),this.label=null,this.threshold=0}};c([f({type:ee,json:{write:!0}})],Gp.prototype,"color",void 0),c([f({type:String,json:{write:!0}})],Gp.prototype,"label",void 0),c([f({type:Number,range:{min:0,max:1},json:{write:!0}})],Gp.prototype,"threshold",void 0),Gp=c([E("esri.renderers.support.OthersCategory")],Gp);const qAe={base:us,key:"type",typeMap:{size:Ke,opacity:Bu}};let an=class extends T1(ve.ClonableMixin(aa)){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new ee([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Gp,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){var e;return new Qt({size:this.size?this.size/2+(((e=this.outline)==null?void 0:e.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(Kt)}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((i,r)=>i+r.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((e,i)=>e+JSON.stringify(i),"")}async collectRequiredFields(e,i){await this.collectVVRequiredFields(e,i);for(const r of this.attributes)r.valueExpression&&await Xr(e,i,r.valueExpression),r.field&&e.add(r.field)}};c([f({type:[une],json:{write:!0}})],an.prototype,"attributes",void 0),c([f(UR)],an.prototype,"backgroundFillSymbol",void 0),c([f({type:ee,json:{write:!0}})],an.prototype,"defaultColor",void 0),c([f({type:String,json:{write:!0}})],an.prototype,"defaultLabel",void 0),c([f({type:Number,range:{min:0,max:1},json:{write:!0}})],an.prototype,"holePercentage",void 0),c([f({type:Gp,json:{write:!0}})],an.prototype,"othersCategory",void 0),c([f({type:kS,json:{write:!0}})],an.prototype,"legendOptions",void 0),c([f({type:hi,json:{default:null,write:!0}})],an.prototype,"outline",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],an.prototype,"size",void 0),c([oe({pieChart:"pie-chart"})],an.prototype,"type",void 0),c([f({types:[qAe]})],an.prototype,"visualVariables",void 0),an=c([E("esri.renderers.PieChartRenderer")],an);const v3={key:"type",base:aa,typeMap:{heatmap:mr,simple:qs,"unique-value":Bt,"class-breaks":Ai,"dot-density":nn,dictionary:bo,"pie-chart":an},errorContext:"renderer"},BAe={key:"type",base:aa,typeMap:{simple:qs,"unique-value":Bt,"class-breaks":Ai,heatmap:mr},errorContext:"renderer",validate:UAe};function UAe(t){switch(t.type){case"simple":return GAe(t);case"unique-value":return HAe(t);case"class-breaks":return WAe(t);case"heatmap":return t}}function GAe(t){if(t.symbol)return t;W.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function HAe(t){const e=t.uniqueValueInfos,i=e==null?void 0:e.filter(({symbol:r,label:s},n)=>(r||W.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(e==null?void 0:e.length)&&(t.uniqueValueInfos=i),t}function WAe(t){const e=t.classBreakInfos,i=e==null?void 0:e.filter(({symbol:r,label:s},n)=>(r||W.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(e==null?void 0:e.length)&&(t.classBreakInfos=i),t}function Tne(t,e){return a_(t,null,e)}const ZAe=c1({types:v3});function a_(t,e,i){return t?t&&(t.styleName||t.styleUrl)&&t.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new ca("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+t.type+"'",{definition:t,context:i})),null):ZAe(t,e,i):null}var Kk;let qr=Kk=class extends Yf{constructor(t){super(t),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=ct("12px"),this.fields=[],this.renderer=null}writeFields(t,e,i){const r=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());ti(i,r,e)}readRenderer(t,e,i){var s;const r=(s=e.drawingInfo)==null?void 0:s.renderer;return r?a_(r,e,i)??void 0:WR(e,i)}clone(){return new Kk({fields:z(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:z(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:z(this.popupTemplate),renderer:z(this.renderer),binType:z(this.binType),size:this.size})}};c([oe({binning:"binning"})],qr.prototype,"type",void 0),c([oe({geohash:"geohash",square:"square"}),f({type:["geohash","square"]})],qr.prototype,"binType",void 0),c([f({type:Number,json:{write:!0}})],qr.prototype,"fixedBinLevel",void 0),c([f({type:[Jt],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],qr.prototype,"labelingInfo",void 0),c([f($S)],qr.prototype,"labelsVisible",void 0),c([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],qr.prototype,"maxScale",void 0),c([f(xS)],qr.prototype,"popupEnabled",void 0),c([f({type:v1,json:{name:"popupInfo",write:!0}})],qr.prototype,"popupTemplate",void 0),c([f({cast:t=>t==="auto"?t:js(ct(t))})],qr.prototype,"size",void 0),c([f({type:[ps],json:{write:!0}})],qr.prototype,"fields",void 0),c([ne("fields")],qr.prototype,"writeFields",null),c([f({types:v3,json:{write:{target:"drawingInfo.renderer"}}})],qr.prototype,"renderer",void 0),c([te("renderer",["drawingInfo.renderer"])],qr.prototype,"readRenderer",null),qr=Kk=c([E("esri.layers.support.FeatureReductionBinning")],qr);var eA;function iU(t){var e;return t.type==="simple"&&!((e=t.visualVariables)!=null&&e.length)}let Hi=eA=class extends B{constructor(t){super(t),this.type="cluster",this.clusterRadius=ct("80px"),this.clusterMinSize=ct("12px"),this.clusterMaxSize=ct("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(t,e,i){var s,n;const r=(s=e.drawingInfo)==null?void 0:s.renderer;return(n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated?null:r?iU(r)?null:a_(r,e,i)??void 0:WR(e,i)}readSymbol(t,e,i){var s,n;const r=(s=e.drawingInfo)==null?void 0:s.renderer;if((n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated)return null;if(r&&iU(r)){const a=a_(r,e,i);return a==null?void 0:a.symbol}return null}writeSymbol(t,e,i,r){var n,a;const s=(a=(n=this.renderer)==null?void 0:n.authoringInfo)==null?void 0:a.isAutoGenerated;if(!this.renderer||s){const o=new qs({symbol:t});e.drawingInfo={renderer:o.write({},r)}}}writeFields(t,e,i){const r=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());ti(i,r,e)}readFields(t,e,i){return t.filter(r=>!r.isAutoGenerated).map(r=>ps.fromJSON(r))}clone(){return new eA({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:z(this.labelingInfo),labelsVisible:this.labelsVisible,fields:z(this.fields),maxScale:this.maxScale,renderer:z(this.renderer),symbol:z(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:z(this.popupTemplate)})}};c([f({type:["cluster"],readOnly:!0,json:{write:!0}})],Hi.prototype,"type",void 0),c([f({cast:t=>t==="auto"?t:js(ct(t)),json:{write:!0}})],Hi.prototype,"clusterRadius",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],Hi.prototype,"clusterMinSize",void 0),c([f({type:Number,cast:ct,json:{write:!0}})],Hi.prototype,"clusterMaxSize",void 0),c([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Hi.prototype,"maxScale",void 0),c([f(xS)],Hi.prototype,"popupEnabled",void 0),c([f({type:v1,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Hi.prototype,"popupTemplate",void 0),c([f({types:v3,json:{write:{target:"drawingInfo.renderer"}}})],Hi.prototype,"renderer",void 0),c([te("renderer",["drawingInfo.renderer"])],Hi.prototype,"readRenderer",null),c([f({types:P9e})],Hi.prototype,"symbol",void 0),c([te("symbol",["drawingInfo.renderer"])],Hi.prototype,"readSymbol",null),c([ne("symbol")],Hi.prototype,"writeSymbol",null),c([f({type:[Jt],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Hi.prototype,"labelingInfo",void 0),c([f($S)],Hi.prototype,"labelsVisible",void 0),c([f({type:[ps],json:{write:!0}})],Hi.prototype,"fields",void 0),c([ne("fields")],Hi.prototype,"writeFields",null),c([te("fields")],Hi.prototype,"readFields",null),Hi=eA=c([E("esri.layers.support.FeatureReductionCluster")],Hi);var tA;let _w=tA=class extends Yf{constructor(t){super(t),this.type="selection"}clone(){return new tA}};c([f({type:["selection"]})],_w.prototype,"type",void 0),_w=tA=c([E("esri.layers.support.FeatureReductionSelection")],_w);const rU={key:"type",base:Yf,typeMap:{cluster:Hi,binning:qr}},JAe={types:{key:"type",base:Yf,typeMap:{selection:_w,cluster:Hi,binning:qr}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:rU},"portal-item":{types:rU},"web-scene":{types:{key:"type",base:Yf,typeMap:{selection:_w}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:Vt}}}}},YAe=()=>W.getLogger("esri.views.2d.layers.support.clusterUtils");q.add("esri-cluster-arcade-enabled",!0);const XAe=q("esri-cluster-arcade-enabled"),QAe=new Set(["simple-line","simple-fill","picture-fill"]);function sU(t,e){let i=e.clone();if(!KAe(i))return i;if(e.symbols.some(r=>QAe.has(r.type))&&(i=new qs({symbol:new Qt})),i.authoringInfo||(i.authoringInfo=new Zt),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(s=>s.valueExpression!=="$view.scale");r.forEach(s=>{s.type==="rotation"?s.field?s.field=Bh(t,s.field,"avg_angle","number"):s.valueExpression&&(s.field=fv(t,s.valueExpression,"avg_angle","number"),s.valueExpression=null):s.normalizationField?(s.field=Bh(t,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=Bh(t,s.field,"avg","number"):s.valueExpression&&(s.field=fv(t,s.valueExpression,"avg","number"),s.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=Bh(t,r.field,"sum","number"):r.valueExpression&&(r.field=fv(t,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=Bh(t,i.field,"mode","string"):i.valueExpression&&(i.field=fv(t,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=Bh(t,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=Bh(t,i.field,"avg","number"):i.valueExpression&&(i.field=fv(t,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const KAe=t=>{const e=i=>YAe().error(new P("Unsupported-renderer",i,{renderer:t}));if(!t)return!1;switch(t.type){case"unique-value":if(t.field2||t.field3)return e("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(t.normalizationField){const i=t.normalizationType;if(i!=="field")return e(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return e(`FeatureReductionCluster does not support renderers of type ${t.type}`),!1}if(!XAe){if("valueExpression"in t&&t.valueExpression)return e("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in t&&t.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return e("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function ePe(t,e,i){switch(t){case"sum":return`cluster_sum_${e}`;case"avg":case"avg_angle":return`cluster_avg_${e}`;case"mode":return`cluster_type_${e}`;case"avg_norm":{const r=i,s="field",n=e.toLowerCase()+",norm:"+s+","+r.toLowerCase();return"cluster_avg_"+UL(n)}}}function fv(t,e,i,r){const s=UL(e),n=i==="mode"?`cluster_type_${s}`:i==="sum"?`cluster_sum_${s}`:`cluster_avg_${s}`;return t.some(a=>a.name===n)||t.push(new ps({name:n,isAutoGenerated:!0,onStatisticExpression:new Tf({expression:e,returnType:r}),statisticType:i})),n}function Bh(t,e,i,r,s){if(e==="cluster_count"||t.some(a=>a.name===e))return e;const n=ePe(i,e,s);return t.some(a=>a.name===n)||(i==="avg_norm"?t.push(new ps({name:n,isAutoGenerated:!0,onStatisticExpression:new Tf({expression:`$feature.${e} / $feature.${s}`,returnType:r}),statisticType:"avg"})):t.push(new ps({name:n,isAutoGenerated:!0,onStatisticField:e,statisticType:i}))),n}const tPe=t=>{let e=class extends t{constructor(...i){super(...i),this.addHandles(Y(()=>this.renderer,()=>{if(this.featureReduction){const r=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",r)}},Fc))}set featureReduction(i){const r=this._normalizeFeatureReduction(i);this._set("featureReduction",r)}set renderer(i){}_withClusterVariable(i,r,s){const n=i.clone();return"visualVariables"in n&&(n.visualVariables||(n.visualVariables=[]),n.visualVariables.some(a=>a.type==="size")||n.visualVariables.push(new Ke({field:"cluster_count",stops:[new Nr({value:1}),new Nr({useMinValue:!0,size:r}),new Nr({useMaxValue:!0,size:s})]}))),n}_normalizeFeatureReduction(i){var h;if((i==null?void 0:i.type)!=="cluster")return i;const r=i.clone(),s=[new ps({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],n=(r.fields??[]).filter(p=>!p.isAutoGenerated),a=i.renderer&&!((h=i.renderer.authoringInfo)!=null&&h.isAutoGenerated),{clusterMinSize:o,clusterMaxSize:l}=r;if(a){r.fields=[...s,...n];const p=this._withClusterVariable(r.renderer,o,l);return r.effectiveFeatureRenderer=p,r.effectiveClusterRenderer=p,r}if(i.symbol){if(r.fields=[...s,...n],r.renderer=null,!this.renderer)return r.effectiveFeatureRenderer=null,r.effectiveClusterRenderer=null,r;const p=sU(s,this.renderer),m=this._withClusterVariable(p,o,l),g="visualVariables"in m&&m.visualVariables?m.visualVariables:[],b=new qs({symbol:i.symbol,visualVariables:g});return r.fields=[...s,...n],r.effectiveFeatureRenderer=m,r.effectiveClusterRenderer=b,r}if(!this.renderer)return i;const u=sU(s,this.renderer);r.fields=[...s,...n],r.renderer=u;const d=this._withClusterVariable(u,o,l);return r.effectiveFeatureRenderer=d,r.effectiveClusterRenderer=d,r}};return c([f(JAe)],e.prototype,"featureReduction",null),e=c([E("esri.layers.mixins.FeatureReductionLayer")],e),e},nU={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},aU={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},oU={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},iPe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":nU,"web-map/basemap":aU,"web-map/tables":oU,"link-chart/operational-layers":{...nU,LinkChartLayer:!0},"link-chart/basemap":aU,"link-chart/tables":oU,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},rPe=t=>{let e=class extends t{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(i,r,s){var n;return((n=s==null?void 0:s.portalItem)==null?void 0:n.type)==="Group Layer"?void 0:i}writeListMode(i,r,s,n){(n&&n.layerContainerType==="ground"||i&&Xpe(this,s,{},n))&&(r[s]=i)}writeOperationalLayerType(i,r,s){i&&(r[s]=i)}writeTitle(i,r){r.title=i??"Layer"}readVisibilityTimeExtent(i){return i?xt.fromArray(i):null}writeVisibilityTimeExtent(i,r,s,n){i&&n.layerContainerType!=="tables"&&(i.isEmpty?n!=null&&n.messages&&n.messages.push(new P("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):r[s]=i.toArray())}read(i,r){r&&(r.layer=this),xJ(this,i,s=>super.read(i,s),r)}write(i,r){var a,o;if(!this.persistenceEnabled&&!(r!=null&&r.ignorePersistenceEnabled))return null;if(r!=null&&r.origin){const l=`${r.origin}/${r.layerContainerType||"operational-layers"}`,u=iPe[l];let d=!!(u!=null&&u[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(d=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&l==="web-map/operational-layers"&&(d=!1),!d)return(a=r.messages)==null||a.push(new P("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const s=super.write(i,{...r,layer:this}),n=!!r&&!!r.messages&&!!r.messages.filter(l=>l instanceof P&&l.name==="web-document-write:property-required").length;return f1(s==null?void 0:s.url)?((o=r==null?void 0:r.messages)==null||o.push(new P("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&n?null:s}beforeSave(){}};return c([f({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],e.prototype,"id",void 0),c([te("id",["id"])],e.prototype,"readId",null),c([f(sse)],e.prototype,"listMode",void 0),c([ne("listMode")],e.prototype,"writeListMode",null),c([f({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:Vt,isRequired:!0}}}}})],e.prototype,"operationalLayerType",void 0),c([ne("operationalLayerType")],e.prototype,"writeOperationalLayerType",null),c([f(nk)],e.prototype,"opacity",void 0),c([f({type:Boolean,readOnly:!1})],e.prototype,"persistenceEnabled",void 0),c([f({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],e.prototype,"title",void 0),c([ne("title"),ne(["web-scene"],"title")],e.prototype,"writeTitle",null),c([f({type:xt,json:{origins:{"web-scene":{write:{layerContainerTypes:Vt}}}}})],e.prototype,"visibilityTimeExtent",void 0),c([te("visibilityTimeExtent")],e.prototype,"readVisibilityTimeExtent",null),c([ne(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[Ye,l1]]}})],e.prototype,"writeVisibilityTimeExtent",null),c([f({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:Vt}}})],e.prototype,"visible",void 0),e=c([E("esri.layers.mixins.OperationalLayer")],e),e};var iA;const k5=new Ie({asc:"ascending",desc:"descending"});var _b;let Hp=(_b=class extends B{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new iA({field:this.field,valueExpression:this.valueExpression,order:this.order})}},iA=_b,_b);c([f({type:String,json:{write:!0}})],Hp.prototype,"field",void 0),c([f({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Hp.prototype,"valueExpression",void 0),c([f({type:k5.apiValues,json:{type:k5.jsonValues,read:k5.read,write:k5.write}})],Hp.prototype,"order",void 0),Hp=iA=c([E("esri.layers.support.OrderByInfo")],Hp);function sPe(t,e,i){if(!t)return null;const r=t.find(n=>!!n.field);if(!r)return null;const s=new Hp;return s.read(r,i),[s]}function nPe(t,e,i,r){const s=t.find(n=>!!n.field);s&&ti(i,[s.toJSON()],e)}const aPe={type:[Hp],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:sPe},write:{writer:nPe}}},oPe=t=>{let e=class extends t{constructor(){super(...arguments),this.orderBy=null}};return c([f(aPe)],e.prototype,"orderBy",void 0),e=c([E("esri.layers.mixins.OrderedLayer")],e),e},lPe=t=>{let e=class extends t{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=Lt(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,r,s){if(r.itemId)return new ke({id:r.itemId,portal:s==null?void 0:s.portal})}writePortalItem(i,r){i!=null&&i.id&&(r.itemId=i.id)}async loadFromPortal(i,r){var s;if((s=this.portalItem)!=null&&s.id)try{const{load:n}=await R(()=>import("./layersLoader-C7ytY5p9.js"),__vite__mapDeps([342,251,250,252]));return ze(r),await n({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData,layerModuleTypeMap:i.layerModuleTypeMap,populateGroupLayer:i.populateGroupLayer},r)}catch(n){throw tr(n)||W.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${n}`),n}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(r=>(Nl(r),!0)))}async setUserPrivileges(i,r){if(!ut.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:s,fullEdit:n},content:{updateItem:a}}=await this._fetchUserPrivileges(i,r);this._set("userHasEditingPrivileges",s),this._set("userHasFullEditingPrivileges",n),this._set("userHasUpdateItemPrivileges",a)}catch(s){Nl(s)}}async _fetchUserPrivileges(i,r){let s=this.portalItem;if(!i||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(r);const n=!(Pe!=null&&Pe.findCredential(this.url)),a=i===s.id;if(a&&s.portal.user)return this._getUserPrivileges(s,n);let o,l;if(a)o=s.portal.url;else try{o=await qL(this.url,r)}catch(p){Nl(p)}if(!o||!fme(o,s.portal.url))return this._fetchFallbackUserPrivileges(r);try{const p=r!=null?r.signal:null;l=await(Pe==null?void 0:Pe.getCredential(`${o}/sharing`,{prompt:!1,signal:p}))}catch(p){Nl(p)}const u=!0,d=!1,h=!1;if(!l)return{features:{edit:u,fullEdit:d},content:{updateItem:h}};try{if(a?await s.reload():(s=new ke({id:i,portal:{url:o}}),await s.load(r)),s.portal.user)return this._getUserPrivileges(s,n)}catch(p){Nl(p)}return{features:{edit:u,fullEdit:d},content:{updateItem:h}}}_getUserPrivileges(i,r){const s=zTe(i);return r&&(s.features.edit=!0),s}async _fetchFallbackUserPrivileges(i){let r=!0;try{r=await this._fetchUserHasEditingPrivileges(i)}catch(s){Nl(s)}return{features:{edit:r,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(i){const r=this.url?Pe==null?void 0:Pe.findCredential(this.url):null;if(!r)return!0;const s=A5.credential===r?A5.user:await this._fetchEditingUser(i);return A5.credential=r,A5.user=s,(s==null?void 0:s.privileges)==null||s.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var d,h;const r=(h=(d=this.portalItem)==null?void 0:d.portal)==null?void 0:h.user;if(r)return r;const s=Pe==null?void 0:Pe.findServerInfo(this.url??"");if(!(s!=null&&s.owningSystemUrl))return null;const n=`${s.owningSystemUrl}/sharing/rest`,a=ie.getDefault();if(a&&a.loaded&&Ja(a.restUrl)===Ja(n))return a.user;const o=`${n}/community/self`,l=i!=null?i.signal:null,u=await W7(it(o,{authMode:"no-prompt",query:{f:"json"},signal:l}));return u.ok?kt.fromJSON(u.value.data):null}read(i,r){r&&(r.layer=this),super.read(i,r)}write(i,r){var a;const s=r==null?void 0:r.portal,n=((a=this.portalItem)==null?void 0:a.id)&&(this.portalItem.portal||ie.getDefault());return s&&n&&!OJ(n.restUrl,s.restUrl)?(r.messages&&r.messages.push(new P("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,{...r,layer:this})}};return c([f({type:ke})],e.prototype,"portalItem",null),c([te("web-document","portalItem",["itemId"])],e.prototype,"readPortalItem",null),c([ne("web-document","portalItem",{itemId:{type:String}})],e.prototype,"writePortalItem",null),c([f({clonable:!1})],e.prototype,"resourceReferences",void 0),c([f({type:Boolean,readOnly:!0})],e.prototype,"userHasEditingPrivileges",void 0),c([f({type:Boolean,readOnly:!0})],e.prototype,"userHasFullEditingPrivileges",void 0),c([f({type:Boolean,readOnly:!0})],e.prototype,"userHasUpdateItemPrivileges",void 0),e=c([E("esri.layers.mixins.PortalLayer")],e),e},A5={credential:null,user:null};let $2=class extends ce{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};c([f()],$2.prototype,"updating",void 0),c([f()],$2.prototype,"status",void 0),$2=c([E("esri.layers.support.PublishingInfo")],$2);const cPe=Symbol(),uPe=t=>{var r;var e;let i=(r=class extends t{constructor(){super(...arguments),this[e]=!0}get publishingInfo(){if(this.destroyed)return null;const s=this._get("publishingInfo");if(s)return s;const n=new $2;return this._checkPublishingStatus(n),n}_checkPublishingStatus(s){let o=0;const l=async d=>{let h;s.updating=!0;try{h=await this.fetchPublishingStatus()}catch{h="unavailable"}h!=="published"&&h!=="unavailable"||(s.status==="publishing"&&this.refresh(),u.remove()),s.status=h,s.updating=!1,u.removed||(o=setTimeout(l,d,d+125))},u={removed:!1,remove(){this.removed=!0,clearTimeout(o)}};this.when().catch(()=>u.remove()),l(250),this.addHandles(u)}},e=cPe,r);return c([f({readOnly:!0,clonable:!1})],i.prototype,"publishingInfo",null),i=c([E("esri.layers.mixins.PublishableLayer")],i),i},zf=new K,Sw=new WeakMap;function dPe(t){hPe(t)&&zf.push(new WeakRef(t))}function fPe(t){const e=zf.find(i=>i.deref()===t);e&&zf.remove(e)}function hPe(t){return t!=null&&typeof t=="object"&&"refreshInterval"in t&&"refresh"in t}function Ine(t,e){return Number.isFinite(t)&&Number.isFinite(e)?e<=0?t:Ine(e,t%e):0}let V$=0,P5=0;function pPe(){const t=Date.now();let e=!1;for(const i of zf){const r=i.deref();r?r.refreshInterval&&t-(Sw.get(r)??0)+5>=6e4*r.refreshInterval&&(Sw.set(r,t),r.refresh(t)):e=!0}if(e)for(let i=zf.length-1;i>=0;i--)zf.at(i).deref()||zf.removeAt(i)}qZ(()=>{const t=Date.now();let e=0;for(const i of zf){const r=i.deref();r&&(e=Ine(Math.round(6e4*r.refreshInterval),e),r.refreshInterval?Sw.get(r)||Sw.set(r,t):Sw.delete(r))}if(e!==P5){if(P5=e,clearInterval(V$),P5===0)return void(V$=0);V$=setInterval(pPe,P5)}},Fc);const lU=.1,mPe=t=>{let e=class extends t{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=Cc(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||dPe(this)},()=>{})}destroy(){fPe(this)}castRefreshInterval(i){return i>=lU?i:i<=0?0:lU}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){Mc(this._debounceHasDataChanged()).then(r=>{r&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:r})},r=>{W.getLogger(this).error(r),this.emit("refresh",{dataChanged:!1,error:r})})}async hasDataChanged(){return!0}get test(){}};return c([f({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:Vt}}}}})],e.prototype,"refreshInterval",void 0),c([Xe("refreshInterval")],e.prototype,"castRefreshInterval",null),c([f({readOnly:!0})],e.prototype,"refreshTimestamp",void 0),c([f({readOnly:!0})],e.prototype,"refreshParameters",null),e=c([E("esri.layers.mixins.RefreshableLayer")],e),e},Ene=t=>{let e=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},r=this.parent;r&&"effectiveScaleRange"in r&&yPe(i,r.effectiveScaleRange);const s=this._get("effectiveScaleRange");return s&&s.minScale===i.minScale&&s.maxScale===i.maxScale?s:i}};return c([f({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0),c([f({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0),c([f({readOnly:!0})],e.prototype,"effectiveScaleRange",null),e=c([E("esri.layers.mixins.ScaleRangeLayer")],e),e};function yPe(t,e){return t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale,t}function cU(t,e){return Uo.fromJSON({value:t,unit:e})}let Er=class extends ve.ClonableMixin(B){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?xt.fromArray(i.timeExtent):null}writeFullTimeExtent(e,i){(e==null?void 0:e.start)!=null&&e.end!=null?i.timeExtent=e.toArray():i.timeExtent=null}readInterval(e,i){return i.timeInterval&&i.timeIntervalUnits?cU(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?cU(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(e,i){i.timeInterval=(e==null?void 0:e.toJSON().value)??null,i.timeIntervalUnits=(e==null?void 0:e.toJSON().unit)??null}};c([f({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],Er.prototype,"cumulative",void 0),c([f({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],Er.prototype,"endField",void 0),c([f({type:xt,json:{write:{enabled:!0,allowNull:!0}}})],Er.prototype,"fullTimeExtent",void 0),c([te("fullTimeExtent",["timeExtent"])],Er.prototype,"readFullTimeExtent",null),c([ne("fullTimeExtent")],Er.prototype,"writeFullTimeExtent",null),c([f({type:Boolean,json:{write:!0}})],Er.prototype,"hasLiveData",void 0),c([f({type:Uo,json:{write:{enabled:!0,allowNull:!0}}})],Er.prototype,"interval",void 0),c([te("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Er.prototype,"readInterval",null),c([ne("interval")],Er.prototype,"writeInterval",null),c([f({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],Er.prototype,"startField",void 0),c([f(z4("timeReference",!0))],Er.prototype,"timeZone",void 0),c([f({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Er.prototype,"trackIdField",void 0),c([f({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],Er.prototype,"useTime",void 0),c([f({type:[Date],json:{read:!1}})],Er.prototype,"stops",void 0),Er=c([E("esri.layers.support.TimeInfo")],Er);const gPe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:Vt}}},bPe=t=>{let e=class extends t{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,r){const s=r.timeInfo.exportOptions;if(!s)return null;const n=s.timeOffset,a=CR.fromJSON(s.timeOffsetUnits);return n&&a?new Uo({value:n,unit:a}):null}set timeInfo(i){fee(i,this.fieldsIndex),this._set("timeInfo",i)}};return c([f({type:xt,json:{write:!1}})],e.prototype,"timeExtent",void 0),c([f({type:Uo})],e.prototype,"timeOffset",void 0),c([te("service","timeOffset",["timeInfo.exportOptions"])],e.prototype,"readOffset",null),c([f({value:null,type:Er,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],e.prototype,"timeInfo",null),c([f(gPe)],e.prototype,"useViewTime",void 0),e=c([E("esri.layers.mixins.TemporalLayer")],e),e};let Da=class extends ve.ClonableMixin(B){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};c([f({type:[Jt],json:{write:!0}})],Da.prototype,"labelingInfo",void 0),c([f($S)],Da.prototype,"labelsVisible",void 0),c([f({types:v3,json:{write:!0}})],Da.prototype,"renderer",void 0),c([f({type:Boolean,json:{write:!0}})],Da.prototype,"visible",void 0),Da=c([E("esri.layers.support.TrackPartInfo")],Da);let on=class extends ve.ClonableMixin(B){constructor(e){super(e),this.enabled=!0,this.fields=[],this.latestObservations=new Da({renderer:new qs({symbol:I8.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new Da({renderer:new qs({symbol:I8.clone()})}),this.trackLines=new Da({renderer:new qs({symbol:MS.clone()})}),this.timeField="startTimeField"}writeFields(e,i,r){const s=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());ti(r,s,i)}};c([f({type:Boolean,json:{write:!0}})],on.prototype,"enabled",void 0),c([f({type:[ps],json:{write:!0}})],on.prototype,"fields",void 0),c([ne("fields")],on.prototype,"writeFields",null),c([f({type:Da,json:{write:!0}})],on.prototype,"latestObservations",void 0),c([f({type:Uo,json:{write:!0}})],on.prototype,"maxDisplayDuration",void 0),c([f({type:Number,json:{write:!0}})],on.prototype,"maxDisplayObservationsPerTrack",void 0),c([f(xS)],on.prototype,"popupEnabled",void 0),c([f({type:v1,json:{name:"popupInfo",write:!0}})],on.prototype,"popupTemplate",void 0),c([f({type:Da,json:{write:!0}})],on.prototype,"previousObservations",void 0),c([f({type:Da,json:{write:!0}})],on.prototype,"trackLines",void 0),c([f({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],on.prototype,"timeField",void 0),on=c([E("esri.layers.support.TrackInfo")],on);const vPe=t=>{let e=class extends t{constructor(){super(...arguments),this.trackInfo=null}};return c([f({type:on})],e.prototype,"trackInfo",void 0),e=c([E("esri.layers.mixins.TrackableLayer")],e),e},uU=new Ie({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Pl=class extends ve.ClonableMixin(B){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};c([f({json:{write:!0}})],Pl.prototype,"name",void 0),c([f({json:{write:!0}})],Pl.prototype,"description",void 0),c([f({json:{read:uU.read,write:uU.write}})],Pl.prototype,"drawingTool",void 0),c([f({json:{write:!0}})],Pl.prototype,"prototype",void 0),c([f({json:{write:!0}})],Pl.prototype,"thumbnail",void 0),Pl=c([E("esri.layers.support.FeatureTemplate")],Pl);let Il=class extends ve.ClonableMixin(B){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const i={};for(const r of Object.keys(e))i[r]=cS(e[r]);return i}writeDomains(e,i){var s;const r={};for(const n of Object.keys(e))e[n]&&(r[n]=(s=e[n])==null?void 0:s.toJSON());i.domains=r}};c([f({json:{write:!0}})],Il.prototype,"id",void 0),c([f({json:{write:!0}})],Il.prototype,"name",void 0),c([f({json:{write:!0}})],Il.prototype,"domains",void 0),c([te("domains")],Il.prototype,"readDomains",null),c([ne("domains")],Il.prototype,"writeDomains",null),c([f({type:[Pl],json:{write:!0}})],Il.prototype,"templates",void 0),Il=c([E("esri.layers.support.FeatureType")],Il);function wPe(){return{fields:{type:[sr],value:null,set:function(t){if(t&&q("big-integer-warning-enabled")){const e=t.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(e.length){const i=e.map(r=>`'${r.name}'`).join(", ");W.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",t)}},fieldsIndex:{readOnly:!0,get(){return n_.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(t){this._userOutFields=t,this.notifyChange("outFields")},get:function(){var e;const t=this._userOutFields;if(!(t!=null&&t.length))return null;if(t.includes("*"))return["*"];if(!this.fields)return t;for(const i of t)((e=this.fieldsIndex)==null?void 0:e.has(i))||W.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:t});return iS(this.fieldsIndex,t)}}}}const j$=()=>W.getLogger("esri.layers.support.labelingInfo"),_Pe=/\[([^[\]]+)\]/gi;function dU(t,e,i){return t?t.map(r=>{var n;const s=new Jt;if(s.read(r,i),s.labelExpression){const a=e.fields||((n=e.layerDefinition)==null?void 0:n.fields)||this.fields;s.labelExpression=s.labelExpression.replaceAll(_Pe,(o,l)=>`[${SPe(l,a)}]`)}return s}):null}function SPe(t,e){if(!e)return t;const i=t.toLowerCase();for(let r=0;r<e.length;r++){const s=e[r].name;if(s.toLowerCase()===i)return s}return t}const fU=["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],xPe={esriGeometryPoint:fU,esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:fU,esriGeometryEnvelope:null};function Gat(t,e){const i=[];for(const r of t){const s=r.labelPlacement,n=xPe[e];if(!r.symbol)return j$().warn("No ILabelClass symbol specified."),[];if(!n)return j$().error(new P("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${e}' is not supported`)),[];if(n.includes(s))i.push(r);else{const a=n[0];s&&j$().warn(`Found invalid label placement type ${s} for ${e}. Defaulting to ${a}`);const o=r.clone();o.labelPlacement=a,i.push(o)}}return i}const $Pe="relationships/",TPe="expression/";let As=class extends ce{constructor(e){super(e),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||mh(()=>Qa()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??R(()=>Promise.resolve().then(()=>vGe),void 0).then(e=>this._featureUtils=e)}get calculatedExpressions(){var i;const e=new K;if(!this.expressionsUsedInTitle.length)return e;if(!((i=this._arcadeTask)!=null&&i.value)){for(const r of this.expressionsUsedInTitle??[])e.push({name:r.name,invalid:!0});return e}for(const r of this.expressionsUsedInTitle)try{const s=this._arcadeTask.value.arcade.parseScript(r.expression,["$layer","$map","$datastore"]);if(s.isAsync){e.push({name:r.name,invalid:!0});break}e.push({name:r.name,syntax:s,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(s,{vars:{$feature:"any"}})})}catch{e.push({name:r.name,invalid:!0});break}return e}get expressionsUsedInTitle(){var i,r,s;let e=((i=this.effectivePopupTemplate)==null?void 0:i.title)??"";return typeof e!="string"?[]:(e=e.toLowerCase(),((s=(r=this.effectivePopupTemplate)==null?void 0:r.expressionInfos)==null?void 0:s.filter(n=>e.includes(`{expression/${n.name.toLowerCase()}}`)))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(e=>e.invalid===!0)}get requiredFields(){var r,s;const e=new Set;if((r=this._arcadeTask)!=null&&r.value&&!this.hasBadExpressions)for(const n of((s=this.calculatedExpressions)==null?void 0:s.toArray())??[])try{const a=this._arcadeTask.value.arcade.extractFieldLiterals(n.syntax);for(const o of a){const l=o.split("."),u=this.fieldsIndex.get(l.at(-1)??"");u&&e.add(u.name)}}catch{}const i=this._extractFieldNames(this.workingTitle);for(const n of i){const a=this.fieldsIndex.get(n);a&&e.add(a.name)}return this.objectIdField!=null&&e.add(this.objectIdField),e}get titleFromDisplayField(){var i,r;let e="";return this.displayField&&(e=((i=this.fieldsIndex.get(this.displayField))==null?void 0:i.name)??""),e||(e=((r=this.fieldsIndex.get(this.objectIdField))==null?void 0:r.name)??""),e?`{${e}}`:""}get workingTitle(){const e=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return e===""||e==null||this.hasBadExpressions||typeof e!="string"?this.titleFromDisplayField:e}async getTitle(e,i,r){const s=i.getObjectId()??i.attributes[e.objectIdField];return(await this.getTitles(e,[i],r)).get(s)??""}async getTitles(e,i,r){var a;const s=new Map,n=(r==null?void 0:r.timeZone)??"system";try{const[{substituteFieldsInLinksAndAttributes:o}]=await Promise.all([this.featureUtilsPromise,(a=this._arcadeTask)==null?void 0:a.promise]);r!=null&&r.fetchMissingFields&&(i=await this._checkAndReQueryGraphics(e,i));const{fieldInfoMap:l,workingTitle:u}=this,d=u&&l;i.forEach(h=>{const p=h.getObjectId()??h.attributes[e.objectIdField],m=d?o({attributes:h.attributes,expressionAttributes:null,fieldInfoMap:l,globalAttributes:this._createFormattedAttributes(e,h,n).global,layer:e,text:u}):"";s.set(p,m)})}catch{}return s}async _checkAndReQueryGraphics(e,i){const r=i.map(s=>s.getObjectId()??s.attributes[e.objectIdField]).filter(Kt);if(r.length!==i.length)return i;if(i.some(s=>!Tee(s,this.requiredFields))){const s=e.createQuery();s.where="1=1",s.outFields=[...this.requiredFields],s.objectIds=r;const n=await e.queryFeatures(s);if((n==null?void 0:n.features.length)===i.length)return n.features}return i}_createFieldInfoMap(e){const i=new Map;if(!e)return i;for(const r of e){if(!r.fieldName)continue;const s=this.fieldsIndex.get(r.fieldName),n=(s==null?void 0:s.name)??r.fieldName;r.fieldName=n,i.set(n.toLowerCase(),r)}return i}_createFormattedAttributes(e,i,r="system"){var o,l;const s=((o=this.effectivePopupTemplate)==null?void 0:o.fieldInfos)??[],n={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&((l=this._arcadeTask)!=null&&l.value)){const u=this._arcadeTask.value.Feature.createFromGraphicLikeObject(i.geometry,i.attributes,e,null);for(const d of this.calculatedExpressions)try{n[`expression/${d.name}`]=d.func({vars:{$feature:u}})}catch{}}const a={...i.attributes,...n};return{global:this._featureUtils.formatAttributes({fieldInfos:s,attributes:a,graphic:i,timeZone:r,layer:e,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(e){return XL(e).filter(i=>!(i.indexOf($Pe)===0||i.indexOf(TPe)===0))}};c([f({readOnly:!0})],As.prototype,"_arcadeTask",null),c([f()],As.prototype,"_featureUtils",void 0),c([f({readOnly:!0})],As.prototype,"featureUtilsPromise",null),c([f({readOnly:!0})],As.prototype,"calculatedExpressions",null),c([f()],As.prototype,"displayField",void 0),c([f()],As.prototype,"effectivePopupTemplate",void 0),c([f()],As.prototype,"expressionsUsedInTitle",null),c([f()],As.prototype,"fieldsIndex",void 0),c([f()],As.prototype,"fieldInfoMap",null),c([f()],As.prototype,"fields",void 0),c([f()],As.prototype,"objectIdField",void 0),c([f()],As.prototype,"requiredFields",null),As=c([E("esri.layers.support.TitleCreator")],As);const Ry=[];function IPe(t,e){if(Dw(t.url??""))return!0;const{wkid:i}=e;for(const r of Ry){if((t.version??0)>=r[0])return!0;if(typeof r[1]=="function"&&(r[1]=r[1]()),r[1].has(i))return!1}return!0}Ry.push([10.91,()=>{const t=new Set([9709,9716,9741,9761,9766]);for(let e=9712;e<=9713;e++)t.add(e);for(let e=9748;e<=9749;e++)t.add(e);for(let e=20904;e<=20932;e++)t.add(e);for(let e=21004;e<=21032;e++)t.add(e);for(let e=21207;e<=21264;e++)t.add(e);for(let e=21307;e<=21364;e++)t.add(e);for(let e=23301;e<=23333;e++)t.add(e);for(let e=102759;e<=102760;e++)t.add(e);for(let e=102934;e<=102955;e++)t.add(e);return t}]),Ry.push([10.9,()=>{const t=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let e=9356;e<=9360;e++)t.add(e);for(let e=9404;e<=9407;e++)t.add(e);for(let e=9476;e<=9482;e++)t.add(e);for(let e=9487;e<=9494;e++)t.add(e);for(let e=9697;e<=9699;e++)t.add(e);return t}]),Ry.push([10.81,()=>{const t=new Set([9265,9333,103598,103699]);for(let e=9248;e<=9254;e++)t.add(e);for(let e=9271;e<=9273;e++)t.add(e);for(let e=9284;e<=9285;e++)t.add(e);for(let e=21453;e<=21463;e++)t.add(e);return t}]),Ry.push([10.8,()=>{const t=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let e=8035;e<=8036;e++)t.add(e);for(let e=8455;e<=8456;e++)t.add(e);for(let e=8518;e<=8529;e++)t.add(e);for(let e=8533;e<=8536;e++)t.add(e);for(let e=8538;e<=8540;e++)t.add(e);for(let e=8677;e<=8679;e++)t.add(e);for(let e=8902;e<=8903;e++)t.add(e);for(let e=8907;e<=8910;e++)t.add(e);for(let e=8949;e<=8951;e++)t.add(e);for(let e=8972;e<=8987;e++)t.add(e);for(let e=9039;e<=9040;e++)t.add(e);for(let e=9068;e<=9069;e++)t.add(e);for(let e=9140;e<=9141;e++)t.add(e);for(let e=9148;e<=9150;e++)t.add(e);for(let e=9153;e<=9159;e++)t.add(e);for(let e=9205;e<=9218;e++)t.add(e);for(let e=9221;e<=9222;e++)t.add(e);for(let e=54098;e<=54101;e++)t.add(e);return t}]),Ry.push([10.71,()=>{const t=new Set([6316]);for(let e=8351;e<=8353;e++)t.add(e);for(let e=9294;e<=9297;e++)t.add(e);for(let e=22619;e<=22621;e++)t.add(e);for(let e=103586;e<=103594;e++)t.add(e);return t}]);async function EPe(t,e,i){const r=t&&t.getAtOrigin&&t.getAtOrigin("renderer",e.origin);if(r&&r.type==="unique-value"&&r.styleOrigin){const s=await W7(r.populateFromStyle());if(ze(i),s.ok===!1){const n=s.error;e!=null&&e.messages&&e.messages.push(new ca("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:e})),t.clear("renderer",e==null?void 0:e.origin)}}}function MPe({displayField:t,editFieldsInfo:e,fields:i,objectIdField:r,title:s},n){if(!i)return null;const a=PPe({editFieldsInfo:e,fields:i,objectIdField:r},n);if(!a.length)return null;const o=OPe({titleBase:s,fields:i,displayField:t}),l=RPe();return new v1({title:o,content:l,fieldInfos:a})}const CPe=(t,e)=>e.visibleFieldNames?e.visibleFieldNames.has(t.name):b5e(t,e);function kPe({fields:t,ignoreFieldTypes:e,sortDisabled:i}){const r=t;return e&&(t=t.filter(s=>!e.includes(s.type))),t===r&&(t=t.slice()),i!==!0&&t.sort(APe),t}function APe(t,e){return t.type==="oid"?-1:e.type==="oid"?1:hU(t)?-1:hU(e)?1:(t.alias||t.name).toLocaleLowerCase().localeCompare((e.alias||e.name).toLocaleLowerCase())}function PPe(t,e){const i=e==null?void 0:e.visibleFieldNames;return kPe({fields:t.fields??[],ignoreFieldTypes:(e==null?void 0:e.ignoreFieldTypes)||FPe,sortDisabled:e==null?void 0:e.sortDisabled}).map(r=>new a3({fieldName:r.name,isEditable:g5e(r,t),label:r.alias,format:LPe(r),visible:CPe(r,{...t,visibleFieldNames:i})}))}function LPe(t){switch(t.type){case"small-integer":case"integer":case"single":return new U9({digitSeparator:!0,places:0});case"double":return new U9({digitSeparator:!0,places:2});case"string":return SE(t.name)?new U9({digitSeparator:!0,places:0}):void 0;default:return}}function RPe(){return[new Xm,new jb]}function OPe(t){const e=l5e(t),{titleBase:i}=t;return e?`${i}: {${e.trim()}}`:i??""}function hU(t){var i;return(t.name&&t.name.toLowerCase())==="name"?!0:((i=t.alias)==null?void 0:i.toLowerCase())==="name"}const FPe=["geometry","blob","raster","guid","xml"],zr="FeatureLayer";function L5(t,e){return new P("layer:unsupported",`Layer (${t.title}, ${t.id}) of type '${t.declaredClass}' ${e}`,{layer:t})}function pU(t){return t&&t instanceof K}const q$=wPe();function B$(t,e,i){const r=!!(i!=null&&i.writeLayerSchema);return{enabled:r,ignoreOrigin:r}}let he=class extends ZCe(tPe(LEe(uPe(kEe(EEe(Gre(oPe(bPe(vPe(Ene(mPe(GIe(rPe(lPe(vS(yEe(UIe(ve.ClonableMixin(si))))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=le.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=Cc(async(i,r,s)=>{const{save:n,saveAs:a}=await R(()=>import("./featureLayerUtils-DXj2jkdh.js"),__vite__mapDeps([343,338,344,341,251]));switch(i){case Sc.SAVE:return n(this,r);case Sc.SAVE_AS:return a(this,s,r)}})}destroy(){var e;(e=this.source)==null||e.destroy()}normalizeCtorArgs(e,i){return typeof e=="string"?{url:e,...i}:e}load(e){var s;const i=e!=null?e.signal:null;if((s=this.portalItem)!=null&&s.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(i).then(n=>this.initLayerProperties(n))),Promise.resolve(this);const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(Nl).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const n=await this._fetchFirstValidLayerId(i);n!=null&&(this.layerId=n)}if(!this.url&&!this._hasMemorySource())throw new P("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(i))}).then(()=>vCe(this,"load",e));return this.addResolvingPromise(r),Promise.resolve(this)}get _titleCreator(){const e=this._get("_titleCreator");return Lt(e),new As({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(e,i){return i=i.layerDefinition||i,Ose(i,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var e;return!(this.loaded&&!((e=this.capabilities)!=null&&e.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,i){return this._readEditingEnabled(i,!1)}readEditingEnabledFromWebMap(e,i,r){return this._readEditingEnabled(i,!0,r)}writeEditingEnabled(e,i){this._writeEditingEnabled(e,i,!1)}writeEditingEnabledToWebMap(e,i,r,s){this._writeEditingEnabled(e,i,!0,s)}get effectiveEditingEnabled(){return SCe(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(e,i){return(i=(i==null?void 0:i.layerDefinition)??i).type==="Table"||!i.geometryType}writeIsTable(e,i,r,s){s!=null&&s.writeLayerSchema&&ti(r,e?"Table":"Feature Layer",i)}readGlobalIdField(e,i){return $se(i.layerDefinition||i)}readObjectIdField(e,i){return Tse(i.layerDefinition||i)}get parsedUrl(){const e=Si(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=uh(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=uh(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){Ez(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,i,r){var n;i=i.layerDefinition||i;const s=(n=i.drawingInfo)==null?void 0:n.renderer;if(s){const a=a_(s,i,r)??void 0;return a||W.getLogger(this).error("Failed to create renderer",{rendererDefinition:i.drawingInfo.renderer,layer:this,context:r}),a}return WR(i,r)}set source(e){const i=this._get("source");i!==e&&(pU(i)&&this._resetMemorySource(i),pU(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof K?new ku({layer:this,items:e}):e:null}readSource(e,i){const r=di.fromJSON(i.featureSet);return new ku({layer:this,items:(r==null?void 0:r.features)??[]})}readTemplates(e,i){const r=i.editFieldsInfo,s=r==null?void 0:r.creatorField,n=r==null?void 0:r.editorField;return e=e==null?void 0:e.map(a=>Pl.fromJSON(a)),this._fixTemplates(e,s),this._fixTemplates(e,n),e}readTitle(e,i){var n,a,o;const r=((n=i.layerDefinition)==null?void 0:n.name)??i.name,s=i.title||((a=i.layerDefinition)==null?void 0:a.title);if(r){const l=(o=this.portalItem)==null?void 0:o.title;if(this.sublayerTitleMode==="item-title")return this.url?Lme(this.url,r):r;let u=r;if(!u&&this.url){const d=zc(this.url);d!=null&&(u=d.title)}return u?(this.sublayerTitleMode==="item-title-and-service-name"&&l&&l!==u&&(u=l+" - "+u),tL(u)):void 0}if(this.sublayerTitleMode==="item-title"&&s)return s}readTitleFromWebMap(e,i){var r;return i.title||((r=i.layerDefinition)==null?void 0:r.name)}readTypeIdField(e,i){let r=(i=i.layerDefinition||i).typeIdField;if(r&&i.fields){r=r.toLowerCase();const s=i.fields.find(n=>n.name.toLowerCase()===r);s&&(r=s.name)}return r}readTypes(e,i){e=(i=i.layerDefinition||i).types;const r=i.editFieldsInfo,s=r==null?void 0:r.creatorField,n=r==null?void 0:r.editorField;return e==null?void 0:e.map(a=>(a=Il.fromJSON(a),this._fixTemplates(a.templates,s),this._fixTemplates(a.templates,n),a))}readVisible(e,i){var r;return((r=i.layerDefinition)==null?void 0:r.defaultVisibility)!=null?!!i.layerDefinition.defaultVisibility:i.visibility!=null?!!i.visibility:void 0}async addAttachment(e,i){const r=await eCe(this,e,i,zr);return this.lastEditsEventDate=new Date,r}async updateAttachment(e,i,r){const s=await tCe(this,e,i,r,zr);return this.lastEditsEventDate=new Date,s}async applyEdits(e,i){return iCe(this,e,i)}async uploadAssets(e,i){return rCe(this,e,i)}on(e,i){return super.on(e,i)}createPopupTemplate(e){return MPe(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:i}=await CP(R(()=>import("./FeatureLayerSource-A0jGv-qf.js"),__vite__mapDeps([345,146,153,346,347,348,149,186,148,187,349,350,132,125,351,352,121])),e);return new i({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=hCe(this);e.dynamicDataSource=this.dynamicDataSource;const i=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,r=ow(this.definitionExpression,i);return e.where=r||"1=1",e}async deleteAttachments(e,i){const r=await sCe(this,e,i,zr);return this.lastEditsEventDate=new Date,r}async fetchRecomputedExtents(e){return nCe(this,e,zr)}async getFeatureTitle(e,i){return this._titleCreator.getTitle(this,e,i)}async getFeatureTitles(e,i){return this._titleCreator.getTitles(this,e,i)}getFeatureType(e){return Mse(this.types,this.typeIdField,e)}getFieldDomain(e,i){var r;return mCe(this,e,i,((r=this.getField(e))==null?void 0:r.domain)??null)}async queryAttachments(e,i){return aCe(this,e,i,zr)}async queryFeatures(e,i){const r=await this.load(),s=await r.source.queryFeatures(me.from(e)??r.createQuery(),i);if(s!=null&&s.features)for(const n of s.features)n.layer=n.sourceLayer=r;return s}async queryObjectIds(e,i){return await oCe(this,e,i,zr)}async queryFeatureCount(e,i){return lCe(this,e,i,zr)}async queryExtent(e,i){return cCe(this,e,i,zr)}async queryRelatedFeatures(e,i){return uCe(this,e,i,zr)}async queryRelatedFeaturesCount(e,i){return dCe(this,e,i,zr)}async queryTopFeatures(e,i){var o;const{source:r,capabilities:s}=await this.load();if(!r.queryTopFeatures||!((o=s==null?void 0:s.query)!=null&&o.supportsTopFeaturesQuery))throw new P(zr,"Layer source does not support queryTopFeatures capability");const n=await R(()=>import("./TopFeaturesQuery-DVCKO8Up.js"),[]),a=await r.queryTopFeatures(n.default.from(e),i);if(a!=null&&a.features)for(const l of a.features)l.layer=l.sourceLayer=this;return a}async queryAttributeBins(e,i){const{source:r,capabilities:s}=await this.load();if(!r.queryAttributeBins)throw new P(zr,"Layer source does not support queryAttributeBins capability");ICe(e,s,zr);const n=await R(()=>Promise.resolve().then(()=>TZe),void 0),a=await r.queryAttributeBins(n.default.from(e),i);if(a.features)for(const o of a.features)o.layer=o.sourceLayer=this;return a}async queryTopObjectIds(e,i){const{source:r,capabilities:s}=await this.load();if(!r.queryTopObjectIds||!(s!=null&&s.query.supportsTopFeaturesQuery))throw new P(zr,"Layer source does not support queryTopObjectIds capability");const n=await R(()=>import("./TopFeaturesQuery-DVCKO8Up.js"),[]);return(await r.queryTopObjectIds(n.default.from(e),i)).filter(Ym)}async queryTopFeaturesExtent(e,i){var a;const{source:r,capabilities:s}=await this.load();if(!r.queryTopExtents||!((a=s==null?void 0:s.query)!=null&&a.supportsTopFeaturesQuery))throw new P(zr,"Layer source does not support queryTopExtents capability");const n=await R(()=>import("./TopFeaturesQuery-DVCKO8Up.js"),[]);return r.queryTopExtents(n.default.from(e),i)}async queryTopFeatureCount(e,i){var a;const{source:r,capabilities:s}=await this.load();if(!r.queryTopCount||!((a=s==null?void 0:s.query)!=null&&a.supportsTopFeaturesQuery))throw new P(zr,"Layer source does not support queryFeatureCount capability");const n=await R(()=>import("./TopFeaturesQuery-DVCKO8Up.js"),[]);return r.queryTopCount(n.default.from(e),i)}read(e,i){const r=e.featureCollection;if((r||e.type==="Feature Collection")&&(this.resourceInfo=e),r){const{layers:s,showLegend:n}=r;(s==null?void 0:s.length)===1&&(super.read(s[0],i),n!=null&&super.read({showLegend:n},i))}super.read(e,i),i&&i.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,i){i={...i,origin:(i==null?void 0:i.origin)??void 0,writeLayerSchema:(i==null?void 0:i.writeLayerSchema)??this._hasMemorySource()};const{origin:r,layerContainerType:s,messages:n}=i;if(this.dynamicDataSource)return n==null||n.push(L5(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((r==="web-map"||r==="web-scene")&&s!=="tables")return n==null||n.push(L5(this,`a table source can only be written to tables, not ${s}`)),null;if(this._hasMemorySource())return n==null||n.push(L5(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(r==="web-map"||r==="web-scene")&&s==="tables")return n==null||n.push(L5(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,i)}clone(){if(this._hasMemorySource())throw new P(zr,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){var i;return!!this.loaded&&(((i=this.source)==null?void 0:i.type)==="memory"||IPe(this,e))}async save(e){return this._debouncedSaveOperations(Sc.SAVE,e)}async saveAs(e,i){return this._debouncedSaveOperations(Sc.SAVE_AS,i,e)}_readEditingEnabled(e,i,r){var n;let s=(n=e.layerDefinition)==null?void 0:n.capabilities;return s?this._hasEditingCapability(s):(s=e.capabilities,i&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&s?this._hasEditingCapability(s):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(i=>i.trim()).includes("editing")}_writeEditingEnabled(e,i,r,s){var n,a;if(!e){const o=(a=(n=this.capabilities)==null?void 0:n.operations)!=null&&a.supportsSync?"Query,Sync":"Query";ti("layerDefinition.capabilities",o,i),r&&!(s!=null&&s.writeLayerSchema)&&(i.capabilities=o)}}_fetchFirstValidLayerId(e){return it(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(i=>{const r=i.data;if(r)return this.applyPreferredHost(r),this.findFirstValidLayerId(r)})}async initLayerProperties(e){var i;return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(i=this.portalItem)==null?void 0:i.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Ez(this.renderer,this.fieldsIndex),fee(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType==="mesh"&&(this.capabilities.query.supportsReturnMesh=!0),EPe(this,{origin:"service"})}async hasDataChanged(){return fCe(this)}async fetchPublishingStatus(){const e=this.source;return e!=null&&e.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){var i,r;const e=((i=this.parsedUrl)==null?void 0:i.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||(r=this.fields)!=null&&r.some(s=>s.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,i){e&&e.forEach(r=>{var n;const s=(n=r.prototype)==null?void 0:n.attributes;s&&i&&delete s[i]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new P("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new P("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(i=>{i.layer=this,i.sourceLayer=this}),this.addHandles([e.on("after-add",i=>{i.item.layer=this,i.item.sourceLayer=this}),e.on("after-remove",i=>{i.item.layer=null,i.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(i=>{i.layer=null,i.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};c([f({clonable:!1,readOnly:!0})],he.prototype,"_titleCreator",null),c([f(JEe)],he.prototype,"attributeTableTemplate",void 0),c([te("service","capabilities")],he.prototype,"readCapabilities",null),c([f({json:{origins:{"web-scene":{write:!1}},write:!0}})],he.prototype,"charts",void 0),c([f({readOnly:!0})],he.prototype,"createQueryVersion",null),c([f({json:{read:{source:"layerDefinition.copyrightText"}}})],he.prototype,"copyright",void 0),c([f({json:{read:{source:"layerDefinition.displayField"}}})],he.prototype,"displayField",void 0),c([f({types:Ff,readOnly:!0})],he.prototype,"defaultSymbol",void 0),c([f({type:Ao})],he.prototype,"dynamicDataSource",void 0),c([f({type:Boolean})],he.prototype,"editingEnabled",null),c([te(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],he.prototype,"readEditingEnabled",null),c([te("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],he.prototype,"readEditingEnabledFromWebMap",null),c([ne(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],he.prototype,"writeEditingEnabled",null),c([ne("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],he.prototype,"writeEditingEnabledToWebMap",null),c([f({readOnly:!0})],he.prototype,"effectiveEditingEnabled",null),c([f({clonable:!1,readOnly:!0})],he.prototype,"featureTitleFields",null),c([f({...q$.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:B$}}}}})],he.prototype,"fields",void 0),c([f(q$.fieldsIndex)],he.prototype,"fieldsIndex",void 0),c([f({type:zIe,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],he.prototype,"formTemplate",void 0),c([f({json:{read:{source:"layerDefinition.extent"}}})],he.prototype,"fullExtent",void 0),c([f({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:B$,writer(t,e,i){const r=t?Ek.toJSON(t):null;r&&ti(i,r,e)}}}},read:{source:"layerDefinition.geometryType",reader:Ek.read}}})],he.prototype,"geometryType",void 0),c([f({json:{read:{source:"layerDefinition.hasM"}}})],he.prototype,"hasM",void 0),c([f({json:{read:{source:"layerDefinition.hasZ"}}})],he.prototype,"hasZ",void 0),c([f(HEe)],he.prototype,"id",void 0),c([f({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],he.prototype,"infoFor3D",void 0),c([f({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],he.prototype,"isTable",void 0),c([te("service","isTable",["type","geometryType"]),te("isTable",["layerDefinition.type","layerDefinition.geometryType"])],he.prototype,"readIsTable",null),c([ne("web-map","isTable")],he.prototype,"writeIsTable",null),c([f($S)],he.prototype,"labelsVisible",void 0),c([f({type:[Jt],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:dU,write:!1}},name:"layerDefinition.drawingInfo.labelingInfo",read:dU,write:{layerContainerTypes:Vt}}})],he.prototype,"labelingInfo",void 0),c([f((()=>{const t=z(GEe);return t.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(e,i,r){ti(r,X7(e),i)}}},t})())],he.prototype,"opacity",void 0),c([f(BEe)],he.prototype,"legendEnabled",void 0),c([f({type:["show","hide"],json:(()=>{const t=z(sse.json);return t.origins["portal-item"]={read:!1,write:!1},t})()})],he.prototype,"listMode",void 0),c([te("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],he.prototype,"readGlobalIdField",null),c([f({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:B$}}}}})],he.prototype,"objectIdField",void 0),c([te("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],he.prototype,"readObjectIdField",null),c([f({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:Vt}}})],he.prototype,"operationalLayerType",void 0),c([f(q$.outFields)],he.prototype,"outFields",void 0),c([f({readOnly:!0})],he.prototype,"parsedUrl",null),c([f({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],he.prototype,"path",void 0),c([f(xS)],he.prototype,"popupEnabled",void 0),c([f({type:v1,json:{name:"popupInfo",write:!0}})],he.prototype,"popupTemplate",void 0),c([f({readOnly:!0})],he.prototype,"defaultPopupTemplate",null),c([f({types:v3,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:BAe,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:Vt,overridePolicy:(t,e,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema,layerContainerTypes:Vt})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(t,e,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema,layerContainerTypes:Vt})}}})],he.prototype,"renderer",null),c([te("service","renderer",["drawingInfo.renderer","defaultSymbol"]),te("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],he.prototype,"readRenderer",null),c([f()],he.prototype,"resourceInfo",void 0),c([f((()=>{const t=z(jEe);return t.json.origins["portal-item"]={read:!1,write:!1},t})())],he.prototype,"screenSizePerspectiveEnabled",void 0),c([f({clonable:!1})],he.prototype,"source",null),c([Xe("source")],he.prototype,"castSource",null),c([te("portal-item","source",["featureSet"]),te("web-map","source",["featureSet"])],he.prototype,"readSource",null),c([f({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],he.prototype,"spatialReference",void 0),c([f({type:Number})],he.prototype,"subtypeCode",void 0),c([f({type:[Pl]})],he.prototype,"templates",void 0),c([te("templates",["editFieldsInfo","creatorField","editorField","templates"])],he.prototype,"readTemplates",null),c([f({type:Er})],he.prototype,"timeInfo",void 0),c([f()],he.prototype,"title",void 0),c([te("service","title",["name"]),te("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],he.prototype,"readTitle",null),c([te("web-map","title",["layerDefinition.name","title"])],he.prototype,"readTitleFromWebMap",null),c([f({type:String})],he.prototype,"sublayerTitleMode",void 0),c([f({json:{read:!1}})],he.prototype,"type",void 0),c([f({type:String})],he.prototype,"typeIdField",void 0),c([te("service","typeIdField"),te("typeIdField",["layerDefinition.typeIdField"])],he.prototype,"readTypeIdField",null),c([f({type:[Il]})],he.prototype,"types",void 0),c([te("service","types",["types"]),te("types",["layerDefinition.types"])],he.prototype,"readTypes",null),c([f({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility",layerContainerTypes:Vt}}}}})],he.prototype,"visible",void 0),c([te("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],he.prototype,"readVisible",null),he=c([E("esri.layers.FeatureLayer")],he);const Zat=Object.freeze(Object.defineProperty({__proto__:null,get default(){return he}},Symbol.toStringTag,{value:"Module"}));let Su=class extends B{constructor(e){super(e),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};c([f({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.moment=t?t.getTime():null}}}})],Su.prototype,"moment",void 0),c([f({type:Boolean,json:{write:!0}})],Su.prototype,"fullUpdate",void 0),c([f({type:Boolean,json:{write:!0}})],Su.prototype,"validateErrorsCreated",void 0),c([f({type:Boolean,json:{write:!0}})],Su.prototype,"exceededTransferLimit",void 0),c([f({type:[Object],json:{write:!0}})],Su.prototype,"serviceEdits",void 0),c([f({type:[Object],json:{write:!0}})],Su.prototype,"discoveredSubnetworks",void 0),Su=c([E("esri.rest.networks.support.ValidateNetworkTopologyResult")],Su);const NPe=Su,DPe=ji()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let rf=class extends NPe{constructor(e){super(e),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(e){const i={...e,query:{f:"json"}},{data:r}=await it(this.statusUrl,i);return this.read(r),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(e={}){const{interval:i=1e3,statusCallback:r}=e;return new Promise((s,n)=>{this._clearTimer();const a=setInterval(()=>{this._timer||n(jt()),this.checkJobStatus().then(o=>{const{status:l}=o;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),s(this);break;case"job-waiting":case"job-executing":r&&r(this)}},o=>{this._clearTimer(),n(o)})},i);this._timer=a})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};c([f()],rf.prototype,"editsResolver",void 0),c([f({type:String,json:{write:!0}})],rf.prototype,"statusUrl",void 0),c([oe(DPe)],rf.prototype,"status",void 0),c([f({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.submissionTime=t?t.getTime():null}}}})],rf.prototype,"submissionTime",void 0),c([f({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.lastUpdatedTime=t?t.getTime():null}}}})],rf.prototype,"lastUpdatedTime",void 0),rf=c([E("esri.networks.support.TopologyValidationJobInfo")],rf);const zPe=rf;var Di;(function(t){t[t.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",t[t.RTContainment=2]="RTContainment",t[t.RTAttachment=3]="RTAttachment",t[t.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",t[t.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity"})(Di||(Di={}));const R5=new Ie({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation",path:"path",circuit:"circuit"}),Xat=new Ie({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionEdgeMidspanConnectivity:"junction-edge-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),VPe={connectivity:1,"junction-junction-connectivity":1,containment:2,attachment:3,"junction-edge-from-connectivity":4,"junction-edge-midspan-connectivity":5,"junction-edge-to-connectivity":6},Qat=new Ie({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"});function jPe(t,e,i="from"){const{fromRuleElement:r,viaRuleElement:s,toRuleElement:n}=Mne(t),a=[];switch(t.ruleType){case Di.RTContainment:case Di.RTAttachment:i==="from"&&Ro(e,r,!1)?a.push(n):i==="to"&&Ro(e,n,!1)&&a.push(r);break;case Di.RTJunctionEdgeConnectivity:case Di.RTJunctionJunctionConnectivity:Ro(e,r,!0)?a.push(n):Ro(e,n,!0)&&a.push(r);break;case Di.RTEdgeJunctionEdgeConnectivity:s&&(Ro(e,s,!0)?(a.push(r),a.push(n)):(Ro(e,r,!0)||Ro(e,n,!0))&&a.push(s));break;default:return[]}return a}function T2(t,e,i){const{fromRuleElement:r,viaRuleElement:s,toRuleElement:n}=Mne(t);switch(t.ruleType){case Di.RTContainment:case Di.RTAttachment:return O5(e,i,r,n,!1,!1);case Di.RTJunctionEdgeConnectivity:case Di.RTJunctionJunctionConnectivity:return O5(e,i,r,n,!0,!0);case Di.RTEdgeJunctionEdgeConnectivity:return O5(e,i,r,s,!0,!0)||O5(e,i,n,s,!0,!0);default:return!1}}function O5(t,e,i,r,s,n){if(!i||!r)return!1;const a=Ro(t,i,n),o=Ro(e,r,n);if(s){const l=Ro(t,r,n),u=Ro(e,i,n);return a&&o||l&&u}return a&&o}function qPe(t,e){var s;const i=(s=t.terminal)==null?void 0:s.terminalId,r=e.terminalId;return i==null&&r==null||(i===1?r==null||r===1:i===r)}function Ro(t,e,i){var n,a,o,l;const{assetGroupCode:r,assetTypeCode:s}=t;return("layerId"in t?t.layerId===((n=e.networkSource)==null?void 0:n.layerId):t.networkSourceId===((a=e.networkSource)==null?void 0:a.sourceId))&&(r==null||r===((o=e.assetGroup)==null?void 0:o.assetGroupCode))&&(s==null||s===((l=e.assetType)==null?void 0:l.assetTypeCode))&&(!i||!("terminalId"in t)||qPe(e,t))}function Mne(t){return{fromRuleElement:{networkSource:t.fromNetworkSource,assetGroup:t.fromAssetGroup,assetType:t.fromAssetType,terminal:t.fromTerminal},viaRuleElement:t.viaNetworkSource?{networkSource:t.viaNetworkSource,assetGroup:t.viaAssetGroup,assetType:t.viaAssetType,terminal:t.viaTerminal}:void 0,toRuleElement:{networkSource:t.toNetworkSource,assetGroup:t.toAssetGroup,assetType:t.toAssetType,terminal:t.toTerminal}}}function D0(t){var s;let e=null,i=null,r=null;if(oee(t))e=rA(t),[i,r]=BPe(t);else if(jl(t)){e=((s=t.parent)==null?void 0:s.layerId)??null;const[n]=D8(t);n===t.subtypeField&&(i=t.subtypeCode)}else e=t.layerId??null;return{layerId:e,assetGroupCode:i,assetTypeCode:r}}function rA(t){var r;const{sourceLayer:e}=t;let i;return pK(e)?i=e.layerId:jl(e)&&(i=(r=e.parent)==null?void 0:r.layerId),i??null}function BPe(t){const[e,i]=D8(t.sourceLayer);return[e?t.attributes[e]:null,i?t.attributes[i]:null]}function D8(t){return!t||!("fieldsIndex"in t)?[null,null]:[t.fieldsIndex.normalizeFieldName("assetGroup")??null,t.fieldsIndex.normalizeFieldName("assetType")??null]}async function mU(t,e){if(t==="Utility Network Layer"){const{default:i}=await R(()=>Promise.resolve().then(()=>iLe),void 0);return new i({layerUrl:e})}return null}async function UPe(t){var a;let e="portalItem"in t?t:{portalItem:t};!e.portalItem||e.portalItem instanceof ke||(e={...e,portalItem:new ke(e.portalItem)});const i=e.portalItem;if(await i.load(),i.type!=="Feature Service")throw new P("portal:unknown-item-type","Unknown item type '${type}'",{type:i.type});const r=i.url,s=await it(r,{responseType:"json",query:{f:"json"}}),n="Network Layer";if((a=s.data.type)!=null&&a.includes(n))return mU(s.data.type,r);if(s.data.layers){const o=s.data.layers.find(l=>l.type.includes(n));if(o){const l=`${r}/${o.id}`;return mU(o.type,l)}}return null}let Gi=class extends vS(lr){static fromPortalItem(e){return UPe(e)}constructor(e){super(e),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._sourceIdByLayerId=new Map,this._layerIdBySourceId=new Map,this._applyEditsHandler=i=>{const{serviceUrl:r,gdbVersion:s,result:n}=i,a=r===this.featureServiceUrl,o=gw(r,s,this.gdbVersion);a&&o&&n.then(l=>{_6(r,s)&&(this.historicMoment=l.historicMoment)})},this._updateMomentHandler=i=>{const{serviceUrl:r,gdbVersion:s,moment:n}=i,a=r===this.featureServiceUrl,o=gw(r,s,this.gdbVersion);a&&o&&(this.historicMoment=n)},this.when().then(()=>{this.addHandles([Yre(this._applyEditsHandler),Xre(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(e=>{tr(e)||W.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}get datasetName(){var e;return((e=this.dataElement)==null?void 0:e.name)??null}get owner(){var e;return((e=this.dataElement)==null?void 0:e.userIdentity)??null}get schemaGeneration(){var e;return((e=this.dataElement)==null?void 0:e.schemaGeneration)??null}get parsedUrl(){return Si(this.layerUrl)}get featureServiceUrl(){return zc(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return zc(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}async load(e){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),e)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,e)),this}getLayerIdBySourceId(e){if(!this.dataElement)return null;const i=this._layerIdBySourceId.get(e);if(i!=null)return i;const r=this.dataElement.domainNetworks,s=this._traverseNetworkSources(r,this._layerIdBySourceId,"sourceId","layerId",e);return s>=0?s:null}getSourceIdByLayerId(e){if(!this.dataElement)return null;const i=this._sourceIdByLayerId.get(e);if(i!=null)return i;const r=this.dataElement.domainNetworks,s=this._traverseNetworkSources(r,this._sourceIdByLayerId,"layerId","sourceId",e);return s>=0?s:null}getObjectIdsFromElements(e){const i=[],r=new Map;for(const n of e){const a=this.getLayerIdBySourceId(n.networkSourceId);if(a==null)continue;let o=r.get(a);o===void 0&&(o=[]),o.push(n.objectId),r.set(a,o)}const s=this.featureServiceUrl;return r.forEach((n,a)=>i.push({layerUrl:`${s}/${a}`,objectIds:n})),i}async queryNamedTraceConfigurations(e,i){var o;const[{queryNamedTraceConfigurations:r},{default:s}]=await Promise.all([R(()=>import("./queryNamedTraceConfigurations-CRi6TskR.js"),[]),R(()=>import("./QueryNamedTraceConfigurationsParameters-CgV4UGNO.js"),[])]),n=this.networkServiceUrl,a=s.from(e);return(o=await r(n,a,{...i}))==null?void 0:o.namedTraceConfigurations}async validateTopology(e,i){var d,h,p;if(!e.validateArea)throw new P("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:r},{default:s}]=await Promise.all([R(()=>import("./validateNetworkTopology-CsWzgJFb.js"),[]),R(()=>import("./ValidateNetworkTopologyParameters-KdRyofRi.js"),[])]),n=s.from(e);_6(this.featureServiceUrl,this.gdbVersion||null)?(n.sessionID=KC,await Iq(this.featureServiceUrl,this.gdbVersion,!0)):n.sessionID=null,n.gdbVersion=this.gdbVersion;const a=this.networkServiceUrl,o=this.featureServiceUrl,l=Eq(o,null,this.gdbVersion,!0),u=await r(a,n,{...i});if(u!=null&&u.serviceEdits){const m=[];for(const g of u.serviceEdits){const{editedFeatures:b}=g,v=b!=null&&b.spatialReference?new le(b.spatialReference):null;m.push({layerId:g.layerId,editedFeatures:{adds:((d=b==null?void 0:b.adds)==null?void 0:d.map(w=>F5(w,v)))||[],updates:((h=b==null?void 0:b.updates)==null?void 0:h.map(w=>({original:F5(w[0],v),current:F5(w[1],v)})))||[],deletes:((p=b==null?void 0:b.deletes)==null?void 0:p.map(w=>F5(w,v)))||[],spatialReference:v}})}l.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:m,exceededTransferLimit:!1,historicMoment:u.moment})}return u}async submitTopologyValidationJob(e,i){let r=null;if(!e.validateArea)throw new P("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!this.gdbVersion){const d=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");r=(await it(d,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}const[{submitValidateNetworkTopologyJob:s},{default:n}]=await Promise.all([R(()=>import("./validateNetworkTopology-CsWzgJFb.js"),[]),R(()=>import("./ValidateNetworkTopologyParameters-KdRyofRi.js"),[])]),a=n.from(e);_6(this.featureServiceUrl,this.gdbVersion||null)?(a.sessionID=KC,await Iq(this.featureServiceUrl,this.gdbVersion,!0)):a.sessionID=null,a.gdbVersion=this.gdbVersion||r;const o=this.networkServiceUrl,l=this.featureServiceUrl?Eq(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,u=await s(o,a,{...i});return new zPe({statusUrl:u,editsResolver:l})}getSourceTypeById(e){if(!this.dataElement)return null;for(const i of this.dataElement.domainNetworks)for(const r of[i.edgeSources??[],i.junctionSources??[]])for(const s of r)if(s.sourceId===e)return r===i.edgeSources?"edge":"junction";return null}_traverseNetworkSources(e,i,r,s,n){for(const a of e)for(const o of[a.edgeSources??[],a.junctionSources??[]])for(const l of o)if(l[r]===n)return i.set(n,l[s]),l[s];return-1}async _fetchLayerMetaData(e,i){const r=await it(e,{responseType:"json",query:{f:"json"},...i});this.sourceJSON=r.data,this.read(r.data,{origin:"service"})}async _fetchDataElement(e,i,r){if(this.dataElement)return;const s=await it(`${e}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([i]),f:"json"},...r}).then(n=>{var a;return(a=n.data.layerDataElements)==null?void 0:a[0]});s&&this.read(s,{origin:"service"})}};function F5(t,e){return new mt({attributes:t.attributes,geometry:Xa({...t.geometry,spatialReference:e})})}c([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],Gi.prototype,"id",void 0),c([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],Gi.prototype,"title",void 0),c([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],Gi.prototype,"layerUrl",void 0),c([f({type:Object,json:{origins:{service:{read:!0}},read:!1}})],Gi.prototype,"dataElement",void 0),c([f({type:qe,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],Gi.prototype,"fullExtent",void 0),c([f({type:le,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],Gi.prototype,"spatialReference",void 0),c([f({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],Gi.prototype,"type",void 0),c([f({readOnly:!0})],Gi.prototype,"datasetName",null),c([f({readOnly:!0})],Gi.prototype,"owner",null),c([f({readOnly:!0})],Gi.prototype,"schemaGeneration",null),c([f({readOnly:!0})],Gi.prototype,"parsedUrl",null),c([f({readOnly:!0})],Gi.prototype,"featureServiceUrl",null),c([f({readOnly:!0})],Gi.prototype,"networkServiceUrl",null),c([f({readOnly:!0})],Gi.prototype,"layerId",null),c([f()],Gi.prototype,"sourceJSON",void 0),c([f({readOnly:!0})],Gi.prototype,"networkSystemLayers",null),c([f()],Gi.prototype,"gdbVersion",void 0),c([f({type:Date})],Gi.prototype,"historicMoment",void 0),Gi=c([E("esri.networks.Network")],Gi);const GPe=Gi;let sf=class extends B.JSONSupportMixin(lr){constructor(e){super(e),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=it}initialize(){}async load(e){const i=this.rulesLayer.load(e).then(()=>this._initializeRulesTable());return this.addResolvingPromise(i),this}getFeaturesCanAssociateWithClause(e,i,r){const s=new Map,[n,a]=D8(e.sourceLayer);if(!n||!a)return"";const o=D0(e),l=D0(i);r.forEach(d=>{const{type:h,direction:p}=d;this._getRulesForAssociationType(h).forEach(m=>{jPe(m,o,p).filter(g=>{var b;return((b=g.networkSource)==null?void 0:b.layerId)===l.layerId}).forEach(g=>{var w,_;const b=(w=g.assetGroup)==null?void 0:w.assetGroupCode,v=(_=g.assetType)==null?void 0:_.assetTypeCode;if(b!=null&&v!=null){const S=s.get(b)??new Set;S.add(v),s.set(b,S)}})})});let u=[];return this._mergeAssetCodes(s).forEach((d,h)=>{const p=`${n} IN (${h})`,m=aee(a,[...d]);p&&m&&u.push(ow(p,m))}),u.length>1&&(u=u.map(d=>`(${d})`)),u.join(" OR ")}getFeaturesCanAssociateWith(e,i,r){return rA(e)==null?[]:i.filter(s=>this.canAssociateFeatures(e,s,r))}canAssociateFeatures(e,i,r){if(!this._canSupportAssociations([e,i]))return!1;const s=D0(e),n=D0(i);return r.some(a=>{const{type:o,direction:l}=a;return this._getRulesForAssociationType(o).some(u=>l==="to"?T2(u,n,s):T2(u,s,n))})}getLayersCanAssociateWith(e,i,r){return rA(e)==null?[]:i.filter(s=>this.canAssociateFeatureToLayer(e,s,r))}canAssociateFeatureToLayer(e,i,r){if(!this._canSupportAssociations([e,i]))return!1;const s=D0(e),n=D0(i);return r.some(a=>{const{type:o,direction:l}=a;return this._getRulesForAssociationType(o).some(u=>l==="to"?T2(u,n,s):T2(u,s,n))})}getFeatureSQL(e,i){var u,d;const r=e.layerId.toString(),s=(u=e.fieldsIndex)==null?void 0:u.normalizeFieldName("assetGroup"),n=(d=e.fieldsIndex)==null?void 0:d.normalizeFieldName("assetType"),a=s?i.attributes[s]:null,o=n?i.attributes[n]:null,l=this.rulesHash[r];if(l){const h=l.assetGroupHash[a];if(h)return h.assetTypeHash[o]||null}return null}async _initializeRulesTable(){var s,n,a,o,l,u,d,h,p,m,g;const e={};let i;(function(b){b[b.from=0]="from",b[b.to=1]="to",b[b.via=2]="via"})(i||(i={}));const r=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];this.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(const b of this.rules){if(b.ruleType===Di.RTAttachment){this.rulesCategorized.attachment.push(b);continue}if(b.ruleType===Di.RTContainment){this.rulesCategorized.containment.push(b);continue}if(b.ruleType===Di.RTJunctionJunctionConnectivity){this.rulesCategorized.connectivity.push(b);continue}this.rulesCategorized.connectivity.push(b);let v=[[i.from,i.to],[i.to,i.from]];b.ruleType===Di.RTEdgeJunctionEdgeConnectivity&&(v=[[i.from,i.via],[i.via,i.from],[i.to,i.via],[i.via,i.to]]);for(const w of v){const _=w.shift(),S=w.shift();let T=!1;switch(b.ruleType){case Di.RTEdgeJunctionEdgeConnectivity:T=_===i.from||_===i.to;break;case Di.RTJunctionEdgeConnectivity:T=_===i.to}const C=r[_],A=((s=b[C.networkSourceId])==null?void 0:s.layerId.toString())??"",O=(a=(n=b[C.assetGroupId])==null?void 0:n.assetGroupCode)==null?void 0:a.toString(),L=b[C.assetTypeId],F=(o=L==null?void 0:L.assetTypeCode)==null?void 0:o.toString(),D=r[S],G=((l=b[D.networkSourceId])==null?void 0:l.layerId.toString())??"",H=(d=(u=b[D.assetGroupId])==null?void 0:u.assetGroupCode)==null?void 0:d.toString(),se=b[D.assetTypeId],X=(h=se==null?void 0:se.assetTypeCode)==null?void 0:h.toString(),ue=e[A]??{assetGroupHash:{}};if(!(O&&F&&H&&X))continue;const xe=ue.assetGroupHash[O]??{assetTypeHash:{}},be=xe.assetTypeHash[F]??{};if(be[G]=be[G]??{},T){be[A]=be[A]??{};const at=ow(`assetgroup = ${O}`,`assettype = ${F}`);(se==null?void 0:se.connectivityPolicy)==="esriNECPEndVertex"?be[A].endVertex=(p=be[A])!=null&&p.endVertex?`${be[A].endVertex}`:`(${at})`:be[A].anyVertex=be[A].anyVertex?`${be[A].anyVertex}`:`(${at})`}const ye=ow(`assetgroup = ${H}`,`assettype = ${X}`);(se==null?void 0:se.connectivityPolicy)==="esriNECPEndVertex"?be[G].endVertex=(m=be[G])!=null&&m.endVertex?_E(be[G].endVertex,ye):`(${ye})`:be[G].anyVertex=(g=be[G])!=null&&g.anyVertex?_E(be[G].anyVertex,ye):`(${ye})`,xe.assetTypeHash[F]=be,ue.assetGroupHash[O]=xe,e[A]=ue}}this._set("rulesHash",e)}_getRulesForAssociationType(e){const{rulesCategorized:i}=this;switch(e){case"attachment":return i.attachment;case"containment":return i.containment;case"connectivity":case"junction-junction-connectivity":return i.connectivity.filter(r=>r.ruleType===Di.RTJunctionJunctionConnectivity);case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return i.connectivity.filter(r=>r.ruleType===Di.RTJunctionEdgeConnectivity||r.ruleType===Di.RTEdgeJunctionEdgeConnectivity);default:return[]}}_areSetsEqual(e,i){if(e.size!==i.size)return!1;for(const r of e)if(!i.has(r))return!1;return!0}_mergeAssetCodes(e){const i=new Map,r=new Set;for(const[s,n]of e){const a=new Set([s]);for(const[l,u]of e)s!==l&&!r.has(l)&&this._areSetsEqual(n,u)&&(a.add(l),r.add(l));const o=Array.from(a).sort().join(",");i.set(o,n)}return i}_canSupportAssociations(e){return e.every(i=>{const r=oee(i)?i.sourceLayer:i,[s,n]=D8(r);return s!=null&&n!=null})}};c([f({constructOnly:!0})],sf.prototype,"rulesLayer",void 0),c([f({constructOnly:!0})],sf.prototype,"rules",void 0),c([f({readOnly:!0})],sf.prototype,"rulesHash",void 0),c([f()],sf.prototype,"rulesCategorized",void 0),c([f({constructOnly:!0})],sf.prototype,"request",void 0),sf=c([E("esri.networks.RulesTable")],sf);let xa=class extends B{constructor(e){super(e),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};c([f({type:[Object],json:{write:!0}})],xa.prototype,"conditionBarriers",void 0),c([f({type:[Object],json:{write:!0}})],xa.prototype,"outputConditions",void 0),c([f({type:[Object],json:{write:!0}})],xa.prototype,"functions",void 0),c([f({type:[Object],json:{write:!0}})],xa.prototype,"functionBarriers",void 0),c([f({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],xa.prototype,"traversabilityScope",void 0),c([f({type:String,json:{write:!0}})],xa.prototype,"shortestPathNetworkAttributeName",void 0),c([f({type:Boolean,json:{write:!0}})],xa.prototype,"includeBarriers",void 0),c([f({type:Boolean,json:{write:!0}})],xa.prototype,"validateConsistency",void 0),c([f({type:Boolean,json:{write:!0}})],xa.prototype,"ignoreBarriersAtStartingPoints",void 0),xa=c([E("esri.networks.support.TraceConfiguration")],xa);const rO=xa;let Dt=class extends rO{constructor(e){super(e),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.circuitName=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.inferConnectivity=null,this.maxHops=null,this.nearestNeighbor=null,this.numPaths=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};c([f({type:[Object],json:{write:!0}})],Dt.prototype,"filterBarriers",void 0),c([f({type:String,json:{write:!0}})],Dt.prototype,"arcadeExpressionBarrier",void 0),c([f({type:String,json:{write:!0}})],Dt.prototype,"circuitName",void 0),c([f({type:String,json:{write:!0}})],Dt.prototype,"domainNetworkName",void 0),c([f({type:String,json:{write:!0}})],Dt.prototype,"filterBitsetNetworkAttributeName",void 0),c([f({type:[Object],json:{write:!0}})],Dt.prototype,"filterFunctionBarriers",void 0),c([f({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],Dt.prototype,"filterScope",void 0),c([f({type:Boolean,json:{write:!0}})],Dt.prototype,"includeContainers",void 0),c([f({type:Boolean,json:{write:!0}})],Dt.prototype,"includeContent",void 0),c([f({type:Boolean,json:{write:!0}})],Dt.prototype,"includeIsolated",void 0),c([f({type:Boolean,json:{write:!0}})],Dt.prototype,"includeStructures",void 0),c([f({type:Boolean,json:{write:!0}})],Dt.prototype,"allowIndeterminateFlow",void 0),c([f({type:Boolean,json:{write:!0}})],Dt.prototype,"includeUpToFirstSpatialContainer",void 0),c([f({type:Boolean,json:{write:!0}})],Dt.prototype,"inferConnectivity",void 0),c([f({type:Number,json:{write:!0}})],Dt.prototype,"maxHops",void 0),c([f({type:Object,json:{write:!0}})],Dt.prototype,"nearestNeighbor",void 0),c([f({type:Number,json:{write:!0}})],Dt.prototype,"numPaths",void 0),c([f({type:[Object],json:{write:!0}})],Dt.prototype,"outputFilterCategories",void 0),c([f({type:[Object],json:{write:!0}})],Dt.prototype,"outputFilters",void 0),c([f({type:[Object],json:{write:!0}})],Dt.prototype,"propagators",void 0),c([f({type:String,json:{write:!0}})],Dt.prototype,"subnetworkName",void 0),c([f({type:String,json:{write:!0}})],Dt.prototype,"targetTierName",void 0),c([f({type:String,json:{write:!0}})],Dt.prototype,"diagramTemplateName",void 0),c([f({type:String,json:{write:!0}})],Dt.prototype,"tierName",void 0),c([f({type:Boolean,json:{write:!0}})],Dt.prototype,"validateLocatability",void 0),Dt=c([E("esri.networks.support.UNTraceConfiguration")],Dt);const HPe=Dt;let ln=class extends gC{constructor(e){super(e),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(e,i){return e.tierName!==void 0?HPe.fromJSON(e):rO.fromJSON(e)}};c([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],ln.prototype,"globalId",void 0),c([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],ln.prototype,"title",void 0),c([f({type:rO,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ln.prototype,"traceConfiguration",void 0),c([te("service","traceConfiguration")],ln.prototype,"readTraceConfiguration",null),c([f({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ln.prototype,"creationDate",void 0),c([f({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ln.prototype,"creator",void 0),c([f({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ln.prototype,"description",void 0),c([f({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],ln.prototype,"minStartingPoints",void 0),c([f({json:{origins:{service:{read:!0,write:!0}},read:!1}})],ln.prototype,"resultTypes",void 0),c([f({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],ln.prototype,"tags",void 0),c([f({type:R5.apiValues,json:{type:R5.jsonValues,origins:{service:{read:R5.read,write:R5.write}},read:!1}})],ln.prototype,"traceType",void 0),ln=c([E("esri.networks.support.NamedTraceConfiguration")],ln);const WPe=ln;function ZPe(t){var m,g,b,v,w,_,S,T,C,A,O;const e=t==null?void 0:t.fieldsIndex,i="fromnetworksourceid",r="fromglobalid",s="fromterminalid",n="tonetworksourceid",a="toglobalid",o="toterminalid",l="status",u="associationtype",d="iscontentvisible",h="percentalong",p="globalid";return{fromNetworkSourceId:((m=e==null?void 0:e.get(i))==null?void 0:m.name)??i,fromGlobalId:((g=e==null?void 0:e.get(r))==null?void 0:g.name)??r,fromTerminalId:((b=e==null?void 0:e.get(s))==null?void 0:b.name)??s,toNetworkSourceId:((v=e==null?void 0:e.get(n))==null?void 0:v.name)??n,toGlobalId:((w=e==null?void 0:e.get(a))==null?void 0:w.name)??a,toTerminalId:((_=e==null?void 0:e.get(o))==null?void 0:_.name)??o,status:((S=e==null?void 0:e.get(l))==null?void 0:S.name)??l,associationType:((T=e==null?void 0:e.get(u))==null?void 0:T.name)??u,isContentVisible:((C=e==null?void 0:e.get(d))==null?void 0:C.name)??d,percentAlong:((A=e==null?void 0:e.get(h))==null?void 0:A.name)??h,globalId:((O=e==null?void 0:e.get((t==null?void 0:t.globalIdField)??p))==null?void 0:O.name)??p}}function sot(t,e){if(e.type!=="feature"&&e.type!=="subtype-group")return[];if(!e.url)return[];const i="utilityNetworks"in t.map?t.map.utilityNetworks??[]:[];for(const r of i)if(r.isUtilityLayer(e)){const s=e.fieldsIndex.get("assetgroup"),n=e.fieldsIndex.get("assettype");return[s==null?void 0:s.name,n==null?void 0:n.name].filter(a=>a!=null)}return[]}let $a=class extends ce{constructor(e){super(e),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){var e;(e=this.associationsTable)==null||e.destroy()}async loadAssociationsTable(){if(!this.associationsTable){const{associationsTableUrl:e}=this;if(!e)throw new P("utility-network-system-layers:missing-associations-table-url","Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new he({url:e})}return await this.associationsTable.load(),this.associationsTable}};c([f({constructOnly:!0})],$a.prototype,"rulesTableId",void 0),c([f({constructOnly:!0})],$a.prototype,"rulesTableUrl",void 0),c([f({constructOnly:!0})],$a.prototype,"subnetworksTableId",void 0),c([f({constructOnly:!0})],$a.prototype,"subnetworksTableUrl",void 0),c([f({constructOnly:!0})],$a.prototype,"dirtyAreasLayerId",void 0),c([f({constructOnly:!0})],$a.prototype,"dirtyAreasLayerUrl",void 0),c([f()],$a.prototype,"associationsTable",void 0),c([f({constructOnly:!0})],$a.prototype,"associationsTableId",void 0),c([f({constructOnly:!0})],$a.prototype,"associationsTableUrl",void 0),$a=c([E("esri.networks.support.NetworkSystemLayers")],$a);let Oy=class extends B{constructor(e){super(e),this.id=null,this.name=null}};c([f({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],Oy.prototype,"id",void 0),c([f({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],Oy.prototype,"name",void 0),c([f({type:Boolean,json:{write:!0}})],Oy.prototype,"isUpstreamTerminal",void 0),Oy=c([E("esri.networks.support.Terminal")],Oy);const JPe=Oy,N5=new Ie({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let Ou=class extends B{constructor(e){super(e),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};c([f({type:String,json:{write:!0}})],Ou.prototype,"defaultConfiguration",void 0),c([f({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],Ou.prototype,"id",void 0),c([f({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],Ou.prototype,"name",void 0),c([f({type:[JPe],json:{write:!0}})],Ou.prototype,"terminals",void 0),c([f({type:N5.apiValues,json:{type:N5.jsonValues,read:N5.read,write:N5.write}})],Ou.prototype,"traversabilityModel",void 0),Ou=c([E("esri.networks.support.TerminalConfiguration")],Ou);let Fy=class extends B{constructor(e){super(e),this.line=null,this.multipoint=null,this.polygon=null}};c([f({type:wi,json:{write:!0},readOnly:!0})],Fy.prototype,"line",void 0),c([f({type:Fa,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],Fy.prototype,"multipoint",void 0),c([f({type:Ut,json:{write:!0},readOnly:!0})],Fy.prototype,"polygon",void 0),Fy=c([E("esri.rest.networks.support.AggregatedGeometry")],Fy);const YPe=Fy;let Os=class extends B{constructor(e){super(e),this.type="networkElement",this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};c([f({json:{write:!1}})],Os.prototype,"type",void 0),c([f({type:Number,json:{write:!0}})],Os.prototype,"assetGroupCode",void 0),c([f({type:Number,json:{write:!0}})],Os.prototype,"assetTypeCode",void 0),c([f({type:String,json:{write:!0}})],Os.prototype,"globalId",void 0),c([f({type:Number,json:{write:!0}})],Os.prototype,"networkSourceId",void 0),c([f({type:Number,json:{write:!0}})],Os.prototype,"objectId",void 0),c([f({type:Number,json:{write:!0}})],Os.prototype,"positionFrom",void 0),c([f({type:Number,json:{write:!0}})],Os.prototype,"positionTo",void 0),c([f({type:Number,json:{write:!0}})],Os.prototype,"terminalId",void 0),Os=c([E("esri.rest.networks.support.NetworkElement")],Os);let Bl=class extends Os{constructor(e){super(e),this.type="telecomNetworkElement",this.firstUnit=null,this.numUnits=null}};c([f({json:{write:!1}})],Bl.prototype,"type",void 0),c([f({json:{write:!0}})],Bl.prototype,"firstUnit",void 0),c([f({json:{write:!0}})],Bl.prototype,"numUnits",void 0),Bl=c([E("esri.rest.networks.support.TelecomNetworkElement")],Bl);let xu=class extends B{constructor(e){super(e),this.edgeElement=null,this.junctionElement=null}readEdgeElement(e,i){return new Bl({networkSourceId:i.edgeNetworkSourceId,globalId:i.edgeGlobalId,objectId:i.edgeObjectId,positionFrom:i.edgePositionFrom,positionTo:i.edgePositionTo,firstUnit:i.edgeFirstUnit,numUnits:i.edgeNumUnits})}writeEdgeElement(e,i){i.edgeNetworkSourceId=e.networkSourceId,i.edgeGlobalId=e.globalId,i.edgeObjectId=e.objectId,i.edgePositionFrom=e.positionFrom,i.edgePositionTo=e.positionTo,i.edgeFirstUnit=e.firstUnit,i.edgeNumUnits=e.numUnits}readJunctionElement(e,i){return new Bl({networkSourceId:i.junctionNetworkSourceId,globalId:i.junctionGlobalId,objectId:i.junctionObjectId,terminalId:i.junctionTerminalId,firstUnit:i.junctionFirstUnit,numUnits:i.junctionNumUnits})}writeJunctionElement(e,i){i.junctionNetworkSourceId=e.networkSourceId,i.junctionGlobalId=e.globalId,i.junctionObjectId=e.objectId,i.junctionTerminalId=e.terminalId,i.junctionFirstUnit=e.firstUnit,i.junctionNumUnits=e.numUnits}};c([f({type:Bl,json:{read:{source:["edgeNetworkSourceId","edgeGlobalId","edgeObjectId","edgePositionFrom","edgePositionTo","edgeFirstUnit","edgeNumUnits"]},write:!0}})],xu.prototype,"edgeElement",void 0),c([te("edgeElement")],xu.prototype,"readEdgeElement",null),c([ne("edgeElement")],xu.prototype,"writeEdgeElement",null),c([f({type:Bl,json:{read:{source:["junctionNetworkSourceId","junctionGlobalId","junctionObjectId","junctionTerminalId","junctionFirstUnit","junctionNumUnits"]},write:!0}})],xu.prototype,"junctionElement",void 0),c([te("junctionElement")],xu.prototype,"readJunctionElement",null),c([ne("junctionElement")],xu.prototype,"writeJunctionElement",null),xu=c([E("esri.rest.networks.support.CircuitPathConnectivityElement")],xu);const XPe=xu,D5=new Ie({startingPoint:"starting-point",barrier:"barrier",stoppingPoint:"stopping-point"});let ml=class extends B{constructor(e){super(e),this.globalId=null,this.isFilterBarrier=!1,this.percentAlong=null,this.terminalId=null,this.type=null,this.firstUnit=null,this.numUnits=null}};c([f({type:String,json:{write:!0}})],ml.prototype,"globalId",void 0),c([f({type:Boolean,json:{write:!0}})],ml.prototype,"isFilterBarrier",void 0),c([f({type:Number,json:{write:!0}})],ml.prototype,"percentAlong",void 0),c([f({type:Number,json:{write:!0}})],ml.prototype,"terminalId",void 0),c([f({type:D5.apiValues,json:{type:D5.jsonValues,read:{reader:D5.read,source:"traceLocationType"},write:{writer:D5.write,target:"traceLocationType"}}})],ml.prototype,"type",void 0),c([f({type:Number,json:{write:!0}})],ml.prototype,"firstUnit",void 0),c([f({type:Number,json:{write:!0}})],ml.prototype,"numUnits",void 0),ml=c([E("esri.rest.networks.support.TraceLocation")],ml);const yU=ml;let $u=class extends B{constructor(e){super(e),this.pathId=null,this.orderId=null,this.startingPoint=null,this.stoppingPoint=null,this.pathConnectivity=[],this.geometry=null}};c([f({type:Number,json:{write:!0}})],$u.prototype,"pathId",void 0),c([f({type:Number,json:{write:!0}})],$u.prototype,"orderId",void 0),c([f({type:yU,json:{write:!0}})],$u.prototype,"startingPoint",void 0),c([f({type:yU,json:{write:!0}})],$u.prototype,"stoppingPoint",void 0),c([f({type:[XPe],json:{write:!0}})],$u.prototype,"pathConnectivity",void 0),c([f({type:wi,json:{write:!0}})],$u.prototype,"geometry",void 0),$u=c([E("esri.rest.networks.support.CircuitPath")],$u);const sO=$u;let _p=class extends B{constructor(e){super(e),this.circuit=null,this.geometry=null,this.path=null}readCircuit(e,i){var s;const r=(s=i.sections)==null?void 0:s.map(n=>({...n,path:sO.fromJSON(n.path)}));return{name:i.name,globalId:i.globalId,isSectioned:i.isSectioned,sectionOrder:i.sectionOrder,startLocation:i.startLocation,stopLocation:i.stopLocation,sections:r,subcircuits:i.subcircuits,lastVerifiedTime:i.lastVerifiedTime?new Date(i.lastVerifiedTime):null,lastExportedTime:i.lastExportedTime?new Date(i.lastExportedTime):null,circuitType:i.circuitType,status:i.status}}};c([f({type:Object,json:{write:!0,read:{source:["name","globalId","isSectioned","sectionOrder","startLocation","stopLocation","sections","subcircuits","lastVerifiedTime","lastExportedTime","circuitType","status"]}}})],_p.prototype,"circuit",void 0),c([te("circuit")],_p.prototype,"readCircuit",null),c([f({type:wi,json:{write:!0}})],_p.prototype,"geometry",void 0),c([f({type:sO,json:{write:!0}})],_p.prototype,"path",void 0),_p=c([E("esri.rest.networks.support.CircuitTraceResult")],_p);const QPe=_p;let Ny=class extends B{constructor(e){super(e),this.functionType=null,this.networkAttributeName=null,this.result=null}};c([f({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],Ny.prototype,"functionType",void 0),c([f({type:String,json:{write:!0},readOnly:!0})],Ny.prototype,"networkAttributeName",void 0),c([f({type:Number,json:{write:!0},readOnly:!0})],Ny.prototype,"result",void 0),Ny=c([E("esri.rest.networks.support.FunctionResult")],Ny);const KPe=Ny;let Zn=class extends B{constructor(e){super(e),this.aggregatedGeometry=null,this.circuits=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.paths=null,this.startingPointsIgnored=!1,this.warnings=null}readNetworkElements(e,i){return i.elements!=null?i.elements.map(r=>"firstUnit"in r&&"numUnits"in r?new Bl({...r}):new Os({...r})):[]}writeNetworkElements(e,i){i.elements=e.map(r=>r.toJSON())}};c([f({type:YPe,json:{write:!0},readOnly:!0})],Zn.prototype,"aggregatedGeometry",void 0),c([f({type:[QPe],json:{write:!0},readOnly:!0})],Zn.prototype,"circuits",void 0),c([f({type:[Os],json:{write:!0},readOnly:!0})],Zn.prototype,"elements",void 0),c([te("elements")],Zn.prototype,"readNetworkElements",null),c([ne("elements")],Zn.prototype,"writeNetworkElements",null),c([f({type:[KPe],json:{write:!0},readOnly:!0})],Zn.prototype,"globalFunctionResults",void 0),c([f({type:Boolean,json:{write:!0},readOnly:!0})],Zn.prototype,"kFeaturesForKNNFound",void 0),c([f({type:[sO],json:{write:!0},readOnly:!0})],Zn.prototype,"paths",void 0),c([f({type:Boolean,json:{write:!0},readOnly:!0})],Zn.prototype,"startingPointsIgnored",void 0),c([f({type:[String],json:{write:!0},readOnly:!0})],Zn.prototype,"warnings",void 0),Zn=c([E("esri.rest.networks.support.TraceResult")],Zn);const eLe=ji()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let Sp=class extends Zn{constructor(e){super(e),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(e){const i={...e,query:{f:"json"}},{data:r}=await it(this.statusUrl,i),s=r.traceResults?{...r.traceResults,...r}:r;return this.read(s),this}async waitForJobCompletion(e={}){const{interval:i=1e3,statusCallback:r}=e;return new Promise((s,n)=>{this._clearTimer();const a=setInterval(()=>{this._timer||n(jt()),this.checkJobStatus().then(o=>{const{status:l}=o;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),s(this);break;case"job-waiting":case"job-executing":r&&r(this)}},o=>{this._clearTimer(),n(o)})},i);this._timer=a})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};c([f({type:String,json:{write:!0}})],Sp.prototype,"statusUrl",void 0),c([oe(eLe)],Sp.prototype,"status",void 0),c([f({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.submissionTime=t?t.getTime():null}}}})],Sp.prototype,"submissionTime",void 0),c([f({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.lastUpdatedTime=t?t.getTime():null}}}})],Sp.prototype,"lastUpdatedTime",void 0),Sp=c([E("esri.networks.support.TraceJobInfo")],Sp);let yl=class extends GPe{constructor(e){super(e),this.sharedNamedTraceConfigurations=[],this.type="utility",this._terminalById=new Map,this._circuitManagerMap=new Map,this._unitIdentifierManager=null}get serviceTerritoryFeatureLayerId(){var e;return((e=this.dataElement)==null?void 0:e.serviceTerritoryFeatureLayerId)??null}get networkSystemLayers(){var e,i,r,s,n,a,o,l;return new $a({rulesTableId:(e=this.sourceJSON)==null?void 0:e.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(i=this.sourceJSON)==null?void 0:i.systemLayers.rulesTableId}`:null,subnetworksTableId:(r=this.sourceJSON)==null?void 0:r.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(s=this.sourceJSON)==null?void 0:s.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:(n=this.sourceJSON)==null?void 0:n.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${(a=this.sourceJSON)==null?void 0:a.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:(o=this.sourceJSON)==null?void 0:o.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(l=this.sourceJSON)==null?void 0:l.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){var e;return((e=this.dataElement)==null?void 0:e.terminalConfigurations.map(i=>Ou.fromJSON(i)))||[]}get domainNetworkNames(){var e;return((e=this.dataElement)==null?void 0:e.domainNetworks.map(i=>i.domainNetworkName))||[]}get _utilityLayerList(){var i,r;const e=new Set;return(r=(i=this.dataElement)==null?void 0:i.domainNetworks)==null||r.map(s=>{var n,a;(n=s==null?void 0:s.edgeSources)==null||n.map(({layerId:o,sourceId:l})=>{this._layerIdBySourceId.set(l,o),this._sourceIdByLayerId.set(o,l),e.add(o)}),(a=s==null?void 0:s.junctionSources)==null||a.map(({layerId:o,sourceId:l})=>{this._layerIdBySourceId.set(l,o),this._sourceIdByLayerId.set(o,l),e.add(o)})}),e}get hasTelecomNetwork(){var e;return((e=this.dataElement)==null?void 0:e.domainNetworks.some(i=>i.isTelecomNetwork))??!1}async load(e){return this.addResolvingPromise(super.load(e)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(e)),this}getTerminalConfiguration(e){var u,d,h,p;let i=null,r=null;const s=e.sourceLayer;let n=null;if((s==null?void 0:s.type)==="feature"){if(n=s.layerId,n===null)return null}else if((s==null?void 0:s.type)!=="subtype-sublayer"||(n=((u=s==null?void 0:s.parent)==null?void 0:u.layerId)??null,n===null))return null;const a=e.attributes;if(a==null)return null;for(const m of Object.keys(a))m.toUpperCase()==="ASSETGROUP"&&(i=e.getAttribute(m)),m.toUpperCase()==="ASSETTYPE"&&(r=e.getAttribute(m));if(!this.dataElement)return null;let o=null;const l=this.dataElement.domainNetworks;for(const m of l){const g=(d=m.junctionSources)==null?void 0:d.find(b=>b.layerId===n);if(g){const b=(h=g.assetGroups)==null?void 0:h.find(v=>v.assetGroupCode===i);if(b){const v=(p=b.assetTypes)==null?void 0:p.find(w=>w.assetTypeCode===r);if(v!=null&&v.isTerminalConfigurationSupported){o=v.terminalConfigurationId;break}}}}if(o!=null){const m=this.dataElement.terminalConfigurations,g=m==null?void 0:m.find(b=>b.terminalConfigurationId===o);return g?Ou.fromJSON(g):null}return null}getTierNames(e){var r,s;const i=(r=this.dataElement)==null?void 0:r.domainNetworks.find(n=>n.domainNetworkName===e);return((s=i==null?void 0:i.tiers)==null?void 0:s.map(n=>n.name))||[]}async getRulesTable(){return this._sharedRulesTable||(this._sharedRulesTable=this._createRulesTable()),await this._sharedRulesTable}async getCircuitManager(e){var s;if(!this.hasTelecomNetwork)return null;const i=(s=this.dataElement)==null?void 0:s.domainNetworks.find(n=>n.domainNetworkName===e&&n.isTelecomNetwork);if(!i)return null;const{default:r}=await R(()=>import("./CircuitManager-CzRd9YZF.js"),[]);return bd(this._circuitManagerMap,e,()=>new r({utilityNetwork:this,telecomDomainNetwork:i}))}async getUnitIdentifierManager(){if(!this.hasTelecomNetwork)return null;if(this._unitIdentifierManager)return this._unitIdentifierManager;const{default:e}=await R(()=>import("./UnitIdentifierManager-BBWa83l3.js"),[]);return this._unitIdentifierManager=new e({utilityNetwork:this}),this._unitIdentifierManager}getTerminalById(e){if(!this.dataElement||e==null)return null;const i=this._terminalById.get(e);return i??(this.terminalConfigurations.forEach(r=>{r.terminals.forEach(s=>{this._terminalById.set(s.id,s)})}),this._terminalById.get(e))}isUtilityLayer(e){var i,r;return"layerId"in e?this._utilityLayerList.has(e==null?void 0:e.layerId)&&(((i=e.url)==null?void 0:i.startsWith(this.featureServiceUrl))??!1):!(e.type!=="subtype-sublayer"||!e.parent)&&this._utilityLayerList.has(e.parent.layerId)&&(((r=e.parent.url)==null?void 0:r.startsWith(this.featureServiceUrl))??!1)}async queryAssociations(e,i){const[{queryAssociations:r},{default:s}]=await Promise.all([R(()=>import("./queryAssociations-BTnxRAbq.js"),__vite__mapDeps([353,354])),R(()=>import("./QueryAssociationsParameters-YNESKphx.js"),[])]),n=s.from(e);return n.gdbVersion=this.gdbVersion,n.moment=this.historicMoment,(await r(this.networkServiceUrl,n,i)).associations}async synthesizeAssociationGeometries(e){const[{synthesizeAssociationGeometries:i},{default:r}]=await Promise.all([R(()=>import("./synthesizeAssociationGeometries-D4uFzVn7.js"),__vite__mapDeps([355,354])),R(()=>import("./SynthesizeAssociationGeometriesParameters-5GEu-97z.js"),[])]),s=r.from(e);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,i(this.networkServiceUrl,s)}async trace(e){const[{trace:i},{default:r}]=await Promise.all([R(()=>import("./trace-CPMuG72q.js"),[]),R(()=>import("./TraceParameters-DMgwaxWT.js"),[])]),s=r.from(e);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,i(this.networkServiceUrl,s)}async submitTraceJob(e){const[{submitTraceJob:i},{default:r}]=await Promise.all([R(()=>import("./trace-CPMuG72q.js"),[]),R(()=>import("./TraceParameters-DMgwaxWT.js"),[])]),s=r.from(e);s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment;const n=await i(this.networkServiceUrl,s);return new Sp({statusUrl:n})}async canAddAssociation(e){const i=await this.getRulesTable();if(!i)return!1;const{fromNetworkElement:r,toNetworkElement:s}=e;if(!r||!s)return!1;await i.load();let n=null;switch(e.associationType){case"containment":n=i.rulesCategorized.containment;break;case"attachment":n=i.rulesCategorized.attachment;break;default:n=i.rulesCategorized.connectivity}return n.some(a=>T2(a,r,s))}generateAddAssociations(e){const{associationsTable:i}=this.networkSystemLayers,{fromNetworkSourceId:r,fromGlobalId:s,fromTerminalId:n,toNetworkSourceId:a,toGlobalId:o,toTerminalId:l,associationType:u,isContentVisible:d,percentAlong:h,globalId:p}=ZPe(i);return{addFeatures:e.map(m=>{var g,b,v,w,_,S;return new mt({attributes:{[r]:(g=m.fromNetworkElement)==null?void 0:g.networkSourceId,[s]:(b=m.fromNetworkElement)==null?void 0:b.globalId,[n]:(v=m.fromNetworkElement)==null?void 0:v.terminalId,[a]:(w=m.toNetworkElement)==null?void 0:w.networkSourceId,[o]:(_=m.toNetworkElement)==null?void 0:_.globalId,[l]:(S=m.toNetworkElement)==null?void 0:S.terminalId,[u]:VPe[m.associationType],[d]:m.isContentVisible==null?void 0:m.isContentVisible?1:0,[h]:m.percentAlong,[p]:m.globalId}})}),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:(i==null?void 0:i.globalIdField)??"globalid",objectIdField:(i==null?void 0:i.objectIdField)??"objectid"}}}generateDeleteAssociations(e){const{associationsTable:i,associationsTableId:r}=this.networkSystemLayers;return{deleteFeatures:e.map(s=>({globalId:s.globalId})),id:r,identifierFields:{globalIdField:(i==null?void 0:i.globalIdField)??"globalid",objectIdField:(i==null?void 0:i.objectIdField)??"objectid"}}}async loadAssociationsTable(){return this.networkSystemLayers.loadAssociationsTable()}async _loadNamedTraceConfigurationsFromNetwork(e){var s;if(((s=this.sharedNamedTraceConfigurations)==null?void 0:s.length)===0)return;const i=this.sharedNamedTraceConfigurations.map(n=>n.globalId),r=await this.queryNamedTraceConfigurations({globalIds:i},e);for(const n of this.sharedNamedTraceConfigurations){const a=r==null?void 0:r.find(o=>o.globalId===n.globalId);if(a){const o=a.write({},{origin:"service"});n.read(o,{origin:"service"})}}}async _createRulesTable(){var a;const e=this.networkSystemLayers.rulesTableUrl,i=new he({url:e});await i.load();const r=(a=this.dataElement)==null?void 0:a.domainNetworks;if(!r)return null;const s=r.flatMap(o=>[...o.edgeSources||[],...o.junctionSources||[]]),n=(await tLe(i)).map(o=>this._hydrateRuleInfo(i,s,o));return new sf({rulesLayer:i,rules:n})}_hydrateRuleInfo(e,i,r){const s=e.fieldsIndex,n=s.get("RULETYPE"),a=s.get("CREATIONDATE"),o=s.get("FROMNETWORKSOURCEID"),l=s.get("FROMASSETGROUP"),u=s.get("FROMASSETTYPE"),d=s.get("FROMTERMINALID"),h=s.get("TONETWORKSOURCEID"),p=s.get("TOASSETGROUP"),m=s.get("TOASSETTYPE"),g=s.get("TOTERMINALID"),b=s.get("VIANETWORKSOURCEID"),v=s.get("VIAASSETGROUP"),w=s.get("VIAASSETTYPE"),_=s.get("VIATERMINALID"),S=r.attributes[n.name],T=new Date(r.attributes[a.name]),C=[{networkSourceId:r.attributes[o.name],assetGroupId:r.attributes[l.name],assetTypeId:r.attributes[u.name],terminalId:r.attributes[d.name]},{networkSourceId:r.attributes[h.name],assetGroupId:r.attributes[p.name],assetTypeId:r.attributes[m.name],terminalId:r.attributes[g.name]},{networkSourceId:r.attributes[b.name],assetGroupId:r.attributes[v.name],assetTypeId:r.attributes[w.name],terminalId:r.attributes[_.name]}];let A;(function(L){L[L.from=0]="from",L[L.to=1]="to",L[L.via=2]="via"})(A||(A={}));const O={ruleType:S,creationDate:T};for(const L of[A.from,A.to,A.via]){if(S!==Di.RTEdgeJunctionEdgeConnectivity&&L===A.via)continue;const F=C[L],D=i.find(ue=>ue.sourceId===F.networkSourceId),G=D==null?void 0:D.assetGroups.find(ue=>ue.assetGroupCode===F.assetGroupId),H=G==null?void 0:G.assetTypes.find(ue=>ue.assetTypeCode===F.assetTypeId),se=this._getTerminal(H,F);let X="";switch(L){case A.from:X="from";break;case A.to:X="to";break;case A.via:X="via"}O[`${X}NetworkSource`]=D,O[`${X}AssetGroup`]=G,O[`${X}AssetType`]=H,O[`${X}Terminal`]=se==null?void 0:se.toJSON()}return O}_getTerminal(e,i){var n,a;const r=e==null?void 0:e.terminalConfigurationId,s=(n=this.terminalConfigurations)==null?void 0:n.find(o=>o.id===r);return((a=s==null?void 0:s.terminals)==null?void 0:a.find(o=>o.id===i.terminalId))??null}};async function tLe(t){const e=new me({where:"1=1",outFields:["*"]});return(await DR(t,e)).features}c([f({type:[WPe],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],yl.prototype,"sharedNamedTraceConfigurations",void 0),c([f({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],yl.prototype,"type",void 0),c([f({readOnly:!0})],yl.prototype,"serviceTerritoryFeatureLayerId",null),c([f({readOnly:!0})],yl.prototype,"networkSystemLayers",null),c([f({readOnly:!0})],yl.prototype,"terminalConfigurations",null),c([f({readOnly:!0})],yl.prototype,"domainNetworkNames",null),c([f({readOnly:!0})],yl.prototype,"hasTelecomNetwork",null),yl=c([E("esri.networks.UtilityNetwork")],yl);const Cne=yl,iLe=Object.freeze(Object.defineProperty({__proto__:null,default:Cne},Symbol.toStringTag,{value:"Module"}));let Dy=class extends ve.ClonableMixin(B){constructor(e){super(e),this.expression=null,this.returnType="string",this.title=null}};c([f({type:String,json:{write:{isRequired:!0}}})],Dy.prototype,"expression",void 0),c([f({type:["number","string"],json:{write:!0}})],Dy.prototype,"returnType",void 0),c([f({type:String,json:{write:!0}})],Dy.prototype,"title",void 0),Dy=c([E("esri.webdoc.geotriggersInfo.ExpressionInfo")],Dy);const kne=Dy,z5=new Ie({deviceLocation:"device-location"});let I2=class extends ve.ClonableMixin(B){constructor(e){super(e),this.filterExpression=null,this.type="device-location"}};c([f({type:kne,json:{write:!0}})],I2.prototype,"filterExpression",void 0),c([f({type:z5.apiValues,readOnly:!0,json:{type:z5.jsonValues,read:z5.read,write:z5.write}})],I2.prototype,"type",void 0),I2=c([E("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],I2);const rLe=I2;let E2=class extends ve.ClonableMixin(B){constructor(e){super(e),this.geometry=null,this.where=null}};c([f({types:n0,json:{read:Xa,write:!0}})],E2.prototype,"geometry",void 0),c([f({type:String,json:{write:!0}})],E2.prototype,"where",void 0),E2=c([E("esri.webdoc.geotriggersInfo.FeatureFilter")],E2);const sLe=E2;let zy=class extends ve.ClonableMixin(B){constructor(e){super(e),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};c([f({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],zy.prototype,"layerId",void 0),c([f({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],zy.prototype,"layerUrl",void 0),c([oe({featureLayer:"feature-layer"},{readOnly:!0})],zy.prototype,"type",void 0),zy=c([E("esri.webdoc.geotriggersInfo.FeatureLayerSource")],zy);const nLe=zy;let xp=class extends ve.ClonableMixin(B){constructor(e){super(e),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};c([f({type:nLe,json:{write:{isRequired:!0}}})],xp.prototype,"fenceSource",void 0),c([f({type:sLe,json:{write:!0}})],xp.prototype,"filter",void 0),c([f({type:Number,json:{write:!0}})],xp.prototype,"bufferDistance",void 0),c([oe({features:"features"},{readOnly:!0})],xp.prototype,"type",void 0),xp=c([E("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],xp);const aLe=xp;let P6=class extends ve.ClonableMixin(B){constructor(e){super(e),this.type="fence"}};c([oe({fence:"fence"},{readOnly:!0})],P6.prototype,"type",void 0),P6=c([E("esri.webdoc.geotriggersInfo.Geotrigger")],P6);const Ane=P6;let M2=class extends ve.ClonableMixin(B){constructor(e){super(e),this.expressionInfo=null,this.requestedActions=null}};c([f({type:kne,json:{write:!0}})],M2.prototype,"expressionInfo",void 0),c([f({type:[String],json:{write:!0}})],M2.prototype,"requestedActions",void 0),M2=c([E("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],M2);const oLe=M2,lLe=new Ie({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),cLe=new Ie({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),V5=new Ie({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let vo=class extends Ane{constructor(e){super(e),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};c([oe(lLe)],vo.prototype,"enterExitRule",void 0),c([f({type:rLe,json:{write:{isRequired:!0}}})],vo.prototype,"feed",void 0),c([oe(cLe)],vo.prototype,"feedAccuracyMode",void 0),c([f({type:V5.apiValues,json:{type:V5.jsonValues,read:V5.read,write:{writer:V5.write,isRequired:!0}}})],vo.prototype,"fenceNotificationRule",void 0),c([f({type:aLe,json:{write:{isRequired:!0}}})],vo.prototype,"fenceParameters",void 0),c([f({type:String,json:{write:!0}})],vo.prototype,"name",void 0),c([f({type:oLe,json:{write:!0}})],vo.prototype,"notificationOptions",void 0),c([oe({fence:"fence"},{readOnly:!0})],vo.prototype,"type",void 0),vo=c([E("esri.webdoc.geotriggersInfo.FenceGeotrigger")],vo);const uLe=vo,dLe={base:Ane,key:"type",typeMap:{fence:uLe}};let L6=class extends ve.ClonableMixin(B){constructor(e){super(e),this.geotriggers=null}};c([f({types:[dLe],json:{write:{isRequired:!0}}})],L6.prototype,"geotriggers",void 0),L6=c([E("esri.webdoc.GeotriggersInfo")],L6);const fLe=L6;let R6=class extends ve.ClonableMixin(B){constructor(e){super(e),this.enabled=!0}};c([f({type:Boolean,nonNullable:!0,json:{write:!0}})],R6.prototype,"enabled",void 0),R6=c([E("esri.webdoc.ips.AppleIPSProperties")],R6);const hLe=R6;let O6=class extends ve.ClonableMixin(B){constructor(e){super(e),this.enabled=!0}};c([f({type:Boolean,nonNullable:!0,json:{write:!0}})],O6.prototype,"enabled",void 0),O6=c([E("esri.webdoc.ips.GNSSProperties")],O6);const pLe=O6;let Vy=class extends ve.ClonableMixin(B){constructor(e){super(e),this.enabled=!0,this.distance=5,this.units="meter"}};c([f({type:Boolean,nonNullable:!0,json:{write:!0}})],Vy.prototype,"enabled",void 0),c([f({type:Number,nonNullable:!0,json:{write:!0}})],Vy.prototype,"distance",void 0),c([f({type:["feet","meter"],nonNullable:!0,json:{write:!0}})],Vy.prototype,"units",void 0),Vy=c([E("esri.webdoc.ips.PathSnappingProperties")],Vy);const mLe=Vy;let F6=class extends ve.ClonableMixin(B){constructor(e){super(e),this.enabled=!0}};c([f({type:Boolean,nonNullable:!0,json:{write:!0}})],F6.prototype,"enabled",void 0),F6=c([E("esri.webdoc.ips.SmoothingProperties")],F6);const yLe=F6;let $p=class extends ve.ClonableMixin(B){constructor(e){super(e),this.appleIPS=null,this.gnss=null,this.smoothing=null,this.pathSnapping=null}};c([f({type:hLe,json:{name:"AppleIPS",write:!0}})],$p.prototype,"appleIPS",void 0),c([f({type:pLe,json:{name:"GNSS",write:!0}})],$p.prototype,"gnss",void 0),c([f({type:yLe,json:{write:!0}})],$p.prototype,"smoothing",void 0),c([f({type:mLe,json:{write:!0}})],$p.prototype,"pathSnapping",void 0),$p=c([E("esri.webdoc.ips.Configuration")],$p);const gLe=$p;let jy=class extends ve.ClonableMixin(B){constructor(e){super(e),this.portalItem=null}readPortalItem(e,i,r){const{itemId:s}=i;if(s)return new ke({id:s,portal:r==null?void 0:r.portal})}writePortalItem(e,i){e!=null&&e.id&&(i.itemId=e.id)}};c([f({type:ke,json:{write:{isRequired:!0}}})],jy.prototype,"portalItem",void 0),c([te("portalItem",["itemId"])],jy.prototype,"readPortalItem",null),c([ne("portalItem",{itemId:{type:String}})],jy.prototype,"writePortalItem",null),jy=c([E("esri.webdoc.ips.PositioningService")],jy);const bLe=jy;let C2=class extends ve.ClonableMixin(B){constructor(e){super(e),this.positioningService=null,this.configuration=null}};c([f({type:bLe,json:{write:{isRequired:!0}}})],C2.prototype,"positioningService",void 0),c([f({type:gLe,json:{write:!0}})],C2.prototype,"configuration",void 0),C2=c([E("esri.webdoc.IPSInfo")],C2);const vLe=C2,wLe={currentVersion:Sre,createInitialViewProperties:()=>new x8,parseVersion:Fg.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},_Le=K.ofType(Cne);var Sb;let Tp=(Sb=class extends yIe{constructor(e){super(e),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){const e=this.utilityNetworks.removeAll();for(const i of e)i.destroy();this.utilityNetworks.destroy()}}get context(){return wLe}loadAll(){return Z7(this,e=>{var i,r;e(this.ground,this.basemap,this.layers,this.tables,(r=(i=this.ipsInfo)==null?void 0:i.positioningService)==null?void 0:r.portalItem)})}static fromJSON(e){if(e)return new this({resourceInfo:e});throw new P("webmap:empty-resource","Expected a JSON resource but got nothing")}},Sb.VERSION=Sre,Sb);c([f({type:fLe,json:{write:!0}})],Tp.prototype,"geotriggersInfo",void 0),c([f({type:vLe,json:{write:!0,name:"mapIPSInfo"}})],Tp.prototype,"ipsInfo",void 0),c([f({json:{write:!0}})],Tp.prototype,"presentation",void 0),c([f({type:_Le,json:{read:!0,write:!0}})],Tp.prototype,"utilityNetworks",void 0),Tp=c([E("esri.WebMap")],Tp);const SLe=Tp;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */function j5(t){t.el.childElem&&(t.el.childElem.ownedBy=t.el);const e=xLe(t);if(!e){const i=kLe(t);if(!i){Lne(t);return}return bU(i,t,!0),i}return $Le(e,t.el.parent)||(t.el.parent=e,e.localName==="arcgis-expand"?TLe(e,t):e.localName==="arcgis-placement"?ILe(e,t):bU(e,t,!1)),e}function xLe({el:t}){for(let e=t.parentElement;e;e=(e==null?void 0:e.parentElement)??null){if(gU.has(e.localName))return e;if("ownedBy"in e&&e.ownedBy instanceof HTMLElement&&gU.has(e.ownedBy.localName))return e.ownedBy}}const gU=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function $Le(t,e){if(t!==e)return!1;const i=t.localName;return i==="arcgis-expand"||i==="arcgis-placement"}function RS(t,e,i="arcgisReady"){const r=t;if(r.view)e(r.view);else{let s=function(n){n.target===t&&(RS(t,e,i),t.removeEventListener(i,s))};t.addEventListener(i,s)}}const TLe=(t,e)=>RS(t,i=>{var r;e.el.childElem&&t.content!=null&&t.content.append(e.el.childElem),t.expandIcon=e.icon||((r=e.widget)==null?void 0:r.icon)||t.expandIcon,e.position=t.position,e.el.view=i}),ILe=(t,e)=>RS(t,i=>{e.el.childElem&&e.el.append(e.el.childElem),e.position=t.position,e.el.view=i}),bU=(t,e,i)=>RS(t,r=>{i?Lne(e):e.el.childElem&&ELe(t,e),e.el.view=r},"arcgisViewReadyChange");function ELe(t,e){var l;const i=e.el.childElem??e.el,r=t==null?void 0:t.childElem,s=[...t.children],n={};for(const u of s){if(u===r)continue;const d=u.position??"manual";n[d]??(n[d]=[]),n[d].push({child:u,position:d,index:s.indexOf(u)})}const a=(l=n[e.position??"manual"])==null?void 0:l.findIndex(({child:u})=>u===e.el),o=t.view.ui;o.remove(i),o.add(i,{position:e.position,index:a})}function MLe(t,e){return e===void 0||(t==null?void 0:t.targetGeometry)!==(e==null?void 0:e.targetGeometry)||(t==null?void 0:t.rotation)!==(e==null?void 0:e.rotation)||(t==null?void 0:t.scale)!==(e==null?void 0:e.scale)}function CLe(t,e){return Pne(e==null?void 0:e.center,t)}function Pne(t,e){if(typeof e=="string")return Pne(t,e.split(",").map(Number));if(!t)return e;if(Array.isArray(e)){const i=e[0],r=e[1],s=e.length>2?e[2]:void 0;if(i!==t.longitude||r!==t.latitude||s!==t.z)return e}else if(e&&!(t!=null&&t.equals(e)))return e}function Lne(t){t.el.childElem&&(t.el.shadowRoot??t.el).append(t.el.childElem)}function kLe(t,e){const i=t.referenceElement;if(typeof i!="string")return i??void 0;const r=i.includes("#")||i.includes(".")||i.includes("["),s=t.el.getRootNode();return(r?void 0:s.querySelector(`#${i}`))??s.querySelector(i)??void 0}const ALe=t=>t.el.childElem;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const PLe=fa`@layer{arcgis-map{display:block;height:100%;.esri-view{height:100%;width:100%}}}`,LLe=uJ(SLe),RLe=uJ(yC);var eh;let OLe=(eh=class extends Ts{constructor(){super(),this._map=LLe(this),this.view=RLe(this),this.allLayerViews=this.view.allLayerViews,this.autoDestroyDisabled=!1,this.background=this.view.background,this.basemap=this._map.basemap,this.basemapView=this.view.basemapView,this.constraints=this.view.constraints,this.displayFilterDisabled=this.view.displayFilterEnabled,this.fatalError=this.view.fatalError,this.floors=this.view.floors,this.graphics=this.view.graphics,this.ground=this._map.ground,this.highlights=this.view.highlights,this.highlightOptions=this.view.highlightOptions,this.ipsInfo=this._map.ipsInfo,this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.map=this.view.map,this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.spatialReference=this.view.spatialReference,this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.updating=this.view.updating,this.visibleArea=this.view.visibleArea,this.arcgisViewChange=Bs(),this.arcgisViewClick=Zi(()=>this.view,"click"),this.arcgisViewDoubleClick=Zi(()=>this.view,"double-click"),this.arcgisViewDrag=Zi(()=>this.view,"drag"),this.arcgisViewHold=Zi(()=>this.view,"hold"),this.arcgisViewImmediateClick=Zi(()=>this.view,"immediate-click"),this.arcgisViewImmediateDoubleClick=Zi(()=>this.view,"immediate-double-click"),this.arcgisViewKeyDown=Zi(()=>this.view,"key-down"),this.arcgisViewKeyUp=Zi(()=>this.view,"key-up"),this.arcgisViewLayerviewCreate=Zi(()=>this.view,"layerview-create"),this.arcgisViewLayerviewCreateError=Zi(()=>this.view,"layerview-create-error"),this.arcgisViewLayerviewDestroy=Zi(()=>this.view,"layerview-destroy"),this.arcgisViewMouseWheel=Zi(()=>this.view,"mouse-wheel"),this.arcgisViewPointerDown=Zi(()=>this.view,"pointer-down"),this.arcgisViewPointerEnter=Zi(()=>this.view,"pointer-enter"),this.arcgisViewPointerLeave=Zi(()=>this.view,"pointer-leave"),this.arcgisViewPointerMove=Zi(()=>this.view,"pointer-move"),this.arcgisViewPointerUp=Zi(()=>this.view,"pointer-up"),this.arcgisViewReadyChange=Bs(),this.view.ui={components:["attribution"]}}get center(){return this.view.center}set center(e){const i=CLe(e,this.view);i&&(this.view.center=i)}get extent(){return this.view.extent}set extent(e){var i;e&&!((i=this.extent)!=null&&i.equals(e))&&(this.view.extent=e)}get focusAreas(){return this.map?this.map.focusAreas:{areas:[],style:"bright"}}set focusAreas(e){this.map&&(this.map.focusAreas=e)}get gamepad(){return this.view.input.gamepad}get interacting(){return this.view.interacting}get itemId(){var e;return(e=this._map.portalItem)==null?void 0:e.id}set itemId(e){Rpe(this._map,this),this._map.portalItem={id:e},this.view.map=this._map}get navigating(){return this.view.navigating}get scale(){return this.view.scale}set scale(e){this.view.scale=e}get stationary(){return this.view.stationary}get viewpoint(){return this.view.viewpoint}set viewpoint(e){MLe(this.viewpoint,e)&&(this.view.viewpoint=e)}get zoom(){return this.view.zoom}set zoom(e){this.view.zoom=e}async addLayer(e,i){var r;(r=this.map)==null||r.add(e,i)}async addLayers(e,i){var r;(r=this.map)==null||r.addMany(e,i)}async addTable(e){var i;(i=this.map)==null||i.tables.add(e)}async addTables(e,i){var r;(r=this.map)==null||r.tables.addMany(e,i)}async closePopup(){this.view.closePopup()}async destroy(){await this.manager.destroy()}async goTo(e,i){return await this.view.goTo(e,i)}async hitTest(e,i){return await this.view.hitTest(e,i)}async openPopup(e){await this.view.openPopup(e)}async takeScreenshot(e){return await this.view.takeScreenshot(e)}toMap(e){return this.view.toMap(e)}toScreen(e,i){return this.view.toScreen(e,i)}async tryFatalErrorRecovery(){this.view.tryFatalErrorRecovery()}async whenLayerView(e){return await this.view.whenLayerView(e)}async viewOnReady(e,i){return await this.componentOnReady(),await this.view.whenReady().then(()=>e==null?void 0:e()).catch(i)}load(){const e=this;e.el.childElem=document.createElement("div"),e.el.append(e.el.childElem),this.view.container=e.el.childElem}loaded(){this.map||(this.map=this._map),this.manager.onLifecycle(()=>[Y(()=>this.map,e=>{e&&(this._map=e)},{initial:!0,sync:!0}),Y(()=>this.view.stationary,()=>this.arcgisViewChange.emit(),{initial:!0}),Y(()=>this.view.ready,()=>this.arcgisViewReadyChange.emit(),{initial:this.view.ready})])}},eh.properties={_map:16,view:32,allLayerViews:0,autoDestroyDisabled:5,background:0,basemap:1,basemapView:0,center:1,constraints:0,displayFilterDisabled:5,extent:0,fatalError:0,floors:0,focusAreas:0,gamepad:32,graphics:0,ground:1,highlights:0,highlightOptions:0,interacting:32,ipsInfo:0,itemId:3,layerViews:0,magnifier:0,map:0,navigating:32,navigation:0,padding:0,popup:0,popupDisabled:5,ready:4,resizeAlign:1,resolution:8,rotation:9,scale:9,spatialReference:0,stationary:32,suspended:7,theme:0,timeExtent:0,timeZone:1,updating:4,viewpoint:0,visibleArea:0,zoom:9},eh.shadowRootOptions=Wo,eh.styles=PLe,eh);gd("arcgis-map",OLe);const FLe=t=>Rne(void 0,t),NLe=t=>e=>Rne(e,t);class DLe extends yP{constructor(e,i){super(e);const r=this.exports;try{Jy(this.component);const s=i(this.component,this),n=this.exports!==r;if(Ade(s)){n||this.setProvisionalExports(s);const a=s.then(o=>{this.exports=o,super.catchUpLifecycle()}).catch(o=>{this.P.reject(o),console.error(o)});this.onLoad(async()=>await a)}else(!n||s!==void 0)&&(this.exports=s),queueMicrotask(()=>super.catchUpLifecycle())}catch(s){this.P.reject(s),console.error(s)}}catchUpLifecycle(){}}const Rne=H_(DLe),zLe=(t,e)=>new VLe(t,e);var xb,$b,L_;class VLe extends yP{constructor(i,r){super();tt(this,xb);tt(this,$b);tt(this,L_);Ze(this,$b,i),Ze(this,L_,r),Ze(this,xb,new MutationObserver(s=>{s.forEach(n=>{i.includes(n.attributeName)&&r.call(this.component,this.component.el.getAttribute(n.attributeName),n.oldValue,n.attributeName)})}))}hostConnected(){re(this,$b).forEach(i=>{this.component.el.hasAttribute(i)&&re(this,L_).call(this.component,null,this.component.el.getAttribute(i),i)}),re(this,xb).observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:re(this,$b)})}hostDisconnected(){re(this,xb).disconnect()}}xb=new WeakMap,$b=new WeakMap,L_=new WeakMap;const Oot=t=>(...e)=>{const i=uP(),r=new t(...e);return cP(i.at(-1)),r},One=t=>(e={})=>FLe((i,r)=>{const s=zW(i.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},a=i;r.onLifecycle(()=>yde(i.el,()=>t("./assets"),({t9nLocale:l,t9nStrings:u,lang:d})=>{const h={...u,_lang:d,_t9nLocale:l,_loading:!1};r.exports=h;const p=u.componentLabel;typeof p=="string"&&"label"in i&&i.label==null&&(i.label??(i.label=p)),o(a.messageOverrides)},e.name));const o=l=>{const u=r.exports,d=u._original??u,h=Fne(d,l);l&&(h._original=d),r.exports=h};return"messageOverrides"in a&&r.onUpdate(l=>{l.has("messageOverrides")&&o(a.messageOverrides)}),e.blocking?(r.setProvisionalExports(n,!1),r.ready):n}),Fne=(t,e)=>{if(!e)return t;const i={...t};return Object.entries(e).forEach(([r,s])=>{typeof s=="object"?i[r]=Fne(t[r],s):i[r]=s??t[r]}),i},d0=t=>qLe,jLe="arcgisPropertyChange",qLe=(...t)=>{const e=i1(),i=mP(jLe,void 0,e);let r=!0;return e.manager.onUpdated(s=>{if(r||!e.el.isConnected){r=!1;return}for(const n of t)s.has(n)&&i.emit({name:n})}),i},Ta="esri-layer-list",Qc=`${Ta}__item`,hv={base:Ta,actionMenu:`${Ta}__action-menu`,actionGroup:`${Ta}__action-group`,filterNoResults:`${Ta}__filter-no-results`,item:Qc,itemActive:`${Qc}--active`,itemContentBottom:`${Qc}-content-bottom`,itemMessage:`${Qc}-message`,itemActionIcon:`${Qc}-action-icon`,itemActionImage:`${Qc}-action-image`,itemTemporaryIcon:`${Qc}-temporary-icon`,itemTableIcon:`${Qc}-table-icon`,itemCatalogIcon:`${Qc}-catalog-icon`,statusIndicator:`${Ta}__status-indicator`,publishing:`${Ta}__publishing`,updating:`${Ta}__updating`,connectionStatus:`${Ta}__connection-status`,connectionStatusConnected:`${Ta}__connection-status--connected`,visibleToggle:`${Ta}__visible-toggle`,visibleIcon:`${Ta}__visible-icon`},Fot=()=>Pn({action:()=>R(()=>import("./index-B8MSPrSA.js").then(t=>t.i),__vite__mapDeps([2,1]))});function Not(t,e,i){const{title:r,textEnabled:s}=e,{type:n,active:a,uid:o,disabled:l,indicator:u}=t;return t.visible?M("calcite-action",{...e,active:n==="toggle"&&t.value,appearance:"solid","data-action-id":t.id,"data-action-uid":o,disabled:l,icon:sA(t),indicator:u,loading:a,scale:"s",text:r??"",title:s?void 0:r},i):null}function sA(t){return t.icon?t.icon:"image"in t&&t.image||t.className?void 0:"question"}function BLe(t){return t?{backgroundImage:`url(${t})`}:{}}function Dot({action:t,feature:e}){const i=e==null?void 0:e.attributes,r="image"in t?t.image:void 0;return r&&i?dd(r,i):r??""}const Nne={hide:"hide",hideChildren:"hide-children"},ULe=10,GLe=2;function HLe({exclusive:t,visible:e,visibilityAppearance:i}){const r=i==="checkbox";return e?t?"circle-f":r?"check-square-f":"view-visible":t?"circle":r?"square":"view-hide"}function WLe({connectionStatus:t,publishing:e}){return t?t==="connected"?"beacon":"offline":e?"square":"bullet-point"}function ZLe(t){return(t==null?void 0:t.listMode)===Nne.hideChildren}function z8(t){return(t==null?void 0:t.listMode)??void 0}function JLe(t){return t!=null&&"minScale"in t&&t.minScale!=null?t.minScale:void 0}function YLe(t){return t!=null&&"maxScale"in t&&t.maxScale!=null?t.maxScale:void 0}function XLe(t){if(!t)return"inherited";const e=sRe(nO(t)?t.layer:t);return e!=null?e?"independent":"inherited":"visibilityMode"in t&&t.visibilityMode!=null?t.visibilityMode:"independent"}function QLe(t){t==null||t.removeMany(t.filter(e=>e==null?void 0:e.destroyed))}function Dne(t){if(t&&(!("type"in t)||t.type!=="wmts"))return"sublayers"in t?"sublayers":"layers"in t?"layers":void 0}function KLe(t,e){t&&(t.filterPredicate=e?i=>e(Io(i)):void 0)}function eRe(t){const e=(t!=null&&t.layer&&nO(t.layer)?t.layer.layer:void 0)??(t==null?void 0:t.layer);return!!e&&e.type!=="catalog"&&(nRe(e)??!0)}function tRe(t){return z8(t)!==Nne.hide}function iRe(t,e){if(!t||e==null||isNaN(e))return!1;const i=JLe(t),r=YLe(t),s=i!=null&&!isNaN(i)&&i>0&&e>i,n=r!=null&&!isNaN(r)&&r>0&&e<r;return s||n}function zne(t,e){t==null||t.sort((i,r)=>{const s="uid"in i?e.indexOf(i.uid):-1,n="uid"in r?e.indexOf(r.uid):-1;return s>n?-1:s<n?1:0})}function rRe(t,e){const i=t==null?void 0:t.layer;if(!i)return;const r=Dne(i);if(!r)return;let s;r==="layers"&&"layers"in i?s=i.layers:r==="sublayers"&&"sublayers"in i&&(s=i.sublayers),zne(s,e)}function vU(t){const e=t==null?void 0:t.layer;return e&&"layers"in e?e.layers:null}function nO(t){return t!=null&&"layer"in t&&t.layer!=null}function sRe(t){const e=Vne(t);return e!=null&&"supportsSublayerVisibility"in e?e.supportsSublayerVisibility:void 0}function nRe(t){const e=Vne(t);return e!=null&&"supportsDynamicLayers"in e?e.supportsDynamicLayers:void 0}function Vne(t){return t&&"capabilities"in t&&t.capabilities!=null&&"exportMap"in t.capabilities?t.capabilities.exportMap:void 0}function Io(t){return t==null?void 0:t["data-item"]}function wU(t){return t==null?void 0:t.getAttribute("data-layer-type")}function aRe(t){const{children:e,error:i}=t,r="incompatible"in t&&t.incompatible;return!!(e!=null&&e.filter(s=>!s.hidden).length)&&!i&&!r}function oRe(t){for(const e of t)for(const i of e)if(i.type==="button"||i.type==="toggle")return i}var nA,Om;let Be=(Om=class extends It{constructor(e){super(e),this.dragEnabled=!1,this.listModeDisabled=!1,this.parent=null,this.parentTitles=null,this.viewModel=null,this._onActionMenuOpen=i=>{this.item.actionsOpen=i.currentTarget.open},this._setTooltipReference=i=>{var r,s;(s=this.onTooltipReferenceChange)==null||s.call(this,(r=this.item.layer)==null?void 0:r.uid,i)},this._removeTooltipReference=()=>{var i,r;(r=this.onTooltipReferenceChange)==null||r.call(this,(i=this.item.layer)==null?void 0:i.uid,null)}}loadDependencies(){return Pn({"action-group":()=>R(()=>import("./index-BzuLesV1.js"),__vite__mapDeps([356,2,1,87,18,7,14,27,88,57,9,10,6,8,5])),"action-menu":()=>R(()=>import("./index-C8qjHaa0.js"),__vite__mapDeps([357,2,1,87,18,7,14,27,88,57,9,10,6])),action:()=>R(()=>import("./index-B8MSPrSA.js").then(e=>e.i),__vite__mapDeps([2,1])),icon:()=>R(()=>Promise.resolve().then(()=>m0),void 0),"list-item":()=>R(()=>import("./index-B9TUpmDe.js"),__vite__mapDeps([358,59,18,7,14,55,2,1,62,61,60,99,76,28,74,77])),list:()=>R(()=>import("./index-D8Net2Ig.js"),__vite__mapDeps([359,101,1,75,360,361,65,40,13,19,66,63,42,20,7,73,74,30])),notice:()=>R(()=>import("./index-D0mCuMNN.js").then(e=>e.i),__vite__mapDeps([84,15,14]))})}render(){var b,v;const e=this.parentTitles??[],{_title:i,item:r,activeItem:s,selectionMode:n,selectedItems:a,messages:o,parent:l,css:u,dragDisabled:d}=this,h="visibleAtCurrentTimeExtent"in r&&"layerInvisibleAtTime"in o&&!r.visibleAtCurrentTimeExtent?`${i} (${o.layerInvisibleAtTime})`:"visibleAtCurrentScale"in r&&"layerInvisibleAtScale"in o&&!r.visibleAtCurrentScale?`${i} (${o.layerInvisibleAtScale})`:i,p="parent"in r&&((v=(b=r.parent)==null?void 0:b.layer)==null?void 0:v.type)==="catalog",{layer:m}=r,g="visibleAtCurrentScale"in r&&!r.visibleAtCurrentScale||"visibleAtCurrentTimeExtent"in r&&!r.visibleAtCurrentTimeExtent;return M("calcite-list-item",{afterCreate:w=>this._focusSelectedDragEl(w,r),afterUpdate:w=>this._focusSelectedDragEl(w,r),class:this.classes(u.item,"itemActive"in u&&{[u.itemActive]:s===r}),"data-item":r,"data-layer-id":m==null?void 0:m.id,dragDisabled:!r.sortable||p||d,expanded:"open"in r&&r.open,id:m==null?void 0:m.uid,key:`list-item-${m==null?void 0:m.uid}`,label:i,metadata:{parentTitles:e,_title:i},selected:n!=="none"&&a.includes(r),title:h,unavailable:g,value:m==null?void 0:m.uid,onCalciteListItemSelect:w=>"visible"in r&&this._handleCalciteListItemSelect(w,r,l),onCalciteListItemToggle:w=>"open"in r&&this._handleCalciteListItemToggle(w,r)},this._renderedCatalogFootprintIcon,this._renderedCatalogDynamicIcon,this._renderedItemStatus,this._renderedItemToggle,this._renderedCatalogSelectNode,this._renderedItemTemporaryIcon,this._renderedChildList,this._renderedItemMessage,this._renderedPanel,this._renderedPanelAction,this._renderedActions)}get _title(){const{messages:e}=this;return this.item.title||("untitledTable"in e?e.untitledTable:e.untitledLayer)}get _renderedItemStatus(){const{item:e,parent:i,visibleElements:r,css:s}=this;if(!r.statusIndicators)return null;const{publishing:n}=e,a="updating"in e&&e.updating&&!i,o="connectionStatus"in e?e.connectionStatus:void 0,l=!!o;return M("calcite-icon",{class:this.classes(s.statusIndicator,{[s.publishing]:n},"updating"in s&&{[s.updating]:a},"connectionStatus"in s&&{[s.connectionStatus]:l},"connectionStatusConnected"in s&&{[s.connectionStatusConnected]:l&&o==="connected"}),icon:WLe({connectionStatus:o,publishing:n}),key:"layer-item-status",scale:"s",slot:"content-end"})}get _renderedItemTemporaryIcon(){const{item:e,visibleElements:i,css:r}=this,{layer:s}=e,n="temporaryLayerIndicators"in i&&i.temporaryLayerIndicators,a="temporaryTableIndicators"in i&&i.temporaryTableIndicators,o=s&&"persistenceEnabled"in s&&(J7(s)||!s.persistenceEnabled);return(n||a)&&o?M("calcite-icon",{class:r.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"content-start",title:this.messages.temporary}):null}get _renderedItemToggle(){const{_title:e,item:i,parent:r,messages:s,visibilityAppearance:n,css:a}=this;if(!("visible"in i&&"layerVisibility"in s&&"showLayer"in s&&"hideLayer"in s&&"visibleToggle"in a&&n))return null;const{visible:o}=i,l=this._getParentVisibilityMode(r);if(l==="inherited")return null;const u=HLe({visible:o,exclusive:l==="exclusive",visibilityAppearance:n}),d=n==="checkbox",h=s.layerVisibility,p=dd(o?s.hideLayer:s.showLayer,{layerName:e});return M("calcite-action",{appearance:"transparent",class:a.visibleToggle,icon:d?u:void 0,key:"visibility-toggle",label:p,onclick:()=>this._toggleVisibility(i,r),scale:"s",slot:d?"actions-start":"actions-end",text:h,title:p},d?null:M("calcite-icon",{class:this.classes({[a.visibleIcon]:l!=="exclusive"&&o}),icon:u,scale:"s"}))}get _renderedPanel(){const{panel:e}=this.item;return!(e!=null&&e.open)||e.disabled||e.flowEnabled?null:M("div",{class:this.css.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}get _renderedPanelAction(){const{panel:e}=this.item;if(!(e!=null&&e.visible))return null;const{open:i,title:r,disabled:s}=e;return M("calcite-action",{active:i,appearance:"transparent",disabled:s,icon:sA(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:r??"",title:r??void 0},this._renderFallbackIcon(e))}get _renderedActions(){switch(this._actionsCount){case 0:return null;case 1:return this._singleAction;default:return this._renderedActionMenu}}get _renderedActionMenu(){const{item:e,messagesCommon:i}=this,r=i.options;return M("calcite-action-menu",{appearance:"transparent",key:"item-action-menu",label:i.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:this._onActionMenuOpen},M("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:r,title:r}),this._renderedActionMenuContent)}get _renderedActionMenuContent(){return this._filteredSections.toArray().map(e=>M("calcite-action-group",{key:`action-section-${e.uid}`},e.toArray().map(i=>this._renderAction({action:i,textEnabled:!0}))))}get _renderedCatalogFootprintIcon(){const{css:e}=this,i=this.item.layer,r=(i==null?void 0:i.type)==="catalog-footprint",s=(i==null?void 0:i.type)==="sublayer"&&uz(i,"footprints");return"itemCatalogIcon"in e&&(r||s)?M("calcite-icon",{class:e.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null}get _renderedCatalogDynamicIcon(){const{css:e}=this,i=this.item.layer,r=(i==null?void 0:i.type)==="catalog-dynamic-group",s=(i==null?void 0:i.type)==="sublayer"&&uz(i,"layers-in-view");return"itemCatalogIcon"in e&&(r||s)?M("calcite-icon",{class:e.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null}get _renderedCatalogSelectNode(){const{_title:e,item:i,visibleElements:r}=this;if(!("visible"in i))return;const{layer:s}=i,n=(s==null?void 0:s.type)==="catalog-dynamic-group";return"catalogLayerList"in r&&r.catalogLayerList&&n?M("calcite-action",{appearance:"transparent",disabled:!s.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>this._triggerOnCatalogOpen(i),scale:"s",slot:"actions-end",text:e}):null}get _renderedChildList(){const{dragEnabled:e,item:i,rootGroupUid:r,listModeDisabled:s,selectionMode:n,displayMode:a}=this;if(!("children"in i))return;const o=[...this.parentTitles??[],i.title],{children:l,layer:u}=i,d=(u==null?void 0:u.type)!=="catalog-dynamic-group"&&aRe(i),h=!s&&ZLe(u),p=(u==null?void 0:u.type)==="group",m=!h&&!d&&e&&p,g=!!e&&"childrenSortable"in i&&i.childrenSortable&&eRe(i);return d||m?M("calcite-list",{canPull:b=>!!this.canMove&&this.canMove(b,"pull"),canPut:b=>!!this.canMove&&this.canMove(b,"put"),"data-item":i,"data-layer-type":r,displayMode:a,dragEnabled:g,group:p?r:`${r}-${u==null?void 0:u.uid}`,key:`child-list-${u==null?void 0:u.uid}`,label:i.title,selectionAppearance:"border",selectionMode:n},l==null?void 0:l.filter(b=>!b.hidden&&(this.visibleElements.errors||!b.error)).toArray().map(b=>this._renderItem(b,i,o)),this._renderedTablesItem):null}get _hasTables(){var r,s;const{layerTablesEnabled:e}=this,i=this.item.layer;if(!e||!i)return!1;switch(i.type){case"knowledge-graph":return e.includes(i.type)&&"tables"in i&&!!((r=i.tables)!=null&&r.length);case"map-image":case"tile":return e.includes(i.type)&&"subtables"in i&&!!((s=i.subtables)!=null&&s.length);default:return!1}}get _renderedTablesItem(){const{item:e,messages:i,css:r}=this,{layer:s}=e;return"itemTableIcon"in r&&"visible"in e&&"tables"in i&&this._hasTables?M("calcite-list-item",{class:r.item,"data-layer-id":s==null?void 0:s.id,dragDisabled:!0,key:`list-item-table-list-tables-${s==null?void 0:s.uid}`,label:i.tables,title:i.tables,onCalciteListItemSelect:()=>this._triggerOnTablesOpen(e)},M("calcite-icon",{class:r.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),M("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null}get _renderedItemMessage(){const{item:e,messages:i,css:r}=this;return e.error?M("div",{class:r.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},M("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},M("div",{slot:"message"},"tableError"in i?i.tableError:i.layerError))):"incompatible"in e&&e.incompatible&&"layerIncompatible"in i?M("div",{class:r.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},M("calcite-notice",{afterCreate:this._setTooltipReference,afterRemoved:this._removeTooltipReference,bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},M("div",{slot:"message"},i.layerIncompatible))):null}get _singleAction(){return this._renderAction({action:oRe(this._filteredSections),textEnabled:!1})}get _filteredSections(){return this.item.actionsSections.map(e=>e.filter(i=>i.visible))}get _actionsCount(){return this.item.actionsSections.reduce((e,i)=>e+i.length,0)}_renderAction(e){const{item:i}=this,{action:r,textEnabled:s}=e;if(!r)return null;const{active:n,disabled:a,title:o,type:l,indicator:u}=r;return M("calcite-action",{active:l==="toggle"&&r.value,appearance:"transparent","data-action-id":r.id,disabled:a,icon:sA(r),indicator:u,key:`action-${r.uid}`,loading:n,onclick:()=>this._triggerAction(i,r),scale:"s",slot:s?void 0:"actions-end",text:o??"",textEnabled:s,title:o??void 0},this._renderFallbackIcon(r))}_renderFallbackIcon(e){const{css:i}=this,{icon:r}=e,s="className"in e?e.className:void 0;if(r)return null;const n="image"in e?e.image:void 0,a={[i.itemActionIcon]:!!s,[i.itemActionImage]:!!n};return s&&(a[s]=!0),n||s?M("span",{"aria-hidden":"true",class:this.classes(i.itemActionIcon,a),key:"icon",styles:BLe(n)}):null}_renderItem(e,i,r=[]){var s;return M(nA,{activeItem:this.activeItem,canMove:this.canMove,css:this.css,displayMode:this.displayMode,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${(s=e.layer)==null?void 0:s.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:i,parentTitles:r,rootGroupUid:this.rootGroupUid,selectedDragItemLayerUid:this.selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this.onAction,onCatalogOpen:this.onCatalogOpen,onPanelOpen:this.onPanelOpen,onSelectedDragItemLayerUidChange:this.onSelectedDragItemLayerUidChange,onTablesOpen:this.onTablesOpen,onTooltipReferenceChange:this.onTooltipReferenceChange})}_triggerAction(e,i){i&&e&&(i.type==="toggle"&&(i.value=!i.value),this.onAction(i,e))}_triggerOnTablesOpen(e){e&&this.onTablesOpen&&this.onTablesOpen(e)}_triggerOnCatalogOpen(e){var i;e&&((i=this.onCatalogOpen)==null||i.call(this,e))}_focusSelectedDragEl(e,i){var r,s;this.selectedDragItemLayerUid===((r=i.layer)==null?void 0:r.uid)&&(Xu(e),(s=this.onSelectedDragItemLayerUidChange)==null||s.call(this,null))}_handleCalciteListItemToggle(e,i){e.stopPropagation(),i.open=e.target.expanded}_getParentVisibilityMode(e){return e&&"visibilityMode"in e?e.visibilityMode:null}_handleCalciteListItemSelect(e,i,r){if(Io(e.target)!==i)return;const s=this._getParentVisibilityMode(r);this.selectionMode==="none"&&s!=="inherited"&&this._toggleVisibility(i,r)}_togglePanel(e){e.open=!e.open,e.open&&this.onPanelOpen()}_toggleVisibility(e,i){!e||!("visible"in e)||this._getParentVisibilityMode(i)==="exclusive"&&e.visible||(e.visible=!e.visible)}},nA=Om,Om.vnodeSelector="calcite-list-item",Om);c([f()],Be.prototype,"activeItem",void 0),c([f()],Be.prototype,"canMove",void 0),c([f()],Be.prototype,"css",void 0),c([f()],Be.prototype,"displayMode",void 0),c([f()],Be.prototype,"dragEnabled",void 0),c([f()],Be.prototype,"dragDisabled",void 0),c([f()],Be.prototype,"item",void 0),c([f()],Be.prototype,"layerTablesEnabled",void 0),c([f()],Be.prototype,"listModeDisabled",void 0),c([f()],Be.prototype,"messages",void 0),c([f()],Be.prototype,"messagesCommon",void 0),c([f()],Be.prototype,"onAction",void 0),c([f()],Be.prototype,"onPanelOpen",void 0),c([f()],Be.prototype,"onCatalogOpen",void 0),c([f()],Be.prototype,"onTablesOpen",void 0),c([f()],Be.prototype,"onSelectedDragItemLayerUidChange",void 0),c([f()],Be.prototype,"onTooltipReferenceChange",void 0),c([f()],Be.prototype,"parent",void 0),c([f()],Be.prototype,"parentTitles",void 0),c([f()],Be.prototype,"rootGroupUid",void 0),c([f()],Be.prototype,"selectionMode",void 0),c([f()],Be.prototype,"selectedItems",void 0),c([f()],Be.prototype,"selectedDragItemLayerUid",void 0),c([f()],Be.prototype,"visibleElements",void 0),c([f()],Be.prototype,"visibilityAppearance",void 0),c([f()],Be.prototype,"_title",null),c([f()],Be.prototype,"_renderedItemStatus",null),c([f()],Be.prototype,"_renderedItemTemporaryIcon",null),c([f()],Be.prototype,"_renderedItemToggle",null),c([f()],Be.prototype,"_renderedPanel",null),c([f()],Be.prototype,"_renderedPanelAction",null),c([f()],Be.prototype,"_renderedActions",null),c([f()],Be.prototype,"_renderedActionMenu",null),c([f()],Be.prototype,"_renderedActionMenuContent",null),c([f()],Be.prototype,"_renderedCatalogFootprintIcon",null),c([f()],Be.prototype,"_renderedCatalogDynamicIcon",null),c([f()],Be.prototype,"_renderedCatalogSelectNode",null),c([f()],Be.prototype,"_renderedChildList",null),c([f()],Be.prototype,"_hasTables",null),c([f()],Be.prototype,"_renderedTablesItem",null),c([f()],Be.prototype,"_renderedItemMessage",null),c([f()],Be.prototype,"_singleAction",null),c([f()],Be.prototype,"_filteredSections",null),c([f()],Be.prototype,"_actionsCount",null),Be=nA=c([E("esri.widgets.LayerList.LayerListItem")],Be);const lRe=Be;function aA(t){return t!=null&&typeof t=="object"&&t.type==="2d"&&t.view2dType==="linkchart"}function jne(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const i=e._delegatedEventNames,r=Array.isArray(t)?t:cRe(t);i.push(...r)}}function cRe(t){return t.split(",").map(e=>e.trim())}function V8(t){return t&&typeof t.render=="function"}function uRe(t){return t&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}let ns=class extends An.IdentifiableMixin(It){constructor(e,i){super(e,i),this._legend=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([Y(()=>this._canCreateLegend,()=>this._createLegend(),Le),Y(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),Le)])}destroy(){this._legend=Lt(this._legend)}get _canCreateLegend(){const{content:e,listItem:i}=this;if(!i)return!1;const r="legend";return e===r||e!=null&&!!Array.isArray(e)&&e.includes(r)}get _legendOptions(){const{listItem:e,_legendLayerInfo:i}=this,r=e==null?void 0:e.view;return i&&r?{view:r,layerInfos:[i]}:{}}get _legendLayerInfo(){var a;const e=(a=this.listItem)==null?void 0:a.layer;if(!e||e.type==="subtype-sublayer")return null;const i=nO(e)?e:null,r=e==null?void 0:e.parent,s=r!=null&&"type"in r&&r.type==="map-image"?i==null?void 0:i.source:null,n="";return s&&r?{layer:r,title:n,sublayerIds:[s.mapLayerId]}:{layer:e,title:n}}get disabled(){var s;const{listItem:e,_legend:i,content:r}=this;return!e||!(Array.isArray(r)&&r.length>1)&&!!i&&(!((s=i.activeLayerInfos)!=null&&s.length)||!e.visibleAtCurrentScale||!e.visible)}set disabled(e){this._overrideIfSome("disabled",e)}get icon(){const{image:e}=this,i=this._getFirstWidget();return this._get("icon")??(!e&&i?i.icon:null)}set icon(e){this._overrideIfSome("icon",e)}get title(){var e;return this._get("title")||(((e=this._getFirstWidget())==null?void 0:e.label)??"")}set title(e){this._override("title",e)}render(){return M("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(e){const{_legend:i,disabled:r,open:s}=this;return e&&!r&&s?e==="legend"&&i?M("div",{key:"legend-widget"},i.render()):typeof e=="string"?M("div",{innerHTML:e,key:e}):V8(e)?M("div",{key:"content-widget"},e.render()):e instanceof HTMLElement?M("div",{afterCreate:this._attachToNode,bind:e,key:"content-element"}):null:null}_renderContents(){const{content:e,open:i}=this;return i?Array.isArray(e)?e.map(r=>this._renderContent(r)):this._renderContent(e):null}async _createLegend(){if(Lt(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:e}=await R(()=>Promise.resolve().then(()=>lqe),void 0),i=new e(this._legendOptions);this._legend=i}_attachToNode(e){e.appendChild(this)}_updateLegend(){const e=this._legend;e&&e.set(this._legendOptions)}_getWidget(e){return e==="legend"?this._legend:V8(e)?e:null}_getFirstWidget(){const{content:e}=this;return Array.isArray(e)?e.map(i=>this._getWidget(i)).find(i=>i):this._getWidget(e)}};c([f()],ns.prototype,"_legend",void 0),c([f()],ns.prototype,"_canCreateLegend",null),c([f()],ns.prototype,"_legendOptions",null),c([f()],ns.prototype,"_legendLayerInfo",null),c([f()],ns.prototype,"content",void 0),c([f()],ns.prototype,"disabled",null),c([f()],ns.prototype,"flowEnabled",void 0),c([f()],ns.prototype,"icon",null),c([f()],ns.prototype,"image",void 0),c([f()],ns.prototype,"listItem",void 0),c([f()],ns.prototype,"open",void 0),c([f()],ns.prototype,"title",null),c([f()],ns.prototype,"visible",void 0),ns=c([E("esri.widgets.LayerList.ListItemPanel")],ns);const qne=ns;var k2;const dRe=K.ofType({key:"type",defaultKeyValue:"button",base:oS,typeMap:{button:Fee,toggle:Nee}}),Bne=K.ofType(dRe),U$="layer",q5="child-list-mode",fRe="hide";let Mt=k2=class extends An.IdentifiableMixin(ce){constructor(t){super(t),this.actionsSections=new Bne,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(K.ofType(k2)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.parent=null,this.view=null}initialize(){if(this.addHandles([Y(()=>{var t;return[this.layer,(t=this.layer)==null?void 0:t.listMode,this.listModeDisabled]},()=>this._watchLayerProperties(this.layer),Le),Y(()=>this.checkPublishStatusEnabled,t=>this._updateChildrenPublishing(t),Le),Y(()=>this.view,t=>this._updateChildrenView(t),Le),Y(()=>this.panel,t=>this._setListItemOnPanel(t),Le)]),typeof this.listItemCreatedFunction=="function"){const t={item:this};this.listItemCreatedFunction.call(null,t)}}destroy(){var t;(t=this.panel)==null||t.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:t,publishing:e}=this;if(!e&&t&&"connectionStatus"in t)return t.connectionStatus}get error(){var t;return(t=this.layer)==null?void 0:t.loadError}get incompatible(){const{layerView:t}=this;return!(!t||!("spatialReferenceSupported"in t))&&!t.spatialReferenceSupported}get layerView(){const{layer:t,view:e}=this;if(!t||!e||t.type==="sublayer")return null;const i=t.type==="subtype-sublayer"?t.parent:t;return e.allLayerViews.find(r=>r.layer===i)??null}set panel(t){const e=this._get("panel");t!==e&&t&&(e==null||e.destroy()),this._set("panel",t)}castPanel(t){var e;return(e=this.panel)!=null&&e.open&&!t.hasOwnProperty("open")&&(t.open=!0),t?new qne(t):null}get sortable(){var t;return((t=this.layer)==null?void 0:t.type)!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(t){this._set("sortable",t)}get title(){const t=_s(this,"layer.layer");return(!t||t&&_s(this,"layer.layer.loaded"))&&_s(this,"layer.title")||_s(this,"layer.attributes.title")||""}set title(t){this._override("title",t)}get publishing(){var i;const{layer:t,checkPublishStatusEnabled:e}=this;return!!(e&&t&&"publishingInfo"in t&&((i=t.publishingInfo)==null?void 0:i.status)==="publishing")}get updating(){const{layerView:t,connectionStatus:e,layer:i,publishing:r}=this;return!r&&!e&&(t?t.updating:(i==null?void 0:i.loadStatus)==="loading"||!1)}get visible(){var t;return!!((t=this.layer)!=null&&t.visible)}set visible(t){const e=this.layer;e&&(e.visible=t)}get visibleAtCurrentScale(){var t,e;return((t=this.layerView)==null?void 0:t.visibleAtCurrentScale)??!iRe(this.layer,(e=this.view)==null?void 0:e.scale)}get visibleAtCurrentTimeExtent(){var t;return((t=this.layerView)==null?void 0:t.visibleAtCurrentTimeExtent)??!0}get visibilityMode(){return XLe(this.layer)}clone(){return new k2({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(t){t&&(t.listItem=this)}_updateChildrenPublishing(t){var e;(e=this.children)==null||e.forEach(i=>i.checkPublishStatusEnabled=t)}_updateChildrenView(t){const e=this.children;e&&e.forEach(i=>i.view=t)}_createChildren(t){const{listModeDisabled:e,children:i}=this,r=t.filter(s=>!i.some(n=>n.layer===s));i.addMany(this._createChildItems(r,e))}_destroyChildren(t){const{children:e}=this,i=e.filter(r=>!!r.layer&&!t.includes(r.layer));e.destroyMany(i)}_sortChildren(t){this.children.sort((e,i)=>t.indexOf(i.layer)-t.indexOf(e.layer))}_destroyAllChildren(){this.removeHandles(q5),this.children.destroyAll()}_watchChildLayerListMode(t){this.removeHandles(q5),this.listModeDisabled||this.addHandles(t.toArray().map(e=>Y(()=>e.listMode,()=>this._compileChildren(t))),q5)}_compileChildren(t){const e=this.listModeDisabled?t:t==null?void 0:t.filter(i=>z8(i)!==fRe);t!=null&&t.length?(this._createChildren(e),this._destroyChildren(e),this._sortChildren(e),this._watchChildLayerListMode(t)):this._destroyAllChildren()}_watchSublayerChanges(t){t&&this.addHandles(t.on("change",()=>this._compileChildren(t)),U$)}_initializeChildLayers(t){this._compileChildren(t),this._watchSublayerChanges(t)}_createChildItems(t,e){return t.reverse().map(i=>e||tRe(i)?new k2({layer:i,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(Kt)}_watchLayerProperties(t){if(this.removeHandles(U$),this.removeHandles(q5),!t)return;if((!this.listModeDisabled&&z8(t))==="hide-children")return void this.children.destroyAll();const e=Dne(t);e&&this.addHandles(Y(()=>t[e],i=>{t.hasOwnProperty(e)&&this._initializeChildLayers(i)},Le),U$)}};c([f({type:Bne})],Mt.prototype,"actionsSections",void 0),c([f()],Mt.prototype,"actionsOpen",void 0),c([f()],Mt.prototype,"checkPublishStatusEnabled",void 0),c([f({type:K.ofType(Mt)})],Mt.prototype,"children",void 0),c([f()],Mt.prototype,"childrenSortable",void 0),c([f({readOnly:!0})],Mt.prototype,"connectionStatus",null),c([f({readOnly:!0})],Mt.prototype,"error",null),c([f()],Mt.prototype,"hidden",void 0),c([f({readOnly:!0})],Mt.prototype,"incompatible",null),c([f()],Mt.prototype,"layer",void 0),c([f({readOnly:!0})],Mt.prototype,"layerView",null),c([f()],Mt.prototype,"listItemCreatedFunction",void 0),c([f({nonNullable:!0})],Mt.prototype,"listModeDisabled",void 0),c([f()],Mt.prototype,"open",void 0),c([f({type:qne})],Mt.prototype,"panel",null),c([Xe("panel")],Mt.prototype,"castPanel",null),c([f()],Mt.prototype,"parent",void 0),c([f({value:!0})],Mt.prototype,"sortable",null),c([f()],Mt.prototype,"title",null),c([f({readOnly:!0})],Mt.prototype,"publishing",null),c([f({readOnly:!0})],Mt.prototype,"updating",null),c([f()],Mt.prototype,"view",void 0),c([f()],Mt.prototype,"visible",null),c([f({readOnly:!0})],Mt.prototype,"visibleAtCurrentScale",null),c([f({readOnly:!0})],Mt.prototype,"visibleAtCurrentTimeExtent",null),c([f({readOnly:!0})],Mt.prototype,"visibilityMode",null),Mt=k2=c([E("esri.widgets.LayerList.ListItem")],Mt);const aO=Mt,co={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},hRe="hide",Une=K.ofType(aO);let gl=class extends ha.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new Une,this.view=null}initialize(){this.addHandles([Y(()=>{var e;return((e=this.view)==null?void 0:e.ready)===!0},()=>this._viewHandles(),Le),Y(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),Y(()=>aA(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],co.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:e}=this;return e!=null&&e.ready?"ready":e?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(e=>e.children).length}triggerAction(e,i){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:i})}moveListItem(e,i,r,s){var m,g;const n=e==null?void 0:e.layer;if(!n||n.type==="subtype-sublayer"||n.type==="sublayer")return;const a=(g=(m=this.view)==null?void 0:m.map)==null?void 0:g.layers,o=i?vU(i):a,l=r?vU(r):a;if(!o||!l)return;const{operationalItems:u}=this,d=(i==null?void 0:i.children)||u,h=(r==null?void 0:r.children)||u,p=l.length-s;e.parent=r||null,d.remove(e),o.remove(n),h.includes(e)||h.add(e,p),l.includes(n)||l.add(n,p),this._compileList()}_createLayerViewHandles(e){this.removeHandles(co.layerViews),this._compileList(),e&&this.addHandles(e.on("change",()=>this._compileList()),co.layerViews)}_createMapLayerHandles(e){this.removeHandles(co.mapLayers),this._compileList(),e&&this.addHandles(e.on("change",()=>this._compileList()),co.mapLayers)}_createListItem(e){const{view:i,listItemCreatedFunction:r,checkPublishStatusEnabled:s,listModeDisabled:n}=this;return new aO({checkPublishStatusEnabled:s,listModeDisabled:n,layer:e,listItemCreatedFunction:r,view:i})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter(i=>z8(i)!==hRe):void 0}_watchLayersListMode(e){this.removeHandles(co.layerListMode),e&&!this.listModeDisabled&&this.addHandles(Y(()=>e.filter(i=>"listMode"in i).map(i=>i.listMode).toArray(),()=>this._compileList()),co.layerListMode)}_compileList(){var s,n;const e=(n=(s=this.view)==null?void 0:s.map)==null?void 0:n.layers,i=aA(this.view)&&!this.view.inGeographicLayout?e==null?void 0:e.filter(({type:a})=>a==="link-chart"):e;this._watchLayersListMode(i);const r=this._getViewableLayers(i);r!=null&&r.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createNewItems(e){const{operationalItems:i}=this;e.forEach(r=>{i.some(s=>s.layer===r)||i.add(this._createListItem(r))})}_removeItems(e){const{operationalItems:i}=this,r=[];i.forEach(s=>{s&&e&&e.includes(s.layer)||r.push(s)}),i.destroyMany(r)}_sortItems(e){const{operationalItems:i}=this;i.sort((r,s)=>{const n=e.indexOf(r.layer),a=e.indexOf(s.layer);return n>a?-1:n<a?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([co.mapLayers,co.layerViews,co.viewLayers]),e!=null&&e.ready?this.addHandles([Y(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.allLayers},i=>this._createMapLayerHandles(i),Le),Y(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},i=>this._createLayerViewHandles(i),Le)],co.viewLayers):this._removeAllItems()}};c([f()],gl.prototype,"checkPublishStatusEnabled",void 0),c([f()],gl.prototype,"listItemCreatedFunction",void 0),c([f({nonNullable:!0})],gl.prototype,"listModeDisabled",void 0),c([f({type:Une})],gl.prototype,"operationalItems",void 0),c([f({readOnly:!0})],gl.prototype,"state",null),c([f()],gl.prototype,"totalItems",null),c([f()],gl.prototype,"view",void 0),gl=c([E("esri.widgets.LayerList.LayerListViewModel")],gl);const Gne=gl;let Ia=class extends ce{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"catalogLayerList",void 0),c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"closeButton",void 0),c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"collapseButton",void 0),c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"errors",void 0),c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"filter",void 0),c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"flow",void 0),c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"heading",void 0),c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"statusIndicators",void 0),c([f({type:Boolean,nonNullable:!0})],Ia.prototype,"temporaryLayerIndicators",void 0),Ia=c([E("esri.widgets.LayerList.LayerListVisibleElements")],Ia);const Hne=Ia,Wne=["label","description","metadata"],pRe=K.ofType(aO),_U="nested";let Ue=class extends An.IdentifiableMixin(It){constructor(e,i){super(e,i),this._rootListEl=null,this._activeItem=null,this._tooltipReferenceMap=new Sm,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusLayerFlowItem=null,this._layerListMap=new Sm,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this._openedLayersController=null,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterPredicate=null,this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.layerTablesEnabled=new K(["knowledge-graph"]),this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.mapImageOptions=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=GLe,this.minFilterItems=ULe,this.openedLayers=new K,this.openedLayerLists=new K,this.selectedItems=new pRe,this.selectionMode="none",this.tableList=null,this.tileOptions=null,this.viewModel=new Gne,this.visibilityAppearance="default",this.visibleElements=new Hne,this._canMove=({dragEl:r,fromEl:s,toEl:n},a)=>{var C,A,O;const o=a==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,l=Io(r);if(!(l!=null&&l.sortable))return!1;const u=Io(s),d=wU(s),h=Io(n),p=wU(n),m=!!d&&!!p&&d===p,g={selected:l,from:u,to:h},b=s.group,v=n.group,w=((C=u==null?void 0:u.layer)==null?void 0:C.type)??"",_=((A=h==null?void 0:h.layer)==null?void 0:A.type)??"",S=new Set(["map-image","catalog","knowledge-graph"]);return b&&v&&typeof o=="function"?o.call(null,g):m&&!S.has(w)&&!S.has(_)&&((O=l==null?void 0:l.layer)==null?void 0:O.type)!=="sublayer"},this._onCatalogOpen=r=>{var s,n;this.openedLayers.push((s=r.layer)==null?void 0:s.parent),this._focusLayerFlowItem=(n=r.layer)==null?void 0:n.uid},this._onTablesOpen=r=>{var s;this.openedLayers.push(r.layer),this._focusLayerFlowItem=(s=r.layer)==null?void 0:s.uid},this._onPanelOpen=()=>{this._focusPanelFlowItem=!0},this._onTooltipReferenceChange=(r,s)=>{s?this._tooltipReferenceMap.set(r,s):this._tooltipReferenceMap.delete(r)},this._onSelectedDragItemLayerUidChange=r=>{this._selectedDragItemLayerUid=r},this._onTriggerAction=(r,s)=>{this.triggerAction(r,s)},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=r=>{if(this.visibilityAppearance!=="default")return;const s=Array.from(r.composedPath()).find(n=>{var a;return(a=n.classList)==null?void 0:a.contains(hv.item)});this._activeItem=Io(s)},this._onCalciteListOrderChange=r=>{const{_lastDragDetail:s}=this,{toEl:n,fromEl:a,dragEl:o,newIndex:l}=r;if(a&&n&&!((s==null?void 0:s.newIndex)===l&&(s==null?void 0:s.dragEl)===o&&(s==null?void 0:s.toEl)===n&&(s==null?void 0:s.fromEl)===a))if(this._lastDragDetail=r,this._selectedDragItemLayerUid=o.value,a!==n)this._moveLayerFromChildList({toEl:n,fromEl:a,dragEl:o,newIndex:l});else{const u=Array.from(a.children).filter(d=>d==null?void 0:d.matches("calcite-list-item")).map(d=>d.value);this._sortLayers(a,u)}}}initialize(){this.addHandles([wr(()=>this.openedLayers,"change",()=>this._handleOpenedLayersChange(),Le),wr(()=>this.viewModel.operationalItems,"change",()=>QLe(this.selectedItems),Le),Y(()=>[this.filterPredicate,this._rootListEl],()=>KLe(this._rootListEl,this.filterPredicate))])}loadDependencies(){return Pn({button:()=>R(()=>Promise.resolve().then(()=>T3),void 0),flow:()=>R(()=>import("./index-IoViysGY.js").then(e=>e.i),[]),"flow-item":()=>R(()=>import("./index-CP5XcGHi.js"),__vite__mapDeps([362,2,1,87,18,7,14,27,88,57,9,10,6,86,56,64])),list:()=>R(()=>import("./index-D8Net2Ig.js"),__vite__mapDeps([359,101,1,75,360,361,65,40,13,19,66,63,42,20,7,73,74,30])),notice:()=>R(()=>import("./index-D0mCuMNN.js").then(e=>e.i),__vite__mapDeps([84,15,14])),tooltip:()=>R(()=>import("./index-Bte1654H.js").then(e=>e.i),__vite__mapDeps([111,18,7,14,88,1]))})}destroy(){this._destroyOpenedLayerLists(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(e=>e.children.filter(i=>{var r;return((r=i.layer)==null?void 0:r.type)!=="catalog-dynamic-group"})).length}get _visibleItems(){var e;return(e=this.operationalItems)==null?void 0:e.filter(i=>!i.hidden&&(this.visibleElements.errors||!i.error))}get _openedPanelItems(){return this._visibleItems.flatten(e=>e.children).filter(({hidden:e,panel:i})=>!e&&(i==null?void 0:i.open)&&!i.disabled&&i.flowEnabled)}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get _renderedOpenLayerFlowItems(){const{openedLayers:e}=this;return e.toArray().map((i,r)=>this._renderLayerFlowItem(i,r===e.length-1))}get icon(){return"layers"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(e){this.viewModel.listItemCreatedFunction=e}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(e){this.viewModel.operationalItems=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}triggerAction(e,i){return this.viewModel.triggerAction(e,i)}render(){var r;const e=(r=this.viewModel)==null?void 0:r.state,i={[Ce.hidden]:e==="loading",[Ce.disabled]:e==="disabled"};return M("div",{class:this.classes(hv.base,Ce.widget,Ce.panel,i)},this._renderItemTooltips(),this._renderItems())}async _createFlowList(e,i){const{_layerListMap:r}=this,s=r.get(e);if(s)return s;const n=e.type==="catalog"?await this._createCatalogLayerList(e):await this._createTableList(e);return i.aborted||r.set(e,n),n}async _handleOpenedLayersChange(){var l;const{_layerListMap:e,openedLayers:i,openedLayerLists:r}=this;(l=this._openedLayersController)==null||l.abort();const s=new AbortController,{signal:n}=s;this._openedLayersController=s,e.forEach((u,d)=>{i.includes(d)||(u.destroy(),e.delete(d))});const a=await Promise.all(i.map(u=>this._createFlowList(u,n)));if(n.aborted)return;r.removeAll(),r.addMany(a);const o=r.at(-1);o?"catalogLayer"in o?(this._set("catalogLayerList",o),this._set("tableList",null)):(this._set("catalogLayerList",null),this._set("tableList",o)):(this._set("catalogLayerList",null),this._set("tableList",null))}_destroyOpenedLayerLists(){this.openedLayerLists.destroyAll(),this.openedLayers.removeAll(),this._layerListMap.clear()}_renderItemTooltip(e){var s,n;const{_tooltipReferenceMap:i,messages:r}=this;return e?M("calcite-tooltip",{key:`tooltip-${(s=e.layer)==null?void 0:s.uid}`,overlayPositioning:"fixed",referenceElement:i.get((n=e.layer)==null?void 0:n.uid)},r.layerIncompatibleTooltip):null}_renderItemTooltipNodes(e){var i;return e.incompatible?this._renderItemTooltip(e):(i=e.children)==null?void 0:i.filter(r=>!r.hidden).toArray().map(r=>this._renderItemTooltipNodes(r))}_renderItemTooltips(){var e;return(e=this._visibleItems)==null?void 0:e.toArray().map(i=>this._renderItemTooltipNodes(i))}_renderNoItemsMessage(){return M("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return M("div",{class:hv.itemMessage,key:"esri-layer-list__no-items"},M("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}async _createCatalogLayerList(e){const{default:i}=await R(()=>import("./CatalogLayerList-BgW40w2B.js"),[]),{headingLevel:r,catalogOptions:s,view:n,filterPlaceholder:a,listItemCreatedFunction:o,minFilterItems:l,selectionMode:u,visibilityAppearance:d,_onCatalogOpen:h,_onTablesOpen:p,layerTablesEnabled:m}=this;return new i({headingLevel:r,view:n,filterPlaceholder:a,listItemCreatedFunction:o,minFilterItems:l,selectionMode:u,visibilityAppearance:d,...s,catalogLayer:e,layerTablesEnabled:m,onCatalogOpen:h,onTablesOpen:p})}_getTableListParams(e){switch(e.type){case"knowledge-graph":return{...this.knowledgeGraphOptions,tables:e.tables};case"map-image":return{...this.mapImageOptions,tables:e.subtables};case"tile":return{...this.tileOptions,tables:e.subtables};default:return null}}async _createTableList(e){const{default:i}=await R(()=>import("./TableList-Bz-xcyjK.js"),[]),{headingLevel:r,selectionMode:s,dragEnabled:n}=this;return new i({headingLevel:r,selectionMode:s,dragEnabled:n,...this._getTableListParams(e)})}_renderLayerFlowItem(e,i){var a;const{messages:r,openedLayers:s}=this,n=e.title||this.messages.untitledLayer;return M("calcite-flow-item",{afterCreate:this._focusLayerFlowItemNode,afterUpdate:this._focusLayerFlowItemNode,bind:this,"data-layer-uid":e.uid,description:n,heading:r[e.type==="catalog"?"catalogLayers":"tables"],headingLevel:this.headingLevel,key:`flow-layer-list-${e.uid}`,selected:i,onCalciteFlowItemBack:o=>{o.preventDefault(),s.pop();const l=s.at(-1);l?this._focusLayerFlowItem=l.uid:this._focusRootFlowItem=!0}},(a=this._layerListMap.get(e))==null?void 0:a.render())}_renderPanelFlowItems(){const{_openedPanelItems:e,openedLayers:i}=this;return e.toArray().map(({title:r,panel:s},n)=>{const a=()=>this._handlePanelFlowItemBack(s);return M("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:r,heading:s.title,headingLevel:this.headingLevel,key:`flow-panel-${s.uid}`,selected:!i.length&&n===e.length-1,onCalciteFlowItemBack:o=>{o.preventDefault(),a()}},s.render(),M("calcite-button",{appearance:"transparent",onclick:a,slot:"footer-actions",width:"full"},this.messagesCommon.back))})}_handlePanelFlowItemBack(e){e.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,Xu(e))}_focusLayerFlowItemNode(e){this._focusLayerFlowItem===e.dataset.layerUid&&(this._focusLayerFlowItem=null,Xu(e))}_focusPanelFlowItemNode(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,Xu(e))}_renderItems(){const{visible:e,collapsed:i,_visibleItems:r,_openedPanelItems:s,_filterEnabled:n,_rootGroupUid:a,visibleElements:{closeButton:o,collapseButton:l,heading:u,flow:d},_dragEnabled:h,selectionMode:p,filterText:m,openedLayers:g,filterPlaceholder:b,messages:v}=this,w=[M("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:o,closed:!e,collapsed:i,collapsible:l,heading:u?v.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",selected:!g.length&&!s.length,onCalciteFlowItemClose:()=>this.visible=!1},r!=null&&r.length?null:this._renderNoItems(),M("calcite-list",{afterCreate:_=>{this._rootListEl=_,_.addEventListener("focusin",this._setActiveItem),_.addEventListener("focusout",this._clearActiveItem)},afterRemoved:_=>{this._rootListEl=null,_.removeEventListener("focusin",this._setActiveItem),_.removeEventListener("focusout",this._clearActiveItem)},canPull:_=>this._canMove(_,"pull"),canPut:_=>this._canMove(_,"put"),"data-layer-type":a,displayMode:_U,dragEnabled:h,filterEnabled:n,filterPlaceholder:b,filterProps:Wne,filterText:n?m:"",group:a,key:"root-list",label:v.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:p,onCalciteListChange:_=>this._handleCalciteListChange(_),onCalciteListDragEnd:_=>this._handleCalciteListDragEnd(_.detail),onCalciteListFilter:_=>{var S;return this.filterText=((S=_.currentTarget)==null?void 0:S.filterText)??""},onCalciteListOrderChange:_=>this._onCalciteListOrderChange(_.detail)},r.toArray().map(_=>this._renderItem(_)),n?M("div",{class:hv.filterNoResults,slot:"filter-no-results"},M("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(),this._renderedOpenLayerFlowItems];return e?d?M("calcite-flow",{key:"root-flow"},w):w:null}_renderItem(e,i,r){var s;return M(lRe,{activeItem:this._activeItem,canMove:this._canMove,css:hv,displayMode:_U,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${(s=e.layer)==null?void 0:s.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.viewModel.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:i,parentTitles:r,rootGroupUid:this._rootGroupUid,selectedDragItemLayerUid:this._selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this._onTriggerAction,onCatalogOpen:this._onCatalogOpen,onPanelOpen:this._onPanelOpen,onSelectedDragItemLayerUidChange:this._onSelectedDragItemLayerUidChange,onTablesOpen:this._onTablesOpen,onTooltipReferenceChange:this._onTooltipReferenceChange})}_moveLayerFromChildList({toEl:e,fromEl:i,dragEl:r,newIndex:s}){const n=Io(r),a=Io(e),o=Io(i);this.viewModel.moveListItem(n,o,a,s)}_handleCalciteListDragEnd(e){const{fromEl:i,dragEl:r,oldIndex:s}=e;i.insertBefore(r,i.children[s])}_sortLayers(e,i){var r,s;if(e)if(e===this._rootListEl)zne((s=(r=this.view)==null?void 0:r.map)==null?void 0:s.layers,i);else{const n=Io(e);if(!n)return;rRe(n,i)}}_handleCalciteListChange(e){const{selectionMode:i,selectedItems:r}=this;if(i==="none")return;const s=e.target.selectedItems.map(n=>Io(n)).filter(Boolean);r.removeAll(),r.addMany(s)}};c([f()],Ue.prototype,"_rootListEl",void 0),c([f()],Ue.prototype,"_activeItem",void 0),c([f()],Ue.prototype,"_tooltipReferenceMap",void 0),c([f()],Ue.prototype,"_focusRootFlowItem",void 0),c([f()],Ue.prototype,"_focusPanelFlowItem",void 0),c([f()],Ue.prototype,"_focusLayerFlowItem",void 0),c([f()],Ue.prototype,"_layerListMap",void 0),c([f()],Ue.prototype,"_totalItems",null),c([f()],Ue.prototype,"_visibleItems",null),c([f()],Ue.prototype,"_openedPanelItems",null),c([f()],Ue.prototype,"_dragEnabled",null),c([f()],Ue.prototype,"_filterEnabled",null),c([f()],Ue.prototype,"_renderedOpenLayerFlowItems",null),c([f({readOnly:!0})],Ue.prototype,"catalogLayerList",void 0),c([f()],Ue.prototype,"catalogOptions",void 0),c([f()],Ue.prototype,"collapsed",void 0),c([f()],Ue.prototype,"dragEnabled",void 0),c([f()],Ue.prototype,"filterPlaceholder",void 0),c([f()],Ue.prototype,"filterPredicate",void 0),c([f()],Ue.prototype,"filterText",void 0),c([f()],Ue.prototype,"headingLevel",void 0),c([f()],Ue.prototype,"icon",null),c([f()],Ue.prototype,"knowledgeGraphOptions",void 0),c([f()],Ue.prototype,"label",null),c([f()],Ue.prototype,"layerTablesEnabled",void 0),c([f()],Ue.prototype,"listItemCanGiveFunction",void 0),c([f()],Ue.prototype,"listItemCanReceiveFunction",void 0),c([f()],Ue.prototype,"listItemCreatedFunction",null),c([f()],Ue.prototype,"mapImageOptions",void 0),c([f(),xi("esri/widgets/LayerList/t9n/LayerList")],Ue.prototype,"messages",void 0),c([f(),xi("esri/t9n/common")],Ue.prototype,"messagesCommon",void 0),c([f()],Ue.prototype,"minDragEnabledItems",void 0),c([f()],Ue.prototype,"minFilterItems",void 0),c([f({readOnly:!0})],Ue.prototype,"openedLayers",void 0),c([f({readOnly:!0})],Ue.prototype,"openedLayerLists",void 0),c([f()],Ue.prototype,"operationalItems",null),c([f()],Ue.prototype,"selectedItems",void 0),c([f()],Ue.prototype,"selectionMode",void 0),c([f({readOnly:!0})],Ue.prototype,"tableList",void 0),c([f()],Ue.prototype,"tileOptions",void 0),c([f()],Ue.prototype,"view",null),c([jne("trigger-action"),f({type:Gne})],Ue.prototype,"viewModel",void 0),c([f()],Ue.prototype,"visibilityAppearance",void 0),c([f({type:Hne,nonNullable:!0})],Ue.prototype,"visibleElements",void 0),Ue=c([E("esri.widgets.LayerList")],Ue);const mRe=Ue;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const yRe=t=>gRe(t);var Cf,R_,Tb,O_,oA,SW;let oO=(SW=class extends gP{constructor(i){super(i);tt(this,O_);tt(this,Cf,Dfe(void 0));tt(this,R_);tt(this,Tb,!1);const{el:r}=i,s=r.view;this.setProvisionalExports(void 0),Object.defineProperty(r,"view",{get:()=>re(this,Cf).value,set:n=>{if(this.exports===n)return;const a=r.view;re(this,Cf).value=n,this.exports=n,this.component.requestUpdate("view",a),Ln(this,O_,oA).call(this)},configurable:!0,enumerable:!0}),i!==r&&Object.defineProperty(i,"view",{get:()=>r.view,set:n=>{r.view=n}}),queueMicrotask(()=>s?r.view=s:0)}hostConnected(){this.component.manager.hasDestroy&&(re(this,R_)??Ze(this,R_,ir(()=>{var i;return(i=re(this,Cf).value)==null?void 0:i.destroyed},()=>{var i,r;return void((r=(i=this.component).destroy)==null?void 0:r.call(i).catch(console.error))},{sync:!0})),this.onDestroy(()=>{var i;return(i=re(this,R_))==null?void 0:i.remove()})),this.component.manager.loadedCalled&&j5(this.component)}hostLoad(){this.component.manager.destroyed}hostLoaded(){var s;const{el:i}=this.component,r=((s=i.shadowRoot)==null?void 0:s.firstElementChild)??i.firstElementChild??void 0;i.childElem??(i.childElem=r),Ze(this,Tb,!0),Ln(this,O_,oA).call(this),i.isConnected&&j5(this.component)}hostDisconnected(){var i,r;typeof this.component.el.childElem=="object"&&((r=(i=re(this,Cf).value)==null?void 0:i.ui)==null||r.remove(this.component.el.childElem))}hostUpdate(i){i.has("position")&&this.component.el.childElem!=null&&typeof this.component.position=="string"&&j5(this.component),i.has("referenceElement")&&j5(this.component)}},Cf=new WeakMap,R_=new WeakMap,Tb=new WeakMap,O_=new WeakSet,oA=function(){!re(this,Tb)||re(this,Cf).value==null||(Ze(this,Tb,!1),this.component.arcgisReady.emit())},SW);const gRe=H_(oO);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const OS=(t,e)=>i=>vRe(i,t);var f7,F_,N_,wh,Zne,Jne,Yne,xW;let bRe=(xW=class extends jP{constructor(i,r){var u;super(i,r);tt(this,wh);tt(this,f7,new Map);tt(this,F_);tt(this,N_);new oO(i);const s=this,n=s.instance;let a=n.viewModel,o=n.visibleElements;const l=new Proxy(this.exports,{get(d,h,p){return h==="viewModel"?a:h==="visibleElements"?o:Reflect.get(d,h,p)}});if(Ze(s,N_,n),s.instance=l,s.exports=l,a){const d={component:i,get exports(){return s.instance.viewModel}};Lpe(s).set("viewModel","viewModel"),i.addController(d),a=dJ(i,new WeakRef(d),Pde(i)-1,a,re(s,f7))}s.instance.visibleElements&&(o=Ln(u=s,wh,Zne).call(u,n))}hostConnected(){this.instance=re(this,N_),super.hostConnected()}hostLoad(){Ze(this,F_,Y(()=>this.component.el.view,i=>{const r=this.instance;!("view"in r)&&typeof r.viewModel=="object"?r.viewModel.view=i:r.view=i,!("map"in r)&&typeof r.viewModel=="object"?r.viewModel.map=i==null?void 0:i.map:r.map=i==null?void 0:i.map},{sync:!0,initial:!0}))}hostUpdate(i){i.has("closed")&&(this.instance.visible=!this.component.closed)}hostLoaded(){const{el:i}=this.component;i.childElem??(i.childElem=document.createElement("div")),this.instance.container=i.childElem,this.component.closed!==void 0&&this.onLifecycle(()=>Y(()=>this.instance.visible,r=>this.component.closed=!r,{initial:!0}))}hostDestroy(){var i;(i=re(this,F_))==null||i.remove(),super.hostDestroy()}},f7=new WeakMap,F_=new WeakMap,N_=new WeakMap,wh=new WeakSet,Zne=function(i){return new Proxy(i.visibleElements,{get:(r,s)=>{if(typeof s=="symbol"||s in Promise.prototype)return r[s];const n=[s],a=Ln(this,wh,Jne).call(this,n);return hP(this.component,o=>{const l=o;this.component[l]=!1;let u=i.visibleElements??{},d;for(const p of n.slice(0,-1))if(typeof u[p]=="object"&&u[p]!==null)u=u[p];else{d=!!u[p];break}d===void 0&&(d=!!(u[n.slice(-1)[0]]??!0));const h=l.startsWith("hide")||l.startsWith("show")?l.startsWith("hide"):d;this.onUpdate(p=>{if(p.has(l)){const m=this.component[l];Ln(this,wh,Yne).call(this,n,m,h)}})},a)}})},Jne=function(i){const r=new Proxy({},{get:(s,n)=>{const a=Reflect.get(s,n);return typeof n=="symbol"||n in Promise.prototype?a:(i.push(n),r)}});return r},Yne=function(i,r,s){let n=this.instance.visibleElements??{};for(const o of i.slice(0,-1))(typeof n[o]!="object"||n[o]===null)&&(n[o]={}),n=n[o];const a=!!(s?!r:r);n[i.at(-1)]=a},xW);const vRe=H_(bRe);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const wRe=fa`@layer{arcgis-layer-list{display:block;.arcgis-layer-list{display:flex}.arcgis-layer-list__filter-no-results{padding:var(--calcite-spacing-md) var(--calcite-spacing-lg)}.arcgis-layer-list__item{--calcite-list-item-icon-center: 8.5px}.arcgis-layer-list__item-table-icon,.arcgis-layer-list__item-catalog-icon{margin-inline-end:0}.arcgis-layer-list__item-action-image{flex:0 0 var(--calcite-spacing-xl);background-position:50%;background-repeat:no-repeat;background-size:contain;width:var(--calcite-spacing-xl);height:var(--calcite-spacing-xl);text-align:center;font-size:var(--calcite-font-size)}.arcgis-layer-list__action-menu .arcgis-layer-list__action-group{display:none}.arcgis-layer-list__action-menu[open] .arcgis-layer-list__action-group{display:flex}.arcgis-layer-list__visible-icon{visibility:hidden}.arcgis-layer-list__item--active:hover,.arcgis-layer-list__item--active:focus,.arcgis-layer-list__item--active:focus-within{>.arcgis-layer-list__visible-toggle>.arcgis-layer-list__visible-icon{visibility:visible}}.arcgis-layer-list__status-indicator{visibility:hidden;margin-inline:0;color:transparent}.arcgis-layer-list__publishing{visibility:visible;color:var(--calcite-color-foreground-2);transform-origin:var(--calcite-list-item-icon-center) var(--calcite-list-item-icon-center);animation:arcgis-layer-list__publishing-anim 2s normal infinite}.arcgis-layer-list__updating{visibility:visible;animation:arcgis-layer-list__updating-anim 2s normal infinite}.arcgis-layer-list__connection-status{visibility:visible;margin-inline:calc(var(--calcite-spacing-lg) * .5);width:calc(var(--calcite-spacing-xxxl) * .5);height:calc(var(--calcite-spacing-xxxl) * .5);color:var(--calcite-color-status-danger)}.arcgis-layer-list__connection-status--connected{color:var(--calcite-color-status-success)}.arcgis-layer-list__item-content-bottom{margin:var(--calcite-spacing-md) var(--calcite-spacing-lg)}.arcgis-layer-list__item-content-bottom .arcgis-legend__service{padding:0 0 var(--calcite-spacing-md) 0}.arcgis-layer-list__item-message{margin:var(--calcite-spacing-md) var(--calcite-spacing-lg)}@keyframes arcgis-layer-list__updating-anim{0%,40%{color:transparent}50%,80%{color:var(--calcite-color-brand)}to{color:transparent}}@keyframes arcgis-layer-list__publishing-anim{0%,20%{transform:rotate(45deg)}80%,to{transform:rotate(135deg)}}}}`;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const Xne=NLe((t,e)=>(e.onLoaded(()=>{const i=t.el;t.listenOn(i.childElem,"calciteFlowItemClose",()=>{t.arcgisClose.emit(),t.autoDestroyDisabled||t.destroy()})}),Bs()));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const _Re=OS(mRe);var th;let SRe=(th=class extends Ts{constructor(){super(...arguments),this.widget=_Re(this),this.viewModel=this.widget.viewModel,this.arcgisClose=Xne(this),this.autoDestroyDisabled=!1,this.catalogOptions=this.widget.catalogOptions,this.closed=!1,this.collapsed=this.widget.collapsed,this.dragEnabled=this.widget.dragEnabled,this.filterPlaceholder=this.widget.filterPlaceholder,this.filterPredicate=this.widget.filterPredicate,this.filterText=this.widget.filterText,this.headingLevel=this.widget.headingLevel,this.hideCatalogLayerList=this.widget.visibleElements.catalogLayerList,this.hideFlow=this.widget.visibleElements.flow,this.hideStatusIndicators=this.widget.visibleElements.statusIndicators,this.icon=this.widget.icon,this.knowledgeGraphOptions=this.widget.knowledgeGraphOptions,this.label=this.widget.label,this.listItemCreatedFunction=this.widget.listItemCreatedFunction,this.minDragEnabledItems=this.widget.minDragEnabledItems,this.minFilterItems=this.widget.minFilterItems,this.openedLayers=this.widget.openedLayers,this.position="bottom-left",this.selectedItems=this.widget.selectedItems,this.selectionMode=this.widget.selectionMode,this.showCloseButton=this.widget.visibleElements.closeButton,this.showCollapseButton=this.widget.visibleElements.collapseButton,this.showErrors=this.widget.visibleElements.errors,this.showFilter=this.widget.visibleElements.filter,this.showHeading=this.widget.visibleElements.heading,this.showTemporaryLayerIndicators=this.widget.visibleElements.temporaryLayerIndicators,this.state=this.viewModel.state,this.visibilityAppearance=this.widget.visibilityAppearance,this.arcgisPropertyChange=d0()("state"),this.arcgisReady=Bs(),this.arcgisTriggerAction=Zi(()=>this.widget,"trigger-action")}get catalogLayerList(){return this.widget.catalogLayerList}get operationalItems(){return this.widget.operationalItems}get tableList(){return this.widget.tableList}async destroy(){await this.manager.destroy()}async triggerAction(e,i){var r;(r=this.widget)==null||r.triggerAction(e,i)}},th.properties={autoDestroyDisabled:5,catalogLayerList:32,catalogOptions:0,closed:5,collapsed:7,dragEnabled:5,filterPlaceholder:1,filterPredicate:0,filterText:1,headingLevel:9,hideCatalogLayerList:5,hideFlow:5,hideStatusIndicators:5,icon:1,knowledgeGraphOptions:0,label:1,listItemCreatedFunction:0,minDragEnabledItems:9,minFilterItems:9,openedLayers:0,operationalItems:32,position:1,referenceElement:1,selectedItems:0,selectionMode:1,showCloseButton:5,showCollapseButton:5,showErrors:5,showFilter:5,showHeading:5,showTemporaryLayerIndicators:5,state:3,tableList:32,visibilityAppearance:1},th.shadowRootOptions=Wo,th.styles=wRe,th);gd("arcgis-layer-list",SRe);function SU(t,e){const i=t.featureReduction;return i&&i.type!=="selection"&&(!("maxScale"in i)||!i.maxScale||i.maxScale<e.scale)?i:null}const o_=-1;let wo=class extends ce{constructor(e){super(e),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=q("mapview-transitions-duration"),this.effects=[]}set effect(e){if(this._get("effect")!==(e=e||"")){this._set("effect",e);try{this._transitionTo(xU(e))}catch(i){this._transitionTo([]),W.getLogger(this).warn("Invalid Effect",{effect:e,error:i})}}}get final(){return this._final}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(e){this._updateForScale(e)}get transitioning(){return this._to!==null}canTransitionTo(e){try{return this.scale>0&&$U(this._current,xU(e),this.scale)}catch{return!1}}transitionStep(e,i){this._applyTimeTransition(e),this._updateForScale(i)}endTransition(){this._applyTimeTransition(this.duration)}_transitionTo(e){this.scale>0&&$U(this._current,e,this.scale)?(this._final=e,this._to=z(e),xRe(this._current,this._to,this.scale),this._from=z(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=e),this._set("effects",this._current[0]?z(this._current[0].effects):[])}_applyTimeTransition(e){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=e;const i=Math.min(1,this._time/this.duration);for(let r=0;r<this._current.length;r++){const s=this._current[r],n=this._from[r],a=this._to[r];s.scale=$Re(n.scale,a.scale,i);for(let o=0;o<s.effects.length;o++){const l=s.effects[o],u=n.effects[o],d=a.effects[o];l.interpolate(u,d,i)}}i===1&&(this._current=this._final,this._set("effects",this._current[0]?z(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(e){if(this._set("scale",e),this._current.length===0)return;const i=this._current,r=this._current.length-1;let s,n,a=1;if(i.length===1||e>=i[0].scale)n=s=i[0].effects;else if(e<=i[r].scale)n=s=i[r].effects;else for(let o=0;o<r;o++){const l=i[o],u=i[o+1];if(l.scale>=e&&u.scale<=e){a=(e-l.scale)/(u.scale-l.scale),s=l.effects,n=u.effects;break}}for(let o=0;o<this.effects.length;o++)this.effects[o].interpolate(s[o],n[o],a)}};function xU(t){const e=PR(t)||[];return TRe(e)?[{scale:o_,effects:e}]:e}function $U(t,e,i){var r,s,n,a;return!((r=t[0])!=null&&r.effects)||!((s=e[0])!=null&&s.effects)?!0:!((((n=t[0])==null?void 0:n.scale)===o_||((a=e[0])==null?void 0:a.scale)===o_)&&(t.length>1||e.length>1)&&i<=0)&&ZK(t[0].effects,e[0].effects)}function xRe(t,e,i){const r=t.length>e.length?t:e,s=t.length>e.length?e:t,n=s[s.length-1],a=(n==null?void 0:n.scale)??i,o=(n==null?void 0:n.effects)??[];for(let l=s.length;l<r.length;l++)s.push({scale:a,effects:[...o]});for(let l=0;l<r.length;l++)s[l].scale=s[l].scale===o_?i:s[l].scale,r[l].scale=r[l].scale===o_?i:r[l].scale,JK(s[l].effects,r[l].effects)}function $Re(t,e,i){return t+(e-t)*i}function TRe(t){const e=t[0];return!!e&&"type"in e}c([f()],wo.prototype,"_to",void 0),c([f()],wo.prototype,"duration",void 0),c([f({value:""})],wo.prototype,"effect",null),c([f({readOnly:!0})],wo.prototype,"effects",void 0),c([f({readOnly:!0})],wo.prototype,"final",null),c([f({readOnly:!0})],wo.prototype,"hasEffects",null),c([f({value:0})],wo.prototype,"scale",null),c([f({readOnly:!0})],wo.prototype,"transitioning",null),wo=c([E("esri.layers.effects.EffectView")],wo);function Hot(t){var i;const e=t.layer;return"floorInfo"in e&&((i=e.floorInfo)!=null&&i.floorField)&&"floors"in t.view?Qne(t.view.floors,e.floorInfo.floorField):null}function TU(t,e){var i;return"floorInfo"in e&&((i=e.floorInfo)!=null&&i.floorField)?Qne(t,e.floorInfo.floorField):null}function Qne(t,e){if(!(t!=null&&t.length))return null;const i=t.filter(r=>r!=="").map(r=>`'${r}'`);return i.push("''"),`${e} IN (${i.join(",")}) OR ${e} IS NULL`}function Wot(t,e,i){return e.flatten(({sublayers:s})=>s).length!==t.length?!0:!!t.some(s=>s.originIdOf("minScale")>i||s.originIdOf("maxScale")>i||s.originIdOf("renderer")>i||s.originIdOf("labelingInfo")>i||s.originIdOf("opacity")>i||s.originIdOf("labelsVisible")>i||s.originIdOf("source")>i)||!Kne(t,e)}function IRe(t,e,i){return!!t.some(r=>{var o,l,u;const s=r.source,n=!s||s.type==="map-layer"&&s.mapLayerId===r.id&&(s.gdbVersion==null||s.gdbVersion===i);r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),r.commitProperty("orderBy");const a=((u=(l=(o=r.layer)==null?void 0:o.capabilities)==null?void 0:l.exportMap)==null?void 0:u.supportsSublayerOrderBy)??!1;return!n||r.originIdOf("renderer")>Oe.SERVICE||r.originIdOf("labelingInfo")>Oe.SERVICE||r.originIdOf("opacity")>Oe.SERVICE||r.originIdOf("labelsVisible")>Oe.SERVICE||a&&r.originIdOf("orderBy")>Oe.SERVICE})||!Kne(t,e)}function Kne(t,e){if(!(t!=null&&t.length)||e==null)return!0;const i=e.slice().reverse().flatten(({sublayers:n})=>n&&n.toArray().reverse()).map(n=>n.id).toArray();if(t.length>i.length)return!1;let r=0;const s=i.length;for(const{id:n}of t){for(;r<s&&i[r]!==n;)r++;if(r>=s)return!1}return!0}function Zot(t){return!!t&&t.some(e=>{var i;return e.minScale!=null||((i=e.layerDefinition)==null?void 0:i.minScale)!=null})}const ERe={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let Ea=class extends ce{constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map(i=>{const r=TU(this.floors,i);return i.toExportImageJSON(r)});return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&IRe(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),e.on("sublayer-update",i=>this.notifyChange(ERe[i.propertyName]))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map(i=>i.id).join(","):"show:-1":null}get layerDefs(){var r;const e=!!((r=this.floors)!=null&&r.length),i=this.visibleSublayers.filter(s=>s.definitionExpression!=null||e&&s.floorInfo!=null);return i.length?JSON.stringify(i.reduce((s,n)=>{const a=TU(this.floors,n),o=ow(a,n.definitionExpression);return o!=null&&(s[n.id]=o),s},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const i=this.layer.sublayers,r=this.scale,s=a=>{a.visible&&(r===0||bEe(r,a.minScale,a.maxScale))&&(a.sublayers?a.sublayers.forEach(s):e.unshift(a))};i&&i.forEach(s);const n=this._get("visibleSublayers");return!n||n.length!==e.length||n.some((a,o)=>e[o]!==a)?e:n}toJSON(){const e=this.layer;let i={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?i.dynamicLayers=this.dynamicLayers:i={...i,layers:this.layers,layerDefs:this.layerDefs},i}};c([f({readOnly:!0})],Ea.prototype,"dynamicLayers",null),c([f()],Ea.prototype,"floors",void 0),c([f({readOnly:!0})],Ea.prototype,"hasDynamicLayers",null),c([f()],Ea.prototype,"layer",null),c([f({readOnly:!0})],Ea.prototype,"layers",null),c([f({readOnly:!0})],Ea.prototype,"layerDefs",null),c([f({type:Number})],Ea.prototype,"scale",void 0),c([f({readOnly:!0})],Ea.prototype,"version",null),c([f({readOnly:!0})],Ea.prototype,"visibleSublayers",null),Ea=c([E("esri.layers.support.ExportImageParameters")],Ea);const MRe=9999999e31,CRe=2e-7,kRe={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function j8(t){return kRe[t]??[-34028234663852886e22,34028234663852886e22]}const ARe={u1:1,u2:1,u4:1,u8:1,s8:1,u16:2,s16:2,u32:4,s32:4,f32:4,f64:8,unknown:4,c64:16,c128:32};function PRe(t){return ARe[t]}function Yot(t){return PRe(t.pixelType)*t.bandCount}function Xot(t,e){return t==null||e==null?"s32":t<0?t>=-128&&e<128?"s8":t>=-32768&&e<32768?"s16":"s32":e<256?"u8":e<65536?"u16":"u32"}function LRe(t){return((t==null?void 0:t.startsWith("s"))||(t==null?void 0:t.startsWith("u")))??!1}function Qot(t,e,i,r){let[s,n]=j8(i);const a=LRe(i);return a&&(s-=1e-5,n+=1e-5),a?i.startsWith("u")?RRe(t,e,r,[s,n]):ORe(t,e,r,[s,n]):FRe(t,e,r,[s,n])}function Kot(t,e){for(let i=0;i<e.length;i++)e[i]&&isNaN(t[i])&&(e[i]=0,t[i]=0)}function RRe(t,e,i,r){const[s,n]=r;for(let a=0;a<e.length;a++)if(e[a]){const o=t[a];o<s||o>n?e[a]=0:i[a]=o+.5|0}}function ORe(t,e,i,r){const[s,n]=r;for(let a=0;a<e.length;a++)if(e[a]){const o=t[a];o<s||o>n?e[a]=0:i[a]=o+(o>0?.5:-.5)|0}}function FRe(t,e,i,r){const[s,n]=r;for(let a=0;a<e.length;a++)if(e[a]){const o=t[a];o<s||o>n?e[a]=0:i[a]=o}}function elt(t,e,i){var m,g;if(t.depthCount&&t.depthCount>1)return;const{pixels:r,statistics:s,pixelType:n}=t,a=r[0].length,o=t.bandMasks??[],l=t.mask??new Uint8Array(a).fill(255),u=n==="f32"||n==="f64",d=j8(n);let h=!1;for(let b=0;b<r.length;b++){const v=typeof e=="number"?e:e[b];if(v==null)continue;const w=((m=s==null?void 0:s[b])==null?void 0:m.minValue)??d[0],_=((g=s==null?void 0:s[b])==null?void 0:g.maxValue)??d[1];if(w>v+Number.EPSILON||_<v-Number.EPSILON)continue;const S=o[b]||l.slice(),T=r[b],C=i==null?void 0:i.customFloatTolerance;if(u&&C!==0){let A=C;A||(A=Math.abs(v)>=MRe?CRe*Math.abs(v):n==="f32"?2**-23:Number.EPSILON);for(let O=0;O<T.length;O++)S[O]&&Math.abs(T[O]-v)<A&&(T[O]=0,S[O]=0,l[O]=0,h=!0)}else for(let A=0;A<T.length;A++)S[A]&&T[A]===v&&(T[A]=0,S[A]=0,l[A]=0,h=!0);o[b]=S}if(h){const b=t.bandMasks||t.pixels.length>1?o:null;i!=null&&i.matchAllNoData?t.mask=b&&b.length>1?p(b):l:(t.bandMasks=b,t.mask=l)}function p(b){if(b.length<2)return b[0];const v=b[0].length,w=new Uint8Array(v).fill(0);for(let _=0;_<b.length;_++){const S=b[_];for(let T=0;T<v;T++)S[T]&&(w[T]=255)}return w}h&&"updateStatistics"in t&&t.updateStatistics()}function eae(t){return t==null||t.type==="simple"||t.type==="unique-value"||t.type==="class-breaks"||t.type==="dictionary"||t.type==="heatmap"}function tlt(t,e){if(t==null)return null;if(!eae(t))return new P("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${t.type||t.declaredClass}'`,{renderer:t});switch(t.type){case"simple":return NRe(t,e);case"unique-value":return DRe(t,e);case"class-breaks":return zRe(t,e);case"dictionary":case"heatmap":return null}return null}function lO(t,e){if(!e)return null;if(Array.isArray(e)||(e=[e]),e.length>0){const i=e.map(s=>s.details.symbol.type||s.details.symbol.declaredClass).filter(s=>!!s);i.sort();const r=new Array;return i.forEach((s,n)=>{n!==0&&s===i[n-1]||r.push(s)}),new P("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${r.join(", ")}) which are not supported in 3D`,{renderer:t,symbolErrors:e})}return null}function NRe(t,e){const i={...Uu,...e,cimFallbackEnabled:!0};return lO(t,Ub(t.symbol,i).error)}function DRe(t,e){var n;const i={...Uu,...e,cimFallbackEnabled:!0},r=(n=t.uniqueValueInfos)==null?void 0:n.map(a=>Ub(a.symbol,i).error).filter(Kt),s=Ub(t.defaultSymbol,i);return s.error&&(r==null||r.unshift(s.error)),lO(t,r)}function zRe(t,e){const i={...Uu,...e,cimFallbackEnabled:!0},r=t.classBreakInfos.map(n=>Ub(n.symbol,i).error).filter(Kt),s=Ub(t.defaultSymbol,i);return s.error&&r.unshift(s.error),lO(t,r)}var lA;function VRe(t){switch(t){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function cO(t){var e;return(t==null?void 0:t.type)==="CIMVectorMarker"?(e=t.markerGraphics)==null?void 0:e[0]:void 0}function tae(t){var e,i;return((e=t==null?void 0:t.symbol)==null?void 0:e.type)==="CIMPolygonSymbol"?(i=t.symbol.symbolLayers)==null?void 0:i[0]:void 0}function jRe(t,e){(t==null?void 0:t.type)==="CIMVectorMarker"&&e!=null&&(t.size=e)}function qRe(t,e){const i=cO(t);i&&e!=null&&(i.geometry=VRe(e))}function BRe(t,e){const i=tae(cO(t));i&&e!=null&&(i.color=e.toArray())}function URe(t,e,i){const r=tae(cO(t));r&&e!=null&&i&&(r.colorLocked=e)}function uO(t,e){var u;const{outerRingSize:i,innerDotSize:r,type:s,color:n,colorLocked:a,primitiveOverrides:o}=e,l=((u=t.data.symbol)==null?void 0:u.type)==="CIMPolygonSymbol"?t.data.symbol.symbolLayers:null;if((l==null?void 0:l.length)===2)for(const d of l){const h=d.primitiveName===lA.OuterRing;jRe(d,h?i:r),qRe(d,s),BRe(d,n),URe(d,a,h)}return i!=null&&r!=null&&(t.data.primitiveOverrides=null),o!==void 0&&(t.data.primitiveOverrides=z(o)),t}(function(t){t.OuterRing="reference-size-outer-ring",t.InnerDot="reference-size-inner-dot"})(lA||(lA={}));function iae(t,e,i,r){if(t)if(t.type!=="CIMTextSymbol"){if(t.effects)for(const s of t.effects)IU(s,e);if(t.symbolLayers)for(const s of t.symbolLayers){switch(s.type){case"CIMPictureMarker":case"CIMVectorMarker":GRe(s,e,r);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!(r!=null&&r.preserveOutlineWidth)&&s.width&&(s.width*=e);break;case"CIMPictureFill":s.height&&(s.height*=e),s.offsetX&&(s.offsetX*=e),s.offsetY&&(s.offsetY*=e);break;case"CIMHatchFill":iae(s.lineSymbol,e,!0,{...r,preserveOutlineWidth:!1}),s.offsetX&&(s.offsetX*=e),s.offsetY&&(s.offsetY*=e),s.separation&&(s.separation*=e)}if(s.effects)for(const n of s.effects)IU(n,e)}}else t.height!=null&&(t.height*=e)}function GRe(t,e,i){if(t&&(t.markerPlacement&&HRe(t.markerPlacement,e),t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e),t.anchorPoint&&t.anchorPointUnits==="Absolute"&&(t.anchorPoint={x:t.anchorPoint.x*e,y:t.anchorPoint.y*e}),t.size=t.size!=null?t.size*e:0,t.type==="CIMVectorMarker"&&t.markerGraphics))for(const r of t.markerGraphics)t.scaleSymbolsProportionally||iae(r.symbol,e,!0,i)}function HRe(t,e){switch(PS(t)&&t.offset&&(t.offset*=e),t.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(t.customEndingOffset&&(t.customEndingOffset*=e),t.offsetAlongLine&&(t.offsetAlongLine*=e),t.placementTemplate&&t.placementTemplate.length){const i=t.placementTemplate.map(r=>r*e);t.placementTemplate=i}break;case"CIMMarkerPlacementAlongLineVariableSize":if(t.maxRandomOffset&&(t.maxRandomOffset*=e),t.placementTemplate&&t.placementTemplate.length){const i=t.placementTemplate.map(r=>r*e);t.placementTemplate=i}break;case"CIMMarkerPlacementOnLine":t.startPointOffset&&(t.startPointOffset*=e);break;case"CIMMarkerPlacementAtExtremities":t.offsetAlongLine&&(t.offsetAlongLine*=e);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":t.beginPosition&&(t.beginPosition*=e),t.endPosition&&(t.endPosition*=e);break;case"CIMMarkerPlacementPolygonCenter":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e);break;case"CIMMarkerPlacementInsidePolygon":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e),t.stepX&&(t.stepX*=e),t.stepY&&(t.stepY*=e)}}function IU(t,e){switch(t.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":t.width&&(t.width*=e);break;case"CIMGeometricEffectBuffer":t.size&&(t.size*=e);break;case"CIMGeometricEffectCut":t.beginCut&&(t.beginCut*=e),t.endCut&&(t.endCut*=e),t.middleCut&&(t.middleCut*=e);break;case"CIMGeometricEffectDashes":if(t.customEndingOffset&&(t.customEndingOffset*=e),t.offsetAlongLine&&(t.offsetAlongLine*=e),t.dashTemplate&&t.dashTemplate.length){const i=t.dashTemplate.map(r=>r*e);t.dashTemplate=i}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":t.length&&(t.length*=e);break;case"CIMGeometricEffectMove":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":t.offset&&(t.offset*=e);break;case"CIMGeometricEffectRegularPolygon":t.radius&&(t.radius*=e);break;case"CIMGeometricEffectTaperedPolygon":t.fromWidth&&(t.fromWidth*=e),t.length&&(t.length*=e),t.toWidth&&(t.toWidth*=e);break;case"CIMGeometricEffectWave":t.amplitude&&(t.amplitude*=e),t.period&&(t.period*=e)}}function rae(t){const e=[];return cA(eO(t),e),e.length?new ee(sne(e[0])):null}function cA(t,e){var s;if(!t)return;let i;i=t.type==="CIMTextSymbol"?t.symbol:t;const r=t.type==="CIMPolygonSymbol";if(i!=null&&i.symbolLayers){for(const n of i.symbolLayers)if(!(n.colorLocked||r&&(nne(n)||tO(n)&&n.markerPlacement&&PS(n.markerPlacement))))switch(n.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":n.tintColor&&q8(e,n.tintColor);break;case"CIMVectorMarker":(s=n.markerGraphics)==null||s.forEach(a=>{cA(a.symbol,e)});break;case"CIMSolidStroke":case"CIMSolidFill":q8(e,n.color);break;case"CIMGradientFill":WRe(e,n);break;case"CIMHatchFill":cA(n.lineSymbol,e)}}}function q8(t,e){for(const i of t)if(i.join(".")===e.join("."))return;t.push(e)}function WRe(t,e){var r,s;switch((r=e.colorRamp)==null?void 0:r.type){case"CIMMultipartColorRamp":(s=e.colorRamp.colorRamps)==null||s.forEach(n=>{n.type==="CIMLinearContinuousColorRamp"&&EU(t,n)});break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":EU(t,e.colorRamp)}}function EU(t,e){e&&(e.fromColor&&q8(t,e.fromColor),e.toColor&&q8(t,e.toColor))}function sae(t,e,i){e instanceof ee||(e=new ee(e));const r=eO(t);r&&uA(r,e)}function uA(t,e,i){var n;if(!t)return;let r;r=t.type==="CIMTextSymbol"?t.symbol:t;const s=(r==null?void 0:r.type)==="CIMPolygonSymbol";if(r!=null&&r.symbolLayers)for(const a of r.symbolLayers){if(a.colorLocked||s&&(nne(a)||tO(a)&&a.markerPlacement&&PS(a.markerPlacement)))continue;const o=e.toArray();switch(a.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":a.tintColor=o;break;case"CIMVectorMarker":(n=a.markerGraphics)==null||n.forEach(l=>{uA(l.symbol,e)});break;case"CIMSolidStroke":case"CIMSolidFill":a.color=o;break;case"CIMGradientFill":ZRe(a,e);break;case"CIMHatchFill":uA(a.lineSymbol,e)}}}function ZRe(t,e){var r,s;switch((r=t.colorRamp)==null?void 0:r.type){case"CIMMultipartColorRamp":(s=t.colorRamp.colorRamps)==null||s.forEach(n=>{n.type==="CIMLinearContinuousColorRamp"&&MU(n,e)});break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":MU(t.colorRamp,e)}}function MU(t,e){if(t&&(t.fromColor&&(t.fromColor=e.toArray()),t.toColor)){const i=e.clone();i.a=0,t.toColor=i.toArray()}}function ilt(t,e,i=!1){const r=eO(t);if(i&&(e=360-e),(r==null?void 0:r.type)!=="CIMTextSymbol"){if((r==null?void 0:r.type)==="CIMPointSymbol"&&r.symbolLayers){const s=e-(r.angle||0);for(const n of r.symbolLayers)if(tO(n)){let a=n.rotation||0;n.rotateClockwise?a-=s:a+=s,n.rotation=a}r.angle=e}}else r.angle=e}var $i;(function(t){t[t.size=22]="size",t[t.lineWidth=50]="lineWidth",t[t.maxSize=120]="maxSize",t[t.maxOutlineSize=80]="maxOutlineSize",t[t.tallSymbolWidth=20]="tallSymbolWidth"})($i||($i={}));const xw={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],meshSymbol3DFill:[{type:"path",path:"M -10,-8 L 6,0 L 6,6 L -10,6 L -10,-8 Z"},{type:"path",path:"M -10,-8 L -7,-10 L 9,-2 L 6,0 L -10,-8 Z"},{type:"path",path:"M 6,0 L 9,-2 L 9,4 L 6,6 L 6,0 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}]};function JRe(t,e,i){const r=$i.size;let s=r,n=r;t<1?s*=.75:t>1&&(n*=1.25);const a=0,o=0;let l=r,u=r;return e&&i&&(s=n=l=u=0),[{type:"path",path:[{command:"M",values:[l,a]},{command:"L",values:[i?l:.875*l,a]},{command:"L",values:[i?s-.5*l:o,n-.5*u]},{command:"L",values:[s-.5*l,n-.5*u]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[l,a]},{command:"L",values:[l,e?a:.125*u]},{command:"L",values:[s-.5*l,e?n-.5*u:u]},{command:"L",values:[s-.5*l,n-.5*u]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s-.5*l,n-.5*u]},{command:"L",values:[i?s-.5*l:o,n-.5*u]},{command:"L",values:[i?s-.5*l:o,e?n-.5*u:u]},{command:"L",values:[s-.5*l,e?n-.5*u:u]},{command:"Z",values:[]}]}]}function YRe(t){const e=$i.size,i=.5*t,r=0,s=0;return[{type:"path",path:[{command:"M",values:[s,.7*e*.5]},{command:"L",values:[.3*e,.7*e]},{command:"L",values:[.3*e,.7*e+i]},{command:"L",values:[s,.7*e+i-.7*e*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*e,.7*e]},{command:"L",values:[.3*e,.7*e+i]},{command:"L",values:[e,i]},{command:"L",values:[e,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*e,r]},{command:"L",values:[e,r]},{command:"L",values:[.3*e,.7*e]},{command:"L",values:[s,.7*e*.5]},{command:"Z",values:[]}]}]}function XRe(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function QRe(t,e){let i=e?$i.tallSymbolWidth:t;const r=t,s=e?4:6;i<=$i.size?i-=.5*s:i-=s;const n=0,a=0,o=e?.35*i:.5*i;return[{type:"path",path:[{command:"M",values:[.5*i,n]},{command:"L",values:[i,.5*o]},{command:"L",values:[.5*i,o]},{command:"L",values:[a,.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,.5*o]},{command:"L",values:[.5*i,o]},{command:"L",values:[.5*i,r]},{command:"L",values:[a,r-.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*i,o]},{command:"L",values:[.5*i,r]},{command:"L",values:[i,r-.5*o]},{command:"L",values:[i,.5*o]},{command:"Z",values:[]}]}]}function KRe(t,e){let i=e?$i.tallSymbolWidth:t;const r=t,s=e?4:6;i<=$i.size?i-=.5*s:i-=s;const n=.5*i,a=.15*i,o=0,l=r-a;return[{type:"ellipse",cx:.5*i,cy:l,rx:n,ry:a},{type:"path",path:[{command:"M",values:[o,a]},{command:"L",values:[o,l]},{command:"L",values:[i,l]},{command:"L",values:[i,a]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*i,cy:a,rx:n,ry:a}]}function eOe(t,e){let i=e?$i.tallSymbolWidth:t;const r=t,s=e?4:6;i<=$i.size?i-=.5*s:i-=s;const n=.15*i,a=r-n;return[{type:"ellipse",cx:.5*i,cy:a,rx:.5*i,ry:n},{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[i,a]},{command:"L",values:[0,a]},{command:"Z",values:[]}]}]}function tOe(t){let e=t;const i=t,r=6;e<$i.size?e-=.5*r:e-=r;const s=.15*e,n=0;return[{type:"path",path:[{command:"M",values:[0,n]},{command:"L",values:[e,n]},{command:"L",values:[.5*e,i-s]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*e,cy:n,rx:.5*e,ry:s}]}function iOe(t){let e=t;const i=t,r=4;e<$i.size?e-=.5*r:e-=r;const s=0,n=0,a=e,o=i,l=Math.floor(t/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*a,s]},{command:"L",values:[a,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*a,s]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"L",values:[n,.5*o-l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"L",values:[.45*a,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*a,i]},{command:"L",values:[a,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"Z",values:[]}]}]}function rOe(t){const e=t,i=2;let r=t;r<$i.size?r-=.5*i:r-=i;const s=0,n=0;return[{type:"path",path:[{command:"M",values:[.45*e,s]},{command:"L",values:[e,r]},{command:"L",values:[.45*e,.6*r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*e,s]},{command:"L",values:[.45*e,.6*r]},{command:"L",values:[n,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,r]},{command:"L",values:[.45*e,.6*r]},{command:"L",values:[e,r]},{command:"Z",values:[]}]}]}function Xf(t,e){return Math.round(Math.min(Math.max(t+255*e*.75,0),255))}function rlt(t,e){if(t==null)return new ee;if("type"in t&&(t.type==="linear"||t.type==="pattern"))return t;const i=new ee(t);return new ee([Xf(i.r,e),Xf(i.g,e),Xf(i.b,e),i.a])}function nae(t){return"r"in t&&"g"in t&&"b"in t}function aae(t){return"h"in t&&"s"in t&&"v"in t}function oae(t){return"l"in t&&"a"in t&&"b"in t}function lae(t){return"l"in t&&"c"in t&&"h"in t}function sOe(t){return"x"in t&&"y"in t&&"z"in t}const nOe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],aOe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function cae(t,e){const i=[];let r,s;if(t[0].length!==e.length)throw new Error("dimensions do not match");const n=t.length,a=t[0].length;let o=0;for(r=0;r<n;r++){for(o=0,s=0;s<a;s++)o+=t[r][s]*e[s];i.push(o)}return i}function uae(t){const e=[t.r/255,t.g/255,t.b/255].map(r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4),i=cae(nOe,e);return{x:100*i[0],y:100*i[1],z:100*i[2]}}function dO(t){const e=cae(aOe,[t.x/100,t.y/100,t.z/100]).map(i=>{const r=i<=.0031308?12.92*i:1.055*i**.4166666666666667-.055;return Math.min(1,Math.max(r,0))});return{r:Math.round(255*e[0]),g:Math.round(255*e[1]),b:Math.round(255*e[2])}}function dae(t){const e=[t.x/95.047,t.y/100,t.z/108.883].map(i=>i>.008856451679035631?i**.3333333333333333:7.787037037037035*i+.13793103448275862);return{l:116*e[1]-16,a:500*(e[0]-e[1]),b:200*(e[1]-e[2])}}function fae(t){const e=t.l,i=[(e+16)/116+t.a/500,(e+16)/116,(e+16)/116-t.b/200].map(r=>r>6/29?r**3:3*(6/29)**2*(r-4/29));return{x:95.047*i[0],y:100*i[1],z:108.883*i[2]}}function oOe(t){const e=t.l,i=t.a,r=t.b,s=Math.sqrt(i*i+r*r);let n=Math.atan2(r,i);return n=n>0?n:n+2*Math.PI,{l:e,c:s,h:n}}function lOe(t){const e=t.l,i=t.c,r=t.h;return{l:e,a:i*Math.cos(r),b:i*Math.sin(r)}}function cOe(t){return dae(uae(t))}function uOe(t){return dO(fae(t))}function dOe(t){return oOe(dae(uae(t)))}function fOe(t){return dO(fae(lOe(t)))}function hOe(t){const e=t.r,i=t.g,r=t.b,s=Math.max(e,i,r),n=s-Math.min(e,i,r);let a=s,o=n===0?0:s===e?(i-r)/n%6:s===i?(r-e)/n+2:(e-i)/n+4,l=n===0?0:n/a;return o<0&&(o+=6),o*=60,l*=100,a*=100/255,{h:o,s:l,v:a}}function pOe(t){const e=(t.h+360)%360/60,i=t.s/100,r=t.v/100*255,s=r*i,n=s*(1-Math.abs(e%2-1));let a;switch(Math.floor(e)){case 0:a={r:s,g:n,b:0};break;case 1:a={r:n,g:s,b:0};break;case 2:a={r:0,g:s,b:n};break;case 3:a={r:0,g:n,b:s};break;case 4:a={r:n,g:0,b:s};break;case 5:case 6:a={r:s,g:0,b:n};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+r-s),a.g=Math.round(a.g+r-s),a.b=Math.round(a.b+r-s),a}function f0(t){return nae(t)?t:lae(t)?fOe(t):oae(t)?uOe(t):sOe(t)?dO(t):aae(t)?pOe(t):t}function FS(t){return aae(t)?t:hOe(f0(t))}function mOe(t){return oae(t)?t:cOe(f0(t))}function slt(t){return lae(t)?t:dOe(f0(t))}function yOe(t){return hae(t).isBright?"light":"dark"}function hae(t){let{r:e,g:i,b:r,a:s}=t;return s<1&&(e=Math.round(s*e+255*(1-s)),i=Math.round(s*i+255*(1-s)),r=Math.round(s*r+255*(1-s))),new ee({r:e,g:i,b:r})}function pae(t,e){const{r:i,g:r,b:s}=e!=null&&e.ignoreAlpha?t:hae(t);return .2126*i+.7152*r+.0722*s}var dA;function nlt(t,e=dA.High){return pae(t,{ignoreAlpha:!0})>e?new ee([0,0,0,t.a]):new ee([255,255,255,t.a])}function alt(t,e){const i=mOe(t);i.l*=1-e;const r=f0(i),s=t.clone();return s.setColor(r),s.a=t.a,s}function olt(t,e){const i=t.clone();return i.a*=e,i}function llt(t,e){const i=FS(t);i.s*=e;const r=f0(i),s=t.clone();return s.setColor(r),s.a=t.a,s}function clt(t){return ee.toUnitRGBA(t)}function ult(t){return u0(t[0],t[1],t[2],t.length>3?t[3]:1)}function dlt(t,e){const i=ee.toUnitRGBA(t);return i[3]*=e,i}function CU(t,e,i={}){if(t.length===0||e<=0)return[];if((t=t.map(r=>typeof r=="string"?new ee(r):r)).length===1||e===1){const r=[],s=t[0];for(let n=0;n<e;n++)r.push(s.clone());return r}if(i.shuffle&&(t=rZ(z(t),i.seed)),t.length>=e){const r=[],s=(t.length-1)/(e-1);for(let n=0;n<e;n++){const a=Math.round(n*s);r.push(t[a].clone())}return r}return gOe(t,e,i)}function gOe(t,e,i={}){const r=[],s=t.length-1,n=Math.ceil((e-t.length)/s);e:for(let a=0;a<s;a++){const o=t[a],l=t[a+1];for(let u=1;u<=n;u++){const d=u/(n+1);if(r.push(bOe(o,l,d,i)),r.length+t.length===e)break e}}return[...t.map(a=>a.clone()),...rZ(r,i.seed??1)]}(function(t){t[t.Low=160]="Low",t[t.High=225]="High"})(dA||(dA={}));const G$=(t,e)=>{const i=Math.floor(10*e())-5;return Math.min(255,Math.max(0,t+i))};function bOe(t,e,i,r={}){const s=t.r,n=t.g,a=t.b,o=e.r,l=e.g,u=e.b,d=Math.round(s+(o-s)*i),h=Math.round(n+(l-n)*i),p=Math.round(a+(u-a)*i);if(!r.offset)return new ee([d,h,p]);const m=wP(r.seed);return new ee([G$(d,m),G$(h,m),G$(p,m)])}const mae="picture-fill",yae="simple-fill",vOe="simple-line",gae="simple-marker",wOe="text",_Oe="cim",kU=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),H$=new Vse(1e3);function SOe(t){const e=t.style;let i=null;if(t)switch(t.type){case gae:e!=="cross"&&e!=="x"&&(i=t.color);break;case yae:e&&e!=="solid"?e!=="none"&&(i={type:"pattern",x:0,y:0,src:Xt(`esri/symbols/patterns/${e}.png`),width:5,height:5}):i=t.color;break;case mae:i={type:"pattern",src:t.url,width:et(t.width)*t.xscale,height:et(t.height)*t.yscale,x:et(t.xoffset),y:et(t.yoffset)};break;case wOe:i=t.color;break;case _Oe:i=rae(t)}return i}function xOe(t,e){const i=t+"-"+e;return H$.get(i)!==void 0?Promise.resolve(H$.get(i)):it(t,{responseType:"image"}).then(r=>{const s=r.data,n=s.naturalWidth,a=s.naturalHeight,o=document.createElement("canvas");o.width=n,o.height=a;const l=o.getContext("2d");l.fillStyle=e,l.fillRect(0,0,n,a),l.globalCompositeOperation="destination-in",l.drawImage(s,0,0);const u=o.toDataURL();return H$.put(i,u),u})}function l_(t){if(!t)return null;let e=null;switch(t.type){case yae:case mae:case gae:e=l_(t.outline);break;case vOe:{const i=et(t.width);t.style!=null&&t.style!=="none"&&i!==0&&(e={color:t.color,style:fO(t.style),width:i,cap:t.cap,join:t.join==="miter"?et(t.miterLimit):t.join},e.dashArray=bae(e).join(",")||"none");break}default:e=null}return e}function bae(t){if(!(t!=null&&t.style))return[];const{dashArray:e,style:i,width:r}=t;if(typeof e=="string"&&e!=="none")return e.split(",").map(a=>Number(a));const s=r??0,n=kU.has(i)?kU.get(i).map(a=>a*s):[];if(t.cap!=="butt")for(const[a,o]of n.entries())n[a]=a%2==1?o+s:Math.max(o-s,1);return n}const fO=(()=>{const t={};return e=>{if(t[e])return t[e];const i=e.replaceAll("-","");return t[e]=i,i}})(),$Oe=new ee([128,128,128]);let TOe=0;function IOe(){return TOe++}let EOe=0;function MOe(){return EOe++}let COe=0;function kOe(){return COe++}const AOe="http://www.w3.org/2000/svg",AU=q("android"),POe=q("chrome")||AU&&AU>=4?"auto":"optimizeLegibility",LOe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},ROe=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let fi={},_t={};const OOe=Math.PI;function Vf(t,e){const i=t*(OOe/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function vae(t){return t.map(e=>`${e.command} ${e.values.join(" ")}`).join(" ").trim()}function hO(t,e,i,r,s){if(t){if(t.type==="circle")return M("circle",{cx:t.cx,cy:t.cy,fill:e,"fill-rule":"evenodd",r:t.r,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-dashoffset":i.dashOffset,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width});if(t.type==="ellipse")return M("ellipse",{cx:t.cx,cy:t.cy,fill:e,"fill-rule":"evenodd",rx:t.rx,ry:t.ry,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width});if(t.type==="rect")return M("rect",{fill:e,"fill-rule":"evenodd",height:t.height,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width,width:t.width,x:t.x,y:t.y});if(t.type==="image")return M("image",{alt:s||"image",height:t.height,href:t.src,preserveAspectRatio:"none",width:t.width,x:t.x,y:t.y});if(t.type==="path"){const n=typeof t.path!="string"?vae(t.path):t.path;return M("path",{d:n,fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width})}if(t.type==="text")return n1(r),M("text",{"dominant-baseline":r.dominantBaseline,fill:e,"fill-rule":"evenodd","font-family":r.font.family,"font-size":r.font.size,"font-style":r.font.style,"font-variant":r.font.variant,"font-weight":r.font.weight,kerning:r.kerning,rotate:r.rotate,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width,"text-anchor":r.align,"text-decoration":r.decoration,"text-rendering":POe,x:t.x,y:t.y},t.text)}return null}function pO(t){if(!t)return{fill:"none",pattern:null,linearGradient:null};if(!("type"in t))return{fill:new ee(t).toString(),pattern:null,linearGradient:null};if(t.type==="pattern"){const i=`patternId-${IOe()}`;return{fill:`url(#${i})`,pattern:{id:i,x:t.x,y:t.y,width:t.width,height:t.height,image:{x:0,y:0,width:t.width,height:t.height,href:t.src}},linearGradient:null}}const e=`linearGradientId-${MOe()}`;return{fill:`url(#${e})`,pattern:null,linearGradient:{id:e,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stops:t.colors.map(i=>({offset:i.offset,color:i.color&&new ee(i.color).toString()}))}}}function mO(t){const e={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};return t&&(t.width!=null&&(e.width=t.width),t.cap&&(e.cap=t.cap),t.join&&(e.join=t.join.toString()),t.color&&(e.color=new ee(t.color).toString()),t.dashArray&&(e.dashArray=t.dashArray),t.dashoffset&&(e.dashOffset=t.dashoffset),t.style&&!t.dashArray&&(e.dashArray=bae(t).join(",")||"none")),e}function wae(t,e){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(t){const r=t.alignBaseline,s=r==="baseline"?"auto":r==="top"?"text-top":r==="bottom"?"hanging":r;i.align=t.align,i.dominantBaseline=s,i.decoration=t.decoration,i.kerning=t.kerning?"auto":"0",i.rotate=t.rotated?"90":"0",n1(e),i.font.style=e.style||"normal",i.font.variant=e.variant||"normal",i.font.weight=e.weight||"normal",i.font.size=e.size&&e.size.toString()||"10pt",i.font.family=e.family||"serif"}return i}function _ae(t){const{pattern:e,linearGradient:i}=t;if(e)return M("pattern",{height:e.height,id:e.id,patternUnits:"userSpaceOnUse",width:e.width,x:e.x,y:e.y},M("image",{height:e.image.height,href:e.image.href,width:e.image.width,x:e.image.x,y:e.image.y}));if(i){const r=i.stops.map((s,n)=>M("stop",{key:`${n}-stop`,offset:s.offset,"stop-color":s.color}));return M("linearGradient",{gradientUnits:"userSpaceOnUse",id:i.id,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2},r)}return null}function FOe(t,e){if(!t||t.length===0)return null;const i=[];for(const r of t){const{shape:s,fill:n,stroke:a,font:o}=r,l=pO(n),u=mO(a),d=s.type==="text"?wae(s,o):null,h=hO(s,l.fill,u,d);h&&i.push(h)}return M("mask",{id:e,maskUnits:"userSpaceOnUse"},M("g",null,i))}function PU(t,e,i){return Pc(t,p3(t),[e,i])}function LU(t,e,i,r,s){return m3(t,p3(t),[e,i]),t[4]=t[4]*e-r*e+r,t[5]=t[5]*i-s*i+s,t}function NOe(t,e,i,r){const s=e%360*Math.PI/180;gh(t,p3(t),s);const n=Math.cos(s),a=Math.sin(s),o=t[4],l=t[5];return t[4]=o*n-l*a+r*a-i*n+i,t[5]=l*n+o*a-i*a-r*n+r,t}function Es(t,e){fi&&"left"in fi?(fi.left!=null&&fi.left>t&&(fi.left=t),(fi.right==null||fi.right<t)&&(fi.right=t),(fi.top==null||fi.top>e)&&(fi.top=e),(fi.bottom==null||fi.bottom<e)&&(fi.bottom=e)):fi={left:t,bottom:e,right:t,top:e}}function RU(t){const e=t.args,i=e.length;let r;switch(t.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(r=0;r<i;r+=2)Es(e[r],e[r+1]);_t.x=e[i-2],_t.y=e[i-1];break;case"H":for(r=0;r<i;++r)Es(e[r],_t.y);_t.x=e[i-1];break;case"V":for(r=0;r<i;++r)Es(_t.x,e[r]);_t.y=e[i-1];break;case"m":{let s=0;for(("x"in _t)||(Es(_t.x=e[0],_t.y=e[1]),s=2),r=s;r<i;r+=2)Es(_t.x+=e[r],_t.y+=e[r+1]);break}case"l":case"t":for(r=0;r<i;r+=2)Es(_t.x+=e[r],_t.y+=e[r+1]);break;case"h":for(r=0;r<i;++r)Es(_t.x+=e[r],_t.y);break;case"v":for(r=0;r<i;++r)Es(_t.x,_t.y+=e[r]);break;case"c":for(r=0;r<i;r+=6)Es(_t.x+e[r],_t.y+e[r+1]),Es(_t.x+e[r+2],_t.y+e[r+3]),Es(_t.x+=e[r+4],_t.y+=e[r+5]);break;case"s":case"q":for(r=0;r<i;r+=4)Es(_t.x+e[r],_t.y+e[r+1]),Es(_t.x+=e[r+2],_t.y+=e[r+3]);break;case"A":for(r=0;r<i;r+=7)Es(e[r+5],e[r+6]);_t.x=e[i-2],_t.y=e[i-1];break;case"a":for(r=0;r<i;r+=7)Es(_t.x+=e[r+5],_t.y+=e[r+6])}}function OU(t,e,i){const r=LOe[t.toLowerCase()];let s;typeof r=="number"&&(r?e.length>=r&&(s={action:t,args:e.slice(0,e.length-e.length%r)},i.push(s),RU(s)):(s={action:t,args:[]},i.push(s),RU(s)))}function DOe(t){const e=(typeof t.path!="string"?vae(t.path):t.path).match(ROe),i=[];if(fi={},_t={},!e)return null;let r="",s=[];const n=e.length;for(let o=0;o<n;++o){const l=e[o],u=parseFloat(l);isNaN(u)?(r&&OU(r,s,i),s=[],r=l):s.push(u)}OU(r,s,i);const a={x:0,y:0,width:0,height:0};return fi&&"left"in fi&&(a.x=fi.left,a.y=fi.top,a.width=fi.right-fi.left,a.height=fi.bottom-fi.top),a}function Sae(t){const e={x:0,y:0,width:0,height:0};if(t.type==="circle")e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if(t.type==="ellipse")e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if(t.type==="image"||t.type==="rect")e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if(t.type==="path"){const i=DOe(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height}return e}function xae(t){const e={x:0,y:0,width:0,height:0};let i=null,r=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(const n of t)i?(i.x=Math.min(i.x,n.x),i.y=Math.min(i.y,n.y),r=Math.max(r,n.x+n.width),s=Math.max(s,n.y+n.height)):(i=e,i.x=n.x,i.y=n.y,r=n.x+n.width,s=n.y+n.height);return i&&(i.width=r-i.x,i.height=s-i.y),i}function fA(t,e,i,r,s,n,a,o,l){let u=(a&&n?Vf(n,e):e)/2,d=(a&&n?Vf(n,i):i)/2;if(l){const _=l[0],S=l[1];u=(a&&n?Vf(n,_):_)/2,d=(a&&n?Vf(n,S):S)/2}const h=t.width+r,p=t.height+r,m=sd(),g=sd();let b=!1;if(s&&h!==0&&p!==0){const _=e!==i?e/i:h/p,S=e>i?e:i;let T=1,C=1;isNaN(S)||(_>1?(T=S/h,C=S/_/p):(C=S/p,T=S*_/h)),ql(g,g,LU(m,T,C,u,d)),b=!0}const v=t.x+(h-r)/2,w=t.y+(p-r)/2;if(ql(g,g,PU(m,u-v,d-w)),!b&&(h>e||p>i)){const _=h/e>p/i,S=(_?e:i)/(_?h:p);ql(g,g,LU(m,S,S,v,w))}return o&&ql(g,g,PU(m,o[0],o[1])),n&&ql(g,g,NOe(m,n,v,w)),`matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`}function zOe(t,e,i){const r=t==null?void 0:t.effects.find(u=>u.type==="bloom");if(!r)return null;const{strength:s,radius:n}=r,a=s>0?n:0,o=(s+a)*e,l=4*s+1;return M("filter",{filterUnits:"userSpaceOnUse",height:"300%",id:`bloom${i}`,width:"300%",x:"-100%",y:"-100%"},M("feMorphology",{in:"SourceGraphic",operator:"dilate",radius:(s+.5*a)*(5**(e/100)*(.4+e/100)),result:"dilate"}),M("feGaussianBlur",{in:"dilate",result:"blur",stdDeviation:o/25}),M("feGaussianBlur",{in:"blur",result:"intensityBlur",stdDeviation:o/50}),M("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},M("feFuncR",{slope:l,type:"linear"}),M("feFuncG",{slope:l,type:"linear"}),M("feFuncB",{slope:l,type:"linear"})),M("feMerge",null,M("feMergeNode",{in:"intensityBlur"}),M("feMergeNode",{in:"intensityBrightness"}),M("feGaussianBlur",{stdDeviation:s/10})))}function $ae(t,e,i,r={}){var p,m,g;const s=[],n=[],a=kOe(),o=zOe(r.effectView,e,a);let l=null;if(o){const b=(p=r.effectView)==null?void 0:p.effects.find(S=>S.type==="bloom"),v=r.clipBloomEffect||!b.strength?0:(b.strength+b.radius/2)/3,w=e+e*v,_=i+i*v;l=[Math.max(w,10),Math.max(_,10)]}let u=e,d=i;if(r.useRotationSize)for(let b=0;b<t.length;b++){const v=((m=r.rotations)==null?void 0:m[b])??0;u=Math.max(Vf(v,e),u),d=Math.max(Vf(v,i),d)}for(let b=0;b<t.length;b++){const v=t[b],w=[],_=[];let S=0,T=0,C=0;for(const F of v){const{shape:D,fill:G,stroke:H,font:se,offset:X}=F;r.ignoreStrokeWidth||D.type==="text"||(S+=(H==null?void 0:H.width)||0);const ue=pO(G),xe=mO(H),be=D.type==="text"?wae(D,se):null;s.push(_ae(ue)),w.push(hO(D,ue.fill,xe,be,r.ariaLabel)),_.push(Sae(D)),X&&(T+=X[0],C+=X[1])}const A=((g=r.rotations)==null?void 0:g[b])??0;r.useRotationSize&&(T+=(u-Vf(A,e))/2,C+=(d-Vf(A,i))/2);const O=fA(xae(_),e,i,S,r.scale??!1,A,r.useRotationSize??!1,[T,C],l);let L=null;if(r.masking){const F=`mask-${b}`,D=r.masking[b];s.push(FOe(D,F)),L=`url(#${F})`}n.push(L?M("g",{mask:L},M("g",{transform:O},w)):M("g",{transform:O},w))}return o&&(n1(l),u=l[0],d=l[1]),M("svg",{"aria-label":r.ariaLabel,focusable:!1,height:d,role:"img",style:"display: block;",width:u,xmlns:AOe},o,M("defs",null,s),o?M("g",{filter:`url(#bloom${a})`},n):n)}const VOe=new ee("white");function jOe(t){var i,r;const e=(i=t.symbolLayers)==null?void 0:i.at(-1);if(e&&"outline"in e)return(r=e==null?void 0:e.outline)==null?void 0:r.size}function qOe(t){var e;if(!t)return 0;if(Bc(t)){const i=jOe(t);return i??0}return lt((e=l_(t))==null?void 0:e.width)}function NS(t){if(t==null||!("symbolLayers"in t)||t.symbolLayers==null)return!1;switch(t.type){case"point-3d":return t.symbolLayers.some(e=>e.type==="object");case"line-3d":return t.symbolLayers.some(e=>e.type==="path");case"polygon-3d":return t.symbolLayers.some(e=>e.type==="object"||e.type==="extrude");default:return!1}}function BOe(t){var e;return((e=t.resource)==null?void 0:e.href)??""}function z0(t,e){if(!t)return null;let i=null;return Bc(t)?i=UOe(t):lS(t)&&(i=t.type==="cim"?rae(t):t.color?new ee(t.color):null),i?c_(i,e):null}function UOe(t){const e=t.symbolLayers;if(!e)return null;let i=null;return e.forEach(r=>{var s;r.type==="object"&&((s=r.resource)!=null&&s.href)||(i=r.type==="water"?r.color:r.material?r.material.color:null)}),i?new ee(i):null}function c_(t,e){if(e==null||t==null)return t;const i=t.toRgba();return i[3]=i[3]*e,new ee(i)}function GOe(t,e,i){const r=t.symbolLayers;if(!r)return;const s=n=>c_(e??n??(i!=null?VOe:null),i);r.forEach(n=>{var a,o;if(n.type!=="object"||!((a=n.resource)!=null&&a.href)||e)if(n.type==="water")n.color=s(n.color);else{const l=n.material!=null?n.material.color:null,u=s(l);if(n.material==null?n.material=new wn({color:u}):n.material.color=u,i!=null&&"outline"in n&&((o=n.outline)==null?void 0:o.color)!=null&&(n.outline.color=c_(n.outline.color,i)),"marker"in n&&n.marker!=null){const d=s(n.marker.color);n.marker.color=d}}})}function HOe(t,e,i){var r;(e=e??t.color)&&(t.color=c_(e,i)),i!=null&&"outline"in t&&((r=t.outline)!=null&&r.color)&&(t.outline.color=c_(t.outline.color,i))}function W$(t,e,i){t&&(e||i!=null)&&(e&&(e=new ee(e)),Bc(t)?GOe(t,e,i):lS(t)&&HOe(t,e,i))}async function WOe(t,e){const i=t.symbolLayers;i&&await B2e(i,async r=>ZOe(r,e))}async function ZOe(t,e){switch(t.type){case"extrude":YOe(t,e);break;case"icon":case"line":case"text":JOe(t,e);break;case"path":QOe(t,e);break;case"object":await XOe(t,e)}}function JOe(t,e){const i=Tae(e);i!=null&&(t.size=i)}function Tae(t){for(const e of t)if(typeof e=="number")return e;return null}function YOe(t,e){const i=e[2];typeof i=="number"&&(t.size=i)}async function XOe(t,e){const{resourceSize:i,symbolSize:r}=await KOe(t),s=Iae(e,i,r);s!=null&&(t.width=$w(e[0],r[0],i[0],s),t.depth=$w(e[1],r[1],i[1],s),t.height=$w(e[2],r[2],i[2],s))}function QOe(t,e){const i=Iae(e,IQ,[t.width,void 0,t.height]);i!=null&&(t.width=$w(e[0],t.width,1,i),t.height=$w(e[2],t.height,1,i))}function Iae(t,e,i){for(let r=0;r<3;r++){const s=t[r];switch(s){case"symbol-value":{const n=i[r];return n!=null?n/e[r]:1}case"proportional":break;default:if(s&&e[r])return s/e[r]}}return null}async function KOe(t){const{computeObjectLayerResourceSize:e}=await R(()=>import("./symbolLayerUtils-CswYLuMn.js"),[]),i=await e(t,10),{width:r,height:s,depth:n}=t,a=[r,n,s];let o=1;for(let l=0;l<3;l++){const u=a[l];if(u!=null){o=u/i[l];break}}for(let l=0;l<3;l++)a[l]==null&&(a[l]=i[l]*o);return{resourceSize:i,symbolSize:a}}function $w(t,e,i,r){switch(t){case"proportional":return i*r;case"symbol-value":return e??i;default:return t}}function eFe(t,e){const i=Tae(e);if(i!=null)switch(t.type){case"simple-marker":t.size=i;break;case"picture-marker":{const r=t.width/t.height;r>1?(t.width=i,t.height=i*r):(t.width=i*r,t.height=i);break}case"simple-line":t.width=i;break;case"text":t.font.size=i}}async function tFe(t,e){if(t&&e)return Bc(t)?WOe(t,e):void(lS(t)&&eFe(t,e))}function iFe(t,e,i){if(t&&e!=null)if(Bc(t)){const r=t.symbolLayers;r&&r.forEach(s=>{if(s.type==="object")switch(i){case"tilt":s.tilt=(s.tilt??0)+e;break;case"roll":s.roll=(s.roll??0)+e;break;default:s.heading=(s.heading??0)+e}s.type==="icon"&&(s.angle+=e)})}else lS(t)&&(t.type!=="simple-marker"&&t.type!=="picture-marker"&&t.type!=="text"||(t.angle+=e))}function w3(t){if(!t)return null;const e=t.effects.filter(i=>i.type!=="bloom").map(i=>i.toJSON());return $8(e)}function flt(t){return t!=null&&t.type==="polygon-3d"&&t.symbolLayers.some(e=>e.type==="extrude")}const FU=G4();function rFe(t,e){FU.append(t,e),FU.detach(e)}function I1(t,e,i){const r=Math.ceil(e[0]),s=Math.ceil(e[1]);if(!t.some(a=>!!a.length))return null;const n=(i==null?void 0:i.node)||document.createElement("div");return i.opacity!=null&&(n.style.opacity=i.opacity.toString()),i.effectView!=null&&(n.style.filter=w3(i.effectView)),rFe(n,()=>$ae(t,r,s,i)),n}function sFe(t,e){t=Math.ceil(t),e=Math.ceil(e);const i=document.createElement("canvas");i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px";const r=i.getContext("2d");return r.clearRect(0,0,t,e),r}function nFe(t,e,i){return t?it(t,{responseType:"image"}).then(r=>{const s=r.data,n=s.width,a=s.height,o=n/a;let l=e;if(i){const u=Math.max(n,a);l=Math.min(l,u)}return{image:s,width:o<=1?Math.ceil(l*o):l,height:o<=1?l:Math.ceil(l/o)}}):Promise.reject(new P("renderUtils: imageDataSize","href not provided."))}function aFe(t,e){return!(!t||e==="ignore")&&(e!=="multiply"||t.r!==255||t.g!==255||t.b!==255||t.a!==1)}function oFe(t,e,i,r,s){switch(s){case"multiply":t[e]*=i[0],t[e+1]*=i[1],t[e+2]*=i[2],t[e+3]*=i[3];break;default:{const n=FS({r:t[e],g:t[e+1],b:t[e+2]});n.h=r.h,n.s=r.s,n.v=n.v/100*r.v;const a=f0(n);t[e]=a.r,t[e+1]=a.g,t[e+2]=a.b,t[e+3]*=i[3];break}}}function lFe(t,e,i,r,s){return nFe(t,e,s).then(n=>{const a=n.width??e,o=n.height??e;if(n.image&&aFe(i,r)){let l=n.image.width,u=n.image.height;q("edge")&&/\.svg$/i.test(t)&&(l-=1,u-=1);const d=sFe(a,o);d.drawImage(n.image,0,0,l,u,0,0,a,o);const h=d.getImageData(0,0,a,o),p=[i.r/255,i.g/255,i.b/255,i.a],m=FS(i);for(let g=0;g<h.data.length;g+=4)oFe(h.data,g,p,m,r);d.putImageData(h,0,0),t=d.canvas.toDataURL("image/png")}else{const l=Pe==null?void 0:Pe.findCredential(t);if(l!=null&&l.token){const u=t.includes("?")?"&":"?";t=`${t}${u}token=${l.token}`}}return{url:t,width:a,height:o}}).catch(()=>({url:t,width:e,height:e}))}const Eae="esri-relationship-ramp",V0=`${Eae}--diamond`,Nd=`${Eae}--square`,cFe="http://www.w3.org/2000/svg",zt={diamondContainer:`${V0}__container`,diamondLeftCol:`${V0}__left-column`,diamondRightCol:`${V0}__right-column`,diamondMidCol:`${V0}__middle-column`,diamondMidColLabel:`${V0}__middle-column--label`,diamondMidColRamp:`${V0}__middle-column--ramp`,squareTable:`${Nd}__table`,squareTableRow:`${Nd}__table-row`,squareTableCell:`${Nd}__table-cell`,squareTableLabel:`${Nd}__table-label`,squareTableLabelLeftBottom:`${Nd}__table-label--left-bottom`,squareTableLabelRightBottom:`${Nd}__table-label--right-bottom`,squareTableLabelLeftTop:`${Nd}__table-label--left-top`,squareTableLabelRightTop:`${Nd}__table-label--right-top`};function Mae(t,e,i={}){const{focus:r,labels:s}=t,n=!!r,a=uFe(t,e,i),o={justifyContent:"center"},l=Bo(),u=i.key??e;return n?M("div",{class:zt.diamondContainer,key:`${u}-container`,styles:o},M("div",{class:zt.diamondLeftCol},l?s.right:s.left),M("div",{class:zt.diamondMidCol},M("div",{class:zt.diamondMidColLabel},s.top),a,M("div",{class:zt.diamondMidColLabel},s.bottom)),M("div",{class:zt.diamondRightCol},l?s.left:s.right)):M("div",{class:zt.squareTable,key:`${u}-container`},M("div",{class:zt.squareTableRow},M("div",{class:og(zt.squareTableCell,zt.squareTableLabel,zt.squareTableLabelRightBottom)},l?s.top:s.left),M("div",{class:zt.squareTableCell}),M("div",{class:og(zt.squareTableCell,zt.squareTableLabel,zt.squareTableLabelLeftBottom)},l?s.left:s.top)),M("div",{class:zt.squareTableRow},M("div",{class:zt.squareTableCell}),a,M("div",{class:zt.squareTableCell})),M("div",{class:zt.squareTableRow},M("div",{class:og(zt.squareTableCell,zt.squareTableLabel,zt.squareTableLabelRightTop)},l?s.right:s.bottom),M("div",{class:zt.squareTableCell}),M("div",{class:og(zt.squareTableCell,zt.squareTableLabel,zt.squareTableLabelLeftTop)},l?s.bottom:s.right)))}function NU(t,e,i){const r=`${i}_arrowStart`,s=`${i}_arrowEnd`,n=t==="left",a={markerStart:null,markerEnd:null};switch(e){case"HL":n?a.markerStart=`url(#${s})`:a.markerEnd=`url(#${r})`;break;case"LL":a.markerStart=`url(#${s})`;break;case"LH":n?a.markerEnd=`url(#${r})`:a.markerStart=`url(#${s})`;break;default:a.markerEnd=`url(#${r})`}return a}function uFe(t,e,i={}){const{focus:r,numClasses:s,colors:n,rotation:a}=t,{opacity:o,effectList:l,ariaLabel:u}=i,d=i.size??60,h=!!r,p=Math.sqrt(d**2+d**2)+(h?0:5),m=[],g=[],b=[],v=(d||75)/s;for(let G=0;G<s;G++){const H=G*v;for(let se=0;se<s;se++){const X=se*v,ue=pO(n[G][se]),xe=mO(null),be={type:"rect",x:X,y:H,width:v,height:v},ye=_ae(ue);ye&&m.push(ye);const at=hO(be,ue.fill,xe,null);at&&g.push(at),b.push(Sae(be))}}const w=15,_=15,S=10;let T=null;h||(T="margin: -15px -15px -18px -15px");const C=NU("left",r,e),A=NU("right",r,e),O=xae(b),L=fA(O,p,p,0,!1,a,!1),F=fA(O,p,p,0,!1,h?-45:null,!1),D={filter:w3(l)??void 0,opacity:o==null?"":`${o}`};return M("div",{class:h?zt.diamondMidColRamp:zt.squareTableCell,styles:D},M("svg",{"aria-label":u,focusable:!1,height:p,role:"image",style:T,width:p,xmlns:cFe},M("defs",null,M("marker",{id:`${e}_arrowStart`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"5",refY:"5"},M("polyline",{fill:"none",points:"0,0 5,5 0,10",stroke:"#555555","stroke-width":"1"})),M("marker",{id:`${e}_arrowEnd`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"0",refY:"5"},M("polyline",{fill:"none",points:"5,0 0,5 5,10",stroke:"#555555","stroke-width":"1"})),m),M("g",{transform:L},g),M("g",{transform:F},M("line",{fill:"none","marker-end":C.markerEnd,"marker-start":C.markerStart,stroke:"#555555","stroke-width":"1",x1:-10,x2:-10,y1:d-w,y2:w}),M("line",{fill:"none","marker-end":A.markerEnd,"marker-start":A.markerStart,stroke:"#555555","stroke-width":"1",x1:_,x2:d-_,y1:d+S,y2:d+S}))))}function dFe(t){return t=t||globalThis.location.hostname,fFe.some(e=>(t==null?void 0:t.match(e))!=null)}function DU(t,e){return t?(e=e||globalThis.location.hostname)?e.match(Cae)!=null||e.match(Aae)!=null?t.replace("static.arcgis.com","staticdev.arcgis.com"):e.match(kae)!=null||e.match(Pae)!=null?t.replace("static.arcgis.com","staticqa.arcgis.com"):t:t:null}const Cae=/^devext\.arcgis\.com$/,kae=/^qaext\.arcgis\.com$/,Aae=/^[\w-]*\.mapsdevext\.arcgis\.com$/,Pae=/^[\w-]*\.mapsqa\.arcgis\.com$/,fFe=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,Cae,kae,/^jsapps\.esri\.com$/,Aae,Pae],hFe=["web-gltf","web","cim"];function Lae(t,e,i){const r=t.name;return r==null?Promise.reject(new P("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):t.styleName==="Esri2DPointSymbolsStyle"?pFe(r,e,i):wse(t,e,i).then(s=>Oae(s,r,e,JMe,i))}function Rae(t,e){return e.items.find(i=>i.name===t)}async function Oae(t,e,i,r,s){var v,w;const n=(i==null?void 0:i.portal)!=null?i.portal:ie.getDefault(),a={portal:n,url:Si(t.baseUrl)},o=Rae(e,t.data);if(!o)throw new P("symbolstyleutils:symbol-name-not-found",`The symbol name '${e}' could not be found`,{symbolName:e});const l=(s==null?void 0:s.acceptedFormats)??hFe,u=r(o,l);if(!u)throw new P("symbolstyleutils:symbol-reference-no-accepted-format",`The symbol name '${e}' does not have an accepted format (one of ${l})`,{symbolName:e});const{url:d,format:h}=u;let p=ud(d,a),m=((v=o.thumbnail)==null?void 0:v.href)??null;const g=(w=o.thumbnail)==null?void 0:w.imageData;dFe()&&(p=DU(p)??"",m=DU(m));const b={portal:n,url:Si(QP(p)),origin:"portal-item"};return GR(p,s).then(_=>{const S=h==="cim"?_se(_.data):_.data,T=bse(S,b);if(T&&Bc(T)){if(m){const C=ud(m,a);T.thumbnail=new wm({url:C})}else g&&(T.thumbnail=new wm({url:`data:image/png;base64,${g}`}));t.styleUrl?T.styleOrigin=new No({portal:i.portal,styleUrl:t.styleUrl,name:e}):t.styleName&&(T.styleOrigin=new No({portal:i.portal,styleName:t.styleName,name:e}))}return T})}function pFe(t,e,i){const r=YMe.replaceAll(/\{SymbolName\}/gi,t),s=e.portal!=null?e.portal:ie.getDefault();return GR(r,i).then(n=>{const a=_se(n.data);return bse(a,{portal:s,url:Si(QP(r)),origin:"portal-item"})})}const mFe=Object.freeze(Object.defineProperty({__proto__:null,fetchSymbolFromStyle:Oae,getStyleItemFromStyle:Rae,resolveWebStyleSymbol:Lae},Symbol.toStringTag,{value:"Module"})),Wp=$i.size,N6=$i.maxSize,yO=$i.maxOutlineSize,zU=$i.lineWidth,hA=$i.tallSymbolWidth;function hg(t){const e=t.outline,i=t.material!=null?t.material.color:null,r=i!=null?i.toHex():null;if(e==null||"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"&&e.pattern.style==="none")return t.type==="fill"&&r==="#ffffff"?{color:"#bdc3c7",width:.75}:null;const s=et(e.size)||0;return{color:"rgba("+(e.color!=null?e.color.toRgba():"255,255,255,1")+")",width:Math.min(s,yO),style:"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"?fO(e.pattern.style):null,join:"butt",cap:"patternCap"in e?e.patternCap:"butt"}}async function yFe(t,e){var r,s,n;if((r=t.thumbnail)!=null&&r.url)return t.thumbnail.url;if(e.type==="icon"&&((s=e==null?void 0:e.resource)==null?void 0:s.href))return BOe(e);const i=Xt("esri/images/Legend/legend3dsymboldefault.png");if(t.styleOrigin&&(t.styleOrigin.styleName||t.styleOrigin.styleUrl)){const a=await Lae(t.styleOrigin,{portal:t.styleOrigin.portal}).catch(()=>null);if(a&&"thumbnail"in a&&((n=a.thumbnail)!=null&&n.url))return a.thumbnail.url}return i}function Z$(t,e=1){const i=t.a,r=FS(t),s=r.h,n=r.s/e,a=100-(100-r.v)/e,{r:o,g:l,b:u}=f0({h:s,s:n,v:a});return[o,l,u,i]}function B8(t){var e;return t.type==="water"?t.color==null?null:t.color:((e=t.material)==null?void 0:e.color)==null?null:t.material.color}function yt(t,e=0){const i=B8(t);if(!i){if(t.type==="fill")return null;const s=$Oe.r,n=Xf(s,e);return[n,n,n,100]}const r=i.toRgba();for(let s=0;s<3;s++)r[s]=Xf(r[s],e);return r}async function Fae(t,e){const i=t.style;return i==="none"?null:{type:"pattern",x:0,y:0,src:await xOe(Xt(`esri/symbols/patterns/${i}.png`),e.toCss(!0)),width:5,height:5}}function VU(t){return t.outline?hg(t):{color:"rgba(0, 0, 0, 1)",width:1.5}}function gO(t,e){const i=B8(t);if(!i)return null;let r="rgba(";return r+=Xf(i.r,e)+",",r+=Xf(i.g,e)+",",r+=Xf(i.b,e)+",",r+i.a+");"}function pA(t,e){const i=gO(t,e);return i?"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"&&t.pattern.style==="none"?null:{color:i,width:Math.min(t.size?et(t.size):.75,yO),style:"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"?fO(t.pattern.style):null,cap:"cap"in t?t.cap:null,join:"join"in t?t.join==="miter"?et(2):t.join:null}:{}}function B5(t,e,i){const r=i!=null?.75*i:0;return{type:"linear",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:t,offset:0},{color:e,offset:1}]}}function gFe(t){const e=t.depth,i=t.height,r=t.width;return r!==0&&e!==0&&i!==0&&r===e&&r!=null&&i!=null&&r<i}function bFe(t,e,i){var s,n;const r=[];if(!t)return r;switch(t.type){case"icon":{const l=e,u=e;switch(((s=t.resource)==null?void 0:s.primitive)??f9e){case"circle":r.push({shape:{type:"circle",cx:0,cy:0,r:.5*e},fill:yt(t,0),stroke:hg(t)});break;case"square":r.push({shape:{type:"path",path:[{command:"M",values:[0,u]},{command:"L",values:[0,0]},{command:"L",values:[l,0]},{command:"L",values:[l,u]},{command:"Z",values:[]}]},fill:yt(t,0),stroke:hg(t)});break;case"triangle":r.push({shape:{type:"path",path:[{command:"M",values:[0,u]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,u]},{command:"Z",values:[]}]},fill:yt(t,0),stroke:hg(t)});break;case"cross":r.push({shape:{type:"path",path:[{command:"M",values:[.5*l,0]},{command:"L",values:[.5*l,u]},{command:"M",values:[0,.5*u]},{command:"L",values:[l,.5*u]}]},stroke:VU(t)});break;case"x":r.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,u]},{command:"M",values:[l,0]},{command:"L",values:[0,u]}]},stroke:VU(t)});break;case"kite":r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*u]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,.5*u]},{command:"L",values:[.5*l,u]},{command:"Z",values:[]}]},fill:yt(t,0),stroke:hg(t)})}break}case"object":switch(((n=t.resource)==null?void 0:n.primitive)??g9e){case"cone":{const a=B5(yt(t,0),yt(t,-.6),i?hA:e),o=eOe(e,i);r.push({shape:o[0],fill:a},{shape:o[1],fill:a});break}case"inverted-cone":{const a=yt(t,0),o=B5(a,yt(t,-.6),e),l=tOe(e);r.push({shape:l[0],fill:o},{shape:l[1],fill:a});break}case"cube":{const a=QRe(e,i);r.push({shape:a[0],fill:yt(t,0)},{shape:a[1],fill:yt(t,-.3)},{shape:a[2],fill:yt(t,-.5)});break}case"cylinder":{const a=B5(yt(t,0),yt(t,-.6),i?hA:e),o=KRe(e,i);r.push({shape:o[0],fill:a},{shape:o[1],fill:a},{shape:o[2],fill:yt(t,0)});break}case"diamond":{const a=iOe(e);r.push({shape:a[0],fill:yt(t,-.3)},{shape:a[1],fill:yt(t,0)},{shape:a[2],fill:yt(t,-.3)},{shape:a[3],fill:yt(t,-.7)});break}case"sphere":{const a=B5(yt(t,0),yt(t,-.6));a.x1=0,a.y1=0,a.x2=.25*e,a.y2=.25*e,r.push({shape:{type:"circle",cx:0,cy:0,r:.5*e},fill:a});break}case"tetrahedron":{const a=rOe(e);r.push({shape:a[0],fill:yt(t,-.3)},{shape:a[1],fill:yt(t,0)},{shape:a[2],fill:yt(t,-.6)});break}}break}return r}function DS(t){const e=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null;return e?et(e):null}function vFe(t){return t.type==="icon"?"multiply":"tint"}async function wFe(t,e){const i=DS(e),r=e!=null&&e.maxSize?et(e.maxSize):null,s=(e==null?void 0:e.disableUpsampling)??!1,n=t.symbolLayers,a=[],o=[];let l=!1,u=0,d=0,h=0;n.forEach(g=>{var _,S,T,C;if(g.type!=="icon"&&g.type!=="object")return;g&&g.type==="icon"&&(h=Math.max(g.size&&et(g.size),h));const b=g.type==="icon"?g.size&&et(g.size):0,v=i||b?Math.ceil(Math.min(i||b,r||N6)):Wp;let w=g.type==="icon"?g.angle:null;if((e==null?void 0:e.rotation)!=null&&(w=(w??0)+e.rotation),o.push(w),(_=g==null?void 0:g.resource)==null?void 0:_.href){const A=yFe(t,g).then(O=>{var D;const L=(D=g==null?void 0:g.material)==null?void 0:D.color,F=vFe(g);return lFe(O,v,L,F,s)}).then(O=>{const L=O.width,F=O.height;return u=Math.max(u,L),d=Math.max(d,F),w&&(l=!0),[{shape:{type:"image",x:0,y:0,width:L,height:F,src:O.url},fill:null,stroke:null}]});a.push(A)}else{let A=v;g.type==="icon"&&i&&(A=v*(b/h));const O=(e==null?void 0:e.symbolConfig)==="tall"||((S=e==null?void 0:e.symbolConfig)==null?void 0:S.isTall)||g.type==="object"&&gFe(g);u=Math.max(u,O?hA:A),d=Math.max(d,A),w&&((T=g.resource)!=null&&T.primitive)&&["square","triangle","x"].includes((C=g.resource)==null?void 0:C.primitive)&&(l=!0),a.push(Promise.resolve(bFe(g,A,O)))}});const p=await Promise.allSettled(a),m=[];return p.forEach(g=>{g.status==="fulfilled"?m.push(g.value):g.reason&&W.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",g.reason)}),I1(m,[u,d],{node:e==null?void 0:e.node,scale:!1,opacity:e==null?void 0:e.opacity,ariaLabel:e==null?void 0:e.ariaLabel,rotations:o,useRotationSize:l})}function _Fe(t,e){const i=t.symbolLayers,r=[],s=NS(t),n=DS(e),a=(e!=null&&e.maxSize?et(e.maxSize):null)||yO;let o,l=0,u=0;return i.forEach((d,h)=>{if(!d||d.type!=="line"&&d.type!=="path")return;const p=[];switch(d.type){case"line":{const m=pA(d,0);if(m==null)break;const g=(m==null?void 0:m.width)||0;h===0&&(o=g);const b=Math.min(n||g,a),v=h===0?b:n?b*(g/o):b,w=v>zU/2?2*v:zU;u=Math.max(u,v),l=Math.max(l,w),m.width=v,p.push({shape:{type:"path",path:[{command:"M",values:[0,.5*u]},{command:"L",values:[l,.5*u]}]},stroke:m});break}case"path":{const m=Math.min(n||Wp,a),g=yt(d,0),b=yt(d,-.2),v=gO(d,-.4),w=v?{color:v,width:1}:{};if(d.profile==="quad"){const _=d.width,S=d.height,T=JRe(_&&S?_/S:1,S===0,_===0),C={...w,join:"bevel"};p.push({shape:T[0],fill:b,stroke:C},{shape:T[1],fill:b,stroke:C},{shape:T[2],fill:g,stroke:C})}else p.push({shape:xw.pathSymbol3DLayer[0],fill:b,stroke:w},{shape:xw.pathSymbol3DLayer[1],fill:g,stroke:w});u=Math.max(u,m),l=u}}r.push(p)}),Promise.resolve(I1(r,[l,u],{node:e==null?void 0:e.node,scale:s,opacity:e==null?void 0:e.opacity,ariaLabel:e==null?void 0:e.ariaLabel}))}async function SFe(t,e){const i=t.type==="mesh-3d",r=t.symbolLayers,s=DS(e),n=e!=null&&e.maxSize?et(e.maxSize):null,a=s||Wp,o=[];let l=0,u=0,d=!1;for(let h=0;h<r.length;h++){const p=r.at(h),m=[];if(!i||p.type==="fill"){switch(p.type){case"fill":{const g=Math.min(a,n||N6);if(l=Math.max(l,g),u=Math.max(u,g),d=!0,i){const b=xw.meshSymbol3DFill,v=gO(p,-.4),w=v?{color:v,width:1,join:"round"}:{};m.push({shape:b[0],fill:yt(p,0),stroke:w},{shape:b[1],fill:yt(p,-.2),stroke:w},{shape:b[2],fill:yt(p,-.6),stroke:w})}else{let b=yt(p,0);const v="pattern"in p?p.pattern:null,w=hg(p),_=B8(p);v!=null&&v.type==="style"&&v.style!=="solid"&&_&&(b=await Fae(v,_)),m.push({shape:xw.fill[0],fill:b,stroke:w})}break}case"line":{const g=pA(p,0);if(g==null)break;const b={stroke:g,shape:xw.fill[0]};l=Math.max(l,Wp),u=Math.max(u,Wp),m.push(b);break}case"extrude":{const g={join:"round",width:1,...pA(p,-.4)},b=yt(p,0),v=yt(p,-.2),w=Math.min(a,n||N6),_=YRe(w);g.width=1,m.push({shape:_[0],fill:v,stroke:g},{shape:_[1],fill:v,stroke:g},{shape:_[2],fill:b,stroke:g});const S=Wp,T=.7*Wp+.5*w;l=Math.max(l,S),u=Math.max(u,T);break}case"water":{const g=B8(p),b=Z$(g),v=Z$(g,2),w=Z$(g,3),_=XRe();d=!0,m.push({shape:_[0],fill:b},{shape:_[1],fill:v},{shape:_[2],fill:w});const S=Math.min(a,n||N6);l=Math.max(l,S),u=Math.max(u,S);break}}o.push(m)}}return I1(o,[l,u],{node:e==null?void 0:e.node,scale:d,opacity:e==null?void 0:e.opacity,ariaLabel:e==null?void 0:e.ariaLabel})}function xFe(t,e){if(t.symbolLayers.length===0)return Promise.reject(new P("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(t.type){case"point-3d":return wFe(t,e);case"line-3d":return _Fe(t,e);case"polygon-3d":case"mesh-3d":return SFe(t,e)}return Promise.reject(new P("symbolPreview: swatchInfo3D","symbol not supported."))}const $Fe=Object.freeze(Object.defineProperty({__proto__:null,getPatternDescriptor:Fae,getSizeFromOptions:DS,getSymbolLayerFill:yt,previewSymbol3D:xFe},Symbol.toStringTag,{value:"Module"})),jU={HH:315,HL:45,LL:135,LH:225},TFe={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function IFe(t){if(!t)return;const{type:e}=t;if(e.includes("3d"))return yt(t.symbolLayers.at(0));if(e==="simple-line"){const i=l_(t);return i&&i.color}if(t.type==="simple-marker"&&(t.style==="x"||t.style==="cross")){const i=l_(t);return i&&i.color}return SOe(t)}function EFe(t,e){const i=e.HH.label,r=e.LL.label,s=e.HL.label,n=e.LH.label;switch(t){case"HH":default:return{top:i,bottom:r,left:s,right:n};case"HL":return{top:s,bottom:n,left:r,right:i};case"LL":return{top:r,bottom:i,left:n,right:s};case"LH":return{top:n,bottom:s,left:i,right:r}}}function MFe(t){const{focus:e,infos:i,numClasses:r}=t,s=TFe[r],n={};i.forEach(o=>{n[o.value]={label:o.label,fill:IFe(o.symbol)}});const a=[];for(let o=0;o<r;o++){const l=[];for(let u=0;u<r;u++){const d=n[s[o][u]];l.push(d.fill)}a.push(l)}return{type:"relationship-ramp",numClasses:r,focus:e,colors:a,labels:EFe(e,n),rotation:Nae(e)}}function Nae(t){let e=jU[t];return t&&e==null&&(e=jU.HH),e||0}let j0=null;const qU=[255,255,255];function BU(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function CFe(t,e,i){const{backgroundColor:r,outline:s,dotSize:n}=t,a=(i==null?void 0:i.swatchSize)||$i.size,o=.8,l=Math.round(a*a/Math.max(n,.5)**2*o),u=window.devicePixelRatio,d=document.createElement("canvas"),h=a*u;d.width=h,d.height=h,d.style.width=d.width/u+"px",d.style.height=d.height/u+"px";const p=d.getContext("2d");if(r&&(p.fillStyle=r.toCss(!0),p.fillRect(0,0,h,h),p.fill()),p.fillStyle=(e==null?void 0:e.toCss(!0))??"",j0&&j0.length/2===l)for(let g=0;g<2*l;g+=2){const b=j0[g],v=j0[g+1];p.fillRect(b,v,n*u,n*u),p.fill()}else{j0=[];for(let g=0;g<2*l;g+=2){const b=BU(0,h),v=BU(0,h);j0.push(b,v),p.fillRect(b,v,n*u,n*u),p.fill()}}s&&(s.color&&(p.strokeStyle=s.color.toCss(!0)),p.lineWidth=s.width,p.strokeRect(0,0,h,h));const m=new Image(a,a);return m.src=d.toDataURL(),m.ariaLabel=(i==null?void 0:i.ariaLabel)??null,m.alt=(i==null?void 0:i.ariaLabel)??"",m}function kFe(t,e={}){const i=e.radius||40,r=2*Math.PI*i,s=t.length,n=r/s,a=[],o=l_(e.outline);(o==null?void 0:o.width)!=null&&(o.width*=2),(o||e.backgroundColor)&&a.push({shape:{type:"circle",cx:i,cy:i,r:i},fill:e.backgroundColor,stroke:o,offset:[0,0]});const l=e.values,u=l&&l.length===s&&l.reduce((g,b)=>g+b,0)===100,d=[0];for(let g=0;g<s;g++){let b=null;u&&(b=l[g]*r/100,d.push(b+d[g])),a.push({shape:{type:"circle",cx:i,cy:i,r:i/2},fill:[0,0,0,0],stroke:{width:i,dashArray:`${(b??n)/2} ${r}`,dashoffset:"-"+(u?d[g]/2:g*(n/2)),color:t[g]},offset:[0,0]})}let h=null;const p=2*i+((o==null?void 0:o.width)||0),m=e.holePercentage;if(m){o&&a.push({shape:{type:"circle",cx:i,cy:i,r:i*m},fill:null,stroke:o,offset:[0,0]});const g=p/2;h=[[{shape:{type:"circle",cx:g,cy:g,r:g},fill:qU,stroke:o?{...o,color:qU}:null,offset:[0,0]},{shape:{type:"circle",cx:g,cy:g,r:i*m},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return I1([a],[p,p],{effectView:e.effectList,ignoreStrokeWidth:!0,masking:h,rotations:[-90],ariaLabel:e.ariaLabel})}function Ip(t,e={}){const s=e.align==="horizontal",n=s?75:24,a=s?24:75,o=e.width??n,l=e.height??a,u=e.gradient??!0,d=window.devicePixelRatio,h=o*d,p=l*d,m=document.createElement("canvas");m.width=h,m.height=p,m.ariaLabel=e.ariaLabel??null,m.style.width=`${o}px`,m.style.height=`${l}px`;const g=m.getContext("2d"),b=s?h:0,v=s?0:p;if(u){const _=g.createLinearGradient(0,0,b,v),S=t.length,T=S===1?0:1/(S-1);t.forEach((C,A)=>_.addColorStop(A*T,C.toString())),g.fillStyle=_,g.fillRect(0,0,h,p)}else{const _=s?h/t.length:h,S=s?p:p/t.length;let T=0,C=0;for(const A of t)g.fillStyle=A.toString(),g.fillRect(T,C,_,S),T=s?T+_:0,C=s?0:C+S}const w=document.createElement("div");return w.style.width=`${o}px`,w.style.height=`${l}px`,AFe(w,e==null?void 0:e.effectList),w.appendChild(m),w}function AFe(t,e){if(!e)return;t.style.filter=w3(e);const i=e.effects;if(i){for(const r of i)if((r==null?void 0:r.type)==="drop-shadow"){r.offsetX<0?t.style.marginLeft=`${Math.abs(r.offsetX)}px`:t.style.marginRight=`${r.offsetX}px`;break}}}async function Dae(t,e){switch(t.type){case"web-style":{const{previewWebStyleSymbol:i}=await R(()=>import("./previewWebStyleSymbol-BFyBJc73.js"),[]);return i(t,Dae,e)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:i}=await R(()=>Promise.resolve().then(()=>$Fe),void 0);return i(t,e)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:i}=await R(()=>import("./previewSymbol2D-BnLM0UK6.js"),[]);return i(t,e)}case"cim":{const{previewCIMSymbol:i}=await R(()=>Promise.resolve().then(()=>tje),void 0);return i(t,e)}default:return}}function zae(t){return t&&"opacity"in t?t.opacity*zae(t.parent):1}async function hlt(t,e){var S;if(!t)return;const i=t.sourceLayer,r=(e!=null&&e.useSourceLayer?i:t.layer)??i,s=e!=null&&e.ignoreOpacity?1:zae(r);if(t.symbol!=null&&(e==null||e.ignoreGraphicSymbol!==!0)){const T=t.symbol.type==="web-style"?await t.symbol.fetchSymbol({...e,acceptedFormats:e==null?void 0:e.webStyleAcceptedFormats,cache:e==null?void 0:e.webStyleCache}):t.symbol.clone();return W$(T,null,s),T}const n=(e==null?void 0:e.renderer)??PFe(r);let a=n&&"getSymbolAsync"in n?await n.getSymbolAsync(t,e):null;if(!a)return;if(a=a.type==="web-style"?await a.fetchSymbol({...e,acceptedFormats:e==null?void 0:e.webStyleAcceptedFormats,cache:e==null?void 0:e.webStyleCache}):a.clone(),!n||!("visualVariables"in n)||!((S=n.visualVariables)!=null&&S.length))return W$(a,null,s),a;if("arcadeRequiredForVisualVariables"in n&&n.arcadeRequiredForVisualVariables&&(e==null?void 0:e.arcade)==null){const T={...e};T.arcade=await Qa(),e=T}const{getColor:o,getOpacity:l,getAllSizes:u,getRotationAngle:d}=await R(()=>Promise.resolve().then(()=>c0),void 0),h=[],p=[],m=[],g=[];for(const T of n.visualVariables)switch(T.type){case"color":h.push(T);break;case"opacity":p.push(T);break;case"rotation":g.push(T);break;case"size":T.target||m.push(T)}const b=!!h.length&&h[h.length-1],v=b?o(b,t,e):null,w=!!p.length&&p[p.length-1];let _=w?l(w,t,e):null;if(s!=null&&(_=_!=null?_*s:s),e!=null&&e.ignoreOpacity&&(_=1),v!=null&&w&&_!=null&&(v.a=1),W$(a,v,_),m.length&&(e==null?void 0:e.ignoreSizeVariables)!==!0){const T=u(m,t,e);await tFe(a,T)}if((e==null?void 0:e.ignoreRotationVariables)!==!0)for(const T of g)iFe(a,d(T,t,e),T.axis);return a}function PFe(t){if(t)return"renderer"in t?t.renderer:void 0}function LFe(t,e,i){const r=t.effectiveClusterRenderer;if(!r||!("visualVariables"in r)||!r.visualVariables)return null;const s=r.visualVariables.find(d=>d.type==="size");if(!("stops"in s)||!s.stops)return null;const n=s.stops.find(d=>d.useMinValue),a=s.stops.find(d=>d.useMaxValue);if(n==null||a==null)return null;const o=i.featuresTilingScheme.getClosestInfoForScale(i.scale).level,l=s.field,u=e.getDisplayStatistics(o,l);return u?new Ke({field:s.field,minSize:t.clusterMinSize,minDataValue:u.minValue,maxSize:t.clusterMaxSize,maxDataValue:u.maxValue}):null}const RFe=/^-?(\d+)(\.(\d+))?$/i;function OFe(t,e){return t-e}function FFe(t,e){let i,r;return i=Number(t.toFixed(e)),i<t?r=i+1/10**e:(r=i,i-=1/10**e),i=Number(i.toFixed(e)),r=Number(r.toFixed(e)),[i,r]}function NFe(t,e,i,r,s){const n=D6(t,e,i,r),a=n.previous==null||n.previous<=s,o=n.next==null||n.next<=s;return a&&o||n.previous+n.next<=2*s}function U8(t){const e=String(t),i=e.match(RFe);if(i!=null&&i[1])return{integer:i[1].split("").length,fractional:i[3]?i[3].split("").length:0};if(e.toLowerCase().includes("e")){const r=e.split("e"),s=r[0],n=r[1];if(s&&n){const a=Number(s);let o=Number(n);const l=o>0;l||(o=Math.abs(o));const u=U8(a);return l?(u.integer+=o,o>u.fractional?u.fractional=0:u.fractional-=o):(u.fractional+=o,o>u.integer?u.integer=1:u.integer-=o),u}}return{integer:0,fractional:0}}function D6(t,e,i,r){const s={previous:null,next:null};if(i!=null){const n=t-i,a=e-i-n;s.previous=Math.floor(Math.abs(100*a/n))}if(r!=null){const n=r-t,a=r-e-n;s.next=Math.floor(Math.abs(100*a/n))}return s}function t0(t,e={}){const i=t.slice(),{tolerance:r=2,strictBounds:s=!1,indexes:n=i.map((a,o)=>o)}=e;n.sort(OFe);for(let a=0;a<n.length;a++){const o=n[a],l=i[o],u=o===0?null:i[o-1],d=o===i.length-1?null:i[o+1],h=U8(l).fractional;if(h){let p,m=0,g=!1;for(;m<=h&&!g;){const b=FFe(l,m);p=s&&a===0?b[1]:b[0],g=NFe(l,p,u,d,r),m++}g&&(i[o]=p)}}return i}const DFe={maximumFractionDigits:20};function zFe(t){return Is(t,DFe)}const Tm=",",Gb={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},VFe="percent-of-total",jFe="field",qFe={exclude:["median"]},BFe={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},UFe=new Set(["integer","small-integer"]);let J$=null;const GFe=["date","date-only","timestamp-offset"];function Js(t){return rS(t)||See(t)||xee(t)}async function ad(t){const{field:e,field2:i,field3:r,normalizationField:s,valueExpression:n}=t;let a=[];if(n){if(!J$){const{arcadeUtils:o}=await Qa();J$=o}a=J$.extractFieldNames(n)}return e&&a.push(e),i&&a.push(i),r&&a.push(r),s&&a.push(s),a}function HFe(t){let e=t.normalizationType;return e||(t.normalizationField?e=jFe:t.normalizationTotal!=null&&(e=VFe)),e??void 0}function pv(t){return String(t).padStart(2,"0")}function UU(t,e,i){let r;return e==="date"||e==="number"?(e==="number"&&(t=new Date(t)),r=`TIMESTAMP'${i?t.getFullYear():t.getUTCFullYear()}-${pv((i?t.getMonth():t.getUTCMonth())+1)}-${pv(i?t.getDate():t.getUTCDate())} ${pv(i?t.getHours():t.getUTCHours())}:${pv(i?t.getMinutes():t.getUTCMinutes())}:${pv(i?t.getSeconds():t.getUTCSeconds())}'`):r=t,r}function WFe(t,e,i,r){const{hasQueryEngine:s}=t,n=`(${UU(i,GU(t,i),s)} - ${UU(e,GU(t,e),s)})`;let a=BFe[r],o="/";return a<1&&(a=1/a,o="*"),{sqlExpression:a===1?n:`(${n} ${o} ${a})`,sqlWhere:null}}function GU(t,e){if(e instanceof Date)return"date";if(typeof e=="number")return"number";if(typeof e=="string"){const i=t.getField(e);if(e.toLowerCase()==="<now>")return;if(rS(i))return"field"}}function bO(t,e=Gb){for(const i in e)if(e[i].includes(t))return i}function vO(t,e,i=!0){let r=null;return t&&(typeof t=="string"?e.includes(t)&&(r=t):r=_3e(t)),i?r||"gray":r}function Vae(t,e){const i=e&&t.getField(e);return!!i&&UFe.has(i.type)}function pg(t){return`cast(${t} as float)`}function wO(t,e){const{format:i,timeZoneOptions:r,fieldType:s}=e??{};let n,a;if(r&&({timeZone:n,timeZoneName:a}=aQ(r.layerTimeZone,r.datesInUnknownTimezone,r.viewTimeZone,xf(i||"short-date-short-time"),s)),typeof t=="string"&&isNaN(Date.parse(s==="time-only"?`1970-01-01T${t}Z`:t)))return t;switch(s){case"date-only":{const o=xf(i||"short-date");return typeof t=="string"?v1e(t,{...o}):Hs(t,{...o,timeZone:Vc})}case"time-only":{const o=xf(i||"short-time");return typeof t=="string"?w1e(t,o):Hs(t,{...o,timeZone:Vc})}case"timestamp-offset":{if(!n&&typeof t=="string"&&new Date(t).toISOString()!==t)return t;const o=i||r?xf(i||"short-date-short-time"):void 0,l=o?{...o,timeZone:n,timeZoneName:a}:void 0;return typeof t=="string"?_1e(t,l):Hs(t,l)}default:{const o=i||r?xf(i||"short-date-short-time"):void 0;return Hs(typeof t=="string"?new Date(t):t,o?{...o,timeZone:n,timeZoneName:a}:void 0)}}}const jae="<",qae=">";function Bae(t,e,i,r){let s="";return e===0?s=`${jae} `:e===i&&(s=`${qae} `),s+(r?wO(t,r):zFe(t))}const ZFe=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];async function mA(t){if(!("visualVariables"in t)||!t.visualVariables)return null;const e=t.visualVariables.find(a=>a.type==="color");if(!e)return null;let i=null,r=null;if(e.stops){if(e.stops.length===1)return e.stops[0].color;i=e.stops[0].value,r=e.stops[e.stops.length-1].value}const s=i!=null&&r!=null?i+(r-i)/2:0,{getColor:n}=await R(async()=>{const{getColor:a}=await Promise.resolve().then(()=>c0);return{getColor:a}},void 0);return n(e,s)??null}async function Uae(t,e){const i=t.trailCap,r=t.trailWidth||1,s=e||await mA(t)||t.color;return new hi({cap:i,color:s,width:r})}function JFe(t,e){var i,r;if(!e.field)return null;if("featureReduction"in t)switch((i=t.featureReduction)==null?void 0:i.type){case"cluster":case"binning":{const s=t.featureReduction.fields.find(({name:n})=>n.toLowerCase()===e.field.toLowerCase());return s&&"getField"in t?t.getField(s.onStatisticField):null}}return"getField"in t?(r=t.getField)==null?void 0:r.call(t,e.field):null}function YFe(t,e){var r,s,n;const i="popupTemplate"in t?(r=t.popupTemplate)==null?void 0:r.fieldInfos:null;if(i!=null&&i.length&&e)return(n=(s=i.find(a=>{var o;return((o=a.fieldName)==null?void 0:o.toLowerCase())===e.toLowerCase()}))==null?void 0:s.format)==null?void 0:n.dateFormat}function XFe(t,e,i){var n,a,o,l;const r=JFe(t,e);if(!r||!Js(r)&&!$s(r))return null;let s=YFe(t,r.name);if(!s&&r.type==="date"){let u=0,d=0;e.stops?(u=((a=(n=e.stops)==null?void 0:n.at(0))==null?void 0:a.value)??u,d=((l=(o=e.stops)==null?void 0:o.at(-1))==null?void 0:l.value)??d):"minDataValue"in e&&"maxDataValue"in e&&(u=e.minDataValue??u,d=e.maxDataValue??d),s=d-u>2*Rg.days?"short-date":"short-date-short-time"}return{fieldType:r.type,format:s,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in t?t.preferredTimeZone:null,viewTimeZone:i,datesInUnknownTimezone:"datesInUnknownTimezone"in t&&t.datesInUnknownTimezone}}}function Tc(t,e){var i,r;if("authoringInfo"in t)return(r=(i=t.authoringInfo)==null?void 0:i.visualVariables)==null?void 0:r.find(({theme:s})=>s===e)}const QFe=new ee([64,64,64]);function Gae(t,e){const i=[],r=t.length-1;return t.length===5?i.push(0,2,4):i.push(0,r),t.map((s,n)=>i.includes(n)?Bae(s,n,r,e):null)}async function yA(t,e,i){let r=!1,s=[],n=[];if(t.stops){const u=t.stops;s=u.map(d=>d.value),r=u.some(d=>!!d.label),r&&(n=u.map(d=>d.label))}const a=s[0],o=s[s.length-1];if(a==null&&o==null)return null;const l=r?null:Gae(s,i);return(await Promise.all(s.map(async(u,d)=>{const h=t.type==="opacity"?await KFe(u,t,e):(await R(async()=>{const{getColor:m}=await Promise.resolve().then(()=>c0);return{getColor:m}},void 0)).getColor(t,u),p=r?n[d]:(l==null?void 0:l[d])??"";return h==null?null:{value:u,color:h,label:p}}))).filter(Kt).reverse()}async function KFe(t,e,i){const r=new ee(i??QFe),s=(await R(async()=>{const{getOpacity:n}=await Promise.resolve().then(()=>c0);return{getOpacity:n}},void 0)).getOpacity(e,t);return s!=null&&(r.a=s),r}function eNe(t){let e=!1,i=[],r=[];i=t.map(o=>o.value),e=t.some(o=>!!o.label),e&&(r=t.map(o=>o.label??""));const s=i[0],n=i[i.length-1];if(s==null&&n==null)return null;const a=e?null:Gae(i);return i.map((o,l)=>({value:o,color:Hae(o,t),label:e?r[l]:(a==null?void 0:a[l])??""})).reverse()}function Hae(t,e){const{startIndex:i,endIndex:r,weight:s}=tNe(t,e);if(i===r)return e[i].color;const n=ee.blendColors(e[i].color,e[r].color,s);return new ee(n)}function tNe(t,e){let i=0,r=e.length-1;return e.some((s,n)=>t<s.value?(r=n,!0):(i=n,!1)),{startIndex:i,endIndex:r,weight:(t-e[i].value)/(e[r].value-e[i].value)}}function iNe(t,e){let i=[];if(t&&t.type==="multipart")t.colorRamps.reverse().forEach((r,s)=>{s===0?i.push({value:e.max,color:new ee(r.toColor),label:"high"}):i.push({value:null,color:new ee(r.toColor),label:""}),s===t.colorRamps.length-1?i.push({value:e.min,color:new ee(r.fromColor),label:"low"}):i.push({value:null,color:new ee(r.fromColor),label:""})});else{let r,s;t&&t.type==="algorithmic"?(r=t.fromColor,s=t.toColor):(r=[0,0,0,1],s=[255,255,255,1]),i=[{value:e.max,color:new ee(s),label:"high"},{value:e.min,color:new ee(r),label:"low"}]}return i}function Wae(t){if(!t.colorStops)return[];const e=[...t.colorStops].filter(r=>{var s;return((s=r.color)==null?void 0:s.a)>0});let i=e.length-1;if(e&&e[0]){const r=e[i];r&&r.ratio!==1&&(e.push(new Ku({ratio:1,color:r.color})),i++)}return e.map((r,s)=>{var a,o;let n="";return s===0?n=((a=t.legendOptions)==null?void 0:a.minLabel)||"low":s===i&&(n=((o=t.legendOptions)==null?void 0:o.maxLabel)||"high"),{color:r.color,label:n,ratio:r.ratio}}).reverse()}const rNe="spike-height-override";function sNe(t){var o;const{strokeColor:e,strokeWidth:i,symbolStyle:r}=t,s=(r==null?void 0:r.includes("solid-fill"))||(r==null?void 0:r.includes("gradient-fill"));let n=e==null?void 0:e.toArray(),a=!1;return r!=null&&r.includes("outline")&&s?a=!0:n=(o=t.color)==null?void 0:o.toArray(),{type:"CIMSolidStroke",effects:nNe(r),enable:!0,colorLocked:a,capStyle:Sn.Round,joinStyle:Ha.Round,lineStyle3D:Uk.Strip,miterLimit:4,width:i??lt(1),color:n}}function nNe(t){if(!(t!=null&&t.includes("closed")))return[{type:"CIMGeometricEffectAddControlPoints",angleTolerance:90,primitiveName:"spike-control-points"},{type:"CIMGeometricEffectSuppress",suppress:!0,invert:!0,primitiveName:"spike-stroke-suppress"}]}function HU(t){const{color:e,symbolStyle:i}=t,r=i==null?void 0:i.includes("solid-fill"),s=i==null?void 0:i.includes("gradient-fill");if(!r&&!s||!e)return;if(r)return{type:"CIMSolidFill",enable:!0,colorLocked:!1,color:e==null?void 0:e.toArray()};const n=e.clone();return n.a=0,{type:"CIMGradientFill",enable:!0,angle:90,colorRamp:{type:"CIMMultipartColorRamp",colorRamps:[{type:"CIMLinearContinuousColorRamp",fromColor:e.toArray(),toColor:n.toArray()}],weights:[1]},gradientMethod:"Linear",gradientSize:70,gradientSizeUnits:"Relative",gradientType:"Continuous"}}function Zae(t,e){var _,S,T;const{defaultHeight:i,baseWidth:r,color:s,strokeColor:n,primitiveOverrides:a,symbolStyle:o,strokeWidth:l}=e,u=((_=t.data.symbol)==null?void 0:_.type)==="CIMPointSymbol"?t.data.symbol:null,d=u==null?void 0:u.symbolLayers;if(!d)return t;const h=u.effects,p=h==null?void 0:h.find(C=>C.type==="CIMGeometricEffectTaperedPolygon"),m=h==null?void 0:h.find(C=>C.type==="CIMGeometricEffectRadial"&&C.primitiveName===rNe);r!=null&&p&&(p.fromWidth=r),i!=null&&m&&(m.length=i);const g=d==null?void 0:d.find(C=>C.type==="CIMSolidStroke"),b=d==null?void 0:d.find(C=>C.type==="CIMSolidFill"),v=d==null?void 0:d.find(C=>C.type==="CIMGradientFill"),w=((S=v==null?void 0:v.colorRamp)==null?void 0:S.type)==="CIMMultipartColorRamp"&&((T=v.colorRamp.colorRamps[0])==null?void 0:T.type)==="CIMLinearContinuousColorRamp"?v.colorRamp.colorRamps[0]:null;if(o){const C=(b==null?void 0:b.color)??(w==null?void 0:w.fromColor)??(g==null?void 0:g.color),A=s??(C?new ee(C):void 0),O=(g==null?void 0:g.color)??C,L=n??(O?new ee(O):void 0),F=o.includes("solid-fill"),D=o.includes("gradient-fill");if(F||D||Y$(d,b??v),A){if(F)Y$(d,v),b?b.color=A==null?void 0:A.toArray():d.push(HU({...e,color:A}));else if(D)if(Y$(d,b),v){if(w&&s){const G=A.clone();G.a=0,w.fromColor=A.toArray(),w.toColor=G.toArray()}}else d.push(HU({...e,color:A}))}if(g){const G=sNe({...e,strokeColor:L,color:A});g.effects=G.effects,g.color=G.color,g.width=G.width,g.colorLocked=G.colorLocked}}else if(g&&(n&&(g.color=n.toArray()),l!=null&&(g.width=l)),b&&s&&(b.color=s.toArray()),w&&s){const C=s.clone();C.a=0,w.fromColor=s.toArray(),w.toColor=C.toArray()}return a!==void 0&&(t.data.primitiveOverrides=z(a)),t}function Y$(t,e){if(!e)return;const i=t.indexOf(e);i!==-1&&t.splice(i,1)}const U5=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],Hb=["آ","أ","إ","ا"],aNe=["ﻵ","ﻷ","ﻹ","ﻻ"],oNe=["ﻶ","ﻸ","ﻺ","ﻼ"],G8=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],lNe=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],cNe=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],uNe=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],dNe=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],WU=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],fNe=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],ZU=["ء","ف"],hNe=["غ","ي"],pNe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],mNe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],I=0,Q=1,Te=2,Ri=3,x=4,Ll=5,z6=6,$=7,as=8,Ms=9,uo=10,Fe=11,V=12,yNe=13,gNe=14,bNe=15,vNe=16,wNe=17,ge=18,_Ne=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],El=100,SNe=[El+0,I,I,I,I,El+1,El+2,El+3,Q,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,El+4,x,x,x,I,x,I,x,I,x,x,x,I,I,x,x,I,I,I,I,I,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,I,I,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,I,I,x,x,I,I,x,x,I,I,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,I,I,I,El+5,$,$,El+6,El+7],xNe=[[ge,ge,ge,ge,ge,ge,ge,ge,ge,z6,Ll,z6,as,Ll,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,Ll,Ll,Ll,z6,as,x,x,Fe,Fe,Fe,x,x,x,x,x,uo,Ms,uo,Ms,Ms,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Ms,x,x,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,x,x,ge,ge,ge,ge,ge,ge,Ll,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,ge,Ms,x,Fe,Fe,Fe,Fe,x,x,x,x,I,x,x,ge,x,x,Fe,Fe,Te,Te,x,I,x,x,x,Te,I,x,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,x,x,x,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,I,I,I,I,I,I,I,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,I,x,x,x,x,x,x,x,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,Q,V,Q,V,V,Q,V,V,Q,V,x,x,x,x,x,x,x,x,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,x,x,x,x,x,Q,Q,Q,Q,Q,x,x,x,x,x,x,x,x,x,x,x],[Ri,Ri,Ri,Ri,x,x,x,x,$,Fe,Fe,$,Ms,$,x,x,V,V,V,V,V,V,V,V,V,V,V,$,x,x,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,Ri,Ri,Ri,Ri,Ri,Ri,Ri,Ri,Ri,Ri,Fe,Ri,Ri,$,$,$,V,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,V,V,V,V,V,V,V,Ri,x,V,V,V,V,V,V,$,$,V,V,x,V,V,V,V,$,$,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,$,$,$,$,$,$],[$,$,$,$,$,$,$,$,$,$,$,$,$,$,x,$,$,V,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,x,x,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,V,V,V,V,V,V,V,V,V,V,V,$,x,x,x,x,x,x,x,x,x,x,x,x,x,x,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,V,V,V,V,V,V,V,V,V,Q,Q,x,x,x,x,Q,x,x,x,x,x],[as,as,as,as,as,as,as,as,as,as,as,ge,ge,ge,I,Q,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,as,Ll,yNe,gNe,bNe,vNe,wNe,Ms,Fe,Fe,Fe,Fe,Fe,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,Ms,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,as,ge,ge,ge,ge,ge,x,x,x,x,x,ge,ge,ge,ge,ge,ge,Te,I,x,x,Te,Te,Te,Te,Te,Te,uo,uo,x,x,x,I,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,uo,uo,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,x,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[I,I,I,I,I,I,I,x,x,x,x,x,x,x,x,x,x,x,x,I,I,I,I,I,x,x,x,x,x,Q,V,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,uo,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,x,Q,Q,Q,Q,Q,x,Q,x,Q,Q,x,Q,Q,x,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$],[V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,V,V,V,V,V,V,V,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,Ms,x,Ms,x,x,Ms,x,x,x,x,x,x,x,x,x,Fe,x,x,uo,uo,x,x,x,x,x,Fe,Fe,x,x,x,x,x,$,$,$,$,$,x,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,x,x,ge],[x,x,x,Fe,Fe,Fe,x,x,x,x,x,uo,Ms,uo,Ms,Ms,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Ms,x,x,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,x,x,x,x,x,x,x,x,x,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,x,x,I,I,I,I,I,I,x,x,I,I,I,I,I,I,x,x,I,I,I,I,I,I,x,x,I,I,I,x,x,x,Fe,Fe,x,x,x,Fe,Fe,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];let $Ne=class{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(e,i,r){if(this.sourceToTarget=[],this.targetToSource=[],!e)return"";if(jNe(this.sourceToTarget,this.targetToSource,e.length),!this.checkParameters(i,r))return e;i=this.inputFormat,r=this.outputFormat;let s=e;const n=BNe,a=XU(i.charAt(1)),o=XU(r.charAt(1)),l=(i.charAt(0)==="I"?"L":i.charAt(0))+a,u=(r.charAt(0)==="I"?"L":r.charAt(0))+o,d=i.charAt(2)+r.charAt(2);n.defInFormat=l,n.defOutFormat=u,n.defSwap=d;const h=A2(e,l,u,d,n);let p=!1;return r.charAt(1)==="R"?p=!0:r.charAt(1)!=="C"&&r.charAt(1)!=="D"||(p=this.checkContextual(h)==="rtl"),this.sourceToTarget=sa,this.targetToSource=qNe(this.sourceToTarget),W8=this.targetToSource,s=i.charAt(3)===r.charAt(3)?h:r.charAt(3)==="S"?INe(p,h):CNe(h,p,!0),this.sourceToTarget=sa,this.targetToSource=W8,this.levels=zS,s}_inputFormatSetter(e){if(!QU.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=e}_outputFormatSetter(e){if(!QU.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=e}checkParameters(e,i){return e?this._inputFormatSetter(e):e=this.inputFormat,i?this._outputFormatSetter(i):i=this.outputFormat,e!==i}checkContextual(e){let i=H8(e);if(i!=="ltr"&&i!=="rtl"){try{i=document.dir.toLowerCase()}catch{}i!=="ltr"&&i!=="rtl"&&(i="ltr")}return i}hasBidiChar(e){return HNe.test(e)}};function A2(t,e,i,r,s){const n=TNe(t,{inFormat:e,outFormat:i,swap:r},s);if(n.inFormat===n.outFormat)return t;e=n.inFormat,i=n.outFormat,r=n.swap;const a=e.slice(0,1),o=e.slice(1,4),l=i.slice(0,1),u=i.slice(1,4);if(s.inFormat=e,s.outFormat=i,s.swap=r,a==="L"&&i==="VLTR"){if(o==="LTR")return s.dir=q0,Dd(t,s);if(o==="RTL")return s.dir=P2,Dd(t,s)}if(a==="V"&&l==="V")return s.dir=o==="RTL"?P2:q0,X$(t,s);if(a==="L"&&i==="VRTL")return o==="LTR"?(s.dir=q0,t=Dd(t,s)):(s.dir=P2,t=Dd(t,s)),X$(t);if(e==="VLTR"&&i==="LLTR")return s.dir=q0,Dd(t,s);if(a==="V"&&l==="L"&&o!==u)return t=X$(t),o==="RTL"?A2(t,"LLTR","VLTR",r,s):A2(t,"LRTL","VRTL",r,s);if(e==="VRTL"&&i==="LRTL")return A2(t,"LRTL","VRTL",r,s);if(a==="L"&&l==="L"){const d=s.swap;return s.swap=d.slice(0,1)+"N",o==="RTL"?(s.dir=P2,t=Dd(t,s),s.swap="N"+d.slice(1,3),s.dir=q0,t=Dd(t,s)):(s.dir=q0,t=Dd(t,s),s.swap="N"+d.slice(1,3),t=A2(t,"VLTR","LRTL",s.swap,s)),t}return t}function TNe(t,e,i){if(e.inFormat===void 0&&(e.inFormat=i.defInFormat),e.outFormat===void 0&&(e.outFormat=i.defOutFormat),e.swap===void 0&&(e.swap=i.defSwap),e.inFormat===e.outFormat)return e;const r=e.inFormat.slice(0,1),s=e.outFormat.slice(0,1);let n,a=e.inFormat.slice(1,4),o=e.outFormat.slice(1,4);return a.charAt(0)==="C"&&(n=H8(t),a=n==="ltr"||n==="rtl"?n.toUpperCase():e.inFormat.charAt(2)==="L"?"LTR":"RTL",e.inFormat=r+a),o.charAt(0)==="C"&&(n=H8(t),n==="rtl"?o="RTL":n==="ltr"?(n=MNe(t),o=n.toUpperCase()):o=e.outFormat.charAt(2)==="L"?"LTR":"RTL",e.outFormat=s+o),e}function INe(t,e,i){if(e.length===0)return"";t===void 0&&(t=!0);const r=(e=String(e)).split("");let s=0,n=1,a=r.length;t||(s=r.length-1,n=-1,a=1);const o=ENe(r,s,n,a);let l="";for(let u=0;u<r.length;u++)LNe(o,o.length,u)>-1?(Xae(W8,u,!t,-1),sa.splice(u,1)):l+=r[u];return l}function ENe(t,e,i,r,s){let n=0;const a=[];let o=0;for(let l=e;l*i<r;l+=i)if(Yae(t[l])||u_(t[l])){if(t[l]==="ل"&&RNe(t,l+i,i,r)){t[l]=VNe(t[l+i],n===0?aNe:oNe),l+=i,zNe(t,l,i,r),a[o]=l,o++,n=0;continue}const u=t[l];n===1?t[l]=JU(t,l+i,i,r)?DNe(t[l]):Q$(t[l],cNe):JU(t,l+i,i,r)===!0?t[l]=Q$(t[l],dNe):t[l]=Q$(t[l],lNe),u_(u)||(n=1),NNe(u)===!0&&(n=0)}else n=0;return a}function H8(t){const e=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return e?e[0]<="z"?"ltr":"rtl":""}function MNe(t){const e=t.split("");return e.reverse(),H8(e.join(""))}function CNe(t,e,i){if(t.length===0)return"";e===void 0&&(e=!0);let r="";const s=(t=String(t)).split("");for(let n=0;n<t.length;n++){let a=!1;if(s[n]>="ﹰ"&&s[n]<"\uFEFF"){const o=t.charCodeAt(n);s[n]>="ﻵ"&&s[n]<="ﻼ"?(e?(n>0&&i&&s[n-1]===" "?r=r.slice(0,-1)+"ل":(r+="ل",a=!0),r+=Hb[(o-65269)/2]):(r+=Hb[(o-65269)/2],r+="ل",n+1<t.length&&i&&s[n+1]===" "?n++:a=!0),a&&(Xae(W8,n,!0,1),sa.splice(n,0,sa[n]))):r+=fNe[o-65136]}else r+=s[n]}return r}function Dd(t,e){const i=t.split(""),r=[];return Jae(i,r,e),ANe(i,r,e),YU(2,i,r,e),YU(1,i,r,e),zS=r,i.join("")}function Jae(t,e,i){const r=t.length,s=i.dir?mNe:pNe;let n=0,a=-1;const o=[],l=[];i.hiLevel=i.dir,i.lastArabic=!1,i.hasUbatAl=!1,i.hasUbatB=!1,i.hasUbatS=!1;for(let u=0;u<r;u++)o[u]=PNe(t[u]);for(let u=0;u<r;u++){const d=n,h=ONe(t,o,l,u,i);l[u]=h,n=s[d][h];const p=240&n;n&=15;const m=s[n][UNe];if(e[u]=m,p>0)if(p===16){for(let g=a;g<u;g++)e[g]=1;a=-1}else a=-1;if(s[n][GNe])a===-1&&(a=u);else if(a>-1){for(let g=a;g<u;g++)e[g]=m;a=-1}o[u]===Ll&&(e[u]=0),i.hiLevel|=m}i.hasUbatS&&kNe(o,e,r,i)}function kNe(t,e,i,r){for(let s=0;s<i;s++)if(t[s]===z6){e[s]=r.dir;for(let n=s-1;n>=0&&t[n]===as;n--)e[n]=r.dir}}function ANe(t,e,i){if(i.hiLevel!==0&&i.swap[0]!==i.swap[1])for(let r=0;r<t.length;r++)e[r]===1&&(t[r]=FNe(t[r]))}function PNe(t){const e=t.charCodeAt(0),i=SNe[e>>8];return i<El?i:xNe[i-El][255&e]}function X$(t,e){const i=t.split("");if(e){const r=[];Jae(i,r,e),zS=r}return i.reverse(),sa.reverse(),i.join("")}function LNe(t,e,i){for(let r=0;r<e;r++)if(t[r]===i)return r;return-1}function Yae(t){for(let e=0;e<ZU.length;e++)if(t>=ZU[e]&&t<=hNe[e])return!0;return!1}function JU(t,e,i,r){for(;e*i<r&&u_(t[e]);)e+=i;return!!(e*i<r&&Yae(t[e]))}function RNe(t,e,i,r){for(;e*i<r&&u_(t[e]);)e+=i;let s=" ";if(!(e*i<r))return!1;s=t[e];for(let n=0;n<Hb.length;n++)if(Hb[n]===s)return!0;return!1}function YU(t,e,i,r){if(r.hiLevel<t)return;if(t===1&&r.dir===P2&&!r.hasUbatB)return e.reverse(),void sa.reverse();const s=e.length;let n,a,o,l,u,d=0;for(;d<s;){if(i[d]>=t){for(n=d+1;n<s&&i[n]>=t;)n++;for(a=d,o=n-1;a<o;a++,o--)l=e[a],e[a]=e[o],e[o]=l,u=sa[a],sa[a]=sa[o],sa[o]=u;d=n}d++}}function ONe(t,e,i,r,s){const n=e[r];return{UBAT_L:()=>(s.lastArabic=!1,I),UBAT_R:()=>(s.lastArabic=!1,Q),UBAT_ON:()=>x,UBAT_AN:()=>Ri,UBAT_EN:()=>s.lastArabic?Ri:Te,UBAT_AL:()=>(s.lastArabic=!0,s.hasUbatAl=!0,Q),UBAT_WS:()=>x,UBAT_CS:()=>{let a,o;return r<1||r+1>=e.length||(a=i[r-1])!==Te&&a!==Ri||(o=e[r+1])!==Te&&o!==Ri?x:(s.lastArabic&&(o=Ri),o===a?o:x)},UBAT_ES:()=>(r>0?i[r-1]:Ll)===Te&&r+1<e.length&&e[r+1]===Te?Te:x,UBAT_ET:()=>{if(r>0&&i[r-1]===Te)return Te;if(s.lastArabic)return x;let a=r+1;const o=e.length;for(;a<o&&e[a]===Fe;)a++;return a<o&&e[a]===Te?Te:x},UBAT_NSM:()=>{if(s.inFormat==="VLTR"){const a=e.length;let o=r+1;for(;o<a&&e[o]===V;)o++;if(o<a){const l=t[r].charCodeAt(0),u=l>=1425&&l<=2303||l===64286,d=e[o];if(u&&(d===Q||d===$))return Q}}return r<1||e[r-1]===Ll?x:i[r-1]},UBAT_B:()=>(s.lastArabic=!0,s.hasUbatB=!0,s.dir),UBAT_S:()=>(s.hasUbatS=!0,x),UBAT_LRE:()=>(s.lastArabic=!1,x),UBAT_RLE:()=>(s.lastArabic=!1,x),UBAT_LRO:()=>(s.lastArabic=!1,x),UBAT_RLO:()=>(s.lastArabic=!1,x),UBAT_PDF:()=>(s.lastArabic=!1,x),UBAT_BN:()=>x}[_Ne[n]]()}function FNe(t){let e,i=0,r=U5.length-1;for(;i<=r;)if(e=Math.floor((i+r)/2),t<U5[e][0])r=e-1;else{if(!(t>U5[e][0]))return U5[e][1];i=e+1}return t}function NNe(t){for(let e=0;e<WU.length;e++)if(WU[e]===t)return!0;return!1}function DNe(t){for(let e=0;e<G8.length;e++)if(t===G8[e])return uNe[e];return t}function Q$(t,e){for(let i=0;i<G8.length;i++)if(t===G8[i])return e[i];return t}function u_(t){return t>="ً"&&t<="ٕ"}function XU(t){return t==="L"?"LTR":t==="R"?"RTL":t==="C"?"CLR":t==="D"?"CRL":""}function zNe(t,e,i,r){for(;e*i<r&&u_(t[e]);)e+=i;return e*i<r&&(t[e]=" ",!0)}function VNe(t,e){for(let i=0;i<Hb.length;i++)if(t===Hb[i])return e[i];return t}function jNe(t,e,i){sa=[],zS=[];for(let r=0;r<i;r++)t[r]=r,e[r]=r,sa[r]=r}function qNe(t){const e=new Array(t.length);for(let i=0;i<t.length;i++)e[t[i]]=i;return e}function Xae(t,e,i,r){for(let s=0;s<t.length;s++)(t[s]>e||!i&&t[s]===e)&&(t[s]+=r)}let sa=[],W8=[],zS=[];const BNe={dir:0,defInFormat:"LLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,defOutFormat:""},UNe=5,GNe=6,q0=0,P2=1,QU=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,HNe=/[\u0591-\u06ff\ufb1d-\ufefc]/,K$=new $Ne;function WNe(t){if(t==null)return["",!1];if(!K$.hasBidiChar(t))return[t,!1];let e;return e=K$.checkContextual(t)==="rtl"?"IDNNN":"ICNNN",[K$.bidiTransform(t,e,"VLYSN"),!0]}let E1=class{constructor(){this.setIdentity()}getAngle(){return(this.rz==null||this.rz===0&&this.rzCos!==1&&this.rzSin!==0)&&(this.rz=Math.atan2(this.rzSin,this.rzCos)),this.rz}setIdentity(){this.tx=0,this.ty=0,this.tz=0,this.s=1,this.rx=0,this.ry=0,this.rz=0,this.rzCos=1,this.rzSin=0}setTranslate(e,i){this.tx=e,this.ty=i}setTranslateZ(e){this.tz=e}setRotateCS(e,i){this.rz=void 0,this.rzCos=e,this.rzSin=i}setRotate(e){this.rz=e,this.rzCos=void 0,this.rzSin=void 0}setRotateY(e){this.ry=e}setScale(e){this.s=e}setMeasure(e){this.m=e}};const _O="arial-unicode-ms",KU="woff2",eG=new Map,Qae=new Set;let ZNe=class{constructor(e,i){this.fontFace=e,this.promise=i}};async function JNe(t){const e=QNe(t),i=XNe(t),r=eG.get(e);if(r)return r.promise;const s=new FontFace(t.family,`url('${ut.fontsUrl}/woff2/${i}.${KU}') format('${KU}')`,{style:t.style,weight:t.weight}),n=document.fonts;if(n.has(s)&&s.status==="loading")return s.loaded;const a=s.load().then(()=>(n.add(s),s));return eG.set(e,new ZNe(s,a)),Qae.add(s),a}function glt(t){return Qae.has(t)}function YNe(t){if(!t)return _O;const e=t.toLowerCase().split(" ").join("-");switch(e){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return e}}function XNe(t){const e=Kae(t)+eoe(t);return YNe(t.family)+(e.length>0?e:"-regular")}function QNe(t){const e=Kae(t)+eoe(t);return(t.family||_O)+(e.length>0?e:"-regular")}function Kae(t){if(!t.weight)return"";switch(t.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function eoe(t){if(!t.style)return"";switch(t.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}function KNe(t){return 32+t.length}const toe=16;function eDe(t){if(!t)return 0;let e=$O;for(const i in t)t.hasOwnProperty(i)&&(e+=SO(t[i],!1));return e}function tDe(t){if(!t)return 0;if(typeof t[0]=="number")return xO(t);if(Array.isArray(t))return iDe(t);let e=$O;for(const i in t)t.hasOwnProperty(i)&&(e+=SO(t[i]));return e}function iDe(t){const e=t.length;if(e===0||typeof t[0]=="number")return ioe(t,8);let i=roe;for(let r=0;r<e;r++)i+=SO(t[r]);return i}function SO(t,e=!0){switch(typeof t){case"object":return e?tDe(t):$O;case"string":return KNe(t);case"number":return toe;case"boolean":return 4;default:return 8}}function xO(...t){return t.reduce((e,i)=>e+(i?lZ(i)?i.byteLength+rDe:Array.isArray(i)?ioe(i,toe):0:0),0)}function ioe(t,e){return roe+t.length*e}const $O=32,roe=16,rDe=145,Uh=2;let Rc=class qy{constructor(e=[],i=[]){this.lengths=e??[],this.coords=i??[]}static fromJSON(e){return new qy(e.lengths,e.coords)}static fromRect(e){const[i,r,s,n]=e,a=s-i,o=n-r;return new qy([5],[i,r,a,0,0,o,-a,0,0,-o])}get isPoint(){return this.lengths.length===0&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((e,i)=>e+i)}get usedMemory(){return 64+xO(this.lengths,this.coords)}area(){let e=0,i=0;if(!this.lengths.length)return 0;for(let r=0;r<this.lengths.length;r++){const s=this.lengths[r];if(s<3)continue;let n=this.coords[Uh*i],a=this.coords[Uh*i+1];for(let o=1;o<s;o+=1){const l=this.coords[Uh*(o+i)],u=this.coords[Uh*(o+i)+1];e+=-.5*(l-n)*(u+a),n=l,a=u}i+=s}return e}forEachVertex(e){let i=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let r=0;r<this.lengths.length;r++){const s=this.lengths[r];for(let n=0;n<s;n++)e(this.coords[Uh*(n+i)],this.coords[Uh*(n+i)+1]);i+=s}}deltaDecode(){const e=this.clone(),{coords:i,lengths:r}=e;let s=0;for(const n of r){for(let a=1;a<n;a++)i[2*(s+a)]+=i[2*(s+a)-2],i[2*(s+a)+1]+=i[2*(s+a)-1];s+=n}return e}clone(e){if(this.lengths.length===0)return new qy([],[this.coords[0],this.coords[1]]);const i=(this.lengths.length===0?1:this.lengths.reduce((s,n)=>s+n))*Uh,r=this.coords.slice(0,i);return e?(e.set(r),new qy(this.lengths,e)):new qy(Array.from(this.lengths),Array.from(r))}},$t=class{static fromOptimized(e,i,r=!1,s=!1,n=1){return new gA().initialize(e,i,r,s,n)}static fromJSON(e,i=!1,r=!1){const[s,n]=tG(e);return new vA().initialize(s,n,i,r,1)}static fromOptimizedCIM(e,i,r=!1,s=!1,n=1){return new iG().initialize(e,i,r,s,n)}static fromJSONCIM(e,i=!1,r=!1,s=1){const[n,a]=tG(e);return new rG().initialize(n,a,i,r,s)}static fromFeatureSetReader(e){const i=e.readGeometryForDisplay(),r=e.geometryType;return i&&r?this.fromOptimized(i,r):null}static fromFeatureSetReaderCIM(e){const i=e.readGeometryForDisplay(),r=e.geometryType;return i&&r?this.fromOptimizedCIM(i,r):null}static createEmptyOptimized(e,i=!1,r=!1,s=1){return new gA().initialize(new Rc,e,i,r,s)}static createEmptyJSON(e,i=!1,r=!1){return new vA().initialize([],e,i,r,1)}static createEmptyOptimizedCIM(e,i=!1,r=!1,s=1){return new iG().initialize(new Rc,e,i,r,s)}static createEmptyJSONCIM(e,i=!1,r=!1,s=1){return new rG().initialize([],e,i,r,s)}asJSON(){const e=P7(this);return this.geometryType==="esriGeometryEnvelope"?{xmin:e[0][0][0],ymin:e[0][0][1],xmax:e[0][2][0],ymax:e[0][2][1]}:this.geometryType==="esriGeometryMultipoint"?{points:e.flat()}:this.geometryType==="esriGeometryPoint"?{x:e[0][0][0],y:e[0][0][1]}:this.geometryType==="esriGeometryPolygon"?{rings:e}:{paths:e}}getCurrentRingArea(){if(this.pathSize<3)return 0;let e,i,r=0;if(this.seekPathStart(),!this.nextPoint())return 0;e=this.x,i=this.y;const s=e,n=i;for(;this.nextPoint();)r+=(e-this.x)*(i+this.y),e=this.x,i=this.y;return r+=(e-s)*(i+n),-.5*r}invertY(){this.yFactor*=-1}},gA=class bA extends $t{constructor(){super(...arguments),this._end=-1}initialize(e,i,r,s,n){return this.hasZ=r,this.hasM=s,this.geometryType=i,this._stride=2+Number(r)+Number(s),this._geometry=e,this._pathIndex=-1,this._pathOffset=0,this._pointOffset=-this._stride,this._end=-1,this.yFactor=n,this}reset(){this.initialize(this._geometry,this.geometryType,this.hasZ,this.hasM,this.yFactor)}seekPath(e){if(e>=0&&e<this.totalSize){if(this._pathIndex<e)for(;this._pathIndex<e&&this.nextPath(););else if(this._pathIndex>e)for(;this._pathIndex>e&&this.prevPath(););return!0}return!1}seekPathStart(){this._pointOffset=this._pathOffset-this._stride}seekPathEnd(){this._pointOffset=this._end}seekInPath(e){const i=this._pathOffset+e*this._stride;return i>=0&&i<this._end&&(this._pointOffset=i,!0)}nextPoint(){return(this._pointOffset+=this._stride)<this._end}prevPoint(){return(this._pointOffset-=this._stride)>=this._pathOffset}nextPath(){return!(this.pathIndex>=this.totalSize-1)&&(this._pathIndex>=0&&(this._pathOffset+=this._stride*this.pathSize),this._pathIndex++,this._pointOffset=this._pathOffset-this._stride,this._end=this._pointOffset+this._stride+this._stride*this.pathSize,!0)}prevPath(){return!(this.pathIndex<=0)&&(this._pathIndex--,this._end=this._pathOffset,this._pathOffset-=this._stride*this.pathSize,this._pointOffset=this._pathOffset-this._stride,!0)}getCurrentPath(){const e=this._end,i=this._geometry.coords,r=this._pathOffset;return new bA().initialize(new Rc([this.pathSize],i.slice(r,e)),this.geometryType,this.hasZ,this.hasM,this.yFactor)}pathLength(){const e=this._end,i=this._stride,r=this._geometry.coords;let s=0;for(let n=this._pathOffset+i;n<e;n+=i){const a=r[n-i],o=r[n-i+1],l=r[n]-a,u=r[n+1]-o;s+=Math.sqrt(l*l+u*u)}return s}startPath(){this._geometry.lengths.push(0)}pushPath(e){this.startPath(),this.pushPoints(e)}pushPoint(e){for(let i=0;i<this._stride;++i)this._geometry.coords.push(e[i]);this._geometry.lengths[this.totalSize-1]++}pushXY(e,i){this._geometry.coords.push(e,i),this._geometry.lengths[this.totalSize-1]++}pushPoints(e){for(const i of e)for(let r=0;r<this._stride;++r)this._geometry.coords.push(i[r]);this._geometry.lengths[this.totalSize-1]+=e.length}pushCursor(e){const i=e.asOptimized();this._geometry.coords.push(...i.coords),this._geometry.lengths.push(...i.lengths)}asOptimized(){const e=this._geometry.clone();if(this.yFactor!==1)for(let i=1;i<e.coords.length;i+=this._stride)e.coords[i]*=this.yFactor;return this.geometryType==="esriGeometryPoint"&&(e.lengths.length=0),e}isClosed(){const e=this._geometry.coords,i=this._pathOffset,r=this._end-this._stride;for(let s=0;s<this._stride;s++)if(e[i+s]!==e[r+s])return!1;return!0}clone(){return new bA().initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._geometry.isPoint?1:this._geometry.lengths.reduce((e,i)=>e+i)}get pathSize(){const{lengths:e}=this._geometry;return this._geometry.isPoint?1:this._pathIndex<0||this._pathIndex>e.length-1?0:e[this._pathIndex]}get totalSize(){return this._geometry.isPoint?1:this._geometry.lengths.length}get x(){return this._geometry.coords[this._pointOffset]}set x(e){this._geometry.coords[this._pointOffset]=e}get y(){return this.yFactor*this._geometry.coords[this._pointOffset+1]}set y(e){this._geometry.coords[this._pointOffset+1]=this.yFactor*e}get z(){return this._geometry.coords[this._pointOffset+2]}set z(e){this._geometry.coords[this._pointOffset+2]=e}get m(){const e=this.hasZ?3:2;return this._geometry.coords[this._pointOffset+e]}set m(e){this._geometry.coords[this._pointOffset+3]=e}get pathIndex(){return this._pathIndex}get _coordIndex(){return this._pointOffset/this._stride}};function sDe(t){const e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e}function tG(t){return pi(t)?[t.rings,"esriGeometryPolygon"]:Fr(t)?[t.paths,"esriGeometryPolyline"]:Sg(t)?[[t.points],"esriGeometryMultipoint"]:Wr(t)?[[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]],"esriGeometryEnvelope"]:jw(t)?[[[sDe(t)]],"esriGeometryPoint"]:[[],"esriGeometryPolyline"]}let vA=class wA extends $t{initialize(e,i,r,s,n){return this._paths=e,this.geometryType=i,this.hasZ=r,this.hasM=s,this._pathIndex=this._pointIndex=-1,this.yFactor=n,this._mIndex=this.hasZ?3:2,this}reset(){this._pathIndex=this._pointIndex=-1}seekPath(e){return this._pathIndex=e,this._pointIndex=-1,e>=0&&e<this.totalSize&&(this._currentPath=this._paths[e],!0)}seekPathStart(){this._pointIndex=-1}seekPathEnd(){this._pointIndex=this._currentPath.length}seekInPath(e){return e>=0&&e<this._currentPath.length&&(this._pointIndex=e,this._currentPoint=this._currentPath[this._pointIndex],!0)}nextPoint(){return this._currentPoint=this._currentPath[++this._pointIndex],this._pointIndex<this._currentPath.length}prevPoint(){return this._currentPoint=this._currentPath[--this._pointIndex],this._pointIndex>=0}nextPath(){return this._pointIndex=-1,this._currentPath=this._paths[++this._pathIndex],this._pathIndex<this.totalSize}prevPath(){return this.pathIndex>0&&(this._pointIndex=-1,this._pathIndex--,this._currentPath=this._paths[this._pathIndex],!0)}pathLength(){const e=this._currentPath.length,i=this._currentPath;let r=0;for(let s=1;s<e;s++){const n=i[s-1],a=i[s],o=n[0],l=n[1],u=a[0]-o,d=a[1]-l;r+=Math.sqrt(u*u+d*d)}return r}startPath(){this._paths.push([])}getCurrentPath(){return new wA().initialize([this._currentPath],this.geometryType,this.hasZ,this.hasM,this.yFactor)}pushPath(e){this._paths.push(e)}pushPoint(e){this._paths[this.totalSize-1].push(e)}pushXY(e,i){this._paths[this.totalSize-1].push([e,i])}pushPoints(e){this._paths[this.totalSize-1].push(...e)}pushCursor(e){const i=P7(e);for(const r of i)this.pushPath(r)}asOptimized(){const e=new Rc;if(this.geometryType==="esriGeometryPoint")e.coords.push(...this._paths[0][0]),e.lengths.length=0;else for(const i of this._paths){for(const r of i)e.coords.push(r[0]),e.coords.push(r[1]*this.yFactor),this.hasZ&&e.coords.push(r[2]),this.hasM&&e.coords.push(r[this._mIndex]);e.lengths.push(i.length)}return e}isClosed(){const e=this._currentPath[0],i=this._currentPath[this._currentPath.length-1];for(let r=0;r<e.length;r++)if(e[r]!==i[r])return!1;return!0}clone(){return new wA().initialize(z(this._paths),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._paths.map(e=>e.length).reduce((e,i)=>e+i)}get pathSize(){return this._pathIndex<0||this._pathIndex>this.totalSize-1?-1:this._paths[this._pathIndex].length}get totalSize(){return this._paths.length}get x(){return this._currentPoint[0]}set x(e){this._currentPoint[0]=e}get y(){return this.yFactor*this._currentPoint[1]}set y(e){this._currentPoint[1]=this.yFactor*e}get z(){return this._currentPoint[2]}set z(e){this._currentPoint[2]=e}get m(){return this._currentPoint[this._mIndex]}set m(e){this._currentPoint[this._mIndex]=e}get pathIndex(){return this._pathIndex}};const G5=4,H5=1;let iG=class soe extends gA{initialize(e,i,r,s,n){return super.initialize(e,i,r,s,n),this._controlPoints||(this._controlPoints=this._controlPoints=new Array(this.totalSize).fill(void 0).map(a=>new Set)),this}startPath(){super.startPath(),this._controlPoints.push(new Set)}clone(){const e=new soe().initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor);return e._controlPoints=this._controlPoints,e}setControlPoint(){this._controlPoints[this.pathIndex].add(this._coordIndex)}getControlPoint(){return this._controlPoints[this.pathIndex].has(this._coordIndex)}setControlPointAt(e){this._controlPoints[this.pathIndex].add(e)}getControlPointAt(e){return this._controlPoints[this.pathIndex].has(e)}},rG=class noe extends vA{initialize(e,i,r,s,n){return super.initialize(e,i,r,s,n)}clone(){return new noe().initialize(z(this._paths),this.geometryType,this.hasZ,this.hasM,this.yFactor)}setControlPoint(){this._paths[this.pathIndex][this._pointIndex][G5]=H5}getControlPoint(){return this._paths[this.pathIndex][this._pointIndex][G5]===H5}setControlPointAt(e){this._paths[this.pathIndex][e][G5]=H5}getControlPointAt(e){return this._paths[this.pathIndex][e][G5]===H5}};const nDe=512;var Oo,Mr;(function(t){t[t.Unknown=0]="Unknown",t[t.Point=1]="Point",t[t.LineString=2]="LineString",t[t.Polygon=3]="Polygon"})(Oo||(Oo={}));let st=class L2{constructor(e,i){this.x=e,this.y=i}static fromArray(e){return new L2(e[0],e[1])}clone(){return new L2(this.x,this.y)}equals(e,i){return e===this.x&&i===this.y}isEqual(e){return e.x===this.x&&e.y===this.y}setCoords(e,i){return this.x=e,this.y=i,this}normalize(){const e=this.x,i=this.y,r=Math.sqrt(e*e+i*i);return this.x/=r,this.y/=r,this}rightPerpendicular(){const e=this.x;return this.x=this.y,this.y=-e,this}leftPerpendicular(){const e=this.x;return this.x=-this.y,this.y=e,this}move(e,i){return this.x+=e,this.y+=i,this}assign(e){return this.x=e.x,this.y=e.y,this}assignAdd(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}assignSub(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}rotate(e,i){const r=this.x,s=this.y;return this.x=r*e-s*i,this.y=r*i+s*e,this}rotateReverse(e,i){const r=this.x,s=this.y;return this.x=r*e+s*i,this.y=-r*i+s*e,this}scale(e){return this.x*=e,this.y*=e,this}length(){const e=this.x,i=this.y;return Math.sqrt(e*e+i*i)}sub(e){return this.x-=e.x,this.y-=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}static distance(e,i){const r=i.x-e.x,s=i.y-e.y;return Math.sqrt(r*r+s*s)}static add(e,i){return new L2(e.x+i.x,e.y+i.y)}static sub(e,i){return new L2(e.x-i.x,e.y-i.y)}},W5=class{constructor(e,i,r){this.ratio=e,this.x=i,this.y=r}},aDe=class{constructor(e,i,r,s=8,n=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=s,this._pixelMargin=n,this._tileSize=nDe*s,this._dz=e,this._yPos=i,this._xPos=r}setPixelMargin(e){e!==this._pixelMargin&&(this._pixelMargin=e,this.setExtent(this._extent))}setExtent(e){this._extent=e,this._finalRatio=this._tileSize/e*(1<<this._dz);let i=this._pixelRatio*this._pixelMargin;i/=this._finalRatio;const r=e>>this._dz;i>r&&(i=r),this._margin=i,this._xmin=r*this._xPos-i,this._ymin=r*this._yPos-i,this._xmax=this._xmin+r+2*i,this._ymax=this._ymin+r+2*i}reset(e){this._type=e,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(e,i){this._pushLine(),this._prevIsIn=this._isIn(e,i),this._moveTo(e,i,this._prevIsIn),this._prevPt=new st(e,i),this._firstPt=new st(e,i),this._dist=0}lineTo(e,i){const r=this._isIn(e,i),s=new st(e,i),n=st.distance(this._prevPt,s);let a,o,l,u,d,h,p,m;if(r)this._prevIsIn?this._lineTo(e,i,!0):(a=this._prevPt,o=s,l=this._intersect(o,a),this._start=this._dist+n*(1-this._r),this._lineTo(l.x,l.y,!0),this._lineTo(o.x,o.y,!0));else if(this._prevIsIn)o=this._prevPt,a=s,l=this._intersect(o,a),this._lineTo(l.x,l.y,!0),this._lineTo(a.x,a.y,!1);else{const g=this._prevPt,b=s;if(g.x<=this._xmin&&b.x<=this._xmin||g.x>=this._xmax&&b.x>=this._xmax||g.y<=this._ymin&&b.y<=this._ymin||g.y>=this._ymax&&b.y>=this._ymax)this._lineTo(b.x,b.y,!1);else{const v=[];if((g.x<this._xmin&&b.x>this._xmin||g.x>this._xmin&&b.x<this._xmin)&&(u=(this._xmin-g.x)/(b.x-g.x),m=g.y+u*(b.y-g.y),m<=this._ymin?h=!1:m>=this._ymax?h=!0:v.push(new W5(u,this._xmin,m))),(g.x<this._xmax&&b.x>this._xmax||g.x>this._xmax&&b.x<this._xmax)&&(u=(this._xmax-g.x)/(b.x-g.x),m=g.y+u*(b.y-g.y),m<=this._ymin?h=!1:m>=this._ymax?h=!0:v.push(new W5(u,this._xmax,m))),(g.y<this._ymin&&b.y>this._ymin||g.y>this._ymin&&b.y<this._ymin)&&(u=(this._ymin-g.y)/(b.y-g.y),p=g.x+u*(b.x-g.x),p<=this._xmin?d=!1:p>=this._xmax?d=!0:v.push(new W5(u,p,this._ymin))),(g.y<this._ymax&&b.y>this._ymax||g.y>this._ymax&&b.y<this._ymax)&&(u=(this._ymax-g.y)/(b.y-g.y),p=g.x+u*(b.x-g.x),p<=this._xmin?d=!1:p>=this._xmax?d=!0:v.push(new W5(u,p,this._ymax))),v.length===0)d?h?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):h?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(v.length>1&&v[0].ratio>v[1].ratio)this._start=this._dist+n*v[1].ratio,this._lineTo(v[1].x,v[1].y,!0),this._lineTo(v[0].x,v[0].y,!0);else{this._start=this._dist+n*v[0].ratio;for(let w=0;w<v.length;w++)this._lineTo(v[w].x,v[w].y,!0)}this._lineTo(b.x,b.y,!1)}}this._dist+=n,this._prevIsIn=r,this._prevPt=s}close(){if(this._line.length>2){const e=this._firstPt,i=this._prevPt;e.x===i.x&&e.y===i.y||this.lineTo(e.x,e.y);const r=this._line;let s=r.length;for(;s>=4&&(r[0].x===r[1].x&&r[0].x===r[s-2].x||r[0].y===r[1].y&&r[0].y===r[s-2].y);)r.pop(),r[0].x=r[s-2].x,r[0].y=r[s-2].y,--s}}result(e=!0){return this._pushLine(),this._lines.length===0?null:(this._type===Oo.Polygon&&e&&oDe.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==Oo.LineString)throw new Error("Only valid for lines");this._pushLine();const e=this._lines,i=e.length;if(i===0)return null;const r=[];for(let s=0;s<i;s++)r.push({line:e[s],start:this._starts[s]||0});return r}_isIn(e,i){return e>=this._xmin&&e<=this._xmax&&i>=this._ymin&&i<=this._ymax}_intersect(e,i){let r,s,n;if(i.x>=this._xmin&&i.x<=this._xmax)s=i.y<=this._ymin?this._ymin:this._ymax,n=(s-e.y)/(i.y-e.y),r=e.x+n*(i.x-e.x);else if(i.y>=this._ymin&&i.y<=this._ymax)r=i.x<=this._xmin?this._xmin:this._xmax,n=(r-e.x)/(i.x-e.x),s=e.y+n*(i.y-e.y);else{s=i.y<=this._ymin?this._ymin:this._ymax,r=i.x<=this._xmin?this._xmin:this._xmax;const a=(r-e.x)/(i.x-e.x),o=(s-e.y)/(i.y-e.y);a<o?(n=a,s=e.y+a*(i.y-e.y)):(n=o,r=e.x+o*(i.x-e.x))}return this._r=n,new st(r,s)}_pushLine(){this._line&&(this._type===Oo.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===Oo.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===Oo.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(e,i,r){this._type!==Oo.Polygon?r&&(e=Math.round((e-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.push(new st(e,i))):(r||(e<this._xmin&&(e=this._xmin),e>this._xmax&&(e=this._xmax),i<this._ymin&&(i=this._ymin),i>this._ymax&&(i=this._ymax)),e=Math.round((e-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.push(new st(e,i)),this._isH=!1,this._isV=!1)}_lineTo(e,i,r){let s,n;if(this._type!==Oo.Polygon)if(r){if(e=Math.round((e-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(s=this._line[this._line.length-1],s.equals(e,i)))return;this._line.push(new st(e,i))}else this._line&&this._line.length>0&&this._pushLine();else if(r||(e<this._xmin&&(e=this._xmin),e>this._xmax&&(e=this._xmax),i<this._ymin&&(i=this._ymin),i>this._ymax&&(i=this._ymax)),e=Math.round((e-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){s=this._line[this._line.length-1];const a=s.x===e,o=s.y===i;if(a&&o)return;this._isH&&a||this._isV&&o?(s.x=e,s.y=i,n=this._line[this._line.length-2],n.x===e&&n.y===i?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(n=this._line[this._line.length-2],this._isH=n.x===e,this._isV=n.y===i)):(this._isH=n.x===e,this._isV=n.y===i)):(this._line.push(new st(e,i)),this._isH=a,this._isV=o)}else this._line.push(new st(e,i))}},_lt=class{setExtent(e){this._ratio=e===4096?1:4096/e}get validateTessellation(){return this._ratio<1}reset(e){this._lines=[],this._line=null}moveTo(e,i){this._line&&this._lines.push(this._line),this._line=[];const r=this._ratio;this._line.push(new st(e*r,i*r))}lineTo(e,i){const r=this._ratio;this._line.push(new st(e*r,i*r))}close(){const e=this._line;e&&!e[0].isEqual(e[e.length-1])&&e.push(e[0])}result(){return this._line&&this._lines.push(this._line),this._lines.length===0?null:this._lines}};(function(t){t[t.sideLeft=0]="sideLeft",t[t.sideRight=1]="sideRight",t[t.sideTop=2]="sideTop",t[t.sideBottom=3]="sideBottom"})(Mr||(Mr={}));let oDe=class nf{static simplify(e,i,r){if(!r)return;const s=-i,n=e+i,a=-i,o=e+i,l=[],u=[],d=r.length;for(let p=0;p<d;++p){const m=r[p];if(!m||m.length<2)continue;let g,b=m[0];const v=m.length;for(let w=1;w<v;++w)g=m[w],b.x===g.x&&(b.x<=s&&(b.y>g.y?(l.push(p),l.push(w),l.push(Mr.sideLeft),l.push(-1)):(u.push(p),u.push(w),u.push(Mr.sideLeft),u.push(-1))),b.x>=n&&(b.y<g.y?(l.push(p),l.push(w),l.push(Mr.sideRight),l.push(-1)):(u.push(p),u.push(w),u.push(Mr.sideRight),u.push(-1)))),b.y===g.y&&(b.y<=a&&(b.x<g.x?(l.push(p),l.push(w),l.push(Mr.sideTop),l.push(-1)):(u.push(p),u.push(w),u.push(Mr.sideTop),u.push(-1))),b.y>=o&&(b.x>g.x?(l.push(p),l.push(w),l.push(Mr.sideBottom),l.push(-1)):(u.push(p),u.push(w),u.push(Mr.sideBottom),u.push(-1)))),b=g}if(l.length===0||u.length===0)return;nf.fillParent(r,u,l),nf.fillParent(r,l,u);const h=[];nf.calcDeltas(h,u,l),nf.calcDeltas(h,l,u),nf.addDeltas(h,r)}static fillParent(e,i,r){const s=r.length,n=i.length;for(let a=0;a<n;a+=4){const o=i[a],l=i[a+1],u=i[a+2],d=e[o][l-1],h=e[o][l];let p=8092,m=-1;for(let g=0;g<s;g+=4){if(r[g+2]!==u)continue;const b=r[g],v=r[g+1],w=e[b][v-1],_=e[b][v];switch(u){case Mr.sideLeft:case Mr.sideRight:if(Z5(d.y,w.y,_.y)&&Z5(h.y,w.y,_.y)){const S=Math.abs(_.y-w.y);S<p&&(p=S,m=g)}break;case Mr.sideTop:case Mr.sideBottom:if(Z5(d.x,w.x,_.x)&&Z5(h.x,w.x,_.x)){const S=Math.abs(_.x-w.x);S<p&&(p=S,m=g)}}}i[a+3]=m}}static calcDeltas(e,i,r){const s=i.length;for(let n=0;n<s;n+=4){const a=[],o=nf.calcDelta(n,i,r,a);e.push(i[n]),e.push(i[n+1]),e.push(i[n+2]),e.push(o)}}static calcDelta(e,i,r,s){const n=i[e+3];if(n===-1)return 0;const a=s.length;return a>1&&s[a-2]===n?0:(s.push(n),nf.calcDelta(n,r,i,s)+1)}static addDeltas(e,i){const r=e.length;let s=0;for(let n=0;n<r;n+=4){const a=e[n+3];a>s&&(s=a)}for(let n=0;n<r;n+=4){const a=i[e[n]],o=e[n+1],l=s-e[n+3];switch(e[n+2]){case Mr.sideLeft:a[o-1].x-=l,a[o].x-=l,o===1&&(a[a.length-1].x-=l),o===a.length-1&&(a[0].x-=l);break;case Mr.sideRight:a[o-1].x+=l,a[o].x+=l,o===1&&(a[a.length-1].x+=l),o===a.length-1&&(a[0].x+=l);break;case Mr.sideTop:a[o-1].y-=l,a[o].y-=l,o===1&&(a[a.length-1].y-=l),o===a.length-1&&(a[0].y-=l);break;case Mr.sideBottom:a[o-1].y+=l,a[o].y+=l,o===1&&(a[a.length-1].y+=l),o===a.length-1&&(a[0].y+=l)}}}};const Z5=(t,e,i)=>t>=e&&t<=i||t>=i&&t<=e,lDe=512;let Kc,cDe=class{constructor(e){this._geometry=e}next(){const e=this._geometry;return this._geometry=null,e}};function TO(t,e,i){if(!t)return null;Kc||(Kc=new aDe(0,0,0,1));const r=i?-1:1,s=t.geometryType==="esriGeometryPolygon",n=s?Oo.Polygon:Oo.LineString,a=s?3:2;let o,l;for(Kc.reset(n),Kc.setPixelMargin(e+1),Kc.setExtent(lDe);t.nextPath();)if(!(t.pathSize<a)){for(t.nextPoint(),o=t.x,l=r*t.y,Kc.moveTo(o,l);t.nextPoint();)o=t.x,l=r*t.y,Kc.lineTo(o,l);s&&Kc.close()}const u=Kc.result(!1);if(u){const d=$t.createEmptyOptimizedCIM(t.geometryType);for(const h of u){d.startPath();for(const p of h)d.pushXY(p.x,r*p.y)}return d.reset(),d}return null}let uDe=class{applyColorSubstitution(e,i){if(!i)return e;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const{width:r,height:s}=e,n=this._rasterizationCanvas,a=n.getContext("2d",{willReadFrequently:!0});e!==n&&(n.width=r,n.height=s,a.drawImage(e,0,0,r,s));const o=a.getImageData(0,0,r,s).data;if(i){for(const u of i)if(u&&u.oldColor&&u.oldColor.length===4&&u.newColor&&u.newColor.length===4){const[d,h,p,m]=u.oldColor,[g,b,v,w]=u.newColor;if(d===g&&h===b&&p===v&&m===w)continue;for(let _=0;_<o.length;_+=4)d===o[_]&&h===o[_+1]&&p===o[_+2]&&m===o[_+3]&&(o[_]=g,o[_+1]=b,o[_+2]=v,o[_+3]=w)}}const l=new ImageData(o,r,s);return a.putImageData(l,0,0),n}tintImageData(e,i){if(!i||i.length<4)return e;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const{width:r,height:s}=e,n=this._rasterizationCanvas,a=n.getContext("2d",{willReadFrequently:!0});e!==n&&(n.width=r,n.height=s,a.drawImage(e,0,0,r,s));const o=a.getImageData(0,0,r,s),l=new Uint8Array(o.data),u=[i[0]/255,i[1]/255,i[2]/255,i[3]/255];for(let h=0;h<l.length;h+=4)l[h]*=u[0],l[h+1]*=u[1],l[h+2]*=u[2],l[h+3]*=u[3];const d=new ImageData(new Uint8ClampedArray(l.buffer),r,s);return a.putImageData(d,0,0),n}};var Zl;let dDe=(Zl=class{static local(){return Zl.instance===null&&(Zl.instance=new Zl),Zl.instance}execute(e,i,r,s){return new fDe(e,i)}},Zl.instance=null,Zl),fDe=class{constructor(e,i){this._inputGeometries=e,this._angleTolerance=i.angleTolerance!==void 0?i.angleTolerance:120,this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}next(){let e=this._inputGeometries.next();if(!e)return null;for(;e;){if(e.geometryType==="esriGeometryPolygon")this._isClosed=!0;else if(e.geometryType==="esriGeometryPolyline")this._isClosed=!1;else{if(e.geometryType!=="esriGeometryEnvelope"){e=this._inputGeometries.next();continue}if(this._maxCosAngle)return e;this._isClosed=!0}for(;e.nextPath();)this._processPath(e);return e.reset(),e}return null}_processPath(e){if(e.nextPoint()){const i=e.x,r=e.y;let s=i,n=r,a=e.pathSize,o=0,l=0,u=0,d=0,h=0,p=0;this._isClosed&&++a;for(let m=1;e.nextPoint()||m<a;++m){let g,b;this._isClosed&&m===a-1?(g=i,b=r):(g=e.x,b=e.y);const v=g-s,w=b-n,_=Math.sqrt(v*v+w*w);m>1&&_>0&&u>0&&(o*v+l*w)/_/u<=this._maxCosAngle&&e.setControlPointAt(m-1),m===1&&(d=v,h=w,p=_),_>0&&(s=g,n=b,o=v,l=w,u=_)}this._isClosed&&u>0&&p>0&&(o*d+l*h)/p/u<=this._maxCosAngle&&e.setControlPointAt(0)}}};function mv(t,e){t[4]=e}let _3=class{constructor(e,i=!0,r=!0,s=0){this.isClosed=!1,this.geometryCursor=null,this.geometryCursor=!i&&e.geometryType==="esriGeometryPolygon"||!r&&e.geometryType==="esriGeometryPolyline"?null:e,this.geomUnitsPerPoint=s,this.iterateMultiPath=!1,this.iteratePath=!1,this.internalPlacement=new E1}next(){if(!this.geometryCursor)return null;const e=this.processMultiPath(this.geometryCursor);return this.iterateMultiPath&&e||(this.geometryCursor=null),e}processMultiPath(e){for(;this.iteratePath||e.pathIndex<e.totalSize-1;){this.iteratePath||e.nextPath(),this.iterateMultiPath=!0;const i=this.processPath(e);if(i)return i}return this.iterateMultiPath=!1,null}},M1=class{constructor(e,i,r,s=0){this.isClosed=!1,this.inputGeometries=e,this.acceptPolygon=i,this.acceptPolyline=r,this.geomUnitsPerPoint=s,this.iteratePath=!1,this.multiPathCursor=null}next(){for(;;){if(!this.multiPathCursor){let e=this.inputGeometries.next();for(;e&&(this.isClosed=this.acceptPolygon&&e.geometryType==="esriGeometryPolygon"||e.geometryType==="esriGeometryEnvelope",this.multiPathCursor=e,!this.multiPathCursor);)e=this.inputGeometries.next();if(!this.multiPathCursor)return null}for(;this.iteratePath||this.multiPathCursor.nextPath();){this.multiPathCursor.seekPathStart();const e=this.processPath(this.multiPathCursor);if(e)return e}this.multiPathCursor=null}}};const d_=.03;let xd=class{constructor(e=0,i=!1){}isEmpty(e){if(!e.nextPoint())return!0;let i,r,s,n;for(i=e.x,r=e.y;e.nextPoint();i=r,r=n)if(s=e.x,n=e.y,s!==i||n!==r)return e.seekPathStart(),!1;return e.seekPathStart(),!0}normalize(e){const i=Math.sqrt(e[0]*e[0]+e[1]*e[1]);i!==0&&(e[0]/=i,e[1]/=i)}getLength(e,i,r,s){const n=r-e,a=s-i;return Math.sqrt(n*n+a*a)}getSegLength(e){const[[i,r],[s,n]]=e;return this.getLength(i,r,s,n)}getCoord2D(e,i,r,s,n){return[e+(r-e)*n,i+(s-i)*n]}getSegCoord2D(e,i){const[[r,s],[n,a]]=e;return this.getCoord2D(r,s,n,a,i)}getAngle(e,i,r,s,n){const a=r-e,o=s-i;return Math.atan2(o,a)}getAngleCS(e,i,r,s,n,a){e==null&&(e=[0,0]);const o=s-i,l=n-r,u=Math.sqrt(o*o+l*l);return u!==0?(e[0]=o/u,e[1]=l/u,e):(e[0]=1,e[1]=0,e)}getSegAngleCS(e,i,r){const[[s,n],[a,o]]=i;return this.getAngleCS(e,s,n,a,o,r)}cut(e,i,r,s,n,a){return[n<=0?[e,i]:this.getCoord2D(e,i,r,s,n),a>=1?[r,s]:this.getCoord2D(e,i,r,s,a)]}getSubCurve(e,i,r){const s=$t.createEmptyOptimizedCIM("esriGeometryPolyline");return this.appendSubCurve(s,e,i,r)?s:null}appendSubCurve(e,i,r,s){e.startPath(),i.seekPathStart();let n=0,a=!0;if(!i.nextPoint())return!1;let o=i.x,l=i.y;for(;i.nextPoint();){const u=this.getLength(o,l,i.x,i.y);if(u!==0){if(a){if(n+u>r){const d=(r-n)/u;let h=1,p=!1;n+u>=s&&(h=(s-n)/u,p=!0);const m=this.cut(o,l,i.x,i.y,d,h);if(m&&e.pushPoints(m),p)break;a=!1}}else{if(n+u>s){const d=this.cut(o,l,i.x,i.y,0,(s-n)/u);d&&e.pushPoint(d[1]);break}e.pushXY(i.x,i.y)}n+=u,o=i.x,l=i.y}else o=i.x,l=i.y}return!0}getCIMPointAlong(e,i){if(!e.nextPoint())return null;let r,s,n,a,o=0;for(r=e.x,s=e.y;e.nextPoint();r=n,s=a){n=e.x,a=e.y;const l=this.getLength(r,s,n,a);if(l!==0){if(o+l>i){const u=(i-o)/l;return this.getCoord2D(r,s,n,a,u)}o+=l}}return null}offset(e,i,r,s,n){if(!e||e.length<2)return null;let a=0,o=e[a++],l=a;for(;a<e.length;){const p=e[a];p[0]===o[0]&&p[1]===o[1]||(a!==l&&(e[l]=e[a]),o=e[l++]),a++}const u=e[0][0]===e[l-1][0]&&e[0][1]===e[l-1][1];if(u&&--l,l<(u?3:2))return null;const d=[];o=u?e[l-1]:null;let h=e[0];for(let p=0;p<l;p++){const m=p===l-1?u?e[0]:null:e[p+1];if(o)if(m){const g=[m[0]-h[0],m[1]-h[1]];this.normalize(g);const b=[h[0]-o[0],h[1]-o[1]];this.normalize(b);const v=b[0]*g[1]-b[1]*g[0],w=b[0]*g[0]+b[1]*g[1];if(v===0&&w===1){h=m;continue}if(v>=0==i<=0){if(w<1){const _=[g[0]-b[0],g[1]-b[1]];this.normalize(_);const S=Math.sqrt((1+w)/2);if(S>1/s){const T=-Math.abs(i)/S;d.push([h[0]-_[0]*T,h[1]-_[1]*T])}}}else switch(r){case Qu.Mitered:{const _=Math.sqrt((1+w)/2);if(_>0&&1/_<s){const S=[g[0]-b[0],g[1]-b[1]];this.normalize(S);const T=Math.abs(i)/_;d.push([h[0]-S[0]*T,h[1]-S[1]*T]);break}}case Qu.Bevelled:d.push([h[0]+b[1]*i,h[1]-b[0]*i]),d.push([h[0]+g[1]*i,h[1]-g[0]*i]);break;case Qu.Rounded:if(w<1){d.push([h[0]+b[1]*i,h[1]-b[0]*i]);const _=Math.floor(2.5*(1-w));if(_>0){const S=1/_;let T=S;for(let C=1;C<_;C++,T+=S){const A=[b[1]*(1-T)+g[1]*T,-b[0]*(1-T)-g[0]*T];this.normalize(A),d.push([h[0]+A[0]*i,h[1]+A[1]*i])}}d.push([h[0]+g[1]*i,h[1]-g[0]*i])}break;case Qu.Square:default:if(v<0)d.push([h[0]+(b[1]+b[0])*i,h[1]+(b[1]-b[0])*i]),d.push([h[0]+(g[1]-g[0])*i,h[1]-(g[0]+g[1])*i]);else{const _=Math.sqrt((1+Math.abs(w))/2),S=[g[0]-b[0],g[1]-b[1]];this.normalize(S);const T=i/_;d.push([h[0]-S[0]*T,h[1]-S[1]*T])}}}else{const g=[h[0]-o[0],h[1]-o[1]];this.normalize(g),d.push([h[0]+g[1]*i,h[1]-g[0]*i])}else{const g=[m[0]-h[0],m[1]-h[1]];this.normalize(g),d.push([h[0]+g[1]*i,h[1]-g[0]*i])}o=h,h=m}return d.length<(u?3:2)?null:(u&&d.push([d[0][0],d[0][1]]),d)}};const eT=1.7320508075688772,hDe=5,pDe=Dg.OpenEnded;var Jl;let mDe=(Jl=class{static local(){return Jl.instance===null&&(Jl.instance=new Jl),Jl.instance}execute(e,i,r,s,n){return new yDe(e,i,r)}},Jl.instance=null,Jl),yDe=class extends M1{constructor(e,i,r){super(e,!1,!0),this._curveHelper=new xd,this._width=(i.width!==void 0?i.width:hDe)*r,this._arrowType=i.geometricEffectArrowType!==void 0?i.geometricEffectArrowType:i.arrowType!==void 0?i.arrowType:pDe,this._offsetFlattenError=d_*r}processPath(e){const i=$t.createEmptyOptimizedCIM(e.geometryType);switch(this._arrowType){case Dg.OpenEnded:default:this._constructSimpleArrow(i,e,!0);break;case Dg.Block:this._constructSimpleArrow(i,e,!1);break;case Dg.Crossed:this._constructCrossedArrow(i,e)}return i}_constructSimpleArrow(e,i,r){const s=i.pathLength();let n=this._width;s<2*n&&(n=s/2);const a=this._curveHelper.getSubCurve(i,0,s-n);if(!a||!a.nextPath())return;a.seekPathStart();const o=n/2;if(this._curveHelper.isEmpty(a))return;const l=Hf(a),u=this._constructOffset(l,-o);if(!u)return;const d=this._constructOffset(l,o);if(!d)return;const h=this._constructArrowBasePoint(u,-o/2);if(!h)return;const p=this._constructArrowBasePoint(d,o/2);if(!p)return;i.seekInPath(i.pathSize-1);const m=[i.x,i.y];e.pushPath(d),e.nextPath(),e.nextPoint(),e.setControlPoint(),e.pushPoint(p),e.nextPoint(),e.setControlPoint(),e.pushPoint(m),e.nextPoint(),e.setControlPoint(),e.pushPoint(h),e.nextPoint(),e.setControlPoint(),e.pushPoints(u.reverse()),e.setControlPoint(),r||(e.setControlPointAt(0),e.setControlPointAt(e.pathSize-1),e.pushPoint(d[0])),e.reset()}_constructCrossedArrow(e,i){const r=i.pathLength();let s=this._width;r<s*(1+eT+1)&&(s=r/(1+eT+1)),i.seekPathStart();const n=this._curveHelper.getSubCurve(i,0,r-s*(1+eT));if(!n)return;n.nextPath();const a=s/2;if(this._curveHelper.isEmpty(n))return;const o=Hf(n),l=this._constructOffset(o,a);if(!l)return;const u=this._constructOffset(o,-a);if(!u)return;const d=this._curveHelper.getSubCurve(i,0,r-s);if(!d||(d.nextPath(),this._curveHelper.isEmpty(d)))return;const h=Hf(d),p=this._constructOffset(h,a);if(!p)return;const m=this._constructOffset(h,-a);if(!m)return;const g=p[p.length-1],b=this._constructArrowBasePoint(p,a/2);if(!b)return;const v=m[m.length-1],w=this._constructArrowBasePoint(m,-a/2);if(!w)return;i.seekInPath(i.pathSize-1);const _=[i.x,i.y];e.pushPath(l),e.nextPath(),e.nextPoint(),e.setControlPoint(),e.pushPoint(v),e.nextPoint(),e.setControlPoint(),e.pushPoint(w),e.nextPoint(),e.setControlPoint(),e.pushPoint(_),e.nextPoint(),e.setControlPoint(),e.pushPoint(b),e.nextPoint(),e.setControlPoint(),e.pushPoint(g),e.nextPoint(),e.setControlPoint(),e.pushPoints(u.reverse()),e.nextPoint(),e.setControlPoint(),e.reset()}_constructOffset(e,i){return this._curveHelper.offset(e,i,Qu.Rounded,4,this._offsetFlattenError)}_constructArrowBasePoint(e,i){if(!e||e.length<2)return null;const r=e[e.length-2],s=e[e.length-1],n=[s[0]-r[0],s[1]-r[1]];return this._curveHelper.normalize(n),[s[0]+n[1]*i,s[1]-n[0]*i]}};var Yl;let gDe=(Yl=class{static local(){return Yl.instance===null&&(Yl.instance=new Yl),Yl.instance}execute(e,i,r,s,n,a,o){return new bDe(e,i,r,s,n,a,o)}},Yl.instance=null,Yl),bDe=class{constructor(e,i,r,s,n,a,o){this._preventClipping=o,this._inputGeometries=e,this._tileKey=s,this._geometryEngine=n,this._curveHelper=new xd,this._size=(i.size!==void 0?i.size:1)*r,this._maxInflateSize=a*r,this._offsetFlattenError=d_*r}next(){let e;for(;e=this._inputGeometries.next();){if(this._size===0)return e;if(e.geometryType==="esriGeometryEnvelope"){if(this._size>0){const n=$t.createEmptyOptimizedCIM(e.geometryType),a=P7(e)[0],o=this._curveHelper.offset(a,this._size,Qu.Rounded,4,this._offsetFlattenError);if(o)return n.pushPath(o),n}else if(this._size<0){const n=e.asJSON();if(Math.min(n.xmax-n.xmin,n.ymax-n.ymin)+2*this._size>0)return $t.fromJSONCIM({xmin:n.xmin-this._size,xmax:n.xmax+this._size,ymin:n.ymin-this._size,ymax:n.ymax+this._size})}}const i=this._geometryEngine;if(i==null)return null;const r=!this._preventClipping&&this._tileKey?TO(e,this._maxInflateSize,!0):e;if(!r)continue;const s=i.buffer(le.WebMercator,r.asJSON(),this._size,1);return s?$t.fromJSONCIM(s):null}return null}};var Xl;let vDe=(Xl=class{static local(){return Xl.instance===null&&(Xl.instance=new Xl),Xl.instance}execute(e,i,r,s,n){return new wDe(e,i,r)}},Xl.instance=null,Xl),wDe=class{constructor(e,i,r){this._defaultPointSize=20,this._inputGeometries=e,this._geomUnitsPerPoint=r,this._rule=i.rule??Ve.FullGeometry,this._defaultSize=this._defaultPointSize*r}next(){let e;for(;e=this._inputGeometries.next();){const i=this._processGeom(P7(e));if(i!=null&&i.length)return $t.fromJSONCIM({paths:i})}return null}_clone(e){return[e[0],e[1]]}_mid(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}_mix(e,i,r,s){return[e[0]*i+r[0]*s,e[1]*i+r[1]*s]}_add(e,i){return[e[0]+i[0],e[1]+i[1]]}_add2(e,i,r){return[e[0]+i,e[1]+r]}_sub(e,i){return[e[0]-i[0],e[1]-i[1]]}_dist(e,i){return Math.sqrt((e[0]-i[0])*(e[0]-i[0])+(e[1]-i[1])*(e[1]-i[1]))}_norm(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}_normalize(e,i=1){const r=i/this._norm(e);e[0]*=r,e[1]*=r}_leftPerpendicular(e){const i=-e[1],r=e[0];e[0]=i,e[1]=r}_leftPerp(e){return[-e[1],e[0]]}_rightPerpendicular(e){const i=e[1],r=-e[0];e[0]=i,e[1]=r}_rightPerp(e){return[e[1],-e[0]]}_dotProduct(e,i){return e[0]*i[0]+e[1]*i[1]}_crossProduct(e,i){return e[0]*i[1]-e[1]*i[0]}_rotateDirect(e,i,r){const s=e[0]*i-e[1]*r,n=e[0]*r+e[1]*i;e[0]=s,e[1]=n}_makeCtrlPt(e){const i=[e[0],e[1]];return mv(i,1),i}_addAngledTicks(e,i,r,s){const n=this._sub(r,i);this._normalize(n);const a=this._crossProduct(n,this._sub(s,i));let o;o=a>0?this._rightPerp(n):this._leftPerp(n);const l=Math.abs(a)/2,u=[];u.push([i[0]+(o[0]-n[0])*l,i[1]+(o[1]-n[1])*l]),u.push(i),u.push(r),u.push([r[0]+(o[0]+n[0])*l,r[1]+(o[1]+n[1])*l]),e.push(u)}_addBezier2(e,i,r,s,n){if(n--===0)return void e.push(s);const a=this._mid(i,r),o=this._mid(r,s),l=this._mid(a,o);this._addBezier2(e,i,a,l,n),this._addBezier2(e,l,o,s,n)}_addBezier3(e,i,r,s,n,a){if(a--===0)return void e.push(n);const o=this._mid(i,r),l=this._mid(r,s),u=this._mid(s,n),d=this._mid(o,l),h=this._mid(l,u),p=this._mid(d,h);this._addBezier3(e,i,o,d,p,a),this._addBezier3(e,p,h,u,n,a)}_add90DegArc(e,i,r,s,n){const a=n??this._crossProduct(this._sub(r,i),this._sub(s,i))>0,o=this._mid(i,r),l=this._sub(o,i);a?this._leftPerpendicular(l):this._rightPerpendicular(l),o[0]+=l[0],o[1]+=l[1],this._addBezier3(e,i,this._mix(i,.33333,o,.66667),this._mix(r,.33333,o,.66667),r,4)}_addArrow(e,i,r){const s=i[0],n=i[1],a=i[i.length-1],o=this._sub(s,n),l=this._norm(o);this._normalize(o);const u=Math.abs(this._crossProduct(o,this._sub(a,n)));let d=this._dotProduct(o,this._sub(a,n));d<.05*l?d=.05*l:d>.95*l&&(d=.95*l);const h=.5*u,p=this._leftPerp(o),m=[n[0]+o[0]*d,n[1]+o[1]*d],g=i.length-1,b=[];b.push(r?[-p[0],-p[1]]:p);let v=[-o[0],-o[1]];for(let w=1;w<g-1;w++){const _=this._sub(i[w+1],i[w]);this._normalize(_);const S=this._dotProduct(_,v),T=this._crossProduct(_,v),C=Math.sqrt((1+S)/2),A=this._sub(_,v);this._normalize(A),A[0]/=C,A[1]/=C,b.push(T<0?[-A[0],-A[1]]:A),v=_}b.push(this._rightPerp(v));for(let w=b.length-1;w>0;w--)e.push([i[w][0]+b[w][0]*h,i[w][1]+b[w][1]*h]);e.push([m[0]+b[0][0]*h,m[1]+b[0][1]*h]),e.push([m[0]+b[0][0]*u,m[1]+b[0][1]*u]),e.push(s),e.push([m[0]-b[0][0]*u,m[1]-b[0][1]*u]),e.push([m[0]-b[0][0]*h,m[1]-b[0][1]*h]);for(let w=1;w<b.length;w++)e.push([i[w][0]-b[w][0]*h,i[w][1]-b[w][1]*h])}_addDash(e,i,r){const s=this._norm(r)/7;this._normalize(r);let n=[];for(let a=0;a<=7;a++)n.push([i[0]+r[0]*a*s,i[1]+r[1]*a*s]),1&a&&(e.push(n),n=[])}_cp2(e,i,r){return e.length>=2?e[1]:this._add2(e[0],i*this._defaultSize,r*this._defaultSize)}_cp3(e,i,r,s){if(e.length>=3)return e[2];const n=this._mix(e[0],1-r,i,r),a=this._sub(i,e[0]);return this._normalize(a),this._rightPerpendicular(a),[n[0]+a[0]*s*this._defaultSize,n[1]+a[1]*s*this._defaultSize]}_arrowPath(e){if(e.length>2)return e;const i=e[0],r=this._cp2(e,-4,0),s=this._sub(i,r);this._normalize(s);const n=this._rightPerp(s);return[i,r,[i[0]+(n[0]-s[0])*this._defaultSize,i[1]+(n[1]-s[1])*this._defaultSize]]}_arrowLastSeg(e){const i=e[0],r=this._cp2(e,-4,0);let s;if(e.length>=3)s=e[e.length-1];else{const n=this._sub(i,r);this._normalize(n);const a=this._rightPerp(n);s=[i[0]+(a[0]-n[0])*this._defaultSize,i[1]+(a[1]-n[1])*this._defaultSize]}return[r,s]}_processGeom(e){if(!e)return null;const i=[];for(const r of e){const s=r.length>1&&AY(r)<this._defaultSize;if(!r||r.length===0||s)continue;const n=r.length;let a=r[0];switch(this._rule){case Ve.PerpendicularFromFirstSegment:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,.5,4),u=[];u.push(l),u.push(this._mid(a,o)),i.push(u);break}case Ve.ReversedFirstSegment:{const o=this._cp2(r,0,-1);i.push([o,a]);break}case Ve.PerpendicularToSecondSegment:{if(r.length<3)return[];const o=this._cp2(r,-4,1),l=this._cp3(r,o,.882353,-1.94),u=[];u.push(this._mid(o,l)),u.push(a),i.push(u);break}case Ve.SecondSegmentWithTicks:{if(r.length<3)return[];const o=this._cp2(r,-4,1),l=this._cp3(r,o,.882353,-1.94),u=this._sub(l,o);let d;d=this._crossProduct(u,this._sub(a,o))>0?this._rightPerp(u):this._leftPerp(u);const h=[];h.push([o[0]+(d[0]-u[0])/3,o[1]+(d[1]-u[1])/3]),h.push(o),h.push(l),h.push([l[0]+(d[0]+u[0])/3,l[1]+(d[1]+u[1])/3]),i.push(h);break}case Ve.DoublePerpendicular:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,.5,3),u=this._mid(a,o),d=this._sub(u,l);this._normalize(d);const h=this._crossProduct(d,this._sub(a,l));this._leftPerpendicular(d);const p=[];p.push(a),p.push([l[0]+d[0]*h,l[1]+d[1]*h]),i.push(p);const m=[];m.push([l[0]-d[0]*h,l[1]-d[1]*h]),m.push(o),i.push(m);break}case Ve.OppositeToFirstSegment:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,.5,3),u=this._mid(a,o),d=this._sub(u,l);this._normalize(d);const h=this._crossProduct(d,this._sub(a,l));this._leftPerpendicular(d);const p=[];p.push([l[0]+d[0]*h,l[1]+d[1]*h]),p.push([l[0]-d[0]*h,l[1]-d[1]*h]),i.push(p);break}case Ve.TriplePerpendicular:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,.5,4),u=this._mid(a,o),d=this._sub(u,l);this._normalize(d);const h=this._crossProduct(d,this._sub(a,l));this._leftPerpendicular(d);const p=[];p.push([l[0]+d[0]*h*.8,l[1]+d[1]*h*.8]),p.push([u[0]+.8*(a[0]-u[0]),u[1]+.8*(a[1]-u[1])]),i.push(p),i.push([l,u]);const m=[];m.push([l[0]-d[0]*h*.8,l[1]-d[1]*h*.8]),m.push([u[0]+.8*(o[0]-u[0]),u[1]+.8*(o[1]-u[1])]),i.push(m);break}case Ve.HalfCircleFirstSegment:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,.5,4),u=this._mid(a,o);let d=this._sub(o,a);const h=Math.cos(Math.PI/18),p=Math.sin(Math.PI/18),m=Math.sqrt((1+h)/2),g=Math.sqrt((1-h)/2),b=[];let v;this._crossProduct(d,this._sub(l,a))>0?(b.push(a),d=this._sub(a,u),v=o):(b.push(o),d=this._sub(o,u),v=a),this._rotateDirect(d,m,g),d[0]/=m,d[1]/=m;for(let w=1;w<=18;w++)b.push(this._add(u,d)),this._rotateDirect(d,h,p);b.push(v),i.push(b);break}case Ve.HalfCircleSecondSegment:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,1,-1);let u=this._sub(a,o);this._normalize(u);const d=this._crossProduct(u,this._sub(l,o))/2;this._leftPerpendicular(u);const h=[o[0]+u[0]*d,o[1]+u[1]*d];u=this._sub(o,h);const p=Math.cos(Math.PI/18);let m=Math.sin(Math.PI/18);d>0&&(m=-m);const g=[o];for(let b=1;b<=18;b++)this._rotateDirect(u,p,m),g.push(this._add(h,u));i.push(g);break}case Ve.HalfCircleExtended:{const o=this._cp2(r,0,-2),l=this._cp3(r,o,1,-1);let u;if(n>=4)u=r[3];else{const b=this._sub(a,o);u=this._add(l,b)}const d=this._dist(o,l)/2/.75,h=this._sub(o,a);this._normalize(h,d);const p=this._sub(l,u);this._normalize(p,d);const m=[u,l];i.push(m);const g=[this._clone(l)];this._addBezier3(g,l,this._add(l,p),this._add(o,h),o,4),g.push(a),i.push(g);break}case Ve.OpenCircle:{const o=this._cp2(r,-2,0),l=this._sub(o,a),u=Math.cos(Math.PI/18),d=-Math.sin(Math.PI/18),h=[o];for(let p=1;p<=33;p++)this._rotateDirect(l,u,d),h.push(this._add(a,l));i.push(h);break}case Ve.CoverageEdgesWithTicks:{const o=this._cp2(r,0,-1);let l,u;if(n>=3)l=r[2];else{const m=this._sub(o,a),g=this._leftPerp(m);l=[a[0]+g[0]-.25*m[0],a[1]+g[1]-.25*m[1]]}if(n>=4)u=r[3];else{const m=this._mid(a,o),g=this._sub(a,o);this._normalize(g),this._leftPerpendicular(g);const b=this._crossProduct(g,this._sub(l,m));this._rightPerpendicular(g),u=[l[0]+g[0]*b*2,l[1]+g[1]*b*2]}const d=this._sub(o,a);let h,p;h=this._crossProduct(d,this._sub(l,a))>0?this._rightPerp(d):this._leftPerp(d),p=[],p.push(l),p.push(a),p.push([a[0]+(h[0]-d[0])/3,a[1]+(h[1]-d[1])/3]),i.push(p),h=this._crossProduct(d,this._sub(u,o))>0?this._rightPerp(d):this._leftPerp(d),p=[],p.push([o[0]+(h[0]+d[0])/3,o[1]+(h[1]+d[1])/3]),p.push(o),p.push(u),i.push(p);break}case Ve.GapExtentWithDoubleTicks:{const o=this._cp2(r,0,2),l=this._cp3(r,o,0,1);let u;if(n>=4)u=r[3];else{const d=this._sub(o,a);u=this._add(l,d)}this._addAngledTicks(i,a,o,this._mid(l,u)),this._addAngledTicks(i,l,u,this._mid(a,o));break}case Ve.GapExtentMidline:{const o=this._cp2(r,2,0),l=this._cp3(r,o,0,1);let u;if(n>=4)u=r[3];else{const h=this._sub(o,a);u=this._add(l,h)}const d=[];d.push(this._mid(a,l)),d.push(this._mid(o,u)),i.push(d);break}case Ve.Chevron:{const o=this._cp2(r,-1,-1);let l;if(n>=3)l=r[2];else{const u=this._sub(o,a);this._leftPerpendicular(u),l=this._add(a,u)}i.push([o,this._makeCtrlPt(a),l]);break}case Ve.PerpendicularWithArc:{const o=this._cp2(r,0,-2),l=this._cp3(r,o,.5,-1),u=this._sub(o,a),d=this._norm(u);u[0]/=d,u[1]/=d;const h=this._crossProduct(u,this._sub(l,a));let p=this._dotProduct(u,this._sub(l,a));p<.05*d?p=.05*d:p>.95*d&&(p=.95*d);const m=[a[0]+u[0]*p,a[1]+u[1]*p];let g=this._leftPerp(u),b=[];if(b.push([m[0]-g[0]*h,m[1]-g[1]*h]),b.push([m[0]+g[0]*h,m[1]+g[1]*h]),i.push(b),n>=4){const S=r[3];let T=this._dotProduct(u,this._sub(S,a));T<.1*d?T=.1*d:T>.9*d&&(T=.9*d);const C=[a[0]+u[0]*T,a[1]+u[1]*T],A=this._crossProduct(u,this._sub(S,a)),O=[];O.push([C[0]-g[0]*A,C[1]-g[1]*A]),O.push([C[0]+g[0]*A,C[1]+g[1]*A]),i.push(O)}const v=[o[0]+g[0]*h,o[1]+g[1]*h];g=this._sub(o,v);const w=Math.cos(Math.PI/18);let _=Math.sin(Math.PI/18);h<0&&(_=-_),b=[a,o];for(let S=1;S<=9;S++)this._rotateDirect(g,w,_),b.push(this._add(v,g));i.push(b);break}case Ve.ClosedHalfCircle:{const o=this._cp2(r,2,0),l=this._mid(a,o),u=this._sub(o,l),d=Math.cos(Math.PI/18),h=Math.sin(Math.PI/18),p=[a,o];for(let m=1;m<=18;m++)this._rotateDirect(u,d,h),p.push(this._add(l,u));i.push(p);break}case Ve.TripleParallelExtended:{const o=this._cp2(r,0,-2),l=this._cp3(r,o,1,-2),u=this._mid(a,o),d=this._sub(l,o);this._normalize(d);const h=Math.abs(this._crossProduct(d,this._sub(u,o)))/2,p=this._dist(o,l),m=[o,a];m.push([a[0]+d[0]*p*.5,a[1]+d[1]*p*.5]),i.push(m);const g=[];g.push([u[0]-d[0]*h,u[1]-d[1]*h]),g.push([u[0]+d[0]*p*.375,u[1]+d[1]*p*.375]),mv(g[g.length-1],1),g.push([u[0]+d[0]*p*.75,u[1]+d[1]*p*.75]),i.push(g);const b=[o,l];i.push(b);break}case Ve.ParallelWithTicks:{const o=this._cp2(r,3,0),l=this._cp3(r,o,.5,-1),u=this._sub(l,o);this._normalize(u);const d=this._crossProduct(u,this._sub(l,a));this._leftPerpendicular(u),this._addAngledTicks(i,a,o,l),this._addAngledTicks(i,this._mix(a,1,u,d),this._mix(o,1,u,d),this._mid(a,o));break}case Ve.Parallel:{const o=this._cp2(r,3,0),l=this._cp3(r,o,.5,-1),u=this._sub(o,a);this._normalize(u);const d=this._leftPerp(u),h=this._crossProduct(u,this._sub(l,a));let p=[a,o];i.push(p),p=[],p.push([a[0]+d[0]*h,a[1]+d[1]*h]),p.push([o[0]+d[0]*h,o[1]+d[1]*h]),i.push(p);break}case Ve.PerpendicularToFirstSegment:{const o=this._cp2(r,3,0),l=this._cp3(r,o,.5,-1),u=this._mid(a,o),d=this._sub(o,a);this._normalize(d);const h=this._crossProduct(d,this._sub(l,a));this._leftPerpendicular(d);const p=[];p.push([u[0]-d[0]*h*.25,u[1]-d[1]*h*.25]),p.push([u[0]+d[0]*h*1.25,u[1]+d[1]*h*1.25]),i.push(p);break}case Ve.ParallelOffset:{const o=this._cp2(r,3,0),l=this._cp3(r,o,.5,-1),u=this._sub(o,a);this._normalize(u);const d=this._crossProduct(u,this._sub(l,a));this._leftPerpendicular(u);const h=[];h.push([a[0]-u[0]*d,a[1]-u[1]*d]),h.push([o[0]-u[0]*d,o[1]-u[1]*d]),i.push(h);const p=[];p.push([a[0]+u[0]*d,a[1]+u[1]*d]),p.push([o[0]+u[0]*d,o[1]+u[1]*d]),i.push(p);break}case Ve.OffsetOpposite:{const o=this._cp2(r,3,0),l=this._cp3(r,o,.5,-1),u=this._sub(o,a);this._normalize(u);const d=this._crossProduct(u,this._sub(l,a));this._leftPerpendicular(u);const h=[];h.push([a[0]-u[0]*d,a[1]-u[1]*d]),h.push([o[0]-u[0]*d,o[1]-u[1]*d]),i.push(h);break}case Ve.OffsetSame:{const o=this._cp2(r,3,0),l=this._cp3(r,o,.5,-1),u=this._sub(o,a);this._normalize(u);const d=this._crossProduct(u,this._sub(l,a));this._leftPerpendicular(u);const h=[];h.push([a[0]+u[0]*d,a[1]+u[1]*d]),h.push([o[0]+u[0]*d,o[1]+u[1]*d]),i.push(h);break}case Ve.CircleWithArc:{let o=this._cp2(r,3,0);const l=this._cp3(r,o,.5,-1);let u,d;if(n>=4)u=r[3],d=this._crossProduct(this._sub(u,o),this._sub(l,o))>0;else{u=o,d=this._crossProduct(this._sub(u,a),this._sub(l,a))>0;const b=24*this._geomUnitsPerPoint,v=this._sub(u,a);this._normalize(v,b);const w=Math.sqrt(2)/2;this._rotateDirect(v,w,d?w:-w),o=this._add(a,v)}const h=this._sub(o,a),p=Math.cos(Math.PI/18),m=Math.sin(Math.PI/18),g=[o];for(let b=1;b<=36;b++)this._rotateDirect(h,p,m),g.push(this._add(a,h));this._add90DegArc(g,o,u,l,d),mv(g[g.length-8],1),i.push(g);break}case Ve.DoubleJog:{let o,l=this._cp2(r,-3,1),u=this._cp3(r,l,-1,-.5);if(n>=4)o=r[3];else{const _=a;a=l,o=u;const S=this._dist(a,_),T=this._dist(o,_);let C=30*this._geomUnitsPerPoint;.5*S<C&&(C=.5*S),.5*T<C&&(C=.5*T),l=this._mix(a,C/S,_,(S-C)/S),u=this._mix(o,C/T,_,(T-C)/T)}const d=this._mid(a,l),h=this._mid(o,u),p=this._dist(a,l),m=this._dist(u,o);let g=Math.min(p,m)/8;g=Math.min(g,24*this._geomUnitsPerPoint);const b=Math.cos(Math.PI/4);let v=this._sub(a,l);this._normalize(v,g),this._crossProduct(v,this._sub(o,l))>0?this._rotateDirect(v,b,-b):this._rotateDirect(v,b,b);let w=[];w.push(l),w.push(this._add(d,v)),w.push(this._sub(d,v)),w.push(a),i.push(w),v=this._sub(o,u),this._normalize(v,g),this._crossProduct(v,this._sub(a,u))<0?this._rotateDirect(v,b,b):this._rotateDirect(v,b,-b),w=[],w.push(u),w.push(this._add(h,v)),w.push(this._sub(h,v)),w.push(o),i.push(w);break}case Ve.PerpendicularOffset:{const o=this._cp2(r,-4,1),l=this._cp3(r,o,.882353,-1.94),u=this._sub(l,o);this._crossProduct(u,this._sub(a,o))>0?this._rightPerpendicular(u):this._leftPerpendicular(u);const d=[u[0]/8,u[1]/8],h=this._sub(this._mid(o,l),d);i.push([h,a]);break}case Ve.LineExcludingLastSegment:{const o=this._arrowPath(r),l=[];let u=o.length-2;for(;u--;)l.push(o[u]);i.push(l);break}case Ve.MultivertexArrow:{const o=this._arrowPath(r),l=[];this._addArrow(l,o,!1),i.push(l);break}case Ve.CrossedArrow:{const o=this._arrowPath(r),l=[];this._addArrow(l,o,!0),i.push(l);break}case Ve.ChevronArrow:{const[o,l]=this._arrowLastSeg(r),u=10*this._geomUnitsPerPoint,d=this._sub(a,o),h=this._norm(d);this._normalize(d);const p=this._crossProduct(d,this._sub(l,o));let m=this._dotProduct(d,this._sub(l,o));m<.05*h?m=.05*h:m>.95*h-u&&(m=.95*h-u);const g=[o[0]+d[0]*m,o[1]+d[1]*m],b=this._leftPerp(d),v=[];v.push([g[0]+b[0]*p+d[0]*u,g[1]+b[1]*p+d[1]*u]),v.push(a),v.push([g[0]-b[0]*p+d[0]*u,g[1]-b[1]*p+d[1]*u]),i.push(v);break}case Ve.ChevronArrowOffset:{const[o,l]=this._arrowLastSeg(r),u=this._sub(a,o),d=this._norm(u);this._normalize(u);const h=this._crossProduct(u,this._sub(l,o));let p=this._dotProduct(u,this._sub(l,o));p<.05*d?p=.05*d:p>.95*d&&(p=.95*d);const m=[o[0]+u[0]*p,o[1]+u[1]*p];this._leftPerpendicular(u);const g=[];g.push([m[0]+u[0]*h*.5,m[1]+u[1]*h*.5]),g.push(this._mid(m,a)),g.push([m[0]-u[0]*h*.5,m[1]-u[1]*h*.5]),i.push(g);break}case Ve.PartialFirstSegment:{const[o,l]=this._arrowLastSeg(r),u=this._sub(a,o),d=this._norm(u);this._normalize(u);let h=this._dotProduct(u,this._sub(l,o));h<.05*d?h=.05*d:h>.95*d&&(h=.95*d);const p=[o[0]+u[0]*h,o[1]+u[1]*h];i.push([o,p]);break}case Ve.Arch:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,.5,1),u=this._sub(a,o),d=this._mix(l,1,u,.55),h=this._mix(l,1,u,-.55),p=[a];this._addBezier2(p,a,d,l,4),this._addBezier2(p,l,h,o,4),i.push(p);break}case Ve.CurvedParallelTicks:{const o=this._cp2(r,-4,1),l=this._cp3(r,o,.882353,-1.94),u=this._sub(l,o);this._crossProduct(u,this._sub(a,o))>0?this._rightPerpendicular(u):this._leftPerpendicular(u);const d=[u[0]/8,u[1]/8],h=this._sub(this._mid(o,l),d),p=this._sub(this._mix(o,.75,l,.25),d),m=this._sub(this._mix(o,.25,l,.75),d),g=[o];this._addBezier2(g,o,p,h,3),this._addBezier2(g,h,m,l,3),i.push(g);for(let b=0;b<8;b++){const v=g[2*b+1],w=[this._clone(v)];w.push(this._add(v,[u[0]/4,u[1]/4])),i.push(w)}break}case Ve.Arc90Degrees:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,.5,1),u=[o];this._add90DegArc(u,o,a,l),i.push(u);break}case Ve.TipWithPerpendicularAndTicks:{const[o,l]=this._arrowLastSeg(r),u=10*this._geomUnitsPerPoint,d=this._sub(a,o),h=this._norm(d);this._normalize(d);let p=this._crossProduct(d,this._sub(l,o)),m=this._dotProduct(d,this._sub(l,o));m<.05*h?m=.05*h:m>.95*h-u&&(m=.95*h-u);const g=this._leftPerp(d),b=[a[0]-d[0]*u,a[1]-d[1]*u],v=.5*Math.max(h-m-u,u);p=Math.abs(p);const w=[];w.push([b[0]+g[0]*(p+v)-d[0]*v,b[1]+g[1]*(p+v)-d[1]*v]),w.push([b[0]+g[0]*p,b[1]+g[1]*p]),w.push([b[0]-g[0]*p,b[1]-g[1]*p]),w.push([b[0]-g[0]*(p+v)-d[0]*v,b[1]-g[1]*(p+v)-d[1]*v]),i.push(w),i.push([b,a]);break}case Ve.ConcentricCircles:{const o=this._cp2(r,1,0),l=this._cp3(r,o,2,0),u=Math.cos(Math.PI/18),d=Math.sin(Math.PI/18);let h=this._dist(o,a),p=[h,0],m=[];for(let g=0;g<=36;g++)m.push(this._add(a,p)),this._rotateDirect(p,u,d);if(i.push(m),n>=4){m=[];const g=r[3];h=this._dist(g,a),p=[h,0];for(let b=0;b<=36;b++)m.push(this._add(a,p)),b===0&&(m.push(this._add(a,p)),mv(m[1],1)),this._rotateDirect(p,u,d);i.push(m)}m=[],h=this._dist(l,a),p=[h,0];for(let g=0;g<=36;g++)m.push(this._add(a,p)),this._rotateDirect(p,u,d);i.push(m);break}case Ve.DoubleJogArrow:{a=this._arrowPath(r)[0];const[o,l]=this._arrowLastSeg(r),u=this._sub(a,o),d=this._norm(u);this._normalize(u);const h=Math.abs(this._crossProduct(u,this._sub(l,a)));let p=Math.abs(this._dotProduct(u,this._sub(l,a)));p<.05*d?p=.05*d:p>.95*d&&(p=.95*d);const m=Math.max(h,p),g=this._leftPerp(u);let b=[];const v=[a[0]-u[0]*p*.5+g[0]*h*.5,a[1]-u[1]*p*.5+g[1]*h*.5];b.push([v[0],v[1]]),v[0]+=u[0]*m*.5+g[0]*m*.4,v[1]+=u[1]*m*.5+g[1]*m*.4,b.push([v[0],v[1]]),v[0]-=g[0]*m*.25,v[1]-=g[1]*m*.25,b.push([v[0],v[1]]),v[0]+=u[0]*m*.5+g[0]*m*.4,v[1]+=u[1]*m*.5+g[1]*m*.4,b.push([v[0],v[1]]),i.push(b),b=[],v[0]=a[0]-u[0]*p*.5-g[0]*h*.5,v[1]=a[1]-u[1]*p*.5-g[1]*h*.5,b.push([v[0],v[1]]),v[0]+=u[0]*m*.5-g[0]*m*.4,v[1]+=u[1]*m*.5-g[1]*m*.4,b.push([v[0],v[1]]),v[0]+=g[0]*m*.25,v[1]+=g[1]*m*.25,b.push([v[0],v[1]]),v[0]+=u[0]*m*.5-g[0]*m*.4,v[1]+=u[1]*m*.5-g[1]*m*.4,b.push([v[0],v[1]]),i.push(b);break}case Ve.LinkedChevrons:{const o=this._cp2(r,-5,0),l=this._cp3(r,o,-.2,1),u=this._sub(a,o);this._normalize(u);const d=this._leftPerp(u),h=Math.abs(this._crossProduct(u,this._sub(l,o)));i.push([o,a]);const p=[];p.push([a[0]-u[0]*h+d[0]*h,a[1]-u[1]*h+d[1]*h]),p.push(a),p.push([a[0]-u[0]*h-d[0]*h,a[1]-u[1]*h-d[1]*h]),i.push(p),this._addDash(i,o,[-u[0]*h+d[0]*h,-u[1]*h+d[1]*h]),this._addDash(i,o,[-u[0]*h-d[0]*h,-u[1]*h-d[1]*h]);break}case Ve.SegmentThenHalfCircle:{const o=this._cp2(r,2,0),l=this._cp3(r,o,1.5,0);let u;u=n>=4?r[3]:this._cp3(r,o,1.25,-.5);const d=this._sub(o,a);this._normalize(d);const h=.5*this._dist(o,l),p=this._crossProduct(d,this._sub(u,a))>0,m=Math.cos(Math.PI/18);let g=Math.sin(Math.PI/18);p&&(g=-g);const b=[a,o];d[0]*=h,d[1]*=h;const v=this._add(o,d);d[0]=-d[0],d[1]=-d[1];for(let w=1;w<=18;w++)this._rotateDirect(d,m,g),b.push(this._add(v,d));i.push(b);break}case Ve.LineWithStraightTicks:{const o=this._cp2(r,-2,1),l=this._cp3(r,o,-1,-.5),u=this._sub(l,o);this._normalize(u);const d=this._dotProduct(u,this._sub(o,a)),h=this._dotProduct(u,this._sub(l,a));let p=[a];p.push([a[0]+u[0]*d,a[1]+u[1]*d]),p.push(o),i.push(p),p=[a],p.push([a[0]+u[0]*h,a[1]+u[1]*h]),p.push(l),i.push(p);break}case Ve.DoubleCurve:{const o=this._cp2(r,-5,-1),l=this._cp3(r,o,2,0),u=Math.atan2(1,5),d=Math.cos(u),h=Math.sin(u),p=this._sub(o,a),m=this._dist(a,o);this._normalize(p),this._rotateDirect(p,d,-h);const g=[a];g.push([a[0]+p[0]*m*.5,a[1]+p[1]*m*.5]),mv(g[1],1),g.push([a[0]+p[0]*m*.8,a[1]+p[1]*m*.8]),this._addBezier2(g,g[2],[a[0]+p[0]*m,a[1]+p[1]*m],o,3);const b=this._sub(l,o),v=this._dist(o,l);this._normalize(b),this._rotateDirect(b,d,-h),this._addBezier2(g,o,[l[0]-b[0]*v,l[1]-b[1]*v],[l[0]-b[0]*v*.8,l[1]-b[1]*v*.8],3),g.push(l),i.push(g);break}case Ve.ParallelWithTicksByWidth:{const o=this._cp2(r,0,-1),l=this._cp3(r,o,.5,3),u=this._sub(o,a);this._normalize(u);const d=this._crossProduct(u,this._sub(l,a));this._leftPerpendicular(u),d>0?(this._addAngledTicks(i,a,[a[0]+u[0]*d,a[1]+u[1]*d],o),this._addAngledTicks(i,o,[o[0]+u[0]*d,o[1]+u[1]*d],a)):(this._addAngledTicks(i,[a[0]+u[0]*d,a[1]+u[1]*d],a,o),this._addAngledTicks(i,[o[0]+u[0]*d,o[1]+u[1]*d],a,o));break}case Ve.EnclosingRoundedRectangle:{const o=this._cp2(r,3,-2),l=[Math.min(a[0],o[0]),Math.max(a[1],o[1])],u=[Math.max(a[0],o[0]),Math.min(a[1],o[1])],d=u[0]-l[0],h=l[1]-u[1],p=Math.min(d,h)/10,m=[];m.push([l[0]+p+.75*(d-2*p),l[1]]),m.push([u[0]-p,l[1]]),this._add90DegArc(m,[u[0]-p,l[1]],[u[0],l[1]-p],[u[0],l[1]]),m.push([u[0],u[1]+p]),this._add90DegArc(m,[u[0],u[1]+p],[u[0]-p,u[1]],u),m.push([l[0]+p,u[1]]),this._add90DegArc(m,[l[0]+p,u[1]],[l[0],u[1]+p],[l[0],u[1]]),m.push([l[0],l[1]-p]),this._add90DegArc(m,[l[0],l[1]-p],[l[0]+p,l[1]],l),m.push([l[0]+p+.75*(d-2*p),l[1]]);break}case Ve.FullGeometry:default:i.push(r)}}return i}};var Ql;let _De=(Ql=class{static local(){return Ql.instance===null&&(Ql.instance=new Ql),Ql.instance}execute(e,i,r,s,n){return new SDe(e,i,r)}},Ql.instance=null,Ql),SDe=class extends M1{constructor(e,i,r){super(e,!0,!0),this._curveHelper=new xd,this._beginCut=(i.beginCut!==void 0?i.beginCut:1)*r,this._endCut=(i.endCut!==void 0?i.endCut:1)*r,this._middleCut=(i.middleCut!==void 0?i.middleCut:0)*r,this._invert=i.invert!==void 0&&i.invert,this._beginCut<0&&(this._beginCut=0),this._endCut<0&&(this._endCut=0),this._middleCut<0&&(this._middleCut=0)}processPath(e){const{_beginCut:i,_endCut:r,_middleCut:s}=this,n=e.pathLength(),a=$t.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._invert){if(i!==0||r!==0||s!==0)if(i+r+s>=n)for(a.startPath();e.nextPoint();)a.pushXY(e.x,e.y);else this._curveHelper.appendSubCurve(a,e,0,i),this._curveHelper.appendSubCurve(a,e,.5*(n-s),.5*(n+s)),this._curveHelper.appendSubCurve(a,e,n-r,r)}else if(i===0&&r===0&&s===0)for(a.startPath();e.nextPoint();)a.pushXY(e.x,e.y);else i+r+s<n&&(s===0?this._curveHelper.appendSubCurve(a,e,i,n-r):(this._curveHelper.appendSubCurve(a,e,i,.5*(n-s)),this._curveHelper.appendSubCurve(a,e,.5*(n+s),n-r)));return a.totalSize===0?null:a}};const sG=1e-7;let VS=class{constructor(){this._values=[],this.extPtGap=0,this.ctrlPtGap=0,this._length=0,this._currentValue=0}isEmpty(){return this._values.length===0}size(){return this._values.length}init(e,i,r=!0){if(this._setEmpty(),!e||e.length===0)return!1;for(let s=0;s<e.length;s++){let n=Math.abs(e[s]);r&&n<sG&&(n=sG),this._values.push(n),this._length+=n}return i&&1&e.length&&(this._length*=2),this._length!==0&&(this.ctrlPtGap=this.extPtGap=0,this._currentValue=-1,!0)}scale(e){const i=this._values?this._values.length:0;for(let r=0;r<i;++r)this._values[r]*=e;this._length*=e,this.extPtGap*=e,this.ctrlPtGap*=e}addValue(e){this._length+=e,this._values.push(e)}firstValue(){return this._values[0]}lastValue(){return this._values[this._values.length-1]}nextValue(){return this._currentValue++,this._currentValue===this._values.length&&(this._currentValue=0),this._values[this._currentValue]}reset(){this._currentValue=-1}length(){return this._length}_setEmpty(){this.extPtGap=this.ctrlPtGap=this._length=0,this._currentValue=-1,this._values.length=0}},Fu=class{constructor(){this.pt=null,this.ca=0,this.sa=0}};var If;(function(t){t[t.FAIL=0]="FAIL",t[t.END=1]="END",t[t.CONTINUE=2]="CONTINUE"})(If||(If={}));let J5=class{constructor(){this.reset()}reset(){this.segment=null,this.segmentLength=0,this.abscissa=0,this.isPathEnd=!1,this.isPartEnd=!1}isValid(){return this.segment!==null}copyTo(e){e.segment=this.segment,e.segmentLength=this.segmentLength,e.abscissa=this.abscissa,e.isPathEnd=this.isPathEnd,e.isPartEnd=this.isPartEnd}},jS=class extends xd{constructor(e=0,i=!1){super(e,i),this._tempPos=new J5,this._tempPt=[0,0],this._tolerance=d_,this._currentPosition=new J5}updateTolerance(e){this._tolerance=d_*e}init(e,i,r=!0){return r?(this._patternLength=i.length(),this._partExtPtGap=i.extPtGap,this._partCtrlPtGap=i.ctrlPtGap):(this._patternLength=0,this._partExtPtGap=0,this._partCtrlPtGap=0),this._currentPosition.reset(),this._partSegCount=0,this._pathCursor=e,this._seg=-1,this._setPosAtNextPart()}curPositionIsValid(){return this._currentPosition.isValid()}nextPosition(e,i=If.FAIL){const r=new J5;return!!this._nextPosition(e,r,null,i)&&(r.copyTo(this._currentPosition),!0)}curPointAndAngle(e){e.pt=this._getPoint(this._currentPosition);const[i,r]=this._getAngleCS(this._tempPt,this._currentPosition);e.ca=i,e.sa=r}nextPointAndAngle(e,i,r=If.FAIL){const s=this._tempPos;if(!this._nextPosition(e,s,null,r))return!1;s.copyTo(this._currentPosition),i.pt=this._getPoint(s);const[n,a]=this._getAngleCS(this._tempPt,s);return i.ca=n,i.sa=a,!0}nextCurve(e){if(e===0)return null;const i=$t.createEmptyOptimizedCIM("esriGeometryPolyline");i.startPath(),i.nextPath();const r=new J5;return this._nextPosition(e,r,i,If.END)?(r.copyTo(this._currentPosition),i):null}isPathEnd(){return this._currentPosition.isPathEnd}getPathEnd(){return this._currentPosition.segment[1]}getPt(e){return this._pathCursor.seekInPath(e),[this._pathCursor.x,this._pathCursor.y]}getSeg(e){return[this.getPt(e),this.getPt(e+1)]}_nextPosition(e,i,r,s){if(this._currentPosition.isPathEnd)return!1;let n=this._currentPosition.abscissa;for(this._currentPosition.segmentLength>0&&(n/=this._currentPosition.segmentLength),this._currentPosition.copyTo(i);i.abscissa+e*this._partLengthRatio>i.segmentLength+this._tolerance;){if(r){if(r.pathSize===0)if(n===0){const o=i.segment[0];r.pushXY(o[0],o[1])}else r.pushPoint(this.getSegCoord2D(i.segment,n));const a=i.segment[1];r.pushXY(a[0],a[1])}if(n=0,e-=(i.segmentLength-i.abscissa)/this._partLengthRatio,this._partSegCount)i.segment=this._nextSegment(),i.segmentLength=this.getSegLength(i.segment),i.abscissa=0,this._partSegCount--;else{if(!this._setPosAtNextPart())return s!==If.FAIL&&(i.segmentLength=this.getSegLength(i.segment),i.isPartEnd=!0,s===If.END?(i.abscissa=i.segmentLength,i.isPathEnd=!0):i.abscissa=i.segmentLength+e,!0);this._currentPosition.copyTo(i)}}if(i.abscissa+=e*this._partLengthRatio,r){r.pathSize===0&&(n===0?r.pushPoint(i.segment[0]):r.pushPoint(this.getSegCoord2D(i.segment,n)));const a=i.abscissa/i.segmentLength;a===1?r.pushPoint(i.segment[1]):r.pushPoint(this.getSegCoord2D(i.segment,a))}return this._partSegCount||Math.abs(i.abscissa-i.segmentLength)<this._tolerance&&(i.isPathEnd=this._partIsLast,i.isPartEnd=!0),!0}_getPoint(e){const i=e.segmentLength<=0?0:e.abscissa/e.segmentLength;return this.getSegCoord2D(this._currentPosition.segment,i)}_getAngleCS(e,i){const r=i.segmentLength<=0?0:i.abscissa/i.segmentLength;return this.getSegAngleCS(e,this._currentPosition.segment,r)}_setPosAtNextPart(){for(;this._partSegCount;)this._hasNextSegment()&&this._nextSegment(),this._partSegCount--;if(!this._hasNextSegment())return!1;for(this._partLength=0,this._partIsLast=!0,this._partSegCount=0;this._hasNextSegment();)if(this._partLength+=this.getSegLength(this._nextSegment()),this._partSegCount++,this._pathCursor.getControlPointAt(this._getEndPointIndex())){this._partIsLast=!this._hasNextSegment();break}let e=this._partSegCount;for(;e;)this._previousSegment(),--e;this._currentPosition.segment=this._nextSegment(),this._currentPosition.segmentLength=this.getSegLength(this._currentPosition.segment),this._currentPosition.abscissa=0,this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=!1,--this._partSegCount;const i=this._getStartPointIndex();this._ctrlPtBegin=this._pathCursor.getControlPointAt(i);let r=i+this._partSegCount+1;if(r>=this._pathCursor.pathSize&&(r=0),this._ctrlPtEnd=this._pathCursor.getControlPointAt(r),this._patternLength>0){const s=this._ctrlPtBegin?this._partCtrlPtGap:this._partExtPtGap,n=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap;let a=Math.round((this._partLength-(s+n))/this._patternLength);a<=0&&(a=s+n>0?0:1),this._partLengthRatio=this._partLength/(s+n+a*this._patternLength),this._partLengthRatio<.01&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0}_hasNextSegment(){return this._seg<this._pathCursor.pathSize-2}_previousSegment(){return this.getSeg(--this._seg)}_nextSegment(){return this.getSeg(++this._seg)}_getStartPointIndex(){return this._seg}_getEndPointIndex(){return this._seg+1}};var Kl;let xDe=(Kl=class{static local(){return Kl.instance===null&&(Kl.instance=new Kl),Kl.instance}execute(e,i,r,s,n){return new $De(e,i,r)}},Kl.instance=null,Kl),$De=class extends M1{constructor(e,i,r){super(e,!0,!0),this._firstCurve=null,this._walker=new jS,this._walker.updateTolerance(r),this._endings=i.lineDashEnding,this._customDashPos=-(i.offsetAlongLine??0)*r,this._offsetAtEnd=(i.customEndingOffset??0)*r;let s=lne(i).dashTemplate;s==null&&(s=[]),s.length%2&&(s=[...s,...s]),this._pattern=new VS,this._pattern.init(s,!0),this._pattern.scale(r)}processPath(e){if(this._pattern.length()===0){this.iteratePath=!1;const s=Hf(e);return $t.fromJSONCIM({paths:[s]})}if(!this.iteratePath){let s=!0;switch(this._endings){case Gr.HalfPattern:case Gr.HalfGap:default:this._pattern.extPtGap=0;break;case Gr.FullPattern:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case Gr.FullGap:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.lastValue());break;case Gr.NoConstraint:this.isClosed||(s=!1);break;case Gr.Custom:this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}const n=e.pathLength();if(this._pattern.isEmpty()||n<.1*this._pattern.length()){const a=Hf(e);return $t.fromJSONCIM({paths:[a]})}if(!this._walker.init(e,this._pattern,s)){const a=Hf(e);return $t.fromJSONCIM({paths:[a]})}}let i;if(this.iteratePath)i=this._pattern.nextValue();else{let s;switch(this._endings){case Gr.HalfPattern:default:s=.5*this._pattern.firstValue();break;case Gr.HalfGap:s=.5*-this._pattern.lastValue();break;case Gr.FullGap:s=-this._pattern.lastValue();break;case Gr.FullPattern:s=0;break;case Gr.NoConstraint:case Gr.Custom:s=-this._customDashPos}let n=s/this._pattern.length();n-=Math.floor(n),s=n*this._pattern.length(),this._pattern.reset(),i=this._pattern.nextValue();let a=!1;for(;s>=i;)s-=i,i=this._pattern.nextValue(),a=!a;i-=s,a?(this._walker.nextPosition(i),i=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(i),i=this._pattern.nextValue(),this._walker.nextPosition(i),i=this._pattern.nextValue())}let r=this._walker.nextCurve(i);if(r)if(this._walker.isPathEnd()){if(this.iteratePath=!1,this._firstCurve){for(this._firstCurve.nextPath();this._firstCurve.nextPoint();)r.pushXY(this._firstCurve.x,this._firstCurve.y);this._firstCurve=null}}else i=this._pattern.nextValue(),!this._walker.nextPosition(i)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(r.pushCursor(this._firstCurve),this._firstCurve=null)):this.iteratePath=!0;else this.iteratePath=!1,r=this._firstCurve,this._firstCurve=null;return r==null||r.reset(),r}};var ec;let TDe=(ec=class{static local(){return ec.instance===null&&(ec.instance=new ec),ec.instance}execute(e,i,r,s,n,a,o){return new IDe(e,i,r,s,n,a,o)}},ec.instance=null,ec),IDe=class{constructor(e,i,r,s,n,a,o){switch(this._preventClipping=o,this._inputGeometries=e,this._tileKey=s,this._geometryEngine=n,this._maxInflateSize=a*r,this._width=(i.width!==void 0?i.width:2)*r,i.method){case Bp.Mitered:case Bp.Bevelled:case Bp.Rounded:case Bp.TrueBuffer:case Bp.Square:}this._option=i.option}next(){let e;for(;e=this._inputGeometries.next();){if(e.geometryType==="esriGeometryEnvelope"&&this._width>0){const i=e.asJSON();return Math.min(i.xmax-i.xmin,i.ymax-i.ymin)-2*this._width<0?e:$t.fromJSONCIM({paths:[[[i.xmin+this._width,i.ymin+this._width],[i.xmax-this._width,i.ymin+this._width],[i.xmax-this._width,i.ymax-this._width],[i.xmin+this._width,i.ymax-this._width],[i.xmin+this._width,i.ymin+this._width]],[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]]]})}if(e.geometryType==="esriGeometryPolygon"){if(this._width===0)return e.clone();const i=this._geometryEngine;if(i==null)return null;const r=!this._preventClipping&&this._tileKey?TO(e,this._maxInflateSize,!0):e.clone();if(!r)continue;const s=i.buffer(le.WebMercator,r.asJSON(),-this._width,1);if(s){for(const n of s.rings)if(n){r.startPath();for(const a of n.reverse())r.pushXY(a[0],r.yFactor*a[1])}}return r}}return null}};var tc;let EDe=(tc=class{static local(){return tc.instance===null&&(tc.instance=new tc),tc.instance}execute(e,i,r,s,n){return new MDe(e,i,r,n)}},tc.instance=null,tc),MDe=class{constructor(e,i,r,s){this._inputGeometries=e,this._medhod=i.method,this._geometryEngine=s}next(){let e=this._inputGeometries.next();const i=this._medhod;for(;e!=null;){if(e.totalSize>0)switch(i){case P8.RectangularBox:return CDe(e);case P8.ConvexHull:return this._constructConvexHull(e);default:return kDe(e)}e=this._inputGeometries.next()}return null}_constructConvexHull(e){switch(e.geometryType){case"esriGeometryPolyline":case"esriGeometryPolygon":{const i=this._geometryEngine;if(i==null)return null;const r=i.convexHull(le.WebMercator,e.asJSON());return r?$t.fromJSONCIM(r):null}case"esriGeometryEnvelope":return e;default:return null}}};function CDe(t){const e=K_(t),i={xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3]};return $t.fromJSONCIM(i)}function kDe(t){switch(t.geometryType){case"esriGeometryPolyline":{const e=[];for(;t.nextPath();)ADe(t,e);return $t.fromJSONCIM({rings:e})}case"esriGeometryPolygon":case"esriGeometryEnvelope":return t;default:return null}}function ADe(t,e){if(t.seekPathStart(),!t.nextPoint())return;const i=t.x,r=t.y,s=[[i,r]];for(e.push(s);t.nextPoint();)s.push([t.x,t.y]);s.push([i,r])}var ic;let PDe=(ic=class{static local(){return ic.instance===null&&(ic.instance=new ic),ic.instance}execute(e,i,r,s,n){return new LDe(e,i,r)}},ic.instance=null,ic),LDe=class extends M1{constructor(e,i,r){super(e,!1,!0),this._curveHelper=new xd,this._length=(i.length!==void 0?i.length:20)*r,this._angle=i.angle!==void 0?i.angle:225,this._position=i.position!==void 0?i.position:50,this._length<0&&(this._length=-this._length),this._position<20&&(this._position=20),this._position>80&&(this._position=80),this._mirror=!1}processPath(e){const i=$t.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._curveHelper.isEmpty(e))return null;e.seekInPath(0);const r=e.x,s=e.y;e.seekInPath(e.pathSize-1);const n=e.x,a=e.y,o=[n-r,a-s];this._curveHelper.normalize(o);const l=r+(n-r)*this._position/100,u=s+(a-s)*this._position/100,d=Math.cos((90-this._angle)/180*Math.PI);let h=Math.sin((90-this._angle)/180*Math.PI);this._mirror&&(h=-h),this._mirror=!this._mirror;const p=[l-this._length/2*d,u-this._length/2*h],m=[l+this._length/2*d,u+this._length/2*h];return i.pushPath([[r,s],p,m,[n,a]]),i}};var rc;let RDe=(rc=class{static local(){return rc.instance===null&&(rc.instance=new rc),rc.instance}execute(e,i,r,s,n){return new ODe(e,i,r)}},rc.instance=null,rc),ODe=class{constructor(e,i,r){this._inputGeometries=e,this._offsetX=i.offsetX!==void 0?i.offsetX*r:0,this._offsetY=i.offsetY!==void 0?i.offsetY*r:0}next(){let e=this._inputGeometries.next();for(;e;){if(e.totalSize>0)return this._move(e.clone(),this._offsetX,this._offsetY);e=this._inputGeometries.next()}return null}_move(e,i,r){for(;e.nextPath();)for(;e.nextPoint();)e.x=e.x+i,e.y=e.y+r;return e.reset(),e}};const FDe=10;var sc;let NDe=(sc=class{static local(){return sc.instance===null&&(sc.instance=new sc),sc.instance}execute(e,i,r,s,n,a,o){return new DDe(e,i,r,s,n,a,o)}},sc.instance=null,sc),DDe=class{constructor(e,i,r,s,n,a,o){this._preventClipping=o,this._inputGeometries=e,this._tileKey=s,this._geometryEngine=n,this._curveHelper=new xd,this._offset=(i.offset??1)*r,this._method=i.method,this._maxInflateSize=Math.max(Math.abs(a*r),FDe),this._option=i.option,this._offsetFlattenError=d_*r}next(){let e;for(;e=this._inputGeometries.next();){if(this._offset===0)return e.clone();if(e.geometryType==="esriGeometryEnvelope"){if(this._method===Qu.Rounded&&this._offset>0){const a=Hf(e),o=this._curveHelper.offset(a,-this._offset,this._method,4,this._offsetFlattenError);if(o){const l=$t.createEmptyOptimizedCIM(e.geometryType);return l.pushPath(o),l}return null}const n=e.asJSON();if(Wr(n)&&Math.min(n.xmax-n.xmin,n.ymax-n.ymin)+2*this._offset>0)return $t.fromJSONCIM({xmin:n.xmin-this._offset,xmax:n.xmax+this._offset,ymin:n.ymin-this._offset,ymax:n.ymax+this._offset})}const i=this._geometryEngine;if(i==null)continue;const r=!this._preventClipping&&this._tileKey?TO(e,this._maxInflateSize,!0):e.clone();if(!r)continue;const s=i.offset(le.WebMercator,r.asJSON(),-this._offset,1,this._method,4,this._offsetFlattenError);return s?$t.fromJSONCIM(s):null}return null}};var nc;let zDe=(nc=class{static local(){return nc.instance===null&&(nc.instance=new nc),nc.instance}execute(e,i,r,s,n){return new VDe(e,i,r)}},nc.instance=null,nc),VDe=class{constructor(e,i,r){this._inputGeometries=e,this._length=(i.length!==void 0?i.length:Vi.CIMGeometricEffectRadial.length)*r,this._angle=i.angle!==void 0?i.angle*Math.PI/180:Vi.CIMGeometricEffectRadial.angle,this._lx=Math.cos(this._angle)*this._length,this._ly=Math.sin(this._angle)*this._length}next(){let e=this._inputGeometries.next();for(;e;){if(e.geometryType==="esriGeometryPoint"||e.geometryType==="esriGeometryMultipoint"){const i=$t.createEmptyOptimizedCIM("esriGeometryPolyline");return e.nextPath()&&e.nextPoint()&&i.pushPath([[e.x,e.y],[e.x+this._lx,e.y+this._ly]]),i}if(e.geometryType==="esriGeometryPolygon"){const i=FY(e);if(!i)return null;const r=$t.createEmptyOptimizedCIM("esriGeometryPolyline");return r.pushPath([[i[0],i[1]],[i[0]+this._lx,i[1]+this._ly]]),r}e=this._inputGeometries.next()}return null}};var ac;let jDe=(ac=class{static local(){return ac.instance===null&&(ac.instance=new ac),ac.instance}execute(e,i,r,s,n){return new qDe(e,i,r)}},ac.instance=null,ac),qDe=class{constructor(e,i,r){this._inputGeometries=e,this._reverse=i.reverse===void 0||i.reverse}next(){let e=this._inputGeometries.next();for(;e;){if(!this._reverse)return e;if(e.geometryType==="esriGeometryPolyline")return BDe(e.clone());e=this._inputGeometries.next()}return null}};function BDe(t){for(;t.nextPath();)for(let e=0;e<t.pathSize/2;e++){t.seekInPath(e);const i=t.x,r=t.y;t.seekInPath(t.pathSize-e-1);const s=t.x,n=t.y;t.x=i,t.y=r,t.seekInPath(e),t.x=s,t.y=n}return t.reset(),t}var oc;let UDe=(oc=class{static local(){return oc.instance===null&&(oc.instance=new oc),oc.instance}execute(e,i,r,s,n){return new GDe(e,i,r)}},oc.instance=null,oc),GDe=class{constructor(e,i,r){this._inputGeometries=e,this._rotateAngle=i.angle!==void 0?i.angle*Math.PI/180:0}next(){let e=this._inputGeometries.next();for(;e;){if(this._rotateAngle===0||e.geometryType==="esriGeometryPoint")return e;if(e.totalSize>0){const i=K_(e),r=(i[2]+i[0])/2,s=(i[3]+i[1])/2;return e.reset(),this._rotate(e.clone(),r,s)}e=this._inputGeometries.next()}return null}_rotate(e,i,r){const s=Math.cos(this._rotateAngle),n=Math.sin(this._rotateAngle);for(;e.nextPath();)for(;e.nextPoint();){const a=e.x-i,o=e.y-r;e.x=i+a*s-o*n,e.y=r+a*n+o*s}return e.reset(),e}};var lc;let HDe=(lc=class{static local(){return lc.instance===null&&(lc.instance=new lc),lc.instance}execute(e,i,r,s,n){return new WDe(e,i,r)}},lc.instance=null,lc),WDe=class{constructor(e,i,r){this._inputGeometries=e,this._xFactor=i.xScaleFactor!==void 0?i.xScaleFactor:1.15,this._yFactor=i.yScaleFactor!==void 0?i.yScaleFactor:1.15}next(){const e=this._inputGeometries.next();if(e){if(this._xFactor===1&&this._yFactor===1||e.geometryType==="esriGeometryPoint")return e;if(e.totalSize>0){const i=K_(e),r=(i[2]+i[0])/2,s=(i[3]+i[1])/2;return e.reset(),this._scaleCursor(e.clone(),r,s)}}return null}_scaleCursor(e,i,r){for(;e.nextPath();)for(;e.nextPoint();)e.x=i+(e.x-i)*this._xFactor,e.y=r+(e.y-r)*this._yFactor;return e.reset(),e}},_A=class{constructor(){this._polyline=[]}beginPath(e){this._polyline.push([e])}lineTo(e){if(this._polyline.length===0)throw new Error("No path started. Call beginPath first.");this._polyline[this._polyline.length-1].push(e)}getPointCount(){return this._polyline.reduce((e,i)=>e+i.length,0)}addSegment(e,i,r){r&&this.beginPath(e),this.lineTo(i)}getXY(e){let i=0;for(const r of this._polyline){if(e<i+r.length)return r[e-i];i+=r.length}return null}getGeometry(){return this._polyline}};var cc;let ZDe=(cc=class{static local(){return cc.instance===null&&(cc.instance=new cc),cc.instance}execute(e,i,r,s,n){return new JDe(e,i,r)}},cc.instance=null,cc),JDe=class extends M1{constructor(e,i,r){super(e,!1,!0),this._suppress=i.suppress!==void 0&&i.suppress,this._invert=i.invert!==void 0&&i.invert}processPath(e){if(e.totalSize<=0)return null;if(!this._suppress){const m=$t.createEmptyOptimizedCIM("esriGeometryPolygon",!1,!1,e.yFactor);for(e.seekPathEnd();e.nextPoint();)m.pushXY(e.x,e.y);return m}const i=[],r=new Array(e.pathSize);let s=0;for(e.seekPathStart();e.nextPoint();)r[s++]=e.getControlPoint(),i.push([e.x,e.y]);let n=!0,a=!0,o=!1,l=!this._invert;s=0;const u=new _A;let d=i[0];for(;s<i.length;){const m=i[s+1],g=r[s],b=r[s+1];s++,a&&(l=g||b?this._invert:!this._invert,a=!1),l?(u.addSegment(d,m,n),n=!1):o=!0,d=m,b&&(l?(l=!1,n=!0):l=!0)}const h=u.getGeometry();if(h.length===0)return null;if(!o&&i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]){const m=h[h.length-1];return m[0][0]===m[m.length-1][0]&&m[0][1]===m[m.length-1][1]||m.push([m[0][0],m[0][1]]),$t.fromJSONCIM({paths:h})}const p=h[h.length-1];return u.getPointCount()>1&&e.geometryType==="esriGeometryPolygon"&&p[0][0]===p[p.length-1][0]&&p[0][1]===p[p.length-1][1]&&h.length>1&&(h[h.length-1].push(...h[0]),h.splice(0,1)),$t.fromJSONCIM({paths:h})}};function nG(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function aoe(t,e){return Math.sqrt(t*t+e*e)}function aG(t){const e=aoe(t[0],t[1]);t[0]/=e,t[1]/=e}function YDe(t,e){return aoe(t[0]-e[0],t[1]-e[1])}function XDe(t,e){return t[e+1]}function ooe(t){return t.length-1}function QDe(t){let e=0;for(let i=0;i<ooe(t);i++)e+=KDe(t,i);return e}function KDe(t,e,i=1){let[r,s]=XDe(t,e);return[r,s]=[Math.round(r),Math.round(s)],Math.sqrt(r*r+s*s)*i}let SA=class xA{constructor(e,i,r,s,n){this._segments=e,this._index=i,this._distance=r,this._xStart=s,this._yStart=n,this._done=!1}static create(e){return new xA(e,0,0,e[0][0],e[0][1])}clone(){return new xA(this._segments,this._index,this._distance,this.xStart,this.yStart)}equals(e){return this._index===e._index||e._index===this._index-1&&(this._distance===0||e._distance===1)||e._index===this._index+1&&(this._distance===1||e._distance===0)}leq(e){return this._index<e._index||this._index===e._index&&this._distance<=e._distance}geq(e){return this._index>e._index||this._index===e._index&&this._distance>=e._distance}get _segment(){return this._segments[this._index+1]}get angle(){const e=this.dy,i=(0*e+-1*-this.dx)/(1*this.length);let r=Math.acos(i);return e>0&&(r=2*Math.PI-r),r}get xStart(){return this._xStart}get yStart(){return this._yStart}get x(){return this.xStart+this.distance*this.dx}get y(){return this.yStart+this.distance*this.dy}get dx(){return this._segment[0]}get dy(){return this._segment[1]}get xMidpoint(){return this.xStart+.5*this.dx}get yMidpoint(){return this.yStart+.5*this.dy}get xEnd(){return this.xStart+this.dx}get yEnd(){return this.yStart+this.dy}get length(){const{dx:e,dy:i}=this;return Math.sqrt(e*e+i*i)}get remainingLength(){return this.length*(1-this._distance)}get backwardLength(){return this.length*this._distance}get distance(){return this._distance}get done(){return this._done}hasPrev(){return this._index-1>=0}hasNext(){return this._index+1<ooe(this._segments)}next(){return this.hasNext()?(this._xStart+=this.dx,this._yStart+=this.dy,this._distance=0,this._index+=1,this):null}prev(){return this.hasPrev()?(this._index-=1,this._xStart-=this.dx,this._yStart-=this.dy,this._distance=1,this):(this._done=!0,null)}_seekBackwards(e,i){const r=this.backwardLength;if(e<=r)return this._distance=(r-e)/this.length,this;let s=this.backwardLength;for(;this.prev();){if(s+this.length>e)return this._seekBackwards(e-s);s+=this.length}return this._distance=0,i?this:null}seek(e,i=!1){if(e<0)return this._seekBackwards(Math.abs(e),i);if(e<=this.remainingLength)return this._distance=(this.backwardLength+e)/this.length,this;let r=this.remainingLength;for(;this.next();){if(r+this.length>e)return this.seek(e-r,i);r+=this.length}return this._distance=1,i?this:null}};function Jlt(t,e,i,r=!0){const s=QDe(t),n=SA.create(t),a=s/2;if(!r)return n.seek(a),void(n.x<ag&&n.y<ag&&n.x>0&&n.y>0&&i(n.clone(),0,a+0*e,s));const o=Math.max((s-e)/2,0),l=Math.floor(o/e),u=a-l*e;n.seek(u);for(let d=-l;d<=l;d++)n.x<ag&&n.y<ag&&n.x>0&&n.y>0&&i(n.clone(),d,a+d*e,s),n.seek(e)}function Ylt(t,e){const i=e;for(let r=0;r<t.length;r++){let s=t[r];eze(s,i);const n=[];n.push(s[0]);for(let a=1;a<s.length;a++){const[o,l]=s[a-1],[u,d]=s[a],h=u-o,p=d-l;n.push([h,p])}t[r]=n,s=n}return t}function eze(t,e){if(e<=0)return;const r=t.length;if(r<3)return;const s=[];let n=0;s.push(0);for(let h=1;h<r;h++)n+=YDe(t[h],t[h-1]),s.push(n);e=Math.min(e,.2*n);const a=[];a.push(t[0][0]),a.push(t[0][1]);const o=t[r-1][0],l=t[r-1][1],u=nG([0,0],t[0],t[1]);aG(u),t[0][0]+=e*u[0],t[0][1]+=e*u[1],nG(u,t[r-1],t[r-2]),aG(u),t[r-1][0]+=e*u[0],t[r-1][1]+=e*u[1];for(let h=1;h<r;h++)s[h]+=e;s[r-1]+=e;const d=.5*e;for(let h=1;h<r-1;h++){let p=0,m=0,g=0;for(let b=h-1;b>=0&&!(s[b+1]<s[h]-d);b--){const v=d+s[b+1]-s[h],w=s[b+1]-s[b],_=s[h]-s[b]<d?1:v/w;if(Math.abs(_)<1e-6)break;const S=_*_,T=_*v-.5*S*w,C=_*w/e,A=t[b+1],O=t[b][0]-A[0],L=t[b][1]-A[1];p+=C/T*(A[0]*_*v+.5*S*(v*O-w*A[0])-S*_*w*O/3),m+=C/T*(A[1]*_*v+.5*S*(v*L-w*A[1])-S*_*w*L/3),g+=C}for(let b=h+1;b<r&&!(s[b-1]>s[h]+d);b++){const v=d-s[b-1]+s[h],w=s[b]-s[b-1],_=s[b]-s[h]<d?1:v/w;if(Math.abs(_)<1e-6)break;const S=_*_,T=_*v-.5*S*w,C=_*w/e,A=t[b-1],O=t[b][0]-A[0],L=t[b][1]-A[1];p+=C/T*(A[0]*_*v+.5*S*(v*O-w*A[0])-S*_*w*O/3),m+=C/T*(A[1]*_*v+.5*S*(v*L-w*A[1])-S*_*w*L/3),g+=C}a.push(p/g),a.push(m/g)}a.push(o),a.push(l);for(let h=0,p=0;h<r;h++)t[h][0]=a[p++],t[h][1]=a[p++]}const yv=()=>W.getLogger("esri.symbols.cim.effects.EffectTaperedPolygon");var uc;let tze=(uc=class{static local(){return uc.instance===null&&(uc.instance=new uc),uc.instance}execute(e,i,r,s,n){return new ize(e,i,r,s,n)}},uc.instance=null,uc),ize=class extends M1{constructor(e,i,r,s,n){super(e,!1,!0),this._slopeS=0,this._slopeC=1,this._lastTangent1=new st(NaN,NaN),this._lastWidth=0,this._tileKey=null,this._halfFromWidth=Math.abs(i.fromWidth!==void 0?i.fromWidth:0)*r*.5,this._halfToWidth=Math.abs(i.toWidth!==void 0?i.toWidth:1)*r*.5,this._originalLength=(i.length!==void 0?i.length:0)*r,this._length=0,this._tileKey=s,this._geometryEngine=n}processPath(e){var g,b;if(e.totalSize<=0)return null;if(this._halfFromWidth<=0&&this._halfToWidth<=0){const v=$t.createEmptyOptimizedCIM("esriGeometryPolygon",!1,!1,e.yFactor);for(e.seekPathEnd();e.prevPoint();)v.pushXY(e.x,e.y);for(e.seekPathStart();e.nextPoint();)v.pushXY(e.x,e.y);return v}const i=[];e.seekPathStart();let r=0,s=0;for(;e.nextPoint();)i.push([e.x-r,e.y-s]),r=e.x,s=e.y;let n=(g=this._geometryEngine)==null?void 0:g.simplify(le.WebMercator,{paths:[i]});n||this._tileKey!=null||(n={paths:[i]});const a=pi(n)?n.rings:Fr(n)?n.paths:null;if(!a)return yv().error(new P("mapview-bad-resource","Unable to process geometry")),null;const o=new _A,l=new _A;let u=0;for(const v of a){r=v[0][0],s=v[0][1];for(let w=1;w<v.length;w++){const _=r+v[w][0],S=s+v[w][1];u+=Math.sqrt((_-r)*(_-r)+(S-s)*(S-s)),r=_,s=S}}if(this._originalLength===0||this._originalLength>u){this._length=u;const v=(this._halfToWidth-this._halfFromWidth)/this._length;if(Math.abs(v)<1){const w=v*v;this._slopeC=Math.sqrt(1/(1+w)),this._slopeS=Math.sqrt(w/(1+w)),v<0&&(this._slopeS=-this._slopeS)}else this._slopeC=this._slopeS=.7071}else this._length=this._originalLength,this._slopeC=1,this._slopeS=0;let d=0;const h=[];for(const v of a){const w=SA.create(v),_=SA.create(v);this._setFromOffset(_,o,l);let S=_.next(),T=w;for(;S&&T;)d=this._setOffset(T,S,d,o,l),T=w.next(),S=_.next();T=w,T&&this._setToOffset(T,d,o,l);const C=o.getGeometry(),A=l.getGeometry(),O=[];for(const L of C)O.push(...L);for(let L=A.length-1;L>=0;L--){const F=A[L];for(let D=F.length-1;D>=0;D--)O.push(F[D])}h.push(O)}const p={rings:h};nye(p);let m=(b=this._geometryEngine)==null?void 0:b.simplify(le.WebMercator,p);if(!m){if(this._tileKey!=null)return null;m=p}return $t.fromJSONCIM(m)}_setFromOffset(e,i,r){const s=this._halfFromWidth,n=new st(e.xEnd-e.xStart,e.yEnd-e.yStart);n.normalize(),n.scale(s),i.beginPath([e.xStart-n.y,e.yStart+n.x]),r.beginPath([e.xStart+n.y,e.yStart-n.x])}_setToOffset(e,i,r,s){let n;n=(i+=Math.sqrt((e.xEnd-e.xStart)*(e.xEnd-e.xStart)+(e.yEnd-e.yStart)*(e.yEnd-e.yStart)))>=this._length?this._halfToWidth:this._halfFromWidth+(this._halfToWidth-this._halfFromWidth)*i/this._length;const a=new st(e.xEnd-e.xStart,e.yEnd-e.yStart);a.normalize(),a.scale(n),r.lineTo([e.xEnd-a.y,e.yEnd+a.x]),s.lineTo([e.xEnd+a.y,e.yEnd-a.x])}_setOffset(e,i,r,s,n){const a=Math.sqrt((e.xEnd-e.xStart)*(e.xEnd-e.xStart)+(e.yEnd-e.yStart)*(e.yEnd-e.yStart));let o;o=r+a>=this._length?this._halfToWidth:this._halfFromWidth+(this._halfToWidth-this._halfFromWidth)*(r+a)/this._length,r+=a;const l=new st(e.xEnd,e.yEnd),u=new st(e.xEnd-e.xStart,e.yEnd-e.yStart);u.normalize();const d=new st(i.xEnd-i.xStart,i.yEnd-i.yStart);d.normalize();const h=u.x*d.y-u.y*d.x;let p;p=Math.abs(h)===0?new st(d.x,d.y):new st((d.x-u.x)/h,(d.y-u.y)/h);const m=s.getPointCount(),g=n.getPointCount();u.leftPerpendicular(),d.leftPerpendicular();const b=u.x*d.x+u.y*d.y;if(b>.99){const v=new st((u.x+d.x)*o/2,(u.y+d.y)*o/2),w=v.clone();w.rotate(this._slopeC,this._slopeS),s.lineTo([l.x+w.x,l.y+w.y]);const _=v.clone();_.rotateReverse(this._slopeC,this._slopeS),n.lineTo([l.x-_.x,l.y-_.y])}else{if(h<0){const C=p.clone().scale(-o);C.rotateReverse(this._slopeC,this._slopeS);const A=n.getXY(g-1);A||yv().error(new P("mapview-bad-resource","Unable to process geometry, index out of scope"));const O=st.add(l,C),L=st.sub(O,st.fromArray(A));if(u.x*L.y-u.y*L.x>0){const F=new st(-u.x*o,-u.y*o);F.rotateReverse(this._slopeC,this._slopeS);const D=new st(-d.x*o,-d.y*o);D.rotateReverse(this._slopeC,this._slopeS),n.lineTo([l.x+F.x,l.y+F.y]),n.lineTo([l.x,l.y]),n.lineTo([l.x+D.x,l.y+D.y])}else n.lineTo([l.x+C.x,l.y+C.y])}else{const C=p.clone().scale(o);C.rotate(this._slopeC,this._slopeS);const A=s.getXY(m-1);A||yv().error(new P("mapview-bad-resource","Unable to process geometry, index out of scope"));const O=st.add(l,C),L=st.sub(O,st.fromArray(A));if(u.x*L.y-u.y*L.x>0){const F=u.clone().scale(o);F.rotate(this._slopeC,this._slopeS);const D=d.clone().scale(o);D.rotate(this._slopeC,this._slopeS),s.lineTo([l.x+F.x,l.y+F.y]),s.lineTo([l.x,l.y]),s.lineTo([l.x+D.x,l.y+D.y])}else s.lineTo([l.x+C.x,l.y+C.y])}const v=Math.acos(b);let w=1;if(o>.25){const C=2*Math.acos(1-.25/o);C<v&&(w=Math.round(v/C))}const _=Math.cos(v/w),S=Math.sin(v/w),T=u.clone();if(h<0){T.rotate(this._slopeC,this._slopeS);const C=s.getXY(m-1);C||yv().error(new P("mapview-bad-resource","Unable to process geometry, index out of scope"));const A=st.add(l,T.clone().scale(this._lastWidth)),O=st.sub(A,st.fromArray(C)),L=u.x*O.y-u.y*O.x;if(!isNaN(this._lastTangent1.x)&&!isNaN(this._lastTangent1.y)&&L>0){const F=new st(e.xStart,e.yStart),D=this._lastTangent1.clone().scale(this._lastWidth);D.rotate(this._slopeC,this._slopeS);const G=u.clone().scale(this._lastWidth);G.rotate(this._slopeC,this._slopeS),s.lineTo([F.x+D.x,F.y+D.y]),s.lineTo([F.x,F.y]),s.lineTo([F.x+G.x,F.y+G.y])}}else{T.scale(-1).rotateReverse(this._slopeC,this._slopeS);const C=n.getXY(g-1);C||yv().error(new P("mapview-bad-resource","Unable to process geometry, index out of scope"));const A=st.add(l,T.clone().scale(this._lastWidth)),O=st.sub(A,st.fromArray(C)),L=u.x*O.y-u.y*O.x;if(!isNaN(this._lastTangent1.x)&&!isNaN(this._lastTangent1.y)&&L>0){const F=new st(e.xStart,e.yStart),D=this._lastTangent1.clone().scale(-this._lastWidth);D.rotateReverse(this._slopeC,this._slopeS);const G=u.clone().scale(-this._lastWidth);G.rotateReverse(this._slopeC,this._slopeS),n.lineTo([F.x+D.x,F.y+D.y]),n.lineTo([F.x,F.y]),n.lineTo([F.x+G.x,F.y+G.y])}}T.scale(o);for(let C=0;C<=w;C++)h<0?(s.lineTo([l.x+T.x,l.y+T.y]),T.rotateReverse(_,S)):(n.lineTo([l.x+T.x,l.y+T.y]),T.rotate(_,S))}return this._lastTangent1.setCoords(u.x,u.y),this._lastWidth=o,r}};var dc;let rze=(dc=class{static local(){return dc.instance===null&&(dc.instance=new dc),dc.instance}execute(e,i,r,s,n){return new sze(e,i,r)}},dc.instance=null,dc),sze=class{constructor(e,i,r){this._inputGeometries=e,this._height=(i.amplitude!==void 0?i.amplitude:2)*r,this._period=(i.period!==void 0?i.period:3)*r,this._style=i.waveform,this._height<=0&&(this._height=Math.abs(this._height)),this._period<=0&&(this._period=Math.abs(this._period)),this._pattern=new VS,this._pattern.addValue(this._period),this._pattern.addValue(this._period),this._walker=new jS,this._walker.updateTolerance(r)}next(){let e=this._inputGeometries.next();for(;e;){if(this._height===0||this._period===0)return e;const i=this._processGeom(e);if(i)return i;e=this._inputGeometries.next()}return null}_processGeom(e){const i=$t.createEmptyOptimizedCIM(e.geometryType);for(;e.nextPath();){i.startPath();const r=e.pathLength();if(this._walker.init(e,this._pattern))switch(this._style){case ug.Sinus:default:this._constructCurve(i,r,!1);break;case ug.Square:this._constructSquare(i,r);break;case ug.Triangle:this._constructTriangle(i,r);break;case ug.Random:this._constructCurve(i,r,!0)}else for(;e.nextPoint();)i.pushXY(e.x,e.y)}return i}_constructCurve(e,i,r){let s=Math.round(i/this._period);s===0&&(s=1);const n=s*16+1,a=i/s,o=this._period/16,l=1/n,u=2*Math.PI*i/a,d=2*Math.PI*Math.random(),h=2*Math.PI*Math.random(),p=2*Math.PI*Math.random(),m=.75-Math.random()/2,g=.75-Math.random()/2,b=new Fu;this._walker.curPointAndAngle(b),e.pushPoint(b.pt);let v=0;for(;;){if(!this._walker.nextPointAndAngle(o,b)){e.pushPoint(this._walker.getPathEnd());break}{const w=v;let _;if(v+=l,r){const S=this._height/2*(1+.3*Math.sin(m*u*w+d));_=S*Math.sin(u*w+h),_+=S*Math.sin(g*u*w+p),_/=2}else _=.5*this._height*Math.sin(.5*u*w);e.pushXY(b.pt[0]-_*b.sa,b.pt[1]+_*b.ca)}}}_constructSquare(e,i){Math.round(i/this._period);let r=!0;for(;;){let s=!1;if(this._walker.curPositionIsValid()){const n=new Fu;this._walker.curPointAndAngle(n);const a=new Fu;if(this._walker.nextPointAndAngle(this._period,a)){const o=new Fu;this._walker.nextPointAndAngle(this._period,o)&&(r?(e.pushPoint(n.pt),r=!1):e.pushPoint(n.pt),e.pushXY(n.pt[0]-this._height/2*n.sa,n.pt[1]+this._height/2*n.ca),e.pushXY(a.pt[0]-this._height/2*a.sa,a.pt[1]+this._height/2*a.ca),e.pushXY(a.pt[0]+this._height/2*a.sa,a.pt[1]-this._height/2*a.ca),e.pushXY(o.pt[0]+this._height/2*o.sa,o.pt[1]-this._height/2*o.ca),s=!0)}}if(!s){e.pushPoint(this._walker.getPathEnd());break}}}_constructTriangle(e,i){Math.round(i/this._period);let r=!0;for(;;){let s=!1;if(this._walker.curPositionIsValid()){const n=new Fu;this._walker.curPointAndAngle(n);const a=new Fu;if(this._walker.nextPointAndAngle(this._period/2,a)){const o=new Fu;this._walker.nextPointAndAngle(this._period,o)&&(this._walker.nextPosition(this._period/2)&&(r?(e.pushPoint(n.pt),r=!1):e.pushPoint(n.pt),e.pushXY(a.pt[0]-this._height/2*a.sa,a.pt[1]+this._height/2*a.ca),e.pushXY(o.pt[0]+this._height/2*o.sa,o.pt[1]-this._height/2*o.ca)),s=!0)}}if(!s){e.pushPoint(this._walker.getPathEnd());break}}}};var fc;let nze=(fc=class{static local(){return fc.instance===null&&(fc.instance=new fc),fc.instance}execute(e,i,r,s,n){return new aze(e,i,r)}},fc.instance=null,fc),aze=class extends _3{constructor(e,i,r){super(e),this._geometryWalker=new jS,this._geometryWalker.updateTolerance(r),this._angleToLine=i.angleToLine??!0,this._offset=(i.offset?i.offset:0)*r,this._originalEndings=i.endings,this._offsetAtEnd=(i.customEndingOffset?i.customEndingOffset:0)*r,this._position=-(i.offsetAlongLine?i.offsetAlongLine:0)*r,this._pattern=new VS,this._pattern.init(i.placementTemplate,!1),this._pattern.scale(r),this._endings=this._originalEndings}processPath(e){if(this._pattern.isEmpty())return null;let i;if(this.iteratePath)i=this._pattern.nextValue();else{this._originalEndings===To.WithFullGap&&this.isClosed?this._endings=To.WithMarkers:this._endings=this._originalEndings,this._pattern.extPtGap=0;let s,n=!0;switch(this._endings){case To.NoConstraint:s=-this._position,s=this._adjustPosition(s),n=!1;break;case To.WithHalfGap:default:s=-this._pattern.lastValue()/2;break;case To.WithFullGap:s=-this._pattern.lastValue(),this._pattern.extPtGap=this._pattern.lastValue();break;case To.WithMarkers:s=0;break;case To.Custom:s=-this._position,s=this._adjustPosition(s),this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._geometryWalker.init(e,this._pattern,n))return null;this._pattern.reset();let a=0;for(;s>a;)s-=a,a=this._pattern.nextValue();a-=s,i=a,this.iteratePath=!0}const r=new Fu;return this._geometryWalker.nextPointAndAngle(i,r)?this._endings===To.WithFullGap&&this._geometryWalker.isPathEnd()?(this.iteratePath=!1,null):this._endings===To.WithMarkers&&this._geometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed)?null:(this.internalPlacement.setTranslate(r.pt[0]-this._offset*r.sa,r.pt[1]+this._offset*r.ca),this._angleToLine&&this.internalPlacement.setRotateCS(r.ca,r.sa),this.internalPlacement):(this.iteratePath=!1,null)}_adjustPosition(e){let i=e/this._pattern.length();return i-=Math.floor(i),i*this._pattern.length()}};var hc;let oze=(hc=class{static local(){return hc.instance===null&&(hc.instance=new hc),hc.instance}execute(e,i,r,s,n){return new lze(e,i,r)}},hc.instance=null,hc),lze=class extends _3{constructor(e,i,r){super(e,!1,!0),this._curveHelper=new xd,this._placePerPart=i.placePerPart??!1,this._angleToLine=i.angleToLine===void 0||i.angleToLine,this._offset=i.offset!==void 0?i.offset*r:0,this._type=i.extremityPlacement,this._position=i.offsetAlongLine!==void 0?i.offsetAlongLine*r:0,this._beginProcessed=!1}processMultiPath(e){return this._placePerPart?super.processMultiPath(e):this.processPath(e)}processPath(e){let i;switch(this._type){case $c.Both:default:this._beginProcessed?(i=this._atExtremities(e,this._position,!1),this._beginProcessed=!1,this.iterateMultiPath=!1,this.iteratePath=!1):(i=this._atExtremities(e,this._position,!0),this._beginProcessed=!0,this.iterateMultiPath=!0,this.iteratePath=!0);break;case $c.JustBegin:i=this._atExtremities(e,this._position,!0);break;case $c.JustEnd:i=this._atExtremities(e,this._position,!1);case $c.None:}return i}_atExtremities(e,i,r){if(this._placePerPart||(r?e.seekPath(0):e.seekPath(e.totalSize-1)),r||e.seekPathEnd(),r?e.nextPoint():e.prevPoint()){let s=0,[n,a]=[0,0],[o,l]=[e.x,e.y];const u=[0,0];for(;r?e.nextPoint():e.prevPoint();){n=o,a=l,o=e.x,l=e.y;const d=this._curveHelper.getLength(n,a,o,l);if(s+d>i){const h=(i-s)/d,[p,m]=this._curveHelper.getAngleCS(u,n,a,o,l,h),g=this._curveHelper.getCoord2D(n,a,o,l,h);return this.internalPlacement.setTranslate(g[0]-this._offset*m,g[1]+this._offset*p),this._angleToLine&&this.internalPlacement.setRotateCS(-p,-m),this.internalPlacement}s+=d}}return null}};var pc;let cze=(pc=class{static local(){return pc.instance===null&&(pc.instance=new pc),pc.instance}execute(e,i,r,s,n){return new uze(e,i,r)}},pc.instance=null,pc),uze=class extends _3{constructor(e,i,r){super(e),this._walker=new jS,this._walker.updateTolerance(r),this._angleToLine=i.angleToLine===void 0||i.angleToLine,this._offset=i.offset!==void 0?i.offset*r:0,this._beginGap=i.beginPosition!==void 0?i.beginPosition*r:0,this._endGap=i.endPosition!==void 0?i.endPosition*r:0,this._flipFirst=i.flipFirst===void 0||i.flipFirst,this._pattern=new VS,this._pattern.init(i.positionArray,!1,!1),this._subPathLen=0,this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0}processPath(e){if(this._pattern.isEmpty())return null;let i;if(this.iteratePath){const o=this._pattern.nextValue()*this._subPathLen,l=this._beginGap+o;i=l-this._prevPos,this._prevPos=l}else{if(this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0,this._subPathLen=e.pathLength()-this._beginGap-this._endGap,this._subPathLen<0)return this.iteratePath=!1,null;if(!this._walker.init(e,this._pattern,!1))return null;this._pattern.reset();const o=this._pattern.nextValue()*this._subPathLen,l=this._beginGap+o;i=l-this._prevPos,this._prevPos=l,this.iteratePath=!0}const r=new Fu;if(!this._walker.nextPointAndAngle(i,r,If.END))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(r.pt[0]-this._offset*r.sa,r.pt[1]+this._offset*r.ca);const s=this._isFirst&&this._flipFirst;let n,a;return this._angleToLine?(n=r.ca,a=r.sa):(n=1,a=0),s&&(n=-n,a=-a),this.internalPlacement.setRotateCS(n,a),this._isFirst=!1,this._posCount--,this._posCount===0&&(this.iteratePath=!1),this.internalPlacement}};const gv=512,dze=10,Qo=24,Z8=1e-6;var mc;let fze=(mc=class{static local(){return mc.instance===null&&(mc.instance=new mc),mc.instance}execute(e,i,r,s,n){return new hze(e,i,r,s,n)}},mc.instance=null,mc),hze=class Ep{constructor(e,i,r,s,n){if(this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,this._currentX=0,this._currentY=0,this._accelerationMap=null,this._testInsidePolygon=!1,this._verticalSubdivision=!0,this._stepX=Math.abs(i.stepX??16)*r,this._stepY=Math.abs(i.stepY??16)*r,this._stepX=Math.round(128*this._stepX)/128,this._stepY=Math.round(128*this._stepY)/128,this._stepX!==0&&this._stepY!==0){if(this._gridType=i.gridType??vw.Fixed,this._gridType===vw.Random){const a=i.seed??13,o=1;this._randomLCG=new bP(a*o),this._randomness=(i.randomness??100)/100,this._gridAngle=0,this._shiftOddRows=!1,this._cosAngle=1,this._sinAngle=0,this._offsetX=0,this._offsetY=0,this._buildRandomValues()}else{if(this._randomness=0,this._gridAngle=i.gridAngle??0,this._shiftOddRows=i.shiftOddRows??!1,this._offsetX=(i.offsetX??0)*r,this._offsetY=(i.offsetY??0)*r,this._cosAngle=Math.cos(this._gridAngle/180*Math.PI),this._sinAngle=-Math.sin(this._gridAngle/180*Math.PI),this._stepX)if(this._offsetX<0)for(;this._offsetX<-.5*this._stepX;)this._offsetX+=this._stepX;else for(;this._offsetX>=.5*this._stepX;)this._offsetX-=this._stepX;if(this._stepY)if(this._offsetY<0)for(;this._offsetY<-.5*this._stepY;)this._offsetY+=this._stepY;else for(;this._offsetY>=.5*this._stepY;)this._offsetY-=this._stepY}if(this._graphicOriginX=0,this._graphicOriginY=0,s!=null){const[a,o,l,u]=s.split("/"),d=parseFloat(a),h=parseFloat(o),p=parseFloat(l),m=parseFloat(u);this._graphicOriginX=-(m*2**d+p)*gv,this._graphicOriginY=h*gv,this._testInsidePolygon=!0}this._internalPlacement=new E1,this._calculateMinMax(e),this._geometryCursor=e}}next(){return this._geometryCursor?this._nextInside():null}_buildRandomValues(){if(!Ep._randValues){Ep._randValues=[];for(let e=0;e<Qo;e++)for(let i=0;i<Qo;i++)Ep._randValues.push(this._randomLCG.getFloat()),Ep._randValues.push(this._randomLCG.getFloat())}}_calculateMinMax(e){let i,r,s,n,a,o,l,u,d,h,p,m,g,b;this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,l=u=g=p=Number.MAX_VALUE,d=h=b=m=-Number.MAX_VALUE;const v=this._cosAngle!==1;for(e.reset();e.nextPath();)for(;e.nextPoint();)o=e.x,a=e.y,i=o-this._graphicOriginX-this._offsetX,r=a-this._graphicOriginY-this._offsetY,v?(s=this._cosAngle*i-this._sinAngle*r,n=this._sinAngle*i+this._cosAngle*r):(s=i,n=r),l=Math.min(l,s),d=Math.max(d,s),u=Math.min(u,n),h=Math.max(h,n),p=Math.min(p,a),m=Math.max(m,a),g=Math.min(g,o),b=Math.max(b,o);p=p!==Number.MAX_VALUE?p:-512-this._stepY,m=m!==-Number.MAX_VALUE?m:this._stepY,g=g!==Number.MAX_VALUE?g:-this._stepX,b=b!==-Number.MAX_VALUE?b:gv+this._stepX;const w=m-p,_=b-g;if(this._verticalSubdivision=w>=_,this._polygonMin=this._verticalSubdivision?p:g,this._testInsidePolygon){let S=0-this._graphicOriginX-this._offsetX-this._stepX,T=gv-this._graphicOriginX-this._offsetX+this._stepX,C=-512-this._graphicOriginY-this._offsetY-this._stepY,A=0-this._graphicOriginY-this._offsetY+this._stepY;if(v){const O=[[S,C],[S,A],[T,C],[T,A]];S=C=Number.MAX_VALUE,T=A=-Number.MAX_VALUE;for(const L of O){const F=this._cosAngle*L[0]-this._sinAngle*L[1],D=this._sinAngle*L[0]+this._cosAngle*L[1];S=Math.min(S,F),T=Math.max(T,F),C=Math.min(C,D),A=Math.max(A,D)}}l=l!==Number.MAX_VALUE?Math.max(l,S):S,u=u!==Number.MAX_VALUE?Math.max(u,C):C,d=d!==-Number.MAX_VALUE?Math.min(d,T):T,h=h!==-Number.MAX_VALUE?Math.min(h,A):A}this._xMin=Math.round(l/this._stepX),this._xMax=Math.round(d/this._stepX),this._yMin=Math.round(u/this._stepY),this._yMax=Math.round(h/this._stepY),this._currentX=this._xMax+1,this._currentY=this._yMin-1,this._buildAccelerationMap(e,g,b,p,m)}_buildAccelerationMap(e,i,r,s,n){e.reset();const a=new Map,o=this._verticalSubdivision,l=o?n-s:r-i;let u=Math.ceil(l/dze);if(u<=1)return;const d=Math.floor(l/u);let h,p,m,g,b,v,w,_,S,T,C;for(u++,this._delta=d,o?(S=-512-2*this._stepY,T=2*this._stepY,C=s):(S=-2*this._stepX,T=gv+2*this._stepX,C=i);e.nextPath();)if(!(e.pathSize<2)&&e.nextPoint())for(h=e.x,p=e.y;e.nextPoint();h=m,p=g){if(m=e.x,g=e.y,o){if(p===g||p<S&&g<S||p>T&&g>T)continue;b=Math.min(p,g),v=Math.max(p,g)}else{if(h===m||h<S&&m<S||h>T&&m>T)continue;b=Math.min(h,m),v=Math.max(h,m)}for(;b<v;)w=Math.floor((b-C)/d),oG(w,h,p,m,g,a),b+=d;_=Math.floor((v-C)/d),_>w&&oG(_,h,p,m,g,a)}this._accelerationMap=a}_nextInside(){for(;;){if(this._currentX>this._xMax){if(this._currentY++,this._currentY>this._yMax)return null;this._currentX=this._xMin,this._shiftOddRows&&this._currentY%2&&this._currentX--}let e=this._currentX*this._stepX+this._offsetX;this._shiftOddRows&&this._currentY%2&&(e+=.5*this._stepX);const i=this._currentY*this._stepY+this._offsetY;let r,s;if(this._currentX++,this._gridType===vw.Random){const n=(this._currentX%Qo+Qo)%Qo,a=(this._currentY%Qo+Qo)%Qo;r=this._graphicOriginX+e+this._stepX*this._randomness*(.5-Ep._randValues[a*Qo+n])*2/3,s=this._graphicOriginY+i+this._stepY*this._randomness*(.5-Ep._randValues[a*Qo+n+1])*2/3}else r=this._graphicOriginX+this._cosAngle*e+this._sinAngle*i,s=this._graphicOriginY-this._sinAngle*e+this._cosAngle*i;if(!this._testInsidePolygon||this._isInsidePolygon(r,s,this._geometryCursor))return this._internalPlacement.setTranslate(r,s),this._internalPlacement}}_isInsidePolygon(e,i,r){if(this._accelerationMap==null)return pze(e,i,r);e+=Z8,i+=Z8;const s=this._verticalSubdivision,n=s?i:e,a=Math.floor((n-this._polygonMin)/this._delta),o=this._accelerationMap.get(a);if(!o)return!1;let l,u,d,h=0;for(const p of o){if(l=p[0],u=p[1],s){if(l[1]>i==u[1]>i)continue;d=(u[0]-l[0])*(i-l[1])-(u[1]-l[1])*(e-l[0])}else{if(l[0]>e==u[0]>e)continue;d=(u[1]-l[1])*(e-l[0])-(u[0]-l[0])*(i-l[1])}d>0?h++:h--}return h!==0}};function pze(t,e,i){let r,s,n,a,o=0;for(t+=Z8,e+=Z8,i.reset();i.nextPath();)if(i.nextPoint())for(r=i.x,s=i.y;i.nextPoint();r=n,s=a)n=i.x,a=i.y,s>e!=a>e&&((n-r)*(e-s)-(a-s)*(t-r)>0?o++:o--);return o!==0}function oG(t,e,i,r,s,n){let a=n.get(t);a||(a=[],n.set(t,a)),a.push([[e,i],[r,s]])}const mze=.001;var yc;let yze=(yc=class{static local(){return yc.instance===null&&(yc.instance=new yc),yc.instance}execute(e,i,r,s,n){return new gze(e,i,r)}},yc.instance=null,yc),gze=class extends _3{constructor(e,i,r){super(e),this._curveHelper=new xd,this._angleToLine=i.angleToLine===void 0||i.angleToLine,this._offset=i.offset!==void 0?i.offset*r:0,this._relativeTo=i.relativeTo,this._position=i.startPointOffset!==void 0?i.startPointOffset*r:0,this._epsilon=mze*r}processPath(e){const i=this._position;if(this._relativeTo===Up.SegmentMidpoint){if(this.iteratePath||(this.iteratePath=!0),e.nextPoint()){let[s,n]=[e.x,e.y],[a,o]=[0,0];const l=[0,0];for(;e.nextPoint();){a=e.x,o=e.y;const u=this._curveHelper.getLength(s,n,a,o);if(u<this._epsilon){s=a,n=o;continue}const d=.5+this._position/u,[h,p]=this._curveHelper.getAngleCS(l,s,n,a,o,d),m=this._curveHelper.getCoord2D(s,n,a,o,d);return this.internalPlacement.setTranslate(m[0]-this._offset*p,m[1]+this._offset*h),this._angleToLine&&this.internalPlacement.setRotateCS(h,p),this.internalPlacement}}return this.iteratePath=!1,null}const r=this._relativeTo===Up.LineEnd;return this.onLine(e,i,r)}onLine(e,i,r){let s,n=!1;switch(this._relativeTo){case Up.LineMiddle:default:e.seekPathStart(),s=e.pathLength()/2+i;break;case Up.LineBeginning:s=i;break;case Up.LineEnd:s=i,n=!0}r?e.seekPathEnd():e.seekPathStart();let a=0;if(r?e.prevPoint():e.nextPoint()){let[o,l]=[e.x,e.y],[u,d]=[0,0];const h=[0,0];for(;r?e.prevPoint():e.nextPoint();){u=e.x,d=e.y;const p=this._curveHelper.getLength(o,l,u,d);if(a+p>s){const m=(s-a)/p,[g,b]=this._curveHelper.getAngleCS(h,o,l,u,d,m),v=this._curveHelper.getCoord2D(o,l,u,d,m),w=n?-this._offset:this._offset;return this.internalPlacement.setTranslate(v[0]-w*b,v[1]+w*g),this._angleToLine&&(n?this.internalPlacement.setRotateCS(-g,-b):this.internalPlacement.setRotateCS(g,b)),this.internalPlacement}o=u,l=d,a+=p}}return null}};const bze=1e-15;var gc;let vze=(gc=class{static local(){return gc.instance===null&&(gc.instance=new gc),gc.instance}execute(e,i,r,s,n){return new wze(e,i,r)}},gc.instance=null,gc),wze=class extends _3{constructor(e,i,r){super(e),this._curveHelper=new xd,this._angleToLine=i.angleToLine===void 0||i.angleToLine,this._offset=i.offset!==void 0?i.offset*r:0,this._endPoints=i.placeOnEndPoints===void 0||i.placeOnEndPoints,this._controlPoints=i.placeOnControlPoints===void 0||i.placeOnControlPoints,this._regularVertices=i.placeOnRegularVertices===void 0||i.placeOnRegularVertices,this._tags=[],this._tagIterator=0}processPath(e){if(this.iteratePath||(this._preparePath(e),this.iteratePath=!0),this._tagIterator>=this._tags.length)return this._tags.length=0,this._tagIterator=0,this.iteratePath=!1,null;const i=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(i[2]);let r=i[0],s=i[1];if(this._offset!==0){const n=Math.cos(i[2]),a=Math.sin(i[2]);r-=this._offset*a,s+=this._offset*n}return this.internalPlacement.setTranslate(r,s),this._tagIterator++,this.internalPlacement}_preparePath(e){this._tags.length=0,this._tagIterator=0,e.seekPathStart();const i=e.isClosed();let r=0,s=!1,n=0,a=0;if(e.seekPathStart(),e.nextPoint()){let o=e.x,l=e.y,u=e.getControlPoint(),d=!0,h=e.nextPoint();for(;h;){const p=e.x,m=e.y,g=e.getControlPoint();(this._angleToLine||this._offset!==0)&&(n=this._curveHelper.getAngle(o,l,p,m,0)),d?(d=!1,i?(r=n,s=u):(this._endPoints||this._controlPoints&&u)&&this._tags.push([o,l,n])):u?this._controlPoints&&this._tags.push([o,l,Y5(a,n)]):this._regularVertices&&this._tags.push([o,l,Y5(a,n)]),(this._angleToLine||this._offset!==0)&&(a=this._curveHelper.getAngle(o,l,p,m,1)),h=e.nextPoint(),h||(i?g||s?this._controlPoints&&this._tags.push([p,m,Y5(a,r)]):this._regularVertices&&this._tags.push([p,m,Y5(a,r)]):(this._endPoints||this._controlPoints&&g)&&this._tags.push([p,m,a])),o=p,l=m,u=g}}this._tagIterator=0}};function Y5(t,e){const i=Math.PI;for(;Math.abs(e-t)>i+2*bze;)e-t>i?e-=2*i:e+=2*i;return(t+e)/2}const _ze=100*222045e-21;function Sze(t){if(t.totalSize===0)return null;const e=K_(t);if(!e)return null;const i=4*(Math.abs(e[0])+Math.abs(e[2])+Math.abs(e[1])+Math.abs(e[3])+1)*_ze;let r=0,s=0;t.reset();for(let F=0;t.nextPath();F++){const D=t.getCurrentRingArea();D>s&&(s=D,r=F)}if(t.seekPath(r),t.pathSize===0)return null;t.seekPathStart();const n=UY(t);if(Math.abs(s)<=2*i*i)return[(n[0]+n[2])/2,(n[1]+n[3])/2];t.seekPathStart();const a=dye(t,ei());if(a===null)return null;if(t.totalPoints<4)return a;const o=[[NaN,NaN],[NaN,NaN],[NaN,NaN],[NaN,NaN]],l=[NaN,NaN,NaN,NaN],u=[NaN,NaN,NaN,NaN];let d=!1,h=bv(a,t,!0);h.distance===0&&(d=!0,o[0][0]=a[0],o[0][1]=a[1],h=bv(a,t,!1)),l[0]=h.distance,u[0]=0;const p=[NaN,NaN];let m=!1,g=.25,b=-1,v=NaN;do if(v=NaN,o[1]=tT(t,iT(n[0],n[2],g),i,e),isNaN(o[1][0])||isNaN(o[1][1])||(h=bv(o[1],t,!1),v=h.distance),!isNaN(v)&&v>i&&V6(o[1],t))m=!0,l[1]=v,u[1]=Mp(o[1],a);else if(!isNaN(v)&&v>b&&(b=v,p[0]=o[1][0],p[1]=o[1][1]),g-=.01,g<.1){if(!(b>=0))break;m=!0,l[1]=b,o[1][0]=p[0],o[1][1]=p[1],u[1]=Mp(o[1],a)}while(!m);m=!1,g=.5,b=-1;let w=.01,_=1;do if(v=NaN,o[2]=tT(t,iT(n[0],n[2],g),i,e),isNaN(o[2][0])||isNaN(o[2][1])||(h=bv(o[2],t,!1),v=h.distance),!isNaN(v)&&v>i&&V6(o[2],t))m=!0,l[2]=v,u[2]=Mp(o[2],a);else if(!isNaN(v)&&v>b)b=v,p[0]=o[2][0],p[1]=o[2][1];else if(v>b&&(b=v,p[0]=o[2][0],p[1]=o[2][1]),g=.5+w*_,w+=.01,_*=-1,g<.3||g>.7){if(!(b>=0))break;m=!0,l[2]=b,o[2][0]=p[0],o[2][1]=p[1],u[2]=Mp(o[2],a)}while(!m);m=!1,g=.75,b=-1;do if(v=NaN,o[3]=tT(t,iT(n[0],n[2],g),i,e),isNaN(o[3][0])||isNaN(o[3][1])||(h=bv(o[3],t,!1),v=h.distance),!isNaN(v)&&v>i&&V6(o[3],t))m=!0,l[3]=v,u[3]=Mp(o[3],a);else if(v>b&&(b=v,p[0]=o[3][0],p[1]=o[3][1]),g+=.01,g>.9){if(!(b>=0))break;m=!0,l[3]=b,o[3][0]=p[0],o[3][1]=p[1],u[3]=Mp(o[3],a)}while(!m);const S=[0,1,2,3],T=d?0:1;let C;for(let F=T;F<4;F++)for(let D=T;D<3;D++){const G=u[D],H=u[D+1];Tze(G,H)>0&&(C=S[D],S[D]=S[D+1],S[D+1]=C,u[D]=H,u[D+1]=G)}let A=T,O=0,L=0;for(let F=T;F<4;F++){switch(F){case 0:L=2*l[S[F]];break;case 1:L=1.66666666*l[S[F]];break;case 2:L=1.33333333*l[S[F]];break;case 3:L=l[S[F]]}L>O&&(O=L,A=S[F])}return o[A]}function V6(t,e){let i,r,s,n,a=0;for(e.reset();e.nextPath()&&e.nextPoint();)for(i=e.x,r=e.y;e.nextPoint();i=s,r=n)s=e.x,n=e.y,r>t[1]!=n>t[1]&&((s-i)*(t[1]-r)-(n-r)*(t[0]-i)>0?a++:a--);return a!==0}function bv(t,e,i){if(i&&V6(t,e))return{coord:t,distance:0};let r=1/0,s=0,n=0,a=[0,0],o=[0,0];const l=[0,0];for(e.reset();e.nextPath()&&e.nextPoint();)if(!(e.pathSize<2))for(a[0]=e.x,a[1]=e.y;e.nextPoint();a=o){o=[e.x,e.y],CY(l,t,a,o);const u=Mp(t,l);u<r&&(r=u,s=l[0],n=l[1])}return{coord:[s,n],distance:Math.sqrt(r)}}function tT(t,e,i,r){const s=[e,0];let n=1/0,a=1/0,o=!1,l=!1;const u=[[e,r[1]-1],[e,r[3]+1]],d=[0,0],h=[0,0],p=[0,0],m=[[0,0],[0,0]],g=ei();for(t.reset();t.nextPath()&&t.nextPoint();)if(!(t.pathSize<2))for(m[0][0]=t.x,m[0][1]=t.y;t.nextPoint();m[0][0]=m[1][0],m[0][1]=m[1][1]){if(m[1][0]=t.x,m[1][1]=t.y,xze(g,m)===null||(h[0]=u[0][0],h[1]=u[0][1],p[0]=u[1][0],p[1]=u[1][1],$ze(g,h,p)===0)||!L4(u[0],u[1],m[0],m[1],d))continue;const b=d[1];n>a?b<n&&(n=b,o=!0):b<a&&(a=b,l=!0)}return o&&l?s[1]=(n+a)/2:s[0]=s[1]=NaN,s}function xze(t,e){if(e.length<2)return null;t||(t=ei());const[i,r]=e[0],[s,n]=e[1];return t[0]=Math.min(i,s),t[1]=Math.min(r,n),t[2]=Math.max(i,s),t[3]=Math.max(r,n),t}const X5=1,Q5=4,lG=3,cG=12;function $ze(t,e,i){let r=Ko(e,t),s=Ko(i,t);const n=t[0],a=t[1],o=t[2],l=t[3];if(r&s)return 0;if(!(r|s))return 4;const u=(r?1:0)|(s?2:0);do{const d=i[0]-e[0],h=i[1]-e[1];if(d>h)r&lG?(r&X5?(e[1]+=h*(n-e[0])/d,e[0]=n):(e[1]+=h*(o-e[0])/d,e[0]=o),r=Ko(e,t)):s&lG?(s&X5?(i[1]+=h*(n-i[0])/d,i[0]=n):(i[1]+=h*(o-i[0])/d,i[0]=o),s=Ko(i,t)):r?(r&Q5?(e[0]+=d*(a-e[1])/h,e[1]=a):(e[0]+=d*(l-e[1])/h,e[1]=l),r=Ko(e,t)):(s&Q5?(i[0]+=d*(a-i[1])/h,i[1]=a):(i[0]+=d*(l-i[1])/h,i[1]=l),s=Ko(i,t));else if(r&cG?(r&Q5?(e[0]+=d*(a-e[1])/h,e[1]=a):(e[0]+=d*(l-e[1])/h,e[1]=l),r=Ko(e,t)):s&cG?(s&Q5?(i[0]+=d*(a-i[1])/h,i[1]=a):(i[0]+=d*(l-i[1])/h,i[1]=l),s=Ko(i,t)):r?(r&X5?(e[1]+=h*(n-e[0])/d,e[0]=n):(e[1]+=h*(o-e[0])/d,e[0]=o),r=Ko(e,t)):(s&X5?(i[1]+=h*(n-i[0])/d,i[0]=n):(i[1]+=h*(o-i[0])/d,i[0]=o),s=Ko(i,t)),r&s)return 0}while(r|s);return u}function Ko(t,e){return(t[0]<e[0]?1:0)|(t[0]>e[2]?1:0)<<1|(t[1]<e[1]?1:0)<<2|(t[1]>e[3]?1:0)<<3}function iT(t,e,i){return t+(e-t)*i}function Mp(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function Tze(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e)return 0;const i=isNaN(t),r=isNaN(e);return i<r?-1:i>r?1:0}var bc;let Ize=(bc=class{static local(){return bc.instance===null&&(bc.instance=new bc),bc.instance}execute(e,i,r,s,n){return new Eze(e,i,r)}},bc.instance=null,bc),Eze=class{constructor(e,i,r){this._geometryCursor=e,this._offsetX=i.offsetX!==void 0?i.offsetX*r:0,this._offsetY=i.offsetY!==void 0?i.offsetY*r:0,this._method=i.method!==void 0?i.method:dg.OnPolygon,this._placementPerPart=i.placePerPart!==void 0&&i.placePerPart,this._internalPlacement=new E1}next(){const e=this._geometryCursor;if(!e)return null;if(!this._placementPerPart)return this._geometryCursor=null,this._polygonCenter(e);for(;e.nextPath();)if(!(e.getCurrentRingArea()<0))return this._polygonCenter(e.getCurrentPath());return this._geometryCursor=null,null}_polygonCenter(e){let i=!1;switch(this._method){case dg.CenterOfMass:{const r=mye(e);r&&(this._internalPlacement.setTranslate(r[0]+this._offsetX,r[1]+this._offsetY),i=!0)}break;case dg.BoundingBoxCenter:{const r=K_(e);r&&(this._internalPlacement.setTranslate((r[2]+r[0])/2+this._offsetX,(r[3]+r[1])/2+this._offsetY),i=!0)}break;case dg.OnPolygon:default:{const r=Sze(e);r!==null&&(this._internalPlacement.setTranslate(r[0]+this._offsetX,r[1]+this._offsetY),i=!0)}}return i?this._internalPlacement:null}};function Mze(t){if(!t)return null;switch(t.type){case"CIMGeometricEffectAddControlPoints":return dDe.local();case"CIMGeometricEffectArrow":return mDe.local();case"CIMGeometricEffectBuffer":return gDe.local();case"CIMGeometricEffectControlMeasureLine":return vDe.local();case"CIMGeometricEffectCut":return _De.local();case"CIMGeometricEffectDashes":return xDe.local();case"CIMGeometricEffectDonut":return TDe.local();case"CIMGeometricEffectJog":return PDe.local();case"CIMGeometricEffectMove":return RDe.local();case"CIMGeometricEffectOffset":return NDe.local();case"CIMGeometricEffectRadial":return zDe.local();case"CIMGeometricEffectReverse":return jDe.local();case"CIMGeometricEffectRotate":return UDe.local();case"CIMGeometricEffectScale":return HDe.local();case"CIMGeometricEffectSuppress":return ZDe.local();case"CIMGeometricEffectTaperedPolygon":return tze.local();case"CIMGeometricEffectWave":return rze.local();case"CIMGeometricEffectEnclosingPolygon":return EDe.local()}return null}function Cze(t){if(!t)return null;switch(t.type){case"CIMMarkerPlacementAlongLineSameSize":return nze.local();case"CIMMarkerPlacementAtExtremities":return oze.local();case"CIMMarkerPlacementAtRatioPositions":return cze.local();case"CIMMarkerPlacementInsidePolygon":return fze.local();case"CIMMarkerPlacementOnLine":return yze.local();case"CIMMarkerPlacementOnVertices":return vze.local();case"CIMMarkerPlacementPolygonCenter":return Ize.local()}return null}function rT(t){const e=t.getFrame(0);if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement)return e;const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const r=i.getContext("2d");return e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0),i}function eu(t,e=0){if(e===0)return t;const i=Math.cos(e),r=Math.sin(e),[s,n]=t;return[s*i+n*-r,s*r+n*i]}function loe(t,e,i=0){const r=Yr(t,0,Lze);for(let s=0;s<4;s++)e[i+s]=Math.floor(256*Rze(r*Aze[s]))}function kze(t,e=0){let i=0;for(let r=0;r<4;r++)i+=t[e+r]*Pze[r];return i}const Aze=[1,256,65536,16777216],Pze=[1/256,1/65536,1/16777216,1/4294967296],Lze=kze(new Uint8ClampedArray([255,255,255,255]));function Rze(t){return t-Math.floor(t)}const Oze=15.5,sT=4,Fze=64,nct=1024,act={outlineWidth:.75,referenceWidth:.75,cap:Vi.CIMSolidStroke.capstyle,join:Vi.CIMSolidStroke.joinstyle,miterLimit:Vi.CIMSolidStroke.miterlimit},uG=()=>W.getLogger("esri.symbols.cim.rasterizingUtils"),Nze=32,Dze=t=>t==="vertical"||t==="horizontal"||t==="cross"||t==="esriSFSCross"||t==="esriSFSVertical"||t==="esriSFSHorizontal";function oct(t,e,i){const r=e.style,s=Fpe(Math.ceil(i)),n=Dze(r)?8*s:16*s,a=2*s;t.width=n,t.height=n;const o=t.getContext("2d");o.strokeStyle="#ffffff",o.lineWidth=s,o.beginPath(),r!=="vertical"&&r!=="cross"&&r!=="esriSFSCross"&&r!=="esriSFSVertical"||(o.moveTo(n/2,-a),o.lineTo(n/2,n+a)),r!=="horizontal"&&r!=="cross"&&r!=="esriSFSCross"&&r!=="esriSFSHorizontal"||(o.moveTo(-a,n/2),o.lineTo(n+a,n/2)),r!=="backward-diagonal"&&r!=="diagonal-cross"&&r!=="esriSFSDiagonalCross"&&r!=="esriSFSBackwardDiagonal"||(o.moveTo(-a,-a),o.lineTo(n+a,n+a),o.moveTo(n-a,-a),o.lineTo(n+a,a),o.moveTo(-a,n-a),o.lineTo(a,n+a)),r!=="forward-diagonal"&&r!=="diagonal-cross"&&r!=="esriSFSForwardDiagonal"&&r!=="esriSFSDiagonalCross"||(o.moveTo(n+a,-a),o.lineTo(-a,n+a),o.moveTo(a,-a),o.lineTo(-a,a),o.moveTo(n+a,n-a),o.lineTo(n-a,n+a)),o.stroke();const l=o.getImageData(0,0,t.width,t.height),u=new Uint8Array(l.data);let d;for(let h=0;h<u.length;h+=4)d=u[h+3]/255,u[h]=u[h]*d,u[h+1]=u[h+1]*d,u[h+2]=u[h+2]*d;return[u,t.width,t.height,s]}function lct(t){t.length%2==1&&(t=[...t,...t]);const e=t.reduce((h,p)=>h+p,0),i=Math.round(e*sT),r=1,s=new Float32Array(i*r);let n=0,a=0,o=.5,l=!0;for(const h of t){for(n=a,a+=h*sT;o<=a;){const p=o-.5,m=Math.min(Math.abs(o-n),Math.abs(o-a));s[p]=l?-m:m,o++}l=!l}const u=s.length,d=new Uint8Array(4*u);for(let h=0;h<u;++h){const p=s[h]/sT;loe(p/Fze*.5+.5,d,4*h)}return[d,i,r]}function cct(t,e){t==null&&(t=[]);const i=e==="Butt",r=e==="Square",s=!i&&!r;t.length%2==1&&(t=[...t,...t]);const n=Oze,a=2*n;let o=0;for(const w of t)o+=w;const l=Math.round(o*n),u=new Float32Array(l*a),d=.5*n;let h=0,p=0,m=.5,g=!0;for(const w of t){for(h=p,p+=w*n;m<=p;){let _=.5;for(;_<a;){const S=(_-.5)*l+m-.5,T=s?(_-n)*(_-n):Math.abs(_-n);u[S]=g?i?Math.max(Math.max(h+d-m,T),Math.max(m-p+d,T)):T:s?Math.min((m-h)*(m-h)+T,(m-p)*(m-p)+T):r?Math.min(Math.max(m-h,T),Math.max(p-m,T)):Math.min(Math.max(m-h+d,T),Math.max(p+d-m,T)),_++}m++}g=!g}const b=u.length,v=new Uint8Array(4*b);for(let w=0;w<b;++w){const _=(s?Math.sqrt(u[w]):u[w])/n;loe(_,v,4*w)}return[v,l,a]}function uct(t,e){const{colorRamp:i,gradientType:r}=e,s=i.type==="CIMFixedColorRamp",n=e.interval||Vi.CIMGradientFill.interval;let a=IO(i);return s&&(a=coe(a,n)),r==="Discrete"||s?Vze(t,a,n):zze(t,a)}let nT;function K5(t,e){const{colorRamp:i,gradientType:r}=e,s=IO(i),n=i.type==="CIMFixedColorRamp";if(r==="Continuous"&&!n)return j6(t,s);const a=e.interval??Vi.CIMGradientFill.interval;if(n)return j6(t,coe(s,a));const o=[];nT??(nT=document.createElement("canvas")),EO(nT,s,a,1,0);const l=nT.getContext("2d").getImageData(0,0,a,1).data;for(let u=0,d=0;u<a;u++,d=4*u){const h=[l[d+0],l[d+1],l[d+2],l[d+3]];o.push({offset:u/a,color:h}),o.push({offset:(u+1)/a,color:h})}return j6(t,o)}function IO(t){const e=[];switch(t.type){case"CIMPolarContinuousColorRamp":case"CIMLinearContinuousColorRamp":{t.type==="CIMPolarContinuousColorRamp"&&uG().warnOnce("CIMPolarContinuousColorRamp is currently unsupported. Falling back to CIMLinearContinuousColorRamp.");const i=t;e.push({offset:0,color:[i.fromColor[0],i.fromColor[1],i.fromColor[2],i.fromColor[3]/255]}),e.push({offset:1,color:[i.toColor[0],i.toColor[1],i.toColor[2],i.toColor[3]/255]});break}case"CIMFixedColorRamp":{const i=t,r=1/(i.colors.length-1);let s=0;for(const n of i.colors)e.push({offset:s,color:[n[0],n[1],n[2],n[3]/255]}),s+=r;break}case"CIMMultipartColorRamp":{const i=t,r=i.weights.reduce((n,a)=>n+a,0);let s=0;for(let n=0;n<i.colorRamps.length;n++){const a=i.colorRamps[n],o=i.weights[n],l=IO(a);for(const u of l)e.push({offset:(s+u.offset*o)/r,color:u.color});s+=o}break}default:uG().error(`Color ramp "${t.type}" currently unsupported.`)}return e}function coe(t,e){const i=[],r=(t.length-1)/(e-1);for(let s=0;s<e;s++){const n=t[Math.round(s*r)].color;i.push({offset:s/e,color:n}),i.push({offset:(s+1)/e,color:n})}return i}function zze(t,e){return EO(t,e,Nze,1,Lie),uoe(t)}function Vze(t,e,i){return EO(t,e,i,1,Lie),uoe(t)}function j6(t,e,i=0){for(const{offset:r,color:s}of e)t.addColorStop(Math.min(Math.max(r,i),1-i),`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${s[3]})`)}function EO(t,e,i,r,s){const n=i+2*s;t.width=n,t.height=r;const a=(s+1)/n,o=t.getContext("2d",{willReadFrequently:!0});if(e.length>0){const l=o.createLinearGradient(0,0,n,r);j6(l,e,a),o.fillStyle=l}else o.fillStyle="rgba(128, 128, 128, 1)";o.fillRect(0,0,n,r)}function uoe(t){const{width:e,height:i}=t,r=t.getContext("2d").getImageData(0,0,e,i),s=new Uint8Array(r.data);for(let n=0;n<s.length;n+=4){const a=s[n+3]/255;s[n]*=a,s[n+1]*=a,s[n+2]*=a}return[s,e,i]}function jze(t){var s,n,a,o;const e=((n=(s=t[0])==null?void 0:s[0])==null?void 0:n[0])??0,i=((o=(a=t[0])==null?void 0:a[0])==null?void 0:o[1])??0,r={ymin:i,xmin:e,ymax:i,xmax:e,width:0,height:0};for(let l=0;l<t.length;l++){const u=t[l];for(let d=0;d<u.length;d++){const h=u[d][0],p=u[d][1];h<r.xmin&&(r.xmin=h),h>r.xmax&&(r.xmax=h),p<r.ymin&&(r.ymin=p),p>r.ymax&&(r.ymax=p)}}return r.width=Math.abs(r.xmax-r.xmin),r.height=Math.abs(r.ymax-r.ymin),r}function J8(t,e){const i=jze(t),r=i.width===0?1:i.width,s=i.height===0?1:i.height,n=[];for(let a=0;a<t.length;a++){const o=t[a],l=[];for(let u=0;u<o.length;u++){let d=Math.round(o[u][0]-i.xmin),h=Math.round(o[u][1]-i.ymin);if(d=e.xmin+d*e.width/r,h=e.ymin+h*e.height/s,isNaN(d)||isNaN(h))throw new Error("Scaled shape has NaN values");l.push([d,h])}n.push(l)}return n}function dG(t,e,i){const r=[];for(let s=0;s<t.length;s++){const n=t[s],a=[];for(let o=0;o<n.length;o++){const l=n[o][0]+e,u=n[o][1]+i;if(isNaN(l)||isNaN(u))throw new Error("Scaled shape has NaN values");a.push([l,u])}r.push(a)}return r}let qze=class doe{constructor(e=0,i=0,r=0,s=0){this.x=e,this.y=i,this.width=r,this.height=s}static fromExtent(e){return new doe(e.xmin,-e.ymax,e.xmax-e.xmin,e.ymax-e.ymin)}get isEmpty(){return this.width<=0||this.height<=0}union(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)}};function Bze(t){return`rgb(${t.slice(0,3).toString()})`}function e9(t){return`rgba(${t.slice(0,3).toString()},${t[3]})`}let foe=class{constructor(e){e&&(this._textRasterizationCanvas=e)}rasterizeText(e,i){var se,X;this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const r=this._textRasterizationCanvas,s=r.getContext("2d",{willReadFrequently:!0});vv(s,i),this._parameters=i,this._textLines=e.split(/\r?\n/),this._lineHeight=this._computeLineHeight();const{decoration:n,weight:a}=i.font;this._lineThroughWidthOffset=n&&n==="line-through"?.1*this._lineHeight:0;const o=i.backgroundColor!=null||i.borderLine!=null,l=o?x9e:0,u=this._computeTextWidth(s,i)+2*l,d=this._lineHeight*this._textLines.length+2*l;if(r.width=u+2*this._lineThroughWidthOffset,r.height=d,r.width===0||r.height===0)return r.width=r.height=1,{size:[0,0],image:new Uint32Array(0),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0,canvas:r};this._renderedLineHeight=Math.round(this._lineHeight),this._renderedOutlineSize=(i.outline.size||0)*i.pixelRatio,this._renderedHaloSize=(i.halo.size||0)*i.pixelRatio,this._renderedWidth=u,this._renderedHeight=d,this._lineThroughWidthOffset*=i.pixelRatio;const h=(i.outline&&i.outline.color)??[0,0,0,0],p=i.color??[0,0,0,0],m=i.halo&&i.halo.color?i.halo.color:[0,0,0,0];this._fillStyle=e9(p),this._outlineStyle=e9(h),this._haloStyle=Bze(m);const g=this._renderedLineHeight,b=this._renderedOutlineSize,v=this._renderedHaloSize;s.save(),s.clearRect(0,0,r.width,r.height),vv(s,i);const w=l*i.pixelRatio,_=Uze(s.textAlign,this._renderedWidth-2*w,this._renderedHaloSize+this._renderedOutlineSize)+w,S=v+b+w,T=v>0;let C=this._lineThroughWidthOffset,A=0;if(o){s.save();const ue=i.backgroundColor??[0,0,0,0],xe=((se=i.borderLine)==null?void 0:se.color)??[0,0,0,0],be=2*(((X=i.borderLine)==null?void 0:X.size)??0);s.fillStyle=e9(ue),s.strokeStyle=e9(xe),s.lineWidth=be,s.fillRect(0,0,r.width,r.height),s.strokeRect(0,0,r.width,r.height),s.restore()}T&&this._renderHalo(s,_,S,C,A,i),b>0&&this._renderOutline(s,_,S,C,A,i),A+=S,C+=_;for(const ue of this._textLines)T?(s.globalCompositeOperation="destination-out",s.fillStyle="rgb(0, 0, 0)",s.fillText(ue,C,A),s.globalCompositeOperation="source-over",s.fillStyle=this._fillStyle,s.fillText(ue,C,A)):(s.fillStyle=this._fillStyle,s.fillText(ue,C,A)),n&&n!=="none"&&this._renderDecoration(s,C,A,n,a),A+=g;s.restore();const O=this._renderedWidth+2*this._lineThroughWidthOffset,L=this._renderedHeight,F=s.getImageData(0,0,O,L),D=new Uint8Array(F.data);if(i.premultiplyColors){let ue;for(let xe=0;xe<D.length;xe+=4)ue=D[xe+3]/255,D[xe]=D[xe]*ue,D[xe+1]=D[xe+1]*ue,D[xe+2]=D[xe+2]*ue}let G,H;switch(i.horizontalAlignment){case"left":G=-.5;break;case"right":G=.5;break;default:G=0}switch(i.verticalAlignment){case"bottom":H=-.5;break;case"top":H=.5;break;case"baseline":H=-1/6;break;default:H=0}return{size:[O,L],image:new Uint32Array(D.buffer),sdf:!1,simplePattern:!1,anchorX:G,anchorY:H,canvas:r}}_renderHalo(e,i,r,s,n,a){const o=this._renderedWidth,l=this._renderedHeight;this._outlineRasterizationCanvas||(this._outlineRasterizationCanvas=document.createElement("canvas")),this._outlineRasterizationCanvas.width=o,this._outlineRasterizationCanvas.height=l;const u=this._outlineRasterizationCanvas,d=u.getContext("2d");d.clearRect(0,0,o,l),vv(d,a);const{decoration:h,weight:p}=a.font;d.fillStyle=this._haloStyle,d.strokeStyle=this._haloStyle,d.lineJoin="round",this._renderOutlineNative(d,i,r,h,p,this._renderedHaloSize+this._renderedOutlineSize),e.globalAlpha=this._parameters.halo.color[3],e.drawImage(u,0,0,o,l,s,n,o,l),e.globalAlpha=1}_renderOutline(e,i,r,s,n,a){const o=this._renderedWidth,l=this._renderedHeight;this._outlineRasterizationCanvas||(this._outlineRasterizationCanvas=document.createElement("canvas")),this._outlineRasterizationCanvas.width=o,this._outlineRasterizationCanvas.height=l;const u=this._outlineRasterizationCanvas,d=u.getContext("2d");d.clearRect(0,0,o,l),vv(d,a);const{decoration:h,weight:p}=a.font;d.fillStyle=this._outlineStyle,d.strokeStyle=this._outlineStyle,d.lineJoin="round",this._renderOutlineNative(d,i,r,h,p,this._renderedOutlineSize),e.globalAlpha=this._parameters.outline.color[3],e.drawImage(u,0,0,o,l,s,n,o,l),e.globalAlpha=1}_renderOutlineNative(e,i,r,s,n,a){const o=this._renderedLineHeight;for(const l of this._textLines){const u=2*a,d=5,h=.1;for(let p=0;p<d;p++){const m=(1-(d-1)*h+p*h)*u;e.lineWidth=m,e.strokeText(l,i,r),s&&s!=="none"&&this._renderDecoration(e,i,r,s,n,m)}r+=o}}computeTextSize(e,i){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const r=this._textRasterizationCanvas,s=r.getContext("2d");vv(s,i),this._parameters=i,this._textLines=e.split(/\r?\n/),this._lineHeight=this._computeLineHeight();const n=this._computeTextWidth(s,i),a=this._lineHeight*this._textLines.length;return r.width=n,r.height=a,[n*i.pixelRatio,a*i.pixelRatio]}_computeTextWidth(e,i){let r=0;for(const n of this._textLines)r=Math.max(r,e.measureText(n).width);const s=i.font;return(s.style==="italic"||s.style==="oblique"||typeof s.weight=="string"&&(s.weight==="bold"||s.weight==="bolder")||typeof s.weight=="number"&&s.weight>600)&&(r+=.3*e.measureText("w").width),r+=2*et(this._parameters.halo.size),Math.round(r)}_computeLineHeightBase(){return 1.275*this._parameters.size}_computeLineHeight(){let e=this._computeLineHeightBase();const i=this._parameters.font.decoration;return i&&i==="underline"&&(e*=1.3),Math.round(e+2*et(this._parameters.halo.size))}_renderDecoration(e,i,r,s,n,a){let o=.9*this._lineHeight;const l=n==="bold"?.06:n==="bolder"?.09:.04;switch(e.textAlign){case"center":i-=this._renderedWidth/2;break;case"right":i-=this._renderedWidth}const u=e.textBaseline;if(s==="underline")switch(o=.9*this._computeLineHeightBase(),u){case"top":r+=o;break;case"middle":r+=o/2}else if(s==="line-through")switch(u){case"top":r+=o/1.5;break;case"middle":r+=o/3}const d=a?1.5*a:Math.ceil(o*l);e.save(),e.beginPath(),e.strokeStyle=e.fillStyle,e.lineWidth=d,e.moveTo(i-this._lineThroughWidthOffset,r),e.lineTo(i+this._renderedWidth+2*this._lineThroughWidthOffset,r),e.stroke(),e.restore()}};function vv(t,e){const i=Math.max(e.size,.5),r=e.font,s=`${r.style} ${r.weight} ${et(i).toFixed(1)}px ${r.family}, sans-serif`;let n;switch(t.font=s,t.textBaseline="top",e.horizontalAlignment){case"left":default:n="left";break;case"right":n="right";break;case"center":n="center"}t.textAlign=n}function Uze(t,e,i){return t==="center"?.5*e:t==="right"?e-i:i}function hoe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Gze(){const t=hoe("svg");return t.setAttribute("style","position: absolute;"),t.setAttribute("width","0"),t.setAttribute("height","0"),t.setAttribute("aria-hidden","true"),t.setAttribute("role","presentation"),document.body.appendChild(t),t}function Hze(t){return t!=null&&document.body.removeChild(t),null}const Wze=()=>W.getLogger("esri.views.2d.engine.webgl.alignmentUtils");var Ul,Ba;function Zze(t){if(!t)return Ul.Center;switch(t){case"Left":case"left":return Ul.Left;case"Right":case"right":return Ul.Right;case"Justify":return Wze().warnOnce("Horizontal alignment 'justify' is not implemented. Falling back to 'center'."),Ul.Center;case"Center":case"center":return Ul.Center}}function Jze(t){if(!t)return Ba.Center;switch(t){case"Top":case"top":return Ba.Top;case"Center":case"middle":return Ba.Center;case"Baseline":case"baseline":return Ba.Baseline;case"Bottom":case"bottom":return Ba.Bottom}}function fct(t){switch(t){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return["right","bottom"];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return["center","bottom"];case"above-right":case"esriServerPointLabelPlacementAboveRight":return["left","bottom"];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return["right","middle"];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return["center","middle"];case"center-right":case"esriServerPointLabelPlacementCenterRight":return["left","middle"];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return["right","top"];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return["center","top"];case"below-right":case"esriServerPointLabelPlacementBelowRight":return["left","top"];default:return console.debug(`Found invalid placement type ${t}`),["center","middle"]}}function hct(t){switch(t){case Ul.Right:case"right":return-1;case Ul.Center:case"center":return 0;case Ul.Left:case"left":return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function pct(t){switch(t){case Ba.Top:case"top":return 1;case Ba.Center:case"middle":return 0;case Ba.Bottom:case Ba.Baseline:case"baseline":case"bottom":return-1;default:return console.debug(`Found invalid vertical alignment ${t}`),0}}(function(t){t[t.Left=-1]="Left",t[t.Center=0]="Center",t[t.Right=1]="Right"})(Ul||(Ul={})),function(t){t[t.Top=1]="Top",t[t.Center=0]="Center",t[t.Bottom=-1]="Bottom",t[t.Baseline=2]="Baseline"}(Ba||(Ba={}));let Yze=class{constructor(e=0,i=0,r=0,s=0){this.x=e,this.y=i,this.width=r,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)}},R2=class $A{constructor(e,i,r,s){this.transformedX=0,this.transformedY=0,this.center=Km(e,i),this.centerT=Kw(),this.halfWidth=r/2,this.halfHeight=s/2,this.width=r,this.height=s}get x(){return this.center[0]}get y(){return this.center[1]}get blX(){return this.center[0]+this.halfWidth}get blY(){return this.center[1]+this.halfHeight}get trX(){return this.center[0]-this.halfWidth}get trY(){return this.center[1]-this.halfHeight}get xmin(){return this.x-this.halfWidth}get xmax(){return this.x+this.halfWidth}get ymin(){return this.y-this.halfHeight}get ymax(){return this.y+this.halfHeight}set x(e){this.center[0]=e}set y(e){this.center[1]=e}clone(){return new $A(this.x,this.y,this.width,this.height)}serialize(e){return e.writeF32(this.center[0]),e.writeF32(this.center[1]),e.push(this.width),e.push(this.height),e}findCollisionDelta(e,i=4){const r=Math.abs(e.centerT[0]-this.centerT[0]),s=Math.abs(e.centerT[1]-this.centerT[1]),n=(e.halfWidth+this.halfWidth+i)/r,a=(e.halfHeight+this.halfHeight+i)/s,o=Math.min(n,a);return Math.log2(o)}extend(e){const i=Math.min(this.xmin,e.xmin),r=Math.min(this.ymin,e.ymin),s=Math.max(this.xmax,e.xmax)-i,n=Math.max(this.ymax,e.ymax)-r,a=i+s/2,o=r+n/2;this.width=s,this.height=n,this.halfWidth=s/2,this.halfHeight=n/2,this.x=a,this.y=o}static deserialize(e){const i=e.readF32(),r=e.readF32(),s=e.readInt32(),n=e.readInt32();return new $A(i,r,s,n)}};const poe=22,moe=4,Xze=poe+moe,Qze=poe-6,fG=3,Kze=Math.PI/180,zd=8,eVe=1.5;let yoe=class{constructor(e,i,r,s){this._rotationT=sd(),this._xBounds=0,this._yBounds=0,this.minZoom=0,this.maxZoom=255,this._bounds=null;const n=r.rect,a=new Float32Array(8);e*=s,i*=s;const o=r.code?n.width*s:r.metrics.width,l=r.code?n.height*s:r.metrics.height;this.width=o,this.height=l,a[0]=e,a[1]=i,a[2]=e+o,a[3]=i,a[4]=e,a[5]=i+l,a[6]=e+o,a[7]=i+l,this._data=a,this._setTextureCoords(n),this._scale=s,this._mosaic=r,this.x=e,this.y=i,this.maxOffset=Math.max(e+o,i+l)}get mosaic(){return this._mosaic}set angle(e){this._angle=e,fS(this._rotationT,-e),this._setOffsets()}get angle(){return this._angle}get xTopLeft(){return this._data[0]}get yTopLeft(){return this._data[1]}get xBottomRight(){return this._data[6]}get yBottomRight(){return this._data[7]}get texcoords(){return this._texcoords}get textureBinding(){return this._mosaic.textureBinding}get offsets(){return this._offsets||this._setOffsets(),this._offsets}get char(){return String.fromCharCode(this._mosaic.code)}get code(){return this._mosaic.code}get bounds(){if(!this._bounds){const{height:e,width:i}=this._mosaic.metrics,r=i*this._scale,s=Math.abs(e)*this._scale,n=new Float32Array(8);n[0]=this.x,n[1]=this.y,n[2]=this.x+r,n[3]=this.y,n[4]=this.x,n[5]=this.y+s,n[6]=this.x+r,n[7]=this.y+s;const a=ql(sd(),this._rotationT,this._transform);Qte(n,n,a);let o=1/0,l=1/0,u=-1/0,d=-1/0;for(let b=0;b<4;b++){const v=n[2*b],w=n[2*b+1];o=Math.min(o,v),l=Math.min(l,w),u=Math.max(u,v),d=Math.max(d,w)}const h=u-o,p=d-l,m=o+h/2,g=l+p/2;this._bounds=new R2(m,g,h,p)}return this._bounds}setTransform(e){this._transform=e,this._offsets=null}_setOffsets(){this._offsets||(this._offsets={topLeft:[0,0],topRight:[0,0],bottomLeft:[0,0],bottomRight:[0,0]});const e=ql(sd(),this._rotationT,this._transform);this._offsets.topLeft[0]=this._data[0],this._offsets.topLeft[1]=this._data[1],this._offsets.topRight[0]=this._data[2],this._offsets.topRight[1]=this._data[3],this._offsets.bottomLeft[0]=this._data[4],this._offsets.bottomLeft[1]=this._data[5],this._offsets.bottomRight[0]=this._data[6],this._offsets.bottomRight[1]=this._data[7],gs(this._offsets.topLeft,this._offsets.topLeft,e),gs(this._offsets.topRight,this._offsets.topRight,e),gs(this._offsets.bottomLeft,this._offsets.bottomLeft,e),gs(this._offsets.bottomRight,this._offsets.bottomRight,e)}_setTextureCoords({x:e,y:i,width:r,height:s}){this._texcoords={topLeft:[e,i],topRight:[e+r,i],bottomLeft:[e,i+s],bottomRight:[e+r,i+s]}}};const tVe=(t,e)=>({code:0,page:0,sdf:!0,rect:new Yze(0,0,11,8),textureBinding:e,metrics:{advance:0,height:4,width:t,left:0,top:0}});function wv(t,e){return t.forEach(i=>gs(i,i,e)),{topLeft:t[0],topRight:t[1],bottomLeft:t[2],bottomRight:t[3]}}let iVe=class{constructor(e,i,r){this._rotation=0,this._decorate(e,i,r),this.glyphs=e,this.bounds=this._createBounds(e),this.isMultiline=i.length>1,this._hasRotation=r.angle!==0,this._transform=this._createGlyphTransform(this.bounds,r),this._borderLineSizePx=r.borderLineSizePx,(r.borderLineSizePx||r.hasBackground)&&([this.bounds,this.textBox]=this.shapeBackground(this._transform));for(const s of e)s.setTransform(this._transform)}setRotation(e){if(e===0&&this._rotation===0)return;this._rotation=e;const i=this._transform,r=fS(sd(),e);ql(i,r,i);for(const s of this.glyphs)s.setTransform(this._transform)}_decorate(e,i,r){if(!r.decoration||r.decoration==="none"||!e.length)return;const s=r.scale,n=r.decoration==="underline"?Xze:Qze,a=e[0].textureBinding;for(const o of i){const l=o.startX*s,u=o.startY*s,d=(o.width+o.glyphWidthEnd)*s;e.push(new yoe(l,u+n*s,tVe(d,a),1))}}shapeBackground(e){const i=this._borderLineSizePx||0,r=(eVe+i)/2,s=this._borderLineSizePx?r:0,{xmin:n,ymin:a,xmax:o,ymax:l,x:u,y:d,width:h,height:p}=this.bounds,m=[n-zd,a-zd],g=[o+zd,a-zd],b=[n-zd,l+zd],v=[o+zd,l+zd],w=wv([[m[0]-r,m[1]-r],[g[0]+r,g[1]-r],[m[0]+s,m[1]+s],[g[0]-s,g[1]+s]],e),_=wv([[b[0]+s,b[1]-s],[v[0]-s,v[1]-s],[b[0]-r,b[1]+r],[v[0]+r,v[1]+r]],e),S=wv([[m[0]-r,m[1]-r],[m[0]+s,m[1]+s],[b[0]-r,b[1]+r],[b[0]+s,b[1]-s]],e),T=wv([[g[0]-s,g[1]+s],[g[0]+r,g[1]-r],[v[0]-s,v[1]-s],[v[0]+r,v[1]+r]],e),C={main:wv([m,g,b,v],e),top:w,bot:_,left:S,right:T};return[new R2(u,d,h+2*r,p+2*r),C]}get boundsT(){const e=this.bounds,i=Ni(Kw(),e.x,e.y);if(gs(i,i,this._transform),this._hasRotation){const r=Math.max(e.width,e.height);return new R2(i[0],i[1],r,r)}return new R2(i[0],i[1],e.width,e.height)}_createBounds(e){let i=1/0,r=1/0,s=0,n=0;for(const l of e)i=Math.min(i,l.xTopLeft),r=Math.min(r,l.yTopLeft),s=Math.max(s,l.xBottomRight),n=Math.max(n,l.yBottomRight);const a=s-i,o=n-r;return new R2(i+a/2,r+o/2,a,o)}_createGlyphTransform(e,i){const r=Kze*i.angle,s=sd(),n=Kw();return Pc(s,s,Ni(n,i.xOffset,-i.yOffset)),i.useCIMAngleBehavior?gh(s,s,r):(Pc(s,s,Ni(n,e.x,e.y)),gh(s,s,r),Pc(s,s,Ni(n,-e.x,-e.y))),s}},t9=class{constructor(e,i,r,s,n,a){this.glyphWidthEnd=0,this.startX=0,this.startY=0,this.start=Math.max(0,Math.min(i,r)),this.end=Math.max(0,Math.max(i,r)),this.end<e.length&&(this.glyphWidthEnd=e[this.end].metrics.width),this.width=s,this.yMin=n,this.yMax=a}};const TA=t=>t===10,hG=t=>t===32;function rVe(t,e,i){const r=new Array,s=1/i.scale,n=i.maxLineWidth*s,a=e?t.length-1:0,o=e?-1:t.length,l=e?-1:1;let u=a,d=0,h=0,p=u,m=p,g=0,b=1/0,v=0;for(;u!==o;){const{code:_,metrics:S}=t[u],T=Math.abs(S.top);if(TA(_)||hG(_)||(b=Math.min(b,T),v=Math.max(v,T+S.height)),TA(_))u!==a&&(r.push(new t9(t,p,u-l,d,b===1/0?0:b,v)),b=1/0,v=0),d=0,p=u+l,m=u+l,h=0;else if(hG(_))m=u+l,h=0,g=S.advance,d+=S.advance;else if(d>n){if(m!==p){const C=m-2*l;d-=g,r.push(new t9(t,p,C,d-h,b,v)),b=1/0,v=0,p=m,d=h}else r.push(new t9(t,p,u-l,d,b,v)),b=1/0,v=0,p=u,m=u,d=0;d+=S.advance,h+=S.advance}else d+=S.advance,h+=S.advance;u+=l}const w=new t9(t,p,u-l,d,b,v);return w.start>=0&&w.end<t.length&&r.push(w),r}function sVe(t,e){let i=0;for(let n=0;n<t.length;n++){const{width:a}=t[n];i=Math.max(a,i)}const r=e.decoration==="underline"?moe:0,s=t[0].yMin;return{x:0,y:s,height:t[t.length-1].yMax+e.lineHeight*(t.length-1)+r-s,width:i}}function goe(t,e){const i=e.scale,r=new Array,{glyphs:s,isRightToLeft:n}=t,a=rVe(s,n,e),o=a.length?sVe(a,e):{y:0,height:0},l=Zze(e.horizontalAlignment),u=Jze(e.verticalAlignment),d=u===Ba.Baseline?1:0,h=d?0:u-1,p=(1-d)*-o.y+h*(o.height/2)+-22*(d?1:0);for(let m=0;m<a.length;m++){const{start:g,end:b,width:v}=a[m];let w=-1*(l+1)*(v/2)-fG;const _=(t.isRightToLeft?a.length-1-m:m)*e.lineHeight+p-fG;a[m].startX=w,a[m].startY=_;for(let S=g;S<=b;S++){const T=s[S];if(TA(T.code))continue;const C=new yoe(w+T.metrics.left,_-T.metrics.top,T,i);w+=T.metrics.advance,r.push(C)}}return new iVe(r,a,e)}const vct=50;function wct(t){if(!t)return null;const{xmin:e,ymin:i,xmax:r,ymax:s,spatialReference:n}=t;return new Ut({rings:[[[e,i],[e,s],[r,s],[r,i],[e,i]]],spatialReference:n})}function boe(t){return lt(Math.round(et(t)))}function voe(t){const e=lt(Rxe),i=lt(Oxe);return Math.max(e,Math.min(t||i,i))}const Zp=Math.PI/180,woe=.5,O2=()=>W.getLogger("esri.symbols.cim.CIMSymbolDrawHelper");class Or{constructor(e){this._t=e}static createIdentity(){return new Or([1,0,0,0,1,0])}clone(){const e=this._t;return new Or(e.slice())}transform(e){const i=this._t;return[i[0]*e[0]+i[1]*e[1]+i[2],i[3]*e[0]+i[4]*e[1]+i[5]]}static createScale(e,i){return new Or([e,0,0,0,i,0])}scale(e,i){const r=this._t;return r[0]*=e,r[1]*=e,r[2]*=e,r[3]*=i,r[4]*=i,r[5]*=i,this}scaleRatio(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}static createTranslate(e,i){return new Or([0,0,e,0,0,i])}translate(e,i){const r=this._t;return r[2]+=e,r[5]+=i,this}static createRotate(e){const i=Math.cos(e),r=Math.sin(e);return new Or([i,-r,0,r,i,0])}rotate(e){return Or.multiply(this,Or.createRotate(e),this)}angle(){const e=this._t[0],i=this._t[3],r=Math.sqrt(e*e+i*i);return[e/r,i/r]}static multiply(e,i,r){const s=e._t,n=i._t,a=s[0]*n[0]+s[3]*n[1],o=s[1]*n[0]+s[4]*n[1],l=s[2]*n[0]+s[5]*n[1]+n[2],u=s[0]*n[3]+s[3]*n[4],d=s[1]*n[3]+s[4]*n[4],h=s[2]*n[3]+s[5]*n[4]+n[5],p=r._t;return p[0]=a,p[1]=o,p[2]=l,p[3]=u,p[4]=d,p[5]=h,r}invert(){const e=this._t;let i=e[0]*e[4]-e[1]*e[3];if(i===0)return new Or([0,0,0,0,0,0]);i=1/i;const r=(e[1]*e[5]-e[2]*e[4])*i,s=(e[2]*e[3]-e[0]*e[5])*i,n=e[4]*i,a=-e[1]*i,o=-e[3]*i,l=e[0]*i;return new Or([n,a,r,o,l,s])}}class MO{constructor(e,i){this._resourceManager=e,this._transfos=[],this._sizeTransfos=[],this._geomUnitsPerPoint=1,this._placementPool=new _h(E1,void 0,void 0,100),this._earlyReturn=!1,this._mapRotation=0,this._transfos.push(i||Or.createIdentity()),this._sizeTransfos.push(i?i.scaleRatio():1)}setTransform(e,i){this._transfos=[e||Or.createIdentity()],this._sizeTransfos=[i||(e?e.scaleRatio():1)]}setGeomUnitsPerPoint(e){this._geomUnitsPerPoint=e}transformPt(e){return this._transfos[this._transfos.length-1].transform(e)}transformSize(e){return e*this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformPt(e){return this._transfos[this._transfos.length-1].invert().transform(e)}reverseTransformSize(e){return e/this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformScalar(e){return e/this._transfos[this._transfos.length-1].scaleRatio()}getTransformAngle(){return this._transfos[this._transfos.length-1].angle()}geomUnitsPerPoint(){return this.isEmbedded()?1:this._geomUnitsPerPoint}prevGeomUnitsPerPoint(){return this._transfos.length>2?1:this._geomUnitsPerPoint}isEmbedded(){return this._transfos.length>1}back(){return this._transfos[this._transfos.length-1]}push(e,i){const r=i?e.scaleRatio():1;Or.multiply(e,this.back(),e),this._transfos.push(e),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*r)}pop(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)}drawSymbol(e,i,r){if(e)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this.drawMultiLayerSymbol(e,i);break;case"CIMTextSymbol":this.drawTextSymbol(e,i,r)}}drawMultiLayerSymbol(e,i){if(!e||!i)return;const r=e.symbolLayers;if(!r)return;const s=e.effects;if(s&&s.length>0){const n=this.executeEffects(s,i);if(n){let a=n.next();for(;a;)this.drawSymbolLayers(r,a.asJSON()),a=n.next()}}else this.drawSymbolLayers(r,i)}executeEffects(e,i){const r=this._resourceManager.geometryEngine;let s=new cDe($t.fromJSONCIM(i));for(const n of e){const a=Mze(n);a&&(s=a.execute(s,n,this.geomUnitsPerPoint(),null,r))}return s}drawSymbolLayers(e,i){let r=e.length;for(;r--;){const s=e[r];if(!s||s.enable===!1)continue;const n=s.effects;if(n&&n.length>0){const a=this.executeEffects(n,i);if(a){let o=null;for(;(o=a.next())&&(this.drawSymbolLayer(s,o.asJSON()),!this._earlyReturn););}}else this.drawSymbolLayer(s,i);if(this._earlyReturn)return}}drawSymbolLayer(e,i){switch(e.type){case"CIMSolidFill":this.drawSolidFill(i,e.color,e.path);break;case"CIMHatchFill":this.drawHatchFill(i,e);break;case"CIMPictureFill":this.drawPictureFill(i,e);break;case"CIMGradientFill":this.drawGradientFill(i,e);break;case"CIMSolidStroke":this.drawSolidStroke(i,e.color,e.width,e.capStyle,e.joinStyle,e.miterLimit,e.path);break;case"CIMPictureStroke":this.drawPictureStroke(i,e);break;case"CIMGradientStroke":this.drawGradientStroke(i,e);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawMarkerLayer(e,i)}}drawHatchFill(e,i){const r=aVe(i,e,this.geomUnitsPerPoint());r&&(this.pushClipPath(e),this.drawMultiLayerSymbol(i.lineSymbol,r),this.popClipPath())}drawPictureFill(e,i){}drawGradientFill(e,i){}drawPictureStroke(e,i){}drawGradientStroke(e,i){}drawMarkerLayer(e,i){const r=e.markerPlacement;if(r){const s=Cze(r);if(s){const n=r.type==="CIMMarkerPlacementInsidePolygon"||r.type==="CIMMarkerPlacementPolygonCenter"&&r.clipAtBoundary;n&&this.pushClipPath(i);const a=s.execute($t.fromJSONCIM(i),r,this.geomUnitsPerPoint(),null,this._resourceManager.geometryEngine);if(a){let o=null;for(;(o=a.next())&&(this.drawMarker(e,o),!this._earlyReturn););}n&&this.popClipPath()}}else{const s=this._placementPool.acquire();if(jw(i))s.tx=i.x,s.ty=i.y,this.drawMarker(e,s);else if(pi(i)){const n=RY(i);n&&([s.tx,s.ty]=n,this.drawMarker(e,s))}else if(Fr(i)){for(const n of i.paths)for(const a of n)if(s.tx=a[0],s.ty=a[1],this.drawMarker(e,s),this._earlyReturn)break}else for(const n of i.points)if(s.tx=n[0],s.ty=n[1],this.drawMarker(e,s),this._earlyReturn)break;this._placementPool.release(s)}}drawMarker(e,i){switch(e.type){case"CIMCharacterMarker":case"CIMPictureMarker":this.drawPictureMarker(e,i);break;case"CIMVectorMarker":this.drawVectorMarker(e,i)}}drawPictureMarker(e,i){if(!e)return;const r=this._resourceManager.getResource(e.url),s=Ne(e.size,Vi.CIMPictureMarker.size);if(r==null||s<=0)return;const n=r.width,a=r.height;if(!n||!a)return;const o=n/a,l=Ne(e.scaleX,1),u=Or.createIdentity(),d=e.anchorPoint;if(d){let v=d.x,w=d.y;e.anchorPointUnits!=="Absolute"&&(v*=s*o*l,w*=s),u.translate(-v,-w)}let h=Ne(e.rotation);e.rotateClockwise&&(h=-h),this._mapRotation&&(h+=this._mapRotation),h&&u.rotate(h*Zp);let p=Ne(e.offsetX),m=Ne(e.offsetY);if(p||m){if(this._mapRotation){const v=Zp*this._mapRotation,w=Math.cos(v),_=Math.sin(v),S=p*_+m*w;p=p*w-m*_,m=S}u.translate(p,m)}const g=this.geomUnitsPerPoint();g!==1&&u.scale(g,g);const b=i.getAngle();b&&u.rotate(b),u.translate(i.tx,i.ty),this.push(u,!1),this.drawImage(e,s),this.pop()}drawVectorMarker(e,i){if(!e)return;const r=e.markerGraphics;if(!r)return;const s=Ne(e.size,Vi.CIMVectorMarker.size),n=e.frame,a=n?n.ymax-n.ymin:0,o=s&&a?s/a:1,l=Or.createIdentity();n&&l.translate(.5*-(n.xmax+n.xmin),.5*-(n.ymax+n.ymin));const u=e.anchorPoint;if(u){let b=u.x,v=u.y;e.anchorPointUnits!=="Absolute"?n&&(b*=n.xmax-n.xmin,v*=n.ymax-n.ymin):(b/=o,v/=o),l.translate(-b,-v)}o!==1&&l.scale(o,o);let d=Ne(e.rotation);e.rotateClockwise&&(d=-d),this._mapRotation&&(d+=this._mapRotation),d&&l.rotate(d*Zp);let h=Ne(e.offsetX),p=Ne(e.offsetY);if(h||p){if(this._mapRotation){const b=Zp*this._mapRotation,v=Math.cos(b),w=Math.sin(b),_=h*w+p*v;h=h*v-p*w,p=_}l.translate(h,p)}const m=this.geomUnitsPerPoint();m!==1&&l.scale(m,m);const g=i.getAngle();g&&l.rotate(g),l.translate(i.tx,i.ty),this.push(l,e.scaleSymbolsProportionally);for(const b of r){b!=null&&b.symbol&&b.geometry||O2().error("Invalid marker graphic",b);let v=b.textString;if(typeof v=="number"&&(v=v.toString()),this.drawSymbol(b.symbol,b.geometry,v),this._earlyReturn)break}this.pop()}drawTextSymbol(e,i,r){if(!e||!jw(i)||Ne(e.height,Vi.CIMTextSymbol.height)<=0)return;const s=Or.createIdentity();let n=Ne(e.angle);n=-n,n&&s.rotate(n*Zp);const a=Ne(e.offsetX),o=Ne(e.offsetY);(a||o)&&s.translate(a,o);const l=this.geomUnitsPerPoint();l!==1&&s.scale(l,l),s.translate(i.x,i.y),this.push(s,!1),this.drawText(e,r),this.pop()}}class nVe extends MO{constructor(e,i){super(e,i),this.reset()}reset(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0}envelope(){return new qze(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}bounds(){return bye(this._xmin,this._ymin,this._xmax,this._ymax)}drawSolidFill(e){if(e&&!(this._clipCount>0))if(pi(e))this._processPath(e.rings,0);else if(Fr(e))this._processPath(e.paths,0);else if(Wr(e)){const i=Nu(e);i&&this._processPath(i.rings,0)}else console.error("drawSolidFill Unexpected geometry type!")}drawSolidStroke(e,i,r){if(!e||this._clipCount>0||r==null||r<=0)return;const s=Math.max(.5*this.transformSize(Ne(r,Vi.CIMSolidStroke.width)),.5*woe);if(pi(e))this._processPath(e.rings,s);else if(Fr(e))this._processPath(e.paths,s);else if(Wr(e)){const n=Nu(e);n&&this._processPath(n.rings,s)}else console.error("drawSolidStroke unexpected geometry type!")}drawMarkerLayer(e,i){pi(i)&&e.markerPlacement&&(e.markerPlacement.type==="CIMMarkerPlacementInsidePolygon"||e.markerPlacement.type==="CIMMarkerPlacementPolygonCenter"&&e.markerPlacement.clipAtBoundary)?this._processPath(i.rings,0):super.drawMarkerLayer(e,i)}drawHatchFill(e,i){this.drawSolidFill(e)}drawPictureFill(e,i){this.drawSolidFill(e)}drawGradientFill(e,i){this.drawSolidFill(e)}drawPictureStroke(e,i){this.drawSolidStroke(e,null,i.width)}drawGradientStroke(e,i){this.drawSolidStroke(e,null,i.width)}pushClipPath(e){this.drawSolidFill(e),this._clipCount++}popClipPath(){this._clipCount--}drawImage(e,i){const{url:r}=e,s=Ne(e.scaleX,1);let n=s*i,a=i;const o=this._resourceManager.getResource(r);if(o!=null){const l=o.height/o.width;n=s*(i?l>1?i:i/l:o.width),a=i?l>1?i*l:i:o.height}this._merge(this.transformPt([-n/2,-a/2]),0),this._merge(this.transformPt([-n/2,a/2]),0),this._merge(this.transformPt([n/2,-a/2]),0),this._merge(this.transformPt([n/2,a/2]),0)}drawText(e,i){if(!i||i.length===0)return;this._textRasterizer||(this._textRasterizer=new foe);const r=xoe(e);let[s,n]=this._textRasterizer.computeTextSize(i,r);s=lt(s),n=lt(n);const a=this.transformSize(1)*this.reverseTransformScalar(1);s*=a,n*=a;let o=0;switch(e.horizontalAlignment){case"Left":o=s/2;break;case"Right":o=-s/2}let l=0;switch(e.verticalAlignment){case"Bottom":l=n/2;break;case"Top":l=-n/2;break;case"Baseline":l=n/6}this._merge(this.transformPt([-s/2+o,-n/2+l]),0),this._merge(this.transformPt([-s/2+o,n/2+l]),0),this._merge(this.transformPt([s/2+o,-n/2+l]),0),this._merge(this.transformPt([s/2+o,n/2+l]),0)}_processPath(e,i){if(e)for(const r of e){const s=r?r.length:0;if(s>1){this._merge(this.transformPt(r[0]),i);for(let n=1;n<s;n++)this._merge(this.transformPt(r[n]),i)}}}_merge(e,i){e[0]-i<this._xmin&&(this._xmin=e[0]-i),e[0]+i>this._xmax&&(this._xmax=e[0]+i),e[1]-i<this._ymin&&(this._ymin=e[1]-i),e[1]+i>this._ymax&&(this._ymax=e[1]+i)}}class _ct extends MO{constructor(){super(...arguments),this._searchPoint=[0,0],this._searchDistPoint=0,this._textInfo=null,this._svg=null,this._path=null,this._canvas=null}destroy(){this._svg=Hze(this._svg),this._path=null,this._canvas=null}hitTest(e,i,r,s,n,a){var u;const o=a*et(1);this.setTransform(),this.setGeomUnitsPerPoint(o),this._searchPoint=[(e[0]+e[2])/2,(e[1]+e[3])/2],this._searchDistPoint=(e[2]-e[0])/2/o,this._textInfo=s;const l=i&&(i.type==="CIMPointSymbol"&&i.angleAlignment!=="Map"||i.type==="CIMTextSymbol");if(this._mapRotation=l?n:0,!q("esri-mobile")){const d=lt(Cxe*window.devicePixelRatio),h=lt(kxe);!(((i==null?void 0:i.type)==="CIMLineSymbol"||(i==null?void 0:i.type)==="CIMPolygonSymbol")&&((u=i.symbolLayers)!=null&&u.some(Nke)))&&(i==null?void 0:i.type)!=="CIMMeshSymbol"&&(Jke(i)??0)<h&&(this._searchDistPoint=d)}return this._earlyReturn=!1,this.drawSymbol(i,r),this._earlyReturn}executeEffects(e,i){var r;return((r=e.at(-1))==null?void 0:r.type)==="CIMGeometricEffectDashes"&&(e=e.slice(0,-1)),super.executeEffects(e,i)}drawSolidFill(e,i,r){r!=null?this._hittestSvgPath(e,r,!0):this._hitTestFill(e)}drawHatchFill(e,i){this._hitTestFill(e)}drawPictureFill(e,i){this._hitTestFill(e)}drawGradientFill(e,i){this._hitTestFill(e)}drawSolidStroke(e,i,r,s,n,a,o){o!=null?this._hittestSvgPath(e,o,!1,r):this._hitTestStroke(e,r)}drawPictureStroke(e,i){this._hitTestStroke(e,i.width)}drawGradientStroke(e,i){this._hitTestStroke(e,i.width)}drawMarkerLayer(e,i){e.markerPlacement&&(e.markerPlacement.type==="CIMMarkerPlacementInsidePolygon"||e.markerPlacement.type==="CIMMarkerPlacementPolygonCenter"&&e.markerPlacement.clipAtBoundary)?this._hitTestFill(i):super.drawMarkerLayer(e,i)}pushClipPath(e){}popClipPath(){}drawImage(e,i){const{url:r}=e,s=Ne(e.scaleX,1),n=this._resourceManager.getResource(r);if(n==null||n.height===0||i===0)return;const a=i*this.geomUnitsPerPoint(),o=a*s*(n.width/n.height),l=this.reverseTransformPt(this._searchPoint),u=this._searchDistPoint;Math.abs(l[0])<o/2+u&&Math.abs(l[1])<a/2+u&&(this._earlyReturn=!0)}drawText(e,i){var g;const r=this._textInfo;if(!r)return;const s=r.get(e);if(!s||!s.glyphMosaicItems.glyphs.length)return;const n=boe(Ne(e.height,Vi.CIMTextSymbol.height)),{lineGapType:a,lineGap:o}=e,l=a?Soe(a,Ne(o),n):0,u=((g=e.callout)==null?void 0:g.type)==="CIMBackgroundCallout",d=goe(s.glyphMosaicItems,{scale:n/Aie,angle:0,xOffset:0,yOffset:0,horizontalAlignment:e.horizontalAlignment,verticalAlignment:e.verticalAlignment,maxLineWidth:voe(e.lineWidth),lineHeight:kie*Math.max(.25,Math.min(l||1,4)),decoration:e.font.decoration||"none",useCIMAngleBehavior:!0,hasBackground:u}),h=this.reverseTransformPt(this._searchPoint),p=h[0],m=h[1];for(const b of d.glyphs)if(p>b.xTopLeft&&p<b.xBottomRight&&m>-b.yBottomRight&&m<-b.yTopLeft){this._earlyReturn=!0;break}}_hitTestFill(e){let i=null;if(Wr(e)){const s=e;i=[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}else if(pi(e))i=e.rings;else{if(!Fr(e))return;i=e.paths}const r=this.reverseTransformPt(this._searchPoint);oVe(r,i)&&(this._earlyReturn=!0),!this._earlyReturn&&pG(r,i,this.reverseTransformScalar(this._searchDistPoint)*this.prevGeomUnitsPerPoint())&&(this._earlyReturn=!0)}_getSvgPath(){return this._svg!=null&&this._path!=null||(this._svg??(this._svg=Gze()),this._path??(this._path=hoe("path")),this._svg.appendChild(this._path)),this._path}_getCanvasContext(e,i){return this._canvas??(this._canvas=document.createElement("canvas")),this._canvas.width=e,this._canvas.height=i,this._canvas.getContext("2d",{willReadFrequently:!0})}_hittestSvgPath(e,i,r,s=0){const n=this.reverseTransformScalar(this._searchDistPoint)*this.prevGeomUnitsPerPoint(),a=this.reverseTransformPt(this._searchPoint),o=ei();pL(o,e);const l={x:o[0],y:o[1],width:o[2]-o[0],height:o[3]-o[1]},u=this._getSvgPath();u.setAttribute("d",i);const d=u.getBBox();let h=Math.max(d.width/l.width,d.height/l.height),p=1;const m=2*n*h;m<1&&(p=2/m,h*=p,d.x*=p,d.y*=p,d.width*=p,d.height*=p);const g=1+s*h/2,b=this._getCanvasContext(d.width+2*g,d.height+2*g);b.setTransform(p,0,0,p,-d.x+g,-d.y+g);const v=new Path2D(i);r?b.fill(v):(b.lineWidth=s*(h/p),b.stroke(v));const w=(l.width*h-d.width)/2,_=(l.height*h-d.height)/2,S=Math.floor((a[0]-l.x-n)*h-w+g),T=Math.floor((l.height-(a[1]-l.y)-n)*h+_+g),C=Math.ceil(2*n*h),A=Math.ceil(2*n*h),O=b.getImageData(S,T,C,A).data;for(let L=3;L<O.length;L+=4)if(O[L]>127.5)return void(this._earlyReturn=!0)}_hitTestStroke(e,i){let r=null;if(Wr(e)){const s=e;r=[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}else if(pi(e))r=e.rings;else{if(!Fr(e))return;r=e.paths}pG(this.reverseTransformPt(this._searchPoint),r,Ne(i,Vi.CIMSolidStroke.width)*this.geomUnitsPerPoint()/2+this.reverseTransformScalar(this._searchDistPoint)*this.prevGeomUnitsPerPoint())&&(this._earlyReturn=!0)}}class _oe extends MO{constructor(e,i,r,s){super(i,r),this._applyAdditionalRenderProps=s,this._colorSubstitutionHelper=new uDe,this._ctx=e}drawSolidFill(e,i){if(!e)return;if(pi(e))this._buildPath(e.rings,!0);else if(Fr(e))this._buildPath(e.paths,!0);else if(Wr(e))this._buildPath(Nu(e).rings,!0);else{if(!Sg(e))return;console.log("CanvasDrawHelper.drawSolidFill - No implementation!")}const r=this._ctx;r.fillStyle=typeof i=="string"?i:"rgba("+Math.round(i[0])+","+Math.round(i[1])+","+Math.round(i[2])+","+(i[3]??255)/255+")",r.fill("evenodd")}drawSolidStroke(e,i,r,s,n,a){if(!e||!i||r===0)return;if(pi(e))this._buildPath(e.rings,!0);else if(Fr(e))this._buildPath(e.paths,!1);else{if(!Wr(e))return void console.log("CanvasDrawHelper.drawSolidStroke isn't implemented!");this._buildPath(Nu(e).rings,!0)}const o=this._ctx;o.strokeStyle=typeof i=="string"?i:"rgba("+Math.round(i[0])+","+Math.round(i[1])+","+Math.round(i[2])+","+(i[3]??255)/255+")",o.lineWidth=Math.max(this.transformSize(r),woe),this._setCapStyle(s),this._setJoinStyle(n),o.miterLimit=a,o.stroke()}pushClipPath(e){if(this._ctx.save(),pi(e))this._buildPath(e.rings,!0);else if(Fr(e))this._buildPath(e.paths,!0);else{if(!Wr(e))return;this._buildPath(Nu(e).rings,!0)}this._ctx.clip("evenodd")}popClipPath(){this._ctx.restore()}drawImage(e,i){const{colorSubstitutions:r,url:s,tintColor:n}=e,a=Ne(e.scaleX,1),o=this._resourceManager.getResource(s);if(o==null)return;let l=i*(o.width/o.height),u=i;i||(l=o.width,u=o.height);const d=N0(s)||"src"in o&&N0(o.src);let h="getFrame"in o?rT(o):o;r&&(h=this._colorSubstitutionHelper.applyColorSubstitution(h,r)),this._applyAdditionalRenderProps&&!d&&n&&(h=this._colorSubstitutionHelper.tintImageData(h,n));const p=this.transformPt([0,0]),[m,g]=this.getTransformAngle(),b=this.transformSize(1),v=this._ctx;v.save(),v.setTransform({m11:a*b*m,m12:a*b*g,m21:-b*g,m22:b*m,m41:p[0],m42:p[1]}),v.drawImage(h,-l/2,-u/2,l,u),v.restore()}drawText(e,i){if(!i||i.length===0)return;this._textRasterizer||(this._textRasterizer=new foe);const r=xoe(e,this.transformSize(lt(1))),s=this._textRasterizer.rasterizeText(i,r);if(!s)return;const{size:n,anchorX:a,anchorY:o,canvas:l}=s,u=n[0]*(a+.5),d=n[1]*(o-.5),h=this._ctx,p=this.transformPt([0,0]),[m,g]=this.getTransformAngle(),b=1;h.save(),h.setTransform({m11:b*m,m12:b*g,m21:-1*g,m22:b*m,m41:p[0]-b*u,m42:p[1]+b*d}),h.drawImage(l,0,0),h.restore()}drawPictureFill(e,i){if(!e)return;let{colorSubstitutions:r,height:s,offsetX:n,offsetY:a,rotation:o,scaleX:l,tintColor:u,url:d}=i;const h=this._resourceManager.getResource(d);if(h==null)return;if(pi(e))this._buildPath(e.rings,!0);else if(Fr(e))this._buildPath(e.paths,!0);else if(Wr(e))this._buildPath(Nu(e).rings,!0);else{if(!Sg(e))return;console.log("CanvasDrawHelper.drawPictureFill - No implementation!")}const p=this._ctx,m=N0(d)||"src"in h&&N0(h.src);let g,b="getFrame"in h?rT(h):h;if(r&&(b=this._colorSubstitutionHelper.applyColorSubstitution(b,r)),this._applyAdditionalRenderProps){m||u&&(b=this._colorSubstitutionHelper.tintImageData(b,u)),g=p.createPattern(b,"repeat");const v=this.transformSize(1);o||(o=0),n?n*=v:n=0,a?a*=v:a=0,s&&(s*=v);const w=s?s/h.height:1,_=l&&s?l*s/h.width:1;if(o!==0||w!==1||_!==1||n!==0||a!==0){const S=new DOMMatrix;S.rotateSelf(0,0,-o).translateSelf(n,a).scaleSelf(_,w,1),g.setTransform(S)}}else g=p.createPattern(b,"repeat");p.save(),p.fillStyle=g,p.fill("evenodd"),p.restore()}drawPictureStroke(e,i){if(!e)return;let{colorSubstitutions:r,capStyle:s,joinStyle:n,miterLimit:a,tintColor:o,url:l,width:u}=i;const d=this._resourceManager.getResource(l);if(d==null)return;let h;if(pi(e))h=e.rings;else if(Fr(e))h=e.paths;else{if(!Wr(e))return Sg(e)?void console.log("CanvasDrawHelper.drawPictureStroke - No implementation!"):void 0;h=Nu(e).rings}u||(u=d.width);const p=N0(l)||"src"in d&&N0(d.src);let m="getFrame"in d?rT(d):d;r&&(m=this._colorSubstitutionHelper.applyColorSubstitution(m,r)),this._applyAdditionalRenderProps&&(p||o&&(m=this._colorSubstitutionHelper.tintImageData(m,o)));const g=Math.max(this.transformSize(et(u)),.5),b=g/m.width,v=this._ctx,w=v.createPattern(m,"repeat-y");let _,S;v.save(),this._setCapStyle(s),this._setJoinStyle(n),a!==void 0&&(v.miterLimit=a),v.lineWidth=g;for(let T of h)if(T=z(T),mG(T),T&&!(T.length<=1)){_=this.transformPt(T[0]);for(let C=1;C<T.length;C++){S=this.transformPt(T[C]);const A=lVe(_,S),O=new DOMMatrix;O.translateSelf(0,_[1]-g/2).scaleSelf(b,b,1).rotateSelf(0,0,90-A),w.setTransform(O),v.strokeStyle=w,v.beginPath(),v.moveTo(_[0],_[1]),v.lineTo(S[0],S[1]),v.stroke(),_=S}}v.restore()}drawGradientFill(e,i){if(!e)return;let r;if(pi(e))r=e.rings;else if(Fr(e))r=e.paths;else{if(!Wr(e))return void O2().error("Unable to draw gradient fill");r=Nu(e).rings}this._buildPath(r,!0);const{angle:s,gradientMethod:n,gradientSize:a,gradientSizeUnits:o}=i,l=Vi.CIMGradientFill,u=i.gradientType??l.gradientType,d=-wc(s??0),h=$ye();for(const w of r){const _=w?w.length:0;if(_>1)for(let S=0;S<_;S++){let T=this.transformPt(w[S]);n!=="Linear"&&n!=="Rectangular"||(T=eu(T,-d)),Av(h,T)}}const[p,m,g,b]=h,v=this._ctx;switch(v.save(),n){case"Buffered":O2().error(`Gradient method "${n}" currently unsupported.`);break;case"Linear":{const w=(m+b)/2,_=o==="Absolute"?this.transformSize(et(a)):dv(a,l.gradientSize)*(g-p),[S,T]=u==="Discrete"?[g,g-_]:[p+_,p],C=eu([S,w],d),A=eu([T,w],d),O=v.createLinearGradient(C[0],C[1],A[0],A[1]);K5(O,i),v.fillStyle=O,v.fill("evenodd");break}case"Circular":{const w=jN(h),_=_ye(h)/2,S=o==="Absolute"?this.transformSize(et(a)):dv(a,l.gradientSize)*_,[T,C]=u==="Discrete"?[_,_-S]:[S,0],A=v.createRadialGradient(w[0],w[1],T,w[0],w[1],C);K5(A,i),v.fillStyle=A,v.fill("evenodd");break}case"Rectangular":{const w=jN(h),_=w[0],S=w[1],T=eu(w,d),C=(G,H,se,X,ue,xe,be,ye)=>{v.save(),this.pushClipPath(e);const at=eu([ue,xe],d),qi=eu([be,ye],d);v.beginPath(),v.moveTo(T[0],T[1]),v.lineTo(at[0],at[1]),v.lineTo(qi[0],qi[1]),v.lineTo(T[0],T[1]),v.clip();const ur=eu([G,H],d),Ii=eu([se,X],d),Uc=v.createLinearGradient(ur[0],ur[1],Ii[0],Ii[1]);K5(Uc,i),v.fillStyle=Uc,v.fill("evenodd"),v.restore()};let A=o==="Absolute"?this.transformSize(et(a)):dv(a,l.gradientSize)*(L7(h)/2),[O,L]=u==="Discrete"?[g,g-A]:[_+A,_];C(O,S,L,S,g,m,g,b),[O,L]=u==="Discrete"?[p,p+A]:[_-A,_],C(O,S,L,S,p,b,p,m),A=o==="Absolute"?this.transformSize(et(a)):dv(a,l.gradientSize)*(R7(h)/2);let[F,D]=u==="Discrete"?[b,b-A]:[S+A,S];C(_,F,_,D,g,b,p,b),[F,D]=u==="Discrete"?[m,m+A]:[S-A,S],C(_,F,_,D,p,m,g,m);break}}v.restore()}drawGradientStroke(e,i){const{capStyle:r,gradientMethod:s,gradientSize:n,gradientSizeUnits:a,joinStyle:o,miterLimit:l,width:u}=i;if(!e||u===0)return;let d;if(pi(e))d=e.rings;else if(Fr(e))d=e.paths;else{if(!Wr(e))return void O2().error("Unable to draw gradient stroke");d=Nu(e).rings}const h=i.gradientType??Vi.CIMGradientStroke.gradientType,p=Math.max(this.transformSize(et(u)),.5),m=this._ctx;let g,b;m.save(),this._setCapStyle(r),this._setJoinStyle(o),l!==void 0&&(m.miterLimit=l),m.lineWidth=p;for(let v of d){if(v=z(v),mG(v),!v||v.length<=1)continue;let w=0;g=this.transformPt(v[0]);for(let T=1;T<v.length;T++){b=this.transformPt(v[T]);const C=b[0]-g[0],A=b[1]-g[1];w+=Math.sqrt(C*C+A*A),g=b}const _=a==="Absolute"?this.transformSize(et(n)):dv(n,Vi.CIMGradientStroke.gradientSize)*(s==="AcrossLine"?p:w);let S=0;g=this.transformPt(v[0]);for(let T=1;T<v.length;T++){b=this.transformPt(v[T]);const C=b[0]-g[0],A=b[1]-g[1],O=Math.sqrt(C*C+A*A);let L,F,D,G;switch(s){case"AcrossLine":{const[se,X]=eu([C/O,A/O],-Math.PI/2),ue=p/2,xe=h==="Discrete"?ue:_-ue;L=(g[0]+b[0])/2+se*xe,F=(g[1]+b[1])/2+X*xe,D=L-se*_,G=F-X*_;break}case"AlongLine":{const se=C/O,X=A/O;h==="Discrete"?(L=g[0]-se*S,F=g[1]-X*S,D=L+se*_,G=F+X*_):(D=g[0]+se*(w-S),G=g[1]+X*(w-S),L=D-se*_,F=G-X*_);break}default:return O2().error("Unrecognized gradient method:",s),void m.restore()}const H=m.createLinearGradient(L,F,D,G);K5(H,i),m.strokeStyle=H,m.beginPath(),m.moveTo(g[0],g[1]),m.lineTo(b[0],b[1]),m.stroke(),S+=O,g=b}}m.restore()}_buildPath(e,i){const r=this._ctx;if(r.beginPath(),e)for(const s of e){const n=s?s.length:0;if(n>1){let a=this.transformPt(s[0]);r.moveTo(a[0],a[1]);for(let o=1;o<n;o++)a=this.transformPt(s[o]),r.lineTo(a[0],a[1]);i&&r.closePath()}}}_setCapStyle(e){switch(e){case Sn.Butt:this._ctx.lineCap="butt";break;case Sn.Round:this._ctx.lineCap="round";break;case Sn.Square:this._ctx.lineCap="square"}}_setJoinStyle(e){switch(e){case Ha.Bevel:this._ctx.lineJoin="bevel";break;case Ha.Round:this._ctx.lineJoin="round";break;case Ha.Miter:this._ctx.lineJoin="miter"}}}function aVe(t,e,i){let r=Ne(t.separation,Vi.CIMHatchFill.separation)*i,s=Ne(t.rotation);if(r===0)return null;r<0&&(r=-r);let n=0;const a=.5*r;for(;n>a;)n-=r;for(;n<-a;)n+=r;const o=ei();pL(o,e),o[0]-=a,o[1]-=a,o[2]+=a,o[3]+=a;const l=[[o[0],o[1]],[o[0],o[3]],[o[2],o[3]],[o[2],o[1]]];for(;s>180;)s-=180;for(;s<0;)s+=180;const u=Math.cos(s*Zp),d=Math.sin(s*Zp),h=-r*d,p=r*u;let m,g,b,v;n=Ne(t.offsetX)*i*d-Ne(t.offsetY)*i*u,m=b=Number.MAX_VALUE,g=v=-Number.MAX_VALUE;for(const O of l){const L=O[0],F=O[1],D=u*L+d*F,G=-d*L+u*F;m=Math.min(m,D),b=Math.min(b,G),g=Math.max(g,D),v=Math.max(v,G)}b=Math.floor(b/r)*r;let w=u*m-d*b-h*n/r,_=d*m+u*b-p*n/r,S=u*g-d*b-h*n/r,T=d*g+u*b-p*n/r;const C=1+Math.round((v-b)/r),A=[];for(let O=0;O<C;O++)w+=h,_+=p,S+=h,T+=p,A.push([[w,_],[S,T]]);return{paths:A}}function oVe(t,e){let i=0;for(const r of e){const s=r.length;for(let n=1;n<s;n++){const a=r[n-1],o=r[n];a[1]>t[1]!=o[1]>t[1]&&((o[0]-a[0])*(t[1]-a[1])-(o[1]-a[1])*(t[0]-a[0])>0?i++:i--)}}return i!==0}function pG(t,e,i){for(const r of e){const s=r.length;for(let n=1;n<s;n++){const a=r[n-1],o=r[n];let l=(o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]);if(l===0)continue;l=Math.sqrt(l);const u=((o[0]-a[0])*(t[1]-a[1])-(o[1]-a[1])*(t[0]-a[0]))/l;if(Math.abs(u)<i){const d=((o[0]-a[0])*(t[0]-a[0])+(o[1]-a[1])*(t[1]-a[1]))/l;if(d>-i&&d<l+i)return!0}}}return!1}function lVe(t,e){const i=e[0]-t[0],r=e[1]-t[1];return 180/Math.PI*Math.atan2(r,i)}const Nu=t=>t?{spatialReference:t.spatialReference,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:null,Soe=(t,e,i)=>{switch(t){case"ExtraLeading":return 1+e/i;case"Multiple":return e;case"Exact":return e/i}};function xoe(t,e=1){var S;const i=one(t),r=ane(t.fontStyleName),s=t.fontFamilyName??_O,{weight:n,style:a}=r,o=e*(t.height||5),l=qke(t.horizontalAlignment),u=Bke(t.verticalAlignment),d=ww(t),h=ww(t.haloSymbol),p=h!=null?e*(t.haloSize??0):0,m=O8(t.symbol),g=e*(F8(t.symbol)||0),b=((S=t.callout)==null?void 0:S.type)==="CIMBackgroundCallout"?t.callout.backgroundSymbol:null,v=ww(b),w=F8(b),_=O8(b);return{color:d,size:o,horizontalAlignment:l,verticalAlignment:u,font:{family:s,style:Vke(a),weight:jke(n),decoration:i},outline:{size:g||0,color:m},halo:{size:p||0,color:h,style:a},backgroundColor:v,borderLine:w!=null&&_!=null?{size:w,color:_}:null,pixelRatio:1,premultiplyColors:!0}}const cVe=1e-4;function mG(t){let e,i,r,s,n,a=t[0],o=1;for(;o<t.length;)e=t[o][0]-a[0],i=t[o][1]-a[1],s=e!==0?i/e:Math.PI/2,r!==void 0&&Math.abs(s-r)<=cVe?(t.splice(o-1,1),a=n):(n=a,a=t[o],o++),r=s}const i9=Number.POSITIVE_INFINITY,CO=Math.PI,Sct=2*CO,uVe=128/CO,dVe=256/360,xct=CO/180,fVe=1/Math.LN2;function $oe(t,e){return(t%=e)>=0?t:t+e}function $ct(t){return $oe(t*uVe,256)}function Tct(t){return $oe(t*dVe,256)}function Ict(t){return Math.log(t)*fVe}function Ect(t,e,i){return t*(1-i)+e*i}const hVe=8,pVe=14,mVe=16;function Mct(t){return hVe+Math.max((t-pVe)*mVe,0)}function Cct(t,e,i){let r,s,n,a=0;for(const o of i){r=o.length;for(let l=1;l<r;++l)s=o[l-1],n=o[l],s.y>e!=n.y>e&&((n.x-s.x)*(e-s.y)-(n.y-s.y)*(t-s.x)>0?a++:a--)}return a!==0}function kct(t,e,i,r){let s,n,a,o;const l=r*r;for(const u of i){const d=u.length;if(!(d<2)){s=u[0].x,n=u[0].y;for(let h=1;h<d;++h){if(a=u[h].x,o=u[h].y,sye(t,e,s,n,a,o)<l)return!0;s=a,n=o}}}return!1}function Act(t,e,i,r,s,n,a){const o=Math.max(r,Math.min(e,n))-e,l=Math.max(s,Math.min(i,a))-i;return o*o+l*l<=t*t}function Pct(t,e){if(e===0||Number.isNaN(e))return t;const i=[],r=new st(0,0),s=new st(0,0),n=new st(0,0);for(let a=0;a<t.length;a++){const o=t[a],l=[];for(let u=0;u<o.length;u++){const d=o[u-1],h=o[u],p=o[u+1];u===0?r.setCoords(0,0):r.assignSub(h,d).normalize().rightPerpendicular(),u===o.length-1?s.setCoords(0,0):s.assignSub(p,h).normalize().rightPerpendicular(),n.assignAdd(r,s).normalize();const m=n.x*s.x+n.y*s.y;m!==0&&n.scale(1/m),l.push(st.add(h,n.scale(e)))}i.push(l)}return i}function Lct(t,e,i,r){const s=new st(t[0],t[1]);if(s.scale(r),e==="viewport"){const n=-i*(Math.PI/180),a=Math.cos(n),o=Math.sin(n);s.rotate(a,o)}return s}const Toe=Math.PI,yVe=Toe/2,yG=Math.PI/180,aT=96/72,gVe=1.4142135623730951,gG=2,bG=4,Y8=()=>W.getLogger("esri.symbols.cim.CIMSymbolHelper");function Rct(t){let e;switch(t.type){case"cim":return t.data;case"web-style":return t;case"simple-marker":{const i=za.fromSimpleMarker(t);if(!i)throw new Error("InternalError: Cannot convert symbol to CIM");e=i;break}case"picture-marker":e=za.fromPictureMarker(t);break;case"simple-line":e=za.fromSimpleLineSymbol(t);break;case"simple-fill":e=za.fromSimpleFillSymbol(t);break;case"picture-fill":e=za.fromPictureFillSymbol(t);break;case"text":e=za.fromTextSymbol(t)}return{type:"CIMSymbolReference",symbol:e}}function q6(t,e,i){switch(e.type){case"CIMSymbolReference":return q6(t,e.symbol,i);case"CIMPointSymbol":i==null&&(i={x:0,y:0}),t.drawSymbol(e,i);break;case"CIMLineSymbol":i==null&&(i={paths:[[[0,0],[10,0]]]}),t.drawSymbol(e,i);break;case"CIMPolygonSymbol":i==null&&(i={rings:[[[0,0],[0,10],[10,10],[10,0],[0,0]]]}),t.drawSymbol(e,i);break;case"CIMTextSymbol":{const r={x:0,y:0};t.drawSymbol(e,r);break}case"CIMVectorMarker":{const r=new E1;t.drawMarker(e,r);break}}return t.envelope()}function bVe(t){if(!t)return 0;switch(t.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAtExtremities":case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementAtRatioPositions":case"CIMMarkerPlacementOnLine":case"CIMMarkerPlacementOnVertices":return Math.abs(t.offset);default:return 0}}function vVe(t){if(!t)return 0;switch(t.type){case"CIMGeometricEffectArrow":return Math.abs(.5*t.width);case"CIMGeometricEffectBuffer":return Math.abs(t.size);case"CIMGeometricEffectControlMeasureLine":return 500;case"CIMGeometricEffectExtension":case"CIMGeometricEffectRadial":return Math.abs(t.length);case"CIMGeometricEffectJog":return Math.abs(.5*t.length);case"CIMGeometricEffectMove":return Math.max(Math.abs(Ne(t.offsetX)),Math.abs(Ne(t.offsetY)));case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":return Math.abs(t.offset);case"CIMGeometricEffectRegularPolygon":return Math.abs(t.radius);case"CIMGeometricEffectRotate":case"CIMGeometricEffectScale":default:return 0;case"CIMGeometricEffectTaperedPolygon":return .5*Math.max(Math.abs(t.fromWidth),Math.abs(t.toWidth));case"CIMGeometricEffectWave":return Math.abs(t.amplitude);case"CIMGeometricEffectDonut":return Math.abs(t.width)}}function vG(t){if(!t)return 0;let e=0;for(const i of t)e+=vVe(i);return e}let Oct=class{static getSymbolInflateSize(e,i,r,s,n){return e||(e=[0,0,0,0]),i?this._getInflateSize(e,i,r,s,n):e}static safeSize(e){const i=Math.max(Math.abs(e[0]),Math.abs(e[2])),r=Math.max(Math.abs(e[1]),Math.abs(e[3]));return Math.sqrt(i*i+r*r)}static _vectorMarkerBounds(e,i,r,s){let n=!0;const a=ei();if(i!=null&&i.markerGraphics)for(const o of i.markerGraphics){const l=[0,0,0,0];o.geometry&&(pL(a,o.geometry),l[0]=0,l[1]=0,l[2]=0,l[3]=0,this.getSymbolInflateSize(l,o.symbol,r,0,s),a[0]+=l[0],a[1]+=l[1],a[2]+=l[2],a[3]+=l[3],n?(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],n=!1):(e[0]=Math.min(e[0],a[0]),e[1]=Math.min(e[1],a[1]),e[2]=Math.max(e[2],a[2]),e[3]=Math.max(e[3],a[3])))}return e}static _getInflateSize(e,i,r,s,n){if(TVe(i)){const a=this._getLayersInflateSize(e,i.symbolLayers,r,s,n),o=vG(i.effects);return o>0&&(a[0]-=o,a[1]-=o,a[2]+=o,a[3]+=o),a}return this._getTextInflatedSize(e,i,n)}static _getLayersInflateSize(e,i,r,s,n){let a=!0;if(!i)return e;for(const o of i){if(!o)continue;let l=[0,0,0,0];switch(o.type){case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const d=o;let h=d.width;h!=null&&(d.capStyle===Sn.Square||d.joinStyle===Ha.Miter?h/=gVe:h/=2,l[0]=-h,l[1]=-h,l[2]=h,l[3]=h);break}case"CIMCharacterMarker":case"CIMVectorMarker":case"CIMPictureMarker":{const d=o;if(o.type==="CIMVectorMarker"){const b=o;if(l=this._vectorMarkerBounds(l,b,r,n),b.frame){const v=(b.frame.xmin+b.frame.xmax)/2,w=(b.frame.ymin+b.frame.ymax)/2;if(l[0]-=v,l[1]-=w,l[2]-=v,l[3]-=w,b.size!=null){const _=b.size/(b.frame.ymax-b.frame.ymin);l[0]*=_,l[1]*=_,l[2]*=_,l[3]*=_}}}else if(o.type==="CIMPictureMarker"){const b=o,v=r.getResource(b.url);let w=1;if(v!=null&&v.height&&(w=v.width/v.height),d.size!=null){const _=d.size/2,S=d.size*w*b.scaleX/2;l=[-S,-_,S,_]}}else if(d.size!=null){const b=d.size/2;l=[-b,-b,b,b]}if(d.anchorPoint){let b,v;d.anchorPointUnits==="Absolute"?(b=d.anchorPoint.x,v=d.anchorPoint.y):(b=d.anchorPoint.x*(l[2]-l[0]),v=d.anchorPoint.y*(l[3]-l[1]));const w=1.25*Math.sqrt(b*b+v*v);l[0]-=w,l[1]-=w,l[2]+=w,l[3]+=w}let h=Ne(d.rotation);if(d.rotateClockwise&&(h=-h),s&&(h-=s),h){const b=yG*h,v=Math.cos(b),w=Math.sin(b),_=ei([i9,i9,-i9,-i9]);Av(_,[l[0]*v-l[1]*w,l[0]*w+l[1]*v]),Av(_,[l[0]*v-l[3]*w,l[0]*w+l[3]*v]),Av(_,[l[2]*v-l[1]*w,l[2]*w+l[1]*v]),Av(_,[l[2]*v-l[3]*w,l[2]*w+l[3]*v]),l=_}let p=Ne(d.offsetX),m=Ne(d.offsetY);if(s){const b=yG*s,v=Math.cos(b),w=Math.sin(b),_=p*w+m*v;p=p*v-m*w,m=_}l[0]+=p,l[1]+=m,l[2]+=p,l[3]+=m;const g=bVe(d.markerPlacement);g>0&&(l[0]-=g,l[1]-=g,l[2]+=g,l[3]+=g);break}}const u=vG(o.effects);u>0&&(l[0]-=u,l[1]-=u,l[2]+=u,l[3]+=u),a?(e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[3],a=!1):(e[0]=Math.min(e[0],l[0]),e[1]=Math.min(e[1],l[1]),e[2]=Math.max(e[2],l[2]),e[3]=Math.max(e[3],l[3]))}return e}static _getTextInflatedSize(e,i,r){var p;const s=boe(i.height??Vi.CIMTextSymbol.height);if(e[0]=-s/2,e[1]=-s/2,e[2]=s/2,e[3]=s/2,!r)return e;const n=r.get(i);if(!n||!n.glyphMosaicItems.glyphs.length)return e;const{lineGapType:a,lineGap:o}=i,l=a?Soe(a,o??0,s):0,u=((p=i.callout)==null?void 0:p.type)==="CIMBackgroundCallout",d=goe(n.glyphMosaicItems,{scale:s/Aie,angle:Ne(i.angle),xOffset:Ne(i.offsetX),yOffset:Ne(i.offsetY),horizontalAlignment:i.horizontalAlignment,verticalAlignment:i.verticalAlignment,maxLineWidth:voe(i.lineWidth),lineHeight:kie*Math.max(.25,Math.min(l||1,4)),decoration:i.font.decoration||"none",useCIMAngleBehavior:!0,hasBackground:u}).boundsT,h=Math.sqrt(d.width*d.width+d.height*d.height);return e[0]-=d.x+h,e[1]-=d.y-h,e[2]+=d.x+h,e[3]+=-d.y+h,e}},za=class B6{static getEnvelope(e,i,r){if(!e)return null;const s=new nVe(r);if(Array.isArray(e)){let n;for(const a of e)n?n.union(q6(s,a,i)):n=q6(s,a,i);return n}return q6(s,e,i)}static getTextureInfo(e,i,r,s,n){const a=s??this.getEnvelope(e,null,i);if(!a)return[0,0,0,0,1];const o=Math.max(a.width,a.height)*aT;let l=n!=null?Math.max(n/o,1):1;l*=aT,a.x*=l,a.y*=l,a.width*=l,a.height*=l,a.width=Math.max(Math.ceil(a.x+a.width)-Math.floor(a.x),1)-1,a.height=Math.max(Math.ceil(a.y+a.height)-Math.floor(a.y),1)-1;let u=a.x+.5*a.width,d=a.y+.5*a.height;return u+=a.x-Math.floor(a.x),d+=a.y-Math.floor(a.y),s||(a.width+=r,a.height+=r,u+=r/2,d+=r/2),[a.width,a.height,u,d,l]}static getTextureAnchor(e,i,r){const[s,n,a,o,l]=this.getTextureInfo(e,i,gG,null,r);return[-a/s,-o/n,n/l*aT]}static rasterize(e,i,r,s,n=!0,a){const[o,l,u,d,h]=this.getTextureInfo(i,s,gG,r,a);e.width=o,e.height=l;const p=e.getContext("2d",{willReadFrequently:!0}),m=Or.createScale(h,-h);m.translate(.5*o-u,.5*l+d);const g=new _oe(p,s,m);switch(i.type){case"CIMPointSymbol":{const w={type:"point",x:0,y:0};g.drawSymbol(i,w);break}case"CIMVectorMarker":{const w=new E1;g.drawMarker(i,w);break}}const b=p.getImageData(0,0,e.width,e.height),v=new Uint8Array(b.data);if(n){let w;for(let _=0;_<v.length;_+=4)w=v[_+3]/255,v[_]=v[_]*w,v[_+1]=v[_+1]*w,v[_+2]=v[_+2]*w}return[v,e.width,e.height,-u/o,-d/l]}static fromTextSymbol(e){const{text:i}=e;return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:B6.createCIMTextSymbolfromTextSymbol(e),textString:i}],scaleSymbolsProportionally:!0,respectFrame:!0}],scaleX:1,angleAlignment:"Display"}}static fromPictureFillSymbol(e){const{height:i,outline:r,width:s,xoffset:n,xscale:a,yoffset:o,yscale:l}=e,u=[],d={type:"CIMPolygonSymbol",symbolLayers:u};if(r){const b=wG(r);b&&u.push(b)}let h=e.url;e.type==="esriPFS"&&e.imageData&&(h=e.imageData);const p="angle"in e?e.angle??0:0,m=(s??0)*(a||1),g=(i??0)*(l||1);return u.push({type:"CIMPictureFill",invertBackfaceTexture:!1,scaleX:1,textureFilter:fg.Picture,tintColor:null,url:h,height:g,width:m,offsetX:Ne(n),offsetY:Ne(o),rotation:Ne(-p),colorSubstitutions:null}),d}static fromSimpleFillSymbol(e){const{color:i,style:r,outline:s}=e,n=[],a={type:"CIMPolygonSymbol",symbolLayers:n};if(s){const o=wG(s);o&&n.push(o)}if(r&&r!=="solid"&&r!=="none"&&r!=="esriSFSSolid"&&r!=="esriSFSNull"){const o={type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",color:Jn(i),capStyle:Sn.Butt,joinStyle:Ha.Miter,width:.75}]};let l=0;const u=lt(IVe(r)?8:10);switch(r){case"vertical":case"esriSFSVertical":l=90;break;case"forward-diagonal":case"esriSFSForwardDiagonal":case"diagonal-cross":case"esriSFSDiagonalCross":l=-45;break;case"backward-diagonal":case"esriSFSBackwardDiagonal":l=45;break;case"cross":case"esriSFSCross":l=0}n.push({type:"CIMHatchFill",lineSymbol:o,offsetX:0,offsetY:0,rotation:l,separation:u}),r==="cross"||r==="esriSFSCross"?n.push({type:"CIMHatchFill",lineSymbol:z(o),offsetX:0,offsetY:0,rotation:90,separation:u}):r!=="diagonal-cross"&&r!=="esriSFSDiagonalCross"||n.push({type:"CIMHatchFill",lineSymbol:z(o),offsetX:0,offsetY:0,rotation:45,separation:u})}else!r||r!=="solid"&&r!=="esriSFSSolid"||n.push({type:"CIMSolidFill",enable:!0,color:Jn(i)});return a}static fromSimpleLineSymbol(e){const{cap:i,color:r,join:s,marker:n,miterLimit:a,style:o,width:l}=e;let u=null;o!=="solid"&&o!=="none"&&o!=="esriSLSSolid"&&o!=="esriSLSNull"&&(u=[{type:"CIMGeometricEffectDashes",dashTemplate:IA(o,i),lineDashEnding:"NoConstraint",scaleDash:!0,offsetAlongLine:null}]);const d=[];if(n){let h;switch(n.placement){case"begin-end":h=$c.Both;break;case"begin":h=$c.JustBegin;break;case"end":h=$c.JustEnd;break;default:h=$c.None}const p=B6.fromSimpleMarker(n,l,r).symbolLayers[0];p.markerPlacement={type:"CIMMarkerPlacementAtExtremities",placePerPart:!1,angleToLine:!0,offset:0,extremityPlacement:h,offsetAlongLine:0},d.push(p)}return d.push({type:"CIMSolidStroke",color:o!=="none"&&o!=="esriSLSNull"?Jn(r):[0,0,0,0],capStyle:Eoe(i),joinStyle:Moe(s),miterLimit:a,width:l,effects:u}),{type:"CIMLineSymbol",symbolLayers:d}}static fromPictureMarker(e){const{angle:i,height:r,width:s,xoffset:n,yoffset:a}=e;let o=e.url;return e.type==="esriPMS"&&e.imageData&&(o=e.imageData),{type:"CIMPointSymbol",symbolLayers:[{type:"CIMPictureMarker",invertBackfaceTexture:!1,scaleX:1,textureFilter:fg.Picture,tintColor:null,url:o,size:r,width:s,offsetX:Ne(n),offsetY:Ne(a),rotation:Ne(-i)}]}}static createCIMTextSymbolfromTextSymbol(e){const{angle:i,color:r,font:s,haloColor:n,haloSize:a,horizontalAlignment:o,kerning:l,lineWidth:u,text:d,verticalAlignment:h,xoffset:p,yoffset:m,backgroundColor:g,borderLineColor:b,borderLineSize:v}=e;let w,_,S,T,C,A;s&&(w=s.family,_=s.style,S=s.weight,T=s.size,C=s.decoration);let O=!1;return d&&(O=WNe(d)[1]),(g||v)&&(A={type:"CIMBackgroundCallout",margin:null,backgroundSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",color:Jn(g)},{type:"CIMSolidStroke",color:Jn(b),width:v}]},accentBarSymbol:null,gap:null,leaderLineSymbol:null,lineStyle:null}),{type:"CIMTextSymbol",angle:i,blockProgression:jk.BTT,depth3D:1,extrapolateBaselines:!0,fontEffects:Fk.Normal,fontEncoding:Nk.Unicode,fontFamilyName:w||"Arial",fontStyleName:SVe(_,S),fontType:Dk.Unspecified,haloSize:a,height:T,hinting:Bk.Default,horizontalAlignment:wVe(o??"center"),kerning:l,letterWidth:100,ligatures:!0,lineGapType:"Multiple",lineWidth:u,offsetX:Ne(p),offsetY:Ne(m),strikethrough:C==="line-through",underline:C==="underline",symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:Jn(r)}]},haloSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:Jn(n)}]},shadowColor:[0,0,0,255],shadowOffsetX:1,shadowOffsetY:1,textCase:"Normal",textDirection:O?R8.RTL:R8.LTR,verticalAlignment:_Ve(h??"baseline"),verticalGlyphOrientation:Gk.Right,wordSpacing:100,billboardMode3D:qk.FaceNearPlane,callout:A}}static createPictureMarkerRasterizationParam(e){var l,u;const{angle:i,height:r,width:s,xoffset:n,yoffset:a}=e,o=e.url??((l=e.source)==null?void 0:l.url)??((u=e.source)==null?void 0:u.imageData);return o?{type:"sprite-rasterization-param",overrides:[],resource:{type:"CIMPictureMarker",invertBackfaceTexture:!1,scaleX:1,textureFilter:fg.Picture,tintColor:null,url:o,size:r,width:s,offsetX:Ne(n),offsetY:Ne(a),rotation:Ne(-i)}}:null}static createPictureFillRasterizationParam(e){const{width:i,height:r,xoffset:s,yoffset:n,url:a}=e;return a?{type:"sprite-rasterization-param",overrides:[],resource:{type:"CIMPictureFill",scaleX:1,textureFilter:fg.Picture,tintColor:null,url:a,width:i,height:r,offsetX:Ne(s),offsetY:Ne(n),rotation:0}}:null}static fromSimpleMarker(e,i,r){const{style:s}=e,n=e.color??r;if(s==="path"||s==="esriSMSPath"){const h=[];if("outline"in e&&e.outline){const g=e.outline;h.push({type:"CIMSolidStroke",enable:!0,width:g.width,color:Jn(g.color),path:e.path})}h.push({type:"CIMSolidFill",enable:!0,color:Jn(n),path:e.path});const[p,m]=_v("square");return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:-Ne(e.angle),size:Ne(e.size||6),offsetX:Ne(e.xoffset),offsetY:Ne(e.yoffset),scaleSymbolsProportionally:!1,frame:p,markerGraphics:[{type:"CIMMarkerGraphic",geometry:m,symbol:{type:"CIMPolygonSymbol",symbolLayers:h}}]}]}}const a=[];let o,l,u=e.size;if("outline"in e&&e.outline&&e.outline.style!=="none"&&e.outline.style!=="esriSLSNull"){const h=e.outline,p=h.style!=="solid"&&h.style!=="esriSLSSolid";[o,l]=p?_v(s,e.size):_v(s);const m=h.width??MS.width;if(p){const v=m/e.size,w=(o.xmax-o.xmin)*v/2,_=(o.ymax-o.ymin)*v/2;o.xmin-=w,o.xmax+=w,o.ymin-=_,o.ymax+=_,u&&(u+=m)}const g=e.style!=="cross"&&e.style!=="x"||(e==null?void 0:e.outline.style)==="dot"||(e==null?void 0:e.outline.style)==="short-dot"?Gr.HalfGap:Gr.FullPattern,b=p?[{type:"CIMGeometricEffectAddControlPoints"},{type:"CIMGeometricEffectDashes",dashTemplate:IA(h.style,null).map(v=>h.width&&h.width>0?v*h.width:v),lineDashEnding:g,controlPointEnding:Gr.FullPattern}]:void 0;a.push({type:"CIMSolidStroke",capStyle:p?Sn.Round:Sn.Butt,enable:!0,width:m,color:Jn(h.color),effects:b})}else!i||e.type!=="line-marker"||e.style!=="cross"&&e.style!=="x"?[o,l]=_v(s):([o,l]=_v(s),a.push({type:"CIMSolidStroke",enable:!0,width:i,color:Jn(n)}));a.push({type:"CIMSolidFill",enable:!0,color:Jn(n)});const d={type:"CIMPolygonSymbol",symbolLayers:a};return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:Ne(-e.angle),size:Ne(u||6*i),offsetX:Ne(e.xoffset),offsetY:Ne(e.yoffset),scaleSymbolsProportionally:!1,frame:o,markerGraphics:[{type:"CIMMarkerGraphic",geometry:l,symbol:d}]}]}}static fromCIMHatchFill(e,i){var l;const r=i*(e.separation??Vi.CIMHatchFill.separation),s=r/2,n=z(e.lineSymbol);(l=n.symbolLayers)==null||l.forEach(u=>{var d;switch(u.type){case"CIMSolidStroke":u.width!=null&&(u.width*=i),(d=u.effects)==null||d.forEach(h=>{if(h.type==="CIMGeometricEffectDashes"){const p=h.dashTemplate;h.dashTemplate=p==null?void 0:p.map(m=>m*i)}});break;case"CIMVectorMarker":{u.size!=null&&(u.size*=i);const h=u.markerPlacement;h!=null&&"placementTemplate"in h&&(h.placementTemplate=h.placementTemplate.map(p=>p*i));break}}});let a=this._getLineSymbolPeriod(n)||bG;for(;a<bG;)a*=2;const o=a/2;return{type:"CIMVectorMarker",frame:{xmin:-o,xmax:o,ymin:-s,ymax:s},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-o,0],[o,0]]]},symbol:n}],size:r}}static fetchResources(e,i,r,s=null){return e&&i&&Ioe(e,n=>{EVe(n,i,r),"url"in n&&n.url&&r.push(i.fetchResource(n.url,{signal:s}))}),r}static fetchFonts(e,i,r){if(e&&i){if("symbolLayers"in e&&e.symbolLayers){for(const s of e.symbolLayers)if(s.type==="CIMVectorMarker"&&s.markerGraphics)for(const n of s.markerGraphics)n!=null&&n.symbol&&B6.fetchFonts(n.symbol,i,r)}else if(e.type==="CIMTextSymbol"){const{fontFamilyName:s,fontStyleName:n}=e;if(!s||s.toLowerCase()==="calcitewebcoreicons")return;const{style:a,weight:o}=ane(n),l=one(e),u=new Kn({family:s,style:a,weight:o,decoration:l});r.push(i.loadFont(u).catch(()=>{Y8().error(`Unsupported font ${s} in CIM symbol`)}))}}}static _getLineSymbolPeriod(e){if(e){const i=this._getEffectsRepeat(e.effects);if(i)return i;if(e.symbolLayers){for(const r of e.symbolLayers)if(r){const s=this._getEffectsRepeat(r.effects);if(s)return s;switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const n=this._getPlacementRepeat(r.markerPlacement);if(n)return n}}}}}return 0}static _getEffectsRepeat(e){if(e){for(const i of e)if(i)switch(i.type){case"CIMGeometricEffectDashes":{const r=i.dashTemplate;if(r&&r.length){let s=0;for(const n of r)s+=n;return 1&r.length&&(s*=2),s}break}case"CIMGeometricEffectWave":return i.period;default:Y8().error(`unsupported geometric effect type ${i.type}`)}}return 0}static _getPlacementRepeat(e){if(e)switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineVariableSize":{const i=e.placementTemplate;if(i&&i.length){let r=0;for(const s of i)r+=+s;return 1&i.length&&(r*=2),r}break}}return 0}static fromCIMInsidePolygon(e){const i=e.markerPlacement,r={...e};r.markerPlacement=null,r.anchorPoint=null;const s=Math.abs(i.stepX),n=Math.abs(i.stepY),a=(i.randomness??100)/100;let o,l,u,d;if(i.gridType==="Random"){const h=lt(Lxe),p=Math.max(Math.floor(h/s),1),m=Math.max(Math.floor(h/n),1);o=p*s/2,l=m*n/2,u=2*l;const g=new bP(i.seed),b=a*s/1.5,v=a*n/1.5;d=[];for(let w=0;w<p;w++)for(let _=0;_<m;_++){const S=w*s-o+b*(.5-g.getFloat()),T=_*n-l+v*(.5-g.getFloat());d.push({x:S,y:T}),w===0&&d.push({x:S+2*o,y:T}),_===0&&d.push({x:S,y:T+2*l})}}else i.shiftOddRows===!0?(o=s/2,l=n,u=2*n,d=[{x:-o,y:0},{x:o,y:0},{x:0,y:l},{x:0,y:-l}]):(o=s/2,l=n/2,u=n,d=[{x:-s,y:0},{x:0,y:-n},{x:-s,y:-n},{x:0,y:0},{x:s,y:0},{x:0,y:n},{x:s,y:n},{x:-s,y:n},{x:s,y:-n}]);return{type:"CIMVectorMarker",frame:{xmin:-o,xmax:o,ymin:-l,ymax:l},markerGraphics:d.map(h=>({type:"CIMMarkerGraphic",geometry:h,symbol:{type:"CIMPointSymbol",symbolLayers:[r]}})),size:u}}};function Ioe(t,e){if(t)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const i=t.symbolLayers;if(!i)return;for(const r of i)if(e(r),r.type==="CIMVectorMarker"){const s=r.markerGraphics;if(!s)continue;for(const n of s)if(n){const a=n.symbol;a&&Ioe(a,e)}}break}}}const Eoe=t=>{if(!t)return Sn.Butt;switch(t){case"butt":return Sn.Butt;case"square":return Sn.Square;case"round":return Sn.Round}},Moe=t=>{if(!t)return Ha.Miter;switch(t){case"miter":return Ha.Miter;case"round":return Ha.Round;case"bevel":return Ha.Bevel}},wVe=t=>{if(t==null)return"Center";switch(t){case"left":return"Left";case"right":return"Right";case"center":return"Center"}},_Ve=t=>{if(t==null)return"Center";switch(t){case"baseline":return"Baseline";case"top":return"Top";case"middle":return"Center";case"bottom":return"Bottom"}},Jn=t=>{if(!t)return[0,0,0,0];const{r:e,g:i,b:r,a:s}=t;return[e,i,r,255*s]},SVe=(t,e)=>{const i=xVe(e),r=$Ve(t);return i&&r?`${i}-${r}`:`${i}${r}`},xVe=t=>{if(!t)return"";switch(t.toLowerCase()){case"bold":case"bolder":return"bold"}return""},$Ve=t=>{if(!t)return"";switch(t.toLowerCase()){case"italic":case"oblique":return"italic"}return""},IA=(t,e)=>{const i=q("safari")?.001:0,r=e==="butt";switch(t){case"dash":case"esriSLSDash":return r?[4,3]:[3,4];case"dash-dot":case"esriSLSDashDot":return r?[4,3,1,3]:[3,4,i,4];case"dot":case"esriSLSDot":return r?[1,3]:[i,4];case"long-dash":case"esriSLSLongDash":return r?[8,3]:[7,4];case"long-dash-dot":case"esriSLSLongDashDot":return r?[8,3,1,3]:[7,4,i,4];case"long-dash-dot-dot":case"esriSLSDashDotDot":return r?[8,3,1,3,1,3]:[7,4,i,4,i,4];case"short-dash":case"esriSLSShortDash":return r?[4,1]:[3,2];case"short-dash-dot":case"esriSLSShortDashDot":return r?[4,1,1,1]:[3,2,i,2];case"short-dash-dot-dot":case"esriSLSShortDashDotDot":return r?[4,1,1,1,1,1]:[3,2,i,2,i,2];case"short-dot":case"esriSLSShortDot":return r?[1,1]:[i,2];case"solid":case"esriSLSSolid":case"none":return Y8().error("Unexpected: style does not require rasterization"),[0,0];default:return Y8().error(`Tried to rasterize SLS, but found an unexpected style: ${t}!`),[0,0]}};function TVe(t){return t.symbolLayers!==void 0}const _v=(t,e=100)=>{const i=e/2;let r,s;const n=t;if(n==="circle"||n==="esriSMSCircle"){let o=Math.acos(1-.25/i),l=Math.ceil(Toe/o/4);l===0&&(l=1),o=yVe/l,l*=4;const u=[];u.push([i,0]);for(let d=1;d<l;d++)u.push([i*Math.cos(d*o),-i*Math.sin(d*o)]);u.push([i,0]),r={rings:[u]},s={xmin:-i,ymin:-i,xmax:i,ymax:i}}else if(n==="cross"||n==="esriSMSCross")r={paths:[[[0,i],[0,-i]],[[i,0],[-i,0]]]},s={xmin:-i,ymin:-i,xmax:i,ymax:i};else if(n==="diamond"||n==="esriSMSDiamond")r={rings:[[[-i,0],[0,i],[i,0],[0,-i],[-i,0]]]},s={xmin:-i,ymin:-i,xmax:i,ymax:i};else if(n==="square"||n==="esriSMSSquare")r={rings:[[[-i,-i],[-i,i],[i,i],[i,-i],[-i,-i]]]},s={xmin:-i,ymin:-i,xmax:i,ymax:i};else if(n==="x"||n==="esriSMSX")r={paths:[[[i,i],[-i,-i]],[[i,-i],[-i,i]]]},s={xmin:-i,ymin:-i,xmax:i,ymax:i};else if(n==="triangle"||n==="esriSMSTriangle"){const a=e*.5773502691896257,o=-a,l=2/3*e,u=l-e;r={rings:[[[o,u],[0,l],[a,u],[o,u]]]},s={xmin:o,ymin:u,xmax:a,ymax:l}}else n==="arrow"&&(r={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},s={xmin:-i,ymin:-i,xmax:i,ymax:i});return[s,r]},IVe=t=>t==="vertical"||t==="horizontal"||t==="cross"||t==="esriSFSCross"||t==="esriSFSVertical"||t==="esriSFSHorizontal";function EVe(t,e,i){if(!(!t.effects||e.geometryEngine!=null)){if(e.geometryEnginePromise)return void i.push(e.geometryEnginePromise);Dke(t.effects)&&(e.geometryEnginePromise=zke(),i.push(e.geometryEnginePromise),e.geometryEnginePromise.then(r=>e.geometryEngine=r))}}function wG(t){if(!t)return null;let e=null;const{cap:i,color:r,join:s,miterLimit:n,style:a,width:o}=t;return a!=="solid"&&a!=="none"&&a!=="esriSLSSolid"&&a!=="esriSLSNull"&&(e=[{type:"CIMGeometricEffectDashes",dashTemplate:IA(a,i),lineDashEnding:"NoConstraint",scaleDash:!0,offsetAlongLine:null}]),{type:"CIMSolidStroke",color:a!=="esriSLSNull"&&a!=="none"?Jn(r):[0,0,0,0],capStyle:Eoe(i),joinStyle:Moe(s),miterLimit:n,width:o,effects:e}}let MVe=class{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}async fetchResource(e,i){const r=this._resourceMap.get(e);if(r)return{width:r.width,height:r.height};let s=this._inFlightResourceMap.get(e);return s?s.then(n=>({width:n.width,height:n.height})):(s=p$e(e,i),this._inFlightResourceMap.set(e,s),s.then(n=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,n),{width:n.width,height:n.height}),()=>({width:0,height:0})))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(e){return JNe(e)}};function CVe(t){return t?{originPosition:t.originPosition==="upper-left"?"upperLeft":t.originPosition==="lower-left"?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance,1,1]:[1,1,1,1],translate:t.extent!=null?[t.extent.xmin,t.extent.ymax,t.extent.zmin??0,t.extent.mmin??0]:[0,0,0,0]}:null}function kVe(t){return t.originPosition==="lowerLeft"&&t.scale.length===4&&t.translate.length===4}function h0(t){if(kVe(t))return t;const{originPosition:e,scale:i,translate:r}=t,s=i[0]??1,n=i[1]??1;return{originPosition:"lowerLeft",scale:[s,e==="lowerLeft"?n:-n,i[2]??1,i[3]??1],translate:[r[0]??0,r[1]??0,r[2]??0,r[3]??0]}}function md({scale:t,translate:e},i){return Math.round((i-e[0])/t[0])}function yd({scale:t,translate:e},i){return Math.round((i-e[1])/t[1])}function f_({scale:t,translate:e},i){return Math.round(((i??0)-e[2])/t[2])}function h_({scale:t,translate:e},i){return i?Math.round((i-e[3])/t[3]):0}function Coe(t,e){return t&&e?RVe:t&&!e?PVe:!t&&e?LVe:AVe}const AVe=(t,e)=>{const i=[];if(!e.length)return null;const r=e[0];let s=md(t,r[0]),n=yd(t,r[1]);i.push([s,n]);for(let a=1;a<e.length;a++){const[o,l]=e[a],u=md(t,o),d=yd(t,l);u===s&&d===n||i.push([u-s,d-n]),s=u,n=d}return i},PVe=(t,e)=>{const i=[];if(!e.length)return null;const r=e[0];let s=md(t,r[0]),n=yd(t,r[1]),a=f_(t,r[2]);i.push([s,n,a]);for(let o=1;o<e.length;o++){const[l,u,d]=e[o],h=md(t,l),p=yd(t,u),m=f_(t,d);h===s&&p===n&&m===a||i.push([h-s,p-n,m]),s=h,n=p,a=m}return i},LVe=(t,e)=>{const i=[];if(!e.length)return null;const r=e[0];let s=md(t,r[0]),n=yd(t,r[1]),a=h_(t,r[2]);i.push([s,n,a]);for(let o=1;o<e.length;o++){const[l,u,d]=e[o],h=md(t,l),p=yd(t,u),m=h_(t,d);h===s&&p===n&&m===a||i.push([h-s,p-n,m]),s=h,n=p,a=m}return i},RVe=(t,e)=>{const i=[];if(!e.length)return null;const r=e[0];let s=md(t,r[0]),n=yd(t,r[1]),a=f_(t,r[2]),o=h_(t,r[3]);i.push([s,n,a,o]);for(let l=1;l<e.length;l++){const[u,d,h,p]=e[l],m=md(t,u),g=yd(t,d),b=f_(t,h),v=h_(t,p);m===s&&g===n&&b===a&&v===o||i.push([m-s,g-n,b,v]),s=m,n=g,a=b,o=v}return i};function OVe(t,e,i,r){const s=[],n=Coe(i,r);for(let a=0;a<e.length;a++){const o=n(t,e[a]);o&&o.length>=3&&s.push(o)}return s.length?s:null}function FVe(t,e,i,r){const s=[],n=Coe(i,r);for(let a=0;a<e.length;a++){const o=n(t,e[a]);o&&o.length>=2&&s.push(o)}return s.length?s:null}function S3({scale:t,translate:e},i){return i*t[0]+e[0]}function x3({scale:t,translate:e},i){return i*t[1]+e[1]}function p_({scale:t,translate:e},i){return(i??0)*t[2]+e[2]}function m_({scale:t,translate:e},i){return i?i*t[3]+e[3]:0}function kO(t,e){return t&&e?VVe:t&&!e?DVe:!t&&e?zVe:NVe}const NVe=(t,e)=>{const i=new Array(e.length);if(!e.length)return i;const r=e[0];let s=S3(t,r[0]),n=x3(t,r[1]);i[0]=[s,n];const{scale:a,originPosition:o}=t,l=a[0],u=o==="lowerLeft"?a[1]:-a[1];for(let d=1;d<e.length;d++){const[h,p]=e[d];s+=l*h,n+=u*p,i[d]=[s,n]}return i},DVe=(t,e)=>{const i=new Array(e.length);if(!e.length)return i;const r=e[0];let s=S3(t,r[0]),n=x3(t,r[1]);i[0]=[s,n,p_(t,r[2])];const{scale:a,originPosition:o}=t,l=a[0],u=o==="lowerLeft"?a[1]:-a[1];for(let d=1;d<e.length;d++){const[h,p,m]=e[d];s+=l*h,n+=u*p,i[d]=[s,n,p_(t,m)]}return i},zVe=(t,e)=>{const i=new Array(e.length);if(!e.length)return i;const r=e[0];let s=S3(t,r[0]),n=x3(t,r[1]);i[0]=[s,n,m_(t,r[2])];const{scale:a,originPosition:o}=t,l=a[0],u=o==="lowerLeft"?a[1]:-a[1];for(let d=1;d<e.length;d++){const[h,p,m]=e[d];s+=l*h,n+=u*p,i[d]=[s,n,m_(t,m)]}return i},VVe=(t,e)=>{const i=new Array(e.length);if(!e.length)return i;const r=e[0];let s=S3(t,r[0]),n=x3(t,r[1]);i[0]=[s,n,p_(t,r[2]),m_(t,r[3])];const{scale:a,originPosition:o}=t,l=a[0],u=o==="lowerLeft"?a[1]:-a[1];for(let d=1;d<e.length;d++){const[h,p,m,g]=e[d];s+=l*h,n+=u*p,i[d]=[s,n,p_(t,m),m_(t,g)]}return i};function koe(t,e,i){const r=new Array(i.length);for(let s=0;s<i.length;s++)r[s]=e(t,i[s]);return r}function jVe(t,e,i){const r=h0(t);return e.x=md(r,i.x),e.y=yd(r,i.y),i.z!=null&&(e.z=f_(r,i.z)),i.m!=null&&(e.m=h_(r,i.m)),e}function Dct(t,e,i){const r=OVe(h0(t),i.rings,i.hasZ,i.hasM);return r?(e.rings=r,e.hasZ=i.hasZ??!1,e.hasM=i.hasM??!1,e):null}function zct(t,e,i){const r=FVe(h0(t),i.paths,i.hasZ,i.hasM);return r?(e.paths=r,e.hasZ=i.hasZ??!1,e.hasM=i.hasM??!1,e):null}function qVe(t,e,i,r=(i==null?void 0:i.hasZ)??!1,s=(i==null?void 0:i.hasM)??!1){if(i!=null){const n=h0(t);e.points=kO(r,s)(n,i.points),e.hasZ=r,e.hasM=s}return e}function BVe(t,e,i,r=(i==null?void 0:i.z)!=null,s=(i==null?void 0:i.m)!=null){if(i==null)return e;const n=h0(t);return e.x=S3(n,i.x),e.y=x3(n,i.y),r&&(e.z=p_(n,i.z)),s&&(e.m=m_(n,i.m)),e}function UVe(t,e,i,r=(i==null?void 0:i.hasZ)??!1,s=(i==null?void 0:i.hasM)??!1){if(i!=null){const n=h0(t);e.rings=koe(n,kO(r,s),i.rings),e.hasZ=r,e.hasM=s}return e}function GVe(t,e,i,r=(i==null?void 0:i.hasZ)??!1,s=(i==null?void 0:i.hasM)??!1){if(i!=null){const n=h0(t);e.paths=koe(n,kO(r,s),i.paths),e.hasZ=r,e.hasM=s}return e}function Aoe(t,e,i,r,s,n){if(t==null)return null;const a=t.references("geometry")&&n?HVe(e,r,n):e,o=t.repurposeFeature(a,s);try{return t.evaluate(o,i)}catch(l){return W.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",l),null}}const oT=new Map;function HVe(t,e,i){const{transform:r,hasZ:s,hasM:n}=i;oT.has(e)||oT.set(e,WVe(e));const a=oT.get(e)(t.geometry,r,s,n);return{...t,geometry:a}}function WVe(t){const e={};switch(t){case"esriGeometryPoint":return(i,r,s,n)=>BVe(r,e,i,s,n);case"esriGeometryPolygon":return(i,r,s,n)=>UVe(r,e,i,s,n);case"esriGeometryPolyline":return(i,r,s,n)=>GVe(r,e,i,s,n);case"esriGeometryMultipoint":return(i,r,s,n)=>qVe(r,e,i,s,n);default:return W.getLogger("esri.views.2d.support.arcadeOnDemand").error(new P("mapview-arcade",`Unable to handle geometryType: ${t}`)),i=>i}}const Vct=Object.freeze(Object.defineProperty({__proto__:null,default:Aoe},Symbol.toStringTag,{value:"Module"})),ZVe=t=>{if(!t)return[0,0,0,0];const{r:e,g:i,b:r,a:s}=t;return[e,i,r,255*s]};var Rt;let AO=(Rt=class{static findApplicableOverrides(e,i,r){if(e&&i){if(e.primitiveName){let s=!1;for(const n of r)if(n.primitiveName===e.primitiveName){s=!0;break}if(!s)for(const n of i)n.primitiveName===e.primitiveName&&r.push(n)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const s of e.effects)Rt.findApplicableOverrides(s,i,r);if(e.symbolLayers)for(const s of e.symbolLayers)Rt.findApplicableOverrides(s,i,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const s of e.effects)Rt.findApplicableOverrides(s,i,r);if(e.markerPlacement&&Rt.findApplicableOverrides(e.markerPlacement,i,r),e.type==="CIMVectorMarker"){if(e.markerGraphics)for(const s of e.markerGraphics)Rt.findApplicableOverrides(s,i,r),Rt.findApplicableOverrides(s.symbol,i,r)}else e.type==="CIMCharacterMarker"?Rt.findApplicableOverrides(e.symbol,i,r):e.type==="CIMHatchFill"?Rt.findApplicableOverrides(e.lineSymbol,i,r):e.type==="CIMPictureMarker"&&Rt.findApplicableOverrides(e.animatedSymbolProperties,i,r)}}}static findEffectOverrides(e,i){if(!e)return null;if(e.type==="CIMGeometricEffectDashes"&&lne(e),!i||!e.primitiveName)return{type:"cim-effect-param",effect:e,overrides:[]};const r=YB(e),s=e.primitiveName,n=[];for(const a of i)a.primitiveName===s&&n.push(YB(a));return{type:"cim-effect-param",effect:r,overrides:Xke(n)}}static async resolveSymbolOverrides(e,i,r,s,n,a,o){if(!(e!=null&&e.symbol))return null;let{symbol:l,primitiveOverrides:u}=e;const d=!!u;if(!d&&!s)return l;l=z(l),u=z(u);let h=!0;if(i||(i={attributes:{}},h=!1),d){if(h||(u=u.filter(p=>{var m;return!((m=p.valueExpressionInfo)!=null&&m.expression.includes("$feature"))})),o||(u=u.filter(p=>{var m;return!((m=p.valueExpressionInfo)!=null&&m.expression.includes("$view"))})),u.length>0){const p=Uke(i.attributes),m={spatialReference:r,fields:p,geometryType:n};await Rt.createRenderExpressions(u,m),Rt.evaluateOverrides(u,i,n??"esriGeometryPoint",a,o,new n_(p))}Rt.applyOverrides(l,u)}return s&&Rt.applyDictionaryTextOverrides(l,i,s,null),l}static async createRenderExpressions(e,i){const r=[];for(const s of e){const n=s.valueExpressionInfo;if(!n||Rt._expressionToRenderExpression.has(n.expression))continue;const a=Mke(n.expression,i.spatialReference);r.push(a),a.then(o=>Rt._expressionToRenderExpression.set(n.expression,o))}r.length>0&&await Promise.all(r)}static evaluateOverrides(e,i,r,s,n,a){const o={$view:{scale:n==null?void 0:n.scale}};for(const l of e){l.value&&typeof l.value=="object"&&nae(l.value)&&(l.propertyName==="Color"||l.propertyName==="StrokeColor")&&(l.value=ZVe(l.value));const u=l.valueExpressionInfo;if(!u)continue;const d=Rt._expressionToRenderExpression.get(u.expression);d&&(l.value=Aoe(d,i,o,r,a,s))}}static applyDictionaryTextOverrides(e,i,r,s,n="Normal"){if(e!=null&&e.type)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const a=e.symbolLayers;if(!a)return;for(const o of a)o&&o.type==="CIMVectorMarker"&&Rt.applyDictionaryTextOverrides(o,i,r,s,e.type==="CIMTextSymbol"?e.textCase:n)}break;case"CIMVectorMarker":{const a=e.markerGraphics;if(!a)return;for(const o of a)o&&Rt.applyDictionaryTextOverrides(o,i,r,s)}break;case"CIMMarkerGraphic":{const a=e.textString;if(a&&a.includes("[")){const o=Oke(a,r);e.textString=Fke(i,o,s,n)}}}}static applyOverrides(e,i,r,s){if(e.primitiveName){for(const n of i)if(n.primitiveName===e.primitiveName){const a=b3(n.propertyName);if(s&&s.push({cim:e,nocapPropertyName:a,value:e[a]}),r){let o=!1;for(const l of r)l.primitiveName===e.primitiveName&&(o=!0);o||r.push(n)}n.value!=null&&(e[a]=n.value)}}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const n of e.effects)Rt.applyOverrides(n,i,r,s);if(e.symbolLayers)for(const n of e.symbolLayers)Rt.applyOverrides(n,i,r,s);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const n of e.effects)Rt.applyOverrides(n,i,r,s);if(e.type==="CIMVectorMarker"&&e.markerGraphics)for(const n of e.markerGraphics)Rt.applyOverrides(n,i,r,s),Rt.applyOverrides(n.symbol,i,r,s)}}static restoreOverrides(e){for(const i of e)i.cim[i.nocapPropertyName]=i.value}static buildOverrideKey(e){let i="";for(const r of e)r.value!==void 0&&(i+=`${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);return i}static toValue(e,i){if(e==="DashTemplate")return i.split(" ").map(r=>Number(r));if(e==="Color"){const r=new ee(i).toRgba();return r[3]*=255,r}return i}},Rt._expressionToRenderExpression=new Map,Rt);const JVe=Object.freeze(Object.defineProperty({__proto__:null,OverrideHelper:AO},Symbol.toStringTag,{value:"Module"})),YVe=96/72;let Poe=class{constructor(e){this._spatialReference=e,this._imageDataCanvas=null,this._cimResourceManager=new MVe}get _canvas(){return this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas")),this._imageDataCanvas}get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,i,r,s,n,a,o,l,u,d){if(!e)return null;const{data:h}=e;if(!h||h.type!=="CIMSymbolReference"||!h.symbol)return null;const{symbol:p}=h;a||(a=N8(p));const m=await AO.resolveSymbolOverrides(h,i,this._spatialReference,n,a,o,l),g=this._cimResourceManager,b=[];za.fetchResources(m,g,b),za.fetchFonts(m,g,b),b.length>0&&await Promise.all(b);const{width:v,height:w}=r;let _=_G(a,v,w,s,d);const S=za.getEnvelope(m,_,g);if(!S)return null;S.x===1/0&&(S.x=v+2),S.y===1/0&&(S.y=-w/2),S.width===-1/0&&(S.width=v),S.height===-1/0&&(S.height=w);let T=1,C=0,A=0;switch(p.type){case"CIMPointSymbol":case"CIMTextSymbol":{let L=1;S.width>v&&(L=v/S.width);let F=1;S.height>w&&(F=w/S.height),s==="preview"&&(S.width<v&&(L=v/S.width),S.height<w&&(F=w/S.height)),T=Math.min(L,F),C=S.x+S.width/2,A=S.y+S.height/2}break;case"CIMLineSymbol":if(d){A=S.y+S.height/2,C=S.x+S.width/2;const L=S.width-v,F=S.height-w;_={paths:J8(_.paths,{xmin:-1*S.width/2+L,xmax:S.width/2-L,ymin:-1*S.height/2+F,ymax:S.height/2-F,width:S.width-2*L,height:S.height-2*F})}}else{(u||S.height>w)&&(T=w/S.height),A=S.y+S.height/2;const L=S.x*T+v/2,F=(S.x+S.width)*T+v/2,D=Fr(_)?_.paths:pi(_)?_.rings:null;if(D===null)throw new Error("Bad geometry, can't rasterise symbol!");D[0][0][0]-=L/T,D[0][2][0]-=(F-v)/T}break;case"CIMPolygonSymbol":if(d){A=S.y+S.height/2,C=S.x+S.width/2;const L=S.width-v,F=S.height-w;_={paths:J8(_.rings,{xmin:-1*S.width/2+L,xmax:S.width/2-L,ymin:-1*S.height/2+F,ymax:S.height/2-F,width:S.width-2*L,height:S.height-2*F})}}else{C=S.x+S.width/2,A=S.y+S.height/2;const L=S.x*T+v/2,F=(S.x+S.width)*T+v/2,D=S.y*T+w/2,G=(S.y+S.height)*T+w/2,{rings:H}=_;L<0&&(H[0][0][0]-=L,H[0][3][0]-=L,H[0][4][0]-=L),D<0&&(H[0][0][1]+=D,H[0][1][1]+=D,H[0][4][1]+=D),F>v&&(H[0][1][0]-=F-v,H[0][2][0]-=F-v),G>w&&(H[0][2][1]+=G-w,H[0][3][1]+=G-w)}}const O={type:"cim",data:{type:"CIMSymbolReference",symbol:m}};return this.rasterize(O,v,w,C,A,T,a,1,_)}rasterize(e,i,r,s,n,a,o,l=0,u=null,d=window.devicePixelRatio||1){const{data:h}=e;if(!h||h.type!=="CIMSymbolReference"||!h.symbol)return null;const{symbol:p}=h,m=this._canvas,g=d*YVe;m.width=i*g,m.height=r*g,o||(o=N8(p)),u||(u=_G(o,i,r,"legend")),m.width+=2*l,m.height+=2*l;const b=m.getContext("2d",{willReadFrequently:!0}),v=Or.createIdentity();return v.translate(-s,-n),v.scale(a*g,-a*g),v.translate(i*g/2+l,r*g/2+l),b.clearRect(0,0,m.width,m.height),new _oe(b,this._cimResourceManager,v,!0).drawSymbol(p,u),b.getImageData(0,0,m.width,m.height)}};function XVe(t,e,i,r){return e==="esriGeometryPolygon"?{rings:dG(J8(t.rings,{xmin:0,ymin:0,width:i,height:r}),-1*i/2,-1*r/2)}:e==="esriGeometryPolyline"?{paths:dG(J8(t.paths,{xmin:0,ymin:0,width:i,height:r}),-1*i/2,-1*r/2)}:null}function _G(t,e,i,r,s){const a=-e/2+1,o=e/2-1,l=i/2-1,u=-i/2+1;if(s&&(t==="esriGeometryPolygon"||t==="esriGeometryPolyline")){const d=XVe(s,t,e,i);if(d)return d}switch(t){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[a,0],[0,0],[o,0]]]};default:return r==="legend"?{rings:[[[a,l],[o,0],[o,u],[a,u],[a,l]]]}:{rings:[[[a,l],[o,l],[o,u],[a,u],[a,l]]]}}}const qct=Object.freeze(Object.defineProperty({__proto__:null,CIMSymbolRasterizer:Poe},Symbol.toStringTag,{value:"Module"})),U6=new Poe(null),r9=lt($i.size),SG=lt($i.maxSize),lT=lt($i.lineWidth),QVe=1;async function KVe(t,e,i){const r=e==null?void 0:e.size;let s=r!=null&&typeof r=="object"&&"width"in r?r.width:r,n=r!=null&&typeof r=="object"&&"height"in r?r.height:r;if(!s||!n)if(i==="esriGeometryPolygon")s=n=e.maxSize?Math.min(e.maxSize,r9):r9;else{const a=await PO(t,e,i);a&&(s=a.width,n=a.height),i==="esriGeometryPolyline"&&(s=e.maxSize?Math.min(e.maxSize,lT):lT),s=s!=null&&isFinite(s)?Math.min(s,SG):r9,n=n!=null&&isFinite(n)?Math.max(Math.min(n,SG),QVe):r9}return e.style==="legend"&&i==="esriGeometryPolyline"&&(s=lT),{width:s,height:n}}async function PO(t,e={},i){var u;const r=e.cimOptions||e;i??(i=r.geometryType||N8((u=t==null?void 0:t.data)==null?void 0:u.symbol));const{feature:s,fieldMap:n,viewParams:a}=r,o=await AO.resolveSymbolOverrides(t.data,s,null,n,i,null,a);if(!o)return null;(t=t.clone()).data={type:"CIMSymbolReference",symbol:o},t.data.primitiveOverrides=void 0;const l=[];return za.fetchResources(o,U6.resourceManager,l),za.fetchFonts(o,U6.resourceManager,l),l.length>0&&await Promise.all(l),za.getEnvelope(o,null,U6.resourceManager)}async function eje(t,e={}){var A,O;const{node:i,opacity:r,symbolConfig:s}=e,n=s!=null&&typeof s=="object"&&"isSquareFill"in s&&s.isSquareFill,a=e.cimOptions||e,o=a.geometryType||N8((A=t==null?void 0:t.data)==null?void 0:A.symbol),l=await KVe(t,e,o),{feature:u,fieldMap:d}=a,h=e!=null&&e.geometry||n||o!=="esriGeometryPolygon"?"preview":"legend";let p=l;const m=l;if(e!=null&&e.geometry&&(o==="esriGeometryPolygon"||o==="esriGeometryPolyline")&&(et(l.width)<200||et(l.height)<200)){const F=l.width>l.height?lt(200)*l.height/l.width:lt(200);p={width:l.width>l.height?lt(200):lt(200)*l.width/l.height,height:F}}const g=await U6.rasterizeCIMSymbolAsync(t,u,p,h,d,o,null,a.viewParams,a.allowScalingUp,(O=e==null?void 0:e.geometry)==null?void 0:O.toJSON());if(!g)return null;const{width:b,height:v}=g,w=document.createElement("canvas");w.width=b,w.height=v,w.getContext("2d").putImageData(g,0,0);const _=et(m.width),S=et(m.height),T=new Image(_,S);T.src=w.toDataURL(),T.ariaLabel=e.ariaLabel??null,T.alt=e.ariaLabel??"",r!=null&&(T.style.opacity=`${r}`);let C=T;if(e.effectView!=null){const L={shape:{type:"image",x:0,y:0,width:_,height:S,src:T.src},fill:null,stroke:null,offset:[0,0]};C=I1([[L]],[_,S],e)}return i&&C&&i.appendChild(C),C}const tje=Object.freeze(Object.defineProperty({__proto__:null,getCIMSymbolPreviewSize:PO,previewCIMSymbol:eje},Symbol.toStringTag,{value:"Module"})),EA=30,MA=12,CA=24,Loe=[255,255,255],X8=[200,200,200],rm=[128,128,128],ije=20,rje=5;function sje(t){return t.declaredClass==="esri.symbols.SimpleMarkerSymbol"}function nje(t){return t.declaredClass==="esri.symbols.PictureMarkerSymbol"}function aje(t){return t.declaredClass==="esri.symbols.SimpleLineSymbol"}function oje(t){return t.declaredClass==="esri.symbols.TextSymbol"}function lje(t,e){const i=t.length-1;return t.map((r,s)=>Bae(r,s,i,e))}async function cje(t,e,i,r,s,n,a){const o=e.legendOptions,l=o==null?void 0:o.customValues,u=a||await fje(t,i),d=e.stops,h=!!u,p=!!l,m=e.minSize!=null&&e.maxSize!=null,g=d&&d.length>1,b=!!e.target;if(!h||!p&&!(m||g&&!b))return;const v=NS(u);let w=!1,_=null,S=null;_=v&&!g?t0([e.minDataValue,e.maxDataValue]):l??await pje(e,u,r,s==null?void 0:s.type);const T=t==null?void 0:t.authoringInfo,C=(T==null?void 0:T.type)==="univariate-color-size",A=C&&(T==null?void 0:T.univariateTheme)==="above-and-below",O=!!Tc(t,"reference-size"),L=!!Tc(t,"spike");if(!_&&g&&(_=d.map(se=>se.value),w=d.some(se=>!!se.label),t.type==="flow"&&(_=t0(_)),w&&(S=d.map(se=>se.label))),v&&_!=null&&(_==null?void 0:_.length)>2&&!A&&(_=[_[0],_[_.length-1]]),!_)return null;C&&(_==null?void 0:_.length)!==5&&(_=Foe({minSize:_[0],maxSize:_[_.length-1]}));const F=v?uje(t,_):null,D=qOe(u),G=w?null:lje(_,n);return(await Promise.all(_.map(async(se,X)=>{let ue=v?F[X]:await By(e,u,se,r,s==null?void 0:s.type),xe=ue;O&&(ue*=CA/e.maxSize||1,xe=CA);const be=gje(u,ue,t,X);return L&&be.type==="cim"&&(xe=await PO(be)),{value:se,symbol:be,label:w?S[X]:G[X],size:xe,outlineSize:D}}))).reverse()}function uje(t,e){const i=t==null?void 0:t.authoringInfo,r=(i==null?void 0:i.type)==="univariate-color-size";let s=[MA,EA];if(r){const n=e[0],a=e[e.length-1],o=MA,l=EA;s=e.map(u=>o+(u-n)/(a-n)*(l-o))}return r&&(i==null?void 0:i.univariateTheme)==="below"&&s.reverse(),s}function dje(t,e){var a;const i=t.classBreakInfos,r=i.length,s=r<2||!(e>=2)?i[0].symbol.clone():i[r-1].symbol.clone();return((a=t.visualVariables)==null?void 0:a.some(o=>o.type==="color"))&&(s.type.includes("3d")?Roe(s):Ooe(s)),s}async function fje(t,e){var s,n,a,o,l;if(t.type==="flow")return Uae(t,e);if(t.type==="pie-chart")return new Qt({color:null,outline:(s=t.outline)!=null&&s.width?t.outline:new hi});let i=null,r=null;if(t.type==="simple")i=t.symbol;else if(t.type==="class-breaks"){const u=t.classBreakInfos;i=u&&u[0]&&u[0].symbol,r=u.length>1}else if(t.type==="unique-value"){const u=t.uniqueValueInfos;i=(n=u==null?void 0:u[0])==null?void 0:n.symbol,r=u!=null&&u.length>1}if(!i||hje(i))return null;if(i=i.clone(),e||r)if(i.type.includes("3d"))Roe(i);else if(Tc(t,"reference-size")&&i.type==="cim")uO(i,{color:e??(t.type!=="class-breaks"?new ee(X8):null)});else if(Tc(t,"spike")&&i.type==="cim"){const u=new ee(X8),d=new ee(rm),h=((a=i.data.symbol)==null?void 0:a.type)==="CIMPointSymbol"?i.data.symbol:null,p=!!((l=(o=h==null?void 0:h.symbolLayers)==null?void 0:o.find(({type:b})=>b==="CIMSolidStroke"))!=null&&l.colorLocked);let m,g=e??void 0;if(g){const b=pae(g),v=$R();(!v&&b>225||v&&b<25)&&(g=u,m=p?d:u)}else g=u,m=p?d:u;Zae(i,{color:g,strokeColor:m})}else Ooe(i);return i}function hje(t){var e;return Bc(t)?((e=t.symbolLayers)==null?void 0:e.some(i=>(i==null?void 0:i.type)==="fill"))??!1:(t==null?void 0:t.type.includes("fill"))??!1}function Roe(t){t.type==="line-3d"?t.symbolLayers.forEach(e=>{e.material={color:rm}}):t.symbolLayers.forEach(e=>{var i;e.type!=="icon"||(i=e.resource)!=null&&i.href?e.material={color:X8}:(e.material={color:Loe},e.outline={color:rm,size:1.5})})}function Ooe(t){var i,r;const e=$R();t.type==="cim"?sae(t,new ee(X8)):t.type.includes("line")?t.color=rm:(t.color=e?rm:Loe,t.type==="simple-marker"&&(t.outline?((r=(i=t.outline)==null?void 0:i.color)==null?void 0:r.toHex())==="#ffffff"&&(t.outline.color=rm):t.outline={color:rm,width:1.5}))}async function pje(t,e,i,r){const s=(await R(async()=>{const{getSizeRangeAtScale:o}=await Promise.resolve().then(()=>c0);return{getSizeRangeAtScale:o}},void 0)).getSizeRangeAtScale(t,i,r),n=s&&Foe(s);if(!s||!n)return;let a=n.map(o=>mje(o,t,s));a=t0(a);for(let o=1;o<a.length-1;o++){const l=await yje(t,e,a[o],a[o-1],i,r);l&&(a[o]=l[0],n[o]=l[1])}return a}function Foe(t){const e=t.minSize,i=t.maxSize,r=rje,s=(i-e)/(r-1),n=[];for(let a=0;a<r;a++)n.push(e+s*a);return n}function mje(t,e,i){const r=i.minSize,s=i.maxSize,n=e.minDataValue,a=e.maxDataValue;let o;return t<=r?o=n:t>=s?o=a:o=(t-r)/(s-r)*(a-n)+n,o}async function yje(t,e,i,r,s,n){const a=await By(t,e,i,s,n),o=await By(t,e,r,s,n),l=U8(i),u=l.fractional,d=ije;let h=l.integer,p=null,m=null;i>0&&i<1&&(p=10**u,h=U8(i*=p).integer);for(let g=h-1;g>=0;g--){const b=10**g;let v=Math.floor(i/b)*b,w=Math.ceil(i/b)*b;p!=null&&(v/=p,w/=p);let _=(v+w)/2;[,_]=t0([v,_,w],{indexes:[1]});const S=await By(t,e,v,s,n),T=await By(t,e,w,s,n),C=await By(t,e,_,s,n),A=D6(a,S,o,null),O=D6(a,T,o,null),L=D6(a,C,o,null);let F=A.previous<=d,D=O.previous<=d;if(F&&D&&(A.previous<=O.previous?(F=!0,D=!1):(D=!0,F=!1)),F?m=[v,S]:D?m=[w,T]:L.previous<=d&&(m=[_,C]),m)break}return m}async function By(t,e,i,r,s){const{getSize:n}=await R(()=>Promise.resolve().then(()=>c0),void 0);return n(t,i,{scale:r,view:s,shape:e.type==="simple-marker"?e.style:null})}function gje(t,e,i,r){var n,a;((n=i==null?void 0:i.authoringInfo)==null?void 0:n.type)==="univariate-color-size"&&((a=i==null?void 0:i.authoringInfo)==null?void 0:a.univariateTheme)==="above-and-below"&&i.type==="class-breaks"&&(t=dje(i,r));const s=t.clone();if(Bc(s))NS(s)||s.symbolLayers.forEach(o=>{o.type!=="fill"&&(o.size=e)});else if(sje(s))s.size=e;else if(nje(s)){const o=s.width,l=s.height;s.height=e,s.width=e*(o/l)}else aje(s)?s.width=e:oje(s)?s.font&&(s.font.size=e):s.type==="cim"&&Tc(i,"reference-size")?uO(s,{innerDotSize:e,outerRingSize:CA}):s.type==="cim"&&Tc(i,"spike")&&Zae(s,{defaultHeight:e,primitiveOverrides:null});return s}async function On(t,e,i){bd(t,e,()=>[]).push(...i)}async function bje(t){var i,r;const e=new Map;if(!t)return e;if("visualVariables"in t&&t.visualVariables){for(const s of t.visualVariables)if(vje(s)){const n=(await yA(s)??[]).map(a=>a.color);await On(e,s.field||s.valueExpression,n)}}if(t.type==="heatmap"){const s=Wae(t).map(n=>n.color);await On(e,t.field||t.valueExpression,s)}else if(t.type==="pie-chart"){for(const s of t.attributes)await On(e,s.field||s.valueExpression,[s.color]);await On(e,"default",[(i=t==null?void 0:t.othersCategory)==null?void 0:i.color,z0(t.backgroundFillSymbol,null)])}else if(t.type==="dot-density"){for(const s of t.attributes)await On(e,s.field||s.valueExpression,[s.color]);await On(e,"default",[t.backgroundColor])}else if(t.type==="unique-value")if(((r=t.authoringInfo)==null?void 0:r.type)==="predominance")for(const s of t.uniqueValueInfos??[])await On(e,s.value.toString(),[z0(s.symbol,null)]);else{const s=(t.uniqueValueInfos??[]).map(u=>z0(u.symbol,null)),{field:n,field2:a,field3:o,valueExpression:l}=t;(n||l)&&await On(e,n||l,s),a&&await On(e,a,s),o&&await On(e,o,s)}else if(t.type==="class-breaks"){const s=t.classBreakInfos.map(o=>z0(o.symbol,null)),{field:n,valueExpression:a}=t;await On(e,n??a,s)}else t.type==="simple"&&await On(e,"default",[z0(t.symbol,null)]);return"defaultSymbol"in t&&t.defaultSymbol&&await On(e,"default",[z0(t.defaultSymbol,null)]),e.forEach((s,n)=>{const a=vP(s.filter(Boolean),(o,l)=>JSON.stringify(o)===JSON.stringify(l));e.set(n,a)}),e}function vje(t){return t.type==="color"}function wje(t){const i=Math.floor(Math.log10(Math.abs(t)))+1,r=i<4||i>6?4:i,s=1e6,n=Math.abs(t)>=s?"compact":"standard";return Is(t,{notation:n,minimumSignificantDigits:2,maximumSignificantDigits:r})}const xG=16,_je="https://utility.arcgis.com/sharing/tools/legend",Sje="esri.layers.ImageryLayer",xje="esri.layers.ImageryTileLayer",$je="esri.layers.WCSLayer",s9=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,Tje=new Ie({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),n9=new Qt({size:6,outline:{color:[128,128,128,.5],width:.5}}),Ije=new ys({style:"solid"});function kA(t){return t.type==="flow"}function Noe(t){return t.type==="vector-field"}function Doe(t){return t.type==="raster-colormap"}function zoe(t){return t.type==="raster-stretch"}function Voe(t){return t.type==="raster-shaded-relief"}function Uy(t){return t.declaredClass==="esri.renderers.SimpleRenderer"}function Cp(t){return t.declaredClass==="esri.renderers.ClassBreaksRenderer"}function kp(t){return t.declaredClass==="esri.renderers.UniqueValueRenderer"}function joe(t){return t.declaredClass==="esri.renderers.HeatmapRenderer"}function Eje(t){return LO(t)||RO(t)||OO(t)||Mje(t)}function Mje(t){return t.declaredClass==="esri.renderers.PointCloudRGBRenderer"}function LO(t){return t.declaredClass==="esri.renderers.PointCloudClassBreaksRenderer"}function RO(t){return t.declaredClass==="esri.renderers.PointCloudStretchRenderer"}function OO(t){return t.declaredClass==="esri.renderers.PointCloudUniqueValueRenderer"}function qoe(t){return t.declaredClass==="esri.renderers.DotDensityRenderer"}function Boe(t){return t.declaredClass==="esri.renderers.PieChartRenderer"}function Cje(t,e){return Uy(t)||Cp(t)||kp(t)||joe(t)||qoe(t)||Boe(t)?e.type==="2d"||eae(t):zoe(t)||Doe(t)||Voe(t)||LO(t)||RO(t)||OO(t)||Noe(t)||kA(t)}function kje(t){return t.declaredClass==="esri.layers.BuildingSceneLayer"}function cT(t){return t.declaredClass==="esri.layers.SubtypeGroupLayer"}function Aje(t){return t.declaredClass==="esri.layers.VoxelLayer"}function Pje(t){return t.declaredClass==="esri.layers.WMSLayer"}function Lje(t){return t.declaredClass==="esri.layers.WMTSLayer"}function uT(t){return t.declaredClass==="esri.layers.MapImageLayer"}function $G(t){return t.declaredClass==="esri.layers.TileLayer"}function B0(t){return t.declaredClass===Sje}function a9(t){return t.declaredClass===xje}function Rje(t){return t.declaredClass===$je}function Oje(t){return t.type==="stretch-ramp"}function Fje(t){const e="authoringInfo"in t?t==null?void 0:t.authoringInfo:null;return(e==null?void 0:e.type)==="univariate-color-size"}function Nje(t){const e="authoringInfo"in t?t==null?void 0:t.authoringInfo:null;return(e==null?void 0:e.type)==="univariate-color-size"&&(e==null?void 0:e.univariateTheme)==="above-and-below"}function TG(t){return"sublayers"in t}function IG(t){return t&&"symbol"in t}async function tu(t,e){const i=await q7("esri/widgets/Legend/t9n/Legend");return t!=="previewTemplateAriaLabel"||e||(t="previewAriaLabel"),dd(i[t],{label:e})}function Dje(t,e){const{field:i,field2:r,field3:s,fieldDelimiter:n,valueExpression:a}=t;if(!i)return null;const o=!i&&!a||!r&&!s?[e]:e==null?void 0:e.toString().split(n||""),l=i?{[i]:o==null?void 0:o[0]}:null;return l&&(r&&(l[r]=o==null?void 0:o[1]),s&&(l[s]=o==null?void 0:o[2])),l}const zje=new Qt({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}});let U0={},Ci=class extends ce{constructor(t){super(t),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this._layerDefinitionExpression=null,this._layerDefinitionExpressionClause=null,this._layerDisplayFilterId=null,this._layerDisplayFilterClause=null,this.children=new K,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const t=()=>this.notifyChange("ready");this.addHandles([wr(()=>this.children,"change",e=>{const{added:i,removed:r}=e;i.forEach(s=>{const n=`activeLayerInfo-ready-watcher-${s.layer.uid}`;this.addHandles(Y(()=>s.ready,t,Le),n)}),r.forEach(s=>this.removeHandles(s.layer.uid)),t()})]),this.keepCacheOnDestroy||(U0={})}destroy(){this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(U0=null),this._layerDefinitionExpressionClause=null}get effectList(){const t=this.layer;let e=null;return"effect"in t&&t.effect&&(e=new wo,e.effect=t.effect,e.endTransition(),e.scale=this.scale),e}get opacity(){var s;const t=this.layer.opacity,e=(s=this.parent)==null?void 0:s.opacity,i=this.layer.parent,r=i&&"uid"in i?this._getParentLayerOpacity(i):null;return e!=null?e*t:r!=null?r*t:t}get ready(){return this.layer===null||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){var t;return((t=this.view)==null?void 0:t.scale)??0}get isScaleDriven(){const t=this.layer;if(t===null)return!1;if("effect"in t&&t.effect&&Array.isArray(t.effect))return!0;if("featureReduction"in t&&t.featureReduction){if(t.featureReduction.type==="cluster")return!0;if(t.featureReduction.type==="binning"&&"renderer"in t.featureReduction&&t.featureReduction.renderer)return this._isRendererScaleDriven(t.featureReduction.renderer)}return"renderer"in t&&t.renderer?!!("displayFilterInfo"in t&&t.displayFilterInfo&&kp(t.renderer))||this._isRendererScaleDriven(t.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get("version")+1}async buildLegendElementsForFeatureCollections(t){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange("ready");const e=Array.from(t,i=>{var r;if(pK(i))return this._getRendererLegendElements(i.renderer,{title:i.title});if((r=i.featureSet)!=null&&r.features.length){const s=i.layerDefinition,n=s==null?void 0:s.drawingInfo,a=n&&Tne(n.renderer),o=Tje.read(s.geometryType);return a?this._getRendererLegendElements(a,{title:i.name,geometryType:o}):(W.getLogger(this).warn("drawingInfo not available!"),null)}return null});try{const i=[],r=await Promise.allSettled(e);for(const s of r)if(s.status==="fulfilled")for(const n of s.value??[])i.push(n);this.legendElements=i,this.notifyChange("ready")}catch(i){W.getLogger(this).warn("error while building legend for layer!",i)}}async buildLegendElementsForRenderer(t){try{const e=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=e?await this._getRendererLegendElements(t):[],this.notifyChange("ready")}catch(e){W.getLogger(this).warn("error while building legend for layer!",e)}}async buildLegendElementsForFeatureReduction(t){try{const e=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=e?await this._getLegendElementsForFeatureReduction(t):[],this.notifyChange("ready")}catch(e){W.getLogger(this).warn("error while building legend for layer!",e)}}async buildLegendElementsForTools(){var e,i;const t=this.layer;if(Aje(t))this._constructLegendElementsForVoxelLayer();else if(Lje(t))this._constructLegendElementsForWMTSlayer();else if(Pje(t))await this._constructLegendElementsForWMSSublayers();else if(kje(t))await this._constructLegendElementsForBuildingSceneLayer();else if(uT(t)||$G(t)||cT(t))await this._constructLegendElementsForSublayers();else{this.removeHandles("imageryLayers-watcher");let r="default";if(B0(t)){const s=t;r=(((e=s==null?void 0:s.rasterFunction)==null?void 0:e.functionName)||"default")+"_"+((i=t.bandIds)!=null&&i.length?t.bandIds.join(""):"###")}if(a9(t)||t.type==="link-chart")return;await this._getLegendLayers(`${t.uid}-${r}`).then(async s=>{this.legendElements=[],this.notifyChange("ready");const n=s.map(async a=>{if(B0(t)){const l=Y(()=>[t.rasterFunction,t.bandIds],()=>Cc(async()=>{U0.default=null,t.renderer?await this.buildLegendElementsForRenderer(t.renderer):await this.buildLegendElementsForTools()})());this.addHandles(l,"imageryLayers-watcher")}const o=this._generateSymbolTableElementForLegendLayer(a);o!=null&&o.infos.length&&(B0(t)&&(o.title=t.title),this.legendElements.push(o)),this.notifyChange("ready")});await Promise.allSettled(n)}).catch(s=>{W.getLogger(this).warn("Request to server for legend has failed!",s)})}}async _isLayerInCurrentView(){const t=this.layer,e=this.layerView,i=e&&"createQuery"in e&&"queryFeatureCount"in e;if(!i&&!(e&&"createQuery"in t&&"queryFeatureCount"in t))return!0;await cd(()=>!e.updating);const r=i?"createQuery"in e&&e.createQuery():"createQuery"in t&&t.createQuery();return r?(r.geometry=this.view.extent,(i?"queryFeatureCount"in e&&await e.queryFeatureCount(r):"queryFeatureCount"in t&&await t.queryFeatureCount(r))!==0):!0}_getParentLayerOpacity(t){let e=1;const i=t.parent;return i&&"uid"in i&&(e=this._getParentLayerOpacity(i)),t.opacity*e}_isGroupActive(){return this.children.some(t=>t.ready)}_isRendererScaleDriven(t){if(t.type==="dot-density")return!0;const e="valueExpression"in t?t.valueExpression:null;if(s9.test(e))return!0;const i="visualVariables"in t?t.visualVariables:null;return!!(i!=null&&i.some(r=>this._isScaleDrivenSizeVariable(r)))||this._hasScaleDrivenSymbols(t)}_hasScaleDrivenSymbols(t){var e;switch(t.type){case"simple":return this._isScaleDrivenSymbol(t.symbol);case"class-breaks":return this._isScaleDrivenSymbol(t.defaultSymbol)||t.classBreakInfos.some(i=>this._isScaleDrivenSymbol(i.symbol));case"unique-value":return this._isScaleDrivenSymbol(t.defaultSymbol)||!!((e=t.uniqueValueInfos)!=null&&e.some(i=>this._isScaleDrivenSymbol(i.symbol)))}return!1}_isScaleDrivenSymbol(t){if((t==null?void 0:t.type)==="cim"){const{primitiveOverrides:e,minScale:i,maxScale:r}=t.data,s=(e==null?void 0:e.some(n=>{var a;return/\$view\.scale/.test(((a=n.valueExpressionInfo)==null?void 0:a.expression)||"")}))??!1;return i!=null||r!=null||s}return!1}_isScaleDrivenSizeVariable(t){if(t&&t.type!=="size")return!1;const e=t,i=e.minSize,r=e.maxSize;return!(typeof i!="object"||!i||!this._isScaleDrivenSizeVariable(i))||!(typeof r!="object"||!r||!this._isScaleDrivenSizeVariable(r))||s9.test(e.valueExpression)}_isLayerScaleDriven(t){if("minScale"in t&&t.minScale>0||"maxScale"in t&&t.maxScale>0)return!0;if("sublayers"in t&&t.sublayers)return t.sublayers.some(i=>this._isLayerScaleDriven(i));const e=t.parent;if(t.loaded===!1&&e&&uT(e)&&"source"in t&&t.source&&t.source.type==="map-layer"){for(const i of e.sourceJSON.layers??[])if(i.id===t.source.mapLayerId&&(i.minScale>0||i.maxScale>0))return!0}return!1}async _constructLegendElementsForVoxelLayer(){var r;this.legendElements=[],this.removeHandles("voxel-style-watcher"),this.removeHandles("voxel-current-variable");const t=this.layer;this.addHandles(Y(()=>t.currentVariableId,()=>this._constructLegendElementsForVoxelLayer()),"voxel-current-variable"),this.addHandles(Y(()=>t.getVariableStyles(),()=>this._constructLegendElementsForVoxelLayer()),"voxel-style-watcher");const e=t.getVariableStyle(null),i=[];if(e){if((r=e.uniqueValues)!=null&&r.length){const s=[];e.uniqueValues.forEach(n=>{n.enabled&&s.push({label:n.label||`${n.value}`,value:n.value,symbol:new ys({color:n.color,outline:null})})}),s.length&&i.push({type:"symbol-table",title:e.label,infos:s})}else if(e.transferFunction){const{colorStops:s,stretchRange:n}=e.transferFunction,a=s.toArray().reverse(),o=n.map((u,d)=>`${d===0?jae:qae} ${wje(u)}`).reverse(),l=a.map(u=>({color:u.color,value:null,label:null}));l[0].label=o[0],l[l.length-1].label=o[1],i.push({type:"color-ramp",title:e.label,infos:l,preview:Ip(a.map(u=>u.color),{ariaLabel:await tu("previewColorRampAriaLabel")})})}}await this._generatePreviewsForLegendElements(i,{opacity:t.opacity}),this.legendElements=i,this.notifyChange("ready")}_constructLegendElementsForWMTSlayer(){var i,r;this.legendElements=[],this.removeHandles("wmts-activeLayer-watcher");const t=this.layer.activeLayer;this.addHandles(Y(()=>{const{layer:s}=this;return s&&"activeLayer"in s&&s.activeLayer},()=>this._constructLegendElementsForWMTSlayer()),"wmts-activeLayer-watcher");const e=t.styleId?(r=(i=t.styles)==null?void 0:i.find(({id:s})=>s===t.styleId))==null?void 0:r.legendUrl:void 0;e&&(this.legendElements=[{type:"symbol-table",title:t.title,infos:[{src:e,opacity:this.opacity}]}]),this.notifyChange("ready")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this.removeHandles("wms-sublayers-watcher");const t=this.layer;let e=null;(t.customParameters||t.customLayerParameters)&&(e={...t.customParameters,...t.customLayerParameters}),this.addHandles(Y(()=>{const{layer:i}=this;return i&&"sublayers"in i&&i.sublayers},()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher"),this.legendElements=await this._generateLegendElementsForWMSSublayers(t.sublayers,e),this.notifyChange("ready")}async _generateLegendElementsForWMSSublayers(t,e){var a,o;const i=this.layer,r=[];this.addHandles(t.on("change",()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher");const s=((o=(a=this.sublayerIds)==null?void 0:a.map(l=>i.findSublayerById(l)))==null?void 0:o.filter(Kt))??[],n=s.length?s:t.toArray();for(const l of n){const u=Y(()=>[l.title,l.visible,l.legendEnabled],()=>this._constructLegendElementsForWMSSublayers());if(this.addHandles(u,"wms-sublayers-watcher"),!this.respectLayerVisibility||l.visible&&l.legendEnabled){const d=await this._generateSymbolTableElementForWMSSublayer(l,e);d!=null&&d.infos.length&&r.unshift(d)}}return r}async _generateSymbolTableElementForWMSSublayer(t,e){if(!t.legendUrl&&t.sublayers){const i=(await this._generateLegendElementsForWMSSublayers(t.sublayers,e)).filter(r=>r);return{type:"symbol-table",title:t.title,infos:i}}return this._generateSymbolTableElementForLegendUrl(t,e)}async _generateSymbolTableElementForLegendUrl(t,e){var a;let i=t.legendUrl;if(!i)return;const r={type:"symbol-table",title:t.title||t.name||String(t.id??""),infos:[]};e&&(i=$9(i,e));let s=null;const n=(a=t.layer)==null?void 0:a.opacity;try{s=(await it(i,{responseType:"image"})).data,s&&(s.style.opacity=n)}catch{}return r.infos.push({src:i,preview:s,opacity:n}),r}_getLegendLayers(t,e){const i=U0&&U0[t];return i?Promise.resolve(i):this._legendRequest(e).then(r=>{const s=r.layers;return U0[t]=s,s})}_legendRequest(t){var s;const e=this.layer;let i={f:"json",dynamicLayers:t};if(B0(e)){const n=e.exportImageServiceParameters.rasterFunction;if(n&&(i.renderingRule=JSON.stringify(((s=n.functionDefinition)==null?void 0:s.toJSON())||n.toJSON())),e.bandIds&&(i.bandIds=e.bandIds.join()),e.raster||e.viewId||e.customParameters){const{raster:a,viewId:o,customParameters:l}=e;i={raster:a,viewId:o,...i,...l}}}let r=e.url.replace(/(\/)+$/,"");if("version"in e&&+e.version>=10.01){const n=r.indexOf("?");n>-1?r=r.slice(0,n)+"/legend"+r.slice(n):r+="/legend"}else{const n=r.toLowerCase().indexOf("/rest/"),a=n===-1?r:r.slice(0,n)+r.slice(n+5);r=_je+"?soapUrl="+encodeURI(a)+"&returnbytes=true"}return it(r,{query:i}).then(n=>n.data)}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this.removeHandles("sublayers-watcher");const t=this.layer;this.addHandles(Y(()=>t.sublayers,()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(t.sublayers,this.opacity),this.notifyChange("ready")}catch(e){W.getLogger(this).warn("Request to server for legend has failed!",e)}}async _generateLegendElementsForBuildingSublayers(t,e){let i=[];this.addHandles(t.on("change",()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");const r=t.toArray();for(const s of r){const n=Y(()=>["renderer"in s&&s.renderer,s.opacity,s.title,s.visible],()=>this._constructLegendElementsForBuildingSceneLayer());if(this.addHandles(n,"sublayers-watcher"),!this.respectLayerVisibility||s.visible){const a=(s==null?void 0:s.opacity)!=null?s.opacity:null,o=a!=null?a*e:e;if(s.type==="building-group"){const l={type:"symbol-table",title:s.title,infos:[]},u=await this._generateLegendElementsForBuildingSublayers(s.sublayers,o);l.infos.push(...u),i=[l,...i]}else s.renderer&&(i=[...await this._getRendererLegendElements(s.renderer,{title:s.title,opacity:o,sublayer:s}),...i])}}return i.filter(s=>!!s&&(!("infos"in s)||!s.infos||s.infos.length>0))}async _constructLegendElementsForSublayers(){this.legendElements=[],this.removeHandles("sublayers-watcher");const t=this.layer;if(uT(t)||$G(t)||cT(t)){this.addHandles(Y(()=>t.sublayers,()=>this._constructLegendElementsForSublayers),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForSublayers(t.sublayers,this.opacity),this.notifyChange("ready")}catch(e){W.getLogger(this).warn("Request to server for legend has failed!",e)}}}async _generateLegendElementsForSublayers(t,e,i){const r=this.layer;let s=[];this.addHandles(t.on("change",()=>this._constructLegendElementsForSublayers()),"sublayers-watcher");let n=t.toArray();!i&&this.sublayerIds&&this.sublayerIds.length&&(n=cT(r)?this.sublayerIds.map(a=>r.findSublayerForSubtypeCode(a)).filter(Kt):this.sublayerIds.map(a=>r.findSublayerById(a)).filter(Kt));for(const a of n){const o=Y(()=>[a.renderer,a.opacity,a.title,a.visible,a.legendEnabled],()=>this._constructLegendElementsForSublayers());if(this.addHandles(o,"sublayers-watcher"),!this.respectLayerVisibility||a.visible&&a.legendEnabled&&this._isSublayerInScale(a)){const l=(a==null?void 0:a.opacity)!=null?a.opacity:null,u=l!=null?l*e:e,d=!TG(a)||a.originIdOf("renderer")>Oe.SERVICE&&!a.sublayers;if(a.renderer&&d)await a.load(),s=[...await this._getRendererLegendElements(a.renderer,{title:a.title,opacity:u,sublayer:a}),...s];else if(TG(a)){const h=await this._generateSymbolTableElementForSublayer(a,u,i);h&&s.unshift(h)}}}return s.filter(a=>!!a&&(!("infos"in a)||!a.infos||a.infos.length>0))}async _generateSymbolTableElementForSublayer(t,e,i){if(!i){i=new Map;const s=this.layer,n=t.source;let a=null;if(!(!n||n.type==="map-layer"&&n.mapLayerId===t.id&&(!n.gdbVersion||n.gdbVersion===("gdbVersion"in s&&s.gdbVersion)))||t.originIdOf("renderer")>Oe.SERVICE||t.originIdOf("labelingInfo")>Oe.SERVICE||t.originIdOf("labelsVisible")>Oe.SERVICE){const l=new Ea({layer:this.layer});a=l.hasDynamicLayers?l.dynamicLayers:null,l.destroy()}const o=a||`${s.uid}-default`;(await this._getLegendLayers(o,a)).forEach(l=>i.set(l.layerId,l))}const r=i.get(t.id);if((!r||r!=null&&r.subLayerIds&&r.defaultVisibility)&&t.sublayers){const s=await this._generateLegendElementsForSublayers(t.sublayers,e,i);return{type:"symbol-table",title:t.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(r,t,e)}_generateSymbolTableElementForLegendLayer(t,e,i){if(!(t!=null&&t.legend)||this.respectLayerVisibility&&!this._isLegendLayerInScale(t,e))return null;const r=e==null?void 0:e.renderer;let s=(e==null?void 0:e.title)||t.layerName;if(r&&(!e||(e==null?void 0:e.originIdOf("renderer"))>Oe.SERVICE)){const o=(e==null?void 0:e.title)||this._getRendererTitle(r,e);o&&(s&&typeof o!="string"&&"title"in o&&(o.title=s),s=o)}const n={type:"symbol-table",title:s,legendType:t.legendType||null,infos:[]},a=e?this._sanitizeLegendForSublayer(t.legend.slice(),e):t.legend;return t.legendGroups&&t.legendGroups.length>0?t.legendGroups.forEach(o=>{var u;const l={type:"symbol-table",title:o.heading,legendType:t.legendType||null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter(d=>d.groupId===o.id),t.layerId,i)};((u=l.infos)==null?void 0:u.length)>0&&n.infos.push(l)}):n.infos=this._generateSymbolTableElementInfosForLegendLayer(a,t.layerId,i),n.infos.length>0?n:null}_generateSymbolTableElementInfosForLegendLayer(t,e,i){return t.map(r=>{let s=r.url;if(r.imageData&&r.imageData.length>0)s=`data:image/png;base64,${r.imageData}`;else{if(s.indexOf("http")===0)return null;s=Eme(`${this.layer.url}/${e}/images/${s}`)}return{label:r.label,src:s,opacity:i??this.opacity,width:r.width,height:r.height}}).filter(Kt)}_isSublayerInScale(t){const e=t.minScale||0,i=t.maxScale||0;return!(e>0&&e<this.scale||i>this.scale)}_isLegendLayerInScale(t,e){const i=e||this.layer;let r=null,s=null,n=!0;return!i.minScale&&i.minScale!==0||!i.maxScale&&i.maxScale!==0?(t.minScale===0&&i.tileInfo&&(r=i.tileInfo.lods[0].scale),t.maxScale===0&&i.tileInfo&&(s=i.tileInfo.lods[i.tileInfo.lods.length-1].scale)):(r=Math.min(i.minScale,t.minScale)||i.minScale||t.minScale,s=Math.max(i.maxScale,t.maxScale)),(r>0&&r<this.scale||s>this.scale)&&(n=!1),n}_sanitizeLegendForSublayer(t,e){var a;if("version"in this.layer&&+this.layer.version<10.1||t.length===0)return t;const i=e.renderer,r=t.some(o=>o.values);let s=0,n=null;return r&&t.some((o,l)=>(o.values||(s=l,n=o,n.label||(n.label="others")),n!=null)),i?i.type==="unique-value"?n&&(t.splice(s,1),t.push(n)):i.type==="class-breaks"&&(n&&t.splice(s,1),(a=i.legendOptions)!=null&&a.order||t.reverse(),n&&t.push(n)):n&&(t.splice(s,1),t.push(n)),t}async _getRendererLegendElements(t,e={}){if(!Cje(t,this.view))return W.getLogger(this).warn(`Renderer of type '${t.type}' not supported!`),[];if(Eje(t))return this._constructPointCloudRendererLegendElements(t,e);if(qoe(t))return this._constructDotDensityRendererLegendElements(t);const i=await this._loadRenderer(t);return Boe(i)?this._constructPieChartRendererLegendElements(i):this._constructRendererLegendElements(i,e)}async _getLegendElementsForFeatureReduction(t){let e=null;return t.type==="binning"?e=t.renderer:t.type==="cluster"&&(e=this._getClusterRenderer(t)),e?this._getRendererLegendElements(e):[]}_getPointCloudRendererTitle(t){var e;return(((e=t.legendOptions)==null?void 0:e.title)||t.field)??""}async _constructPointCloudRendererLegendElements(t,e={}){var a;const i=e.title,r=[];let s=null,n=null;if(LO(t))s={type:"symbol-table",title:i||this._getPointCloudRendererTitle(t),infos:[]},t.colorClassBreakInfos.forEach(o=>{s.infos.unshift({label:o.label||o.minValue+" - "+o.maxValue,value:[o.minValue,o.maxValue],symbol:this._getAppliedCloneSymbol(n9,o.color)})});else if(RO(t)){const o=t.stops;let l=null;if(o!=null&&o.length&&(o.length===1&&(l=o[0].color),!l)){const d=o[0].value,h=o[o.length-1].value;d!=null&&h!=null&&(l=Hae(d+(h-d)/2,o))}s={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(n9,l||n9.color)}]};const u=eNe(t.stops??[])??[];n={type:"color-ramp",title:i||this._getPointCloudRendererTitle(t),infos:u,preview:Ip(u.map(d=>d.color),{ariaLabel:await tu("previewColorRampAriaLabel")})}}else OO(t)&&(s={type:"symbol-table",title:i||this._getPointCloudRendererTitle(t),infos:[]},(a=t.colorUniqueValueInfos)==null||a.forEach(o=>{s.infos.push({label:o.label||o.values.join(", "),value:o.values.join(", "),symbol:this._getAppliedCloneSymbol(n9,o.color)})}));return s!=null&&s.infos.length&&r.push(s),n!=null&&n.infos.length&&r.push(n),await this._generatePreviewsForLegendElements(r,{opacity:this.opacity,symbolConfig:{applyColorModulation:!!t.colorModulation}}),r}async _getElementInfoForDotDensity(t,e){const{color:i,label:r,valueExpressionTitle:s}=e,{backgroundColor:n,outline:a,dotSize:o}=t,l=this.effectList,u=l==null?void 0:l.effects.map(w=>w.toJSON()),d=$8(u),h=await tu("previewTemplateAriaLabel",r||s),p=o+"-"+i+"-"+n+"-"+(a&&JSON.stringify(a.toJSON()))+"-"+d,m=this._dotDensityUrlCache,g=m.has(p)?m.get(p):CFe(t,i,{ariaLabel:h});m.set(p,g);const b={shape:{type:"image",x:0,y:0,width:g.width,height:g.height,src:g.src},fill:null,stroke:null,offset:[0,0]},v=I1([[b]],[g.width,g.height],{effectView:this.effectList,ariaLabel:h});return{opacity:1,src:g.src,preview:v,width:g.width,height:g.height}}async _constructDotDensityRendererLegendElements(t){var s;const e=t.calculateDotValue(this.view.scale),i=(s=t.legendOptions)==null?void 0:s.unit,r={type:"symbol-table",title:{value:e&&Math.round(e),unit:i||""},infos:[]};for(const n of t.attributes){const a=await this._getElementInfoForDotDensity(t,n);a.label=n.label||n.valueExpressionTitle||n.field,r.infos.push(a)}return[r]}async _constructPieChartRendererLegendElements(t){var a,o,l,u;const e=[];let i=null;const r=t.outline;t.attributes.forEach(d=>{const h=new Qt({color:d.color,outline:r}),p=d.label||d.valueExpressionTitle||d.field;e.push({label:p,symbol:h})});const s=e.length?[...e]:[];if((a=t.othersCategory)!=null&&a.color&&((o=t.othersCategory)==null?void 0:o.threshold)!==0){const d=new Qt({color:t.othersCategory.color,outline:r});i=t.othersCategory.label||"Other",e.push({label:i,symbol:d})}if((l=t.defaultColor)!=null&&l.a){const d=new Qt({color:t.defaultColor,outline:r});e.push({label:t.defaultLabel,symbol:d})}const n=await this._getVisualVariableLegendElements(t,this.layer)||[];if(e.length){n.unshift({type:"symbol-table",title:null,infos:e});const d=s.filter(p=>p.label!==i).map(p=>p.symbol.color).filter(Boolean),h=kFe(d,{holePercentage:t.holePercentage,backgroundColor:(u=t.backgroundFillSymbol)==null?void 0:u.color,effectList:this.effectList,outline:r,ariaLabel:await tu("previewPieChartAriaLabel")});n.unshift({type:"pie-chart-ramp",title:this._getRendererTitle(t,this.layer),infos:e,preview:h})}return await this._generatePreviewsForLegendElements(n,{opacity:this.layer.opacity,effectView:this.effectList}),n}async _getWhereClause(t,e,i){const r=await ZL(t,i),s=new Set,{field:n,field2:a,field3:o}=e;yh(s,i,[n,a,o]),Xr(s,i,e.valueExpression);const l=new Set(Array.from(s,d=>d.toLowerCase())),u=r==null?void 0:r.fieldNames.map(d=>d.toLowerCase());return u!=null&&u.some(d=>!l.has(d))?null:r}async _processDefinitionExpression(t,e){if(!("definitionExpression"in t))return;const i=t.definitionExpression;i&&this.respectLayerDefinitionExpression?this._layerDefinitionExpression!==i&&(this._layerDefinitionExpressionClause=await this._getWhereClause(i,e,t.fieldsIndex)):this._layerDefinitionExpressionClause=null,this._layerDefinitionExpression=i}async _processDisplayFilter(t,e){if(!("displayFilterInfo"in t))return;const i=t.displayFilterInfo?xEe(t.displayFilterInfo,this.view):null;return i!=null&&i.where?this._layerDisplayFilterId!==(i==null?void 0:i.id)&&(this._layerDisplayFilterClause=await this._getWhereClause(i.where,e,t.fieldsIndex)):this._layerDisplayFilterClause=null,this._layerDisplayFilterId=i==null?void 0:i.id,i}async _constructRendererLegendElements(t,e={}){var w,_,S,T,C,A,O;const{title:i,sublayer:r}=e,s=r||this.layer,n=Tc(t,"reference-size"),a=Tc(t,"spike");let o=null;kp(t)&&(await this._processDefinitionExpression(s,t),o=await this._processDisplayFilter(s,t)),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const l=await this._getVisualVariableLegendElements(t,s)||[],u={type:"symbol-table",title:i||this._getRendererTitle(t,s),infos:[]};let d=null,h=!1;const p=new Set;if(kA(t)&&!this._hasSizeRamp){const L=await Uae(t);u.infos.push({label:null,symbol:L})}else if(Fje(t)){let L=i;const F=Nje(t)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",D=l.findIndex(ue=>ue.type==="color-ramp"),G=D!==-1?l.splice(D,1)[0]:null,H=l.findIndex(ue=>ue.type==="size-ramp"),se=H!==-1?l.splice(H,1)[0]:null,X=[];G&&(L=G.title,X.push(G)),se&&(L=se.title,X.push(se)),X.length>0&&l.push({type:F,title:L,infos:X})}else if(joe(t)){const L=Wae(t);l.push({type:"heatmap-ramp",title:i||this._getRendererTitle(t,s),infos:L,preview:Ip(L.map(F=>F.color),{effectList:this.effectList,ariaLabel:await tu("previewColorRampAriaLabel")})})}else if(kp(t)){const L=t.authoringInfo;if(L&&L.type==="relationship"){const{numClasses:F,field1:D,field2:G}=L,H=L.focus;if(F&&D&&G){const se=[D,G];let X=Nae(H)||0;for(const xe of se){const{field:be,normalizationField:ye,label:at}=xe,qi=at||{field:this._getFieldAlias(be,s),normField:ye&&this._getFieldAlias(ye,s)},ur=zje.clone();ur.angle=X,u.infos.push({label:qi,symbol:ur}),p.add(ur),X+=90}const ue=MFe({focus:H,numClasses:F,infos:t.uniqueValueInfos??[]});l.unshift(ue)}}else if(B0(this.layer)||a9(this.layer))(w=t.uniqueValueInfos)==null||w.forEach(F=>{F.symbol&&this._checkClausesForUVR(t,F.value)&&u.infos.push({label:F.label||F.value,value:F.value,symbol:F.symbol})});else{const{field:F,field2:D,field3:G,fieldDelimiter:H,valueExpression:se,defaultSymbol:X}=t,ue=!(!F&&!se||!D&&!G),xe=this._layerDisplayFilterClause?o==null?void 0:o.title:null,be=[];if((_=t.uniqueValueGroups)==null||_.forEach(ye=>{var qi;const at={type:"symbol-table",title:xe||ye.heading,infos:[]};(qi=ye.classes)==null||qi.forEach(ur=>{const{symbol:Ii,values:Uc}=ur;if(Ii){const kh=[],y0=[];for(const $d of Uc??[]){const{value:k3,value2:A3,value3:P3}=$d,Ph=[],b0=[];(F||se)&&(Ph.push(k3),b0.push(this._getDomainName(F,k3,s))),D&&(Ph.push(A3),b0.push(this._getDomainName(D,A3,s))),G&&(Ph.push(P3),b0.push(this._getDomainName(G,P3,s))),kh.push(ue?Ph.join(H||""):Ph[0]),y0.push(b0.join(" - "))}const g0=kh.join(", ");let Ah=ur.label;if(!Ah){const $d=y0.filter(Boolean);Ah=$d.length?$d.join(", "):g0}const O1=Ii.clone();O1.type==="cim"&&n&&uO(O1,{innerDotSize:.5*xG,outerRingSize:xG}),kh.some($d=>this._checkClausesForUVR(t,$d))&&at.infos.push({label:Ah,value:g0,symbol:O1})}}),at.infos.length&&be.push(at)}),be.length){const ye=be[0];if(be.length===1&&"title"in ye&&!ye.title){const at=((S=ye.infos)==null?void 0:S.filter(IG))??[];u.infos.push(...at)}else X&&(be.push({type:"symbol-table",infos:[{label:t.defaultLabel||"others",symbol:X}]}),h=!0),u.infos.push(...be);i||(T=t.legendOptions)!=null&&T.title||t.valueExpressionTitle||(u.title=null)}}t.defaultSymbol&&!h&&(u.infos.push({label:t.defaultLabel||"others",symbol:t.defaultSymbol}),h=!0)}else if(Cp(t)){if(!n&&!a){if(d=this._isUnclassedRenderer(t),!d||!this._hasSizeRamp){const L=t.classBreakInfos.filter(({symbol:D})=>D),F=((C=t.legendOptions)==null?void 0:C.order)==="ascending-values";for(const{label:D,minValue:G,maxValue:H,symbol:se}of L){const X={label:D||(d?null:`${G} - ${H}`),value:[G,H],symbol:se};F?u.infos.push(X):u.infos.unshift(X)}d&&(u.title=null),this._updateInfosForClassedSizeRenderer(t,u.infos)}t.defaultSymbol&&!d&&(u.infos.push({label:t.defaultLabel||"others",symbol:t.defaultSymbol}),h=!0)}}else if(zoe(t))if(a9(this.layer)||Rje(this.layer)){const L=await this._constructTileImageryStretchRendererElements(t);Oje(L)?l.push(L):u.infos=L}else{const L=this.layer;let F,D;(A=t.customStatistics)!=null&&A.length&&({min:F,max:D}=t.customStatistics[0]);let G=[],H=L.serviceRasterInfo;if(L.rasterFunction)try{H=await L.generateRasterInfo(L.rasterFunction)}catch{}const se=j8(H.pixelType);if(H.bandCount===1){const X=((O=L.bandIds)==null?void 0:O[0])||0;F=F??(H.statistics?H.statistics[X].min:se[0]),D=D??(H.statistics?H.statistics[X].max:se[1]),F||D?l.push(await this._getStretchLegendElements(t,{min:F,max:D})):this._getServerSideLegend()}else if(L.bandIds&&L.bandIds.length===1)F=F??(H.statistics?H.statistics[L.bandIds[0]].min:se[0]),D=D??(H.statistics?H.statistics[L.bandIds[0]].max:se[1]),F||D?l.push(await this._getStretchLegendElements(t,{min:F,max:D})):this._getServerSideLegend();else if(H.bandCount>=3){const{bandInfos:X}=H,{bandIds:ue}=L;X.length>=H.bandCount?(ue==null?void 0:ue.length)===3?(G=ue.map(xe=>X[xe].name),u.infos=this._createSymbolTableElementMultiBand(G)):L.format==="lerc"?(G=[0,1,2].map(xe=>X[xe].name),u.infos=this._createSymbolTableElementMultiBand(G)):this._getServerSideLegend():L.format==="lerc"?(G=["band1","band2","band3"],u.infos=this._createSymbolTableElementMultiBand(G)):this._getServerSideLegend()}else this._getServerSideLegend()}else if(Doe(t))t.colormapInfos.forEach(L=>{u.infos.push({label:L.label,value:L.value,symbol:this._getAppliedCloneSymbol(Ije,L.color)})});else if(Uy(t)){let L=t.symbol;switch(e.geometryType){case"point":L="pointSymbol"in s?s.pointSymbol:null;break;case"polyline":L="lineSymbol"in s?s.lineSymbol:null;break;case"polygon":L="polygonSymbol"in s?s.polygonSymbol:null}const F=this._hasClusterSizeVariable&&this._getClusterSymbol()||!this._hasSizeRamp;t.symbol&&F&&u.infos.push({label:t.label,symbol:L})}else if(Noe(t)){t.outputUnit&&(this.title="("+t.toJSON().outputUnit+")"),u.title=t.attributeField;const L=t.getClassBreakInfos();L!=null&&L.length?L.forEach(F=>{u.infos.push({label:F.minValue+" - "+F.maxValue,symbol:F.symbol})}):u.infos.push({label:t.attributeField,symbol:t.getDefaultSymbol()})}else Voe(t)&&l.push(await this._getStretchLegendElements(t,{min:0,max:255}));const m=t.defaultSymbol;!m||h||Uy(t)||d&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||l.push({type:"symbol-table",infos:[{label:t.defaultLabel||"others",symbol:m}]}),u.infos.length&&l.unshift(u);const g=e.opacity==null?this.opacity:e.opacity,b=this._isTallSymbol("visualVariables"in t?t.visualVariables:null),v=B0(this.layer)||a9(this.layer);return await this._generatePreviewsForLegendElements(l,{opacity:g,symbolConfig:{isTall:b,isSquareFill:v},effectView:this.effectList},{defaultSymbol:m,arrowMarkerSymbols:p}),t=null,l}_checkClausesForUVR(t,e){const i=Dje(t,e);return!i||(!this._layerDefinitionExpressionClause||this._layerDefinitionExpressionClause.testFeature(i))&&(!this._layerDisplayFilterClause||this._layerDisplayFilterClause.testFeature(i))}_getServerSideLegend(){setTimeout(()=>this.buildLegendElementsForTools(),0)}_getAllInfos(t){const e=t==null?void 0:t.infos;return e?e.reduce((i,r)=>i.concat(this._getAllInfos(r)),[]):[t]}async _constructTileImageryStretchRendererElements(t){var o,l,u;const e=this.layer,i=e.symbolizer.rasterInfo??e.raster.rasterInfo;let r,s;const n=(o=t==null?void 0:t.customStatistics)!=null&&o.length?t.customStatistics:i==null?void 0:i.statistics;if(n)({min:r,max:s}=n[0]);else{const d=j8(i.pixelType);r=d[0],s=d[1]}if(e.hasStandardTime()&&(r=e.getStandardTimeValue(r),s=e.getStandardTimeValue(s)),i.bandCount===1||((l=e.bandIds)==null?void 0:l.length)===1)return this._getStretchLegendElements(t,{min:r,max:s});const a=((u=e==null?void 0:e.bandIds)!=null&&u.length?e.bandIds:Array.from(Array(Math.min(i.bandCount,3)).keys())).map(d=>i.bandInfos[d].name);return a.length<3?a.push(a[1]):a.length>3&&a.splice(3),this._createSymbolTableElementMultiBand(a)}async _getStretchLegendElements(t,e){const i=t.colorRamp,r=iNe(i,e);return{type:"stretch-ramp",title:"",infos:r,preview:Ip(r.map(s=>s.color),{ariaLabel:await tu("previewColorRampAriaLabel")})}}_getClusterSymbol(){var r;const t=this.layer,e="featureReduction"in t&&t.featureReduction,i=e&&"symbol"in e&&e.renderer;return i&&((r=i==null?void 0:i.authoringInfo)==null?void 0:r.isAutoGenerated)!==!0?null:e&&"symbol"in e?e.symbol:null}async _getSizeLegendElement(t,e,i,r){return{type:"size-ramp",title:this._hasClusterSizeVariable?this._getClusterTitle(e):t,infos:await cje(i,e,await mA(i),this.scale,this.view,r,this._hasClusterSizeVariable?this._getClusterSymbol():null)}}_createSymbolTableElementMultiBand(t){const e=[],i=["red","green","blue"];return t.forEach((r,s)=>{e.push({label:{colorName:i[s],bandName:r},src:ZFe[s],opacity:this.opacity??1})}),e}_updateInfosForClassedSizeRenderer(t,e){const i=t.authoringInfo&&t.authoringInfo.type==="class-breaks-size",r=t.classBreakInfos.some(s=>NS(s.symbol));if(i&&r){const s=EA,n=MA,a=t.classBreakInfos.length,o=(s-n)/(a>1?a-1:a);e.forEach((l,u)=>{l.size=s-o*u})}}_isTallSymbol(t){let e=!1,i=!1;if(t)for(let r=0;r<t.length&&(!e||!i);r++){const s=t[r];s.type==="size"&&(s.axis==="height"&&(e=!0),s.axis==="width-and-depth"&&(i=!0))}return e&&i}async _generatePreviewsForLegendElements(t,e,i){var s,n;const r=[];for(const a of t)for(const o of a.infos??[])if("infos"in o&&o.infos&&r.push(this._generatePreviewsForLegendElements([o],e,i)),IG(o)&&o.symbol&&!o.preview){let l=!0;if(o.symbol.type==="cim"){const{minScale:u,maxScale:d}=o.symbol.data;(u&&u<this.scale||d&&d>this.scale)&&(l=!1)}l&&r.push(this._generateSymbolPreviewForInfo(o,{...e,clipBloomEffect:"theme"in a&&a.theme==="spike",effectView:(s=i==null?void 0:i.arrowMarkerSymbols)!=null&&s.has(o.symbol)?null:e.effectView},i?{isDefault:o.symbol===i.defaultSymbol,applyScaleDrivenSize:!((n=i.arrowMarkerSymbols)!=null&&n.has(o.symbol))}:void 0))}await Promise.all(r)}async _generateSymbolPreviewForInfo(t,e,i){var r,s,n,a;try{let o=!(i!=null&&i.isDefault)&&t.size==null&&this._hasSizeRamp?lt($i.size):t.size;if(this._scaleDrivenSizeVariable&&(i!=null&&i.applyScaleDrivenSize)){const{getSize:d}=await R(()=>Promise.resolve().then(()=>c0),void 0);o=d(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:t.symbol.type==="simple-marker"?t.symbol.style:null})}const l=t.symbol.type==="cim"?{style:"legend",cimOptions:{allowScalingUp:!(i!=null&&i.isDefault)&&this._hasSizeRamp||!(!this._scaleDrivenSizeVariable||!(i!=null&&i.applyScaleDrivenSize)),viewParams:this.isScaleDriven?{viewingMode:((r=this.view)==null?void 0:r.type)==="2d"?"map":(s=this.view)==null?void 0:s.viewingMode,scale:(n=this.view)==null?void 0:n.scale}:null}}:{},u=t.label&&typeof t.label!="string"?null:await tu("previewTemplateAriaLabel",t.label);t.preview=await Dae(t.symbol,{size:o,scale:!1,ariaLabel:u,...e,...l})}catch{t.preview=null,W.getLogger(this).warn(`Generating symbol preview failed for symbol type: ${(a=t.symbol)==null?void 0:a.type}`)}}_getClusterRenderer(t){var s,n;this._hasClusterSizeVariable=!1;const e="renderer"in this.layer?this.layer.renderer:null,i=((s=t.renderer)==null?void 0:s.clone())||(e==null?void 0:e.clone()),r=LFe(t,this.layerView,this.view);if(r&&i!=null&&"visualVariables"in i&&!((n=i.visualVariables)==null?void 0:n.some(o=>o.type==="size"&&o.target!=="outline"&&!s9.test(o.valueExpression)))){if("clusterMinSize"in t&&"clusterMaxSize"in t){const{clusterMinSize:l,clusterMaxSize:u}=t;r.legendOptions=new ose({showLegend:l!==u})}const o=i.visualVariables||[];i.visualVariables=o.concat([r]),this._hasClusterSizeVariable=!0}return i}async _loadRenderer(t){const e=[],i=t.clone(),r=await mA(i);if(Cp(i)||kp(i)){const s=(i.classBreakInfos||i.uniqueValueInfos).map(n=>this._fetchSymbol(n.symbol,r).then(a=>{n.symbol=a}).catch(()=>{n.symbol=null}));Array.prototype.push.apply(e,s)}return e.push(this._fetchSymbol(i.symbol||i.defaultSymbol,i.defaultSymbol?null:r).then(s=>{this._applySymbolToRenderer(i,s,Uy(i))}).catch(()=>{this._applySymbolToRenderer(i,null,Uy(i))})),await Promise.allSettled(e),i}_applySymbolToRenderer(t,e,i){i?t.symbol=e:t.defaultSymbol=e}async _fetchSymbol(t,e){if(!t)throw new Error;if(t.type==="web-style"){const i=this._webStyleSymbolCache;try{const r=await t.fetchSymbol({cache:i});return this._getAppliedCloneSymbol(r,e)}catch{throw W.getLogger(this).warn("Fetching web-style failed!"),new Error}}return this._getAppliedCloneSymbol(t,e)}_getAppliedCloneSymbol(t,e){if(!t||!e)return t;const i=t.clone(),r=e&&e.toRgba();return i.type.includes("3d")?this._applyColorTo3dSymbol(i,r):i.type==="cim"?sae(i,e):i.color&&(i.color=new ee(r||i.color)),i}_applyColorTo3dSymbol(t,e){e&&t.symbolLayers.forEach(i=>{i&&(i.material||(i.material={}),i.material.color=new ee(e))})}async _getVisualVariableLegendElements(t,e){var p,m;if(!("visualVariables"in t)||t.type==="vector-field")return null;const i=t.visualVariables??[],r=[],s=[],n=[],a=Tc(t,"reference-size")??Tc(t,"spike");let o;if(((p=a==null?void 0:a.sizeStops)==null?void 0:p.length)===2&&(Cp(t)||kp(t))){const[g,b]=a.sizeStops;o=new Ke({field:a.field??void 0,normalizationField:a.normalizationField,minSize:Yr(g.size,10,100),maxSize:Yr(b.size,50,150),minDataValue:g.value,maxDataValue:b.value}),s.push(o)}for(const g of i)g.type==="color"?r.push(g):g.type==="size"?s.push(g):g.type==="opacity"&&n.push(g);const l=[...r,...s,...n];let u,d;if(r.length===0&&Cp(t)&&t.classBreakInfos&&t.classBreakInfos.length===1){const g=t.classBreakInfos[0];u=g&&g.symbol}if(r.length===0&&Uy(t)&&(u=t.symbol),u)if(u.type.includes("3d")){const g=u.symbolLayers.at(0);g.type==="water"?g.color!=null&&(d=g.color):((m=g.material)==null?void 0:m.color)!=null&&(d=g.material.color)}else u.url||(d=u.color);const h=this.effectList;return(await Promise.all(l.map(async g=>{if(!g.legendOptions||g.legendOptions.showLegend!==!1){const b=kA(t)?g.field:this._getRampTitle(g,e);let v=null;const w=XFe(e,g,this.view.timeZone);if(g.type==="color"){const _=await yA(g,null,w)??[];v={type:"color-ramp",title:b,infos:_,preview:Ip(_.map(S=>S.color),{effectList:h,ariaLabel:await tu("previewColorRampAriaLabel")})},this._hasColorRamp||(this._hasColorRamp=_.length>0)}else if(g.type==="size"&&g.target!=="outline")s9.test(g.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=g):(v=await this._getSizeLegendElement(b,g,t,w),o===g&&(a==null?void 0:a.theme)==="spike"&&(v.theme=a.theme),this._hasSizeRamp||(this._hasSizeRamp=!(v.infos==null||!v.infos.length)));else if(g.type==="opacity"){const _=await yA(g,d,w)??[];v={type:"opacity-ramp",title:b,infos:_,preview:Ip(_.map(S=>S.color),{effectList:h,ariaLabel:await tu("previewColorRampAriaLabel")})},this._hasOpacityRamp||(this._hasOpacityRamp=_.length>0)}return v!=null&&v.infos?v:null}}))).filter(Kt)}_getDomainName(t,e,i){var r;if(t&&typeof t!="function"){const s="getField"in i&&((r=i.getField)==null?void 0:r.call(i,t)),n=s&&"getFieldDomain"in i&&i.getFieldDomain?i.getFieldDomain(s.name,{excludeImpliedDomains:q("esri-widget-legacy-field-domain-calculation")}):null;return(n==null?void 0:n.type)==="coded-value"?n.getName(e):null}return null}_getClusterTitle(t){const e=this.layer,i=t.field;if("featureReduction"in e&&e.featureReduction&&e.featureReduction.type==="cluster"){const r=e.featureReduction,s="popupTemplate"in r&&r.popupTemplate,n=s&&s.fieldInfos;if(n){for(const a of n)if(a.fieldName===i)return i==="cluster_count"?a.label||{showCount:!0}:a.label}}return{showCount:!0}}_getRampTitle(t,e){var u,d;let i=t.field,r=t.normalizationField,s=!1,n=!1,a=!1,o=null;i=typeof i=="function"?null:i,r=typeof r=="function"?null:r;const l=(u=t.legendOptions)==null?void 0:u.title;if(l!=null)o=l;else if(t.valueExpressionTitle)o=t.valueExpressionTitle;else{if("renderer"in e&&e.renderer&&"authoringInfo"in e.renderer&&((d=e.renderer.authoringInfo)!=null&&d.visualVariables)){const h=e.renderer.authoringInfo.visualVariables;for(let p=0;p<h.length;p++){const m=h[p];if(m.type==="color"){if(m.style==="ratio"){s=!0;break}if(m.style==="percent"){n=!0;break}if(m.style==="percent-of-total"){a=!0;break}}}}o={field:i&&this._getFieldAlias(i,e),normField:r&&this._getFieldAlias(r,e),ratio:s,ratioPercent:n,ratioPercentTotal:a}}return o}_getRendererTitle(t,e){var o;const i=t;if((o=i.legendOptions)!=null&&o.title)return i.legendOptions.title;if(i.valueExpressionTitle)return i.valueExpressionTitle;let r=i.field,s=null,n=null;if(Cp(i)&&(s=i.normalizationField,n=i.normalizationType==="percent-of-total"),r=typeof r=="function"?null:r,s=typeof s=="function"?null:s,kp(i)){const{field2:l,field3:u,fieldDelimiter:d}=i;let h=r&&this._getFieldAlias(r,e);return l&&(h=`<${h}>${d}<${this._getFieldAlias(l,e)}>`,u&&(h=`${h}${d}<${this._getFieldAlias(u,e)}>`)),h}let a=null;return(r||s)&&(a={field:r&&this._getFieldAlias(r,e),normField:s&&this._getFieldAlias(s,e),normByPct:n}),a}_getFieldAlias(t,e){var d,h;const i="popupTemplate"in e?e.popupTemplate:null,r=i==null?void 0:i.fieldInfos;let s=r==null?void 0:r.find(p=>t===p.fieldName),n=null;"getField"in e&&e.getField?n=e.getField(t):"fieldsIndex"in e&&e.fieldsIndex&&(n=e.fieldsIndex.get(t));let a=null;const o="featureReduction"in e&&e.featureReduction;o&&(s??(s="popupTemplate"in o?(h=(d=o.popupTemplate)==null?void 0:d.fieldInfos)==null?void 0:h.find(p=>{var m;return(t==null?void 0:t.toLowerCase())===((m=p.fieldName)==null?void 0:m.toLowerCase())}):void 0),"fields"in o&&o.fields&&(a=o.fields.find(p=>{var m;return((m=p.name)==null?void 0:m.toLowerCase())===(t==null?void 0:t.toLowerCase())})));const l=s||n||a;let u=null;return l&&(u=(s==null?void 0:s.label)||(n==null?void 0:n.alias)||(a==null?void 0:a.alias)||"name"in l&&l.name||"fieldName"in l&&l.fieldName||null),u}_isUnclassedRenderer(t){const e=t.visualVariables;let i=!1;return Cp(t)&&t.classBreakInfos&&t.classBreakInfos.length===1&&e&&(i=t.field?e.some(r=>!(!r||t.field!==r.field||(t.normalizationField||r.normalizationField)&&t.normalizationField!==r.normalizationField)):!!e.length),i}};c([f()],Ci.prototype,"children",void 0),c([f({readOnly:!0})],Ci.prototype,"effectList",null),c([f()],Ci.prototype,"layerView",void 0),c([f()],Ci.prototype,"layer",void 0),c([f()],Ci.prototype,"legendElements",void 0),c([f({readOnly:!0})],Ci.prototype,"opacity",null),c([f()],Ci.prototype,"parent",void 0),c([f({readOnly:!0,dependsOn:[]})],Ci.prototype,"ready",null),c([f()],Ci.prototype,"hideLayersNotInCurrentView",void 0),c([f()],Ci.prototype,"keepCacheOnDestroy",void 0),c([f()],Ci.prototype,"respectLayerDefinitionExpression",void 0),c([f()],Ci.prototype,"respectLayerVisibility",void 0),c([f({readOnly:!0})],Ci.prototype,"scale",null),c([f()],Ci.prototype,"sublayerIds",void 0),c([f({readOnly:!0})],Ci.prototype,"isScaleDriven",null),c([f()],Ci.prototype,"title",void 0),c([f({readOnly:!0,dependsOn:["ready"],value:0})],Ci.prototype,"version",null),c([f()],Ci.prototype,"view",void 0),Ci=c([E("esri.widgets.Legend.support.ActiveLayerInfo")],Ci);const Gh={state:"state",view:"view",allLayerViews:"all-layer-views",legendProperties:"legend-properties"},Uoe=K.ofType(Ci),Vje=new Set(["esri.layers.BuildingSceneLayer","esri.layers.CatalogLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.OrientedImageryLayer","esri.layers.ParquetLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.SubtypeGroupLayer","esri.layers.TileLayer","esri.layers.VoxelLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer","esri.layers.LinkChartLayer","esri.layers.catalog.CatalogFootprintLayer","esri.layers.catalog.CatalogDynamicGroupLayer","esri.layers.knowledgeGraph.KnowledgeGraphSublayer","esri.layers.KnowledgeGraphLayer"]),Goe="view.basemapView.baseLayerViews",Hoe="view.groundView.layerViews",Woe="view.basemapView.referenceLayerViews",jje=[Goe,Hoe,"view.layerViews",Woe];let Yn=class extends ce{constructor(e){super(e),this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new K,this.activeLayerInfos=new Uoe,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this.addHandles(Y(()=>this.view,()=>this._viewHandles(),Le),Gh.view),this.addHandles(_L(()=>this._refresh()))}destroy(){this._destroyViewActiveLayerInfos(),this.view=null}get state(){var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"}_viewHandles(){this.removeHandles(Gh.state),this.view&&this.addHandles(Y(()=>this.state,()=>this._stateHandles(),Le),Gh.state)}_stateHandles(){this._resetAll(),this.state==="ready"&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this.removeHandles([Gh.allLayerViews,Gh.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this.removeHandles(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i!=null&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{view:e}=this;if(!e)return;const{allLayerViews:i}=e;i.length&&this._refresh(),this.addHandles(i.on("change",r=>this._allLayerViewsChangeHandle(r)),Gh.allLayerViews),this.addHandles(Y(()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible],()=>this._propertiesChangeHandle()),Gh.legendProperties)}_allLayerViewsChangeHandle(e){e.moved.length?this._propertiesChangeHandle():(e.removed.forEach(i=>this._destroyViewActiveLayerInfo(i.uid)),this._refresh())}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){const i=this.view;if(e.length<2||!i)return;const r=[];e.forEach(n=>{if(!n.parent){const a=n.layer.parent,o=a&&"uid"in a&&this._layerViewByLayerId[a.uid],l=o&&this._activeLayerInfosByLayerViewId[o.uid];l&&e.includes(l)&&(r.push(n),n.parent=l,l.children.add(n),this._sortActiveLayerInfos(l.children))}}),e.removeMany(r);const s={};i.allLayerViews.forEach((n,a)=>s[n.layer.uid]=a),e.sort((n,a)=>{const o=s[n.layer.uid]||0;return(s[a.layer.uid]||0)-o})}_generateLayerViews(){const e=[];return jje.filter(this._filterLayerViews,this).map(i=>_s(this,i)).filter(i=>i!=null).forEach(this._collectLayerViews("layerViews",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===Goe||e===Woe),r=!this.groundLegendVisible&&e===Hoe;return!i&&!r}_collectLayerViews(e,i){const r=s=>(s&&s.forEach(n=>{i.push(n),r(n[e])}),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some(r=>this._hasLayerInfo(r,e))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some(r=>this._isLayerUIDMatching(r,i))}_isLayerViewSupported(e){return!!Vje.has(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this.removeHandles(e.uid),this.addHandles(Y(()=>{var i;return[e.legendEnabled,(i=e.layer)==null?void 0:i.legendEnabled]},()=>this._layerActiveHandle(e)),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this.removeHandles(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){var i;return!this.respectLayerVisibility||e.legendEnabled&&((i=e.layer)==null?void 0:i.legendEnabled)}_buildActiveLayerInfo(e){var o;const i=e.layer,r=e.uid,s=this._layerInfosByLayerViewId[r];let n=this._activeLayerInfosByLayerViewId[r];if(!n){const l=(s==null?void 0:s.title)!==void 0&&s.layer.uid===i.uid;n=new Ci({layer:i,layerView:e,title:l?s.title:i.title,view:this.view??void 0,respectLayerDefinitionExpression:this.respectLayerDefinitionExpression,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:(s==null?void 0:s.sublayerIds)||[]}),this._activeLayerInfosByLayerViewId[r]=n}const a=i.parent&&"uid"in i.parent?this._layerViewByLayerId[(o=i.parent)==null?void 0:o.uid]:null;if(n.parent=this._activeLayerInfosByLayerViewId[a==null?void 0:a.uid],!this.hasHandles(r)){const l=[Y(()=>i.title,u=>this._titleHandle(u,n)),Y(()=>[i.opacity,"renderer"in i&&i.renderer,"pointSymbol"in i&&i.pointSymbol,"lineSymbol"in i&&i.lineSymbol,"polygonSymbol"in i&&i.polygonSymbol],()=>this._constructLegendElements(n)),ir(()=>{var u;return((u=this.view)==null?void 0:u.stationary)===!0},()=>this._scaleHandle(n),Le),Y(()=>e.layer?SU(e.layer,e.view):null,()=>this._constructLegendElements(n)),Y(()=>e.updating,()=>{e.layer!=null&&SU(e.layer,e.view)!=null&&this._constructLegendElements(n)}),Y(()=>"effect"in i&&i.effect,()=>this._constructLegendElements(n)),ir(()=>{var u;return(u=this.view)==null?void 0:u.timeZone},()=>this._constructLegendElements(n),Le)];if(this.respectLayerVisibility){const u=Y(()=>e.legendEnabled,h=>this._legendEnabledHandle(h,n)),d=Y(()=>i.legendEnabled,h=>this._legendEnabledHandle(h,n));l.push(u,d)}if(this.respectLayerDefinitionExpression&&"definitionExpression"in i){const u=Y(()=>[i.definitionExpression,this.respectLayerDefinitionExpression],()=>{n.respectLayerDefinitionExpression=this.respectLayerDefinitionExpression,this._constructLegendElements(n)});l.push(u)}this.addHandles(l,r)}n.isScaleDriven||this._constructLegendElements(n),this._addActiveLayerInfo(n)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){var s;const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&!this.activeLayerInfos.includes(e)){const n=e.parent;if(n)n.children.includes(e)||n.children.push(e),this._sortActiveLayerInfos(n.children);else{const a=(s=this.layerInfos)==null?void 0:s.some(l=>l.layer.uid===r.uid),o=r.parent;o&&"uid"in o&&this._layerViewByLayerId[o.uid]&&!a?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const a=[];this._activeLayerInfosWithNoParent.forEach(o=>{const l=o.layer.parent,u=l&&"uid"in l?this._layerViewByLayerId[l==null?void 0:l.uid]:null,d=this._activeLayerInfosByLayerViewId[u==null?void 0:u.uid];d&&(a.push(o),o.parent=d)}),a.length&&(this._activeLayerInfosWithNoParent.removeMany(a),a.forEach(o=>this._addActiveLayerInfo(o)))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;"featureCollections"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):"featureReduction"in i&&i.featureReduction&&"renderer"in i.featureReduction&&(i.featureReduction.type==="binning"||i.featureReduction.type==="cluster")&&(!this.view||i.featureReduction.maxScale<=this.view.scale)?e.buildLegendElementsForFeatureReduction(i.featureReduction):"renderer"in i&&i.renderer&&!("sublayers"in i)?e.buildLegendElementsForRenderer(i.renderer):"url"in i&&i.url&&i.type!=="catalog"&&i.type!=="knowledge-graph"?e.buildLegendElementsForTools():e.children.forEach(r=>this._constructLegendElements(r))}};c([f({type:Uoe})],Yn.prototype,"activeLayerInfos",void 0),c([f()],Yn.prototype,"basemapLegendVisible",void 0),c([f()],Yn.prototype,"groundLegendVisible",void 0),c([f()],Yn.prototype,"hideLayersNotInCurrentView",void 0),c([f()],Yn.prototype,"keepCacheOnDestroy",void 0),c([f()],Yn.prototype,"respectLayerDefinitionExpression",void 0),c([f()],Yn.prototype,"respectLayerVisibility",void 0),c([f()],Yn.prototype,"layerInfos",void 0),c([f({readOnly:!0})],Yn.prototype,"state",null),c([f()],Yn.prototype,"view",void 0),Yn=c([E("esri.widgets.Legend.LegendViewModel")],Yn);const vt="esri-legend--card",Sv="esri-legend",Me={base:vt,stacked:`${Sv}--stacked`,carouselTitle:`${vt}__carousel-title`,intervalSeparator:`${vt}__interval-separator`,imageryLayerStretchedImage:`${vt}__imagery-layer-image--stretched`,imageLabel:`${vt}__image-label`,layerCaption:`${vt}__layer-caption`,labelElement:`${vt}__label-element`,layerRow:`${vt}__layer-row`,labelCell:`${vt}__label-cell`,message:`${vt}__message`,rampLabel:`${vt}__ramp-label`,section:`${vt}__section`,serviceCaptionText:`${vt}__service-caption-text`,serviceContent:`${vt}__service-content`,service:`${vt}__service`,groupLayer:`${vt}__group-layer`,groupLayerChild:`${vt}__group-layer-child`,symbol:`${vt}__symbol`,sizeRampRow:`${vt}__size-ramp-row`,symbolRow:`${vt}__symbol-row`,symbolCell:`${vt}__symbol-cell`,carousel:`${vt}__carousel`,carouselItem:`${vt}__carousel-item`,intervalSeparatorsContainer:`${vt}__interval-separators-container`,relationshipLabelContainer:`${vt}__relationship-label-container`,labelContainer:`${vt}__label-container`,serviceCaptionContainer:`${vt}__service-caption-container`,symbolContainer:`${vt}__symbol-container`,colorRampContainer:`${vt}__color-ramp-container`,sizeRampContainer:`${vt}__size-ramp-container`,sizeRampPreview:`${vt}__size-ramp-preview`,pieChartRampPreview:`${vt}__pie-chart-ramp-preview`,sizeRampHorizontal:`${Sv}__size-ramp--horizontal`,rampLabelsContainer:`${Sv}__ramp-labels`,layerInfo:`${Sv}__layer-cell ${Sv}__layer-cell--info`,univariateAboveAndBelowColorRamp:"esri-univariate-above-and-below-ramp__color--card"};function qje(t,e){return e}function mi(t){const e=this;t.appendChild(e)}function Wb(t,e,i){if(!e)return;if(typeof e=="number")return e;if(typeof e=="string")return Pw(e);if("value"in e||"unit"in e)return dd(t.dotValue,e);if("colorName"in e&&"bandName"in e)return t[e.colorName]+": "+(t[e.bandName]||e.bandName);if("showCount"in e)return e.showCount?t.clusterCountTitle:void 0;let r=null;return qje(e,i)?r=e.ratioPercentTotal?"showRatioPercentTotal":e.ratioPercent?"showRatioPercent":e.ratio?"showRatio":e.normField?"showNormField":e.field?"showField":null:Zoe(e,i)&&(r=e.normField?"showNormField":e.normByPct?"showNormPct":e.field?"showField":null),r?dd(r==="showField"?"{field}":t[r],{field:e.field,normField:e.normField}):void 0}function Zoe(t,e){return!e}function Joe(t,e){return!!(e&&e==="Stretched"&&"version"in t&&typeof t.version=="number"&&t.version>=10.3&&t.declaredClass==="esri.layers.ImageryLayer")}function Bje(t,e){var i;return t.label?e[t.label]+": "+(typeof t.value=="string"?t.value:Is(t.value??0,{style:"decimal",notation:(i=t.value)!=null&&i.toString().toLowerCase().includes("e")?"scientific":"standard"})):""}function Yoe(t,e,i){switch(e){case"heatmap-ramp":return i[t.label]||t.label;case"stretch-ramp":return Bje(t,i);default:return t.label}}function Xoe(t,e){if(!t.title||typeof t.title=="string")return t.title;const i=t.type==="color-ramp"||t.type==="opacity-ramp",r=t.title,s=Wb(e,r,i);return Zoe(r,i)&&r.title?`${r.title} (${s})`:s}function Qoe(t){return!(!t||typeof t!="object")}const Uje=25,Gje=25,Hje=100;let Ap=class extends It{constructor(e,i){super(e,i),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const e=this.legendElement.infos.slice().reverse();return M("div",{class:this.classes(Me.layerRow,Me.colorRampContainer)},this._renderRampLabel(e[0]),M("div",{class:Me.symbolContainer},this._renderPreview(e),this._renderMiddleStopRampLabel(e)),this._renderRampLabel(e.at(-1)))}_renderPreview(e){const{opacity:i}=this,r=this.legendElement.type==="heatmap-ramp",s=e.length-1,n=Gje,a=s>2&&!r?Uje*s:Hje,o=a+20,l=10,u=[[{shape:{type:"path",path:`M0 ${n/2} L${l} 0 L${l} ${n} Z`},fill:e[0].color,stroke:{width:0}},{shape:{type:"rect",x:l,y:0,width:a,height:n},fill:{type:"linear",x1:l,y1:0,x2:a+l,y2:0,colors:e.map((p,m)=>({color:p.color,offset:r&&"ratio"in p?p.ratio:m/s}))},stroke:{width:0}},{shape:{type:"path",path:`M${a+l} 0 L${o} ${n/2} L${a+l} ${n} Z`},fill:e[e.length-1].color,stroke:{width:0}}]],d=$ae(u,o,n),h={filter:w3(this.effectList)??void 0,opacity:i==null?void 0:`${i}`};return M("div",{styles:h},d)}_renderMiddleStopRampLabel(e){const i=e.length%2!=0?e[e.length/2|0]:null;return i?M("div",{class:Me.intervalSeparatorsContainer},M("div",{class:Me.intervalSeparator},"|"),this._renderRampLabel(i)):null}_renderRampLabel(e){return M("div",{class:Me.rampLabel},Yoe(e,this.legendElement.type,this.messages))}};c([f()],Ap.prototype,"effectList",void 0),c([f()],Ap.prototype,"legendElement",void 0),c([f()],Ap.prototype,"messages",void 0),c([f()],Ap.prototype,"opacity",void 0),Ap=c([E("esri.widgets.Legend.styles.card.ColorRamp")],Ap);const Wje="#ddd",Vr=window.devicePixelRatio,Hh="esri-spike-ramp",ed={spikeRampContainer:`${Hh}__container`,spikeRampPreviewContainer:`${Hh}__preview-container`,spikeRampPreview:`${Hh}__preview`,spikeRampSymbolPreview:`${Hh}__symbol-preview`,spikeRampLines:`${Hh}__lines`,spikeRampLabelsContainer:`${Hh}__labels-container`,spikeRampLabel:`${Hh}__label`};function Koe(t){return t.infos.length!==5?null:M("div",{class:ed.spikeRampContainer},M("div",{class:ed.spikeRampPreviewContainer},Zje(t),Jje(t)),Yje(t))}function Zje(t){const[e,i,r]=FO(t).map(({preview:s})=>{if(!s)return null;const n=s.cloneNode(!0);return n.classList.add(ed.spikeRampSymbolPreview),n});return e&&i&&r?M("div",{class:ed.spikeRampPreview},M("div",{afterCreate:mi,bind:r}),M("div",{afterCreate:mi,bind:i}),M("div",{afterCreate:mi,bind:e})):null}function Jje(t){const[{width:e,height:i},{width:r},{width:s,height:n}]=FO(t).map(({size:L})=>Qoe(L)?{width:et(L.width),height:et(L.height)}:{width:0,height:0}),a=10,o=8,l=e+r+s+3*a,u=i,d=document.createElement("canvas");d.width=(l+a)*Vr,d.height=u*Vr,d.style.width=d.width/Vr+"px",d.style.height=d.height/Vr+"px";const h=d.getContext("2d");h.beginPath();const p=l-(e/2+a),m=0,g=l+o;h.moveTo(p*Vr,m*Vr),h.lineTo(g*Vr,0*Vr);const v=(l-o)/2,w=(i-n)/2,_=l+o,S=(i-n)/2;h.moveTo(v*Vr,w*Vr),h.lineTo(_*Vr,S*Vr);const T=s/2,C=u-n,A=l+o,O=u-n;return h.moveTo(T*Vr,C*Vr),h.lineTo(A*Vr,O*Vr),h.strokeStyle=Wje,h.lineWidth=.5*Vr,h.stroke(),M("div",{afterCreate:mi,bind:d,class:ed.spikeRampLines})}function Yje(t){const[{label:e,height:i},{label:r},{label:s,height:n}]=FO(t).map(({label:d,size:h})=>({label:d,height:Qoe(h)?et(h.height):0})),a=i-n,o={position:"absolute",top:"0"},l={position:"absolute",top:a/2+"px"},u={position:"absolute",top:`${a}px`};return M("div",{class:ed.spikeRampLabelsContainer},M("div",{class:ed.spikeRampLabel,styles:o},e),M("div",{class:ed.spikeRampLabel,styles:l},r),M("div",{class:ed.spikeRampLabel,styles:u},s))}function FO(t){return t.infos.filter((e,i)=>i%2==0)}const Xje="#ddd",G0=window.devicePixelRatio;function Qje(t){var i,r;if(!t)return;if(t.type.includes("3d")){if(!((i=t.symbolLayers)!=null&&i.length))return;const s=t.symbolLayers.at(-1),n=(r=s.resource)==null?void 0:r.primitive;return n==="circle"||n==="cross"||n==="kite"||n==="sphere"||n==="cube"||n==="diamond"}const e=t.style;return e==="circle"||e==="diamond"||e==="cross"}function Kje(t){var e,i;if(t){if(t.type.includes("3d")){if(!((e=t.symbolLayers)!=null&&e.length))return;const r=t.symbolLayers.at(-1),s=(i=r==null?void 0:r.resource)==null?void 0:i.primitive;return s==="triangle"||s==="cone"||s==="tetrahedron"}return t.style==="triangle"}}let Pp=class extends It{constructor(e,i){super(e,i),this.hasIndicators=!1,this.legendElement=null,this.opacity=1}render(){if(this.legendElement.theme==="spike")return M("div",{styles:{display:"flex",flex:"1",justifyContent:"center"}},Koe(this.legendElement));const{legendElement:e,hasIndicators:i,opacity:r}=this,s=e.infos,n=s.at(0),a=s.at(-1);if(!n||!a)return null;const{label:o,...l}=n,{label:u,...d}=a;let h=l.preview,p=d.preview;const m={"flex-direction":i?"column":"row-reverse"};if(!h||!p)return null;h=h.cloneNode(!0),h.style.display="flex",p=p.cloneNode(!0),p.style.display="flex";const g={opacity:`${r??""}`};return M("div",{class:this.classes(Me.layerRow,{[Me.sizeRampRow]:i})},M("div",{class:Me.rampLabel},i?o:u),M("div",{class:Me.sizeRampContainer,styles:m},M("div",{afterCreate:mi,bind:h,class:Me.sizeRampPreview,styles:g}),this._renderSizeRampLines(e),M("div",{afterCreate:mi,bind:p,class:Me.sizeRampPreview,styles:g})),M("div",{class:Me.rampLabel},i?u:o))}_renderSizeRampLines(e){const i=e.infos,r=i.at(0),s=i.at(-1);if(!r||!s)return null;const n=r.symbol,a=this.hasIndicators,o=r.size&&typeof r.size=="number"?r.size:0,l=s.size&&typeof s.size=="number"?s.size:0,u=r.outlineSize||0,d=s.outlineSize||0,h=et(o+u)*G0,p=et(l+d)*G0,m=a?h:h+50*G0,g=a?h/2+50*G0:h,b=Kje(n),v=Qje(n),w=document.createElement("canvas");w.width=m,w.height=g,w.style.width=w.width/G0+"px",w.style.height=w.height/G0+"px";const _=w.getContext("2d");if(a){_.beginPath();const S=0,T=0,C=m/2-p/2,A=g;_.moveTo(S,T),_.lineTo(C,A);const O=m,L=0,F=m/2+p/2,D=g;_.moveTo(O,L),_.lineTo(F,D)}else{_.beginPath();const S=0,T=g/2-p/2,C=m;_.moveTo(S,T),_.lineTo(C,0);const O=0,L=g/2+p/2,F=m,D=g;_.moveTo(O,L),_.lineTo(F,D)}return _.strokeStyle=Xje,_.stroke(),M("div",{afterCreate:mi,bind:w,styles:a?{display:"flex",marginTop:`-${b?0:v?h/2:0}px`,marginBottom:`-${b?p:v?p/2:0}px`}:{display:"flex",marginRight:`-${b?0:v?h/2:0}px`,marginLeft:`-${b?0:v?p/2:0}px`}})}};c([f()],Pp.prototype,"hasIndicators",void 0),c([f()],Pp.prototype,"legendElement",void 0),c([f()],Pp.prototype,"messages",void 0),c([f()],Pp.prototype,"opacity",void 0),Pp=c([E("esri.widgets.Legend.styles.card.SizeRamp")],Pp);const eqe=G4(),ele=10,NO=20,qS=10,DO=20,zO={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function tqe(t="vertical"){const e="stroke:rgb(200, 200, 200);stroke-width:1";return t==="vertical"?M("svg",{height:"4",width:"10"},M("line",{style:e,x1:"0",x2:"10",y1:"2",y2:"2"})):M("svg",{height:"10",width:"10"},M("line",{style:e,x1:"5",x2:"5",y1:"0",y2:"10"}))}function iqe(t,e="vertical"){const i=document.createElement("div");return i.style.height=`${NO}px`,i.className=zO.univariateAboveAndBelowSymbol,t!=null&&(i.style.opacity=t.toString()),eqe.append(i,tqe.bind(null,e)),i}function tle(t,e,i="vertical",r){t.infos.forEach((s,n)=>{if(r&&n===2)s.preview=iqe(e,i);else{const a=(Ym(s.size)?et(s.size):0)+(i==="horizontal"?DO:qS),o=s.preview,l=(o==null?void 0:o.tagName.toLowerCase())==="div",u=l?o:document.createElement("div");u.className=zO.univariateAboveAndBelowSymbol,i==="horizontal"?u.style.width=`${a}px`:u.style.height=`${a}px`,!l&&o&&u.appendChild(o),s.preview=u}})}function BS(t,e="classic"){const i=t.infos,r=i.at(0),s=i.at(-1),n=Ym(r.size)?et(r.size):0,a=Ym(s.size)?et(s.size):0;return e==="classic"?(n+qS)/2:(n-a)/2}function Zb(t,e){if(!t)return null;const i=t.infos.map(s=>s.color),r=Ip(e.type==="full"?i:e.type==="above"?i.slice(0,3):i.slice(2,5),{width:e.width,height:e.height,align:e.rampAlignment,effectList:e.effectList,ariaLabel:e.ariaLabel});return r.className=zO.colorRamp,e.opacity!=null&&(r.style.opacity=e.opacity.toString()),r}function VO(t,e,i,r="vertical"){let s=0;const n=t.infos,a=Math.floor(n.length/2),o=e==="full"||e==="above"?0:a,l=e==="full"||e==="below"?n.length-1:a;for(let u=o;u<=l;u++)if(i&&u===a)s+=r==="horizontal"?ele:NO;else{const d=n[u].size;s+=(Ym(d)?et(d):0)+(r==="horizontal"?DO:qS)}return Math.round(s)}function Jb(t,e,i,r="vertical"){const s=VO(t,e,i,r),n=t.infos,a=Math.floor(n.length/2),o=e==="full"||e==="above"?0:a,l=e==="full"||e==="below"?n.length-1:a,u=Ym(n[o].size)?n[o].size:0,d=Ym(n[l].size)?n[l].size:0,h=e==="full"?u+d:e==="above"?u:d,p=i?r==="vertical"?NO:ele:0,m=r==="vertical"?qS*(e==="full"?2:1):DO*(e==="full"?2:1);return Math.round(s-(et(h)/2+p/2+m/2))}function ile(t,e,i="vertical"){const r=t.infos;let s=r.find(({type:a})=>a==="size-ramp"),n=r.find(({type:a})=>a==="color-ramp");return s&&(s={...s},s.infos=[...s.infos],tle(s,e,i,!0)),n&&(n={...n},n.infos=[...n.infos]),i==="horizontal"&&(s==null||s.infos.reverse(),n==null||n.infos.reverse()),{sizeRampElement:s,colorRampElement:n}}function rle(t,e="vertical"){const i=t.infos;let r=i.find(({type:n})=>n==="size-ramp"),s=i.find(({type:n})=>n==="color-ramp");return r&&(r={...r},r.infos=[...r.infos],tle(r,null,e,!1)),s&&(s={...s},s.infos=[...s.infos]),e==="horizontal"&&(r==null||r.infos.reverse(),s==null||s.infos.reverse()),{sizeRampElement:r,colorRampElement:s}}const AA={marginLeft:"3px"},mg={display:"table-cell",verticalAlign:"middle"},sle={display:"flex",alignItems:"flex-start"};let Lp=class extends It{constructor(e,i){super(e,i),this.effectList=null,this.legendElement=null,this.opacity=1}render(){var A;const{legendElement:e,opacity:i,effectList:r,key:s}=this,{sizeRampElement:n,colorRampElement:a}=ile(e,i,"horizontal");if(!n)return null;const o=VO(n,"full",!0,"horizontal"),l=Jb(n,"above",!0,"horizontal"),u=Jb(n,"below",!0,"horizontal"),d=12,h=(A=this.messages)==null?void 0:A.previewColorRampAriaLabel,p=Zb(a,{width:l,height:d,rampAlignment:"horizontal",opacity:i,type:"above",effectList:r,ariaLabel:h}),m=Zb(a,{width:u,height:d,rampAlignment:"horizontal",opacity:i,type:"below",effectList:r,ariaLabel:h}),g=BS(n,"card"),b=n.infos.map(O=>O.label),v=b.length-1,w=b.map((O,L)=>L===0||L===v?M("div",{key:L},O):null),_={display:"flex",flexDirection:"column"},S={display:"flex",flexDirection:"row"},T={marginTop:"3px",display:"flex"};Bo(this.container)?T.marginRight=`${g}px`:T.marginLeft=`${g}px`;const C={width:`${o}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return M("div",{class:Me.layerRow,key:`${s}-container`,styles:_},M("div",{class:this.classes(Me.symbolContainer,Me.sizeRampHorizontal),styles:S},n.infos.map((O,L)=>M("div",{afterCreate:mi,bind:O.preview,class:Me.symbol,key:L}))),p?M("div",{class:Me.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:T},M("div",{afterCreate:mi,bind:p}),M("div",{afterCreate:mi,bind:m})):null,M("div",{class:Me.layerInfo},M("div",{class:Me.rampLabelsContainer,styles:C},w)))}};c([f()],Lp.prototype,"effectList",void 0),c([f()],Lp.prototype,"legendElement",void 0),c([f()],Lp.prototype,"messages",void 0),c([f()],Lp.prototype,"opacity",void 0),Lp=c([E("esri.widgets.Legend.styles.card.UnivariateAboveAndBelowRamp")],Lp);let Rp=class extends It{constructor(e,i){super(e,i),this.effectList=null,this.legendElement=null,this.opacity=1}render(){var w;const{legendElement:e,opacity:i,effectList:r,key:s}=this,{sizeRampElement:n,colorRampElement:a}=rle(e,"horizontal");if(!n)return null;const o=VO(n,"full",!1,"horizontal"),l=Jb(n,"full",!1,"horizontal"),u=Zb(a,{width:l,height:12,rampAlignment:"horizontal",opacity:i,type:"full",effectList:r,ariaLabel:(w=this.messages)==null?void 0:w.previewColorRampAriaLabel}),d=BS(n,"card"),h=n.infos.length-1,p=n.infos.map((_,S)=>S===0||S===h?M("div",{key:S},_.label):null),m={display:"flex",flexDirection:"column"},g={display:"flex",flexDirection:"row"},b={marginTop:"3px",display:"flex"};Bo(this.container)?b.marginRight=`${d}px`:b.marginLeft=`${d}px`;const v={width:`${o}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return M("div",{class:Me.layerRow,key:`${s}-container`,styles:m},M("div",{class:this.classes(Me.symbolContainer,Me.sizeRampHorizontal),styles:g},n.infos.map((_,S)=>M("div",{afterCreate:mi,bind:_.preview,class:Me.symbol,key:S}))),M("div",{class:Me.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:b},M("div",{afterCreate:mi,bind:u})),M("div",{class:Me.layerInfo},M("div",{class:Me.rampLabelsContainer,styles:v},p)))}};c([f()],Rp.prototype,"effectList",void 0),c([f()],Rp.prototype,"legendElement",void 0),c([f()],Rp.prototype,"messages",void 0),c([f()],Rp.prototype,"opacity",void 0),Rp=c([E("esri.widgets.Legend.styles.card.UnivariateColorSizeRamp")],Rp);function Im({level:t,class:e,...i},r){const s=nle(t);return M(`h${s}`,{...i,"aria-level":String(s),class:og(Ce.heading,e),role:"heading"},r)}function nle(t){return Yr(Math.ceil(t),1,6)}function rqe(t,e=1){return nle(t+e)}var PA;let Ca=PA=class extends It{constructor(t,e){super(t,e),this.effectList=null,this.hasIndicators=!1,this.headingLevel=3,this.isChild=!1,this.legendElement=null}render(){const t=this._renderLegendElement(),e=Xoe(this.legendElement,this.messages),i=this.hasIndicators&&!this.isChild?M("div",null,M(Im,{class:Me.carouselTitle,level:this.headingLevel},this.activeLayerInfo.title),M(Im,{class:Me.layerCaption,level:rqe(this.headingLevel)},e)):e?M(Im,{class:Me.layerCaption,level:this.headingLevel},e):null;return M("section",{"aria-labelledby":this.key,class:Me.section,id:`${this.key}-panel`,key:this.key,role:"tabpanel",tabIndex:0},i,t)}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return M(Pp,{hasIndicators:this.hasIndicators,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return M(Ap,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"relationship-ramp":return Mae(this.legendElement,this.id,{opacity:this.layer.opacity,effectList:this.effectList,ariaLabel:this.messages.previewRelationshipRampAriaLabel,key:this.key});case"pie-chart-ramp":return M("div",{afterCreate:mi,bind:this.legendElement.preview,class:Me.pieChartRampPreview,key:`${this.key}-preview`});case"univariate-above-and-below-ramp":return M(Lp,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"univariate-color-size-ramp":return M(Rp,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});default:return null}}_renderSymbolTable(t){var n,a,o;const e=t.infos.map(l=>this._renderElementInfo(l,t.legendType)).filter(Boolean);if(!e.length)return null;const i=this.activeLayerInfo.legendElements.some(({type:l})=>l==="relationship-ramp"),r=(o=(a=(n=e[0])==null?void 0:n.properties)==null?void 0:a.classes)==null?void 0:o[Me.symbolRow],s={[Me.labelContainer]:!r&&!i,[Me.relationshipLabelContainer]:i};return M("div",{class:this.classes(s)},e)}_renderElementInfo(t,e){var o;const{layer:i}=this,r="label"in t?t.label:null,s=`${this.key}-${r}`;if("type"in t&&t.type)return M(PA,{activeLayerInfo:this.activeLayerInfo,effectList:this.effectList,hasIndicators:this.hasIndicators,headingLevel:this.headingLevel,isChild:!0,key:s,layer:i,legendElement:t,messages:this.messages});if(!("preview"in t&&t.preview||"src"in t&&t.src))return null;const n=Joe(i,e),a=Wb(this.messages,r,!1)||"";if("src"in t&&t.src)return M("div",{class:Me.layerRow,key:`${s}-row`},this._renderImage(t,i,n),M("div",{class:Me.imageLabel},a));if("symbol"in t&&t.preview){if(!((o=t.symbol)!=null&&o.type.includes("simple-fill"))){if(!t.label)return M("div",{afterCreate:mi,bind:t.preview,key:`${s}-row`});const l={[Me.symbolCell]:this.hasIndicators};return M("div",{class:this.classes(Me.layerRow,{[Me.symbolRow]:this.hasIndicators}),key:`${s}-row`},M("div",{afterCreate:mi,bind:t.preview,class:this.classes(l)}),M("div",{class:this.classes(Me.imageLabel,{[Me.labelCell]:this.hasIndicators})},a))}return M("div",{class:Me.layerRow,key:`${s}-row`},M("div",{class:Me.labelElement,styles:this._getBackgroundStyles(t)},a))}return null}_getBackgroundStyles(t){var h,p;const e=t.symbol,i=e.color,r=!!(i!=null&&i.a),s="outline"in e?e.outline:null,n=!!((h=s==null?void 0:s.color)!=null&&h.a),a=new ee(r&&i?[i.r,i.g,i.b,i.a*this.layer.opacity]:[255,255,255,0]),o=n&&s.color?new ee([s.color.r,s.color.g,s.color.b,s.color.a*this.layer.opacity]):new ee([255,255,255,0]),l=((p=t.symbol.color)==null?void 0:p.isBright)??!0,u=l?"black":"white",d=l?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)";return{background:r?a.toCss(!0):"none",color:u,textShadow:`-1px -1px 0 ${d},
                  1px -1px 0 ${d},
                  -1px 1px 0 ${d},
                  1px 1px 0 ${d}`,border:n?`1px solid ${o.toCss(!0)}`:"none",filter:w3(this.effectList)??void 0}}_renderImage(t,e,i){const{label:r,src:s,opacity:n}=t,a={[Me.imageryLayerStretchedImage]:i,[Me.symbol]:!i},o={opacity:`${n??e.opacity}`},l=Wb(this.messages,r,!1);return M("img",{alt:l,"aria-label":l,border:0,class:this.classes(a),height:t.height,src:s,styles:o,width:t.width})}};c([f()],Ca.prototype,"activeLayerInfo",void 0),c([f()],Ca.prototype,"effectList",void 0),c([f()],Ca.prototype,"hasIndicators",void 0),c([f()],Ca.prototype,"headingLevel",void 0),c([f()],Ca.prototype,"isChild",void 0),c([f()],Ca.prototype,"layer",void 0),c([f()],Ca.prototype,"legendElement",void 0),c([f()],Ca.prototype,"messages",void 0),Ca=PA=c([E("esri.widgets.Legend.styles.card.LegendElement")],Ca);const sqe=768;let Pa=class extends It{constructor(e,i){super(e,i),this._hasIndicators=!1,this.activeLayerInfos=null,this.headingLevel=3,this.layout="stack",this.messages=null,this.messagesCommon=null,this.type="card",this.view=null}loadDependencies(){return Pn({carousel:()=>R(()=>import("./index-3-nFkMbF.js"),__vite__mapDeps([363,361,32,17,33,25,10])),"carousel-item":()=>R(()=>import("./index-B9f41znj.js").then(e=>e.i),[])})}render(){this._hasIndicators=this.layout==="auto"&&this.view&&this.view.container.clientWidth<=sqe||this.layout==="stack";const e=this._hasIndicators?this._renderCarousel():this._renderLayers(),i={[Me.stacked]:this._hasIndicators};return M("div",{class:this.classes(Me.base,i)},e||M("div",{class:Me.message},this.messages.noLegend))}_renderCarousel(){const e=[],i=this.activeLayerInfos;if(i)for(const r of i)this._renderSections(r,e);return e!=null&&e.length?M("calcite-carousel",{class:Me.carousel,label:this.messages.carousel},e.map((r,s)=>M("calcite-carousel-item",{class:Me.carouselItem,key:s,label:dd(this.messagesCommon.pagination.pageText,{index:s+1,total:e.length})},r))):null}_renderLayers(){var r;const e=this.activeLayerInfos,i=(r=e==null?void 0:e.toArray())==null?void 0:r.map(s=>this._renderLegendForLayer(s)).filter(Boolean);return i!=null&&i.length?i:null}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const i=e.children.toArray().map(this._renderLegendForLayer,this);return M("section",{class:this.classes(Me.service,Me.groupLayer),key:e.layer.uid},M("div",{class:Me.serviceCaptionContainer},e.title),i)}return this._renderLegendElementsForLayer(e)}_renderLegendElementsForLayer(e){var n;const i=(n=e.legendElements)==null?void 0:n.filter(Boolean);if(!(i!=null&&i.length))return null;const r=i.map(a=>M(Ca,{activeLayerInfo:e,effectList:e.effectList,hasIndicators:this._hasIndicators,headingLevel:this.headingLevel,isChild:!1,key:`${e.layer.uid}-${a.type}`,layer:e.layer,legendElement:a,messages:this.messages})),s={[Me.groupLayerChild]:!!e.parent};return M("section",{class:this.classes(Me.service,s),key:e.layer.uid},M("div",{class:Me.serviceCaptionContainer},M("div",{class:Me.serviceCaptionText},e.title)),M("div",{class:Me.serviceContent},r))}_renderSections(e,i){if(!e.ready)return;if(e.children.length)for(const s of e.children)this._renderSections(s,i);const r=e.legendElements;if(r!=null&&r.length)for(const s of r){const n=M(Ca,{activeLayerInfo:e,effectList:e.effectList,hasIndicators:this._hasIndicators,headingLevel:this.headingLevel,isChild:!1,key:`${e.layer.uid}-${s.type}`,layer:e.layer,legendElement:s,messages:this.messages});n&&i.push(n)}}};c([f()],Pa.prototype,"activeLayerInfos",void 0),c([f()],Pa.prototype,"headingLevel",void 0),c([f()],Pa.prototype,"layout",void 0),c([f(),xi("esri/widgets/Legend/t9n/Legend")],Pa.prototype,"messages",void 0),c([f(),xi("esri/t9n/common")],Pa.prototype,"messagesCommon",void 0),c([f({readOnly:!0})],Pa.prototype,"type",void 0),c([f()],Pa.prototype,"view",void 0),Pa=c([E("esri.widgets.Legend.styles.card.CardView")],Pa);const Ht="esri-legend",Re={service:`${Ht}__service`,label:`${Ht}__service-label`,layer:`${Ht}__layer`,groupLayer:`${Ht}__group-layer`,groupLayerChild:`${Ht}__group-layer-child`,layerTable:`${Ht}__layer-table`,layerTableSizeRamp:`${Ht}__layer-table--size-ramp`,layerChildTable:`${Ht}__layer-child-table`,layerCaption:`${Ht}__layer-caption`,layerBody:`${Ht}__layer-body`,layerRow:`${Ht}__layer-row`,layerInfo:`${Ht}__layer-cell ${Ht}__layer-cell--info`,imageryLayerStretchedImage:`${Ht}__imagery-layer-image--stretched`,imageryLayerInfoStretched:`${Ht}__imagery-layer-info--stretched`,symbolContainer:`${Ht}__layer-cell ${Ht}__layer-cell--symbols`,symbol:`${Ht}__symbol`,rampContainer:`${Ht}__ramps`,sizeRamp:`${Ht}__size-ramp`,colorRamp:`${Ht}__color-ramp`,opacityRamp:`${Ht}__opacity-ramp`,rampLabelsContainer:`${Ht}__ramp-labels`,rampLabel:`${Ht}__ramp-label`,message:`${Ht}__message`,univariateAboveAndBelowLabel:"esri-univariate-above-and-below-ramp__label"},nqe=24;let Op=class extends It{constructor(e,i){super(e,i),this.legendElement=null,this.opacity=1}get _preview(){const e=this.legendElement.preview;if(!e)return null;const i=this.legendElement.type==="opacity-ramp"?Re.opacityRamp:"";return e.className=`${Re.colorRamp} ${i}`,this.opacity!=null&&(e.style.opacity=this.opacity.toString()),e}render(){const{legendElement:e,_preview:i}=this;if(!i)return null;const r={width:`${nqe}px`},s={height:i.style.height};return M("div",{class:Re.layerRow,key:`${this.key}-row`},M("div",{class:Re.symbolContainer,styles:r},M("div",{afterCreate:mi,bind:i,class:Re.rampContainer})),M("div",{class:Re.layerInfo},M("div",{class:Re.rampLabelsContainer,styles:s},e.infos.map((n,a)=>this._renderRampLabel(n,a,e.type)))))}_renderRampLabel(e,i,r){return M("div",{class:e.label?Re.rampLabel:void 0,key:`${this.key}-stop-${e.label??i}-label`},Yoe(e,r,this.messages))}};c([f()],Op.prototype,"_preview",null),c([f()],Op.prototype,"legendElement",void 0),c([f()],Op.prototype,"messages",void 0),c([f()],Op.prototype,"opacity",void 0),Op=c([E("esri.widgets.Legend.styles.classic.ColorRamp")],Op);let F2=class extends It{constructor(e,i){super(e,i),this.legendElement=null}render(){const e=this.legendElement.infos.map(i=>this._renderRow(i)).filter(Boolean);return e.length?this.legendElement.theme==="spike"?Koe(this.legendElement):M("div",{class:Re.layerBody},e):null}_renderRow(e){return e.preview?M("div",{class:Re.layerRow,key:`${this.key}-${e.label}-row`},M("div",{class:this.classes(Re.symbolContainer,Re.sizeRamp)},M("div",{afterCreate:mi,bind:e.preview,class:Re.symbol})),M("div",{class:Re.layerInfo},Wb(this.messages,e.label,!1)||"")):null}};c([f()],F2.prototype,"legendElement",void 0),c([f()],F2.prototype,"messages",void 0),F2=c([E("esri.widgets.Legend.styles.classic.SizeRamp")],F2);let Fp=class extends It{constructor(e,i){super(e,i),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:i,effectList:r,key:s}=this,{sizeRampElement:n,colorRampElement:a}=ile(e,i);if(!n)return null;const o=this.messages.previewColorRampAriaLabel,l=Jb(n,"above",!0),u=Jb(n,"below",!0),d=12,h=Zb(a,{width:d,height:l,rampAlignment:"vertical",opacity:i,type:"above",effectList:r,ariaLabel:o}),p=Zb(a,{width:d,height:u,rampAlignment:"vertical",opacity:i,type:"below",effectList:r,ariaLabel:o}),m=BS(n),g=n.infos.map(O=>O.label),b=g.map((O,L)=>L===0?M("div",{class:O?h?Re.univariateAboveAndBelowLabel:Re.rampLabel:void 0,key:`${s}-color-ramp-above-label-${O??L}`},O):L===2?M("div",null):null),v=g.length-1,w=Math.floor(g.length/2),_=g.map((O,L)=>L===w||L===v?M("div",{class:O?h?Re.univariateAboveAndBelowLabel:Re.rampLabel:void 0,key:`${s}-color-ramp-below-label-${O??L}`},O):null),S={display:"table-cell",verticalAlign:"middle"},T={marginTop:`${m}px`},C={height:`${l}px`},A={height:`${u}px`};return M("div",{key:`${s}-container`,styles:sle},M("div",{class:Re.layerBody},n.infos.map((O,L)=>M("div",{class:this.classes(Re.layerRow,Re.sizeRamp),key:`${s}-row-${L}`},M("div",{afterCreate:mi,bind:O.preview,class:Re.symbol,styles:S}),h||L%2!=0?null:M("div",{class:Re.layerInfo},g[L])))),h?M("div",{styles:T},M("div",{styles:AA},M("div",{styles:mg},M("div",{afterCreate:mi,bind:h,class:Re.rampContainer})),M("div",{styles:mg},M("div",{class:Re.rampLabelsContainer,styles:C},b))),M("div",{styles:AA},M("div",{styles:mg},M("div",{afterCreate:mi,bind:p,class:Re.rampContainer})),M("div",{styles:mg},M("div",{class:Re.rampLabelsContainer,styles:A},_)))):null)}};c([f()],Fp.prototype,"effectList",void 0),c([f()],Fp.prototype,"legendElement",void 0),c([f()],Fp.prototype,"messages",void 0),c([f()],Fp.prototype,"opacity",void 0),Fp=c([E("esri.widgets.Legend.styles.classic.UnivariateAboveAndBelowRamp")],Fp);let Np=class extends It{constructor(e,i){super(e,i),this.effectList=null,this.legendElement=null,this.opacity=1}render(){var v;const{legendElement:e,opacity:i,effectList:r,key:s}=this,{sizeRampElement:n,colorRampElement:a}=rle(e);if(!n)return null;const o=BS(n),l=12,u=Jb(n,"full",!1),d=Zb(a,{width:l,height:u,rampAlignment:"vertical",opacity:i,type:"full",effectList:r,ariaLabel:(v=this.messages)==null?void 0:v.previewColorRampAriaLabel}),h=n.infos.length-1,p=n.infos.map((w,_)=>_===0||_===h?M("div",{class:w.label?a?Re.univariateAboveAndBelowLabel:Re.rampLabel:void 0,key:`${s}-color-ramp-label-${w.label??_}`},w.label):null),m={display:"table-cell",verticalAlign:"middle"},g={marginTop:`${o}px`},b={height:`${u}px`};return M("div",{key:`${s}-container`,styles:sle},M("div",{class:Re.layerBody},n.infos.map((w,_)=>M("div",{class:this.classes(Re.layerRow,Re.sizeRamp),key:`${s}-row-${_}`},M("div",{afterCreate:mi,bind:w.preview,class:Re.symbol,styles:m})))),M("div",{styles:g},M("div",{styles:AA},M("div",{styles:mg},M("div",{afterCreate:mi,bind:d,class:Re.rampContainer})),M("div",{styles:mg},M("div",{class:Re.rampLabelsContainer,styles:b},p)))))}};c([f()],Np.prototype,"effectList",void 0),c([f()],Np.prototype,"legendElement",void 0),c([f()],Np.prototype,"messages",void 0),c([f()],Np.prototype,"opacity",void 0),Np=c([E("esri.widgets.Legend.styles.classic.UnivariateColorSizeRamp")],Np);var LA;let af=LA=class extends It{constructor(t,e){super(t,e),this.effectList=null,this.isChild=!1,this.legendElement=null}render(){const t=this._renderLegendElement(),e=Xoe(this.legendElement,this.messages),i=this.isChild?Re.layerChildTable:Re.layerTable,r=e?M("div",{class:Re.layerCaption},e):null,s={[Re.layerTableSizeRamp]:this.legendElement.type==="size-ramp"||!this.isChild};return M("section",{class:this.classes(i,s),key:`${this.key}-table`},r,t)}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return M(F2,{key:this.key,legendElement:this.legendElement,messages:this.messages});case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return M(Op,{key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"relationship-ramp":return Mae(this.legendElement,this.id,{opacity:this.layer.opacity,effectList:this.effectList,ariaLabel:this.messages.previewRelationshipRampAriaLabel,key:this.key});case"pie-chart-ramp":return M("div",{afterCreate:mi,bind:this.legendElement.preview,key:`${this.key}-preview`});case"univariate-above-and-below-ramp":return M(Fp,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"univariate-color-size-ramp":return M(Np,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});default:return null}}_renderSymbolTable(t){const e=t.infos.map(i=>this._renderElementInfo(i,t.legendType)).filter(Boolean);return e.length?M("div",{class:Re.layerBody},e):null}_renderElementInfo(t,e){const{layer:i}=this,r="label"in t?t.label:null,s=`${this.key}-${r}`;if("type"in t&&t.type)return M(LA,{effectList:this.effectList,isChild:!0,key:s,layer:i,legendElement:t,messages:this.messages});if(!("preview"in t&&t.preview||"src"in t&&t.src))return null;const n=Joe(i,e),a={[Re.imageryLayerInfoStretched]:n},o={[Re.imageryLayerInfoStretched]:n};return M("div",{class:Re.layerRow,key:`${s}-row`},M("div",{class:this.classes(Re.symbolContainer,o)},this._renderPreview(t,n)),M("div",{class:this.classes(Re.layerInfo,a)},Wb(this.messages,r,!1)||""))}_renderPreview(t,e){const{layer:i}=this;return"preview"in t&&t.preview?M("div",{afterCreate:mi,bind:t.preview,class:Re.symbol}):"src"in t&&t.src?this._renderImage(t,i,e):null}_renderImage(t,e,i){const{label:r,src:s,opacity:n}=t,a={[Re.imageryLayerStretchedImage]:i,[Re.symbol]:!i},o={opacity:`${n??e.opacity}`},l=Wb(this.messages,r,!1);return M("img",{alt:l,"aria-label":l,border:0,class:this.classes(a),height:t.height,src:s,styles:o,width:t.width})}};c([f()],af.prototype,"effectList",void 0),c([f()],af.prototype,"isChild",void 0),c([f()],af.prototype,"layer",void 0),c([f()],af.prototype,"legendElement",void 0),c([f()],af.prototype,"messages",void 0),af=LA=c([E("esri.widgets.Legend.styles.classic.LegendElement")],af);const aqe=`${Ht}__`;let Va=class extends It{constructor(e,i){super(e,i),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type="classic"}render(){const e=this.activeLayerInfos,i=e==null?void 0:e.toArray().map(r=>this._renderLegendForLayer(r)).filter(Boolean);return i!=null&&i.length?M("section",null,i):M("div",{class:Re.message,key:"no-legend"},this.messages.noLegend)}_renderLegendForLayer(e,i){if(!e.ready)return null;const r=`${e.layer.uid}-version-${e.version}`,s=`${aqe}${i?`${i}-`:""}${r}`,n=e.title?Im({level:this.headingLevel,class:this.classes(Ce.heading,Re.label)},e.title):null;if(e.children.length){const a=e.children.toArray().map(o=>this._renderLegendForLayer(o,r));return M("section",{class:this.classes(Re.service,Re.groupLayer),key:s},n,a)}return this._renderLegendElementsForLayer(e,n,s)}_renderLegendElementsForLayer(e,i,r){var o;const s=(o=e.legendElements)==null?void 0:o.filter(Boolean);if(!(s!=null&&s.length))return null;const n=s.map(l=>M(af,{effectList:e.effectList,isChild:!1,key:`${r}-${l.type}`,layer:e.layer,legendElement:l,messages:this.messages})),a={[Re.groupLayerChild]:!!e.parent};return M("section",{class:this.classes(Re.service,a),key:r},i,M("div",{class:Re.layer},n))}};c([f()],Va.prototype,"activeLayerInfos",void 0),c([f()],Va.prototype,"headingLevel",void 0),c([f(),xi("esri/widgets/Legend/t9n/Legend")],Va.prototype,"messages",void 0),c([f({readOnly:!0})],Va.prototype,"type",void 0),Va=c([E("esri.widgets.Legend.styles.classic.ClassicView")],Va);const oqe={base:"esri-legend"};let pr=class extends It{constructor(e,i){super(e,i),this.headingLevel=3,this.messages=null,this.viewModel=new Yn,this.style=new Va}initialize(){this.addHandles([wr(()=>this.view,"resize",()=>this.scheduleRender()),wr(()=>this.activeLayerInfos,"change",()=>this._refreshActiveLayerInfos(this.activeLayerInfos)),Y(()=>this.headingLevel,e=>{const{style:i}=this;i&&(i.headingLevel=e)}),Y(()=>this.style,(e,i)=>{i&&e!==i&&i.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,e.type==="card"&&(e.view=this.view),e.headingLevel=this.headingLevel)},Le)])}destroy(){var e;(e=this.style)==null||e.destroy()}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(e){this.viewModel.activeLayerInfos=e}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(e){this.viewModel.basemapLegendVisible=e}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(e){this.viewModel.groundLegendVisible=e}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(e){this.viewModel.hideLayersNotInCurrentView=e}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(e){this.viewModel.keepCacheOnDestroy=e}get respectLayerDefinitionExpression(){return this.viewModel.respectLayerDefinitionExpression}set respectLayerDefinitionExpression(e){this.viewModel.respectLayerDefinitionExpression=e}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(e){this.viewModel.respectLayerVisibility=e}get icon(){return"legend"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}set style(e){const i=this._get("style");e!==i&&(i==null||i.destroy()),this._set("style",e)}castStyle(e){if(e instanceof Pa||e instanceof Va)return e;if(typeof e=="string")return e==="card"?new Pa:new Va;if(e&&typeof e.type=="string"){const i={...e};return delete i.type,e.type==="card"?new Pa(i):new Va(i)}return new Va}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return M("div",{class:this.classes(oqe.base,Ce.widget,this.style instanceof Va?Ce.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){e.forEach(i=>{this.removeHandles(`version_${i.layer.uid}`),this._renderOnActiveLayerInfoChange(i)}),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const i=Y(()=>e.version,()=>this.scheduleRender());this.addHandles(i,`version_${e.layer.uid}`);const r=wr(()=>e.children,"change",()=>e.children.forEach(s=>this._renderOnActiveLayerInfoChange(s)),Le);this.addHandles(r,`version_${e.layer.uid}`),e.children.forEach(s=>this._renderOnActiveLayerInfoChange(s))}};c([f()],pr.prototype,"activeLayerInfos",null),c([f()],pr.prototype,"basemapLegendVisible",null),c([f()],pr.prototype,"groundLegendVisible",null),c([f()],pr.prototype,"headingLevel",void 0),c([f()],pr.prototype,"hideLayersNotInCurrentView",null),c([f()],pr.prototype,"keepCacheOnDestroy",null),c([f()],pr.prototype,"respectLayerDefinitionExpression",null),c([f()],pr.prototype,"respectLayerVisibility",null),c([f()],pr.prototype,"icon",null),c([f()],pr.prototype,"label",null),c([f()],pr.prototype,"layerInfos",null),c([f(),xi("esri/widgets/Legend/t9n/Legend")],pr.prototype,"messages",void 0),c([f()],pr.prototype,"style",null),c([Xe("style")],pr.prototype,"castStyle",null),c([f()],pr.prototype,"view",null),c([f()],pr.prototype,"viewModel",void 0),pr=c([E("esri.widgets.Legend")],pr);const ale=pr,lqe=Object.freeze(Object.defineProperty({__proto__:null,default:ale},Symbol.toStringTag,{value:"Module"}));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const cqe=fa`@layer{arcgis-legend{display:block}}`,uqe=OS(ale);var ih;let dqe=(ih=class extends Ts{constructor(){super(...arguments),this.widget=uqe(this),this.viewModel=this.widget.viewModel,this.activeLayerInfos=this.widget.activeLayerInfos,this.autoDestroyDisabled=!1,this.basemapLegendVisible=this.widget.basemapLegendVisible,this.headingLevel=this.widget.headingLevel,this.hideLayersNotInCurrentView=this.widget.hideLayersNotInCurrentView,this.icon=this.widget.icon,this.label=this.widget.label,this.layerInfos=this.widget.layerInfos,this.legendStyle=this.widget.style,this.position="bottom-left",this.respectLayerDefinitionExpression=this.widget.respectLayerDefinitionExpression,this.respectLayerVisibilityDisabled=this.widget.respectLayerVisibility,this.state=this.viewModel.state,this.arcgisPropertyChange=d0()("state"),this.arcgisReady=Bs()}async destroy(){await this.manager.destroy()}},ih.properties={activeLayerInfos:0,autoDestroyDisabled:5,basemapLegendVisible:5,headingLevel:9,hideLayersNotInCurrentView:5,icon:1,label:1,layerInfos:0,legendStyle:1,position:1,referenceElement:1,respectLayerDefinitionExpression:5,respectLayerVisibilityDisabled:5,state:3},ih.shadowRootOptions=Wo,ih.styles=cqe,ih);gd("arcgis-legend",dqe);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function fqe(t){return t.map(e=>{let i="";for(let r=0;r<e;r++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const ole=()=>fqe([2,1,1,1,3]);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const US=One(eZ);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const H0={percentage:"percentage",progressRing:"ring--progress",ring:"ring",rings:"rings",text:"text",trackRing:"ring--track"},hqe=fa`:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`,h7=class h7 extends Ts{constructor(){super(...arguments),this.messages=US({name:null}),this.complete=!1,this.inline=!1,this.scale="m",this.text="",this.type="indeterminate",this.value=0}connectedCallback(){super.connectedCallback(),this.updateFormatter()}load(){requestAnimationFrame(()=>this.valueChangeHandler())}willUpdate(e){e.has("value")&&(this.hasUpdated||this.value!==0)&&this.valueChangeHandler(),(e.has("type")&&(this.hasUpdated||this.type!=="indeterminate")||e.has("messages"))&&this.updateFormatter()}valueChangeHandler(){this.complete=this.type.startsWith("determinate")&&this.value===100}formatValue(){return this.type!=="determinate-value"?`${this.value}`:this.formatter.format(this.value/100)}getSize(e){return{s:32,m:64,l:96}[e]}getInlineSize(e){return{s:12,m:16,l:24}[e]}updateFormatter(){var e;this.type!=="determinate-value"||((e=this.formatter)==null?void 0:e.resolvedOptions().locale)===this.messages._lang||(this.formatter=new Intl.NumberFormat(this.messages._lang,{style:"percent"}))}render(){const{el:e,inline:i,label:r,text:s,type:n,value:a}=this,o=e.id||ole(),l=n!=="indeterminate",u=Math.floor(a);return this.el.ariaLabel=r,this.el.ariaValueMax=l?"100":void 0,this.el.ariaValueMin=l?"0":void 0,this.el.ariaValueNow=l?u.toString():void 0,sfe(this.el,"id",o),this.el.role="progressbar",bt`<div class=${ft(H0.rings)}>${this.renderRing("track")}${this.renderRing("progress")}${!i&&l&&bt`<div class=${ft(H0.percentage)}>${this.formatValue()}</div>`||""}</div>${!i&&s&&bt`<div class=${ft(H0.text)}>${s}</div>`||""}`}renderRing(e){const{inline:i,scale:r,value:s}=this,n=i?this.getInlineSize(r):this.getSize(r),o=n*.45;let l;if(e==="progress"){const u=2*o*Math.PI,d=(this.type.startsWith("determinate")?s:24)/100*u,h=u-d;l={"stroke-dasharray":`${d} ${h}`}}return bt`<svg aria-hidden=true class=${ft({[H0.ring]:!0,[H0.trackRing]:e==="track",[H0.progressRing]:e==="progress"})} style=${YW(l)} viewBox=${`0 0 ${n} ${n}`}>${FT`<circle cx=${n/2} cy=${n/2} r=${o??dt} />`}</svg>`}};h7.properties={complete:[7,{},{reflect:!0,type:Boolean}],inline:[7,{},{reflect:!0,type:Boolean}],label:1,scale:[3,{},{reflect:!0}],text:1,type:[3,{},{reflect:!0}],value:[9,{},{type:Number}]},h7.styles=hqe;let y_=h7;z_("calcite-loader",y_);const pqe=Object.freeze(Object.defineProperty({__proto__:null,Loader:y_},Symbol.toStringTag,{value:"Module"})),$3=Object.freeze(Object.defineProperty({__proto__:null,Loader:y_},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Tw=(t,e)=>{var r;const i=t._$AN;if(i===void 0)return!1;for(const s of i)(r=s._$AO)==null||r.call(s,e,!1),Tw(s,e);return!0},Q8=t=>{let e,i;do{if((e=t._$AM)===void 0)break;i=e._$AN,i.delete(t),t=e}while((i==null?void 0:i.size)===0)},lle=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(i===void 0)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),gqe(e)}};function mqe(t){this._$AN!==void 0?(Q8(this),this._$AM=t,lle(this)):this._$AM=t}function yqe(t,e=!1,i=0){const r=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(e)if(Array.isArray(r))for(let n=i;n<r.length;n++)Tw(r[n],!1),Q8(r[n]);else r!=null&&(Tw(r,!1),Q8(r));else Tw(this,t)}const gqe=t=>{t.type==wf.CHILD&&(t._$AP??(t._$AP=yqe),t._$AQ??(t._$AQ=mqe))};let bqe=class extends sP{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,i,r){super._$AT(e,i,r),lle(this),this.isConnected=e._$AU}_$AO(e,i=!0){var r,s;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)==null||r.call(this):(s=this.disconnected)==null||s.call(this)),i&&(Tw(this,e),Q8(this))}setValue(e){if(FW(this._$Ct))this._$Ct._$AI(e,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=e,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const RA=()=>new vqe;let vqe=class{};const dT=new WeakMap,g_=rP(class extends bqe{render(t){return dt}update(t,[e]){var r;const i=e!==this.G;return i&&this.G!==void 0&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.G=e,this.ht=(r=t.options)==null?void 0:r.host,this.rt(this.ct=t.element)),dt}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let i=dT.get(e);i===void 0&&(i=new WeakMap,dT.set(e,i)),i.get(this.G)!==void 0&&this.G.call(this.ht,void 0),i.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){var t,e;return typeof this.G=="function"?(t=dT.get(this.ht??globalThis))==null?void 0:t.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function K8(t,e,i){const r=wqe(t);return new r(e,i)}function wqe(t){class e extends window.MutationObserver{constructor(r){super(r),this.observedEntry=[],this.callback=r}observe(r,s){return this.observedEntry.push({target:r,options:s}),super.observe(r,s)}unobserve(r){const s=this.observedEntry.filter(n=>n.target!==r);this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),s.forEach(n=>this.observe(n.target,n.options))}}return function(){return t==="intersection"?window.IntersectionObserver:t==="mutation"?e:window.ResizeObserver}()}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 *//*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var _qe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],OA=_qe.join(","),cle=typeof Element>"u",b_=cle?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,e7=!cle&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},t7=function t(e,i){var r;i===void 0&&(i=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),n=s===""||s==="true",a=n||i&&e&&t(e.parentNode);return a},Sqe=function(e){var i,r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return r===""||r==="true"},xqe=function(e,i,r){if(t7(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(OA));return i&&b_.call(e,OA)&&s.unshift(e),s=s.filter(r),s},$qe=function t(e,i,r){for(var s=[],n=Array.from(e);n.length;){var a=n.shift();if(!t7(a,!1))if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,u=t(l,!0,r);r.flatten?s.push.apply(s,u):s.push({scopeParent:a,candidates:u})}else{var d=b_.call(a,OA);d&&r.filter(a)&&(i||!e.includes(a))&&s.push(a);var h=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),p=!t7(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(h&&p){var m=t(h===!0?a.children:h.children,!0,r);r.flatten?s.push.apply(s,m):s.push({scopeParent:a,candidates:m})}else n.unshift.apply(n,a.children)}}return s},ule=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},dle=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Sqe(e))&&!ule(e)?0:e.tabIndex},Tqe=function(e,i){var r=dle(e);return r<0&&i&&!ule(e)?0:r},Iqe=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},fle=function(e){return e.tagName==="INPUT"},Eqe=function(e){return fle(e)&&e.type==="hidden"},Mqe=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return i},Cqe=function(e,i){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===i)return e[r]},kqe=function(e){if(!e.name)return!0;var i=e.form||e7(e),r=function(o){return i.querySelectorAll('input[type="radio"][name="'+o+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var n=Cqe(s,e.form);return!n||n===e},Aqe=function(e){return fle(e)&&e.type==="radio"},Pqe=function(e){return Aqe(e)&&!kqe(e)},Lqe=function(e){var i,r=e&&e7(e),s=(i=r)===null||i===void 0?void 0:i.host,n=!1;if(r&&r!==e){var a,o,l;for(n=!!((a=s)!==null&&a!==void 0&&(o=a.ownerDocument)!==null&&o!==void 0&&o.contains(s)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!n&&s;){var u,d,h;r=e7(s),s=(u=r)===null||u===void 0?void 0:u.host,n=!!((d=s)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(s))}}return n},EG=function(e){var i=e.getBoundingClientRect(),r=i.width,s=i.height;return r===0&&s===0},Rqe=function(e,i){var r=i.displayCheck,s=i.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var n=b_.call(e,"details>summary:first-of-type"),a=n?e.parentElement:e;if(b_.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var o=e;e;){var l=e.parentElement,u=e7(e);if(l&&!l.shadowRoot&&s(l)===!0)return EG(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=o}if(Lqe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return EG(e);return!1},Oqe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var r=0;r<i.children.length;r++){var s=i.children.item(r);if(s.tagName==="LEGEND")return b_.call(i,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}i=i.parentElement}return!1},Fqe=function(e,i){return!(i.disabled||t7(i)||Eqe(i)||Rqe(i,e)||Mqe(i)||Oqe(i))},MG=function(e,i){return!(Pqe(i)||dle(i)<0||!Fqe(e,i))},Nqe=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},Dqe=function t(e){var i=[],r=[];return e.forEach(function(s,n){var a=!!s.scopeParent,o=a?s.scopeParent:s,l=Tqe(o,a),u=a?t(s.candidates):o;l===0?a?i.push.apply(i,u):i.push(o):r.push({documentOrder:n,tabIndex:l,item:s,isScope:a,content:u})}),r.sort(Iqe).reduce(function(s,n){return n.isScope?s.push.apply(s,n.content):s.push(n.content),s},[]).concat(i)},zqe=function(e,i){i=i||{};var r;return i.getShadowRoot?r=$qe([e],i.includeContainer,{filter:MG.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:Nqe}):r=xqe(e,i.includeContainer,MG.bind(null,i)),Dqe(r)};const Vqe={getShadowRoot:!0};function rut(t){return t?t.id=t.id||`${t.tagName.toLowerCase()}-${ole()}`:""}function sut(t){return Array.isArray(t)?t:Array.from(t)}function nut(t){const e=p0(t,`.${px.darkMode}, .${px.lightMode}, .${px.autoMode}`);return e!=null&&e.classList.contains("calcite-mode-dark")||e!=null&&e.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function jqe(t){const e="dir",i=`[${e}]`,r=p0(t,i);return r?r.getAttribute(e):"ltr"}function aut(t){return t?parseFloat(getComputedStyle(t).inlineSize):0}function jO(t){return t.getRootNode()}function out(t){const e=jO(t);return"host"in e?e:null}function lut(t,e){if(!t)return 0;const r=document.createElement("canvas").getContext("2d");return r.font=e,r.measureText(t).width}function hle(t){return t.host||null}function qO(t,{selector:e,id:i}){if(!t)return null;t.assignedSlot&&(t=t.assignedSlot);const r=jO(t);return(i?"getElementById"in r?r.getElementById(i):null:e?r.querySelector(e):null)||qO(hle(r),{selector:e,id:i})}function p0(t,e){return t?t.closest(e)||p0(hle(jO(t)),e):null}function qqe(t){return typeof(t==null?void 0:t.setFocus)=="function"}async function Bqe(t){if(t)return qqe(t)?t.setFocus():t.focus()}function Uqe(t){if(t)return zqe(t,Vqe)[0]??t}function cut(t){var e;(e=Uqe(t))==null||e.focus()}function uut(t,e){return Array.from(t.children).filter(i=>i.matches(e))}function Gqe(t,e){return t.filter(i=>i.matches(e))}function dut(t,e,i){if(typeof e=="string"&&e!=="")return e;if(e===""||e===!0)return t[i]}function fut(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function Hqe(t){return(!!t).toString()}function Wqe(t){return ple(t)||Yqe(t)}function Zqe(t){return Xqe(t).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent).join("").trim()}function Jqe(t){var e;for(const i of t.childNodes)if(i.nodeType===Node.TEXT_NODE&&((e=i.textContent)==null?void 0:e.trim())!==""||i.nodeType===Node.ELEMENT_NODE)return!0;return!1}function Yqe(t){return!!Zqe(t)}function Xqe(t){return t.currentTarget.assignedNodes({flatten:!0})}function ple(t){return!!Qqe(t).length}function Qqe(t,e){return Kqe(t.target,e)}function Kqe(t,e){const i=t.assignedElements({flatten:!0});return e?Gqe(i,e):i}function hut(t){return!!(t.isPrimary&&t.button===0)}function put(t){return t.detail===0}const mut=(t,e,i,r=!0)=>{const s=t.indexOf(e),n=s===0,a=s===t.length-1;r&&(i=i==="previous"&&n?"last":i==="next"&&a?"first":i);let o;return i==="previous"?o=t[s-1]||t[r?t.length-1:s]:i==="next"?o=t[s+1]||t[r?0:s]:i==="last"?o=t[t.length-1]:o=t[0],Bqe(o),o};function eBe(t,e){if(t.parentNode!==e.parentNode)return!1;const i=Array.from(t.parentNode.children);return i.indexOf(t)<i.indexOf(e)}async function yut(t,e,i,r){return mle(t,e,"animation",i,r)}async function gut(t,e,i,r){return mle(t,e,"transition",i,r)}async function tBe(t,e){await FA(),t==null||t(),await FA(),e==null||e()}function CG(t,e,i){const r=e==="transition"?"transitionProperty":"animationName";return t.getAnimations().find(s=>s[r]===i)}async function mle(t,e,i,r,s){let n=CG(t,i,e);if(n||(await FA(),n=CG(t,i,e)),!n)return tBe(r,s);r==null||r();try{await n.finished}catch{}finally{s==null||s()}}function FA(){return new Promise(t=>requestAnimationFrame(()=>t()))}function but(t){switch(!0){case t.endsWith("px"):return parseFloat(t);case t.endsWith("vw"):return window.innerWidth/100*parseFloat(t);case t.endsWith("vh"):return window.innerHeight/100*parseFloat(t);default:return 0}}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const kG={scrim:"scrim",content:"content"},AG={s:72,l:480},iBe=fa`:host{position:absolute;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity: 0 }to{--tw-text-opacity: 1 }}.scrim{position:absolute;inset:0;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`,p7=class p7 extends Ts{constructor(){super(...arguments),this.resizeObserver=K8("resize",()=>this.handleResize()),this.messages=US(),this.hasContent=!1,this.loading=!1}connectedCallback(){var e;super.connectedCallback(),(e=this.resizeObserver)==null||e.observe(this.el)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.resizeObserver)==null||e.disconnect()}handleDefaultSlotChange(e){this.hasContent=Wqe(e)}storeLoaderEl(e){this.loaderEl=e,this.handleResize()}getScale(e){return e<AG.s?"s":e>=AG.l?"l":"m"}handleResize(){const{loaderEl:e,el:i}=this;e&&(this.loaderScale=this.getScale(Math.min(i.clientHeight,i.clientWidth)??0))}render(){const{hasContent:e,loading:i,messages:r}=this;return bt`<div class=${ft(kG.scrim)}>${i?bt`<calcite-loader .label=${r.loading} .scale=${this.loaderScale} ${g_(this.storeLoaderEl)}></calcite-loader>`:null}<div class=${ft(kG.content)} .hidden=${!e}><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div>`}};p7.properties={hasContent:[16,{},{state:!0}],loaderScale:[16,{},{state:!0}],loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}]},p7.styles=iBe;let v_=p7;z_("calcite-scrim",v_);const rBe=Object.freeze(Object.defineProperty({__proto__:null,Scrim:v_},Symbol.toStringTag,{value:"Module"})),sBe=Object.freeze(Object.defineProperty({__proto__:null,Scrim:v_},Symbol.toStringTag,{value:"Module"}));/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const PG=new Set,LG={trace:0,debug:1,info:2,warn:4,error:8,off:10};function nBe(t){return LG[t]>=LG[ofe]}function Gy(t,...e){if(!nBe(t))return;console[t].call(this,"%ccalcite","background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;",...e)}let fT;const yle={debug:t=>Gy("debug",t),info:t=>Gy("info",t),warn:t=>Gy("warn",t),error:t=>Gy("error",t),trace:t=>Gy("trace",t),deprecated:aBe};function aBe(t,{component:e,name:i,suggested:r,removalVersion:s}){const n=`${t}:${t==="component"?"":e}${i}`;if(PG.has(n))return;PG.add(n);const a=Array.isArray(r);a&&!fT&&(fT=new Intl.ListFormat("en",{style:"long",type:"disjunction"}));const o=`[${i}] ${t} is deprecated and will be removed in ${s==="future"?"a future version":`v${s}`}.${r?` Use ${a?fT.format(r.map(l=>`"${l}"`)):`"${r}"`} instead.`:""}`;Gy("warn",o)}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const oBe={flipRtl:"flip-rtl"},gle={},hT={},ble={s:16,m:24,l:32};function vle({icon:t,scale:e}){const i=ble[e],r=uBe(t),s=r.charAt(r.length-1)==="F";return`${s?r.substring(0,r.length-1):r}${i}${s?"F":""}`}async function lBe(t){const e=vle(t),i=wle(e);if(i)return i;hT[e]||(hT[e]=fetch(eZ(`./assets/icon/${e}.json`)).then(s=>s.json()).catch(()=>(yle.error(`${t.icon} (${t.scale}) icon failed to load`),"")));const r=await hT[e];return gle[e]=r,r}function cBe(t){return wle(vle(t))}function wle(t){return gle[t]}function uBe(t){const e=!isNaN(Number(t.charAt(0))),i=t.split("-");if(i.length>0){const s=/[a-z]/i;t=i.map((n,a)=>n.replace(s,function(l,u){return a===0&&u===0?l:l.toUpperCase()})).join("")}return e?`i${t}`:t}const dBe=fa`:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`,m7=class m7 extends Ts{constructor(){super(...arguments),this.visible=!1,this.flipRtl=!1,this.icon=null,this.preload=!1,this.scale="m"}connectedCallback(){if(super.connectedCallback(),this.preload){this.visible=!0,this.loadIconPathData();return}this.visible||this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}willUpdate(e){(e.has("icon")&&(this.hasUpdated||this.icon!==null)||e.has("scale")&&(this.hasUpdated||this.scale!=="m"))&&this.loadIconPathData()}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.intersectionObserver)==null||e.disconnect(),this.intersectionObserver=null}async loadIconPathData(){const{icon:e,scale:i,visible:r}=this;if(!e||!r)return;const s={icon:e,scale:i},n=cBe(s)||await lBe(s);e===this.icon&&(this.pathData=n)}waitUntilVisible(e){if(this.intersectionObserver=K8("intersection",i=>{i.forEach(r=>{r.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:"50px"}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}render(){const{el:e,flipRtl:i,pathData:r,scale:s,textLabel:n}=this,a=jqe(e),o=ble[s],l=!!n,u=[].concat(r||"");return this.el.ariaHidden=Hqe(!l),this.el.ariaLabel=l?n:null,this.el.role=l?"img":null,bt`<svg aria-hidden=true class=${ft({[oBe.flipRtl]:a==="rtl"&&i,svg:!0})} fill=currentColor height=100% viewBox=${`0 0 ${o} ${o}`} width=100% xmlns=http://www.w3.org/2000/svg>${u.map(d=>typeof d=="string"?FT`<path d=${d??dt} />`:FT`<path d=${d.d??dt} opacity=${("opacity"in d?d.opacity:1)??dt} />`)}</svg>`}};m7.properties={pathData:[16,{},{state:!0}],visible:[16,{},{state:!0}],flipRtl:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],preload:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],textLabel:1},m7.styles=dBe;let w_=m7;z_("calcite-icon",w_);const fBe=Object.freeze(Object.defineProperty({__proto__:null,Icon:w_},Symbol.toStringTag,{value:"Module"})),m0=Object.freeze(Object.defineProperty({__proto__:null,Icon:w_},Symbol.toStringTag,{value:"Module"}));/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function Iw(t){return t==="l"?"m":"s"}function vut(t,e,i){!t[e]&&!t[i]&&yle.warn(`[${t.el.localName}] "${e.toString()}" or "${i.toString()}" is required.`)}function wut(t){return t.hidden||t.itemHidden}async function _le(t){await t.componentOnReady(),await t.updateComplete}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function hBe(){const{disabled:t}=this;t||HTMLElement.prototype.click.call(this)}function Sle(t){t.target.disabled&&t.preventDefault()}const xle=["mousedown","mouseup","click"];function $le(t){t.target.disabled&&(t.stopImmediatePropagation(),t.preventDefault())}const i7={capture:!0};function Tle(t){if(t.disabled){t.el.setAttribute("aria-disabled","true"),t.el.contains(document.activeElement)&&document.activeElement.blur(),pBe(t);return}yBe(t),t.el.removeAttribute("aria-disabled")}function pBe(t){t.el.click=hBe,mBe(t.el)}function mBe(t){t.addEventListener("pointerdown",Sle,i7),xle.forEach(e=>t.addEventListener(e,$le,i7))}function yBe(t){delete t.el.click,gBe(t.el)}function gBe(t){t.removeEventListener("pointerdown",Sle,i7),xle.forEach(e=>t.removeEventListener(e,$le,i7))}const bBe={container:"interaction-container"},Ile=({children:t,disabled:e})=>bt`<div class=${ft(bBe.container)} .inert=${e}>${t}</div>`;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function vBe(t){return t==="Enter"||t===" "}const _ut=["0","1","2","3","4","5","6","7","8","9"];/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const rs={title:"title",close:"close",imageContainer:"image-container",chipIcon:"chip-icon",textSlotted:"text--slotted",container:"container",imageSlotted:"image--slotted",closable:"closable",multiple:"multiple",single:"single",selectable:"selectable",selectIcon:"select-icon",selectIconActive:"select-icon--active",nonInteractive:"non-interactive",isCircle:"is-circle",selected:"selected"},wBe={image:"image"},o9={close:"x",checkedSingle:"circle-f",uncheckedMultiple:"square",checkedMultiple:"check-square-f"},_Be=fa`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-flex;cursor:default;border-radius:var(--calcite-chip-corner-radius, 9999px)}:host([closed]){display:none}:host([appearance=outline]) .container,:host([appearance=outline-fill]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([appearance=outline]) .close,:host([appearance=outline-fill]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([appearance=outline]):host([kind=brand]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-brand))}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=inverse]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-border-inverse))}:host([appearance=outline]):host([kind=neutral]),:host([appearance=outline-fill]):host([kind=neutral]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-border-1))}:host([appearance=outline]){--calcite-internal-chip-background-color: transparent}:host([appearance=outline-fill]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-foreground-1))}:host([appearance=solid]){--calcite-internal-chip-border-color: transparent}:host([appearance=solid]):host([kind=brand]) .container,:host([appearance=solid]):host([kind=inverse]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-inverse))}:host([appearance=solid]):host([kind=brand]) .close,:host([appearance=solid]):host([kind=inverse]) .close{outline-color:var(--calcite-color-text-inverse)}:host([appearance=solid]):host([kind=brand]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-brand))}:host([appearance=solid]):host([kind=inverse]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-inverse))}:host([appearance=solid]):host([kind=inverse]) .close:hover{background-color:var(--calcite-color-inverse-hover)}:host([appearance=solid]):host([kind=inverse]) .close:active{background-color:var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=neutral]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-foreground-2))}:host([kind=neutral]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([kind=neutral]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([selected]) .select-icon{opacity:1}:host([appearance=solid]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-3);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-border-3)}:host([appearance=solid]):host([kind=inverse]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-inverse-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-brand-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-2);--calcite-internal-chip-selectable-hover-border-color: var(--calcite-color-border-input);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-foreground-3);--calcite-internal-chip-selectable-active-border-color: var(--calcite-color-text-3)}:host([appearance=outline-fill]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-2);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-transparent-hover);--calcite-internal-chip-selectable-hover-border-color: var(--calcite-color-border-input);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-transparent-press);--calcite-internal-chip-selectable-active-border-color: var(--calcite-color-text-3)}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-transparent-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-transparent-press)}:host([scale=s]) .container{--calcite-internal-chip-block-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--2);--calcite-internal-chip-icon-size: var(--calcite-size-xs, 1rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-image-size: var(--calcite-spacing-xl, 1.25rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-close-size: var(--calcite-size-xs, 1rem) }:host([scale=s]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px)}:host([scale=s]) .container.image--slotted:has(.chip-icon),:host([scale=s]) .container.image--slotted.text--slotted,:host([scale=s]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.image--slotted:not(.text--slotted,:has(.chip-icon)),:host([scale=s]) .container.image--slotted:not(.selectable){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=s]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.multiple:not(.is-circle).image--slotted:not(.text--slotted){--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container{--calcite-internal-chip-block-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--1);--calcite-internal-chip-icon-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-image-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-close-size: var(--calcite-size-sm, 1.5rem) }:host([scale=m]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=m]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.image--slotted:has(.chip-icon),:host([scale=m]) .container.image--slotted.text--slotted,:host([scale=m]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=m]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.multiple:not(.is-circle){--calcite-internal-chip-select-space-x-end: .125rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=m]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container{--calcite-internal-chip-block-size: 2.75rem ;--calcite-internal-chip-container-space-x-end: .5rem ;--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-font-size: var(--calcite-font-size-0);--calcite-internal-chip-icon-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-icon-space: .5rem ;--calcite-internal-chip-image-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-title-space: .5rem ;--calcite-internal-close-size: var(--calcite-size-md, 2rem) }:host([scale=l]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.image--slotted:has(.chip-icon),:host([scale=l]) .container.image--slotted.text--slotted,:host([scale=l]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: .5rem }:host([scale=l]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=l]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: .5rem }:host([scale=l]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .75rem }:host([scale=l]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) }.container{box-sizing:border-box;display:inline-flex;block-size:100%;max-inline-size:100%;align-items:center;justify-content:center;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-internal-chip-background-color);border-color:var(--calcite-internal-chip-border-color);border-radius:var(--calcite-chip-corner-radius, 9999px);border-width:var(--calcite-border-width-sm);border-style:solid;font-size:var(--calcite-internal-chip-font-size, var(--calcite-font-size));padding-inline-start:var(--calcite-internal-chip-container-space-x-start);padding-inline-end:var(--calcite-internal-chip-container-space-x-end);block-size:var(--calcite-internal-chip-block-size, auto);inline-size:var(--calcite-internal-chip-inline-size, auto);min-inline-size:var(--calcite-internal-chip-block-size, auto)}.container:hover .select-icon--active{opacity:var(--calcite-opacity-full, 1)}.container.selectable{cursor:pointer}.container.selectable:hover{background-color:var(--calcite-internal-chip-selectable-hover-background-color);border-color:var(--calcite-internal-chip-selectable-hover-border-color)}.container.selectable:active{background-color:var(--calcite-internal-chip-selectable-active-background-color);border-color:var(--calcite-internal-chip-selectable-active-border-color)}.container:not(.non-interactive):focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container.text--slotted .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container:not(.text--slotted) .title,.container:not(.image--slotted) .image-container{display:none}.container.is-circle .chip-icon,.container.is-circle .image-container{padding:var(--calcite-spacing-none, 0)}.title{padding-inline:var(--calcite-internal-chip-title-space)}.image-container{display:inline-flex;overflow:hidden;align-items:center;justify-content:center;pointer-events:none;block-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));padding-inline-start:var(--calcite-spacing-none, 0);padding-inline-end:var(--calcite-internal-chip-image-space-x-end, 0)}.chip-icon{position:relative;margin-block:0px;display:inline-flex;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);color:var(--calcite-chip-icon-color, var(--calcite-chip-text-color, var(--calcite-icon-color, currentColor)));padding-inline:var(--calcite-internal-chip-icon-space, var(--calcite-spacing-xs, .375rem))}.select-icon{align-self:center;justify-content:center;align-items:center;display:flex;inset-block-start:-1px;position:absolute;visibility:hidden;inline-size:auto;opacity:0;transition:opacity .15s ease-in-out,inline-size .15s ease-in-out;color:var(--calcite-chip-select-icon-color, currentColor)}.select-icon.select-icon--active{position:relative;visibility:visible;opacity:var(--calcite-opacity-half, .5);color:var(--calcite-chip-select-icon-color-press, var(--calcite-chip-select-icon-color-pressed, var(--calcite-chip-select-icon-color, currentColor)))}.multiple .select-icon{display:flex;align-items:center;justify-content:center}.multiple .select-icon,.single .select-icon--active{padding-inline-start:var(--calcite-internal-chip-select-space-x-start);padding-inline-end:var(--calcite-internal-chip-select-space-x-end);block-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem))}slot[name=image]::slotted(*){display:flex;block-size:100%;inline-size:100%;overflow:hidden;border-radius:50%}.close{margin:0;cursor:pointer;align-items:center;border-radius:50%;border-style:none;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;background-color:var(--calcite-close-background-color, var(--calcite-color-transparent));-webkit-appearance:none;display:flex;align-content:center;justify-content:center;color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, currentColor));block-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));padding:0}.close:hover,.close:focus{background-color:var(--calcite-close-background-color-hover, var(--calcite-color-transparent-hover))}.close:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.close:active{background-color:var(--calcite-close-background-color-press, var(--calcite-color-transparent-press))}.close calcite-icon{color:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,y7=class y7 extends Ts{constructor(){super(),this.closeButtonEl=RA(),this.containerEl=RA(),this.messages=US(),this.hasImage=!1,this.hasText=!1,this.appearance="solid",this.closable=!1,this.closed=!1,this.closeOnDelete=!1,this.disabled=!1,this.iconFlipRtl=!1,this.interactive=!1,this.kind="neutral",this.scale="m",this.selected=!1,this.selectionMode="none",this.calciteChipClose=Bs({cancelable:!1}),this.calciteChipSelect=Bs({cancelable:!1}),this.calciteInternalChipKeyEvent=Bs({cancelable:!1}),this.calciteInternalChipSelect=Bs({cancelable:!1}),this.calciteInternalSyncSelectedChips=Bs({cancelable:!1}),this.listen("keydown",this.keyDownHandler),this.listen("click",this.clickHandler)}async setFocus(){var e,i;await _le(this),!this.disabled&&this.interactive?(e=this.containerEl.value)==null||e.focus():!this.disabled&&this.closable&&((i=this.closeButtonEl.value)==null||i.focus())}async load(){this.updateHasText()}willUpdate(e){e.has("selected")&&this.hasUpdated&&this.watchSelected(this.selected)}updated(){Tle(this)}loaded(){this.selectionMode!=="none"&&this.interactive&&this.selected&&this.handleSelectionPropertyChange(this.selected)}watchSelected(e){this.selectionMode!=="none"&&this.handleSelectionPropertyChange(e)}keyDownHandler(e){if(e.target===this.el)switch(e.key){case" ":case"Enter":this.handleEmittingEvent(),e.preventDefault();break;case"Backspace":case"Delete":this.closable&&!this.closed&&this.closeOnDelete&&(e.preventDefault(),this.close());break;case"ArrowRight":case"ArrowLeft":case"Home":case"End":this.calciteInternalChipKeyEvent.emit(e),e.preventDefault();break}}clickHandler(){!this.interactive&&this.closable&&this.closeButtonEl.value.focus()}handleDefaultSlotChange(){this.updateHasText()}close(){this.calciteChipClose.emit(),this.selected=!1,this.closed=!0}closeButtonKeyDownHandler(e){vBe(e.key)&&(e.preventDefault(),this.close())}updateHasText(){this.hasText=this.el.textContent.trim().length>0}handleSlotImageChange(e){this.hasImage=ple(e)}handleEmittingEvent(){this.interactive&&this.calciteChipSelect.emit()}handleSelectionPropertyChange(e){this.selectionMode==="single"&&this.calciteInternalSyncSelectedChips.emit(),!this.parentChipGroup.selectedItems.includes(this.el)&&e&&this.selectionMode!=="multiple"&&this.calciteInternalChipSelect.emit(),this.selectionMode!=="single"&&this.calciteInternalSyncSelectedChips.emit()}renderChipImage(){return bt`<div class=${ft(rs.imageContainer)}><slot name=${wBe.image} @slotchange=${this.handleSlotImageChange}></slot></div>`}renderSelectionIcon(){const e=this.selectionMode==="multiple"?this.selected?o9.checkedMultiple:o9.uncheckedMultiple:this.selected?o9.checkedSingle:void 0;return bt`<div class=${ft({[rs.selectIcon]:!0,[rs.selectIconActive]:this.selectionMode==="multiple"||this.selected})}>${e?bt`<calcite-icon .icon=${e} .scale=${Iw(this.scale)}></calcite-icon>`:null}</div>`}renderCloseButton(){return bt`<button .ariaLabel=${this.messages.dismissLabel} class=${ft(rs.close)} @click=${this.close} @keydown=${this.closeButtonKeyDownHandler} .tabIndex=${this.disabled?-1:0} ${g_(this.closeButtonEl)}><calcite-icon .icon=${o9.close} .scale=${Iw(this.scale)}></calcite-icon></button>`}renderIcon(){return bt`<calcite-icon class=${ft(rs.chipIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.icon} .scale=${Iw(this.scale)}></calcite-icon>`}render(){const{disabled:e}=this,i=e||!e&&!this.interactive,r=this.selectionMode==="multiple"&&this.interactive?"checkbox":this.selectionMode!=="none"&&this.interactive?"radio":this.interactive?"button":"img";return Ile({disabled:e,children:bt`<div .ariaChecked=${this.selectionMode!=="none"&&this.interactive?this.selected:void 0} .ariaLabel=${this.label} class=${ft({[rs.container]:!0,[rs.textSlotted]:this.hasText,[rs.imageSlotted]:this.hasImage,[rs.selectable]:this.selectionMode!=="none",[rs.multiple]:this.selectionMode==="multiple",[rs.single]:this.selectionMode==="single"||this.selectionMode==="single-persist",[rs.selected]:this.selected,[rs.closable]:this.closable,[rs.nonInteractive]:!this.interactive,[rs.isCircle]:!this.closable&&!this.hasText&&(!this.icon||!this.hasImage)&&(this.selectionMode==="none"||!!this.selectionMode&&this.selectionMode!=="multiple"&&!this.selected)})} @click=${this.handleEmittingEvent} .role=${r} .tabIndex=${i?-1:0} ${g_(this.containerEl)}>${this.selectionMode!=="none"&&this.renderSelectionIcon()||""}${this.renderChipImage()}${this.icon&&this.renderIcon()||""}<span class=${ft(rs.title)}><slot @slotchange=${this.handleDefaultSlotChange}></slot></span>${this.closable&&this.renderCloseButton()||""}</div>`})}};y7.properties={hasImage:[16,{},{state:!0}],hasText:[16,{},{state:!0}],appearance:[3,{},{reflect:!0}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],closeOnDelete:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],interactive:[5,{},{type:Boolean}],kind:[3,{},{reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],parentChipGroup:[0,{},{attribute:!1}],scale:[3,{},{reflect:!0}],selected:[7,{},{reflect:!0,type:Boolean}],selectionMode:1,value:1},y7.styles=_Be;let __=y7;z_("calcite-chip",__);const SBe=Object.freeze(Object.defineProperty({__proto__:null,Chip:__},Symbol.toStringTag,{value:"Module"})),Ele=Object.freeze(Object.defineProperty({__proto__:null,Chip:__},Symbol.toStringTag,{value:"Module"}));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const jf={disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",loaderAnimation:"esri-widget__loader-animation",panel:"esri-widget--panel",widget:"esri-widget esri-component",widgetButton:"esri-widget--button"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const Fn="esri-basemap-gallery",ia={base:Fn,sourceLoading:`${Fn}--source-loading`,layoutGrid:`${Fn}--grid`,narrowItems:`${Fn}--narrow-items`,loader:`${Fn}__loader`,item:`${Fn}__item`,itemContainer:`${Fn}__item-container`,itemContent:`${Fn}__item-content`,itemTitle:`${Fn}__item-title`,itemTagsContainer:`${Fn}__item-tags-container`,itemThumbnail:`${Fn}__item-thumbnail`,selectedItem:`${Fn}__item--selected`,itemError:`${Fn}__item--error`};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */function xBe(t){var e;return((e=t.portalItem)==null?void 0:e.type)==="Web Scene"||t.referenceLayers.some(i=>i.type==="scene")}function $Be(t){var e,i;return!!((i=(e=t==null?void 0:t.portalItem)==null?void 0:e.tags)!=null&&i.some(r=>r.toLowerCase()==="beta"))}var Fm;let TBe=(Fm=class extends Ts{constructor(){super(...arguments),this._itemState="loading",this._isActive=!1}loaded(){this.manager.onLifecycle(()=>[Y(()=>this.item.state,e=>{this._itemState=e},{sync:!0}),Y(()=>this.viewModel.activeBasemap,e=>{var i;this._isActive=this.item.basemap.id===(e==null?void 0:e.id),this._isActive&&((i=ALe(this))==null||i.focus(),this.el.scrollIntoView({block:"nearest"}))},{initial:!0,sync:!0})])}render(){var b,v;const{disabled:e,item:i,itemIndex:r,viewModel:s,messages:n}=this,a=i.basemap.thumbnailUrl||EZ("assets/basemap-gallery/images/basemap-toggle-64.svg"),o=i.basemap.title,l=(b=i.basemap.portalItem)==null?void 0:b.snippet,u=((v=i.error)==null?void 0:v.message)||l||o,{activeBasemapIndex:d}=s,h=d===r,p=h||d===-1&&r===0?0:-1,m={[ia.selectedItem]:h,[ia.itemError]:i.state==="error"},g=`basemapgallery-item-${i.uid}`;return bt`<div .ariaChecked=${h} .ariaDisabled=${e} aria-labelledby=${g??zl} class=${ft(hm(ia.item,m))} role=radio tabindex=${p??zl} title=${u??zl} @click=${()=>{i.state==="ready"&&(s.activeBasemap=i.basemap)}}><img alt class=${ft(ia.itemThumbnail)} src=${a??zl}><div class=${ft(ia.itemContent)}><div class=${ft(ia.itemTitle)}><span id=${g??zl}>${o}</span></div>${xBe(i.basemap)?IBe(i.basemap,n):null}</div>${i.state!=="loading"?null:bt`<calcite-scrim><span aria-hidden=true class=${ft(jf.loaderAnimation)} role=presentation></span></calcite-scrim>`}</div>`}},Fm.properties={_itemState:16,_isActive:16,disabled:5,item:0,itemIndex:9,viewModel:0,messages:0},Fm.shadowRootOptions=Wo,Fm);function IBe(t,e){return bt`<div class=${ft(ia.itemTagsContainer)}>${EBe(e)}${$Be(t)?MBe(e):null}</div>`}function EBe(t){return bt`<calcite-chip scale=s .label=${t.tag3D}>${t.tag3D}</calcite-chip>`}function MBe(t){return bt`<calcite-chip appearance=outline-fill scale=s .label=${t.tagBeta}>${t.tagBeta}</calcite-chip>`}gd("arcgis-basemap-gallery-item",TBe);var Ic;(function(t){t[t.NORTH=0]="NORTH",t[t.NORTH_EAST=1]="NORTH_EAST",t[t.EAST=2]="EAST",t[t.SOUTH_EAST=3]="SOUTH_EAST",t[t.SOUTH=4]="SOUTH",t[t.SOUTH_WEST=5]="SOUTH_WEST",t[t.WEST=6]="WEST",t[t.NORTH_WEST=7]="NORTH_WEST"})(Ic||(Ic={}));function CBe(t){return Mle(t)||nL(t)||aL(t)}function Mle(t){return dh(t)||CI(t)}const kBe=12;var Xi;let Yb=(Xi=class{constructor(e){const i=Xi.checkUnsupported(e);if(i!=null)throw i;const r=e;this.spatialReference=r.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=Sh(this.spatialReference),this.origin=[r.origin.x,r.origin.y],this.pixelSize=r.size[0],this.dpi=r.dpi;const s=r.lods.reduce((u,d)=>(d.level<u.minLod.level&&(u.minLod=d),u.max=Math.max(u.max,d.level),u),{minLod:r.lods[0],max:-1/0}),n=s.minLod,a=2**n.level;let o=n.resolution*a,l=n.scale*a;this.levels=new Array(s.max+1);for(let u=0;u<this.levels.length;u++)this.levels[u]={resolution:o,scale:l,tileSize:[o*r.size[0],o*r.size[1]]},o/=2,l/=2}clone(){return new Xi(this.toTileInfo())}toTileInfo(){return new Ji({dpi:this.dpi,origin:new _e({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((e,i)=>new Ki({level:i,scale:e.scale,resolution:e.resolution}))})}getExtent(e,i,r,s){const n=this.levels[e],a=n.tileSize[0],o=n.tileSize[1];s[0]=this.origin[0]+r*a,s[2]=this.origin[0]+(r+1)*a,s[3]=this.origin[1]-i*o,s[1]=this.origin[1]-(i+1)*o}convertExtentToRadians(e,i){this._isWebMercator?(i[0]=FN(e[0]),i[1]=NN(e[1]),i[2]=FN(e[2]),i[3]=NN(e[3])):this._isGCS&&(i[0]=wc(e[0]),i[1]=wc(e[1]),i[2]=wc(e[2]),i[3]=wc(e[3]))}getExtentGeometry(e,i,r,s=new qe){return this.getExtent(e,i,r,el),s.spatialReference=this.spatialReference,s.xmin=el[0],s.ymin=el[1],s.xmax=el[2],s.ymax=el[3],s.zmin=void 0,s.zmax=void 0,s}ensureMaxLod(e){if(e==null)return!1;let i=!1;for(;this.levels.length<=e;){const{resolution:r,scale:s}=this.levels[this.levels.length-1],n=r/2*this.pixelSize;this.levels.push({resolution:r/2,scale:s/2,tileSize:[n,n]}),i=!0}return i}capMaxLod(e){this.levels.length>e+1&&(this.levels.length=e+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(e){return this.levels[0].scale/2**e}levelAtScale(e){const i=this.levels[0].scale;return e>=i?0:Math.log(i/e)*Math.LOG2E}resolutionAtLevel(e){return this.levels[0].resolution/2**e}compatibleWith(e,i=1/0){if(Xi.checkUnsupported(e))return!1;const r=new Xi(e);if(!r.spatialReference.equals(this.spatialReference)||r.pixelSize!==this.pixelSize)return!1;const s=Math.min(this.levels.length-1,r.levels.length-1,i),n=this.levels[s].resolution;let a=.5*n;return!xn(r.origin[0],this.origin[0],a)||!xn(r.origin[1],this.origin[1],a)?!1:(a=.5*n/2**s/this.pixelSize*kBe,xn(n,r.levels[s].resolution,a))}rootTilesInExtent(e,i=null,r=1/0){const s=new Array,n=this.levels[0].tileSize;if(e==null||n[0]===0||n[1]===0)return s;Xi.computeRowColExtent(e,n,this.origin,el);let a=el[1],o=el[3],l=el[0],u=el[2];const d=u-l,h=o-a;if(d*h>r){const p=Math.floor(Math.sqrt(r));h>p&&(a=a+Math.floor(.5*h)-Math.floor(.5*p),o=a+p),d>p&&(l=l+Math.floor(.5*d)-Math.floor(.5*p),u=l+p)}for(let p=a;p<o;p++)for(let m=l;m<u;m++)s.push([0,p,m]);return i!=null&&(i[0]=this.origin[0]+l*n[0],i[1]=this.origin[1]-o*n[1],i[2]=this.origin[0]+u*n[0],i[3]=this.origin[1]-a*n[1]),s}static computeRowColExtent(e,i,r,s){const n=.001*(e[2]-e[0]+(e[3]-e[1]));s[0]=Math.max(0,Math.floor((e[0]+n-r[0])/i[0])),s[2]=Math.max(0,Math.ceil((e[2]-n-r[0])/i[0])),s[1]=Math.max(0,Math.floor((r[1]-e[3]+n)/i[1])),s[3]=Math.max(0,Math.ceil((r[1]-e[1]-n)/i[1]))}static isPowerOfTwo(e){const i=e.lods,r=i[0].resolution*2**i[0].level;return!i.some(s=>!jpe(s.resolution,r/2**s.level))}static hasGapInLevels(e){const i=e.lods.map(r=>r.level);i.sort((r,s)=>r-s);for(let r=1;r<i.length;r++)if(i[r]!==i[0]+r)return!0;return!1}static tileSizeSupported(e){const i=e.size[1];return i===e.size[0]&&!(i&i-1)&&i>=128&&i<=512}static hasOriginPerLODs(e){const i=e.origin;return e.lods.some(r=>r.origin!=null&&(r.origin[0]!==i.x||r.origin[1]!==i.y))}static getMissingTileInfoError(){return new P("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(e){return e==null?BO():e.lods.length<1?new P("tilingscheme:generic","Tiling scheme must have at least one level"):Xi.isPowerOfTwo(e)?Xi.hasGapInLevels(e)?new P("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):Xi.tileSizeSupported(e)?Xi.hasOriginPerLODs(e)?new P("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new P("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new P("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(e,i){const r=e[2]-e[0],s=e[3]-e[1],n=kn(i),a=1.2*Math.max(r,s),o=256,l=a/o,u=l*n*(96/.0254),d=new Xi(new Ji({size:[o,o],origin:new _e({x:e[0]-.5*(a-r),y:e[3]+.5*(a-s)}),lods:[new Ki({level:0,resolution:l,scale:u})],spatialReference:i}));return d.ensureMaxLod(20),d}static makeWebMercatorAuxiliarySphere(e){const i=new Xi(Xi.WebMercatorAuxiliarySphereTileInfo);return i.ensureMaxLod(e),i}static makeGCSWithTileSize(e,i=256,r=16){const s=256/i,n=new Xi(new Ji({size:[i,i],origin:new _e({x:-180,y:90,spatialReference:e}),spatialReference:e,lods:[new Ki({level:0,resolution:.703125*s,scale:295497598570834e-6*s})]}));return n.ensureMaxLod(r),n}get test(){}},Xi.WebMercatorAuxiliarySphereTileInfo=new Ji({size:[256,256],origin:new _e({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:le.WebMercator}),spatialReference:le.WebMercator,lods:[new Ki({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),Xi.WebMercatorAuxiliarySphere=Xi.makeWebMercatorAuxiliarySphere(19),Xi);function BO(){return new P("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}const el=ei(),RG=64;qpe(lI/10);const ABe=ei();Yb.WebMercatorAuxiliarySphere.getExtent(0,0,0,ABe);ei([-180,-90,180,90]);function PBe(t,e,i,r){if(t==null)return BO();const s=t.spatialReference;if(s.isGeographic&&!Mle(s))return new P("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const n=Yb.checkUnsupported(t);return n??(i==null?new P("tilingscheme:extent-not-exist","The layer does not provide a layer extent."):LBe(t,i)||(e==null||s.equals(e)||e.isWGS84&&s.isWebMercator?null:new P("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")))}function LBe(t,e){const i=t.lods,r=i[0].resolution*2**i[0].level,s=[r*t.size[0],r*t.size[1]],n=[t.origin.x,t.origin.y],a=vye(e),o=ei();Yb.computeRowColExtent(a,s,n,o);const l=(o[2]-o[0])*(o[3]-o[1]);if(l>RG){const u=i[0].scale*2**i[0].level;let d=Math.max((a[3]-a[1])/t.size[1],(a[2]-a[0])/t.size[0])*u/r;const h=Math.floor(Math.log(d)/Math.log(10));return d=Math.ceil(d/10**h)*10**h,new P("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(u).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+d.toLocaleString()+".",{level0Scale:u,suggestedLevel0Scale:d,requiredNumRootTiles:l,allowedNumRootTiles:RG})}return null}const RBe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:PBe},Symbol.toStringTag,{value:"Module"}));function OBe(t,e,i,r){if(t==null)return BO();const s=(t==null?void 0:t.lods.length)-1,n=t.spatialReference;if(n.isWebMercator){if(!Yb.makeWebMercatorAuxiliarySphere(s).compatibleWith(t,r))return new P("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!CBe(n))return new P("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!Yb.makeGCSWithTileSize(t.spatialReference,t.size[0],s).compatibleWith(t,r))return t.spatialReference.isWGS84?new P("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new P("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return e==null||t.spatialReference.equals(e)?null:new P("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}const FBe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:OBe},Symbol.toStringTag,{value:"Module"})),NBe={[pd.Global]:FBe,[pd.Local]:RBe};function NA(t,e,i,r,s){return NBe[r].checkIfTileInfoSupportedForViewSR(t,i,e,s)}function DBe(t,e,i){const r=Ewe(t);if(r!=null){if(!K.isCollection(r))return{tileInfo:r.tileInfo,fullExtent:r.fullExtent};{const s=r.find(n=>NA(n.tileInfo,n.fullExtent,e,i)==null);if(s)return{tileInfo:s.tileInfo,fullExtent:s.fullExtent}}}return{tileInfo:null,fullExtent:null}}Ic.NORTH,Ic.EAST,Ic.SOUTH,Ic.WEST;Ic.NORTH_EAST,Ic.SOUTH_EAST,Ic.SOUTH_WEST,Ic.NORTH_WEST;function zBe(t,e){return t!=null&&(e==null||(e===pd.Local?!t.isGeographic||t.isWGS84||t.wkid===ja.CGCS2000:t.isWebMercator||t.isWGS84||t.wkid===ja.CGCS2000||t.wkid===ja.GCSMARS2000||t.wkid===ja.GCSMARS2000_SPHERE||t.wkid===ja.GCSMOON2000))}async function VBe(t,e={}){const{basemap:i,view:r}=t;await i.load(e),qBe(i),await UBe(i,r,e),ze(e)}async function jBe(t,e={}){var o,l;const{basemap:i,view:r}=t;ze(e);const s=(o=i.baseLayers.find(u=>u.type==="unknown"))==null?void 0:o.loadError;if(s!=null)throw s;if(!r||"spatialReferenceLocked"in r&&!r.spatialReferenceLocked||(await i.load(e),ze(e),i.baseLayers.length===0))return;const n=i.baseLayers.at(0);if(!Iwe(n))return;if(i.spatialReference){if(r.spatialReference.equals(i.spatialReference))return;OG()}await n.load(e),ze(e);const a=(("supportedSpatialReferences"in n?n.supportedSpatialReferences:null)||["tileInfo"in n?(l=n.tileInfo)==null?void 0:l.spatialReference:null]).filter(Kt);a.length!==0&&a.every(u=>!r.spatialReference.equals(u))&&OG()}function OG(){throw new P("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function qBe(t){if(t.baseLayers.length===0&&t.referenceLayers.length===0)return;const e=t.baseLayers.concat(t.referenceLayers).toArray().filter(i=>!Swe(i)).map(i=>BBe(i));if(e.length)throw e[0]}function BBe(t){return new P("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:t,operationalLayerType:t.operationalLayerType||"unknown"})}async function UBe(t,e,i){if(t.baseLayers.length===0)return;const r=t.baseLayers.at(0);if(mK(r)){try{await r.load(i)}catch(s){const n="basemap-compatibility:unknown-error",a="Unknown basemap compatibility error",{name:o=n,message:l=a,details:u}=s;throw new P(o,l,u)}GBe(r,e)}}function GBe(t,e){var o;const i=e.state.viewingMode;if(!i)return;let r,s;if((t==null?void 0:t.type)==="wmts"){const l=DBe(t,e.spatialReference,i);if(l.tileInfo==null)throw new P("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");r=l.tileInfo,s=l.fullExtent}else r=t.tileInfo,s=t.fullExtent;if(r==null)return;if(!zBe(r.spatialReference,i))throw new P(`basemapgalleryitem:spatial-reference-unsupported-${Qz(i)}`,`Basemap spatial reference is unsupported in ${Qz(i)} mode`);const n=(t==null?void 0:t.type)==="vector-tile"?r.getCompatibleForVTL(256):null;if(i===pd.Global){let l=NA(r,s,null,i);if(l&&(t==null?void 0:t.type)==="vector-tile"&&s!=null&&n&&!NA(n,s,null,i)&&(l=null),l){const u=r.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new P(`basemapgalleryitem:tiling-scheme-unsupported-${u}-global`,"Basemap tiling scheme is unsupported in global mode",{error:l})}}else if(Yb.checkUnsupported(r))throw new P("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const a=(o=e.basemapTerrain)==null?void 0:o.tilingScheme;if(a&&!a.compatibleWith(r)&&((t==null?void 0:t.type)!=="vector-tile"||!n||!a.compatibleWith(n)))throw new P("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let bl=class extends An.IdentifiableMixin(ce){constructor(e){super(e),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const e=()=>this.refresh();this.addHandles([Y(()=>{var i;return(i=this.basemap)==null?void 0:i.loadStatus},e),Y(()=>this.compatibilityFunction,e),Y(()=>{var i;return this.view&&"basemapTerrain"in this.view&&((i=this.view.basemapTerrain)==null?void 0:i.tilingScheme)},e),Y(()=>{var i;return(i=this.view)==null?void 0:i.ready},e),Y(()=>{var i;return(i=this.view)==null?void 0:i.spatialReference},e)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return $3e(this.view,this.basemap)}set basemap(e){e&&e.load().catch(()=>{}),this._set("basemap",e)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var s;this._cancelRefresh(),this._set("state","loading");const e=(s=this.basemap)==null?void 0:s.loadStatus;if(e!=="loaded"&&e!=="failed")return;if(!this.compatibilityFunction)return void(e==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const i=new AbortController,{signal:r}=i;this.compatibilityFunction(this,{signal:r}).then(()=>cd(()=>!this._spatialReferenceTask.updating,r)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(n=>{tr(n)||(this._set("state","error"),this._set("error",n))}),this._refreshController=i}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};c([f({readOnly:!0})],bl.prototype,"_spatialReferenceTask",null),c([f()],bl.prototype,"basemap",null),c([f()],bl.prototype,"compatibilityFunction",void 0),c([f({readOnly:!0})],bl.prototype,"error",void 0),c([f({readOnly:!0})],bl.prototype,"spatialReference",null),c([f({readOnly:!0})],bl.prototype,"state",void 0),c([f()],bl.prototype,"view",void 0),bl=c([E("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],bl);const Cle=bl,kle=K.ofType(Zf);let N2=class extends ce{constructor(e){super(e),this.basemaps=new kle}destroy(){this.basemaps.forEach(e=>e.destroy())}get state(){return"ready"}refresh(){}};c([f({type:kle})],N2.prototype,"basemaps",void 0),c([f({readOnly:!0})],N2.prototype,"state",null),N2=c([E("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],N2);const Ale=N2,Ple=K.ofType(Zf);let vl=class extends lr.LoadableMixin(qo.EsriPromiseMixin(Ale)){constructor(e){super(e),this._lastPortalBasemapFetchController=null,this.basemaps=new Ple,this.filterFunction=null,this.portal=ie.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(Y(()=>{var e,i,r;return[this.filterFunction,this.loadStatus,(e=this.portal)==null?void 0:e.basemapGalleryGroupQuery,(i=this.portal)==null?void 0:i.basemapGalleryGroupQuery3D,(r=this.portal)==null?void 0:r.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),Le))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(e=>e.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(e){return this.addResolvingPromise(this.portal.load(e)),Promise.resolve(this)}async refresh(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const e=this.portal,i=new AbortController;this._lastPortalBasemapFetchController=i,this.notifyChange("state");try{const r=await e.fetchBasemaps(this._toQueryString(this.query),{signal:i.signal,include3d:this.viewType==="3d"||void 0});await this._updateBasemaps(r)}catch(r){if(tr(r))throw r;W.getLogger(this).warn(new P("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:r})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(e){return e&&typeof e!="string"?Object.keys(e).map(i=>`${i}:${e[i]}`).join(" AND "):e}async _updateBasemaps(e=[]){let i=await this._filterBasemaps(e);i=this.updateBasemapsCallback?await this.updateBasemapsCallback(i):i,this.basemaps.removeAll(),this.basemaps.addMany(i)}async _filterBasemaps(e){if(!this.filterFunction)return e;const i=e.map(this.filterFunction),r=await Promise.all(i);return e.filter((s,n)=>r[n])}};c([f({readOnly:!0,type:Ple})],vl.prototype,"basemaps",void 0),c([f()],vl.prototype,"filterFunction",void 0),c([f({type:ie})],vl.prototype,"portal",void 0),c([f()],vl.prototype,"query",void 0),c([f({readOnly:!0})],vl.prototype,"state",null),c([f()],vl.prototype,"updateBasemapsCallback",void 0),c([f()],vl.prototype,"viewType",void 0),vl=c([E("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],vl);const D2=vl,Lle=K.ofType(Cle);function HBe(t){return t&&t.declaredClass==="esri.portal.Portal"}function WBe(t){return t&&!(t instanceof D2)&&(!!t.portal||!!t.query)}function ZBe(t){return t&&"basemaps"in t&&"state"in t&&"refresh"in t}let Xn=class extends lr{constructor(e){super(e),this._loadingProjectionEngine=!1,this.items=new Lle,this.source=new D2,this.view=null}initialize(){const e=()=>this._recreateItems();this.addHandles([Y(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),wr(()=>{var i;return(i=this.source)==null?void 0:i.basemaps},"change",e,{onListenerAdd:e}),ir(()=>this.view,()=>{var i;this.source instanceof D2&&(this.source.viewType=(i=this.view)==null?void 0:i.type)},{once:!0})])}destroy(){var i;const e=this.source.basemaps.find(r=>r===this.activeBasemap);e&&this.source.basemaps.remove(e),(i=this.source)==null||i.destroy()}get activeBasemap(){var e,i;return((i=(e=this.view)==null?void 0:e.map)==null?void 0:i.basemap)??null}set activeBasemap(e){var s,n;const i=this.view;if(!(i!=null&&i.map))return;if(!e||!i.ready)return i.map.basemap=e,void this._clearOverride("activeBasemap");const r=e.spatialReference||((n=(s=this.items)==null?void 0:s.find(a=>this.basemapEquals(e,a.basemap)))==null?void 0:n.spatialReference);if(r&&"spatialReferenceLocked"in i&&!i.spatialReferenceLocked){const a=i.spatialReference;if(r!=null&&!li(a,r)&&!da(i.spatialReference,r)&&!wd())return this._override("activeBasemap",e),this._loadingProjectionEngine=!0,void fd().then(()=>{this._get("activeBasemap")===e&&(i.map.basemap=e,i.spatialReference=r,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});i.map.basemap=e,this._clearOverride("activeBasemap"),r==null||li(i.spatialReference,r)||(i.spatialReference=r)}else i.map.basemap=e,this._clearOverride("activeBasemap")}castActiveBasemap(e){return KK(e)}get activeBasemapIndex(){const{state:e,activeBasemap:i}=this;return e!=="ready"?-1:this._findBasemapIndex(i)}get compatibilityFunction(){var e;return((e=this.view)==null?void 0:e.type)==="3d"?VBe:jBe}set compatibilityFunction(e){this._overrideIfSome("compatibilityFunction",e)}castSource(e){return Array.isArray(e)||K.isCollection(e)?new Ale({basemaps:Array.isArray(e)?new K(e):e}):HBe(e)?new D2({portal:e}):WBe(e)?new D2(e):ZBe(e)?e:null}get state(){var e;return(e=this.view)!=null&&e.ready&&this.source?aA(this.view)&&!this.view.inGeographicLayout?"unsupported":this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(e,i){return S3e(e,i)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(e){return this.addResolvingPromise(lr.isLoadable(this.source)?this.source.load(e):null),Promise.resolve(this)}_findBasemapIndex(e){const{items:i}=this,r=i.findIndex(s=>s.basemap===e);return r===-1?i.findIndex(s=>this.basemapEquals(s.basemap,e)):r}_recreateItems(){var a;const e=((a=this.source)==null?void 0:a.basemaps)??[],{view:i,compatibilityFunction:r}=this,s=new Map(this.items.map(o=>[o.basemap,o])),n=e.map(o=>{const l=s.get(o);return l?(s.delete(o),l):new Cle({basemap:o,compatibilityFunction:r,view:i})});this.items.removeAll(),this.items.addMany(n),s.forEach(o=>o.destroy())}_updateItems(){for(const e of this.items)e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}};c([f()],Xn.prototype,"_loadingProjectionEngine",void 0),c([f({type:Zf})],Xn.prototype,"activeBasemap",null),c([Xe("activeBasemap")],Xn.prototype,"castActiveBasemap",null),c([f({readOnly:!0})],Xn.prototype,"activeBasemapIndex",null),c([f()],Xn.prototype,"compatibilityFunction",null),c([f({readOnly:!0,type:Lle})],Xn.prototype,"items",void 0),c([f()],Xn.prototype,"source",void 0),c([Xe("source")],Xn.prototype,"castSource",null),c([f({readOnly:!0})],Xn.prototype,"state",null),c([f()],Xn.prototype,"view",void 0),Xn=c([E("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],Xn);const JBe=Xn;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const UO=One(EZ);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const Rle=(t,e)=>i=>XBe(i,t);var D_,$W;let YBe=($W=class extends jP{constructor(i,r){super(i,r);tt(this,D_);new oO(this.component)}hostLoad(){Ze(this,D_,Y(()=>this.component.el.view,i=>{this.instance.view=i,this.instance.map=i==null?void 0:i.map},{sync:!0,initial:!0}))}hostDestroy(){var i;(i=re(this,D_))==null||i.remove(),super.hostDestroy()}},D_=new WeakMap,$W);const XBe=H_(YBe);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const GO=Symbol.for(""),QBe=t=>{if((t==null?void 0:t.r)===GO)return t==null?void 0:t._$litStatic$},KBe=t=>({_$litStatic$:t,r:GO}),FG=(t,...e)=>({_$litStatic$:e.reduce((i,r,s)=>i+(n=>{if(n._$litStatic$!==void 0)return n._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${n}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(r)+t[s+1],t[0]),r:GO}),NG=new Map,eUe=t=>(e,...i)=>{const r=i.length;let s,n;const a=[],o=[];let l,u=0,d=!1;for(;u<r;){for(l=e[u];u<r&&(n=i[u],(s=QBe(n))!==void 0);)l+=s+e[++u],d=!0;u!==r&&o.push(n),a.push(l),u++}if(u===r&&a.push(e[r]),d){const h=a.join("$$lit$$");(e=NG.get(h))===void 0&&(a.raw=a,NG.set(h,e=a)),i=o}return t(e,...i)},Ole=eUe(bt);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */function tUe({level:t,class:e,children:i}){const r=rUe(t),s=`h${r}`,n=KBe(s);return Ole`<${n} .ariaLevel=${String(r)} class=${ft(hm(jf.heading,e))} role=heading>${i}</${n}>`}function iUe(t,e,i){return Math.min(Math.max(t,e),i)}function rUe(t){return iUe(Math.ceil(t),1,6)}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const sUe=fa`@layer{arcgis-basemap-gallery{display:block}}`,nUe=Rle(JBe),l9={small:200,default:280,wide:420};var rh;let aUe=(rh=class extends Ts{constructor(){super(...arguments),this.messages=UO({}),this.viewModel=nUe(this),this._width=0,this._state="",this.activeBasemap=this.viewModel.activeBasemap,this.autoDestroyDisabled=!1,this.disabled=!1,this.headingLevel=2,this.icon="basemap",this.label="",this.position="bottom-left",this.source=this.viewModel.source,this.state=this.viewModel.state,this.arcgisPropertyChange=d0()("activeBasemap","state"),this.arcgisReady=Bs()}async destroy(){await this.manager.destroy()}loaded(){this.manager.onLifecycle(()=>[ir(()=>this.source,()=>{this.viewModel.loadSource()},{sync:!0,initial:!0}),Y(()=>this.source.state,()=>{this._state=this.source.state},{sync:!0})]);const e=new ResizeObserver(r=>{for(const s of r)this._width=s.contentRect.width}),i=this.el.childElem;i&&e.observe(i)}_getRoundRobinIndex(e,i){return(e+i)%i}_handleKeyDown(e){const{key:i}=e;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(i))return;e.preventDefault();const{items:r,activeBasemapIndex:s}=this.viewModel,n=i==="ArrowUp"||i==="ArrowLeft"?this._getRoundRobinIndex(Math.max(s-1,-1),r.length):this._getRoundRobinIndex(s+1,r.length),a=r.at(n);(a==null?void 0:a.state)==="ready"&&(this.viewModel.activeBasemap=a.basemap)}render(){const e=this.source.state==="loading",i=this.disabled||this.state==="disabled",r=this.viewModel.items,s={[ia.sourceLoading]:e,[jf.disabled]:i,"esri-component":!0},n=this._width;n<=l9.small||n>=l9.wide?s[ia.layoutGrid]=!0:n<l9.default&&(s[ia.narrowItems]=!0);const a=e?bt`<div class=${ft(ia.loader)}></div>`:null,o=e?null:r.length>0?bt`<div aria-disabled=${this.disabled??zl} aria-label=${this.label??zl} class=${ft(ia.itemContainer)} @keydown=${this._handleKeyDown} role=radiogroup>${r.map((l,u)=>bt`<arcgis-basemap-gallery-item .disabled=${i} .item=${l} .itemIndex=${u} .viewModel=${this.viewModel} .messages=${this.messages}></arcgis-basemap-gallery-item>`)}</div>`:bt`<div class=${ft(jf.empty)}>${tUe({level:this.headingLevel,children:this.messages.noBasemaps})}</div>`;return bt`<div class=${ft(hm(ia.base,jf.widget,jf.panel,s))} style=${YW({"--esri-basemap-gallery-small":`${l9.small}px`})}>${[a,o]}</div>`}},rh.properties={_width:16,_state:16,activeBasemap:1,autoDestroyDisabled:5,disabled:7,headingLevel:9,icon:1,label:1,messageOverrides:0,position:1,referenceElement:1,source:0,state:3},rh.shadowRootOptions=Wo,rh.styles=sUe,rh);gd("arcgis-basemap-gallery",aUe);let _o=class extends ce{constructor(e){super(e)}get editedBookmark(){const{bookmark:e}=this;return e?this._get("editedBookmark")||e.clone():null}get customUrl(){var e,i;return(i=(e=this.editedBookmark)==null?void 0:e.thumbnail)!=null&&i.isSecureUrl?this.editedBookmark.thumbnail.url:null}set customUrl(e){this._override("customUrl",e)}get screenshotUrl(){var e,i;return(i=(e=this.editedBookmark)==null?void 0:e.thumbnail)!=null&&i.isDataURI?this.editedBookmark.thumbnail.url:null}set screenshotUrl(e){this._override("screenshotUrl",e)}get state(){return this._get("state")}set state(e){this.validationState=void 0,this.loading=void 0,this._set("state",e)}get thumbnailState(){var e,i,r,s;return(i=(e=this.editedBookmark)==null?void 0:e.thumbnail)!=null&&i.url?(s=(r=this.editedBookmark)==null?void 0:r.thumbnail)!=null&&s.isSecureUrl?"url":"screenshot":"none"}set thumbnailState(e){this._overrideIfSome("thumbnailState",e)}};c([f()],_o.prototype,"bookmark",void 0),c([f({readOnly:!0})],_o.prototype,"editedBookmark",null),c([f()],_o.prototype,"customUrl",null),c([f()],_o.prototype,"screenshotUrl",null),c([f()],_o.prototype,"state",null),c([f()],_o.prototype,"thumbnailState",null),c([f()],_o.prototype,"validationState",void 0),c([f()],_o.prototype,"loading",void 0),_o=c([E("esri.widgets.Bookmarks.BookmarksUserState")],_o);const DA=_o,Fle=K.ofType(kR),oUe={width:128,height:128,format:"png"},c9={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},DG={time:!0};let So=class extends TR(ha.EventedAccessor){constructor(e){super(e),this.capabilities={...DG},this.activeBookmark=null,this.view=null}destroy(){this.view=null,this._set("activeBookmark",null)}castCapabilities(e){return{...DG,...e}}get bookmarks(){var e,i;return((i=(e=this.view)==null?void 0:e.map)==null?void 0:i.bookmarks)??new Fle}set bookmarks(e){this._overrideIfSome("bookmarks",e)}set defaultCreateOptions(e){this._set("defaultCreateOptions",{...c9,...e})}get defaultCreateOptions(){return c9}set defaultEditOptions(e){this._set("defaultEditOptions",{...c9,...e})}get defaultEditOptions(){return c9}get state(){const{view:e}=this;return e&&!e.ready?"loading":"ready"}async createBookmark(e){const{view:i,defaultCreateOptions:r,capabilities:s}=this;if(!i)throw new P("create-bookmark:invalid-view","Cannot create a bookmark without a view.");const{takeScreenshot:n,screenshotSettings:a,captureViewpoint:o,captureRotation:l,captureScale:u,captureTimeExtent:d}={...r,...e},h=n?await this._createThumbnail(a):void 0,p=s.time&&d&&i.timeExtent!=null?i.timeExtent.clone():void 0;return new kR({...h&&{thumbnail:h},...d&&{timeExtent:p},...o&&{viewpoint:this._createViewpoint({view:i,captureScale:u,captureRotation:l})}})}async editBookmark(e,i){if(!e)return e;const{view:r,defaultEditOptions:s}=this;if(!r)throw new P("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");const{takeScreenshot:n,screenshotSettings:a,captureViewpoint:o,captureRotation:l,captureScale:u,captureTimeExtent:d}={...s,...i},h=n?await this._createThumbnail(a):void 0;return h&&(e.thumbnail=h),o&&(e.viewpoint=this._createViewpoint({view:r,captureScale:u,captureRotation:l})),d&&r.timeExtent!=null&&(e.timeExtent=r.timeExtent.clone()),this.emit("bookmark-edit",{bookmark:e}),e}goTo(e){const{capabilities:i,view:r}=this;if(!r)throw new P("go-to:invalid-view","Cannot go to a bookmark without a view");const s=e==null?void 0:e.viewpoint;if(!s)throw new P("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:e});this._set("activeBookmark",e);const n=this.callGoTo({target:s}),a=e==null?void 0:e.timeExtent;return i.time&&a&&(r.timeExtent=a),this.emit("bookmark-select",{bookmark:e}),n.catch(()=>{}).then(()=>this._set("activeBookmark",null)),n}async _createThumbnail(e){const{view:i}=this;if(!i)throw new P("bookmark:invalid-view","Cannot create slide thumbnail without a view");const r=await i.takeScreenshot({...oUe,...e});return new ra({url:r.dataUrl})}_createViewpoint({view:e,captureRotation:i,captureScale:r}){var n,a;const s=(n=e.viewpoint)==null?void 0:n.clone();return new er({targetGeometry:(a=e.extent)==null?void 0:a.clone(),rotation:(i?s==null?void 0:s.rotation:null)??0,scale:(r?s==null?void 0:s.scale:null)??0})}};c([f()],So.prototype,"capabilities",void 0),c([Xe("capabilities")],So.prototype,"castCapabilities",null),c([f({readOnly:!0})],So.prototype,"activeBookmark",void 0),c([f({type:Fle})],So.prototype,"bookmarks",null),c([f()],So.prototype,"defaultCreateOptions",null),c([f()],So.prototype,"defaultEditOptions",null),c([f({readOnly:!0})],So.prototype,"state",null),c([f()],So.prototype,"view",void 0),So=c([E("esri.widgets.Bookmarks.BookmarksViewModel")],So);const Nle=So;let Ma=class extends ce{constructor(){super(...arguments),this.addBookmarkButton=!1,this.closeButton=!1,this.collapseButton=!1,this.editBookmarkButton=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.thumbnail=!0,this.time=!0}};c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"addBookmarkButton",void 0),c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"closeButton",void 0),c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"collapseButton",void 0),c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"editBookmarkButton",void 0),c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"filter",void 0),c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"flow",void 0),c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"heading",void 0),c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"thumbnail",void 0),c([f({type:Boolean,nonNullable:!0})],Ma.prototype,"time",void 0),Ma=c([E("esri.widgets.Bookmarks.BookmarksVisibleElements")],Ma);const Dle=Ma,Ls="esri-bookmarks",pT=`${Ls}__authoring`,mT=`${Ls}__bookmark`,Bi={base:Ls,noBookmarksHeader:`${Ls}__no-bookmarks-heading`,noBookmarksDescription:`${Ls}__no-bookmarks-description`,form:`${Ls}__form`,list:`${Ls}__list`,loader:`${Ls}__loader`,filterNoResults:`${Ls}__filter-no-results`,formContent:`${Ls}__form-content`,addBookmarkButton:`${Ls}__add-bookmark-button`,editBookmarkInput:`${Ls}__edit-bookmark-input`,addBookmarkInput:`${Ls}__add-bookmark-input`,dragEnabled:`${Ls}--drag-enabled`,bookmarkImage:`${Ls}__image`,bookmarkImageContainer:`${mT}-image-container`,bookmarkContent:`${mT}-content`,bookmarkContentLabel:`${mT}-content-label`,authoring:pT,authoringImageContainer:`${pT}-image-container`,authoringRefreshThumbnailButton:`${pT}-refresh-thumbnail-button`};let qt=class extends An.IdentifiableMixin(It){constructor(e,i){super(e,i),this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._lastDragDetail=null,this._selectedDragBookmarkUid=null,this._editIncludeTimeExtent=void 0,this._userState=null,this._focusRootFlowItem=!1,this._focusAddFlowItem=!1,this._focusEditFlowItem=!1,this.disabled=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterText="",this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.viewModel=new Nle,this.visibleElements=new Dle,this._onCalciteListOrderChange=r=>{const{_lastDragDetail:s,bookmarks:n}=this,{toEl:a,fromEl:o,dragEl:l,newIndex:u}=r;if(!n.length||!o||!a||(s==null?void 0:s.newIndex)===u&&(s==null?void 0:s.dragEl)===l&&(s==null?void 0:s.toEl)===a&&(s==null?void 0:s.fromEl)===o)return;this._lastDragDetail=r;const d=Array.from(o.children).filter(h=>h==null?void 0:h.matches("calcite-list-item")).map(h=>h.value);n.sort((h,p)=>{const m=d.indexOf(h.uid),g=d.indexOf(p.uid);return m>g?1:m<g?-1:0}),this._selectedDragBookmarkUid=l.value}}loadDependencies(){return Pn({action:()=>R(()=>import("./index-B8MSPrSA.js").then(e=>e.i),__vite__mapDeps([2,1])),button:()=>R(()=>Promise.resolve().then(()=>T3),void 0),"chip-group":()=>R(()=>import("./index-Fhcuh_Ms.js").then(e=>e.i),[]),chip:()=>R(()=>Promise.resolve().then(()=>Ele),void 0),fab:()=>R(()=>import("./index-CL2indoY.js").then(e=>e.i),[]),flow:()=>R(()=>import("./index-IoViysGY.js").then(e=>e.i),[]),"flow-item":()=>R(()=>import("./index-CP5XcGHi.js"),__vite__mapDeps([362,2,1,87,18,7,14,27,88,57,9,10,6,86,56,64])),icon:()=>R(()=>Promise.resolve().then(()=>m0),void 0),input:()=>R(()=>import("./index-DmeN85YD.js"),__vite__mapDeps([364,360,361,65,40,1,13,19,66])),"input-message":()=>R(()=>import("./index-OKy8LF_V.js").then(e=>e.i),[]),label:()=>R(()=>import("./index-2CeNF34W.js").then(e=>e.i),[]),list:()=>R(()=>import("./index-D8Net2Ig.js"),__vite__mapDeps([359,101,1,75,360,361,65,40,13,19,66,63,42,20,7,73,74,30])),"list-item":()=>R(()=>import("./index-B9TUpmDe.js"),__vite__mapDeps([358,59,18,7,14,55,2,1,62,61,60,99,76,28,74,77])),loader:()=>R(()=>Promise.resolve().then(()=>$3),void 0),notice:()=>R(()=>import("./index-D0mCuMNN.js").then(e=>e.i),__vite__mapDeps([84,15,14])),scrim:()=>R(()=>Promise.resolve().then(()=>sBe),void 0),switch:()=>R(()=>import("./index-BdJ3T8MN.js").then(e=>e.i),[]),table:()=>R(()=>import("./index-CPsqo5gq.js"),__vite__mapDeps([365,85,1,13,33,25,105])),"table-cell":()=>R(()=>import("./index-BC-72UEe.js").then(e=>e.i),[]),"table-header":()=>R(()=>import("./index-tVLxPEQ4.js").then(e=>e.i),[]),"table-row":()=>R(()=>import("./index-Bq_ZTB1q.js"),__vite__mapDeps([366,367,368,106,1]))})}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(e){this.viewModel.defaultCreateOptions=e}get defaultEditOptions(){return this.viewModel.defaultEditOptions}set defaultEditOptions(e){this.viewModel.defaultEditOptions=e}get bookmarks(){return this.viewModel.bookmarks}set bookmarks(e){this.viewModel.bookmarks=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"bookmark"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}endAddBookmark(){this._userState=null}goTo(e){return this.viewModel.goTo(e)}render(){return M("div",{class:this.classes(Bi.base,Ce.widget,Ce.panel)},this._renderBookmarksContainer())}startAddBookmark(){this._userState=new DA({state:"add"}),this._focusAddFlowItem=!0}_renderNoBookmarksContainer(e){const{messages:i,viewModel:{state:r}}=this;return e.length||r==="loading"?null:M("div",{class:Ce.empty,key:"no-bookmarks"},M("calcite-icon",{icon:"bookmark",scale:"l"}),M(Im,{class:this.classes(Ce.heading,Bi.noBookmarksHeader),level:this.headingLevel},i==null?void 0:i.noBookmarksHeading),M("p",{class:Bi.noBookmarksDescription},i.noBookmarksDescription))}_renderEditBookmarkFlowItems(){const{_userState:e}=this,i=e==null?void 0:e.editedBookmark;return i&&(e==null?void 0:e.state)==="edit"?this._renderEditingBookmark(i):[]}_renderBookmarkItems(e){return e?e.toArray().map(i=>this._renderBookmark(i)):[]}_handleCalciteListDragEnd(e){const{fromEl:i,dragEl:r,oldIndex:s}=e;i.insertBefore(r,i.children[s])}_renderBookmarksContainer(){var S;const{viewModel:{state:e,bookmarks:i},dragEnabled:r,messages:s,disabled:n,filterPlaceholder:a,filterText:o,visible:l,headingLevel:u,visibleElements:{closeButton:d,collapseButton:h,filter:p,heading:m,flow:g},uid:b}=this,v=i.filter(Kt),w=v.length?M("calcite-list",{class:Bi.list,displayMode:"flat",dragEnabled:r,filterEnabled:p,filterPlaceholder:a,filterProps:Wne,filterText:o,group:`bookmarks-${b}`,key:"bookmark-list",label:s.widgetLabel,selectionAppearance:"border",selectionMode:"none",onCalciteListDragEnd:T=>this._handleCalciteListDragEnd(T.detail),onCalciteListFilter:T=>{var C;return this.filterText=((C=T.currentTarget)==null?void 0:C.filterText)??""},onCalciteListOrderChange:T=>this._onCalciteListOrderChange(T.detail)},this._renderBookmarkItems(v),p?M("div",{class:Bi.filterNoResults,slot:"filter-no-results"},M("calcite-notice",{kind:"info",open:!0,width:"full"},M("div",{slot:"message"},s.noBookmarksHeading),";")):null):null,_=[M("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:d,closed:!l,collapsible:h,disabled:n,heading:m?s.widgetLabel:void 0,headingLevel:u,loading:e==="loading",selected:!((S=this._userState)!=null&&S.state),onCalciteFlowItemClose:()=>this.visible=!1},this._renderNoBookmarksContainer(v),w,this._renderAddBookmarkButton()),this._renderAddingBookmark(),this._renderEditBookmarkFlowItems()];return l?g?M("calcite-flow",{key:"root-flow"},_):_:null}_renderAddBookmarkButton(){const{messages:e,_userState:i,disabled:r,viewModel:{view:s,state:n},visibleElements:{addBookmarkButton:a}}=this,o=(i==null?void 0:i.loading)??!1;return s&&n!=="loading"&&a?M("calcite-fab",{appearance:"outline-fill",bind:this,class:Bi.addBookmarkButton,disabled:r||o,icon:"plus",key:"add-bookmark-item",kind:"neutral",loading:o,onclick:this.startAddBookmark,slot:"fab",text:e.addBookmark,textEnabled:!0,title:e.addBookmark,type:"button"}):null}_renderEditContainer(e){const{messagesCommon:i,visibleElements:{editBookmarkButton:r}}=this,s=`${i.edit} ${this._getBookmarkTitle(e)}`;return r?M("calcite-action",{appearance:"transparent",icon:"pencil",key:"edit-action",onclick:()=>this._showEditBookmarkForm(e),slot:"actions-end",text:s,title:s}):null}_renderBookmarkImage(e,i){var r;return i?M("img",{alt:"",class:Bi.bookmarkImage,key:"bookmark-image",src:(r=e.thumbnail)==null?void 0:r.url}):null}_renderBookmarkTimeSwitch(e){const{messages:i,viewModel:{view:r}}=this,{timeExtent:s}=e;return(r==null?void 0:r.timeExtent)??s?M("calcite-label",{layout:"inline-space-between"},i.includeTimeExtent,M("calcite-switch",{checked:!!s,onCalciteSwitchChange:n=>{this._editIncludeTimeExtent=!!n.currentTarget.checked}})):null}_renderEditBookmarkTimeExtent(e){return this._editIncludeTimeExtent?this._renderBookmarkTimeExtent(e):null}_getTimeExtentStrings(e){const{visibleElements:i}=this,{timeExtent:r}=e;if(!r)return{};const{start:s,end:n}=r,a=n!=null&&(s==null||s.getTime()!==n.getTime()),o=s?this._formatDate(s):"",l=s&&i.time?this._formatTime(s):"";return a?{startDate:o,startTime:l,endDate:this._formatDate(n),endTime:i.time?this._formatTime(n):""}:{startDate:o,startTime:l}}_renderTimeExtentDescription(e){const{startDate:i,startTime:r,endDate:s,endTime:n}=this._getTimeExtentStrings(e);if(!i)return"";const a=`${i} ${r}`;return s?`${a} - ${`${s} ${n}`}`:a}_renderBookmarkTimeExtent(e,i=!1){const{messages:r}=this,{startDate:s,startTime:n,endDate:a,endTime:o}=this._getTimeExtentStrings(e),l=i?null:M("calcite-table-row",{slot:"table-header"},M("calcite-table-header",{heading:r.startDate}),a?M("calcite-table-header",{heading:r.endDate}):null);return s?M("calcite-table",{caption:r.timeExtent,scale:"s"},l,M("calcite-table-row",null,M("calcite-table-cell",null,s," ",n?[M("br",null),n]:null),a?M("calcite-table-cell",null,a,o?[M("br",null),o]:null):null)):null}_renderBookmarkActiveScrim(e,i){return this.viewModel.activeBookmark===e&&i?M("calcite-scrim",{key:"bookmark-active-scrim",loading:!0}):null}_renderBookmarkActiveLoader(e,i){return this.viewModel.activeBookmark!==e||i?null:M("calcite-loader",{class:Bi.loader,inline:!0,key:"bookmark-active-loader",label:this.messagesCommon.loading})}_renderBookmarkImageIcon(e,i){return this.viewModel.activeBookmark===e||i?null:M("calcite-icon",{icon:"bookmark",key:"bookmark-icon",scale:"s"})}_renderBookmarkThumbnail(e){var r;const i=this.visibleElements.thumbnail&&!!((r=e.thumbnail)!=null&&r.url);return M("div",{class:Bi.bookmarkImageContainer,slot:"content-start"},this._renderBookmarkActiveScrim(e,i),this._renderBookmarkImage(e,i),this._renderBookmarkActiveLoader(e,i),this._renderBookmarkImageIcon(e,i))}_focusSelectedDragEl(e,i){this._selectedDragBookmarkUid===i.uid&&(Xu(e),this._selectedDragBookmarkUid=null)}_renderBookmark(e){return M("calcite-list-item",{afterCreate:i=>this._focusSelectedDragEl(i,e),afterUpdate:i=>this._focusSelectedDragEl(i,e),class:this.classes({[Bi.dragEnabled]:this.dragEnabled}),description:this._renderTimeExtentDescription(e),key:e.uid,label:this._getBookmarkTitle(e),value:e.uid,onCalciteListItemSelect:()=>this._goToBookmark(e)},this._renderBookmarkThumbnail(e),this._renderBookmarkContent(e),this._renderEditContainer(e))}_renderBookmarkContent(e){return M("div",{class:Bi.bookmarkContent,slot:"content"},M("span",{class:Bi.bookmarkContentLabel},this._getBookmarkTitle(e)),this._renderBookmarkTimeExtent(e,!0))}_renderEditingBookmarkName(e){const{messages:i,_userState:r}=this,s=(r==null?void 0:r.validationState)==="name-required";return M("calcite-label",null,i.title,M("calcite-input",{afterCreate:this._storeEditInput,bind:this,class:Bi.editBookmarkInput,name:"bookmark-name",placeholder:i.titlePlaceholder,required:!0,type:"text",value:e.name}),s?M("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},i.invalidTitle):null)}_renderEditingBookmarkActions(){const{messagesCommon:e,_userState:i}=this,r=i==null?void 0:i.bookmark;return[M("calcite-button",{appearance:"transparent",kind:"danger",onclick:()=>this._deleteBookmark(r),slot:"footer",type:"button",width:"full"},e.delete),M("calcite-button",{appearance:"outline",bind:this,onclick:this._closeEditBookmarkForm,slot:"footer",type:"button",width:"full"},e.cancel),M("calcite-button",{slot:"footer",type:"submit",width:"full"},e.save)]}_handleUrlEditInputChange(){var n,a;const{_userState:e,_urlEditInputNode:i}=this,r=i==null?void 0:i.value;if(!(e!=null&&e.editedBookmark)||!r)return;e.validationState=void 0,(n=e.editedBookmark.thumbnail)!=null&&n.isDataURI&&(e.screenshotUrl=(a=e.editedBookmark.thumbnail)==null?void 0:a.url);const s=new ra({url:r});s.isSecureUrl&&(e.customUrl=r,e.editedBookmark.thumbnail=s)}_renderEditingTimeExtent(e){const{capabilities:i,view:r}=this.viewModel,{timeExtent:s}=e;return i.time&&((r==null?void 0:r.timeExtent)??s)?M("div",{key:"edit-bookmark-time-container"},this._renderBookmarkTimeSwitch(e),this._renderEditBookmarkTimeExtent(e)):null}_renderEditingBookmarkImage(e){var n,a;const{_userState:i}=this,r=i==null?void 0:i.thumbnailState,s=(n=e.thumbnail)!=null&&n.isSecureUrl?r==="url":(a=e.thumbnail)!=null&&a.isDataURI?r==="screenshot":null;if(s)return this._renderBookmarkImage(e,s)}_renderEditingThumbnail(e){const{_userState:i,visibleElements:r}=this,s=i==null?void 0:i.thumbnailState;return r.thumbnail&&s!=="none"?M("div",{class:Bi.authoringImageContainer},this._renderEditingBookmarkImage(e)):null}_renderUpdateThumbnailButton(){const{visibleElements:e,messages:i,_userState:r}=this,s=r==null?void 0:r.thumbnailState;return e.thumbnail&&s==="screenshot"?M("calcite-button",{appearance:"outline",class:Bi.authoringRefreshThumbnailButton,iconStart:"refresh",key:"update-thumbnail",kind:"neutral",onclick:()=>{this._updateThumbnail()},width:"full"},i.updateThumbnail):null}_renderEditingBookmarkUrlInput(e){var l,u;const{messages:i,_userState:r}=this,s=(l=e.thumbnail)==null?void 0:l.url,n=(u=e.thumbnail)!=null&&u.isSecureUrl?s:void 0,a=s&&(r==null?void 0:r.validationState)==="absolute-url-required";return(r==null?void 0:r.thumbnailState)==="url"?M("calcite-label",{key:"thumbnail-url-input"},M("calcite-input",{afterCreate:this._storeUrlEditInput,bind:this,name:"bookmark-thumbnail-url",pattern:"https://.*",placeholder:i?`https://<${i.imageUrlPlaceholder}>`:void 0,required:!0,title:i.imageUrlTooltip,type:"text",value:n,onCalciteInputChange:this._handleUrlEditInputChange,onCalciteInputInput:this._handleUrlEditInputChange}),a?M("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},i.invalidImageUrl):null):null}_renderThumbnailSelector(){const{visibleElements:e,messages:i,_userState:r}=this,s=r==null?void 0:r.thumbnailState;return e.thumbnail?M("calcite-label",{key:"thumbnail-chip-group"},i.thumbnail,M("calcite-chip-group",{label:i.thumbnail,selectionMode:"single-persist",onCalciteChipGroupSelect:n=>this._handleThumbnailTypeSelect(n.currentTarget.selectedItems[0].value)},M("calcite-chip",{label:i.screenshot,selected:s==="screenshot",value:"screenshot"},i.screenshot),M("calcite-chip",{label:i.url,selected:s==="url",value:"url"},i.url),M("calcite-chip",{label:i.none,selected:s==="none",value:"none"},i.none))):null}_renderEditingBookmark(e){var n;const{disabled:i,messagesCommon:r,headingLevel:s}=this;return e?M("form",{bind:this,class:Bi.form,disabled:this.disabled,onsubmit:this._editBookmarkSubmit},M("calcite-flow-item",{afterCreate:this._focusEditFlowItemNode,afterUpdate:this._focusEditFlowItemNode,bind:this,disabled:i,heading:r.edit,headingLevel:s,key:"edit-bookmark-form",selected:((n=this._userState)==null?void 0:n.state)==="edit",onCalciteFlowItemBack:a=>{a.preventDefault(),this._closeEditBookmarkForm()}},M("div",{class:Bi.formContent},M("div",{class:Bi.authoring},this._renderEditingBookmarkName(e),this._renderThumbnailSelector(),this._renderEditingThumbnail(e),this._renderEditingBookmarkUrlInput(e),this._renderUpdateThumbnailButton(),this._renderEditingTimeExtent(e))),this._renderEditingBookmarkActions())):null}_renderAddingBookmarkName(){const{_userState:e,messages:i}=this,r=(e==null?void 0:e.validationState)==="name-required";return M("calcite-label",null,i.title,M("calcite-input",{afterCreate:this._storeAddInput,bind:this,class:Bi.addBookmarkInput,name:"bookmark-name",placeholder:i.titlePlaceholder,required:!0,type:"text",value:""}),r?M("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},i.invalidTitle):null)}_renderAddingBookmarkActions(){const{messagesCommon:e}=this;return[M("calcite-button",{appearance:"outline",bind:this,onclick:this._endAddBookmark,slot:"footer",type:"button",width:"full"},e.cancel),M("calcite-button",{slot:"footer",type:"submit",width:"full"},e.add)]}_renderAddingBookmark(){var n;const{disabled:e,messages:i,headingLevel:r,_userState:s}=this;return(s==null?void 0:s.state)==="add"?M("form",{bind:this,class:Bi.form,disabled:e,onsubmit:this._addBookmarkSubmitClick},M("calcite-flow-item",{afterCreate:this._focusAddFlowItemNode,afterUpdate:this._focusAddFlowItemNode,bind:this,disabled:e,heading:i.addBookmark,headingLevel:r,key:"add-bookmark-form",selected:((n=this._userState)==null?void 0:n.state)==="add",onCalciteFlowItemBack:a=>{a.preventDefault(),this._endAddBookmark()}},M("div",{class:Bi.formContent},this._renderAddingBookmarkName()),this._renderAddingBookmarkActions())):null}_getBookmarkTitle(e){return(e==null?void 0:e.name)||this.messagesCommon.untitled}_formatDate(e){var i;return e?Hs(e,{...xf("short-date"),timeZone:((i=this.viewModel.view)==null?void 0:i.timeZone)??Xs}):""}_formatTime(e){var i;return e?Hs(e,{...xf("long-time"),timeZone:((i=this.viewModel.view)==null?void 0:i.timeZone)??Xs}):""}_endAddBookmark(){this.endAddBookmark(),this._focusRootFlowItem=!0}_showEditBookmarkForm(e){e&&(this._editIncludeTimeExtent=!!e.timeExtent,this._userState=new DA({bookmark:e,state:"edit"}),this._focusEditFlowItem=!0,this.viewModel.goTo(e))}async _createNewScreenshotUrl(){var i;return((i=(await this.viewModel.createBookmark()).thumbnail)==null?void 0:i.url)??null}_storeCurrentUrl(){var r,s,n,a,o,l;const{_userState:e}=this,i=(s=(r=e==null?void 0:e.editedBookmark)==null?void 0:r.thumbnail)==null?void 0:s.url;i&&((a=(n=e==null?void 0:e.editedBookmark)==null?void 0:n.thumbnail)!=null&&a.isSecureUrl?e.customUrl=i:(l=(o=e==null?void 0:e.editedBookmark)==null?void 0:o.thumbnail)!=null&&l.isDataURI&&(e.screenshotUrl=i))}async _handleThumbnailTypeSelect(e){const{_userState:i}=this;if(!i)return;const{screenshotUrl:r,customUrl:s,editedBookmark:n}=i,a=e==="screenshot"?r??await this._createNewScreenshotUrl():e==="url"&&s?s:null;this._storeCurrentUrl(),n&&a&&(n.thumbnail=new ra({url:a})),i.validationState=void 0,i.thumbnailState=e}_closeEditBookmarkForm(){this._userState=null,this._focusRootFlowItem=!0}_addBookmarkSubmitClick(e){e.preventDefault(),this._addBookmarkSubmit()}async _addBookmarkSubmit(){const{_addInputNode:e,_userState:i,viewModel:r,viewModel:{bookmarks:s}}=this;if(!i)return;const n=e?e.value.trim():null;if(!n)return void(i.validationState="name-required");i.loading=!0;const a=await r.createBookmark();a.name=n,s.add(a),this._endAddBookmark()}async _editBookmarkAndClose(e,i){const{viewModel:r,viewModel:{defaultEditOptions:s}}=this;await r.editBookmark(e,{...s,...i}),this._closeEditBookmarkForm()}_editBookmarkSubmit(e){e.preventDefault();const{_editInputNode:i,_userState:r,_editIncludeTimeExtent:s,_urlEditInputNode:n}=this;if(!(r!=null&&r.bookmark)||!r.editedBookmark)return;r.validationState=void 0,r.customUrl=void 0,r.screenshotUrl=void 0;const a=i==null?void 0:i.value.trim();if(!a)return void(r.validationState="name-required");r.bookmark.name=a,r.bookmark.thumbnail=r.editedBookmark.thumbnail,s||(r.bookmark.timeExtent=null);const o=r.thumbnailState;if(o==="url"&&n){const l=n.value,u=new ra({url:l});if(!u.isSecureUrl)return void(r.validationState="absolute-url-required");r.bookmark.thumbnail=u}else o==="none"&&(r.bookmark.thumbnail=null);this._editBookmarkAndClose(r.bookmark,{takeScreenshot:!1,captureTimeExtent:s})}_storeEditInput(e){this._editInputNode=e}_storeAddInput(e){this._addInputNode=e}_storeUrlEditInput(e){this._urlEditInputNode=e}_deleteBookmark(e){this._closeEditBookmarkForm(),e&&(this.viewModel.bookmarks.remove(e),e.destroy())}_goToBookmark(e){this.endAddBookmark(),this.viewModel.goTo(e)}async _updateThumbnail(){const{_userState:e,viewModel:i}=this;e&&(e.validationState=void 0,await i.editBookmark(e.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1,captureTimeExtent:!1}))}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,Xu(e))}_focusEditFlowItemNode(e){this._focusEditFlowItem&&(this._focusEditFlowItem=!1,Xu(e))}_focusAddFlowItemNode(e){this._focusAddFlowItem&&(this._focusAddFlowItem=!1,Xu(e))}};c([f()],qt.prototype,"_editIncludeTimeExtent",void 0),c([f({type:DA})],qt.prototype,"_userState",void 0),c([f()],qt.prototype,"_focusRootFlowItem",void 0),c([f()],qt.prototype,"_focusAddFlowItem",void 0),c([f()],qt.prototype,"_focusEditFlowItem",void 0),c([f()],qt.prototype,"defaultCreateOptions",null),c([f()],qt.prototype,"defaultEditOptions",null),c([f()],qt.prototype,"bookmarks",null),c([f()],qt.prototype,"disabled",void 0),c([f()],qt.prototype,"dragEnabled",void 0),c([f()],qt.prototype,"filterPlaceholder",void 0),c([f()],qt.prototype,"filterText",void 0),c([f()],qt.prototype,"headingLevel",void 0),c([f()],qt.prototype,"goToOverride",null),c([f()],qt.prototype,"icon",null),c([f()],qt.prototype,"label",null),c([f(),xi("esri/widgets/Bookmarks/t9n/Bookmarks")],qt.prototype,"messages",void 0),c([f(),xi("esri/t9n/common")],qt.prototype,"messagesCommon",void 0),c([f()],qt.prototype,"uiStrings",void 0),c([f()],qt.prototype,"view",null),c([f({type:Nle}),jne(["select-bookmark","bookmark-edit","bookmark-select"])],qt.prototype,"viewModel",void 0),c([f({type:Dle,nonNullable:!0})],qt.prototype,"visibleElements",void 0),c([f()],qt.prototype,"endAddBookmark",null),c([f()],qt.prototype,"startAddBookmark",null),qt=c([E("esri.widgets.Bookmarks")],qt);const lUe=qt;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const cUe=fa`@layer{arcgis-bookmarks{display:block}}`,uUe=OS(lUe);var sh;let dUe=(sh=class extends Ts{constructor(){super(...arguments),this.widget=uUe(this),this.viewModel=this.widget.viewModel,this.arcgisClose=Xne(this),this.autoDestroyDisabled=!1,this.bookmarks=this.widget.bookmarks,this.closed=!1,this.defaultCreateOptions=this.widget.defaultCreateOptions,this.defaultEditOptions=this.widget.defaultEditOptions,this.disabled=this.widget.disabled,this.dragEnabled=this.widget.dragEnabled,this.filterPlaceholder=this.widget.filterPlaceholder,this.filterText=this.widget.filterText,this.goToOverride=this.widget.goToOverride,this.hideFlow=this.widget.visibleElements.flow,this.hideThumbnail=this.widget.visibleElements.thumbnail,this.hideTime=this.widget.visibleElements.time,this.icon=this.widget.icon,this.label=this.widget.label,this.position="bottom-left",this.showAddBookmarkButton=this.widget.visibleElements.addBookmarkButton,this.showCloseButton=this.widget.visibleElements.closeButton,this.showCollapseButton=this.widget.visibleElements.collapseButton,this.showEditBookmarkButton=this.widget.visibleElements.editBookmarkButton,this.showFilter=this.widget.visibleElements.filter,this.showHeading=this.widget.visibleElements.heading,this.state=this.viewModel.state,this.arcgisEdit=Zi(()=>this.widget,"bookmark-edit"),this.arcgisPropertyChange=d0()("state"),this.arcgisReady=Bs(),this.arcgisSelect=Zi(()=>this.widget,"bookmark-select")}async destroy(){await this.manager.destroy()}},sh.properties={autoDestroyDisabled:5,bookmarks:0,closed:5,defaultCreateOptions:0,defaultEditOptions:0,disabled:7,dragEnabled:5,filterPlaceholder:1,filterText:1,goToOverride:0,hideFlow:5,hideThumbnail:5,hideTime:5,icon:1,label:1,position:1,referenceElement:1,showAddBookmarkButton:5,showCloseButton:5,showCollapseButton:5,showEditBookmarkButton:5,showFilter:5,showHeading:5,state:3},sh.shadowRootOptions=Wo,sh.styles=cUe,sh);gd("arcgis-bookmarks",dUe);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const fUe=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];function hUe(t){return`${t.split("-").map((r,s)=>s===0?r:`${r[0].toUpperCase()}${r.slice(1)}`).join("")}${fUe.includes(t)?"Input":"Change"}`}const zA="hidden-form-input";function HO(t){return"checked"in t}const VA=new WeakMap,WO=new WeakSet;function pUe(t,e){if(p0(e.parentElement,"[form]"))return!0;const r="calciteInternalFormComponentRegister";let s=!1;return t.addEventListener(r,n=>{s=n.composedPath().some(a=>WO.has(a)),n.stopPropagation()},{once:!0}),e.dispatchEvent(new CustomEvent(r,{bubbles:!0,composed:!0})),s}function mUe(t,{status:e,message:i,icon:r}){"status"in t&&(t.status=e),"validationIcon"in t&&typeof t.validationIcon!="string"&&(t.validationIcon=r),"validationMessage"in t&&!t.validationMessage&&(t.validationMessage=i)}function zle(t){return t.nodeName==="CALCITE-RADIO-BUTTON"?p0(t,"calcite-radio-button-group"):t}const yUe=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function zG(t){var o;const e=t==null?void 0:t.target,i=e==null?void 0:e.validationMessage,r=zle(e==null?void 0:e.parentElement);if(!r)return;const s=(o=r==null?void 0:r.nodeName)==null?void 0:o.toLowerCase(),n=s==null?void 0:s.split("-");if(n.length<2||n[0]!=="calcite")return;t==null||t.preventDefault(),"validity"in r&&(r.validity=e==null?void 0:e.validity),r.dispatchEvent(yUe),mUe(r,{message:i,icon:!0,status:"invalid"});const a=hUe(s);r.addEventListener(a,()=>{"status"in r&&(r.status="idle"),"validationIcon"in r&&(r.validationIcon===""||r.validationIcon===!0)&&(r.validationIcon=!1),"validationMessage"in r&&r.validationMessage===i&&(r.validationMessage=""),"validity"in r&&(r.validity=e==null?void 0:e.validity)},{once:!0})}function gUe(t){const{formEl:e}=t;return e?(e.addEventListener("invalid",zG,!0),e.requestSubmit(),e.removeEventListener("invalid",zG,!0),requestAnimationFrame(()=>{const i=e.querySelectorAll("[status=invalid]");for(const r of i)if(r!=null&&r.validationMessage){r==null||r.setFocus();break}}),!0):!1}function bUe(t){var e;(e=t.formEl)==null||e.reset()}function Aut(t){const{el:e,value:i}=t,r=Vle(t);if(!r||pUe(r,e))return;t.formEl=r,t.defaultValue=i,HO(t)&&(t.defaultChecked=t.checked);const s=vUe.bind(t);r.addEventListener("reset",s),VA.set(t.el,s),WO.add(e)}function Vle(t){const{el:e,form:i}=t;return i?qO(e,{id:i}):p0(e,"form")}function vUe(){var t;if("status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),HO(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue,(t=this.onFormReset)==null||t.call(this)}function Put(t){const{el:e,formEl:i}=t;if(!i)return;const r=VA.get(e);i.removeEventListener("reset",r),VA.delete(e),t.formEl=null,WO.delete(e)}function Lut(t,e){t.defaultValue=e}const wUe="calciteInternalHiddenInputInput",jle=t=>{t.target.dispatchEvent(new CustomEvent(wUe,{bubbles:!0}))},VG=t=>t.removeEventListener("input",jle);function _Ue(t){const{el:e,formEl:i,name:r,value:s}=t,{ownerDocument:n}=e,a=e.querySelectorAll(`input[slot="${zA}"]`);if(!i||!r){a.forEach(h=>{VG(h),h.remove()});return}const o=Array.isArray(s)?s:[s],l=[],u=new Set;a.forEach(h=>{const p=o.find(m=>m==h.value);p!=null?(u.add(p),jG(t,h,p)):l.push(h)});let d;o.forEach(h=>{if(u.has(h))return;let p=l.pop();p||(p=n.createElement("input"),p.ariaHidden="true",p.slot=zA),d||(d=n.createDocumentFragment()),d.append(p),p.addEventListener("input",jle),jG(t,p,h)}),d&&e.append(d),l.forEach(h=>{VG(h),h.remove()})}function jG(t,e,i){var u;const{defaultValue:r,disabled:s,form:n,name:a,required:o}=t;e.defaultValue=r,e.disabled=s,e.name=a,e.required=o,e.tabIndex=-1,n?e.setAttribute("form",n):e.removeAttribute("form"),HO(t)?(e.checked=t.checked,e.defaultChecked=t.defaultChecked,e.value=t.checked?i||"on":""):e.value=i||"",(u=t.syncHiddenFormInput)==null||u.call(t,e);const l=zle(t.el);if(l&&"validity"in l)for(const d in{...e==null?void 0:e.validity})l.validity[d]=e.validity[d]}const Rut=({component:t})=>(_Ue(t),bt`<slot name=${zA}></slot>`);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const qle="calciteInternalLabelClick",ZO="calciteInternalLabelConnected",jA="calciteInternalLabelDisconnected",qG="calcite-label",Xb=new WeakMap,Ew=new WeakMap,S_=new WeakMap,r7=new WeakMap,Em=new Set,SUe=t=>{const{id:e}=t,i=e&&qO(t,{selector:`${qG}[for="${e}"]`});if(i)return i;const r=p0(t,qG);return!r||xUe(r,t)?null:r};function xUe(t,e){let i;const r="custom-element-ancestor-check",s=a=>{a.stopImmediatePropagation();const o=a.composedPath();i=o.slice(o.indexOf(e),o.indexOf(t))};return t.addEventListener(r,s,{once:!0}),e.dispatchEvent(new CustomEvent(r,{composed:!0,bubbles:!0})),t.removeEventListener(r,s),i.filter(a=>a!==e&&a!==t).filter(a=>{var o;return(o=a.tagName)==null?void 0:o.includes("-")}).length>0}function JO(t){if(!t)return;const e=SUe(t.el);if(Ew.has(e)&&e===t.labelEl||!e&&Em.has(t))return;const i=EUe.bind(t);if(e){t.labelEl=e;const r=Xb.get(e)||[];r.push(t),Xb.set(e,r.sort(Ble)),Ew.has(t.labelEl)||(Ew.set(t.labelEl,BG),t.labelEl.addEventListener(qle,BG)),Em.delete(t),document.removeEventListener(ZO,S_.get(t)),r7.set(t,i),document.addEventListener(jA,i)}else Em.has(t)||(i(),document.removeEventListener(jA,r7.get(t)))}function $Ue(t){if(!t||(Em.delete(t),document.removeEventListener(ZO,S_.get(t)),document.removeEventListener(jA,r7.get(t)),S_.delete(t),r7.delete(t),!t.labelEl))return;const e=Xb.get(t.labelEl);e.length===1&&(t.labelEl.removeEventListener(qle,Ew.get(t.labelEl)),Ew.delete(t.labelEl)),Xb.set(t.labelEl,e.filter(i=>i!==t).sort(Ble)),t.labelEl=null}function Ble(t,e){return eBe(t.el,e.el)?-1:1}function TUe(t){var e,i;return t.label||((i=(e=t.labelEl)==null?void 0:e.textContent)==null?void 0:i.trim())||""}function BG(t){const e=t.detail.sourceEvent.target,i=Xb.get(this),r=i.find(a=>a.el===e);if(i.includes(r))return;const n=i[0];n.disabled||n.onLabelClick(t)}function IUe(){Em.has(this)&&JO(this)}function EUe(){Em.add(this);const t=S_.get(this)||IUe.bind(this);S_.set(this,t),document.addEventListener(ZO,t)}async function Out(t){var r;if(await t.componentOnReady(),Xb.has(t))return;const i=(r=t.ownerDocument)==null?void 0:r.getElementById(t.for);i&&requestAnimationFrame(()=>{for(const s of Em)if(s.el===i){JO(s);break}})}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Nn={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty",buttonPadding:"button-padding",buttonPaddingShrunk:"button-padding--shrunk"},MUe=fa`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;inline-size:auto;vertical-align:middle;border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0))}:host a,:host button{--calcite-internal-button-content-margin: .5rem;--calcite-internal-button-padding-x: 7px;--calcite-internal-button-padding-y: 3px;position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;align-items:center;justify-content:center;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;outline-color:transparent;background-color:var(--calcite-button-background-color, var(--calcite-internal-button-background-color, var(--calcite-color-transparent)));border-block-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-block-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-style:solid;border-width:var(--calcite-border-width-sm);box-shadow:inset 0 0 0 0 var(--calcite-button-shadow-color, var(--calcite-internal-button-shadow-color, var(--calcite-color-transparent)));border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0));color:var(--calcite-button-text-color, var(--calcite-internal-button-text-color, currentColor));padding-block:var(--calcite-internal-button-padding-y);padding-inline:var(--calcite-internal-button-padding-x);transition:color var(--calcite-animation-timing) ease-in-out,background-color var(--calcite-animation-timing) ease-in-out,box-shadow var(--calcite-animation-timing) ease-in-out,outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host a:hover,:host button:hover{text-decoration-line:none}:host a:focus,:host button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host a span,:host button span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host a calcite-loader,:host button calcite-loader{color:var(--calcite-button-loader-color, var(--calcite-internal-button-loader-color, var(--calcite-button-text-color, var(--calcite-internal-button-text-color))))}:host([round]){--calcite-internal-button-corner-radius: 50px}.content{margin-inline:var(--calcite-internal-button-content-margin)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-content-margin: .75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-internal-button-content-margin: 1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-internal-button-content-margin)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(.5)}to{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}to{inline-size:0;opacity:0;transform:scale(.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-internal-button-content-margin)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{--calcite-internal-button-border-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([kind=brand]) button,:host([kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{--calcite-internal-button-background-color: var(--calcite-color-brand-press)}:host([kind=danger]) button,:host([kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-status-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{--calcite-internal-button-background-color: var(--calcite-color-status-danger-press)}:host([kind=neutral]) button,:host([kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-background-color: var(--calcite-color-foreground-3);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{--calcite-internal-button-background-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{--calcite-internal-button-background-color: var(--calcite-color-foreground-1);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline-fill]) button:hover,:host([appearance=outline-fill]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([appearance=outline-fill]) button:active,:host([appearance=outline-fill]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover);--calcite-internal-button-shadow-color: var(--calcite-color-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-shadow-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press);--calcite-internal-button-shadow-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=solid][kind=neutral]) button:hover,:host([appearance=solid][kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-border-3)}:host([appearance=solid][kind=neutral]) button:active,:host([appearance=solid][kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-border-2)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-shadow-color: var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-press)}:host([appearance=outline]) button,:host([appearance=outline]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline]) button:hover,:host([appearance=outline]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=outline]) button:active,:host([appearance=outline]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover);--calcite-internal-button-shadow-color: var(--calcite-color-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-shadow-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press);--calcite-internal-button-shadow-color: var(--calcite-color-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-shadow-color: var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button,:host([appearance=outline-fill][split-child=primary]) a,:host([appearance=outline][split-child=primary]) a{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button,:host([appearance=outline-fill][split-child=secondary]) a,:host([appearance=outline][split-child=secondary]) a{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]) button,:host([appearance=transparent]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent)}:host([appearance=transparent]) button:hover,:host([appearance=transparent]) button:focus,:host([appearance=transparent]) a:hover,:host([appearance=transparent]) a:focus{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=transparent]) button:active,:host([appearance=transparent]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:var(--calcite-color-transparent)}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{--calcite-internal-button-text-color: var(--calcite-color-text-3)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-padding-y: 0}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button:hover,:host([appearance=transparent][kind=inverse]) a:hover{background-color:var(--calcite-color-transparent-inverse-hover)}:host([appearance=transparent][kind=inverse]) button:active,:host([appearance=transparent][kind=inverse]) a:active{background-color:var(--calcite-color-transparent-inverse-press)}:host([appearance=transparent][kind=inverse]) button calcite-loader,:host([appearance=transparent][kind=inverse]) a calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-internal-button-padding-y: 3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-internal-button-padding-x: 11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-padding-y: 7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-internal-button-padding-x: 15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-internal-button-padding-x: 1rem;--calcite-internal-button-padding-y: 11px}:host([scale=l]) .button-padding--shrunk{--calcite-internal-button-padding-y: 9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host(:is([scale=s],[scale=m],[scale=l])[width=full]) a:not(.content--slotted),:host(:is([scale=s],[scale=m],[scale=l])[width=full]) button:not(.content--slotted){inline-size:var(--calcite-container-size-content-fluid)}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-y: .625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2.75rem}:host([hidden]){display:none}[hidden]{display:none}`,g7=class g7 extends Ts{constructor(){super(...arguments),this.attributeWatch=zLe(["aria-expanded"],this.handleGlobalAttributesChanged),this.contentEl=RA(),this.mutationObserver=K8("mutation",()=>this.updateHasContent()),this.resizeObserver=K8("resize",()=>this.setTooltipText()),this.messages=US(),this.hasContent=!1,this.alignment="center",this.appearance="solid",this.disabled=!1,this.download=!1,this.kind="brand",this.loading=!1,this.round=!1,this.scale="m",this.splitChild=!1,this.type="button",this.width="auto"}async setFocus(){var e;await _le(this),(e=this.childEl)==null||e.focus()}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),JO(this),this.formEl=Vle(this)}async load(){this.updateHasContent()}updated(){Tle(this)}loaded(){this.setTooltipText()}disconnectedCallback(){var e,i;super.disconnectedCallback(),(e=this.mutationObserver)==null||e.disconnect(),$Ue(this),(i=this.resizeObserver)==null||i.disconnect(),this.formEl=null}handleGlobalAttributesChanged(){this.requestUpdate()}updateHasContent(){this.hasContent=Jqe(this.el)}setupTextContentObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}handleClick(){const{type:e}=this;this.href||(e==="submit"?gUe(this):e==="reset"&&bUe(this))}setTooltipText(){const{contentEl:{value:e}}=this;e&&(this.tooltipText=e.offsetWidth<e.scrollWidth&&this.el.innerText||null)}setChildEl(e){var i;this.childEl=e,e&&((i=this.resizeObserver)==null||i.observe(e))}render(){const e=this.href?"a":"button",i=this.href?FG`a`:FG`button`,r=this.loading?bt`<div class=${ft(Nn.buttonLoader)}><calcite-loader class=${ft(this.loading?Nn.loadingIn:Nn.loadingOut)} inline .label=${this.messages.loading} .scale=${this.scale==="l"?"m":"s"}></calcite-loader></div>`:null,s=!this.iconStart&&!this.iconEnd,n=bt`<calcite-icon class=${ft({[Nn.icon]:!0,[Nn.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} .scale=${Iw(this.scale)}></calcite-icon>`,a=bt`<calcite-icon class=${ft({[Nn.icon]:!0,[Nn.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} .scale=${Iw(this.scale)}></calcite-icon>`,o=bt`<span class=${ft(Nn.content)} ${g_(this.contentEl)}><slot></slot></span>`;return Ile({disabled:this.disabled,children:Ole`<${i} .ariaBusy=${this.loading} .ariaExpanded=${this.el.ariaExpanded?this.el.ariaExpanded:null} .ariaLabel=${this.loading?this.messages.loading:TUe(this)} aria-live=polite class=${ft({[Nn.buttonPadding]:s,[Nn.buttonPaddingShrunk]:!s,[Nn.contentSlotted]:this.hasContent,[Nn.iconStartEmpty]:!this.iconStart,[Nn.iconEndEmpty]:!this.iconEnd})} .disabled=${e==="button"?this.disabled:null} download=${(e==="a"?this.download===!0||this.download===""?"":this.download||null:null)??dt} href=${(e==="a"&&this.href)??dt} name=${(e==="button"&&this.name)??dt} @click=${this.handleClick} rel=${(e==="a"&&this.rel)??dt} tabindex=${(this.disabled?-1:null)??dt} target=${(e==="a"&&this.target)??dt} title=${this.tooltipText??dt} type=${(e==="button"?this.type:null)??dt} ${g_(this.setChildEl)}>${r}${this.iconStart?n:null}${this.hasContent?o:null}${this.iconEnd?a:null}</${i}>`})}};g7.properties={hasContent:[16,{},{state:!0}],tooltipText:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],download:[3,{converter:nfe},{reflect:!0}],form:[3,{},{reflect:!0}],href:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],kind:[3,{},{reflect:!0}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],name:[3,{},{reflect:!0}],rel:[3,{},{reflect:!0}],round:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],splitChild:[3,{},{reflect:!0}],target:[3,{},{reflect:!0}],type:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},g7.styles=MUe;let x_=g7;z_("calcite-button",x_);const CUe=Object.freeze(Object.defineProperty({__proto__:null,Button:x_},Symbol.toStringTag,{value:"Module"})),T3=Object.freeze(Object.defineProperty({__proto__:null,Button:x_},Symbol.toStringTag,{value:"Module"}));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const W0={base:"arcgis-zoom",horizontalLayout:"arcgis-zoom--horizontal",button:"esri-widget--button",zoomIn:"arcgis-zoom__zoom-in",zoomOut:"arcgis-zoom__zoom-out"};function kUe(t){var r;if(t.type==="3d")return!!t.ready;if(!(t!=null&&t.ready))return!1;const e=Ule(t),i=(r=t.constraints)==null?void 0:r.effectiveMaxScale;return i===0||e>i}function AUe(t){var r;if(t.type==="3d")return!!t.ready;if(!(t!=null&&t.ready))return!1;const e=Ule(t),i=(r=t.constraints)==null?void 0:r.effectiveMinScale;return i===0||e<i}function Ule(t){var i;const e=(i=t==null?void 0:t.animation)==null?void 0:i.target;return(e&&"then"in e||e==null?void 0:e.scale)??(t==null?void 0:t.scale)??0}const PUe=fa`@layer{arcgis-zoom,.arcgis-zoom{display:flex;flex-flow:column nowrap;box-shadow:0 1px 2px #0000004d}.arcgis-zoom__zoom-out{border-block-start:solid 1px var(--calcite-color-border-1)}.arcgis-zoom--horizontal{flex-flow:row-reverse nowrap}.arcgis-zoom--horizontal .arcgis-zoom__zoom-out{border-block-start:none;border-inline-end:solid 1px var(--calcite-color-border-1)}}`;var nh;let LUe=(nh=class extends Ts{constructor(){super(...arguments),this.messages=UO({}),this.view=yRe(this),this.canZoomIn=!1,this.canZoomOut=!1,this.autoDestroyDisabled=!1,this.icon="magnifying-glass-plus",this.layout="vertical",this.position="top-left",this.state="disabled",this.arcgisPropertyChange=d0()("state"),this.arcgisReady=Bs()}async destroy(){await this.manager.destroy()}async zoomIn(){const{view:e}=this;!this.canZoomIn||!e||(e.type==="2d"?e.mapViewNavigation.zoomIn():Mc(e.goTo({zoomFactor:2})))}async zoomOut(){const{view:e}=this;!this.canZoomOut||!e||(e.type==="2d"?e.mapViewNavigation.zoomOut():Mc(e.goTo({zoomFactor:.5})))}loaded(){this.manager.onLifecycle(()=>[ir(()=>{var e;return(e=this.view)==null?void 0:e.stationary},()=>{this.canZoomIn=kUe(this.view),this.canZoomOut=AUe(this.view)},{initial:!0}),ir(()=>{var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"},e=>{this.state=e},{sync:!0,initial:!0})])}render(){const e={[W0.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this,{zoomIn:s,zoomOut:n}=this.messages;return bt`<div class=${ft(hm(W0.base,e))}><calcite-button class=${ft(hm(W0.button,W0.zoomIn))} .disabled=${!i} icon-start=plus kind=neutral .label=${s} @click=${this.zoomIn} title=${s??zl}></calcite-button><calcite-button class=${ft(hm(W0.button,W0.zoomOut))} .disabled=${!r} icon-start=minus kind=neutral .label=${n} @click=${this.zoomOut} title=${n??zl}></calcite-button></div>`}},nh.properties={canZoomIn:16,canZoomOut:16,autoDestroyDisabled:5,icon:1,label:1,layout:3,messageOverrides:0,position:1,referenceElement:1,state:3},nh.shadowRootOptions=Wo,nh.styles=PUe,nh);gd("arcgis-zoom",LUe);let Tu=class extends TR(ha.EventedAccessor){constructor(e){super(e),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){var e;return(e=this.view)!=null&&e.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(e){this._initialViewpoint=null,this._set("view",e),e&&e.when().then(()=>{this.view===e&&(this._initialViewpoint=e.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(e){this._set("viewpoint",e)}async go(){var i,r;if(!((i=this.view)!=null&&i.ready))throw new P("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const e=new AbortController;this._goingHomeController=e;try{await((r=this.view)==null?void 0:r.when()),await this.callGoTo({target:this.viewpoint,options:{signal:e.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:e}=this;e&&e.abort(),this._goingHomeController=null}};c([f()],Tu.prototype,"_goingHomeController",void 0),c([f({readOnly:!0})],Tu.prototype,"state",null),c([f()],Tu.prototype,"view",null),c([f({type:er})],Tu.prototype,"viewpoint",null),c([f()],Tu.prototype,"go",null),c([f()],Tu.prototype,"cancelGo",null),Tu=c([E("esri.widgets.Home.HomeViewModel")],Tu);const RUe=Tu;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const OUe=fa`@layer{arcgis-home{display:block}}`,FUe={base:"esri-home"},NUe=Rle(RUe);var ah;let DUe=(ah=class extends Ts{constructor(){super(...arguments),this.messages=UO(),this.viewModel=NUe(this),this.autoDestroyDisabled=!1,this.goToOverride=this.viewModel.goToOverride,this.icon="home",this.position="top-left",this.state=this.viewModel.state,this.viewpoint=this.viewModel.viewpoint,this.arcgisGo=Zi(()=>this.viewModel,"go"),this.arcgisPropertyChange=d0()("state"),this.arcgisReady=Bs()}async cancelGo(){this.viewModel.cancelGo()}async destroy(){await this.manager.destroy()}async go(){this.viewModel.go()}_go(){const{viewModel:e}=this;e.state==="going-home"?e.cancelGo():e.go()}render(){var n;const{messages:e,icon:i}=this,r=(n=this.viewModel)==null?void 0:n.state,s=r==="going-home";return bt`<div class=${ft(hm(FUe.base,jf.widget))}><calcite-button class=${ft(jf.widgetButton)} .disabled=${r==="disabled"} .iconStart=${s?void 0:i??void 0} kind=neutral .label=${e.componentLabel} @click=${this._go} .scale=${s?"s":"m"} title=${(r==="going-home"?e.cancel:e.title)??zl}>${s?bt`<calcite-loader inline label></calcite-loader>`:null}</calcite-button></div>`}},ah.properties={autoDestroyDisabled:5,goToOverride:0,icon:1,label:1,messageOverrides:0,position:3,referenceElement:1,state:3,viewpoint:0},ah.shadowRootOptions=Wo,ah.styles=OUe,ah);gd("arcgis-home",DUe);var s7;(function(t){t[t.KILOBYTES=1024]="KILOBYTES",t[t.MEGABYTES=1048576]="MEGABYTES",t[t.GIGABYTES=1073741824]="GIGABYTES"})(s7||(s7={}));function zUe(t,e){return{type:Gm(e),value:t,unit:e}}function Nut(t){return{value:t}}function VUe(t,e){return{type:Gm(e),value:t,unit:e}}function jUe(t,e){return{type:Gm(e),value:t,unit:e}}function GS(t,e,i="arithmetic"){return{type:Gm(e),value:t,unit:e,rotationType:i}}function Dut(t,e){const i=qUe(t,e);return t.type==="angle"?GS(i,e,t.rotationType):zUe(i,e)}function qUe(t,e){return pt(t.value,t.unit,e)}function zut(t,e){return t==null?e:e==null||t.value>pt(e.value,e.unit,t.unit)?t:e}function Vut(t,e){return t==null?null:{...t,value:t.value*e}}function BUe(t,e,i){if(e===i)return t;switch(i){case"arithmetic":case"geographic":return 90-t}}const jut=VUe(0,"meters"),qut=jUe(0,"square-meters");GS(0,"radians");const But=GS(0,"degrees"),Uut=GS(0,"degrees","geographic");function Gle(t,e,i){return t.units[e][i]}function C1(t,e,i,r=2,s="abbr"){return`${Is(e,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:e>0?"never":"exceptZero"})} ${Gle(t,i,s)}`}function HS(t,e,i,r=2,s="abbr"){return`${Is(e,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${Gle(t,i,s)}`}function Gut(t,e,i,r=2,s="abbr"){const n=mY(e,i);return C1(t,pt(e,i,n),n,r,s)}function Hut(t,e,i,r=2,s="abbr"){const n=mY(e,i);return HS(t,pt(e,i,n),n,r,s)}function Wut(t,e,i,r=2,s="abbr"){const n=yY(e,i);return C1(t,pt(e,i,n),n,r,s)}function Zut(t,e,i,r=2,s="abbr"){const n=yY(e,i);return HS(t,pt(e,i,n),n,r,s)}function Jut(t,e,i,r=2,s="abbr"){const n=gY(e,i);return C1(t,pt(e,i,n),n,r,s)}function Yut(t,e,i,r=2,s="abbr"){const n=gY(e,i);return HS(t,pt(e,i,n),n,r,s)}function Xut(t,e,i,r=2,s="abbr"){const n=bY(e,i);return C1(t,pt(e,i,n),n,r,s)}function Qut(t,e,i,r=2,s="abbr"){const n=bY(e,i);return HS(t,pt(e,i,n),n,r,s)}function Kut(t,e,i,r=2,s="abbr"){const n=T0e(e,i);return C1(t,pt(e,i,n),n,r,s)}function edt(t,e,i,r=2,s="abbr"){const n=I0e(e,i);return C1(t,pt(e,i,n),n,r,s)}const UUe=(t,e)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:e,minimumFractionDigits:e,signDisplay:t>0?"never":"exceptZero"});function tdt(t,e,i,r,s,n=bJ,a=!0){let o=n.normalize(BUe(pt(t,e,"degrees"),i,r),0,a);const l=UUe(o,s??2);return o=GUe(o,l),Is(o,l)}const UG=new Map;function GUe(t,e){const i=JSON.stringify(e);let r=UG.get(i);return r||(r=new Intl.NumberFormat("en-US",e),UG.set(i,r)),/^[-+]?360\.?0*°?$/.test(r.format(t))?0:t}const GG=["B","kB","MB","GB","TB"];function HUe(t,e){let i=(e=Math.round(e))===0?0:Math.floor(Math.log(e)/Math.log(s7.KILOBYTES));i=Yr(i,0,GG.length-1);const r=Is(e/s7.KILOBYTES**i,{maximumFractionDigits:2});return En(t.units.bytes[GG[i]],{fileSize:r})}function WUe(t){const{exifInfo:e,exifName:i,tagName:r}=t;if(!e||!i||!r)return null;const s=e.find(n=>n.name===i);return s?ZUe({tagName:r,tags:s.tags}):null}function ZUe(t){const{tagName:e,tags:i}=t;if(!i||!e)return null;const r=i.find(s=>s.name===e);return(r==null?void 0:r.value)||null}var qA;const JUe={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let cn=qA=class extends B{constructor(t){super(t),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:t}=this,e=WUe({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:t});return JUe[e]||null}clone(){return new qA({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};c([f({type:String})],cn.prototype,"contentType",void 0),c([f()],cn.prototype,"exifInfo",void 0),c([f({readOnly:!0})],cn.prototype,"orientationInfo",null),c([f({type:Ye})],cn.prototype,"id",void 0),c([f({type:String})],cn.prototype,"globalId",void 0),c([f({type:String})],cn.prototype,"keywords",void 0),c([f({type:String})],cn.prototype,"name",void 0),c([f({json:{read:!1}})],cn.prototype,"parentGlobalId",void 0),c([f({json:{read:!1}})],cn.prototype,"parentObjectId",void 0),c([f({type:Ye})],cn.prototype,"size",void 0),c([f({json:{read:!1}})],cn.prototype,"url",void 0),cn=qA=c([E("esri.rest.query.support.AttachmentInfo")],cn);const YUe="esri.widgets.Feature.support.featureUtils",BA=()=>W.getLogger(YUe),XUe=/href=(""|'')/gi,QUe=/(\{([^{\r\n]+)\})/g,KUe=/'/g,Hle=/^\s*expression\//i,eGe=/(\n)/gi,tGe=/[\u00A0-\u9999<>&]/gim,iGe=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,rGe=/^(?:mailto:|tel:)/,Wle="relationships/",HG=xf("short-date-short-time");function YO(t){if(t!=null)return(t.sourceLayer||t.layer)??void 0}async function $_({type:t,value:e,event:i}){try{return typeof e=="function"?e(i):await e}catch(r){return void BA().error("error",`An error occurred when calling the "${t}" function`,{error:r,graphic:i.graphic,value:e})}}function XO(t=""){if(t)return!rGe.test(t.trim().toLowerCase())}function WS(t){return!!t&&Hle.test(t)}function sGe(t,e){if(!e||!WS(e)||!t)return;const i=e.replace(Hle,"").toLowerCase();return t.find(({name:r})=>r.toLowerCase()===i)}function QO(t,e){const i=sGe(e,t==null?void 0:t.fieldName);return i?i.title||null:t?t.label||t.fieldName:null}function nGe(t,e){const i=e.get(t.toLowerCase());return`{${(i==null?void 0:i.fieldName)||t}}`}function aGe(t){return t.replaceAll(XUe,"")}function Qb(t,e){const i=KO(e,t);return i?i.name:t}function Zle(t,e){return t&&t.map(i=>Qb(i,e))}function KO(t,e){return t&&typeof t.getField=="function"&&e?t.getField(e)??null:null}function Jle(t){return`${t}`.trim()}function qf({attributes:t,globalAttributes:e,layer:i,text:r,expressionAttributes:s,fieldInfoMap:n}){return r?n7({formattedAttributes:e,template:uGe(r,{...e,...s,...t},i),fieldInfoMap:n}):""}function n7({formattedAttributes:t,template:e,fieldInfoMap:i}){return Jle(aGe(En(En(e,r=>nGe(r,i)),t)))}function oGe(t,e,i=!1){const r=e[t];if(typeof r=="string"){const s="%27",n=(i?encodeURIComponent(r):r).replaceAll(KUe,s);e[t]=n}}function lGe(t,e=!1){const i={...t};return Object.keys(i).forEach(r=>oGe(r,i,e)),i}function cGe(t,e,i){const r=(e=Jle(e))&&e[0]!=="{";return En(t,lGe(i,r||!1))}function a7(t,e){return t.replaceAll(QUe,(i,r,s)=>{const n=KO(e,s);return n?`{${n.name}}`:r})}function uGe(t,e,i){const r=a7(t,i);return r&&r.replaceAll(iGe,(s,n,a)=>cGe(s,n||a,e))}function dGe(t,e){if(typeof t=="string"&&e&&e.dateFormat==null&&(e.places!=null||e.digitSeparator!=null)){const i=Number(t);if(!isNaN(i))return i}return t}function Yle(t){return t!=null&&typeof t=="object"&&"fieldsIndex"in t&&"geometryType"in t&&"getField"in t&&"load"in t&&"loaded"in t&&"objectIdField"in t&&"spatialReference"in t&&"type"in t&&(t.type==="feature"||t.type==="scene"||t.type==="subtype-group"||t.type==="subtype-sublayer"||t.type==="sublayer")&&"when"in t}function Xle(t){return t!=null&&typeof t=="object"&&"createQuery"in t&&"queryFeatureCount"in t&&"queryObjectIds"in t&&"queryRelatedFeatures"in t&&"queryRelatedFeaturesCount"in t&&"relationships"in t}function I3(t){return Yle(t)&&Xle(t)}function Qle(t){return!(!(t&&typeof t=="object"&&"createQuery"in t&&"getField"in t&&"queryFeatureCount"in t&&"queryFeatures"in t&&"queryObjectIds"in t&&"capabilities"in t&&"fields"in t&&"fieldsIndex"in t&&"type"in t)||t.type!=="feature"&&t.type!=="subtype-group"&&t.type!=="subtype-sublayer"&&t.type!=="sublayer"||!("when"in t))&&(t.type==="subtype-sublayer"&&"parent"in t&&t.parent&&typeof t.parent=="object"?"globalIdField"in t.parent:"globalIdField"in t)}function fGe(t){return!!t&&typeof t=="object"&&"sourceLayer"in t&&I3(t.sourceLayer)}function Kle(t,e){var d;const{fieldInfos:i,fieldName:r,preventPlacesFormatting:s,layer:n,timeZone:a}=e,o=eF(i,r),l=KO(n,r);if(o&&!SE(r)){const h=l==null?void 0:l.type,p=(d=o.format)==null?void 0:d.dateFormat;if(h==="date"||h==="date-only"||h==="time-only"||h==="timestamp-offset"||p)return wO(t,{format:p,fieldType:h,timeZoneOptions:{layerTimeZone:n&&"preferredTimeZone"in n?n.preferredTimeZone:null,viewTimeZone:a,datesInUnknownTimezone:!(!n||!("datesInUnknownTimezone"in n))&&!!n.datesInUnknownTimezone}})}const u=o==null?void 0:o.format;return typeof t=="string"&&SE(r)&&u?hGe(t,u):typeof(t=dGe(t,u))=="string"||t==null||u==null?k1(t):Is(t,s?{...V4(u),minimumFractionDigits:0,maximumFractionDigits:20}:V4(u))}function hGe(t,e){return t=t.trim(),/\d{2}-\d{2}/.test(t)?t:t.includes(",")?yT(t,",",", ",e):t.includes(";")?yT(t,";","; ",e):t.includes(" ")?yT(t," "," ",e):Is(Number(t),V4(e))}function yT(t,e,i,r){return t.trim().split(e).map(s=>Is(Number(s),V4(r))).join(i)}function eF(t,e){if(t!=null&&t.length&&e)return t.find(i=>{var r;return((r=i.fieldName)==null?void 0:r.toLowerCase())===e.toLowerCase()})}function pGe({fieldName:t,graphic:e,layer:i}){if(Ec(t)||!i||typeof i.getFeatureType!="function")return null;const{typeIdField:r}=i;if(!r||t!==r)return null;const s=i.getFeatureType(e);return s?s.name:null}function mGe({fieldName:t,value:e,graphic:i,layer:r}){if(Ec(t)||!r||typeof r.getFieldDomain!="function")return null;const s=i&&r.getFieldDomain(t,{feature:i,excludeImpliedDomains:q("esri-widget-legacy-field-domain-calculation")});return s&&s.type==="coded-value"?s.getName(e):null}function ece(t,e,i,r){const{creatorField:s,creationDateField:n,editorField:a,editDateField:o}=t;if(!e)return;const l=aQ(r&&"preferredTimeZone"in r?r.preferredTimeZone:null,!(!r||!("datesInUnknownTimezone"in r))&&!!r.datesInUnknownTimezone,i,HG,"date"),u={...HG,...l},d=e[o];if(typeof d=="number"){const p=e[a];return{type:"edit",date:Hs(d,u),user:p}}const h=e[n];if(typeof h=="number"){const p=e[s];return{type:"create",date:Hs(h,u),user:p}}return null}function tce(t,e){const i=new Map;if(!t)return i;for(const r of t){if(!r.fieldName)continue;const s=Qb(r.fieldName,e);r.fieldName=s,i.set(s.toLowerCase(),r)}return i}function UA(t){const e=[];if(!t)return e;const{fieldInfos:i,content:r}=t;return i&&e.push(...i),r&&Array.isArray(r)&&r.forEach(s=>{if(s.type==="fields"){const n=s==null?void 0:s.fieldInfos;n&&e.push(...n)}}),e}function ZS(t){return t.replaceAll(tGe,e=>`&#${e.charCodeAt(0)};`)}function k1(t){return typeof t=="string"?t.replaceAll(eGe,'<br class="esri-text-new-line" />'):t}function ice(t){var h;const{value:e,fieldName:i,fieldInfos:r,fieldInfoMap:s,layer:n,graphic:a,timeZone:o}=t;if(e==null)return"";const l=mGe({fieldName:i,value:e,graphic:a,layer:n});if(l)return l;const u=pGe({fieldName:i,graphic:a,layer:n});if(u)return u;if(s.get(i.toLowerCase()))return Kle(e,{fieldInfos:r||Array.from(s.values()),fieldName:i,layer:n,timeZone:o});const d=(h=n==null?void 0:n.fieldsIndex)==null?void 0:h.get(i);return d&&(Js(d)||$s(d))?wO(e,{fieldType:d.type,timeZoneOptions:{layerTimeZone:n&&"preferredTimeZone"in n?n.preferredTimeZone:null,viewTimeZone:o,datesInUnknownTimezone:!(!n||!("datesInUnknownTimezone"in n))&&!!n.datesInUnknownTimezone}}):k1(e)}function G6({fieldInfos:t,attributes:e,layer:i,graphic:r,fieldInfoMap:s,relatedInfos:n,timeZone:a}){const o={};return n==null||n.forEach(l=>bGe({attributes:o,relatedInfo:l,fieldInfoMap:s,fieldInfos:t,layer:i,timeZone:a})),e&&Object.keys(e).forEach(l=>{const u=e[l];o[l]=ice({fieldName:l,fieldInfos:t,fieldInfoMap:s,layer:i,value:u,graphic:r,timeZone:a})}),o}async function tF(t,e){var d,h;const{layer:i,graphic:r,outFields:s,objectIds:n,returnGeometry:a,spatialReference:o}=t,l=n[0];if(typeof l!="number"&&typeof l!="string"){const p="Could not query required fields for the specified feature. The feature's ID is invalid.",m={layer:i,graphic:r,objectId:l,requiredFields:s};return BA().warn(p,m),null}if(!((h=(d=gK(i))==null?void 0:d.operations)!=null&&h.supportsQuery)){const p="The specified layer cannot be queried. The following fields will not be available.",m={layer:i,graphic:r,requiredFields:s,returnGeometry:a};return BA().warn(p,m),null}const u=i.createQuery();return u.objectIds=n,u.outFields=s!=null&&s.length?s:[i.objectIdField],u.returnGeometry=!!a,u.returnZ=!!a,u.returnM=!!a,u.outSpatialReference=o,(await i.queryFeatures(u,e)).features[0]}async function yGe(t){var r;if(!((r=t.expressionInfos)!=null&&r.length))return!1;const e=await Qa(),{arcadeUtils:{hasGeometryFunctions:i}}=e;return i(t)}async function rce({graphic:t,popupTemplate:e,layer:i,spatialReference:r},s){if(!i||!e||(typeof i.load=="function"&&await i.load(s),!t.attributes))return;const n=i.objectIdField,a=t.attributes[n];if(a==null)return;const o=[a],l=await e.getRequiredFields(i.fieldsIndex),u=Tee(t,l),d=u?[]:l.includes(n)?l:[...l,n],h=e.returnGeometry||await yGe(e);if(u&&!h)return;const p=await tF({layer:i,graphic:t,outFields:d,objectIds:o,returnGeometry:h,spatialReference:r},s);p&&(p.geometry&&(t.geometry=p.geometry),p.attributes&&(t.attributes={...t.attributes,...p.attributes}))}function Ec(t=""){return!!t&&t.includes(Wle)}function gGe(t){return t?`${Wle}${t.layerId}/${t.fieldName}`:""}function WG({attributes:t,graphic:e,relatedInfo:i,fieldInfos:r,fieldInfoMap:s,layer:n,timeZone:a}){t&&e&&i&&Object.keys(e.attributes).forEach(o=>{const l=gGe({layerId:i.relation.id.toString(),fieldName:o}),u=e.attributes[o];t[l]=ice({fieldName:l,fieldInfos:r,fieldInfoMap:s,layer:n,value:u,graphic:e,timeZone:a})})}function bGe({attributes:t,relatedInfo:e,fieldInfoMap:i,fieldInfos:r,layer:s,timeZone:n}){var a,o;t&&e&&((a=e.relatedFeatures)==null||a.forEach(l=>WG({attributes:t,graphic:l,relatedInfo:e,fieldInfoMap:i,fieldInfos:r,layer:s,timeZone:n})),(o=e.relatedStatsFeatures)==null||o.forEach(l=>WG({attributes:t,graphic:l,relatedInfo:e,fieldInfoMap:i,fieldInfos:r,layer:s,timeZone:n})))}const ZG=t=>{if(!t)return!1;const e=t.toUpperCase();return e.includes("CURRENT_TIMESTAMP")||e.includes("CURRENT_DATE")||e.includes("CURRENT_TIME")},sce=({layer:t,method:e,query:i,definitionExpression:r})=>{var a,o;if(!((o=(a=t.capabilities)==null?void 0:a.query)!=null&&o.supportsCacheHint)||e==="attachments")return;const s=i.where!=null?i.where:null,n=i.geometry!=null?i.geometry:null;ZG(r)||ZG(s)||(n==null?void 0:n.type)==="extent"||i.resultType==="tile"||(i.cacheHint=!0)},nce=({query:t,layer:e,method:i})=>{sce({layer:e,method:i,query:t,definitionExpression:`${e.definitionExpression} ${e.serviceDefinitionExpression??""}`})},ace=({queryPayload:t,layer:e,method:i})=>{sce({layer:e,method:i,query:t,definitionExpression:`${e.definitionExpression} ${e.serviceDefinitionExpression??""}`})};function oce(t,e,i){var r,s;return t&&e&&i?e.type==="sublayer"?yg({layers:(r=e.layer)==null?void 0:r.allSublayers,map:t,relatedLayer:e,relationship:i})||yg({layers:(s=e.layer)==null?void 0:s.subtables,map:t,relatedLayer:e,relationship:i}):yg({layers:t.allLayers,map:t,relatedLayer:e,relationship:i})||yg({layers:t.allTables,map:t,relatedLayer:e,relationship:i}):null}function lce(t,e){var i;return t&&"utilityNetworks"in t&&e?(i=t.utilityNetworks)==null?void 0:i.find(r=>r.isUtilityLayer(e)):null}function JG(t,e){return t==null?void 0:t.allTables.find(i=>{var r;return i.type==="feature"&&i.layerId===e.id&&i.url===((r=e.layer)==null?void 0:r.url)})}function yg({map:t,relationship:e,relationship:{relatedTableId:i},relatedLayer:r,layers:s}){var n;if(!s)return null;for(const a of s){if(a.type==="map-image"){const l=yg({layers:a.sublayers,map:t,relatedLayer:r,relationship:e})||yg({layers:a.subtables,map:t,relatedLayer:r,relationship:e});if(l)return l;continue}if(!I3(a))continue;if(r.type==="sublayer"){if(a!==r&&a.id===i)return a.isTable?JG(t,a):a;continue}const o=r.type==="scene"&&r.associatedLayer?r.associatedLayer.url:r.url;if(!o)return null;if(a.type!=="sublayer"){if(a!==r&&a.url===o&&a.layerId===i)return a}else if(a!==r&&((n=a.layer)==null?void 0:n.url)===o&&a.id===i)return a.isTable?JG(t,a):a}return null}const vGe=Object.freeze(Object.defineProperty({__proto__:null,applyTextFormattingHTML:k1,createFieldInfoMap:tce,findRelatedLayer:oce,findUtilityNetwork:lce,fixTokens:a7,formatAttributes:G6,formatEditInfo:ece,formatValueToFieldInfo:Kle,getAllFieldInfos:UA,getFieldInfo:eF,getFieldInfoLabel:QO,getFixedFieldName:Qb,getFixedFieldNames:Zle,getSourceLayer:YO,graphicCallback:$_,htmlEntities:ZS,isAssociatedFeatureSupportedLayer:Qle,isExpressionField:WS,isFeatureSupportedLayer:Yle,isGraphicForRelatableFeatureSupportedLayer:fGe,isRelatableFeatureSupportedLayer:I3,isRelatableLayer:Xle,isRelatedField:Ec,preLayerQueryCallback:nce,preRequestCallback:ace,querySourceLayer:tF,queryUpdatedFeature:rce,shouldOpenInNewTab:XO,substituteAttributes:n7,substituteFieldsInLinksAndAttributes:qf},Symbol.toStringTag,{value:"Module"})),YG={editing:!1,operations:{add:!0,update:!0,delete:!0}},cce=K.ofType(cn);let Br=class extends ce{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.capabilities={...YG},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new cce,this.fileInfos=new K,this.graphic=null,this.mode="view",this.orderByFields=null,this.filesEnabled=!1,this.addHandles(Y(()=>this.graphic,()=>this._graphicChanged(),Le))}destroy(){this._attachmentLayer=null,this.graphic=null}castCapabilities(e){return{...YG,...e}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:e}=this;if(!e)return!1;const i=e.layer||e.sourceLayer;return(i==null?void 0:i.loaded)&&"capabilities"in i&&i.capabilities&&"attachment"in i.capabilities&&i.capabilities.attachment&&"supportsResize"in i.capabilities.attachment&&i.capabilities.attachment.supportsResize||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:i,orderByFields:r}=this;if(!e||typeof e.queryAttachments!="function")throw new P("invalid-layer","getAttachments(): A valid layer is required.");const s=this._getObjectId();if(typeof s!="number")throw new P("invalid-object-id","getAttachments(): Numeric object id is required");const n=r==null?void 0:r.map(d=>`${d.field} ${d.order==="descending"?"DESC":"ASC"}`),a=new Wi({objectIds:[s],returnMetadata:!0,orderByFields:n}),o=[],l=e.queryAttachments(a).then(d=>d[s]||o).catch(()=>o);this._getAttachmentsPromise=l,this.notifyChange("state");const u=await l;return i.destroyAll(),u.length&&i.addMany(u),this._getAttachmentsPromise=null,this.notifyChange("state"),u}async addAttachment(e,i=this.graphic){var l;const{_attachmentLayer:r,attachmentInfos:s,capabilities:n}=this;if(!i)throw new P("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:i});if(!e)throw new P("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(!((l=n.operations)!=null&&l.add))throw new P("invalid-capabilities","addAttachment(): add capabilities are required.");if(!r||typeof r.addAttachment!="function")throw new P("invalid-layer","addAttachment(): A valid layer is required.");const a=r.addAttachment(i,e).then(u=>this._queryAttachment(u.objectId,i)),o=await a;return s.add(o),o}async deleteAttachment(e){var l;const{_attachmentLayer:i,attachmentInfos:r,graphic:s,capabilities:n}=this;if(!e)throw new P("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!((l=n.operations)!=null&&l.delete))throw new P("invalid-capabilities","deleteAttachment(): delete capabilities are required.");if(!i||typeof i.deleteAttachments!="function")throw new P("invalid-layer","deleteAttachment(): A valid layer is required.");if(!s)throw new P("invalid-graphic","deleteAttachment(): A graphic is required.");const a=i.deleteAttachments(s,[e.id]).then(()=>e),o=await a;return r.remove(o),o.destroy(),o}async updateAttachment(e,i=this.activeAttachmentInfo){var d;const{_attachmentLayer:r,attachmentInfos:s,graphic:n,capabilities:a}=this;if(!e)throw new P("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!i)throw new P("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:i});if(!((d=a.operations)!=null&&d.update))throw new P("invalid-capabilities","updateAttachment(): Update capabilities are required.");const o=s.indexOf(i);if(!r||typeof r.updateAttachment!="function")throw new P("invalid-layer","updateAttachment(): A valid layer is required.");if(!n)throw new P("invalid-graphic","updateAttachment(): A graphic is required.");const l=r.updateAttachment(n,i.id,e).then(h=>this._queryAttachment(h.objectId)),u=await l;return s.splice(o,1,u),u}async commitFiles(){return await Promise.all(this.fileInfos.items.map(e=>this.addAttachment(e.form))),this.fileInfos.removeAll(),this.getAttachments()}addFile(e,i){if(!e||!i)return null;const r={file:e,form:i};return this.fileInfos.add(r),r}updateFile(e,i,r=this.activeFileInfo){if(!e||!i||!r)return null;const s=this.fileInfos.indexOf(r);return s>-1&&this.fileInfos.splice(s,1,{file:e,form:i}),this.fileInfos.items[s]}deleteFile(e){const i=this.fileInfos.find(r=>r.file===e);return i?(this.fileInfos.remove(i),i):null}async _queryAttachment(e,i){const{_attachmentLayer:r}=this;if(!e||!(r!=null&&r.queryAttachments))throw new P("invalid-attachment-id","Could not query attachment.");const s=this._getObjectId(i);if(typeof s!="number")throw new P("invalid-object-id","getAttachments(): Numeric object id is required");const n=new Wi({objectIds:[s],attachmentsWhere:`AttachmentId=${e}`,returnMetadata:!0});return r.queryAttachments(n).then(a=>a[s][0])}_getObjectId(e=this.graphic){return(e==null?void 0:e.getObjectId())??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>this.attachmentInfos.destroyAll()))}_setAttachmentLayer(){const{graphic:e}=this,i=YO(e);this._attachmentLayer=i?i.type==="scene"&&i.associatedLayer!=null?i.associatedLayer:i:null}};c([f()],Br.prototype,"capabilities",void 0),c([Xe("capabilities")],Br.prototype,"castCapabilities",null),c([f()],Br.prototype,"activeAttachmentInfo",void 0),c([f()],Br.prototype,"activeFileInfo",void 0),c([f({readOnly:!0,type:cce})],Br.prototype,"attachmentInfos",void 0),c([f()],Br.prototype,"fileInfos",void 0),c([f({type:mt})],Br.prototype,"graphic",void 0),c([f()],Br.prototype,"mode",void 0),c([f({type:[Iee]})],Br.prototype,"orderByFields",void 0),c([f({readOnly:!0})],Br.prototype,"state",null),c([f()],Br.prototype,"filesEnabled",void 0),c([f({readOnly:!0})],Br.prototype,"supportsResizeAttachments",null),Br=c([E("esri.widgets.Attachments.AttachmentsViewModel")],Br);function XG(t){const e=t.toLowerCase();return e==="image/bmp"||e==="image/emf"||e==="image/exif"||e==="image/gif"||e==="image/x-icon"||e==="image/jpeg"||e==="image/png"||e==="image/tiff"||e==="image/x-wmf"}function wGe(t){const e=Xt("esri/themes/base/images/files/");return t?t==="text/plain"?`${e}text-32.svg`:t==="application/pdf"?`${e}pdf-32.svg`:t==="text/csv"?`${e}csv-32.svg`:t==="application/gpx+xml"?`${e}gpx-32.svg`:t==="application/x-dwf"?`${e}cad-32.svg`:t==="application/postscript"||t==="application/json"||t==="text/xml"||t==="model/vrml"?`${e}code-32.svg`:t==="application/x-zip-compressed"||t==="application/x-7z-compressed"||t==="application/x-gzip"||t==="application/x-tar"||t==="application/x-gtar"||t==="application/x-bzip2"||t==="application/gzip"||t==="application/x-compress"||t==="application/x-apple-diskimage"||t==="application/x-rar-compressed"||t==="application/zip"?`${e}zip-32.svg`:t.includes("image/")?`${e}image-32.svg`:t.includes("audio/")?`${e}sound-32.svg`:t.includes("video/")?`${e}video-32.svg`:t.includes("msexcel")||t.includes("ms-excel")||t.includes("spreadsheetml")?`${e}excel-32.svg`:t.includes("msword")||t.includes("ms-word")||t.includes("wordprocessingml")?`${e}word-32.svg`:t.includes("powerpoint")||t.includes("presentationml")?`${e}report-32.svg`:`${e}generic-32.svg`:`${e}generic-32.svg`}const xv={left:"esri-icon-left",plus:"esri-icon-plus",right:"esri-icon-right",table:"esri-icon-table",trash:"esri-icon-trash",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass"},QG={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},wt="esri-attachments",je={base:wt,loaderContainer:`${wt}__loader-container`,loader:`${wt}__loader`,container:`${wt}__container`,containerList:`${wt}__container--list`,containerPreview:`${wt}__container--preview`,actions:`${wt}__actions`,deleteButton:`${wt}__delete-button`,addAttachmentButton:`${wt}__add-attachment-button`,errorMessage:`${wt}__error-message`,items:`${wt}__items`,item:`${wt}__item`,itemButton:`${wt}__item-button`,itemMask:`${wt}__item-mask`,itemMaskIcon:`${wt}__item-mask--icon`,itemImage:`${wt}__image`,itemImageResizable:`${wt}__image--resizable`,itemLabel:`${wt}__label`,itemFilename:`${wt}__filename`,itemChevronIcon:`${wt}__item-chevron-icon`,itemLink:`${wt}__item-link`,itemLinkOverlay:`${wt}__item-link-overlay`,itemLinkOverlayIcon:`${wt}__item-link-overlay-icon`,itemAddIcon:`${wt}__item-add-icon`,formNode:`${wt}__form-node`,fileFieldset:`${wt}__file-fieldset`,fileLabel:`${wt}__file-label`,fileName:`${wt}__file-name`,fileInput:`${wt}__file-input`,metadata:`${wt}__metadata`,metadataFieldset:`${wt}__metadata-fieldset`,progressBar:`${wt}__progress-bar`},gT=window.CSS;let jr=class extends It{constructor(e,i){super(e,i),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...QG},this._supportsImageOrientation=gT&&gT.supports&&gT.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}normalizeCtorArgs(e){return e!=null&&e.viewModel||(e={viewModel:new Br,...e}),e}initialize(){this.addHandles([wr(()=>{var e;return(e=this.viewModel)==null?void 0:e.attachmentInfos},"change",()=>this.scheduleRender()),wr(()=>{var e;return(e=this.viewModel)==null?void 0:e.fileInfos},"change",()=>this.scheduleRender()),Y(()=>{var e;return(e=this.viewModel)==null?void 0:e.mode},()=>this._modeChanged(),Le)])}loadDependencies(){return Pn({icon:()=>R(()=>Promise.resolve().then(()=>m0),void 0)})}get capabilities(){return this.viewModel.capabilities}set capabilities(e){this.viewModel.capabilities=e}get effectiveDisplayType(){const{displayType:e}=this;return e&&e!=="auto"?e:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get icon(){return"attachment"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}castVisibleElements(e){return{...QG,...e}}addAttachment(){const{_addAttachmentForm:e,viewModel:i}=this;return this._set("submitting",!0),this._set("error",null),i.addAttachment(e).then(r=>(this._set("submitting",!1),this._set("error",null),i.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new P("attachments:add-attachment",this.messages.addErrorMessage,r)),r})}deleteAttachment(e){const{viewModel:i}=this;return this._set("submitting",!0),this._set("error",null),i.deleteAttachment(e).then(r=>(this._set("submitting",!1),this._set("error",null),i.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new P("attachments:delete-attachment",this.messages.deleteErrorMessage,r)),r})}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:i}=this;return this._set("submitting",!0),this._set("error",null),e.updateAttachment(i).then(r=>(this._set("submitting",!1),this._set("error",null),e.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new P("attachments:update-attachment",this.messages.updateErrorMessage,r)),r})}addFile(){const e=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",e}updateFile(){const{viewModel:e}=this,i=e.updateFile(this.selectedFile,this._updateAttachmentForm,e.activeFileInfo);return e.mode="view",i}deleteFile(e){var r;const i=this.viewModel.deleteFile(e||((r=this.viewModel.activeFileInfo)==null?void 0:r.file));return this.viewModel.mode="view",i}render(){const{submitting:e,viewModel:i}=this,{state:r}=i;return M("div",{class:this.classes(je.base,Ce.widget)},e?this._renderProgressBar():null,r==="loading"?this._renderLoading():this._renderAttachments(),this._renderErrorMessage())}_renderErrorMessage(){const{error:e,visibleElements:i}=this;return e&&i.errorMessage?M("div",{class:je.errorMessage,key:"error-message"},e.message):null}_renderAttachments(){const{activeFileInfo:e,mode:i,activeAttachmentInfo:r}=this.viewModel;return i==="add"?this._renderAddForm():i==="edit"?this._renderDetailsForm(r||e):this._renderAttachmentContainer()}_renderLoading(){return M("div",{class:je.loaderContainer,key:"loader"},M("div",{class:je.loader}))}_renderProgressBar(){return this.visibleElements.progressBar?M("div",{class:je.progressBar,key:"progress-bar"}):null}_renderAddForm(){const{submitting:e,selectedFile:i}=this,r=e||!i,s=this.visibleElements.cancelAddButton?M("button",{bind:this,class:this.classes(Ce.button,Ce.buttonTertiary,Ce.buttonSmall,Ce.buttonHalf,e&&Ce.buttonDisabled),disabled:e,onclick:this._cancelForm,type:"button"},this.messages.cancel):null,n=this.visibleElements.addSubmitButton?M("button",{class:this.classes(Ce.button,Ce.buttonSecondary,Ce.buttonSmall,Ce.buttonHalf,{[Ce.buttonDisabled]:r}),disabled:r,type:"submit"},this.messages.add):null,a=i?M("span",{class:je.fileName,key:"file-name"},i.name):null,o=M("form",{afterCreate:Pj,afterRemoved:Aj,bind:this,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},M("fieldset",{class:je.fileFieldset},a,M("label",{class:this.classes(je.fileLabel,Ce.button,Ce.buttonSecondary)},i?this.messages.changeFile:this.messages.selectFile,M("input",{bind:this,class:je.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))),n,s);return M("div",{class:je.formNode,key:"add-form-container"},o)}_renderDetailsForm(e){var T,C,A;const{visibleElements:i,viewModel:r,selectedFile:s,submitting:n}=this,{capabilities:a}=r,o=n||!s;let l,u,d,h;s?(l=s.type,u=s.name,d=s.size):e&&"file"in e?(l=e.file.type,u=e.file.name,d=e.file.size):e&&"contentType"in e&&(l=e.contentType,u=e.name,d=e.size,h=e.url);const p=a.editing&&((T=a.operations)!=null&&T.delete)&&i.deleteButton?M("button",{bind:this,class:this.classes(Ce.button,Ce.buttonSmall,Ce.buttonTertiary,je.deleteButton,{[Ce.buttonDisabled]:n}),disabled:n,key:"delete-button",onclick:O=>this._submitDeleteAttachment(O,e),type:"button"},this.messages.delete):void 0,m=a.editing&&((C=a.operations)!=null&&C.update)&&i.updateButton?M("button",{class:this.classes(Ce.button,Ce.buttonSmall,Ce.buttonThird,{[Ce.buttonDisabled]:o}),disabled:o,key:"update-button",type:"submit"},this.messages.update):void 0,g=this.visibleElements.cancelUpdateButton?M("button",{bind:this,class:this.classes(Ce.button,Ce.buttonSmall,Ce.buttonTertiary,Ce.buttonThird,{[Ce.buttonDisabled]:n}),disabled:n,key:"cancel-button",onclick:this._cancelForm,type:"button"},this.messages.cancel):void 0,b=a.editing&&((A=a.operations)!=null&&A.update)?M("fieldset",{class:je.fileFieldset,key:"file"},M("span",{class:je.fileName,key:"file-name"},u),M("label",{class:this.classes(je.fileLabel,Ce.button,Ce.buttonSecondary)},this.messages.changeFile,M("input",{bind:this,class:je.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))):void 0,v=M("fieldset",{class:je.metadataFieldset,key:"size"},M("label",null,HUe(this.messagesUnits,d??0))),w=M("fieldset",{class:je.metadataFieldset,key:"content-type"},M("label",null,l)),_=h!=null?M("a",{class:je.itemLink,href:h,rel:"noreferrer",target:"_blank"},this._renderImageMask(e,400),M("div",{class:je.itemLinkOverlay},M("span",{class:je.itemLinkOverlayIcon},M("calcite-icon",{icon:"launch"})))):this._renderImageMask(e,400),S=M("form",{afterCreate:Pj,afterRemoved:Aj,bind:this,"data-node-ref":"_updateAttachmentForm",onsubmit:O=>this._submitUpdateAttachment(O,e)},M("div",{class:je.metadata},v,w),b,M("div",{class:je.actions},p,g,m));return M("div",{class:je.formNode,key:"edit-form-container"},_,S)}_renderImageMask(e,i){return e?"file"in e?this._renderGenericImageMask(e.file.name,e.file.type):this._renderImageMaskForAttachment(e,i):null}_renderGenericImageMask(e,i){const{supportsResizeAttachments:r}=this.viewModel,s=wGe(i),n={[je.itemImageResizable]:r};return M("div",{class:this.classes(je.itemMaskIcon,je.itemMask),key:s},M("img",{alt:e,class:this.classes(n,je.itemImage),src:s,title:e}))}_renderImageMaskForAttachment(e,i){const{supportsResizeAttachments:r}=this.viewModel;if(!e)return null;const{contentType:s,name:n,size:a,url:o}=e;if(!r||!XG(s))return this._renderGenericImageMask(n,s);const l=this._getCSSTransform(e),u=l?{transform:l,"image-orientation":"none"}:{},d=`${o}${o!=null&&o.includes("?")?"&":"?"}w=${i}&s=${a}`,h={[je.itemImageResizable]:r};return M("div",{class:this.classes(je.itemMask),key:d},M("img",{alt:n,class:this.classes(h,je.itemImage),src:d,styles:u,title:n}))}_renderFile(e){const{file:i}=e;return M("li",{class:je.item,key:i},M("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:je.itemButton,key:"details-button",onclick:()=>this._startEditFile(e),title:this.messages.attachmentDetails,type:"button"},this._renderImageMask(e),M("label",{class:je.itemLabel},M("span",{class:je.itemFilename},i.name||this.messages.noTitle),M("span",{"aria-hidden":"true",class:this.classes(je.itemChevronIcon,Bo(this.container)?xv.left:xv.right)}))))}_renderAttachmentInfo({attachmentInfo:e,displayType:i}){const{viewModel:r,effectiveDisplayType:s}=this,{capabilities:n,supportsResizeAttachments:a}=r,{contentType:o,name:l,url:u}=e,d=this._renderImageMask(e,i==="list"?48:400),h=n.editing?M("span",{"aria-hidden":"true",class:this.classes(je.itemChevronIcon,Bo(this.container)?xv.left:xv.right)}):null,p=[d,s==="preview"&&a&&XG(o)?null:M("label",{class:je.itemLabel},M("span",{class:je.itemFilename},l||this.messages.noTitle),h)],m=n.editing?M("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:je.itemButton,"data-attachment-info-id":e.id,key:"details-button",onclick:()=>this._startEditAttachment(e),title:this.messages.attachmentDetails,type:"button"},p):M("a",{class:je.itemButton,href:u??void 0,key:"details-link",rel:"noreferrer",target:"_blank"},p);return M("li",{class:je.item,key:e},m)}_renderAttachmentContainer(){var g;const{effectiveDisplayType:e,viewModel:i,visibleElements:r}=this,{attachmentInfos:s,capabilities:n,fileInfos:a}=i,o=!!(s!=null&&s.length),l=!!(a!=null&&a.length),u={[je.containerList]:e!=="preview",[je.containerPreview]:e==="preview"},d=n.editing&&((g=n.operations)!=null&&g.add)&&r.addButton?M("button",{bind:this,class:this.classes(Ce.button,Ce.buttonTertiary,je.addAttachmentButton),onclick:()=>this._startAddAttachment(),type:"button"},M("span",{"aria-hidden":"true",class:this.classes(je.itemAddIcon,xv.plus)}),this.messages.add):void 0,h=o?M("ul",{class:je.items,key:"attachments-list"},s.toArray().map(b=>this._renderAttachmentInfo({attachmentInfo:b,displayType:e}))):void 0,p=l?M("ul",{class:je.items,key:"file-list"},a.toArray().map(b=>this._renderFile(b))):void 0,m=l||o?void 0:M("div",{class:Ce.empty},this.messages.noAttachments);return M("div",{class:this.classes(je.container,u),key:"attachments-container"},h,p,m,d)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){var s;const i=e.target,r=(s=i.files)==null?void 0:s.item(0);this._set("selectedFile",r)}_submitDeleteAttachment(e,i){e.preventDefault(),i&&("file"in i?this.deleteFile(i.file):i&&this.deleteAttachment(i))}_submitAddAttachment(e){e.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(e,i){e.preventDefault(),i&&"file"in i?this.updateFile():this.updateAttachment()}_startEditAttachment(e){const{viewModel:i}=this;i.activeFileInfo=null,i.activeAttachmentInfo=e,i.mode="edit"}_startEditFile(e){const{viewModel:i}=this;i.activeAttachmentInfo=null,i.activeFileInfo=e,i.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e){const{orientationInfo:i}=e;return!this._supportsImageOrientation&&i?[i.rotation?`rotate(${i.rotation}deg)`:"",i.mirrored?"scaleX(-1)":""].join(" "):""}};c([f()],jr.prototype,"capabilities",null),c([f()],jr.prototype,"displayType",void 0),c([f({readOnly:!0})],jr.prototype,"effectiveDisplayType",null),c([f()],jr.prototype,"graphic",null),c([f()],jr.prototype,"icon",null),c([f()],jr.prototype,"label",null),c([f(),xi("esri/widgets/Attachments/t9n/Attachments")],jr.prototype,"messages",void 0),c([f(),xi("esri/core/t9n/Units")],jr.prototype,"messagesUnits",void 0),c([f({readOnly:!0})],jr.prototype,"selectedFile",void 0),c([f({readOnly:!0})],jr.prototype,"submitting",void 0),c([f({readOnly:!0})],jr.prototype,"error",void 0),c([f({type:Br})],jr.prototype,"viewModel",void 0),c([f()],jr.prototype,"visibleElements",void 0),c([Xe("visibleElements")],jr.prototype,"castVisibleElements",null),jr=c([E("esri.widgets.Attachments")],jr);let sm=class extends Br{constructor(e){super(e),this.description=null,this.title=null}};c([f()],sm.prototype,"description",void 0),c([f()],sm.prototype,"title",void 0),sm=c([E("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],sm);const bT="esri-feature-element-info",vT={base:bT,title:`${bT}__title`,description:`${bT}__description`};let Gl=class extends It{constructor(e,i){super(e,i),this.description=null,this.headingLevel=2,this.title=null}render(){return M("div",{class:vT.base},this._renderTitle(),this._renderDescription())}_renderTitle(){const{title:e}=this;return e?M(Im,{class:vT.title,innerHTML:e,level:this.headingLevel}):null}_renderDescription(){const{description:e}=this;return e?M("div",{class:vT.description,innerHTML:e,key:"description"}):null}};c([f()],Gl.prototype,"description",void 0),c([f()],Gl.prototype,"headingLevel",void 0),c([f()],Gl.prototype,"title",void 0),Gl=c([E("esri.widgets.Feature.support.FeatureElementInfo")],Gl);const _Ge={base:"esri-feature-attachments"};let wl=class extends It{constructor(e,i){super(e,i),this._featureElementInfo=null,this.attachmentsWidget=new jr,this.headingLevel=2,this.viewModel=new sm}initialize(){this._featureElementInfo=new Gl,this.addHandles([Y(()=>{var e,i;return[(e=this.viewModel)==null?void 0:e.description,(i=this.viewModel)==null?void 0:i.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),Le),Y(()=>this.viewModel,e=>this.attachmentsWidget.viewModel=e,Le)])}destroy(){var e;this.attachmentsWidget.viewModel=null,this.attachmentsWidget.destroy(),(e=this._featureElementInfo)==null||e.destroy()}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get displayType(){return this.attachmentsWidget.displayType}set displayType(e){this.attachmentsWidget.displayType=e}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){var i;const{attachmentsWidget:e}=this;return M("div",{class:_Ge.base},(i=this._featureElementInfo)==null?void 0:i.render(),e==null?void 0:e.render())}_setupFeatureElementInfo(){var s;const{description:e,title:i,headingLevel:r}=this;(s=this._featureElementInfo)==null||s.set({description:e,title:i,headingLevel:r})}};c([f({readOnly:!0})],wl.prototype,"attachmentsWidget",void 0),c([f()],wl.prototype,"description",null),c([f()],wl.prototype,"displayType",null),c([f()],wl.prototype,"graphic",null),c([f()],wl.prototype,"headingLevel",void 0),c([f()],wl.prototype,"title",null),c([f({type:sm})],wl.prototype,"viewModel",void 0),wl=c([E("esri.widgets.Feature.FeatureAttachments")],wl);let Fo=class extends ce{constructor(e){super(e),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.addHandles(Y(()=>this.creator,i=>{this._destroyContent(),this._createContent(i)},Le))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:e,graphic:i,destroyer:r}=this;e&&i&&($_({type:"content",value:r,event:{graphic:i}}),this._set("created",null))}async _createContent(e){const i=this.graphic;if(!i||!e)return;const r=$_({type:"content",value:e,event:{graphic:i}});this._loadingPromise=r,this.notifyChange("state");const s=await r;r===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",s))}};c([f({readOnly:!0})],Fo.prototype,"created",void 0),c([f()],Fo.prototype,"creator",void 0),c([f()],Fo.prototype,"destroyer",void 0),c([f({type:mt})],Fo.prototype,"graphic",void 0),c([f({readOnly:!0})],Fo.prototype,"state",null),Fo=c([E("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],Fo);const wT="esri-feature-content",_T={base:wT,loaderContainer:`${wT}__loader-container`,loader:`${wT}__loader`};let Zu=class extends It{constructor(e,i){super(e,i),this.viewModel=null,this._addTargetToAnchors=r=>{Array.from(r.querySelectorAll("a")).forEach(s=>{XO(s.href)&&!s.hasAttribute("target")&&s.setAttribute("target","_blank")})}}get creator(){var e;return(e=this.viewModel)==null?void 0:e.creator}set creator(e){this.viewModel&&(this.viewModel.creator=e)}get graphic(){var e;return(e=this.viewModel)==null?void 0:e.graphic}set graphic(e){this.viewModel&&(this.viewModel.graphic=e)}render(){var i;const e=(i=this.viewModel)==null?void 0:i.state;return M("div",{class:_T.base},e==="loading"?this._renderLoading():this._renderCreated())}_renderLoading(){return M("div",{class:_T.loaderContainer,key:"loader"},M("div",{class:_T.loader}))}_renderCreated(){var i;const e=(i=this.viewModel)==null?void 0:i.created;return e?e instanceof HTMLElement?M("div",{afterCreate:this._attachToNode,bind:e,key:e}):V8(e)?M("div",{key:e},!e.destroyed&&e.render()):M("div",{afterCreate:this._addTargetToAnchors,innerHTML:e,key:e}):null}_attachToNode(e){const i=this;e.appendChild(i)}};c([f()],Zu.prototype,"creator",null),c([f()],Zu.prototype,"graphic",null),c([f({type:Fo})],Zu.prototype,"viewModel",void 0),Zu=c([E("esri.widgets.Feature.FeatureContent")],Zu);let Ra=class extends ce{constructor(e){super(e),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:e,fieldInfos:i}=this,r=[];return i==null||i.forEach(s=>{if(!(!s.hasOwnProperty("visible")||s.visible))return;const n=s.clone();n.label=QO(n,e),r.push(n)}),r}};c([f()],Ra.prototype,"attributes",void 0),c([f({type:[Oee]})],Ra.prototype,"expressionInfos",void 0),c([f()],Ra.prototype,"description",void 0),c([f({type:[a3]})],Ra.prototype,"fieldInfos",void 0),c([f({readOnly:!0})],Ra.prototype,"formattedFieldInfos",null),c([f()],Ra.prototype,"title",void 0),Ra=c([E("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Ra);const SGe=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function xGe(t,e){if(typeof e!="string"||!e)return e;const i=SGe.find(l=>l.pattern.test(e));if(!i)return e;const r=e.match(i.pattern),s=r==null?void 0:r[2],n=En(En(i.label,{messages:t,hierPart:s}),{appName:i.appName}),a=i.target?` target="${i.target}"`:"",o=i.target==="_blank"?' rel="noreferrer"':"";return encodeURI(e).replace(i.pattern,`<a${a} href="$1"${o}>${n}</a>`)}const u9="esri-feature-fields",d9={base:u9,fieldHeader:`${u9}__field-header`,fieldData:`${u9}__field-data`,fieldDataDate:`${u9}__field-data--date`};let ka=class extends It{constructor(e,i){super(e,i),this._featureElementInfo=null,this.viewModel=new Ra,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new Gl,this.addHandles(Y(()=>{var e,i;return[(e=this.viewModel)==null?void 0:e.description,(i=this.viewModel)==null?void 0:i.title]},()=>this._setupFeatureElementInfo(),Le))}destroy(){var e;(e=this._featureElementInfo)==null||e.destroy()}get attributes(){return this.viewModel.attributes}set attributes(e){this.viewModel.attributes=e}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(e){this.viewModel.expressionInfos=e}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(e){this.viewModel.fieldInfos=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){var e;return M("div",{class:d9.base},(e=this._featureElementInfo)==null?void 0:e.render(),this._renderFields())}_renderFieldInfo(e,i){var d;const{attributes:r}=this.viewModel,s=e.fieldName||"",n=e.label||s,a=r?r[s]==null?"":r[s]:"",o=!!((d=e.format)!=null&&d.dateFormat),l=typeof a=="number"&&!o?this._forceLTR(a):xGe(this.messagesURIUtils,a),u={[d9.fieldDataDate]:o};return M("tr",{key:`fields-element-info-row-${s}-${i}`},M("th",{class:d9.fieldHeader,innerHTML:n,key:`fields-element-info-row-header-${s}-${i}`}),M("td",{class:this.classes(d9.fieldData,u),innerHTML:l,key:`fields-element-info-row-data-${s}-${i}`}))}_renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e!=null&&e.length?M("table",{class:Ce.table,summary:this.messages.fieldsSummary},M("tbody",null,e.map((i,r)=>this._renderFieldInfo(i,r)))):null}_setupFeatureElementInfo(){var r;const{description:e,title:i}=this;(r=this._featureElementInfo)==null||r.set({description:e,title:i})}_forceLTR(e){return`&lrm;${e}`}};c([f()],ka.prototype,"attributes",null),c([f()],ka.prototype,"description",null),c([f()],ka.prototype,"expressionInfos",null),c([f()],ka.prototype,"fieldInfos",null),c([f()],ka.prototype,"title",null),c([f({type:Ra,nonNullable:!0})],ka.prototype,"viewModel",void 0),c([f(),xi("esri/widgets/Feature/t9n/Feature")],ka.prototype,"messages",void 0),c([f(),xi("esri/widgets/support/t9n/uriUtils")],ka.prototype,"messagesURIUtils",void 0),ka=c([E("esri.widgets.Feature.FeatureFields")],ka);function uce(t){const e={};for(const i in t){if(i==="declaredClass")continue;const r=t[i];if(r!=null&&typeof r!="function")if(Array.isArray(r)){e[i]=[];for(let s=0;s<r.length;s++)e[i][s]=uce(r[s])}else typeof r=="object"?r.toJSON&&(e[i]=JSON.stringify(r)):e[i]=r}return e}var gf;(function(t){t[t.varint=0]="varint",t[t.fixed64=1]="fixed64",t[t.delimited=2]="delimited",t[t.fixed32=5]="fixed32",t[t.unknown=99]="unknown"})(gf||(gf={}));const KG=4294967296,$Ge=new TextDecoder("utf-8"),TGe=q("safari")||q("ios")?6:q("ff")?12:32;var vc;let IGe=(vc=class{constructor(e,i,r=0,s=e?e.byteLength:0){this._tag=0,this._dataType=gf.unknown,this._init(e,i,r,s)}_init(e,i,r,s){this._data=e,this._dataView=i,this._pos=r,this._end=s}get usedMemory(){return 64+xO(this._data)}asUnsafe(){return this}clone(){return new vc(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(e){this._pos=e}nextTag(e){for(;;){if(this._pos===this._end)return!1;const i=this._decodeVarint();if(this._tag=i>>3,this._dataType=7&i,!e||e===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let e=4294967295;if(e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128||(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)||(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)||(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)||(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128))return e;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const e=this.getUInt32();return e>>>1^-(1&e)}getSInt64(){return this._decodeSVarint()}getBool(){const e=this._data[this._pos]!==0;return this._skip(1),e}getEnum(){return this._decodeVarint()}getFixed64(){const e=this._dataView,i=this._pos,r=e.getUint32(i,!0)+e.getUint32(i+4,!0)*KG;return this._skip(8),r}getSFixed64(){const e=this._dataView,i=this._pos,r=e.getUint32(i,!0)+e.getInt32(i+4,!0)*KG;return this._skip(8),r}getDouble(){const e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}getFixed32(){const e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}getSFixed32(){const e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}getFloat(){const e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}getString(){const e=this._getLength(),i=this._pos,r=this._toString(this._data,i,i+e);return this._skip(e),r}getBytes(){const e=this._getLength(),i=this._pos,r=this._toBytes(this._data,i,i+e);return this._skip(e),r}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(e,i,r,s){const n=this.getMessage(),a=e(n,i,r,s);return n.release(),a}processMessage(e){const i=this.getMessage(),r=e(i);return i.release(),r}getMessage(){const e=this._getLength(),i=vc.pool.acquire();return i._init(this._data,this._dataView,this._pos,this._pos+e),this._skip(e),i}release(){vc.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case gf.varint:this._decodeVarint();break;case gf.fixed64:this._skip(8);break;case gf.delimited:this._skip(this._getLength());break;case gf.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(e){this._skip(e)}_skip(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}_decodeVarint(){const e=this._data;let i=this._pos,r=0,s=0;if(this._end-i>=10)do{if(s=e[i++],r|=127&s,!(128&s)||(s=e[i++],r|=(127&s)<<7,!(128&s))||(s=e[i++],r|=(127&s)<<14,!(128&s))||(s=e[i++],r|=(127&s)<<21,!(128&s))||(s=e[i++],r+=268435456*(127&s),!(128&s))||(s=e[i++],r+=34359738368*(127&s),!(128&s))||(s=e[i++],r+=4398046511104*(127&s),!(128&s))||(s=e[i++],r+=562949953421312*(127&s),!(128&s))||(s=e[i++],r+=72057594037927940*(127&s),!(128&s))||(s=e[i++],r+=9223372036854776e3*(127&s),!(128&s)))break;throw new Error("Varint too long!")}while(!1);else{let n=1;for(;i!==this._end&&(s=e[i],128&s);)++i,r+=(127&s)*n,n*=128;if(i===this._end)throw new Error("Varint overrun!");++i,r+=s*n}return this._pos=i,r}_decodeSVarint(){const e=this._data;let i,r=0,s=0;const n=1&e[this._pos];if(s=e[this._pos++],r|=127&s,!(128&s)||(s=e[this._pos++],r|=(127&s)<<7,!(128&s))||(s=e[this._pos++],r|=(127&s)<<14,!(128&s))||(s=e[this._pos++],r|=(127&s)<<21,!(128&s))||(s=e[this._pos++],r+=268435456*(127&s),!(128&s))||(s=e[this._pos++],r+=34359738368*(127&s),!(128&s))||(s=e[this._pos++],r+=4398046511104*(127&s),!(128&s)))return n?-(r+1)/2:r/2;if(i=BigInt(r),s=e[this._pos++],i+=0x2000000000000n*BigInt(127&s),!(128&s)||(s=e[this._pos++],i+=0x100000000000000n*BigInt(127&s),!(128&s))||(s=e[this._pos++],i+=0x8000000000000000n*BigInt(127&s),!(128&s)))return Number(n?-(i+1n)/2n:i/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==gf.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(e,i,r){if((r=Math.min(this._end,r))-i>TGe){const a=e.subarray(i,r);return $Ge.decode(a)}let s="",n="";for(let a=i;a<r;++a){const o=e[a];128&o?n+="%"+o.toString(16):(s+=decodeURIComponent(n)+String.fromCharCode(o),n="")}return n.length&&(s+=decodeURIComponent(n)),s}_toBytes(e,i,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,i,r-i)}},vc.pool=new _h(vc,void 0,e=>{e._data=null,e._dataView=null}),vc);function iF(t,e){return t?e?4:3:e?3:2}function EGe(t,e,i,r){if(!(e!=null&&e.lengths.length))return null;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const s=t.coords,n=[],a=i?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:o,coords:l}=e,u=iF(i,r);let d=0;for(const h of o){const p=MGe(a,l,d,h,i,r);p&&n.push(p),d+=h*u}if(n.sort((h,p)=>{let m=h[2]-p[2];return m===0&&i&&(m=h[4]-p[4]),m}),n.length){let h=6*n[0][2];s[0]=n[0][0]/h,s[1]=n[0][1]/h,i&&(h=6*n[0][4],s[2]=h!==0?n[0][3]/h:0),(s[0]<a[0]||s[0]>a[1]||s[1]<a[2]||s[1]>a[3]||i&&(s[2]<a[4]||s[2]>a[5]))&&(s.length=0)}if(!s.length){const h=e.lengths[0]?CGe(l,0,o[0],i,r):null;if(!h)return null;s[0]=h[0],s[1]=h[1],i&&h.length>2&&(s[2]=h[2])}return t}function MGe(t,e,i,r,s,n){const a=iF(s,n);let o=i,l=i+a,u=0,d=0,h=0,p=0,m=0;for(let b=0,v=r-1;b<v;b++,o+=a,l+=a){const w=e[o],_=e[o+1],S=e[o+2],T=e[l],C=e[l+1],A=e[l+2];let O=w*C-T*_;p+=O,u+=(w+T)*O,d+=(_+C)*O,s&&(O=w*A-T*S,h+=(S+A)*O,m+=O),w<t[0]&&(t[0]=w),w>t[1]&&(t[1]=w),_<t[2]&&(t[2]=_),_>t[3]&&(t[3]=_),s&&(S<t[4]&&(t[4]=S),S>t[5]&&(t[5]=S))}if(p>0&&(p*=-1),m>0&&(m*=-1),!p)return null;const g=[u,d,.5*p];return s&&(g[3]=h,g[4]=.5*m),g}function CGe(t,e,i,r,s){const n=iF(r,s);let a=e,o=e+n,l=0,u=0,d=0,h=0;for(let p=0,m=i-1;p<m;p++,a+=n,o+=n){const g=t[a],b=t[a+1],v=t[a+2],w=t[o],_=t[o+1],S=t[o+2],T=r?AGe(g,b,v,w,_,S):kGe(g,b,w,_);if(T)if(l+=T,r){const C=LGe(g,b,v,w,_,S);u+=T*C[0],d+=T*C[1],h+=T*C[2]}else{const C=PGe(g,b,w,_);u+=T*C[0],d+=T*C[1]}}return l>0?r?[u/l,d/l,h/l]:[u/l,d/l]:i>0?r?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function kGe(t,e,i,r){const s=i-t,n=r-e;return Math.sqrt(s*s+n*n)}function AGe(t,e,i,r,s,n){const a=r-t,o=s-e,l=n-i;return Math.sqrt(a*a+o*o+l*l)}function PGe(t,e,i,r){return[t+.5*(i-t),e+.5*(r-e)]}function LGe(t,e,i,r,s,n){return[t+.5*(r-t),e+.5*(s-e),i+.5*(n-i)]}let RGe=class H6{constructor(e=null,i={},r,s,n=0){this.geometry=e,this.attributes=i,this.centroid=r,this.objectId=s,this.displayId=n}static fromJSON(e){const i=e.geometry?Rc.fromJSON(e.geometry):null,r=e.centroid?Rc.fromJSON(e.centroid):null,s=e.objectId;return new H6(i,e.attributes,r,s)}weakClone(){const e=new H6(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e}clone(){var r,s;const e=(r=this.geometry)==null?void 0:r.clone(),i=new H6(e,{...this.attributes},(s=this.centroid)==null?void 0:s.clone(),this.objectId);return i.displayId=this.displayId,i}ensureCentroid(e){return this.centroid??(this.centroid=EGe(new Rc,this.geometry,e.hasZ,e.hasM)),this.centroid}get usedMemory(){var e;return 128+eDe(this.attributes)+(((e=this.geometry)==null?void 0:e.usedMemory)??0)}};function OGe(t){var e,i;return!!((i=(e=t.geometry)==null?void 0:e.coords)!=null&&i.length)}let FGe=class dce{constructor(){this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new dce;return e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}};const fce=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let ddt=class{constructor(e){this._options=e,this.geometryTypes=fce,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new FGe}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(e){if(!(e!=null&&e.features)||!e.hasZ||!this._options.sourceSpatialReference||!e.spatialReference||li(e.spatialReference,this._options.sourceSpatialReference)||e.spatialReference.vcsWkid)return;const i=Pb(this._options.sourceSpatialReference)/Pb(e.spatialReference);if(i!==1)for(const r of e.features){if(!OGe(r))continue;const s=r.geometry.coords;for(let n=2;n<s.length;n+=3)s[n]*=i}}addFeature(e,i){e.features.push(i)}createFeature(){return new RGe(null,{},null,0)}createSpatialReference(){return{wkid:0}}createGeometry(){return new Rc}addField(e,i){e.fields.push(i)}allocateCoordinates(e){e.coords.length=e.lengths.reduce((i,r)=>i+r,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,i){e.coords[this._coordinatePtr++]=i}addCoordinatePoint(e,i){e.coords.push(i)}addLength(e,i){e.lengths.push(i)}addQueryGeometry(e,i){e.queryGeometry=i.queryGeometry,e.queryGeometryType=i.queryGeometryType}createPointGeometry(){return new Rc}};const eH=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeBigInteger","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],tH=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],iH=["upperLeft","lowerLeft"];function rH(t){return t>=eH.length?null:eH[t]}function NGe(t){return t>=tH.length?null:tH[t]}function sH(t){return t>=iH.length?null:iH[t]}function nH(t,e){return e>=t.geometryTypes.length?null:t.geometryTypes[e]}function DGe(t,e,i){const s=t.asUnsafe(),n=e.createPointGeometry(i);for(;s.next();)switch(s.tag()){case 3:{const a=s.getUInt32(),o=s.pos()+a;let l=0;for(;s.pos()<o;)e.addCoordinatePoint(n,s.getSInt64(),l++);break}default:s.skip()}return n}function zGe(t,e,i){const n=t.asUnsafe(),a=e.createGeometry(i),o=2+(i.hasZ?1:0)+(i.hasM?1:0);for(;n.next();)switch(n.tag()){case 2:{const l=n.getUInt32(),u=n.pos()+l;let d=0;for(;n.pos()<u;)e.addLength(a,n.getUInt32(),d++);break}case 3:{const l=n.getUInt32(),u=n.pos()+l;let d=0;for(e.allocateCoordinates(a);n.pos()<u;)e.addCoordinate(a,n.getSInt64(),d),d++,d===o&&(d=0);break}default:n.skip()}return a}function VGe(t){const s=t.asUnsafe(),n=new Rc;let a="esriGeometryPoint";for(;s.next();)switch(s.tag()){case 2:{const o=s.getUInt32(),l=s.pos()+o;for(;s.pos()<l;)n.lengths.push(s.getUInt32());break}case 3:{const o=s.getUInt32(),l=s.pos()+o;for(;s.pos()<l;)n.coords.push(s.getSInt64());break}case 1:a=fce[s.getEnum()];break;default:s.skip()}return{queryGeometry:n,queryGeometryType:a}}function jGe(t){const d=t.asUnsafe();for(;d.next();)switch(d.tag()){case 1:return d.getString();case 2:return d.getFloat();case 3:return d.getDouble();case 4:return d.getSInt32();case 5:return d.getUInt32();case 6:return d.getInt64();case 7:return d.getUInt64();case 8:return d.getSInt64();case 9:return d.getBool();default:return d.skip(),null}return null}function qGe(t){const o=t.asUnsafe(),l={type:rH(0)};for(;o.next();)switch(o.tag()){case 1:l.name=o.getString();break;case 2:l.type=rH(o.getEnum());break;case 3:l.alias=o.getString();break;case 4:l.sqlType=NGe(o.getEnum());break;case 5:o.skip();break;case 6:l.defaultValue=o.getString();break;default:o.skip()}return l}function BGe(t){const r={},s=t.asUnsafe();for(;s.next();)switch(s.tag()){case 1:r.name=s.getString();break;case 2:r.isSystemMaintained=s.getBool();break;default:s.skip()}return r}function UGe(t,e,i,r){const o=e.createFeature(i);let l=0;for(;t.next();)switch(t.tag()){case 1:{const u=r[l++].name;o.attributes[u]=t.processMessage(jGe);break}case 2:o.geometry=t.processMessageWithArgs(zGe,e,i);break;case 4:o.centroid=t.processMessageWithArgs(DGe,e,i);break;default:t.skip()}return o}function GGe(t){const n=[1,1,1,1],a=t.asUnsafe();for(;a.next();)switch(a.tag()){case 1:n[0]=a.getDouble();break;case 2:n[1]=a.getDouble();break;case 4:n[2]=a.getDouble();break;case 3:n[3]=a.getDouble();break;default:a.skip()}return n}function HGe(t){const n=[0,0,0,0],a=t.asUnsafe();for(;a.next();)switch(a.tag()){case 1:n[0]=a.getDouble();break;case 2:n[1]=a.getDouble();break;case 4:n[2]=a.getDouble();break;case 3:n[3]=a.getDouble();break;default:a.skip()}return n}function WGe(t){const s={originPosition:sH(0)},n=t.asUnsafe();for(;n.next();)switch(n.tag()){case 1:s.originPosition=sH(n.getEnum());break;case 2:s.scale=n.processMessage(GGe);break;case 3:s.translate=n.processMessage(HGe);break;default:n.skip()}return s}function ZGe(t){const s={},n=t.asUnsafe();for(;n.next();)switch(n.tag()){case 1:s.shapeAreaFieldName=n.getString();break;case 2:s.shapeLengthFieldName=n.getString();break;case 3:s.units=n.getString();break;default:n.skip()}return s}function JGe(t,e){const o=e.createSpatialReference();for(;t.next();)switch(t.tag()){case 1:o.wkid=t.getUInt32();break;case 5:o.wkt=t.getString();break;case 2:o.latestWkid=t.getUInt32();break;case 3:o.vcsWkid=t.getUInt32();break;case 4:o.latestVcsWkid=t.getUInt32();break;default:t.skip()}return o}function YGe(t,e){const b=e.createFeatureResult(),v=t.asUnsafe();b.geometryType=nH(e,0);let w=!1;for(;v.next();)switch(v.tag()){case 1:b.objectIdFieldName=v.getString();break;case 3:b.globalIdFieldName=v.getString();break;case 4:b.geohashFieldName=v.getString();break;case 5:b.geometryProperties=v.processMessage(ZGe);break;case 7:b.geometryType=nH(e,v.getEnum());break;case 8:b.spatialReference=v.processMessageWithArgs(JGe,e);break;case 10:b.hasZ=v.getBool();break;case 11:b.hasM=v.getBool();break;case 12:b.transform=v.processMessage(WGe);break;case 9:b.exceededTransferLimit=v.getBool();break;case 13:e.addField(b,v.processMessage(qGe));break;case 15:w||(e.prepareFeatures(b),w=!0),e.addFeature(b,v.processMessageWithArgs(UGe,e,b,b.fields));break;case 2:b.uniqueIdField=v.processMessage(BGe);break;default:v.skip()}return e.finishFeatureResult(b),b}function XGe(t,e){const s={};let n=null;for(;t.next();)switch(t.tag()){case 4:n=t.processMessageWithArgs(VGe);break;case 1:s.featureResult=t.processMessageWithArgs(YGe,e);break;default:t.skip()}return n!=null&&s.featureResult&&e.addQueryGeometry(s,n),s}function QGe(t,e){try{const r=new IGe(new Uint8Array(t),new DataView(t)),s={};for(;r.next();)r.tag()===2?s.queryResult=r.processMessageWithArgs(XGe,e):r.skip();return s}catch(i){throw new P("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i})}}function KGe(t,e){const i=QGe(t,e),r=i.queryResult.featureResult,s=i.queryResult.queryGeometry,n=i.queryResult.queryGeometryType;if(r&&r.features&&r.features.length&&r.objectIdFieldName){const a=r.objectIdFieldName;for(const o of r.features)o.attributes&&(o.objectId=o.attributes[a])}return r&&(r.queryGeometry=s,r.queryGeometryType=n),r}const aH="Layer does not support extent calculation.";function eHe(t,e){if(e&&t.type==="extent")return`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`;if(e&&t.type==="point")return`${t.x},${t.y}`;const i=t.toJSON();return delete i.spatialReference,JSON.stringify(i)}function tHe(t,e,i){var u,d;const r=t.geometry,s=t.toJSON();delete s.compactGeometryEnabled,delete s.defaultSpatialReferenceEnabled;const n=s;let a,o,l;if(r&&(o=r.spatialReference,l=kb(o),n.geometryType=s0(r),n.geometry=eHe(r,t.compactGeometryEnabled),n.inSR=l),s.groupByFieldsForStatistics&&(n.groupByFieldsForStatistics=s.groupByFieldsForStatistics.join(",")),s.objectIds)switch((u=i==null?void 0:i.uniqueIdFields)==null?void 0:u.length){case void 0:n.objectIds=s.objectIds.join(",");break;case 1:n.uniqueIds=JSON.stringify(s.objectIds),delete n.objectIds;break;default:n.uniqueIds=JSON.stringify(s.objectIds.map(h=>JSON.parse(h))),delete n.objectIds}if(s.orderByFields&&(n.orderByFields=s.orderByFields.join(",")),!s.outFields||!s.returnDistinctValues&&(e!=null&&e.returnCountOnly||e!=null&&e.returnExtentOnly||e!=null&&e.returnIdsOnly)?delete n.outFields:s.outFields.includes("*")?n.outFields="*":n.outFields=s.outFields.join(","),s.outSR?(n.outSR=kb(s.outSR),a=t.outSpatialReference):r&&(s.returnGeometry||s.returnCentroid)&&(n.outSR=n.inSR,a=o),s.returnGeometry&&delete s.returnGeometry,s.outStatistics&&(n.outStatistics=JSON.stringify(s.outStatistics)),s.fullText&&(n.fullText=JSON.stringify(s.fullText)),s.pixelSize&&(n.pixelSize=JSON.stringify(s.pixelSize)),s.quantizationParameters&&(t.defaultSpatialReferenceEnabled&&o!=null&&((d=t.quantizationParameters)==null?void 0:d.extent)!=null&&o.equals(t.quantizationParameters.extent.spatialReference)&&delete s.quantizationParameters.extent.spatialReference,n.quantizationParameters=JSON.stringify(s.quantizationParameters)),s.parameterValues&&(n.parameterValues=JSON.stringify(s.parameterValues)),s.rangeValues&&(n.rangeValues=JSON.stringify(s.rangeValues)),s.dynamicDataSource&&(n.layer=JSON.stringify({source:s.dynamicDataSource}),delete s.dynamicDataSource),s.timeExtent){const h=s.timeExtent,{start:p,end:m}=h;p==null&&m==null||(n.time=p===m?p:`${p??"null"},${m??"null"}`),delete s.timeExtent}return t.defaultSpatialReferenceEnabled&&o!=null&&a!=null&&o.equals(a)&&(n.defaultSR=n.inSR,delete n.inSR,delete n.outSR),n}async function iHe(t,e,i,r,s){var a;const n=(a=e.timeExtent)!=null&&a.isEmpty?{data:{features:[]}}:await E3(t,e,"json",r,void 0,s);return JC(e,i,n.data),n}async function hdt(t,e,i,r,s){var o;if((o=e.timeExtent)!=null&&o.isEmpty)return{data:i.createFeatureResult()};const n=await rHe(t,e,r,s),a=n;return a.data=KGe(n.data,i),a}function rHe(t,e,i,r){return E3(t,e,"pbf",i,void 0,r)}function pdt(t,e,i,r){var s;return(s=e.timeExtent)!=null&&s.isEmpty?Promise.resolve({data:{objectIds:[]}}):E3(t,e,"json",i,{returnIdsOnly:!0},r)}function mdt(t,e,i,r){var s;return(s=e.timeExtent)!=null&&s.isEmpty?Promise.resolve({data:{count:0}}):E3(t,e,"json",i,{returnIdsOnly:!0,returnCountOnly:!0},r)}async function ydt(t,e,i){var n;if((n=e.timeExtent)!=null&&n.isEmpty)return{data:{count:0,extent:null}};const r=await E3(t,e,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}),s=r.data;if(s.hasOwnProperty("extent"))return r;if(s.features)throw new Error(aH);if(s.hasOwnProperty("count"))throw new Error(aH);return r}function sHe(t,e){if(!t.returnIdsOnly||!e.uniqueIdFields)return t;const i={...t,returnUniqueIdsOnly:!0};return delete i.returnIdsOnly,i}async function E3(t,e,i,r={},s={},n={}){const a=typeof t=="string"?Si(t):t,o=e.geometry?[e.geometry]:[],l=await fR(o,null,{signal:r.signal}),u=l==null?void 0:l[0];u!=null&&((e=e.clone()).geometry=u);const d=uce({...a.query,f:i,...sHe(s,n),...tHe(e,s,n)});return it(uh(a.path,nHe(e,s)?"query3d":"query"),{...r,responseType:i==="pbf"?"array-buffer":"json",query:{...d,...r.query}})}function nHe(t,e){return t.formatOf3DObjects!=null&&!(e.returnCountOnly||e.returnExtentOnly||e.returnIdsOnly)}async function ST(t,e,i,r){const s=await hce(t,e,i,r);return di.fromJSON(s)}async function hce(t,e,i,r){const s=hS(t),n={...i},a=me.from(e),{data:o}=await iHe(s,a,a.sourceSpatialReference,n,r);return o}const aHe="esri.widgets.Feature.support.relatedFeatureUtils",oH=()=>W.getLogger(aHe),lH=new Map;function W6(t){if(!Ec(t))return null;const[e,i]=t.split("/").slice(1);return{layerId:e,fieldName:i}}function oHe(t,e){if(!e.relationships)return null;let i=null;const{relationships:r}=e;return r.some(s=>s.id===parseInt(t,10)&&(i=s,!0)),i}function lHe({originRelationship:t,relationships:e,layerId:i}){return e.find(({relatedTableId:r,id:s})=>`${r}`===i&&s===(t==null?void 0:t.id))??null}function cHe(t,e){const i=e.toLowerCase();for(const r in t)if(r.toLowerCase()===i)return t[r];return null}function uHe(t,e){const i=oHe(t,e);if(i)return{url:`${e.url}/${i.relatedTableId}`,sourceSpatialReference:e.spatialReference,relation:i,relatedFields:[],outStatistics:[]}}function dHe(t,e){if(!e||!t)return;const{features:i,statsFeatures:r}=t,s=i==null?void 0:i.value;e.relatedFeatures=s?s.features:[];const n=r==null?void 0:r.value;e.relatedStatsFeatures=n?n.features:[]}function fHe(t,e,i,r){var n;const s=new Ot;return s.outFields=["*"],s.relationshipId=typeof e.id=="number"?e.id:parseInt(e.id,10),s.objectIds=[t.attributes[i.objectIdField]],s.gdbVersion=i.gdbVersion??null,s.historicMoment=i.historicMoment??null,((n=i.queryRelatedFeatures)==null?void 0:n.call(i,s,r))??Promise.resolve({})}function hHe(t,e,i){let r=0;const s=[];for(;r<e.length;)s.push(`${t} IN (${e.slice(r,i+r)})`),r+=i;return s.join(" OR ")}function pHe(t){return t?vP(t):void 0}function mHe(t){return t?vP(t,(e,i)=>JSON.stringify(e.toJSON())===JSON.stringify(i.toJSON())):void 0}async function yHe(t,e,i,r){const s=i.layerId.toString(),{layerInfo:n,relation:a,relatedFields:o,outStatistics:l,url:u,sourceSpatialReference:d}=e,h=pHe(o),p=mHe(l);if(!n||!a)return null;const m=lHe({originRelationship:a,relationships:n.relationships,layerId:s});if(m!=null&&m.relationshipTableId&&m.keyFieldInRelationshipTable){const b=(await fHe(t,m,i,r))[t.attributes[i.objectIdField]];if(!b)return null;const v=b.features.map(w=>w.attributes[n.objectIdField]);if(p!=null&&p.length&&n.supportsStatistics){const w=new me;w.where=hHe(n.objectIdField,v,1e3),w.outFields=h,w.outStatistics=p,w.sourceSpatialReference=d;const _={features:Promise.resolve(b),statsFeatures:ST(u,w)};return ld(_)}}const g=m==null?void 0:m.keyField;if(g){const b=n3(_He(n.fields,g)),v=cHe(t.attributes,a.keyField),w=b?`${g}=${v}`:`${g}='${v}'`,_=i.historicMoment,S=i.gdbVersion,T=ST(u,new me({where:w,outFields:h,sourceSpatialReference:d,historicMoment:_,gdbVersion:S}),r),C=p!=null&&p.length&&n.supportsStatistics?ST(u,new me({where:w,outFields:h,outStatistics:p,sourceSpatialReference:d}),r):null,A={features:T};return C&&(A.statsFeatures=C),ld(A)}return null}function gHe(t,e){return it(t,{query:{f:"json"},signal:e==null?void 0:e.signal})}function bHe({relatedInfos:t,layer:e},i){const r={};return t.forEach((s,n)=>{const{relation:a}=s;if(!a){const h=new P("editor:relation-required","A relation is required on a layer to retrieve related records.");throw oH().error(h),h}const{relatedTableId:o}=a;if(typeof o!="number"){const h=new P("editor:related-table","A related table ID is required on a layer to retrieve related records.");throw oH().error(h),h}const l=`${e.url}/${o}`,u=lH.get(l),d=u??gHe(l);u||lH.set(l,d),r[n]=d}),CP(ld(r),i)}function vHe({graphic:t,relatedInfos:e,layer:i},r){const s={};return e.forEach((n,a)=>{n.layerInfo&&(s[a]=yHe(t,n,i,r))}),ld(s)}function wHe({relatedInfo:t,fieldName:e,fieldInfo:i}){var r,s;if((r=t.relatedFields)==null||r.push(e),i.statisticType){const n=new br({statisticType:i.statisticType,onStatisticField:e,outStatisticFieldName:e});(s=t.outStatistics)==null||s.push(n)}}function _He(t,e){if(t!=null){e=e.toLowerCase();for(const i of t)if(i&&i.name.toLowerCase()===e)return i}return null}const cH={chartAnimation:!0};let Yt=class extends ce{constructor(e){super(e),this.abilities={...cH},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(e){return{...cH,...e}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(e){this._setContentElementMedia(e)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(e){const{formattedMediaInfoCount:i}=this,r=(e+i)%i;this.activeMediaInfoIndex=r}_pageContentElementMedia(e){const{activeMediaInfoIndex:i}=this,r=i+e;this._setContentElementMedia(r)}_formatMediaInfos(){const{mediaInfos:e,layer:i}=this,r=this.attributes??{},s=this.formattedAttributes??{},n=this.expressionAttributes??{},a=this.fieldInfoMap??new Map;return(e==null?void 0:e.map(o=>{const l=o==null?void 0:o.clone();return l?(l.title=qf({attributes:r,fieldInfoMap:a,globalAttributes:s,expressionAttributes:n,layer:i,text:l.title}),l.caption=qf({attributes:r,fieldInfoMap:a,globalAttributes:s,expressionAttributes:n,layer:i,text:l.caption}),l.altText=qf({attributes:r,fieldInfoMap:a,globalAttributes:s,expressionAttributes:n,layer:i,text:l.altText}),l.type==="image"?l.value?(this._setImageValue({value:l.value,formattedAttributes:s,layer:i}),l.value.sourceURL?l:void 0):void 0:l.type==="pie-chart"||l.type==="line-chart"||l.type==="column-chart"||l.type==="bar-chart"?l.value?(this._setChartValue({value:l.value,chartType:l.type,attributes:r,formattedAttributes:s,layer:i,expressionAttributes:n}),l):void 0:null):null}).filter(Kt))??[]}_setImageValue(e){const i=this.fieldInfoMap??new Map,{value:r,formattedAttributes:s,layer:n}=e,{linkURL:a,sourceURL:o}=r;if(o){const l=a7(o,n);r.sourceURL=n7({formattedAttributes:s,template:l,fieldInfoMap:i})}if(a){const l=a7(a,n);r.linkURL=n7({formattedAttributes:s,template:l,fieldInfoMap:i})}}_setChartValue(e){const{value:i,attributes:r,formattedAttributes:s,chartType:n,layer:a,expressionAttributes:o}=e,{popupTemplate:l,relatedInfos:u}=this,{fields:d,normalizeField:h}=i,p=a;if(i.fields=Zle(d,p),h&&(i.normalizeField=Qb(h,p)),!d.some(g=>!!(s[g]!=null||Ec(g)&&(u!=null&&u.size))))return;const m=(l==null?void 0:l.fieldInfos)??[];d.forEach((g,b)=>{var _;const v=(_=i.colors)==null?void 0:_[b];if(Ec(g))return void(i.series=[...i.series,...this._getRelatedChartInfos({fieldInfos:m,fieldName:g,formattedAttributes:s,chartType:n,value:i,color:v})]);const w=this._getChartOption({value:i,attributes:r,chartType:n,formattedAttributes:s,expressionAttributes:o,fieldName:g,fieldInfos:m,color:v});i.series.push(w)})}_getRelatedChartInfos(e){var g;const{fieldInfos:i,fieldName:r,formattedAttributes:s,chartType:n,value:a,color:o}=e,l=[],u=W6(r),d=u&&((g=this.relatedInfos)==null?void 0:g.get(u.layerId.toString()));if(!d)return l;const{relatedFeatures:h,relation:p}=d;if(!p||!h)return l;const{cardinality:m}=p;return h.forEach(b=>{const{attributes:v}=b;v&&Object.keys(v).forEach(w=>{w===u.fieldName&&l.push(this._getChartOption({value:a,attributes:v,formattedAttributes:s,fieldName:r,chartType:n,relatedFieldName:w,hasMultipleRelatedFeatures:(h==null?void 0:h.length)>1,fieldInfos:i,color:o}))})}),m==="one-to-many"||m==="many-to-many"?l:[l[0]]}_getTooltip({label:e,value:i,chartType:r}){return r==="pie-chart"?`${e}`:`${e}: ${i}`}_getChartOption(e){var L;const{value:i,attributes:r,formattedAttributes:s,expressionAttributes:n,fieldName:a,relatedFieldName:o,fieldInfos:l,chartType:u,hasMultipleRelatedFeatures:d,color:h}=e,p=this.layer,m=this.fieldInfoMap??new Map,{normalizeField:g,tooltipField:b}=i,v=g?Ec(g)?r[W6(g).fieldName]:r[g]:null,w=WS(a)&&n&&n[a]!==void 0?n[a]:o&&r[o]!==void 0?r[o]:r[a]!==void 0?r[a]:s[a],_=w===void 0?null:w&&v?w/v:w,S=new Mee({fieldName:a,color:h,value:typeof _=="number"?_:Number(_)});if(Ec(a)){const F=m.get(a.toLowerCase()),D=b&&m.get(b.toLowerCase()),G=(F==null?void 0:F.fieldName)??a,H=d&&b?W6(b).fieldName:(D==null?void 0:D.fieldName)??b,se=d&&H?r[H]:s[H]??(F==null?void 0:F.label)??(F==null?void 0:F.fieldName)??o,X=d&&o?r[o]:s[G];return S.tooltip=this._getTooltip({label:se,value:X,chartType:u}),S}const T=eF(l,a),C=Qb(a,p),A=b&&s[b]!==void 0?s[b]:QO(T||new a3({fieldName:C}),(L=this.popupTemplate)==null?void 0:L.expressionInfos),O=s[C];return S.tooltip=this._getTooltip({label:A,value:O,chartType:u}),S}};c([f()],Yt.prototype,"abilities",void 0),c([Xe("abilities")],Yt.prototype,"castAbilities",null),c([f()],Yt.prototype,"activeMediaInfoIndex",void 0),c([f({readOnly:!0})],Yt.prototype,"activeMediaInfo",null),c([f()],Yt.prototype,"attributes",void 0),c([f()],Yt.prototype,"description",void 0),c([f()],Yt.prototype,"fieldInfoMap",void 0),c([f()],Yt.prototype,"formattedAttributes",void 0),c([f()],Yt.prototype,"expressionAttributes",void 0),c([f({readOnly:!0})],Yt.prototype,"formattedMediaInfos",null),c([f()],Yt.prototype,"isAggregate",void 0),c([f()],Yt.prototype,"layer",void 0),c([f({readOnly:!0})],Yt.prototype,"formattedMediaInfoCount",null),c([f()],Yt.prototype,"mediaInfos",void 0),c([f()],Yt.prototype,"popupTemplate",void 0),c([f()],Yt.prototype,"relatedInfos",void 0),c([f()],Yt.prototype,"title",void 0),Yt=c([E("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Yt);const Ks="esri-feature-media",Cs={base:Ks,mediaContainer:`${Ks}__container`,mediaItemContainer:`${Ks}__item-container`,mediaItem:`${Ks}__item`,mediaItemText:`${Ks}__item-text`,mediaItemTitle:`${Ks}__item-title`,mediaItemCaption:`${Ks}__item-caption`,mediaNavigation:`${Ks}__item-navigation`,mediaPagination:`${Ks}__pagination`,mediaPaginationText:`${Ks}__pagination-text`,mediaChart:`${Ks}__chart`,mediaPaginationButton:`${Ks}__pagination-button`,mediaPaginationIcon:`${Ks}__pagination-icon`,mediaChartRendered:`${Ks}__chart--rendered`},xT=15,Vd="category",$v="value",SHe="rgba(50, 50, 50, 1)",xHe=250,$He=500,THe=200;let ls=class extends It{constructor(e,i){super(e,i),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this._chartRootMap=new WeakMap,this.viewModel=new Yt,this.messages=null,this._disposeChart=r=>{var s;(s=this._chartRootMap.get(r))==null||s.dispose(),this._chartRootMap.delete(r)},this._createChart=async r=>{const{destroyed:s,viewModel:n}=this;if(s||!n||!r)return;const{createRoot:a}=await R(()=>import("./chartUtilsAm5-CSUyCh2r.js"),__vite__mapDeps([369,370,371,372])),o=await a(r);this._chartRootMap.set(r,o),this._renderChart({mediaInfo:n.activeMediaInfo,root:o})}}initialize(){this._featureElementInfo=new Gl,this.addHandles([Y(()=>{var e,i;return[(e=this.viewModel)==null?void 0:e.activeMediaInfo,(i=this.viewModel)==null?void 0:i.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),Le),Y(()=>{var e,i;return[(e=this.viewModel)==null?void 0:e.description,(i=this.viewModel)==null?void 0:i.title]},()=>this._setupFeatureElementInfo(),Le)])}loadDependencies(){return Pn({icon:()=>R(()=>Promise.resolve().then(()=>m0),void 0)})}destroy(){var e;this._clearMediaRefreshTimer(),(e=this._featureElementInfo)==null||e.destroy()}get attributes(){return this.viewModel.attributes}set attributes(e){this.viewModel.attributes=e}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(e){this.viewModel.activeMediaInfoIndex=e}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(e){this.viewModel.fieldInfoMap=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(e){this.viewModel.mediaInfos=e}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(e){this.viewModel.popupTemplate=e}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(e){this.viewModel.relatedInfos=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){var e;return M("div",{bind:this,class:Cs.base,onkeyup:this._handleMediaKeyup},(e=this._featureElementInfo)==null?void 0:e.render(),this._renderMedia())}_renderMedia(){const{formattedMediaInfoCount:e,activeMediaInfoIndex:i}=this.viewModel,r=this._renderMediaText();return e?M("div",{class:Cs.mediaContainer,key:"media-element-container"},this._renderMediaInfo(),M("div",{class:Cs.mediaNavigation},r,e>1?M("div",{class:Cs.mediaPagination},this._renderMediaPageButton("previous"),M("span",{class:Cs.mediaPaginationText},dd(this.messages.pageText,{index:i+1,total:e})),this._renderMediaPageButton("next")):null)):null}_renderMediaText(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const i=e&&e.title?M("div",{class:Cs.mediaItemTitle,innerHTML:e.title,key:"media-title"}):null,r=e&&e.caption?M("div",{class:Cs.mediaItemCaption,innerHTML:e.caption,key:"media-caption"}):null;return i||r?M("div",{class:Cs.mediaItemText,key:"media-text"},i,r):null}_renderImageMediaInfo(e){if(!e.value)return null;const{_refreshIntervalInfo:i}=this,{activeMediaInfoIndex:r,formattedMediaInfoCount:s}=this.viewModel,{value:n,refreshInterval:a,altText:o,title:l,type:u}=e,{sourceURL:d,linkURL:h}=n,p=XO(h??void 0)?"_blank":"_self",m=p==="_blank"?"noreferrer":"",g=a?i:null,b=g?g.timestamp:0,v=g?g.sourceURL:d,w=M("img",{alt:o||l,key:`media-${u}-${r}-${s}-${b}`,src:v??void 0});return(h?M("a",{href:h,rel:m,target:p,title:l},w):null)??w}_renderChartMediaInfo(e){const{activeMediaInfoIndex:i,formattedMediaInfoCount:r}=this.viewModel;return M("div",{afterCreate:this._createChart,afterRemoved:this._disposeChart,bind:this,class:Cs.mediaChart,key:`media-${e.type}-${i}-${r}`})}_renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?e.type==="image"?this._renderImageMediaInfo(e):e.type.includes("chart")?this._renderChartMediaInfo(e):null:null}_renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;return e?M("div",{class:Cs.mediaItemContainer,key:"media-container"},M("div",{class:Cs.mediaItem,key:"media-item-container"},this._renderMediaInfoType())):null}_renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const i=e==="previous",r=i?this.messages.previous:this.messages.next,s=i?"chevron-left":"chevron-right",n=i?"media-previous":"media-next",a=i?this._previous:this._next;return M("button",{"aria-label":r,bind:this,class:Cs.mediaPaginationButton,key:n,onclick:a,tabIndex:0,title:r,type:"button"},M("calcite-icon",{class:Cs.mediaPaginationIcon,icon:s,scale:"s"}))}_setupFeatureElementInfo(){var r;const{description:e,title:i}=this;(r=this._featureElementInfo)==null||r.set({description:e,title:i})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){if(!this.viewModel)return;const{isAggregate:e,layer:i}=this.viewModel;return e&&(i!=null&&i.featureReduction)&&"renderer"in i.featureReduction?i.featureReduction.renderer:i==null?void 0:i.renderer}async _getSeriesColors(e){const{colorAm5:i}=await R(()=>import("./chartCommon-DZjKTG2E.js"),__vite__mapDeps([373,370,374,371,375])),r=new Map;return e.forEach(s=>{s.color&&r.set(s,i(s.color.toCss(!0)))}),r}async _getRendererColors(){const{colorAm5:e}=await R(()=>import("./chartCommon-DZjKTG2E.js"),__vite__mapDeps([373,370,374,371,375])),i=new Map,r=this._getRenderer(),s="default";if(!r)return i;const n=await bje(r);return n.delete(s),Array.from(n.values()).every(a=>(a==null?void 0:a.length)===1)&&Array.from(n.keys()).forEach(a=>{var l,u;const o=(u=(l=n.get(a))==null?void 0:l[0])==null?void 0:u.toCss(!0);o&&i.set(a,e(o))}),i}_handleMediaKeyup(e){const{key:i}=e;i==="ArrowLeft"&&(e.stopPropagation(),this.viewModel.previous()),i==="ArrowRight"&&(e.stopPropagation(),this.viewModel.next())}_canAnimateChart(){return!!this.viewModel&&!!this.viewModel.abilities.chartAnimation&&!oR()}_getChartAnimationMS(){return this._canAnimateChart()?xHe:0}_getChartSeriesAnimationMS(){return this._canAnimateChart()?$He:0}async _renderChart(e){const{root:i,mediaInfo:r}=e,{value:s,type:n}=r,{ResponsiveThemeAm5:a,DarkThemeAm5:o,AnimatedThemeAm5:l,ColorSetAm5:u,ThemeAm5:d,esriChartColorSet:h}=await R(async()=>{const{ResponsiveThemeAm5:T,DarkThemeAm5:C,AnimatedThemeAm5:A,ColorSetAm5:O,ThemeAm5:L,esriChartColorSet:F}=await import("./chartCommon-DZjKTG2E.js");return{ResponsiveThemeAm5:T,DarkThemeAm5:C,AnimatedThemeAm5:A,ColorSetAm5:O,ThemeAm5:L,esriChartColorSet:F}},__vite__mapDeps([373,370,374,371,375])),p=d.new(i);p.rule("ColorSet").set("colors",h),p.rule("ColorSet").set("reuse",!0);const m=[a.new(i),p];$R()&&m.push(o.new(i)),this._canAnimateChart()&&m.push(l.new(i)),i.setThemes(m);const g=await this._getRendererColors(),b=await this._getSeriesColors(s.series),v=u.new(i,{}),w=b.get(s.series[0]),_=w?{lineSettings:{stroke:w}}:void 0,S=s.series.map((T,C)=>{const A=b.get(T)||g.get(T.fieldName)||v.getIndex(C);return{[Vd]:T.tooltip,[$v]:T.value,columnSettings:{fill:A,stroke:A},..._}}).filter(T=>n!=="pie-chart"||T.value!=null&&T.value>0);n==="pie-chart"?this._createPieChart(e,S):this._createXYChart(e,S)}_getDirection(){return Bo(this.container)?"rtl":"ltr"}async _customizeChartTooltip(e,i="horizontal"){var s;const{colorAm5:r}=await R(()=>import("./chartCommon-DZjKTG2E.js"),__vite__mapDeps([373,370,374,371,375]));e.setAll({pointerOrientation:i}),(s=e.get("background"))==null||s.setAll({stroke:r(SHe)}),e.label.setAll({direction:this._getDirection(),oversizedBehavior:"wrap",maxWidth:THe})}async _createPieChart(e,i){const{TooltipAm5:r}=await R(()=>import("./chartCommon-DZjKTG2E.js"),__vite__mapDeps([373,370,374,371,375])),{PieChartAm5:s,PieSeriesAm5:n}=await R(async()=>{const{PieChartAm5:b,PieSeriesAm5:v}=await import("./pieChart-CRpQH8b9.js");return{PieChartAm5:b,PieSeriesAm5:v}},__vite__mapDeps([376,377,370,375,372])),{mediaInfo:a,root:o}=e,{title:l}=a,u=5,d=(a==null?void 0:a.altText)||(a==null?void 0:a.title)||"",h=o.container.children.push(s.new(o,{ariaLabel:d,focusable:!0,paddingBottom:u,paddingTop:u,paddingLeft:u,paddingRight:u})),p=`{category}: {valuePercentTotal.formatNumber('0.00')}%
 ({value})`,m=r.new(o,{labelText:p}),g=h.series.push(n.new(o,{name:l,valueField:$v,categoryField:Vd,tooltip:m}));g.ticks.template.set("forceHidden",!0),g.labels.template.set("forceHidden",!0),g.slices.template.states.create("active",{shiftRadius:u}),this._customizeChartTooltip(m),g.slices.template.setAll({ariaLabel:p,focusable:!0,templateField:"columnSettings"}),g.data.setAll(i),g.appear(this._getChartSeriesAnimationMS()),h.appear(this._getChartAnimationMS()),h.root.dom.classList.toggle(Cs.mediaChartRendered,!0)}_getMinSeriesValue(e){let i=0;return e.forEach(r=>i=Math.min(r.value,i)),i}async _createColumnChart(e,i,r){const{TooltipAm5:s,ScrollbarAm5:n}=await R(()=>import("./chartCommon-DZjKTG2E.js"),__vite__mapDeps([373,370,374,371,375])),{CategoryAxisAm5:a,AxisRendererXAm5:o,ValueAxisAm5:l,AxisRendererYAm5:u,ColumnSeriesAm5:d}=await R(async()=>{const{CategoryAxisAm5:T,AxisRendererXAm5:C,ValueAxisAm5:A,AxisRendererYAm5:O,ColumnSeriesAm5:L}=await import("./xyChart-C04dO0HK.js");return{CategoryAxisAm5:T,AxisRendererXAm5:C,ValueAxisAm5:A,AxisRendererYAm5:O,ColumnSeriesAm5:L}},__vite__mapDeps([378,370,375,372,377,374])),{mediaInfo:h,root:p}=i,{value:m,title:g}=h;e.setAll({wheelX:"panX",wheelY:"zoomX"});const b=e.xAxes.push(a.new(p,{renderer:o.new(p,{inversed:Bo(this.container)}),categoryField:Vd}));b.get("renderer").labels.template.setAll({forceHidden:!0});const v=e.yAxes.push(l.new(p,{renderer:u.new(p,{inside:!1}),min:this._getMinSeriesValue(m.series)}));v.get("renderer").labels.template.setAll({direction:this._getDirection()});const w="{categoryX}",_=s.new(p,{labelText:w}),S=e.series.push(d.new(p,{name:g,xAxis:b,yAxis:v,valueYField:$v,categoryXField:Vd,tooltip:_}));this._customizeChartTooltip(_),S.columns.template.setAll({ariaLabel:w,focusable:!0,templateField:"columnSettings"}),m.series.length>xT&&e.set("scrollbarX",n.new(p,{orientation:"horizontal"})),b.data.setAll(r),S.data.setAll(r),S.appear(this._getChartSeriesAnimationMS()),e.appear(this._getChartAnimationMS())}async _createBarChart(e,i,r){const{TooltipAm5:s,ScrollbarAm5:n}=await R(()=>import("./chartCommon-DZjKTG2E.js"),__vite__mapDeps([373,370,374,371,375])),{CategoryAxisAm5:a,AxisRendererXAm5:o,ValueAxisAm5:l,AxisRendererYAm5:u,ColumnSeriesAm5:d}=await R(async()=>{const{CategoryAxisAm5:T,AxisRendererXAm5:C,ValueAxisAm5:A,AxisRendererYAm5:O,ColumnSeriesAm5:L}=await import("./xyChart-C04dO0HK.js");return{CategoryAxisAm5:T,AxisRendererXAm5:C,ValueAxisAm5:A,AxisRendererYAm5:O,ColumnSeriesAm5:L}},__vite__mapDeps([378,370,375,372,377,374])),{mediaInfo:h,root:p}=i,{value:m,title:g}=h;e.setAll({wheelX:"panY",wheelY:"zoomY"});const b=e.yAxes.push(a.new(p,{renderer:u.new(p,{inversed:!0}),categoryField:Vd}));b.get("renderer").labels.template.setAll({forceHidden:!0});const v=e.xAxes.push(l.new(p,{renderer:o.new(p,{inside:!1,inversed:Bo(this.container)}),min:this._getMinSeriesValue(m.series)}));v.get("renderer").labels.template.setAll({direction:this._getDirection()});const w="{categoryY}",_=s.new(p,{labelText:w}),S=e.series.push(d.new(p,{name:g,xAxis:v,yAxis:b,valueXField:$v,categoryYField:Vd,tooltip:_}));this._customizeChartTooltip(_,"vertical"),S.columns.template.setAll({ariaLabel:w,focusable:!0,templateField:"columnSettings"}),m.series.length>xT&&e.set("scrollbarY",n.new(p,{orientation:"vertical"})),b.data.setAll(r),S.data.setAll(r),S.appear(this._getChartSeriesAnimationMS()),e.appear(this._getChartAnimationMS())}async _createLineChart(e,i,r){var C,A,O;const{TooltipAm5:s,ScrollbarAm5:n}=await R(()=>import("./chartCommon-DZjKTG2E.js"),__vite__mapDeps([373,370,374,371,375])),{CategoryAxisAm5:a,AxisRendererXAm5:o,ValueAxisAm5:l,AxisRendererYAm5:u,LineSeriesAm5:d}=await R(async()=>{const{CategoryAxisAm5:L,AxisRendererXAm5:F,ValueAxisAm5:D,AxisRendererYAm5:G,LineSeriesAm5:H}=await import("./xyChart-C04dO0HK.js");return{CategoryAxisAm5:L,AxisRendererXAm5:F,ValueAxisAm5:D,AxisRendererYAm5:G,LineSeriesAm5:H}},__vite__mapDeps([378,370,375,372,377,374])),{root:h,mediaInfo:p}=i,{value:m,title:g}=p;e.setAll({wheelX:"panX",wheelY:"zoomX"});const b=e.xAxes.push(a.new(h,{renderer:o.new(h,{inversed:Bo(this.container)}),categoryField:Vd}));b.get("renderer").labels.template.setAll({forceHidden:!0});const v=e.yAxes.push(l.new(h,{renderer:u.new(h,{inside:!1}),min:this._getMinSeriesValue(m.series)}));v.get("renderer").labels.template.setAll({direction:this._getDirection()});const w="{categoryX}",_=(A=(C=r[0])==null?void 0:C.lineSettings)==null?void 0:A.stroke,S=s.new(h,{getFillFromSprite:!_,labelText:w});_&&((O=S.get("background"))==null||O.setAll({fill:_}));const T=e.series.push(d.new(h,{name:g,xAxis:b,yAxis:v,valueYField:$v,categoryXField:Vd,tooltip:S}));T.strokes.template.setAll({templateField:"lineSettings"}),this._customizeChartTooltip(S,"vertical"),m.series.length>xT&&e.set("scrollbarX",n.new(h,{orientation:"horizontal"})),b.data.setAll(r),T.data.setAll(r),T.appear(this._getChartSeriesAnimationMS()),e.appear(this._getChartAnimationMS())}async _createXYChart(e,i){const{XYChartAm5:r,XYCursorAm5:s}=await R(()=>import("./xyChart-C04dO0HK.js"),__vite__mapDeps([378,370,375,372,377,374])),{root:n,mediaInfo:a}=e,{type:o}=a,l=(a==null?void 0:a.altText)||(a==null?void 0:a.title)||"",u=n.container.children.push(r.new(n,{ariaLabel:l,focusable:!0,panX:!0,panY:!0}));u.set("cursor",s.new(n,{})),o==="column-chart"&&await this._createColumnChart(u,e,i),o==="bar-chart"&&await this._createBarChart(u,e,i),o==="line-chart"&&await this._createLineChart(u,e,i),u.root.dom.classList.toggle(Cs.mediaChartRendered,!0)}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const i=Date.now();this._refreshIntervalInfo={timestamp:i,sourceURL:e&&this._getImageSource(e,i)}}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;(e==null?void 0:e.type)==="image"&&(e==null?void 0:e.refreshInterval)>0&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:i,value:r}=e,s=6e4*i;this._updateMediaInfoTimestamp(r.sourceURL);const n=setInterval(()=>{this._updateMediaInfoTimestamp(r.sourceURL)},s);this._refreshTimer=n}_getImageSource(e,i){const r=e.includes("?")?"&":"?",[s,n=""]=e.split("#");return`${s}${r}timestamp=${i}${n?"#":""}${n}`}};c([f()],ls.prototype,"_refreshIntervalInfo",void 0),c([f()],ls.prototype,"attributes",null),c([f()],ls.prototype,"activeMediaInfoIndex",null),c([f()],ls.prototype,"description",null),c([f()],ls.prototype,"fieldInfoMap",null),c([f()],ls.prototype,"layer",null),c([f()],ls.prototype,"mediaInfos",null),c([f()],ls.prototype,"popupTemplate",null),c([f()],ls.prototype,"relatedInfos",null),c([f()],ls.prototype,"title",null),c([f({type:Yt})],ls.prototype,"viewModel",void 0),c([f(),xi("esri/widgets/Feature/t9n/Feature")],ls.prototype,"messages",void 0),ls=c([E("esri.widgets.Feature.FeatureMedia")],ls);function o7(t,e,i,r){let s=null,n=1e3;typeof e=="number"?(n=e,r=i):(s=e??null,n=i);let a,o=0;const l=()=>{o=0,t.apply(r,a)},u=(...d)=>{s&&s.apply(r,d),a=d,n?o||(o=setTimeout(l,n)):l()};return u.remove=()=>{o&&(clearTimeout(o),o=0)},u.forceUpdate=()=>{o&&(clearTimeout(o),l())},u.hasPendingUpdates=()=>!!o,u}var uH,dH;function vdt(t){return sr.fromJSON(t.toJSON())}function wdt(t){return t.toJSON?t.toJSON():t}function _dt(t){return t instanceof Date}function Sdt(t){return t instanceof pe}function xdt(t){return t instanceof xc}function $dt(t){return t instanceof Yse}function Tdt(t){return t instanceof Xse}(function(t){t[t.Standardised=0]="Standardised",t[t.StandardisedNoInterval=1]="StandardisedNoInterval",t[t.SqlServer=2]="SqlServer",t[t.Oracle=3]="Oracle",t[t.Postgres=4]="Postgres",t[t.PGDB=5]="PGDB",t[t.FILEGDB=6]="FILEGDB",t[t.NotEvaluated=7]="NotEvaluated"})(uH||(uH={})),function(t){t[t.InFeatureSet=0]="InFeatureSet",t[t.NotInFeatureSet=1]="NotInFeatureSet",t[t.Unknown=2]="Unknown"}(dH||(dH={}));const Idt=1e3,Edt={point:"point"},Mdt={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},Cdt={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate","date-only":"esriFieldTypeDateOnly","time-only":"esriFieldTypeTimeOnly","timestamp-offset":"esriFieldTypeTimestampOffset",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"esriFieldTypeXML","big-integer":"esriFieldTypeBigInteger",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeDateOnly:"esriFieldTypeDateOnly",esriFieldTypeTimeOnly:"esriFieldTypeTimeOnly",esriFieldTypeTimestampOffset:"esriFieldTypeTimestampOffset",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"esriFieldTypeXML",esriFieldTypeBigInteger:"esriFieldTypeBigInteger"};function kdt(t){return t===void 0?"":t=(t=(t=t.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function Adt(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});const i=typeof e.cycles=="boolean"&&e.cycles,r=e.cmp&&(s=e.cmp,function(a){return function(o,l){const u={key:o,value:a[o]},d={key:l,value:a[l]};return s(u,d)}});var s;const n=[];return function a(o){if(o!=null&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o===void 0)return;if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);let l,u;if(Array.isArray(o)){for(u="[",l=0;l<o.length;l++)l&&(u+=","),u+=a(o[l])||"null";return u+"]"}if(o===null)return"null";if(n.includes(o)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const d=n.push(o)-1,h=Object.keys(o).sort(r==null?void 0:r(o));for(u="",l=0;l<h.length;l++){const p=h[l],m=a(o[p]);m&&(u&&(u+=","),u+=JSON.stringify(p)+":"+m)}return n.splice(d,1),"{"+u+"}"}(t)}function IHe(t){switch(t.type){case"catalog":case"csv":case"feature":case"geojson":case"knowledge-graph-sublayer":case"oriented-imagery":case"subtype-group":case"wfs":return!0;default:return!1}}function EHe(t){switch(t.type){case"catalog-footprint":case"subtype-sublayer":return!0;default:return IHe(t)}}const MHe="esri.widgets.Feature.support.arcadeFeatureUtils",$T=()=>W.getLogger(MHe);function CHe(t){return typeof t=="string"?k1(ZS(t)):Array.isArray(t)?kHe(t):(t==null?void 0:t.declaredClass)==="esri.arcade.Dictionary"?AHe(t):t}function kHe(t){return`<ul class="esri-widget__list">${t.map(e=>`<li>${typeof e=="string"?k1(ZS(e)):e}</li>`).join("")}</ul>`}function AHe(t){const e=t.keys().map(i=>{const r=t.field(i);return`<tr><th>${i}</th><td>${typeof r=="string"?k1(ZS(r)):r}</td></tr>`}).join("");return`<table class="${Ce.table}">${e}</table>`}async function pce(){const[t,e]=await Promise.all([R(()=>import("./arcade-CzjP5ko4.js"),__vite__mapDeps([379,259])),R(()=>import("./arcade-D0Eypt5k.js").then(i=>i.v),__vite__mapDeps([257,258,259,131,260,121,123,261]))]);return{executor:t,syntaxUtils:e}}function PHe(t){return"createQuery"in t&&"queryFeatures"in t}async function LHe({graphic:t,view:e,options:i}){const{isAggregate:r}=t,s=t.layer??t.sourceLayer;if(!r||!s||(e==null?void 0:e.type)!=="2d")return[];const n=await e.whenLayerView(s);if(!PHe(n))return[];const a=n.createQuery(),o=t.getObjectId();a.aggregateIds=o!=null?[o]:[];const{features:l}=await n.queryFeatures(a,i);return l}function RHe({layer:t,aggregatedFeatures:e,interceptor:i}){const{fields:r,objectIdField:s,geometryType:n,spatialReference:a,displayField:o}=t;return new he({fields:r,objectIdField:s,geometryType:n,spatialReference:a,displayField:o,interceptor:i,...t.type==="feature"?{templates:t.templates,typeIdField:t.typeIdField,types:t.types}:null,source:e})}function OHe(t){const e=t.declaredClass==="esri.views.3d.layers.VoxelGraphic";return t.isAggregate?"popup-feature-reduction":e?"popup-voxel":"popup"}function mce(t){var e,i;return{scale:t==null?void 0:t.scale,timeProperties:{currentStart:(e=t==null?void 0:t.timeExtent)==null?void 0:e.start,currentEnd:(i=t==null?void 0:t.timeExtent)==null?void 0:i.end,startIncluded:!0,endIncluded:!0}}}function FHe(t){return{$voxel:t}}async function NHe(t,e,i,r,s){let n=null;if(s.has("$aggregatedfeatures")){const a=await LHe({graphic:t,view:e,options:i}),o=t.sourceLayer||t.layer;n=RHe({layer:o,aggregatedFeatures:a,interceptor:r})}return{vars:{$feature:t,$aggregatedFeatures:n,$view:mce(e)},[Symbol.dispose]:()=>n==null?void 0:n[Symbol.dispose]()}}function DHe(t,e,i,r){var n;const s=(t.sourceLayer||t.layer)??void 0;return{$feature:t,$layer:s!=null&&EHe(s)?s:(s==null?void 0:s.type)==="scene"&&s.associatedLayer!=null?s.associatedLayer:void 0,$map:e,$datastore:s==null?void 0:s.url,$userInput:i,$graph:(s==null?void 0:s.type)==="knowledge-graph-sublayer"?(n=s==null?void 0:s.parentCompositeLayer)==null?void 0:n.knowledgeGraph:void 0,$view:mce(r)}}async function zHe(t,{graphic:e,map:i,location:r,view:s,options:n,interceptor:a,arcadeExecutor:o}){switch(t){case"popup":return{vars:DHe(e,i,r,s),[Symbol.dispose](){}};case"popup-feature-reduction":{const l=new Set(o.variablesUsed);return await NHe(e,s,n,a,l)}case"popup-voxel":return{vars:FHe(e),[Symbol.dispose](){}};default:throw new Error(`Unexpected profile name ${t}`)}}async function yce({expressionInfo:t,arcade:{executor:e,syntaxUtils:i},graphic:r}){const s=t==null?void 0:t.expression;if(!s)return null;const n=OHe(r),a=e.createArcadeProfile(n);let o;try{o=await e.createArcadeExecutor(s,a)}catch(u){return $T().error("arcade-executor-error",{error:u,expressionInfo:t}),null}const l=new Set;return o.variablesUsed.includes("$view")&&(i.scriptUsesViewProperties(o.syntaxTree,["scale"])&&l.add("view-scale"),i.scriptUsesViewProperties(o.syntaxTree,["timeProperties"])&&l.add("view-time-extent")),{dependencies:l,async evaluate({graphic:u,interceptor:d,location:h,map:p,options:m,spatialReference:g,view:b}){var _;const v=await zHe(n,{graphic:u,map:p,location:h,view:b,options:m,interceptor:d,arcadeExecutor:o}),w={abortSignal:(m==null?void 0:m.signal)??void 0,interceptor:d??void 0,rawOutput:!0,spatialReference:g??void 0,timeZone:b==null?void 0:b.timeZone,console(...S){$T().info(...S)}};try{return await o.executeAsync(v.vars,w)}catch(S){return(_=m==null?void 0:m.signal)!=null&&_.aborted?void 0:void $T().error("arcade-execution-error",{error:S,graphic:u,expressionInfo:t})}finally{v[Symbol.dispose]()}}}}async function VHe(t,e){if(!(t!=null&&t.length))return{dependencies:new Set,expressions:new Map};const i=await pce(),r=new Set,s=new Map;for(const n of t){const a=await yce({expressionInfo:n,arcade:i,graphic:e});s.set(`expression/${n.name}`,a),a==null||a.dependencies.forEach(o=>r.add(o))}return{dependencies:r,expressions:s}}const fH=1;let Ur=class extends ce{constructor(e){super(e),this._compileTask=null,this._evaluateTask=null,this.expressionInfo=null,this.graphic=null,this.contentElementViewModel=null,this.interceptor=null,this.location=null,this.view=null,this._createVM=()=>{var s,n;const i=(s=this.contentElement)==null?void 0:s.type;(n=this.contentElementViewModel)==null||n.destroy();const r=i==="fields"?new Ra:i==="media"?new Yt:i==="text"?new Fo:null;this._set("contentElementViewModel",r)},this._compileThrottled=o7(this._startCompile,()=>this.notifyChange("state"),fH,this),this._evaluateThrottled=o7(this._startEvaluate,()=>this.notifyChange("state"),fH,this),this.addHandles([Y(()=>[this.expressionInfo,this.graphic],()=>this._compileThrottled(),Le),Y(()=>[this.contentElement],()=>this._createVM(),Le),ir(()=>{var s,n,a,o,l,u;if(!((s=this._compileTask)!=null&&s.finished))return null;const i=this._compileTask.value,r=i==null?void 0:i.dependencies;return[i,this.spatialReference,this.map,this.view,r!=null&&r.has("view-scale")?(n=this.view)==null?void 0:n.scale:null,r!=null&&r.has("view-time-extent")?(o=(a=this.view)==null?void 0:a.timeExtent)==null?void 0:o.start:null,r!=null&&r.has("view-time-extent")?(u=(l=this.view)==null?void 0:l.timeExtent)==null?void 0:u.end:null]},([i])=>this._evaluateThrottled(i))])}initialize(){this.addHandles([this._compileThrottled,this._evaluateThrottled])}destroy(){var e;this._compileTask=bs(this._compileTask),this._evaluateTask=bs(this._evaluateTask),(e=this.contentElementViewModel)==null||e.destroy(),this._set("contentElementViewModel",null)}get contentElement(){var e;return(e=this._evaluateTask)==null?void 0:e.value}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)??null}set spatialReference(e){this._override("spatialReference",e)}get state(){var r,s;const{contentElement:e,contentElementViewModel:i}=this;return this._compileThrottled.hasPendingUpdates()||this._evaluateThrottled.hasPendingUpdates()||!((r=this._compileTask)!=null&&r.finished)||!((s=this._evaluateTask)!=null&&s.finished)?"loading":e||i?"ready":"disabled"}get map(){var e;return((e=this.view)==null?void 0:e.map)??null}set map(e){this._override("map",e)}_startCompile(){this._evaluateTask=bs(this._evaluateTask),this._compileTask=bs(this._compileTask),this._compileTask=mh(async e=>{const{expressionInfo:i,graphic:r}=this;if(!i||!r)return null;const s=await pce();ze(e);const n=await yce({expressionInfo:i,arcade:s,graphic:r});return ze(e),n})}_startEvaluate(e){this._evaluateTask=bs(this._evaluateTask),this._evaluateTask=mh(async i=>{const{graphic:r}=this;if(!e||!r)return null;const{interceptor:s,spatialReference:n,map:a,location:o,view:l}=this,u=await e.evaluate({graphic:r,interceptor:s,location:o,map:a,options:{signal:i},spatialReference:n,view:l});ze(i);const d=u;if(!d||d.declaredClass!=="esri.arcade.Dictionary")return null;const h=await d.castAsJsonAsync(i);ze(i);const p=h==null?void 0:h.type,m=p==="media"?qb.fromJSON(h):p==="text"?Qm.fromJSON(h):p==="fields"?Xm.fromJSON(h):null;return m.type==="media"&&!m.mediaInfos||m.type==="fields"&&!m.fieldInfos||m.type==="text"&&!m.text?null:m})}};c([f()],Ur.prototype,"_compileTask",void 0),c([f()],Ur.prototype,"_evaluateTask",void 0),c([f({type:Eee})],Ur.prototype,"expressionInfo",void 0),c([f({type:mt})],Ur.prototype,"graphic",void 0),c([f({readOnly:!0})],Ur.prototype,"contentElement",null),c([f({readOnly:!0})],Ur.prototype,"contentElementViewModel",void 0),c([f()],Ur.prototype,"interceptor",void 0),c([f({type:_e})],Ur.prototype,"location",void 0),c([f()],Ur.prototype,"spatialReference",null),c([f({readOnly:!0})],Ur.prototype,"state",null),c([f()],Ur.prototype,"map",null),c([f()],Ur.prototype,"view",void 0),Ur=c([E("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],Ur);const hH="esri-feature",pH={base:`${hH}-expression`,loadingSpinnerContainer:`${hH}__loading-container`};let Z6=class extends It{constructor(e,i){super(e,i),this._contentWidget=null,this.viewModel=new Ur}initialize(){this.addHandles(Y(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentElementViewModel},()=>this._setupExpressionWidget(),Le))}loadDependencies(){return Pn({loader:()=>R(()=>Promise.resolve().then(()=>$3),void 0)})}destroy(){this._destroyContentWidget()}render(){var i;const{state:e}=this.viewModel;return M("div",{class:pH.base},e==="loading"?this._renderLoading():e==="disabled"?null:(i=this._contentWidget)==null?void 0:i.render())}_renderLoading(){return M("div",{class:pH.loadingSpinnerContainer,key:"loading-container"},M("calcite-loader",{inline:!0,label:""}))}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:i}=this.viewModel,r=i==null?void 0:i.type;this._destroyContentWidget();const s=e?r==="fields"?new ka({viewModel:e}):r==="media"?new ls({viewModel:e}):r==="text"?new Zu({viewModel:e}):null:null;this._contentWidget=s,this.scheduleRender()}};c([f({type:Ur})],Z6.prototype,"viewModel",void 0),Z6=c([E("esri.widgets.Feature.FeatureExpression")],Z6);var mH,yH;(function(t){t.Text="text",t.Number="number",t.Date="date",t.Unsupported="unsupported"})(mH||(mH={})),function(t){t.CANNOT_BE_EMPTY="input-validation-error::cannot-be-empty",t.TOO_SHORT="length-validation-error::too-short",t.TOO_LONG="length-validation-error::too-long"}(yH||(yH={}));const jHe=t=>{var i;const e=[];if(t.formTemplate){const{description:r,title:s}=t.formTemplate;(i=t.fields)==null||i.forEach(n=>{const a=s&&HF(s,n.name),o=r&&HF(r,n.name);(a||o)&&e.push(n.name)})}return e},TT=100;let nt=class extends ve.ClonableMixin(An.IdentifiableMixin(ce)){constructor(e){super(e),this._loaded=!1,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.activeCategory=null,this.allCategories=null,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:i}=this;i&&i.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:i}=this;i&&i.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:i}=this;i&&i.abort(),this._queryPageAbortController=null},this._queryController=async()=>{this._cancelQuery();const i=new AbortController;this._queryAbortController=i,await Mc(this._query()),this._queryAbortController===i&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._loaded=!1,this._cancelQueryFeatureCount();const i=new AbortController;this._queryFeatureCountAbortController=i,await Mc(this._queryFeatureCount()),this._queryFeatureCountAbortController===i&&(this._queryFeatureCountAbortController=null),this._loaded=!0},this._queryPageController=async()=>{const i=new AbortController;this._queryPageAbortController=i,await Mc(this._queryPage()),this._queryPageAbortController===i&&(this._queryPageAbortController=null)},this._queryDebounced=Cc(this._queryController,TT),this._queryFeatureCountDebounced=Cc(this._queryFeatureCountController,TT),this._queryPageDebounced=Cc(this._queryPageController,TT),this._query=async()=>{var s;const{_queryAbortController:i,relatedFeatures:r}=this;this.featureCount&&(((s=this.relatedLayer)==null?void 0:s.type)!=="subtype-group"||this.activeCategory)&&(this._destroyRelatedFeatureViewModels(),this.featurePage=1,r.destroyAll(),this.destroyed||r.addMany(this._sliceFeatures(await this._queryRelatedFeatures({signal:i==null?void 0:i.signal}))))},this.addHandles([Y(()=>{var i;return[this.displayCount,this.graphic,this.layer,(i=this.layer)==null?void 0:i.loaded,this.map,this.orderByFields,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount,this.activeCategory]},()=>this._queryDebounced(),Le),Y(()=>[this.featurePage,this.showAllEnabled],()=>this._queryPageDebounced()),Y(()=>[this.layer,this.relationshipId,this.objectId,this.canQuery,this.activeCategory],()=>this._queryFeatureCountDebounced())])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.destroyAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(e){const{featuresPerPage:i,featureCount:r}=this,s=1,n=Math.ceil(r/i)||1;this._set("featurePage",Math.min(Math.max(e,s),n))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:e,relatedLayer:i}=this;return e&&(i!=null&&i.loaded)?e.map(r=>{const s=r.clone();return s.field=Qb(r.field,i),s}):e??[]}get supportsCacheHint(){var e,i,r;return!!((r=(i=(e=this.layer)==null?void 0:e.capabilities)==null?void 0:i.queryRelated)!=null&&r.supportsCacheHint)}get canLoad(){return!!this.map&&this.relationshipId!=null&&typeof this.objectId=="number"}get canQuery(){var i,r;const e=(r=(i=this.layer)==null?void 0:i.capabilities)==null?void 0:r.queryRelated;return!!(this.relatedLayer&&this.relationship&&this.relationshipId!=null&&this.objectId!=null&&(e!=null&&e.supportsCount)&&(e!=null&&e.supportsPagination))}get allCategoriesCount(){var e;return((e=this.allCategories)==null?void 0:e.length)??0}get categories(){const{allCategories:e}=this;return this.showAllEnabled?e:(e==null?void 0:e.slice(0,this.displayCount))??null}set displayCount(e){this._set("displayCount",Math.min(Math.max(e??3,0),10))}get displayCount(){return this._get("displayCount")}get itemDescriptionFieldName(){var e;return((e=this.orderByFieldsFixedCasing[0])==null?void 0:e.field)||null}get objectId(){var e,i;return(this.objectIdField&&((i=(e=this.graphic)==null?void 0:e.attributes)==null?void 0:i[this.objectIdField]))??null}get objectIdField(){var e;return((e=this.layer)==null?void 0:e.objectIdField)||null}get relatedFeatures(){return this._get("relatedFeatures")||new K}get relatedLayer(){const{layer:e,map:i,relationship:r}=this;if(!(e!=null&&e.loaded)||!i||!r)return null;const s=e.type==="subtype-sublayer"&&e.parent&&I3(e.parent)?e.parent:e;return oce(i,s,r)??null}get relatedLayerKeyField(){var r,s;const{relatedLayer:e,relationshipId:i}=this;return e!=null&&e.loaded&&i!=null?(s=(r=e.relationships)==null?void 0:r.find(n=>n.id===i))==null?void 0:s.keyField:null}get relatedLayerKeyFields(){var i;const{relatedLayer:e}=this;return e!=null&&e.loaded?((i=e.relationships)==null?void 0:i.map(r=>r.keyField).filter(Kt))??[]:[]}get relationship(){var r;const{relationshipId:e,layer:i}=this;return e!=null&&(i!=null&&i.loaded)?((r=i.relationships)==null?void 0:r.find(({id:s})=>s===e))??null:null}get relationshipKey(){var i,r;const{relationshipKeyField:e}=this;return(e&&((r=(i=this.graphic)==null?void 0:i.attributes)==null?void 0:r[e]))??null}get relationshipKeyField(){var e;return((e=this.relationship)==null?void 0:e.keyField)||null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new K}get state(){const{_queryAbortController:e,_queryFeatureCountAbortController:i,_queryPageAbortController:r,canQuery:s,_loaded:n,canLoad:a}=this;return i||a&&!n?"loading":e||r?"querying":s?"ready":"disabled"}getRelatedFeatureByObjectId(e){return this.relatedFeatures.find(i=>i.getObjectId()===e)}refresh(){this._queryFeatureCountDebounced()}_destroyRelatedFeatureViewModels(){var e;(e=this.relatedFeatureViewModels)==null||e.destroyAll()}async _queryFeatureCount(){const{layer:e,relatedLayer:i}=this;await(e==null?void 0:e.load()),await(i==null?void 0:i.load());const{_queryFeatureCountAbortController:r,activeCategory:s,canQuery:n,objectId:a,relatedLayerKeyField:o,relationshipId:l,relationshipKey:u,supportsCacheHint:d}=this;if(!n||!e||!i||a==null)return this._set("featureCount",0),void this._set("allCategories",null);if((i==null?void 0:i.type)==="subtype-group"&&!s){if(this._set("featureCount",0),this._destroyRelatedFeatureViewModels(),this.featurePage=1,this.relatedFeatures.destroyAll(),o&&u!=null){const{default:b}=await R(()=>import("./uniqueValues-CO0xeB4C.js"),[]),{uniqueValueInfos:v}=await b({layer:i,sqlWhere:`${o} = '${u}'`,field:i.subtypeField,signal:r==null?void 0:r.signal}),w=v.map(({count:_,value:S})=>{var C,A;const T=(A=(C=i.subtypes)==null?void 0:C.find(O=>O.code===S))==null?void 0:A.name;return S!=null&&T?{count:_,value:S,name:T}:void 0}).filter(Kt);this._set("allCategories",w)}return}const{historicMoment:h,gdbVersion:p}=e,m=new Ot({cacheHint:d,gdbVersion:p,historicMoment:h,relationshipId:l,returnGeometry:!1,objectIds:[a],where:this._getRelationshipWhereClause(i)}),g=await e.queryRelatedFeaturesCount(m,{signal:r==null?void 0:r.signal});this._set("allCategories",null),this._set("featureCount",g[a]||0)}_getRelationshipWhereClause(e){const{activeCategory:i}=this,r=e.createQuery(),s="subtypeField"in e?e.subtypeField:void 0,n=i&&s?`${s} = ${i.value}`:void 0,a=r.where;return a&&n?`(${a}) AND (${n})`:a??n}_sliceFeatures(e){const{showAllEnabled:i,displayCount:r}=this;return i?e:r?e.slice(0,r):[]}async _queryPage(){var a;const{relatedFeatures:e,featurePage:i,showAllEnabled:r,_queryPageAbortController:s,featureCount:n}=this;!r||i<2||!n||((a=this.relatedLayer)==null?void 0:a.type)==="subtype-group"&&!this.activeCategory||e.addMany(await this._queryRelatedFeatures({signal:s==null?void 0:s.signal}))}async _queryRelatedFeatures(e){var D;const{displayCount:i,featureCount:r,featurePage:s,featuresPerPage:n,layer:a,orderByFieldsFixedCasing:o,relatedLayer:l,relatedLayerKeyFields:u,relationshipId:d,showAllEnabled:h,supportsCacheHint:p}=this,{canQuery:m,objectId:g}=this;if(!m||!a||!l||g==null)return[];const b=h?((s-1)*n+r)%r:0,v=h?n:i,w=l.objectIdField,_="subtypeField"in l?l.subtypeField:void 0,S=[...o.map(G=>G.field),...jHe(l),...u,w,_].filter(qHe),T=o.map(G=>`${G.field} ${G.order}`),{historicMoment:C,gdbVersion:A}=a,O=new Ot({orderByFields:T,start:b,num:v,outFields:S,cacheHint:p,historicMoment:C,gdbVersion:A,relationshipId:d,returnGeometry:!1,objectIds:[g],where:this._getRelationshipWhereClause(l)}),L=await a.queryRelatedFeatures(O,{signal:e==null?void 0:e.signal}),F=((D=L[g])==null?void 0:D.features)||[];return l.type==="subtype-group"&&_?F.forEach(G=>{var X;const H=G.attributes[_],se=(X=l.findSublayerForSubtypeCode)==null?void 0:X.call(l,H);G.sourceLayer=se,G.layer=se}):F.forEach(G=>{G.sourceLayer=l,G.layer=l}),F}};function qHe(t){return t!=null&&t!==""}c([f()],nt.prototype,"_loaded",void 0),c([f()],nt.prototype,"_queryAbortController",void 0),c([f()],nt.prototype,"_queryPageAbortController",void 0),c([f()],nt.prototype,"_queryFeatureCountAbortController",void 0),c([f({value:1})],nt.prototype,"featurePage",null),c([f()],nt.prototype,"featuresPerPage",void 0),c([f({readOnly:!0})],nt.prototype,"orderByFieldsFixedCasing",null),c([f({readOnly:!0})],nt.prototype,"supportsCacheHint",null),c([f({readOnly:!0})],nt.prototype,"canLoad",null),c([f({readOnly:!0})],nt.prototype,"canQuery",null),c([f()],nt.prototype,"activeCategory",void 0),c([f({readOnly:!0})],nt.prototype,"allCategories",void 0),c([f({readOnly:!0})],nt.prototype,"allCategoriesCount",null),c([f({readOnly:!0})],nt.prototype,"categories",null),c([f()],nt.prototype,"description",void 0),c([f({value:3})],nt.prototype,"displayCount",null),c([f({type:mt})],nt.prototype,"graphic",void 0),c([f({readOnly:!0})],nt.prototype,"itemDescriptionFieldName",null),c([f()],nt.prototype,"layer",void 0),c([f()],nt.prototype,"map",void 0),c([f({readOnly:!0})],nt.prototype,"objectId",null),c([f({readOnly:!0})],nt.prototype,"objectIdField",null),c([f()],nt.prototype,"orderByFields",void 0),c([f({readOnly:!0})],nt.prototype,"relatedFeatures",null),c([f({readOnly:!0})],nt.prototype,"relatedLayer",null),c([f({readOnly:!0})],nt.prototype,"relatedLayerKeyField",null),c([f({readOnly:!0})],nt.prototype,"relatedLayerKeyFields",null),c([f({readOnly:!0})],nt.prototype,"relationship",null),c([f({readOnly:!0})],nt.prototype,"relationshipKey",null),c([f({readOnly:!0})],nt.prototype,"relationshipKeyField",null),c([f({readOnly:!0})],nt.prototype,"featureCount",void 0),c([f({readOnly:!0})],nt.prototype,"relatedFeatureViewModels",null),c([f()],nt.prototype,"relationshipId",void 0),c([f()],nt.prototype,"showAllEnabled",void 0),c([f()],nt.prototype,"state",null),c([f()],nt.prototype,"title",void 0),nt=c([E("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],nt);var J6;const Y6="esri-feature",Tv=`${Y6}-relationship`,iu={base:Tv,listContainer:`${Tv}__list`,listItem:`${Tv}__list-item`,listItemHidden:`${Tv}__list-item--hidden`,listContainerQuerying:`${Tv}__list--querying`,featureObserver:`${Y6}__feature-observer`,stickySpinnerContainer:`${Y6}__sticky-loading-container`,loadingSpinnerContainer:`${Y6}__loading-container`},gH={title:!0,description:!0};let Ir=J6=class extends It{constructor(t,e){super(t,e),this._featureElementInfo=null,this._relatedFeatureIntersectionObserverNode=null,this._relatedFeatureIntersectionObserver=new IntersectionObserver(([i])=>{i!=null&&i.isIntersecting&&this._increaseFeaturePage()},{root:window.document}),this.flowItems=null,this.flowType="feature-relationship",this.headingLevel=2,this.viewModel=new nt,this.messages=null,this.messagesCommon=null,this.visibleElements={...gH},this._increaseFeaturePage=()=>{const{state:i,showAllEnabled:r,relatedFeatures:s,featuresPerPage:n,featurePage:a}=this.viewModel;i==="ready"&&r&&s.length>=n*a&&this.viewModel.featurePage++}}initialize(){this._featureElementInfo=new Gl,this.addHandles([Y(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),Le),Y(()=>[this.viewModel.state,this.viewModel.showAllEnabled,this._relatedFeatureIntersectionObserverNode],()=>this._handleRelatedFeatureObserverChange()),wr(()=>this.viewModel.relatedFeatureViewModels,"change",()=>this._setupRelatedFeatureViewModels())])}loadDependencies(){return Pn({chip:()=>R(()=>Promise.resolve().then(()=>Ele),void 0),icon:()=>R(()=>Promise.resolve().then(()=>m0),void 0),list:()=>R(()=>import("./index-D8Net2Ig.js"),__vite__mapDeps([359,101,1,75,360,361,65,40,13,19,66,63,42,20,7,73,74,30])),"list-item":()=>R(()=>import("./index-B9TUpmDe.js"),__vite__mapDeps([358,59,18,7,14,55,2,1,62,61,60,99,76,28,74,77])),loader:()=>R(()=>Promise.resolve().then(()=>$3),void 0),notice:()=>R(()=>import("./index-D0mCuMNN.js").then(t=>t.i),__vite__mapDeps([84,15,14]))})}destroy(){this._unobserveRelatedFeatureObserver(),this._featureElementInfo=Lt(this._featureElementInfo)}get displayShowAllButton(){const{showAllEnabled:t,featureCount:e,displayCount:i,state:r,allCategoriesCount:s}=this.viewModel;return!t&&r==="ready"&&(!!s&&(s>i||i===0)||!!e&&(e>i||i===0))}get displayListItems(){const{relatedFeatureViewModels:t,allCategoriesCount:e}=this.viewModel;return this.displayShowAllButton||!!t.length||!!e}get allItemsDescription(){const{messages:t}=this,{featureCount:e,allCategories:i,allCategoriesCount:r}=this.viewModel;return dd(t==null?void 0:t.numberRecords,{number:Is(i?r:e)})}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get title(){const{activeCategory:t,title:e}=this.viewModel;return(t==null?void 0:t.name)??e}set title(t){this.viewModel.title=t}castVisibleElements(t){return{...gH,...t}}render(){var e;const{state:t}=this.viewModel;return M("div",{class:this.classes(iu.base,Ce.widget)},(e=this._featureElementInfo)==null?void 0:e.render(),t==="loading"?this._renderLoading():t==="disabled"?this._renderRelationshipNotFound():this._renderRelatedFeatures())}async _selectCategory(t){const{flowItems:e,featureVisibleElements:i,viewModel:r}=this;e&&(r.activeCategory=t,r.showAllEnabled=!0,e.push(new J6({flowItems:e,featureVisibleElements:i,visibleElements:{title:!1,description:!1},viewModel:r})))}async _selectRecord(t){const{flowItems:e,featureVisibleElements:i}=this;if(!e)return;t.abilities={relationshipContent:!0};const{default:r}=await R(()=>Promise.resolve().then(()=>WHe),void 0);e.push(new r({flowItems:e,flowType:this.flowType,viewModel:t,visibleElements:i}))}_showAllRecords(){const{flowItems:t}=this;if(!t)return;const{viewModel:e,featureVisibleElements:i}=this;e.showAllEnabled=!0;const r=new J6({flowItems:t,featureVisibleElements:i,visibleElements:{title:!1,description:!1},viewModel:e});t.push(r)}_renderStickyLoading(){return this.viewModel.state==="querying"?M("div",{class:iu.stickySpinnerContainer,key:"sticky-loader"},this._renderLoadingIcon()):null}_renderLoadingIcon(){return M("calcite-loader",{inline:!0,label:""})}_renderLoading(){return M("div",{class:iu.loadingSpinnerContainer,key:"loading-container"},this._renderLoadingIcon())}_renderShowAllIconNode(){return M("calcite-icon",{icon:"list",scale:"s",slot:"content-end"})}_renderChevronIconNode(){const t=Bo(this.container)?"chevron-left":"chevron-right";return M("calcite-icon",{icon:t,scale:"s",slot:"content-end"})}_renderCategory(t){const{count:e,name:i,value:r}=t,s=Is(e);return M("calcite-list-item",{class:iu.listItem,disabled:!e,key:r,label:i,onCalciteListItemSelect:()=>this._selectCategory(t)},M("calcite-chip",{label:s,scale:"s",slot:"content-end"},s),this._renderChevronIconNode())}_renderRelatedFeature(t){var s;const{itemDescriptionFieldName:e}=this.viewModel,i=t.title;t.description=e&&((s=t.formattedAttributes)==null?void 0:s.global[e]);const r=t.state==="loading";return M("calcite-list-item",{class:this.classes(iu.listItem,{[iu.listItemHidden]:r}),description:Pw(t.description??""),key:t.uid,label:Pw(i),onCalciteListItemSelect:()=>this._selectRecord(t)},this._renderChevronIconNode())}_renderShowAllListItem(){var t;return this.displayShowAllButton?M("calcite-list-item",{description:this.allItemsDescription,key:"show-all-item",label:(t=this.messages)==null?void 0:t.showAll,onCalciteListItemSelect:()=>this._showAllRecords()},this._renderShowAllIconNode()):null}_renderNoRelatedFeaturesMessage(){var t;return M("calcite-notice",{icon:"information",key:"no-related-features-message",kind:"brand",open:!0,scale:"s",width:"full"},M("div",{slot:"message"},(t=this.messages)==null?void 0:t.noRelatedFeatures))}_renderFeatureObserver(){return M("div",{afterCreate:this._relatedFeatureIntersectionObserverCreated,bind:this,class:iu.featureObserver,key:"feature-observer"})}_renderList(){var i;const{relatedFeatureViewModels:t,categories:e}=this.viewModel;return M("calcite-list",{displayMode:"flat",label:(i=this.messages)==null?void 0:i.relatedFeaturesList},(e==null?void 0:e.map(r=>this._renderCategory(r)))??t.toArray().map(r=>this._renderRelatedFeature(r)),this._renderShowAllListItem())}_renderRelatedFeatures(){const{displayListItems:t}=this,{state:e}=this.viewModel;return M("div",{class:this.classes(iu.listContainer,{[iu.listContainerQuerying]:e==="querying"}),key:"list-container"},t?this._renderList():e==="ready"?this._renderNoRelatedFeaturesMessage():null,this._renderStickyLoading(),this._renderFeatureObserver())}_renderRelationshipNotFound(){var t;return M("calcite-notice",{icon:"exclamation-mark-triangle",key:"relationship-not-found",kind:"danger",open:!0,scale:"s",width:"full"},M("div",{slot:"message"},(t=this.messages)==null?void 0:t.relationshipNotFound))}_setupRelatedFeatureViewModels(){const{relatedFeatureViewModels:t}=this.viewModel,e="related-feature-viewmodels";this.removeHandles(e),t==null||t.forEach(i=>{this.addHandles(Y(()=>[i.title,i.state],()=>this.scheduleRender(),Le),e)}),this.scheduleRender()}_setupFeatureElementInfo(){var s;const{headingLevel:t,visibleElements:e}=this,i=e.description&&this.description,r=e.title&&this.title;(s=this._featureElementInfo)==null||s.set({description:i,title:r,headingLevel:t})}async _handleRelatedFeatureObserverChange(){this._unobserveRelatedFeatureObserver();const{state:t,showAllEnabled:e}=this.viewModel;await kP(0),this._relatedFeatureIntersectionObserverNode&&t==="ready"&&e&&this._relatedFeatureIntersectionObserver.observe(this._relatedFeatureIntersectionObserverNode)}_relatedFeatureIntersectionObserverCreated(t){this._relatedFeatureIntersectionObserverNode=t}_unobserveRelatedFeatureObserver(){this._relatedFeatureIntersectionObserverNode&&this._relatedFeatureIntersectionObserver.unobserve(this._relatedFeatureIntersectionObserverNode)}};c([f()],Ir.prototype,"_relatedFeatureIntersectionObserverNode",void 0),c([f({readOnly:!0})],Ir.prototype,"displayShowAllButton",null),c([f({readOnly:!0})],Ir.prototype,"displayListItems",null),c([f({readOnly:!0})],Ir.prototype,"allItemsDescription",null),c([f()],Ir.prototype,"description",null),c([f()],Ir.prototype,"featureVisibleElements",void 0),c([f()],Ir.prototype,"flowItems",void 0),c([f()],Ir.prototype,"flowType",void 0),c([f()],Ir.prototype,"headingLevel",void 0),c([f()],Ir.prototype,"title",null),c([f({type:nt})],Ir.prototype,"viewModel",void 0),c([f(),xi("esri/widgets/Feature/t9n/Feature")],Ir.prototype,"messages",void 0),c([f(),xi("esri/t9n/common")],Ir.prototype,"messagesCommon",void 0),c([f()],Ir.prototype,"visibleElements",void 0),c([Xe("visibleElements")],Ir.prototype,"castVisibleElements",null),Ir=J6=c([E("esri.widgets.Feature.FeatureRelationship")],Ir);let gg=class extends ce{constructor(e){super(e),this.title=!0,this.description=!0}};c([f({type:Boolean,nonNullable:!0})],gg.prototype,"title",void 0),c([f({type:Boolean,nonNullable:!0})],gg.prototype,"description",void 0),gg=c([E("esri.widgets.Feature.FeatureUtilityNetworkAssociations.VisibleElements")],gg);const bH={assetGroup:"assetgroup",assetType:"assettype"};function BHe(t){var o;const{attributes:e,sourceLayer:i}=t;if(!e||!i)return"";const r="displayField"in i?i.displayField:null,s=r!=null?e[r]:null,n=s!=null?s.toString():null,a=(o=t.getObjectId())==null?void 0:o.toString();return n||a||""}const vH=100;let rt=class extends ve.ClonableMixin(An.IdentifiableMixin(ce)){constructor(e){super(e),this._loaded=!1,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.networkSourceIdsInUse=new Set,this.source="popup",this.description=null,this.graphic=null,this.layer=null,this.map=null,this.featureCount=0,this.associationTypes=null,this.showAllEnabled=!1,this.title=null,this.attachmentsFeatureCount=0,this.structureFeatureCount=0,this.contentFeatureCount=0,this.containerFeatureCount=0,this.connectivityFeatureCount=0,this._queryOpenAssociationType=async()=>{this.activeAssociationType&&await this._queryDebounced(this.activeAssociationType)},this._cancelQuery=()=>{const{_queryAbortController:i}=this;i&&i.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:i}=this;i&&i.abort(),this._queryFeatureCountAbortController=null},this._queryController=async i=>{this._cancelQuery();const r=new AbortController;this._queryAbortController=r,await Mc(this._query(i)),this._queryAbortController===r&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._loaded=!1,this._cancelQueryFeatureCount();const i=new AbortController;this._queryFeatureCountAbortController=i,await Mc(this._queryFeatureCount()),this._queryFeatureCountAbortController===i&&(this._queryFeatureCountAbortController=null),this._loaded=!0},this._queryDebounced=Cc(this._queryController,vH),this._queryFeatureCountDebounced=Cc(this._queryFeatureCountController,vH)}initialize(){this.addHandles([Y(()=>[this.graphic,this.layer,this.map,this.associationTypes,this.objectId,this.globalId,this.canQuery],()=>this.refresh(),Le),Y(()=>this.activeAssociationType,e=>this._queryDebounced(e),Le)])}destroy(){this._cancelQuery(),this._cancelQueryFeatureCount(),this._destroyAssociatedFeatureViewModels()}get supportsCacheHint(){var e,i,r;return!!((r=(i=(e=this.layer)==null?void 0:e.capabilities)==null?void 0:i.query)!=null&&r.supportsCacheHint)}get canLoad(){return!!this.map&&!!this.associationTypes&&typeof this.globalId=="string"}get canQuery(){var i,r;const e=(r=(i=this.layer)==null?void 0:i.capabilities)==null?void 0:r.query;return!!this.associationTypes&&typeof this.globalId=="string"&&!!(e!=null&&e.supportsPagination)}set displayCount(e){this._set("displayCount",Math.max(e??3,0))}get displayCount(){return this._get("displayCount")}get objectId(){var e,i;return(this.objectIdField&&((i=(e=this.graphic)==null?void 0:e.attributes)==null?void 0:i[this.objectIdField]))??null}get objectIdField(){var e;return((e=this.layer)==null?void 0:e.objectIdField)||null}get globalId(){var e,i;return(this.globalIdField&&((i=(e=this.graphic)==null?void 0:e.attributes)==null?void 0:i[this.globalIdField]))??null}get globalIdField(){const{layer:e}=this;return e==null?void 0:e.globalIdField}get activeAssociationType(){return this._get("activeAssociationType")}set activeAssociationType(e){e&&!this.associationTypes.includes(e)||this._set("activeAssociationType",e)}get state(){const{_queryAbortController:e,_queryFeatureCountAbortController:i,_queryPageAbortController:r,canQuery:s,_loaded:n,canLoad:a,source:o}=this;return i||a&&!n?"loading":e||r?"querying":!s||o==="popup"&&this.featureCount===0?"disabled":"ready"}get utilityNetwork(){const{layer:e,map:i}=this;if(!(e!=null&&e.loaded)||!i)return null;const r=jl(e)?e.parent:e;return lce(i,r)}get attachmentsAssociations(){return this._get("attachmentsAssociations")||new K}get structureAssociations(){return this._get("structureAssociations")||new K}get contentAssociations(){return this._get("contentAssociations")||new K}get containerAssociations(){return this._get("containerAssociations")||new K}get connectivityAssociations(){return this._get("connectivityAssociations")||new K}get associationFeatures(){return this._get("associationFeatures")||new Sm}get associationViewModels(){return this._get("associationViewModels")||new Map}async refresh(){await this._queryFeatureCountDebounced(),await this._queryOpenAssociationType()}getFeatureCountForAssociationType(e){switch(e){case"attachment":return this.attachmentsFeatureCount;case"structure":return this.structureFeatureCount;case"content":return this.contentFeatureCount;case"container":return this.containerFeatureCount;case"connectivity":return this.connectivityFeatureCount}}_destroyAssociatedFeatureViewModels(){this.associationViewModels.forEach(e=>e.destroyAll())}async _loadUtiltyNetworks(){var r;const e=this.map;if(!e)return;await Promise.allSettled(((r=e.utilityNetworks)==null?void 0:r.map(async s=>{await s.load()}))??[]);const i=this.utilityNetwork;if(i){const s=n=>{if("layerId"in n&&i.isUtilityLayer(n)){const a=i.getSourceIdByLayerId(n.layerId);a!==null&&this.networkSourceIdsInUse.add(a)}};this._set("networkSourceIdsInUse",new Set),e.allLayers.forEach(s),e.allTables.forEach(s)}}async _findLayersBySourceId(e){const{utilityNetwork:i,map:r}=this,s=u=>{const d=u;return u.url&&d.layerId===n?u.url.replace(/\/\d+$/,"")===(i==null?void 0:i.featureServiceUrl):!1};await(i==null?void 0:i.load());const n=i.getLayerIdBySourceId(e),a=r.allLayers.filter(s),o=r.allTables.filter(s),l=a.concat(o).toArray();return await Promise.allSettled(l.map(u=>u.load())),l}_clearAssociations(){this.attachmentsAssociations.removeAll(),this.structureAssociations.removeAll(),this.contentAssociations.removeAll(),this.containerAssociations.removeAll(),this.connectivityAssociations.removeAll()}_clearFeatures(){this.associationFeatures.forEach(e=>e.removeAll()),this.associationFeatures.clear()}_getAssociationsByType(e){switch(e){case"attachment":return this.attachmentsAssociations;case"structure":return this.structureAssociations;case"connectivity":return this.connectivityAssociations;case"container":return this.containerAssociations;case"content":return this.contentAssociations}}async _queryLayer(e,i,r,s,n){const a=this._getFeatureQueryWhereClause(e,i,r,s),o=new me({where:a,outFields:["*"],cacheHint:this.supportsCacheHint}),l=di.fromJSON(await DR(e,o,n));return l.features.forEach(u=>{u.layer=u.sourceLayer=aE(e)?e.findSublayerForFeature(u):e}),l.features}async _createAssociationFeatureObjects(e,i,r,s,n,a){if(e.length===0)return[];const o=new Map;for(const[u,d]of i){const h=await this._findLayersBySourceId(u);for(const p of h)(await this._queryLayer(p,d,s,n,a)).forEach(m=>{if(this.source==="popup"?m.sourceLayer&&m.getEffectivePopupTemplate():m.sourceLayer){const g=o.get(m.attributes[p.globalIdField])??[];g.push(m),o.set(m.attributes[p.globalIdField],g)}})}const l=[];return await Promise.all(e.toArray().map(async u=>{const{fromNetworkElement:d,toNetworkElement:h}=u,p=d.globalId===r?h:d,m=o.get(p.globalId)??[];await Promise.all(m.map(async g=>{var w,_;const b=(_=(w=this.utilityNetwork)==null?void 0:w.getTerminalById(p==null?void 0:p.terminalId))==null?void 0:_.name,v=g.sourceLayer&&"getFeatureTitle"in g.sourceLayer?await g.sourceLayer.getFeatureTitle(g):BHe(g);l.push({title:v,feature:g,association:u,terminalName:b})}))})),l}_parseFeatureObjects(e,i){const r=new Map;e.forEach(s=>{const n=s==null?void 0:s.feature,a=n.sourceLayer;bd(r,a,()=>new K).add(s)});for(const[s,n]of r)this._sortFeatureObjectsByTitle(n),i.set(s,n)}_sortFeatureObjectsByTitle(e){e.sort(this._compareByFeatureTitle)}_compareByFeatureTitle(e,i){return e.title.localeCompare(i.title,void 0,{numeric:!0})}async _queryAssociations(e){const{layer:i,globalId:r,associationTypes:s,utilityNetwork:n,canQuery:a}=this;if(await Promise.allSettled([i==null?void 0:i.load(),n==null?void 0:n.load()]),this._clearAssociations(),!(a&&i&&s&&n&&r))return;const o=jl(i)?i.parent:i,l=new Os({globalId:r,networkSourceId:n.getSourceIdByLayerId(o.layerId)}),u=new Set;s.forEach(g=>{switch(g.type){case"attachment":case"structure":u.add("attachment");break;case"container":case"content":u.add("containment");break;case"connectivity":u.add("connectivity"),u.add("junction-junction-connectivity"),u.add("junction-edge-from-connectivity"),u.add("junction-edge-midspan-connectivity"),u.add("junction-edge-to-connectivity")}});const d=await(n==null?void 0:n.queryAssociations({elements:[l],types:Array.from(u)},{signal:e==null?void 0:e.signal})),h=new Map,p=new Map;s.forEach(g=>{p.set(g.type,g),h.set(g.type,[])}),d.forEach(g=>{var w,_,S,T,C,A;const{toNetworkElement:b,fromNetworkElement:v}=g;switch(g.associationType){case"connectivity":case"junction-junction-connectivity":case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":if((v==null?void 0:v.globalId)===r){if(this._shouldDiscardNetworkElement(b,"connectivity",p))break;(w=h.get("connectivity"))==null||w.push(b.globalId)}else{if(this._shouldDiscardNetworkElement(v,"connectivity",p))break;(_=h.get("connectivity"))==null||_.push(v.globalId)}this.connectivityAssociations.add(g);break;case"containment":if((v==null?void 0:v.globalId)===r){if(this._shouldDiscardNetworkElement(b,"content",p))break;(S=h.get("content"))==null||S.push(b.globalId),this.contentAssociations.add(g)}else{if(this._shouldDiscardNetworkElement(v,"container",p))break;(T=h.get("container"))==null||T.push(v.globalId),this.containerAssociations.add(g)}break;case"attachment":if((v==null?void 0:v.globalId)===r){if(this._shouldDiscardNetworkElement(b,"attachment",p))break;(C=h.get("attachment"))==null||C.push(b.globalId),this.attachmentsAssociations.add(g)}else{if(this._shouldDiscardNetworkElement(v,"structure",p))break;(A=h.get("structure"))==null||A.push(v.globalId),this.structureAssociations.add(g)}}});const m=s.map(async g=>{const{associatedNetworkSourceId:b,associatedAssetGroup:v,associatedAssetType:w}=g,_=h.get(g.type),S=v!=null?await this._countAssociatedFeatures(b,_,v,w,e):_.length;switch(g.type){case"attachment":this._set("attachmentsFeatureCount",S);break;case"structure":this._set("structureFeatureCount",S);break;case"content":this._set("contentFeatureCount",S);break;case"container":this._set("containerFeatureCount",S);break;case"connectivity":this._set("connectivityFeatureCount",S)}});await Promise.allSettled(m)}async _countAssociatedFeatureCount(e,i,r,s,n){const a=this._getFeatureQueryWhereClause(e,i,r,s);return e.queryFeatureCount({where:a,outFields:["*"],returnGeometry:!1},{signal:n==null?void 0:n.signal})}async _countAssociatedFeatures(e,i,r,s,n){if(i.length===0)return 0;const a=(await this._findLayersBySourceId(e)).map(async o=>this._countAssociatedFeatureCount(o,i,r,s,n));return(await Promise.all(a)).reduce((o,l)=>o+l,0)}async _queryAssociatedFeatures(e,i){const{layer:r,globalId:s,associationTypes:n,utilityNetwork:a,canQuery:o,associationFeatures:l}=this;if(await Promise.allSettled([r==null?void 0:r.load(),a==null?void 0:a.load()]),!(o&&r&&n&&a))return;const u=this._getAssociationsByType(e.type),{associatedAssetGroup:d,associatedAssetType:h}=e,p=new Map;u.forEach(g=>{const{fromNetworkElement:b,toNetworkElement:v}=g,{networkSourceId:w,elementGlobalId:_}=b.globalId===s?{networkSourceId:v.networkSourceId,elementGlobalId:v.globalId}:{networkSourceId:b.networkSourceId,elementGlobalId:b.globalId},S=p.get(w)||[];S.push(_),p.set(w,S)});const m=await this._createAssociationFeatureObjects(u,p,s,d,h,i);this._parseFeatureObjects(m,l)}async _queryFeatureCount(){await this._loadUtiltyNetworks();const{_queryFeatureCountAbortController:e,canQuery:i}=this;i?(await this._queryAssociations(e),this._set("featureCount",this.attachmentsFeatureCount+this.structureFeatureCount+this.contentFeatureCount+this.containerFeatureCount+this.connectivityFeatureCount)):this._set("featureCount",0)}async _query(e){if(!e)return;await this._loadUtiltyNetworks();const{_queryAbortController:i}=this;this._destroyAssociatedFeatureViewModels(),this._clearFeatures(),this.featureCount!==0&&(this.destroyed||await this._queryAssociatedFeatures(e,{signal:i==null?void 0:i.signal}))}_shouldDiscardNetworkElement(e,i,r){var l;if(!e)return!1;const{networkSourceIdsInUse:s}=this,{networkSourceId:n}=e,a=(l=r.get(i))==null?void 0:l.associatedNetworkSourceId,o=s.has(n);return a!=null&&a!==n||!o}_getFeatureQueryWhereClause(e,i,r,s){const n=e.globalIdField,a=e.fieldsIndex.get(bH.assetGroup),o=e.fieldsIndex.get(bH.assetType),l=r!=null,u=s!=null;return[n?aee(n,i):null,l?`(${a==null?void 0:a.name} = ${r})`:null,l&&u?`(${o==null?void 0:o.name} = ${s})`:null].filter(Boolean).join(" AND ")}};c([f()],rt.prototype,"_loaded",void 0),c([f()],rt.prototype,"_queryAbortController",void 0),c([f()],rt.prototype,"_queryPageAbortController",void 0),c([f()],rt.prototype,"_queryFeatureCountAbortController",void 0),c([f({readOnly:!0})],rt.prototype,"supportsCacheHint",null),c([f({readOnly:!0})],rt.prototype,"canLoad",null),c([f({readOnly:!0})],rt.prototype,"canQuery",null),c([f()],rt.prototype,"networkSourceIdsInUse",void 0),c([f({constructOnly:!0})],rt.prototype,"source",void 0),c([f()],rt.prototype,"description",void 0),c([f({value:3})],rt.prototype,"displayCount",null),c([f({type:mt})],rt.prototype,"graphic",void 0),c([f()],rt.prototype,"layer",void 0),c([f()],rt.prototype,"map",void 0),c([f({readOnly:!0})],rt.prototype,"objectId",null),c([f({readOnly:!0})],rt.prototype,"objectIdField",null),c([f({readOnly:!0})],rt.prototype,"globalId",null),c([f({readOnly:!0})],rt.prototype,"globalIdField",null),c([f()],rt.prototype,"featureCount",void 0),c([f()],rt.prototype,"associationTypes",void 0),c([f()],rt.prototype,"activeAssociationType",null),c([f()],rt.prototype,"showAllEnabled",void 0),c([f()],rt.prototype,"state",null),c([f()],rt.prototype,"title",void 0),c([f({readOnly:!0})],rt.prototype,"utilityNetwork",null),c([f({readOnly:!0})],rt.prototype,"attachmentsFeatureCount",void 0),c([f({readOnly:!0})],rt.prototype,"structureFeatureCount",void 0),c([f({readOnly:!0})],rt.prototype,"attachmentsAssociations",null),c([f({readOnly:!0})],rt.prototype,"structureAssociations",null),c([f({readOnly:!0})],rt.prototype,"contentFeatureCount",void 0),c([f({readOnly:!0})],rt.prototype,"containerFeatureCount",void 0),c([f({readOnly:!0})],rt.prototype,"contentAssociations",null),c([f({readOnly:!0})],rt.prototype,"containerAssociations",null),c([f({readOnly:!0})],rt.prototype,"connectivityFeatureCount",void 0),c([f({readOnly:!0})],rt.prototype,"connectivityAssociations",null),c([f({readOnly:!0})],rt.prototype,"associationFeatures",null),c([f({readOnly:!0})],rt.prototype,"associationViewModels",null),rt=c([E("esri.widgets.support.UtilityNetworkAssociations.FeatureUtilityNetworkAssociationsViewModel")],rt);const GA="esri-feature-utility-network-associations",wH=`${GA}__loading-container`,f9={base:GA,listContainer:`${GA}__list`,loadingContainer:wH,loadingContainerSticky:`${wH}--sticky`};let Ps=class extends It{constructor(e,i){super(e,i),this._featureElementInfo=null,this.onSelectAssociationType=()=>{},this.flowType="feature-utility-network-associations",this.flowItems=null,this.parentFeatureViewModel=null,this.headingLevel=5,this.viewModel=new rt,this.messages=null,this.messagesCommon=null,this.visibleElements=new gg}initialize(){this._featureElementInfo=new Gl,this.addHandles([Y(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),Le)])}loadDependencies(){return Pn({icon:()=>R(()=>Promise.resolve().then(()=>m0),void 0),list:()=>R(()=>import("./index-D8Net2Ig.js"),__vite__mapDeps([359,101,1,75,360,361,65,40,13,19,66,63,42,20,7,73,74,30])),"list-item":()=>R(()=>import("./index-B9TUpmDe.js"),__vite__mapDeps([358,59,18,7,14,55,2,1,62,61,60,99,76,28,74,77])),loader:()=>R(()=>Promise.resolve().then(()=>$3),void 0),notice:()=>R(()=>import("./index-D0mCuMNN.js").then(e=>e.i),__vite__mapDeps([84,15,14]))})}destroy(){this._featureElementInfo=Lt(this._featureElementInfo)}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){var i;const{state:e}=this.viewModel;return M("div",{class:this.classes(f9.base,Ce.widget)},(i=this._featureElementInfo)==null?void 0:i.render(),e==="loading"?this._renderLoading():e==="disabled"?this._renderAssociationNotFound():this._renderContent())}_renderStickyLoading(){return this.viewModel.state==="querying"?M("div",{class:f9.loadingContainerSticky,key:"sticky-loader"},this._renderLoadingIcon()):null}_renderLoadingIcon(){return M("calcite-loader",{inline:!0,label:this.messagesCommon.loading})}_renderLoading(){return M("div",{class:f9.loadingContainer,key:"loading-container"},this._renderLoadingIcon())}_renderAssociationNotFound(){var e;return M("calcite-notice",{icon:"exclamation-mark-triangle",key:"association-not-found",kind:"danger",open:!0,scale:"s",width:"full"},M("div",{slot:"message"},(e=this.messages)==null?void 0:e.noAssociations))}_renderAssociationType(e){const{viewModel:i}=this,r=this._getAssociationTypeTitle(e);return M("calcite-list-item",{description:Pw(e.description),key:`association-type-${e.type}`,label:Pw(r),value:e.type,onCalciteListItemSelect:()=>this.onSelectAssociationType({viewModel:i,listType:e,title:r})},M("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderAssociations(e){const{viewModel:i}=this;return i.source==="featureForm"||i.getFeatureCountForAssociationType(e.type)>0?this._renderAssociationType(e):void 0}_renderContent(){const{messages:e,viewModel:i}=this,{state:r,associationTypes:s}=i;return M("div",{class:f9.listContainer,key:"list-container"},r==="ready"?M("div",null,M("calcite-list",{displayMode:"flat",label:e==null?void 0:e.associationsList},s.map(n=>this._renderAssociations(n)))):null,this._renderStickyLoading())}_getAssociationTypeTitle(e){const{messages:i}=this;if(e.title)return e.title;switch(e.type){case"attachment":return i.associationsAttachments;case"connectivity":return i.associationsConnectivity;case"structure":return i.associationsStructure;case"content":return i.associationsContents;case"container":return i.associationsContainer}}_setupFeatureElementInfo(){var n;const{headingLevel:e,visibleElements:i}=this,r=i.description&&this.description,s=i.title&&this.title;(n=this._featureElementInfo)==null||n.set({description:r,title:s,headingLevel:e})}};c([f({constructOnly:!0})],Ps.prototype,"onSelectAssociationType",void 0),c([f()],Ps.prototype,"flowType",void 0),c([f()],Ps.prototype,"flowItems",void 0),c([f()],Ps.prototype,"parentFeatureViewModel",void 0),c([f()],Ps.prototype,"featureVisibleElements",void 0),c([f()],Ps.prototype,"description",null),c([f()],Ps.prototype,"headingLevel",void 0),c([f()],Ps.prototype,"title",null),c([f({type:rt})],Ps.prototype,"viewModel",void 0),c([f(),xi("esri/widgets/Feature/t9n/Feature")],Ps.prototype,"messages",void 0),c([f(),xi("esri/t9n/common")],Ps.prototype,"messagesCommon",void 0),c([f({type:gg,nonNullable:!0})],Ps.prototype,"visibleElements",void 0),Ps=c([E("esri.widgets.Feature.FeatureUtilityNetworkAssociations")],Ps);let UHe=class{constructor(e,i){this.preLayerQueryCallback=e,this.preRequestCallback=i,this.preLayerQueryCallback||(this.preLayerQueryCallback=r=>{}),this.preRequestCallback||(this.preLayerQueryCallback=r=>{})}};var Hy;const _H=1,SH="content-view-models",xH="relationship-view-models",GHe="association-view-models",$H={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0,utilityNetworkAssociationsContent:!0};var Nm;let Ct=(Nm=class extends An.IdentifiableMixin(ce){constructor(e){super(e),this._error=null,this._graphicChangedTask=null,this._evaluateExpressionAttributesTask=null,this._associationVMAbortController=null,this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...$H},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.location=null,this.relatedInfos=new Map,this.title="",this.view=null,this._graphicChangedThrottled=o7(this._graphicChanged,()=>this.notifyChange("waitingForContent"),_H,this),this._isAllowedContentType=i=>{const{abilities:r}=this;return i.type==="attachments"&&!!r.attachmentsContent||i.type==="custom"&&!!r.customContent||i.type==="fields"&&!!r.fieldsContent||i.type==="media"&&!!r.mediaContent||i.type==="text"&&!!r.textContent||i.type==="expression"&&!!r.expressionContent||i.type==="relationship"&&!!r.relationshipContent||i.type==="utility-network-associations"&&!!r.utilityNetworkAssociationsContent},this._evaluateExpressionAttributesThrottled=o7(this._evaluateExpressionAttributes,()=>this.notifyChange("waitingForContent"),_H,this),this.addHandles([Y(()=>[this.graphic,this._effectivePopupTemplate,this.abilities,this.timeZone],()=>this._graphicChangedThrottled(),Le),ir(()=>{var s,n,a,o,l,u,d;if(!((s=this._graphicChangedTask)!=null&&s.finished)||this._graphicChangedTask.value==null)return null;const i=this._graphicChangedTask.value,r=(n=i==null?void 0:i.expressionInfos)==null?void 0:n.dependencies;return[i,r!=null&&r.has("view-scale")?(a=this.view)==null?void 0:a.scale:null,r!=null&&r.has("view-time-extent")?(l=(o=this.view)==null?void 0:o.timeExtent)==null?void 0:l.start:null,r!=null&&r.has("view-time-extent")?(d=(u=this.view)==null?void 0:u.timeExtent)==null?void 0:d.end:null]},([i])=>this._evaluateExpressionAttributesThrottled(i))])}initialize(){this.addHandles([this._graphicChangedThrottled,this._evaluateExpressionAttributesThrottled])}destroy(){this._clear(),this._graphicChangedTask=bs(this._graphicChangedTask),this._evaluateExpressionAttributesTask=bs(this._evaluateExpressionAttributesTask),this._error=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return this.graphic!=null?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return tce(UA(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return YO(this.graphic)}castAbilities(e){return{...$H,...e}}get isFeatureFromTable(){var e;return((e=this._sourceLayer)==null?void 0:e.isTable)||!1}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",(e==null?void 0:e.clone())??null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)??null}set spatialReference(e){this._override("spatialReference",e)}get timeZone(){var e;return((e=this.view)==null?void 0:e.timeZone)??Xs}set timeZone(e){this._overrideIfSome("timeZone",e)}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){this._override("map",e)}get waitingForContent(){const{_graphicChangedThrottled:e,_evaluateExpressionAttributesThrottled:i,_graphicChangedTask:r,_evaluateExpressionAttributesTask:s,_associationVMAbortController:n}=this;return e.hasPendingUpdates()||i.hasPendingUpdates()||r!=null&&!r.finished||s!=null&&!s.finished||!!n}setActiveMedia(e,i){const r=this.contentViewModels[e];r instanceof Yt&&r.setActiveMedia(i)}nextMedia(e){const i=this.contentViewModels[e];i instanceof Yt&&i.next()}previousMedia(e){const i=this.contentViewModels[e];i instanceof Yt&&i.previous()}async updateGeometry(){var o;const{graphic:e,spatialReference:i,_sourceLayer:r}=this;await(r==null?void 0:r.load());const s=r==null?void 0:r.objectIdField;if(!s||!e||!r)return;const n=(o=e==null?void 0:e.attributes)==null?void 0:o[s];if(n==null)return;const a=[n];if(!e.geometry){const l=await tF({layer:r,graphic:e,outFields:[],objectIds:a,returnGeometry:!0,spatialReference:i}),u=l==null?void 0:l.geometry;u&&(e.geometry=u)}}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}_graphicChanged(){this._evaluateExpressionAttributesTask=bs(this._evaluateExpressionAttributesTask),this._graphicChangedTask=bs(this._graphicChangedTask),this._graphicChangedTask=mh(async e=>{this._error=null,this._clear();const{graphic:i}=this;try{if(!i)return null;const{_sourceLayer:r,_effectivePopupTemplate:s}=this,n=this.spatialReference;await rce({graphic:i,popupTemplate:s,layer:r,spatialReference:n},{signal:e});const[{value:a},{value:o}]=await ld([this._getContent(),this._getTitle()]),[,{value:l}]=await ld([this._checkForRelatedFeatures({signal:e}),VHe(s==null?void 0:s.expressionInfos,i)]);return{expressionInfos:l,content:a,title:o}}catch(r){throw tr(r)||(this._error=r,W.getLogger(this).error("error","The popupTemplate could not be displayed for this feature.",{error:r,graphic:i,popupTemplate:this._effectivePopupTemplate})),r}})}_compileContentElement(e,i){return e.type==="attachments"?this._compileAttachments(e,i):e.type==="custom"?this._compileCustom(e,i):e.type==="fields"?this._compileFields(e,i):e.type==="media"?this._compileMedia(e,i):e.type==="text"?this._compileText(e,i):e.type==="expression"?this._compileExpression(e,i):e.type==="relationship"?this._compileRelationship(e,i):e.type==="utility-network-associations"?this._compileUtilityNetworkAssociation(e,i):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((i,r)=>this._compileContentElement(i,r)).filter(Kt):typeof e=="string"?this._compileText(new Qm({text:e}),0).text:e}_destroyContentViewModels(){this.removeHandles(xH),this.removeHandles(SH),this.contentViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("contentViewModels",[])}_matchesFeature(e,i){var n;const r=(n=e==null?void 0:e.graphic)==null?void 0:n.getObjectId(),s=i==null?void 0:i.getObjectId();return r!=null&&s!=null&&r===s}_setRelatedFeaturesViewModels({relatedFeatureViewModels:e,relatedFeatures:i,map:r}){const{view:s,spatialReference:n,timeZone:a}=this;i==null||i.filter(Boolean).forEach(o=>{e.some(l=>this._matchesFeature(l,o))||e.add(new Hy({abilities:{relationshipContent:!1},map:r,view:s,spatialReference:n,timeZone:a,graphic:o}))}),e.forEach(o=>{(i==null?void 0:i.find(u=>this._matchesFeature(o,u)))||e.remove(o)})}_setExpressionContentVM(e,i){const r=this.formattedAttributes,{contentElement:s,contentElementViewModel:n}=e,a=s==null?void 0:s.type;n&&a&&(a==="fields"&&(this._createFieldsFormattedAttributes({contentElement:s,contentElementIndex:i,formattedAttributes:r}),n.set(this._createFieldsVMParams(s,i))),a==="media"&&(this._createMediaFormattedAttributes({contentElement:s,contentElementIndex:i,formattedAttributes:r}),n.set(this._createMediaVMParams(s,i))),a==="text"&&n.set(this._createTextVMParams(s)))}_compileRelationship(e,i){const{displayCount:r,orderByFields:s,relationshipId:n,title:a,description:o}=e,{_sourceLayer:l,graphic:u,map:d}=this;if(!I3(l))return;const h=new nt({displayCount:r,graphic:u,orderByFields:s,relationshipId:n,layer:l,map:d,...this._compileTitleAndDesc({title:a,description:o})});return this.contentViewModels[i]=h,this.addHandles(wr(()=>h.relatedFeatures,"change",()=>this._setRelatedFeaturesViewModels(h)),xH),e}_matchesGlobalFeature(e,i){const r=e==null?void 0:e.association.globalId,s=i==null?void 0:i.association.globalId;return r!=null&&s!=null&&r===s}async _setUpUtilityNetworkAssociationsViewModels(e,i,r){const{view:s,spatialReference:n,timeZone:a}=this;e.forEach((o,l)=>{const u=i.get(l);u?o.forEach(d=>{u.find(h=>this._matchesGlobalFeature(d,h))||(o.remove(d),o.length===0&&e.delete(l))}):(o.removeAll(),e.delete(l))}),i.forEach((o,l)=>{const u=e.get(l)||new K;o==null||o.filter(Boolean).forEach(d=>{if(!u.some(h=>this._matchesGlobalFeature(h,d))){const{association:h,feature:p,terminalName:m,title:g}=d;u.add({title:g,association:h,featureViewModel:new Hy({abilities:{utilityNetworkAssociationsContent:!1},map:r,view:s,spatialReference:n,timeZone:a,graphic:p}),terminalName:m})}}),e.set(l,u)}),this._sortListObjectsByTitle(e)}async _sortListObjectsByTitle(e){for(const i of e.values())i.sort(this._compareByFeatureTitle)}_compareByFeatureTitle(e,i){return e.title.localeCompare(i.title,void 0,{numeric:!0})}_compileUtilityNetworkAssociation(e,i){const{displayCount:r,title:s,description:n,associationTypes:a}=e,{_sourceLayer:o,graphic:l,map:u}=this;if(!Qle(o))return;const d=new rt({graphic:l,displayCount:r,associationTypes:a,layer:o,map:u,...this._compileTitleAndDesc({title:s,description:n})});return this.contentViewModels[i]=d,this.addHandles([Y(()=>d.associationFeatures.values(),()=>this._setUpUtilityNetworkAssociationsViewModels(d.associationViewModels,d.associationFeatures,d.map))],GHe),e}_compileExpression(e,i){const{expressionInfo:r}=e,{graphic:s,map:n,spatialReference:a,view:o,location:l}=this,u=new Ur({expressionInfo:r,graphic:s,interceptor:Hy.interceptor,map:n,spatialReference:a,view:o,location:l});return this.contentViewModels[i]=u,this.addHandles(Y(()=>u.contentElementViewModel,()=>this._setExpressionContentVM(u,i),Le),SH),e}_compileAttachments(e,i){const{graphic:r}=this,{description:s,title:n,orderByFields:a}=e;return this.contentViewModels[i]=new sm({graphic:r,orderByFields:a,...this._compileTitleAndDesc({title:n,description:s})}),e}_compileCustom(e,i){const{graphic:r}=this,{creator:s,destroyer:n}=e;return this.contentViewModels[i]=new Fo({graphic:r,creator:s,destroyer:n}),e}_compileTitleAndDesc({title:e,description:i}){const{_fieldInfoMap:r,_sourceLayer:s,graphic:n,formattedAttributes:a}=this,o=n==null?void 0:n.attributes,l=this._expressionAttributes,u=a.global;return{title:qf({attributes:o,fieldInfoMap:r,globalAttributes:u,expressionAttributes:l,layer:s,text:e}),description:qf({attributes:o,fieldInfoMap:r,globalAttributes:u,expressionAttributes:l,layer:s,text:i})}}_createFieldsVMParams(e,i){const r=this._effectivePopupTemplate,s=this.formattedAttributes,n={...s==null?void 0:s.global,...s==null?void 0:s.content[i]},a=(e==null?void 0:e.fieldInfos)||(r==null?void 0:r.fieldInfos),o=a==null?void 0:a.filter(({fieldName:h})=>!!h&&(WS(h)||Ec(h)||n.hasOwnProperty(h))),l=r==null?void 0:r.expressionInfos,{description:u,title:d}=e;return{attributes:n,expressionInfos:l,fieldInfos:o,...this._compileTitleAndDesc({title:d,description:u})}}_compileFields(e,i){const r=e.clone(),s=new Ra(this._createFieldsVMParams(e,i));return this.contentViewModels[i]=s,r.fieldInfos=s.formattedFieldInfos.slice(),r}_createMediaVMParams(e,i){const{abilities:r,graphic:s,_fieldInfoMap:n,_effectivePopupTemplate:a,relatedInfos:o,_sourceLayer:l,_expressionAttributes:u}=this,d=this.formattedAttributes,h=(s==null?void 0:s.attributes)??{},{description:p,mediaInfos:m,title:g}=e;return{abilities:{chartAnimation:r.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:h,isAggregate:s==null?void 0:s.isAggregate,layer:l,fieldInfoMap:n,formattedAttributes:{...d==null?void 0:d.global,...d==null?void 0:d.content[i]},expressionAttributes:u,mediaInfos:m,popupTemplate:a,relatedInfos:o,...this._compileTitleAndDesc({title:g,description:p})}}_compileMedia(e,i){const r=e.clone(),s=new Yt(this._createMediaVMParams(e,i));return r.mediaInfos=s.formattedMediaInfos.slice(),this.contentViewModels[i]=s,r}_createTextVMParams(e){var a;const{graphic:i,_fieldInfoMap:r,_sourceLayer:s,_expressionAttributes:n}=this;if(e&&e.text){const o=(i==null?void 0:i.attributes)??{},l=((a=this.formattedAttributes)==null?void 0:a.global)??{};e.text=qf({attributes:o,fieldInfoMap:r,globalAttributes:l,expressionAttributes:n,layer:s,text:e.text})}return{graphic:i,creator:e.text}}_compileText(e,i){const r=e.clone();return this.contentViewModels[i]=new Fo(this._createTextVMParams(r)),r}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:i,graphic:r,timeZone:s}=this;if(!e)return;const{lastEditInfoEnabled:n}=e,a=i==null?void 0:i.editFieldsInfo;return n&&a?ece(a,r==null?void 0:r.attributes,s,i):void 0}_compileTitle(e){var l;const{_fieldInfoMap:i,_sourceLayer:r,graphic:s,_expressionAttributes:n}=this,a=(s==null?void 0:s.attributes)??{},o=((l=this.formattedAttributes)==null?void 0:l.global)??{};return qf({attributes:a,fieldInfoMap:i,globalAttributes:o,expressionAttributes:n,layer:r,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:i}=this;return i?$_({type:"title",value:e==null?void 0:e.title,event:{graphic:i}}):null}async _getContent(){const{_effectivePopupTemplate:e,graphic:i}=this;return i?$_({type:"content",value:e==null?void 0:e.content,event:{graphic:i}}):null}_evaluateExpressionAttributes({title:e,content:i,expressionInfos:r}){this._evaluateExpressionAttributesTask=bs(this._evaluateExpressionAttributesTask),this._evaluateExpressionAttributesTask=mh(async s=>{const{graphic:n,map:a,view:o,spatialReference:l,location:u}=this;try{if(!n)return;let d;if(r!=null){const h=[];for(const[p,m]of r.expressions.entries())m!=null?h.push(m.evaluate({graphic:n,interceptor:Hy.interceptor,location:u,map:a,options:{signal:s},spatialReference:l,view:o}).then(g=>[p,CHe(g)]).catch(()=>[p,void 0])):h.push(Promise.resolve([p,void 0]));d=Object.fromEntries(await Promise.all(h)),ze(s)}this._expressionAttributes=d,this._graphicExpressionAttributes={...n.attributes,...d},this._set("formattedAttributes",this._createFormattedAttributes(i)),this._set("title",this._compileTitle(e)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(i)||null)}catch(d){tr(d)||(this._error=d,W.getLogger(this).error("error","The popupTemplate could not be displayed for this feature.",{error:d,graphic:n,popupTemplate:this._effectivePopupTemplate}))}})}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:i,formattedAttributes:r}){const{_effectivePopupTemplate:s,graphic:n,relatedInfos:a,_sourceLayer:o,_fieldInfoMap:l,_graphicExpressionAttributes:u,timeZone:d}=this;r.content[i]=G6({fieldInfos:s==null?void 0:s.fieldInfos,graphic:n,attributes:{...u,...e.attributes},layer:o,fieldInfoMap:l,relatedInfos:a,timeZone:d})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:i,formattedAttributes:r}){if(e.fieldInfos){const{graphic:s,relatedInfos:n,_sourceLayer:a,_fieldInfoMap:o,_graphicExpressionAttributes:l,timeZone:u}=this;r.content[i]=G6({fieldInfos:e.fieldInfos,graphic:s,attributes:{...l,...e.attributes},layer:a,fieldInfoMap:o,relatedInfos:n,timeZone:u})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:i,graphic:r,relatedInfos:s,_sourceLayer:n,_fieldInfoMap:a,_graphicExpressionAttributes:o,timeZone:l}=this,u=i==null?void 0:i.fieldInfos,d={global:G6({fieldInfos:u,graphic:r,attributes:o,layer:n,fieldInfoMap:a,relatedInfos:s,timeZone:l}),content:[]};return Array.isArray(e)&&e.forEach((h,p)=>{h.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:h,contentElementIndex:p,formattedAttributes:d}),h.type==="media"&&this._createMediaFormattedAttributes({contentElement:h,contentElementIndex:p,formattedAttributes:d})}),d}_checkForRelatedFeatures(e){const{graphic:i,_effectivePopupTemplate:r}=this;return this._queryRelatedInfos(i,UA(r),e)}async _queryRelatedInfos(e,i,r){const{relatedInfos:s,_sourceLayer:n}=this;s.clear();const a=(n==null?void 0:n.associatedLayer)!=null?await(n==null?void 0:n.associatedLayer.load(r)):n;if(!a||!e)return;const o=i.filter(d=>!!d.fieldName&&Ec(d.fieldName));if(!(o!=null&&o.length))return;i.forEach(d=>this._configureRelatedInfo(d,a));const l=await bHe({relatedInfos:s,layer:a},r);Object.keys(l).forEach(d=>{var m;const h=s.get(d.toString()),p=(m=l[d])==null?void 0:m.value;h&&p&&(h.layerInfo=p.data)});const u=await vHe({graphic:e,relatedInfos:s,layer:a},r);Object.keys(u).forEach(d=>{var h;dHe((h=u[d])==null?void 0:h.value,s.get(d.toString()))})}_configureRelatedInfo(e,i){const{relatedInfos:r}=this,s=W6(e.fieldName||"");if(!s)return;const{layerId:n,fieldName:a}=s;if(!n)return;const o=r.get(n.toString())||uHe(n,i);o&&(wHe({relatedInfo:o,fieldName:a,fieldInfo:e}),this.relatedInfos.set(n,o))}},Hy=Nm,Nm.interceptor=new UHe(nce,ace),Nm);c([f()],Ct.prototype,"_error",void 0),c([f()],Ct.prototype,"_graphicChangedTask",void 0),c([f()],Ct.prototype,"_evaluateExpressionAttributesTask",void 0),c([f()],Ct.prototype,"_associationVMAbortController",void 0),c([f({readOnly:!0})],Ct.prototype,"_effectivePopupTemplate",null),c([f({readOnly:!0})],Ct.prototype,"_fieldInfoMap",null),c([f({readOnly:!0})],Ct.prototype,"_sourceLayer",null),c([f()],Ct.prototype,"abilities",void 0),c([Xe("abilities")],Ct.prototype,"castAbilities",null),c([f({readOnly:!0})],Ct.prototype,"content",void 0),c([f({readOnly:!0})],Ct.prototype,"contentViewModels",void 0),c([f()],Ct.prototype,"description",void 0),c([f({type:Boolean})],Ct.prototype,"defaultPopupTemplateEnabled",void 0),c([f({readOnly:!0})],Ct.prototype,"isFeatureFromTable",null),c([f({readOnly:!0})],Ct.prototype,"state",null),c([f({readOnly:!0})],Ct.prototype,"formattedAttributes",void 0),c([f({type:mt,value:null})],Ct.prototype,"graphic",null),c([f({readOnly:!0})],Ct.prototype,"lastEditInfo",void 0),c([f({type:_e})],Ct.prototype,"location",void 0),c([f({readOnly:!0})],Ct.prototype,"relatedInfos",void 0),c([f({type:le})],Ct.prototype,"spatialReference",null),c([f()],Ct.prototype,"timeZone",null),c([f({readOnly:!0})],Ct.prototype,"title",void 0),c([f()],Ct.prototype,"map",null),c([f({readOnly:!0})],Ct.prototype,"waitingForContent",null),c([f()],Ct.prototype,"view",void 0),Ct=Hy=c([E("esri.widgets.Feature.FeatureViewModel")],Ct);const tl="esri-feature",Pi={base:tl,container:`${tl}__size-container`,title:`${tl}__title`,main:`${tl}__main-container`,contentNode:`${tl}__content-node`,contentNodeText:`${tl}__content-node--text`,contentElement:`${tl}__content-element`,text:`${tl}__text`,lastEditedInfo:`${tl}__last-edited-info`,loadingSpinnerContainer:`${tl}__loading-container`},HHe=t=>{let e=class extends t{constructor(){super(...arguments),this.renderNodeContent=i=>V8(i)&&!i.destroyed?M("div",{class:Pi.contentNode,key:i},i.render()):i instanceof HTMLElement?M("div",{afterCreate:this._attachToNode,bind:i,class:Pi.contentNode,key:i}):uRe(i)?M("div",{afterCreate:this._attachToNode,bind:i.domNode,class:Pi.contentNode,key:i}):null}_attachToNode(i){const r=this;i.appendChild(r)}};return e=c([E("esri.widgets.Feature.support.FeatureContentMixin")],e),e},TH={title:!0,content:!0,lastEditedInfo:!0};let gi=class extends HHe(It){constructor(e,i){super(e,i),this._contentWidgets=[],this.flowType="feature",this.flowItems=null,this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.visibleElements={...TH},this.viewModel=new Ct}initialize(){this.addHandles(Y(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentViewModels},()=>this._setupContentWidgets(),Le))}loadDependencies(){return Pn({notice:()=>R(()=>import("./index-D0mCuMNN.js").then(e=>e.i),__vite__mapDeps([84,15,14])),loader:()=>R(()=>Promise.resolve().then(()=>$3),void 0)})}destroy(){this._destroyContentWidgets()}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get isTable(){return this.viewModel.isFeatureFromTable}get icon(){return"polygon"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get location(){return this.viewModel.location}set location(e){this.viewModel.location=e}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(e){this.viewModel.spatialReference=e}get timeZone(){return this.viewModel.timeZone}set timeZone(e){this.viewModel.timeZone=e}get title(){return this.viewModel.title}castVisibleElements(e){return{...TH,...e}}get map(){return this.viewModel.map}set map(e){this.viewModel.map=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}setActiveMedia(e,i){return this.viewModel.setActiveMedia(e,i)}nextMedia(e){return this.viewModel.nextMedia(e)}previousMedia(e){return this.viewModel.previousMedia(e)}render(){const{state:e}=this.viewModel,i=M("div",{class:Pi.container,key:"container"},this._renderTitle(),e==="error"?this._renderError():e==="loading"?this._renderLoading():this._renderContentContainer());return M("div",{class:this.classes(Pi.base,Ce.widget)},i)}_renderError(){const{messagesCommon:e,messages:i,visibleElements:r}=this;return M("calcite-notice",{icon:"exclamation-mark-circle",kind:"danger",open:!0,scale:"s"},r.title?M("div",{key:"error-title",slot:"title"},e.errorMessage):null,M("div",{key:"error-message",slot:"message"},i.loadingError))}_renderLoading(){return M("div",{class:Pi.loadingSpinnerContainer,key:"loading-container"},M("calcite-loader",{inline:!0,label:""}))}_renderContentContainer(){const{visibleElements:e}=this;return e.content?M("div",{class:Pi.main},[this._renderContent(),this._renderLastEditInfo()]):null}_renderTitle(){const{visibleElements:e,title:i}=this;return e.title?M(Im,{class:Pi.title,innerHTML:i,level:this.headingLevel}):null}_renderContent(){const e=this.viewModel.content,i="content";if(!e)return null;if(Array.isArray(e))return e.length?M("div",{class:Pi.contentNode,key:`${i}-content-elements`},e.map(this._renderContentElement,this)):null;if(typeof e=="string"){const r=this._contentWidgets[0];return!r||r.destroyed?null:M("div",{class:this.classes(Pi.contentNode,Pi.contentNodeText),key:`${i}-content`},r.render())}return this.renderNodeContent(e)}_renderContentElement(e,i){var s;const{visibleElements:r}=this;if(typeof r.content!="boolean"&&!((s=r.content)!=null&&s[e.type]))return null;switch(e.type){case"attachments":return this._renderAttachments(i);case"custom":return this._renderCustom(e,i);case"fields":return this._renderFields(i);case"media":return this._renderMedia(i);case"text":return this._renderText(e,i);case"expression":return this._renderExpression(i);case"relationship":return this._renderRelationship(i);case"utility-network-associations":return this._renderAssociation(i);default:return null}}_renderAttachments(e){const i=this._contentWidgets[e];if(!i||i.destroyed)return null;const{state:r,attachmentInfos:s}=i.viewModel;return r==="loading"||s.length>0?M("div",{class:this.classes(Pi.contentElement),key:this._buildKey("attachments-element",e)},i.render()):null}_renderRelationship(e){const i=this._contentWidgets[e];return i&&!i.destroyed&&this.flowItems?M("div",{class:Pi.contentElement,key:this._buildKey("relationship-element",e)},i.render()):null}_renderAssociation(e){const i=this._contentWidgets[e];return i&&!i.destroyed&&this.flowItems?M("div",{class:Pi.contentElement,key:this._buildKey("utility-network-association-element",e)},i.render()):null}_renderExpression(e){const i=this._contentWidgets[e];return i&&!i.destroyed&&i.viewModel.contentElement?M("div",{class:Pi.contentElement,key:this._buildKey("expression-element",e)},i.render()):null}_renderCustom(e,i){const{creator:r}=e,s=this._contentWidgets[i];return!s||s.destroyed?null:r?M("div",{class:Pi.contentElement,key:this._buildKey("custom-element",i)},s.render()):null}_renderFields(e){const i=this._contentWidgets[e];return!i||i.destroyed?null:M("div",{class:Pi.contentElement,key:this._buildKey("fields-element",e)},i.render())}_renderMedia(e){const i=this._contentWidgets[e];return!i||i.destroyed?null:M("div",{class:Pi.contentElement,key:this._buildKey("media-element",e)},i.render())}_renderLastEditInfo(){const{visibleElements:e,messages:i}=this,{lastEditInfo:r}=this.viewModel;if(!r||!e.lastEditedInfo)return null;const{date:s,user:n}=r,a=r.type==="edit"?n?i.lastEditedByUser:i.lastEdited:n?i.lastCreatedByUser:i.lastCreated,o=dd(a,{date:s,user:n});return M("div",{class:this.classes(Pi.lastEditedInfo,Pi.contentElement),key:"edit-info-element"},o)}_renderText(e,i){const r=e.text,s=this._contentWidgets[i];return!s||s.destroyed?null:r?M("div",{class:this.classes(Pi.contentElement,Pi.text),key:this._buildKey("text-element",i)},s.render()):null}_buildKey(e,...i){var r,s;return`${e}__${((s=(r=this.viewModel)==null?void 0:r.graphic)==null?void 0:s.uid)||"0"}-${i.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:i,flowItems:r,viewModel:s}=this,n=s==null?void 0:s.content,{contentViewModels:a}=s;if(Array.isArray(n))n.forEach((o,l)=>{if(o.type==="attachments"&&(this._contentWidgets[l]=new wl({displayType:o.displayType,headingLevel:i.title&&e<6?e+1:e,viewModel:a[l]})),o.type==="fields"&&(this._contentWidgets[l]=new ka({viewModel:a[l]})),o.type==="media"&&(this._contentWidgets[l]=new ls({viewModel:a[l]})),o.type==="text"&&(this._contentWidgets[l]=new Zu({viewModel:a[l]})),o.type==="custom"&&(this._contentWidgets[l]=new Zu({viewModel:a[l]})),o.type==="expression"&&(this._contentWidgets[l]=new Z6({viewModel:a[l]})),o.type==="relationship"){const u=new Ir({flowItems:r,featureVisibleElements:i,viewModel:a[l]});this._contentWidgets[l]=u}if(o.type==="utility-network-associations"){const u=async h=>{const{viewModel:p,listType:m,title:g}=h;if(!r)return;p.activeAssociationType=m;const{default:b}=await R(()=>import("./FeatureUtilityNetworkAssociationList-Bu6IDiOE.js"),[]),v=new b({viewModel:p,parentFeatureViewModel:s,listType:m,title:g,featureVisibleElements:i,description:s.title,flowItems:r});r.push(v)},d=new Ps({flowItems:r,onSelectAssociationType:u,parentFeatureViewModel:s,featureVisibleElements:i,viewModel:a[l]});this._contentWidgets[l]=d}},this);else{const o=a[0];o&&!o.destroyed&&(this._contentWidgets[0]=new Zu({viewModel:o}))}this.scheduleRender()}};c([f()],gi.prototype,"flowType",void 0),c([f()],gi.prototype,"graphic",null),c([f()],gi.prototype,"defaultPopupTemplateEnabled",null),c([f()],gi.prototype,"flowItems",void 0),c([f()],gi.prototype,"headingLevel",void 0),c([f({readOnly:!0})],gi.prototype,"isTable",null),c([f()],gi.prototype,"icon",null),c([f()],gi.prototype,"label",null),c([f()],gi.prototype,"location",null),c([f(),xi("esri/widgets/Feature/t9n/Feature")],gi.prototype,"messages",void 0),c([f(),xi("esri/t9n/common")],gi.prototype,"messagesCommon",void 0),c([f()],gi.prototype,"spatialReference",null),c([f()],gi.prototype,"timeZone",null),c([f({readOnly:!0})],gi.prototype,"title",null),c([f()],gi.prototype,"visibleElements",void 0),c([Xe("visibleElements")],gi.prototype,"castVisibleElements",null),c([f()],gi.prototype,"map",null),c([f()],gi.prototype,"view",null),c([f({type:Ct})],gi.prototype,"viewModel",void 0),gi=c([E("esri.widgets.Feature")],gi);const WHe=Object.freeze(Object.defineProperty({__proto__:null,get default(){return gi}},Symbol.toStringTag,{value:"Module"}));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.5 */const ZHe=fa`@layer{arcgis-feature{display:block}}`,JHe=OS(gi);var oh;let YHe=(oh=class extends Ts{constructor(){super(...arguments),this.widget=JHe(this),this.viewModel=this.widget.viewModel,this.autoDestroyDisabled=!1,this.defaultPopupTemplateEnabled=this.widget.defaultPopupTemplateEnabled,this.graphic=this.widget.graphic,this.headingLevel=this.widget.headingLevel,this.hideContentAttachments=this.widget.visibleElements.content.attachments,this.hideContentExpression=this.widget.visibleElements.content.expression,this.hideContentFields=this.widget.visibleElements.content.fields,this.hideContentMedia=this.widget.visibleElements.content.media,this.hideContentText=this.widget.visibleElements.content.text,this.hideLastEditInfo=this.widget.visibleElements.lastEditedInfo,this.hideLastEditedInfo=this.widget.visibleElements.lastEditedInfo,this.hideTitle=this.widget.visibleElements.title,this.icon=this.widget.icon,this.label=this.widget.label,this.location=this.viewModel.location,this.map=this.widget.map,this.position="bottom-left",this.spatialReference=this.widget.spatialReference,this.state=this.viewModel.state,this.timeZone=this.widget.timeZone,this.arcgisPropertyChange=d0()("state"),this.arcgisReady=Bs()}async destroy(){await this.manager.destroy()}async nextMedia(e){var i;(i=this.widget)==null||i.nextMedia(e)}async previousMedia(e){var i;(i=this.widget)==null||i.previousMedia(e)}async setActiveMedia(e,i){var r;(r=this.widget)==null||r.setActiveMedia(e,i)}},oh.properties={autoDestroyDisabled:5,defaultPopupTemplateEnabled:5,graphic:0,headingLevel:9,hideContentAttachments:5,hideContentExpression:5,hideContentFields:5,hideContentMedia:5,hideContentText:5,hideLastEditInfo:5,hideLastEditedInfo:5,hideTitle:5,icon:1,label:1,location:0,map:0,position:1,referenceElement:1,spatialReference:0,state:3,timeZone:1},oh.shadowRootOptions=Wo,oh.styles=ZHe,oh);gd("arcgis-feature",YHe);let Mo=class extends Gre(Ene(si)){constructor(e){super(e),this.elevationInfo=null,this.graphics=new _m,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,i){return super.on(e,i)}graphicChanged(e){this.emit("graphic-update",e)}};c([f({type:$l})],Mo.prototype,"elevationInfo",void 0),c([f(wE(_m,"graphics"))],Mo.prototype,"graphics",void 0),c([f({type:["show","hide"]})],Mo.prototype,"listMode",void 0),c([f()],Mo.prototype,"screenSizePerspectiveEnabled",void 0),c([f({readOnly:!0})],Mo.prototype,"type",void 0),c([f({constructOnly:!0})],Mo.prototype,"internal",void 0),Mo=c([E("esri.layers.GraphicsLayer")],Mo);var HA;let Wy=HA=class extends B{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new HA({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};c([f({type:String,json:{write:{isRequired:!0}}})],Wy.prototype,"field",void 0),c([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],Wy.prototype,"minValue",void 0),c([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],Wy.prototype,"maxValue",void 0),Wy=HA=c([E("esri.renderers.support.pointCloud.ColorModulation")],Wy);const XHe=Wy,IT=new Ie({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let X6=class extends B{};c([f({type:IT.apiValues,readOnly:!0,nonNullable:!0,json:{type:IT.jsonValues,read:!1,write:{writer:IT.write,isRequired:!0}}})],X6.prototype,"type",void 0),X6=c([E("esri.renderers.support.pointCloud.PointSizeAlgorithm")],X6);const rF=X6;var WA;let Zy=WA=class extends rF{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new WA({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};c([oe({pointCloudFixedSizeAlgorithm:"fixed-size"})],Zy.prototype,"type",void 0),c([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],Zy.prototype,"size",void 0),c([f({type:Boolean,json:{write:!0}})],Zy.prototype,"useRealWorldSymbolSizes",void 0),Zy=WA=c([E("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],Zy);const QHe=Zy;var ZA;let z2=ZA=class extends rF{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new ZA({scaleFactor:this.scaleFactor})}};c([oe({pointCloudSplatAlgorithm:"splat"})],z2.prototype,"type",void 0),c([f({type:Number,value:1,nonNullable:!0,json:{write:{isRequired:!0}}})],z2.prototype,"scaleFactor",void 0),z2=ZA=c([E("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],z2);const KHe=z2,eWe={key:"type",base:rF,typeMap:{"fixed-size":QHe,splat:KHe}},ET=ji()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let gn=class extends B{constructor(e){super(e),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:z(this.pointSizeAlgorithm),colorModulation:z(this.colorModulation),pointsPerInch:z(this.pointsPerInch)}}};c([f({type:ET.apiValues,readOnly:!0,nonNullable:!0,json:{type:ET.jsonValues,read:!1,write:{writer:ET.write,isRequired:!0}}})],gn.prototype,"type",void 0),c([f({types:eWe,json:{write:!0}})],gn.prototype,"pointSizeAlgorithm",void 0),c([f({type:XHe,json:{write:!0}})],gn.prototype,"colorModulation",void 0),c([f({json:{write:!0},nonNullable:!0,type:Number})],gn.prototype,"pointsPerInch",void 0),gn=c([E("esri.renderers.PointCloudRenderer")],gn),function(t){t.fieldTransformTypeKebabDict=new Ie({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"})}(gn||(gn={}));var JA;let V2=JA=class extends gn{constructor(t){super(t),this.type="point-cloud-rgb",this.field=null}clone(){return new JA({...this.cloneProperties(),field:z(this.field)})}};c([oe({pointCloudRGBRenderer:"point-cloud-rgb"})],V2.prototype,"type",void 0),c([f({type:String,json:{write:{isRequired:!0}}})],V2.prototype,"field",void 0),V2=JA=c([E("esri.renderers.PointCloudRGBRenderer")],V2);const Bdt=V2;var YA;let Wh=YA=class extends gn{constructor(t){super(t),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new YA({...this.cloneProperties(),field:z(this.field),fieldTransformType:z(this.fieldTransformType),stops:z(this.stops),legendOptions:z(this.legendOptions)})}};c([oe({pointCloudStretchRenderer:"point-cloud-stretch"})],Wh.prototype,"type",void 0),c([f({json:{write:{isRequired:!0}},type:String})],Wh.prototype,"field",void 0),c([f({type:kS,json:{write:!0}})],Wh.prototype,"legendOptions",void 0),c([f({type:gn.fieldTransformTypeKebabDict.apiValues,json:{type:gn.fieldTransformTypeKebabDict.jsonValues,read:gn.fieldTransformTypeKebabDict.read,write:gn.fieldTransformTypeKebabDict.write}})],Wh.prototype,"fieldTransformType",void 0),c([f({type:[VR],json:{write:{isRequired:!0}}})],Wh.prototype,"stops",void 0),Wh=YA=c([E("esri.renderers.PointCloudStretchRenderer")],Wh);const IH=new Ie({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),EH=new Ie({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let xo=class extends B{constructor(e){super(e),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(e){this.classificationMethod==="standard-deviation"&&this._set("standardDeviationInterval",e)}set definedInterval(e){this.classificationMethod==="defined-interval"&&this._set("definedInterval",e)}};c([oe({classBreaksDef:"class-breaks-definition"})],xo.prototype,"type",void 0),c([f({json:{write:!0}})],xo.prototype,"breakCount",void 0),c([f({json:{write:!0}})],xo.prototype,"classificationField",void 0),c([f({type:String,json:{read:IH.read,write:IH.write}})],xo.prototype,"classificationMethod",void 0),c([f({json:{write:!0}})],xo.prototype,"normalizationField",void 0),c([f({json:{read:EH.read,write:EH.write}})],xo.prototype,"normalizationType",void 0),c([f({value:null,json:{write:!0}})],xo.prototype,"standardDeviationInterval",null),c([f({value:null,json:{write:!0}})],xo.prototype,"definedInterval",null),xo=c([E("esri.rest.support.ClassBreaksDefinition")],xo);const tWe=()=>W.getLogger("esri.rest.support.generateRendererUtils");function Z0(t,e){return Number(t.toFixed(e))}function iWe(t){const e=bce(t),i=[],r=e.uniqueValues.length;for(let s=0;s<r;s++){const n=e.uniqueValues[s],a=e.valueFrequency[s],o=n.toString();i.push({value:n,count:a,label:o})}return{uniqueValues:i}}function gce(t,e){const{normalizationTotal:i}=t;return{classBreaks:rWe(t,e),normalizationTotal:i}}function rWe(t,e){const i=t.definition,{classificationMethod:r,normalizationType:s,definedInterval:n}=i,a=i.breakCount??1,o=[];let l=t.values;if(l.length===0)return[];l=l.sort((h,p)=>h-p);const[u,d]=e??[l.at(0),l.at(-1)];if(r==="equal-interval")if(l.length>=a){const h=(d-u)/a;let p=u;for(let m=1;m<a;m++){const g=Z0(u+m*h,6);o.push({minValue:p,maxValue:g,label:en(p,g,s)}),p=g}o.push({minValue:p,maxValue:d,label:en(p,d,s)})}else l.forEach(h=>{o.push({minValue:h,maxValue:h,label:en(h,h,s)})});else if(r==="natural-breaks"){const h=bce(l),p=t.valueFrequency||h.valueFrequency,m=sWe(h.uniqueValues,p,a);let g=u;for(let b=1;b<a;b++)if(h.uniqueValues.length>b){const v=Z0(h.uniqueValues[m[b]],6);o.push({minValue:g,maxValue:v,label:en(g,v,s)}),g=v}o.push({minValue:g,maxValue:d,label:en(g,d,s)})}else if(r==="quantile")if(l.length>=a&&u!==d){let h=u,p=Math.ceil(l.length/a),m=0;for(let g=1;g<a;g++){let b=p+m-1;b>l.length&&(b=l.length-1),b<0&&(b=0),o.push({minValue:h,maxValue:l[b],label:en(h,l[b],s)}),h=l[b],m+=p,p=Math.ceil((l.length-m)/(a-g))}o.push({minValue:h,maxValue:d,label:en(h,d,s)})}else{let h=-1;for(let p=0;p<l.length;p++){const m=l[p];m!==h&&(h=m,o.push({minValue:h,maxValue:m,label:en(h,m,s)}),h=m)}}else if(r==="standard-deviation"){const h=oWe(l),p=lWe(l,h);if(p===0)o.push({minValue:l[0],maxValue:l[0],label:en(l[0],l[0],s)});else{const m=aWe(u,d,a,h,p)*p;let g=0,b=u;for(let w=a;w>=1;w--){const _=Z0(h-(w-.5)*m,6);o.push({minValue:b,maxValue:_,label:en(b,_,s)}),b=_,g++}let v=Z0(h+.5*m,6);o.push({minValue:b,maxValue:v,label:en(b,v,s)}),b=v,g++;for(let w=1;w<=a;w++)v=g===2*a?d:Z0(h+(w+.5)*m,6),o.push({minValue:b,maxValue:v,label:en(b,v,s)}),b=v,g++}}else if(r==="defined-interval"){if(!n)return o;const[h,p]=e??[l.at(0),l.at(-1)],m=Math.ceil((p-h)/n);let g=h;for(let b=1;b<m;b++){const v=Z0(h+b*n,6);o.push({minValue:g,maxValue:v,label:en(g,v,s)}),g=v}o.push({minValue:g,maxValue:p,label:en(g,p,s)})}return o}function en(t,e,i){let r=null;return r=t===e?i&&i==="percent-of-total"?t+"%":t.toString():i&&i==="percent-of-total"?t+"% - "+e+"%":t+" - "+e,r}function bce(t){const e=[],i=[];let r=Number.MIN_VALUE,s=1,n=-1;for(let a=0;a<t.length;a++){const o=t[a];o===r?(s++,i[n]=s):o!==null&&(e.push(o),r=o,s=1,i.push(s),n++)}return{uniqueValues:e,valueFrequency:i}}function sWe(t,e,i){const r=t.length,s=[];i>r&&(i=r);for(let a=0;a<i;a++)s.push(Math.round(a*r/i-1));s.push(r-1);let n=MH(s,t,e,i);return nWe(n.mean,n.sdcm,s,t,e,i)&&(n=MH(s,t,e,i)),s}function MH(t,e,i,r){let s=[],n=[],a=[],o=0;const l=[],u=[];for(let m=0;m<r;m++){const g=bg(m,t,e,i);l.push(g.sbMean),u.push(g.sbSdcm),o+=u[m]}let d,h=o,p=!0;for(;p||o<h;){p=!1,s=[];for(let m=0;m<r;m++)s.push(t[m]);for(let m=0;m<r;m++)for(let g=t[m]+1;g<=t[m+1];g++)if(d=e[g],m>0&&g!==t[m+1]&&Math.abs(d-l[m])>Math.abs(d-l[m-1]))t[m]=g;else if(m<r-1&&t[m]!==g-1&&Math.abs(d-l[m])>Math.abs(d-l[m+1])){t[m+1]=g-1;break}h=o,o=0,n=[],a=[];for(let m=0;m<r;m++){n.push(l[m]),a.push(u[m]);const g=bg(m,t,e,i);l[m]=g.sbMean,u[m]=g.sbSdcm,o+=u[m]}}if(o>h){for(let m=0;m<r;m++)t[m]=s[m],l[m]=n[m],u[m]=a[m];o=h}return{mean:l,sdcm:u}}function nWe(t,e,i,r,s,n){let a=0,o=0,l=0,u=0,d=!0;for(let h=0;h<2&&d;h++){h===0&&(d=!1);for(let p=0;p<n-1;p++)for(;i[p+1]+1!==i[p+2];){i[p+1]=i[p+1]+1;const m=bg(p,i,r,s);l=m.sbMean,a=m.sbSdcm;const g=bg(p+1,i,r,s);if(u=g.sbMean,o=g.sbSdcm,!(a+o<e[p]+e[p+1])){i[p+1]=i[p+1]-1;break}e[p]=a,e[p+1]=o,t[p]=l,t[p+1]=u,d=!0}for(let p=n-1;p>0;p--)for(;i[p]!==i[p-1]+1;){i[p]=i[p]-1;const m=bg(p-1,i,r,s);l=m.sbMean,a=m.sbSdcm;const g=bg(p,i,r,s);if(u=g.sbMean,o=g.sbSdcm,!(a+o<e[p-1]+e[p])){i[p]=i[p]+1;break}e[p-1]=a,e[p]=o,t[p-1]=l,t[p]=u,d=!0}}return d}function aWe(t,e,i,r,s){let n=Math.max(r-t,e-r)/s/i;return n=n>=1?1:n>=.5?.5:.25,n}function oWe(t){let e=0;for(let i=0;i<t.length;i++)e+=t[i];return e/=t.length,e}function lWe(t,e){let i=0;for(let r=0;r<t.length;r++){const s=t[r];i+=(s-e)*(s-e)}return i/=t.length,Math.sqrt(i)}function bg(t,e,i,r){let s=0,n=0;for(let l=e[t]+1;l<=e[t+1];l++){const u=r[l];s+=i[l]*u,n+=u}n<=0&&tWe().warn("Exception in Natural Breaks calculation");const a=s/n;let o=0;for(let l=e[t]+1;l<=e[t+1];l++)o+=r[l]*(i[l]-a)**2;return{sbMean:a,sbSdcm:o}}const cWe="<Null>",uWe="equal-interval",dWe=1,fWe=5,hWe=10,pWe=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,mWe=new Set(["esriFieldTypeDate","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeOID","esriFieldTypeBigInteger"]),yWe=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),vce=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function Vo(t){return t==null||typeof t=="string"&&!t?cWe:t}function sF(t){const e=t.normalizationField!=null||t.normalizationType!=null,i=t.minValue!=null||t.maxValue!=null,r=!!t.sqlExpression&&t.supportsSQLExpression;return!e&&!i&&!r}function gWe(t){var a,o;const{outStatisticTypes:e}=t,i=t.returnDistinct?[...new Set(t.values)]:t.values,r=i.filter(l=>l!=null).sort(),s=r.length,n={count:s,min:r[0],max:r[s-1]};return t.supportsNullCount&&(n.nullcount=i.length-s),!t.percentileParams||(a=e==null?void 0:e.include)!=null&&a.length&&!e.include.includes("median")||(o=e==null?void 0:e.exclude)!=null&&o.length&&e.exclude.includes("median")||(n.median=_ce(i,t.percentileParams)),n}function wce(t){var b,v;const{values:e,useSampleStdDev:i,supportsNullCount:r,outStatisticTypes:s}=t;let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=null,l=null,u=null,d=null,h=0;const p=t.minValue==null?-1/0:t.minValue,m=t.maxValue==null?1/0:t.maxValue;for(const w of e)Number.isFinite(w)?w>=p&&w<=m&&(o=o===null?w:o+w,n=Math.min(n,w),a=Math.max(a,w),h++):typeof w=="string"&&h++;if(h&&o!=null){l=o/h;let w=0;for(const _ of e)Number.isFinite(_)&&_>=p&&_<=m&&(w+=(_-l)**2);d=i?h>1?w/(h-1):0:h>0?w/h:0,u=Math.sqrt(d)}else n=null,a=null;const g={avg:l,count:h,max:a,min:n,stddev:u,sum:o,variance:d};return r&&(g.nullcount=e.length-h),!t.percentileParams||(b=s==null?void 0:s.include)!=null&&b.length&&!s.include.includes("median")||(v=s==null?void 0:s.exclude)!=null&&v.length&&s.exclude.includes("median")||(g.median=_ce(e,t.percentileParams)),g}function _ce(t,e){const{fieldType:i,value:r,orderBy:s,isDiscrete:n}=e,a=bWe(i,s==="desc");if((t=[...t].filter(m=>m!=null).sort((m,g)=>a(m,g))).length===0)return null;if(r<=0)return t[0];if(r>=1)return t[t.length-1];const o=(t.length-1)*r,l=Math.floor(o),u=l+1,d=o%1,h=t[l],p=t[u];return u>=t.length||n||typeof h=="string"||typeof p=="string"?h:h*(1-d)+p*d}function bWe(t,e){if(t){if(mWe.has(t))return CH(e);if(yWe.has(t))return MT(e,!1);if(t==="esriFieldTypeTimestampOffset")return _We(e);const a=MT(e,!0);if(t==="esriFieldTypeString")return a;if(t==="esriFieldTypeGUID"||t==="esriFieldTypeGlobalID")return(o,l)=>a(kH(o),kH(l))}const i=e?1:-1,r=CH(e),s=MT(e,!0),n=Sce(e);return(a,o)=>typeof a=="number"&&typeof o=="number"?r(a,o):typeof a=="string"&&typeof o=="string"?s(a,o):n(a,o)??i}const JS=(t,e)=>t==null?e==null?0:1:e==null?-1:null,YS=(t,e)=>t==null?e==null?0:-1:e==null?1:null;function Sce(t){return t?JS:YS}const vWe=(t,e)=>YS(t,e)??(t===e?0:new Date(t).getTime()-new Date(e).getTime()),wWe=(t,e)=>JS(t,e)??(t===e?0:new Date(e).getTime()-new Date(t).getTime());function _We(t){return t?wWe:vWe}const SWe=(t,e)=>YS(t,e)??(t===e?0:t<e?-1:1),xWe=(t,e)=>JS(t,e)??(t===e?0:t<e?1:-1);function MT(t,e){if(!e)return t?xWe:SWe;const i=Sce(t);return t?(r,s)=>{const n=i(r,s);return n??((r=r.toUpperCase())>(s=s.toUpperCase())?-1:r<s?1:0)}:(r,s)=>{const n=i(r,s);return n??((r=r.toUpperCase())<(s=s.toUpperCase())?-1:r>s?1:0)}}const $We=(t,e)=>JS(t,e)??e-t,TWe=(t,e)=>YS(t,e)??t-e;function CH(t){return t?$We:TWe}function kH(t){return t.slice(24,36)+t.slice(19,23)+t.slice(16,18)+t.slice(14,16)+t.slice(11,13)+t.slice(9,11)+t.slice(6,8)+t.slice(4,6)+t.slice(2,4)+t.slice(0,2)}function T_(t,e,i){var s,n;let r;for(r in t)(s=e==null?void 0:e.include)!=null&&s.length&&!e.include.includes(r)||(n=e==null?void 0:e.exclude)!=null&&n.length&&e.exclude.includes(r)?delete t[r]:vce.includes(r)&&(Number.isFinite(t[r])||(t[r]=null));return i&&["avg","stddev","variance"].forEach(a=>{t[a]!=null&&(t[a]=Math.ceil(t[a]??0))}),t}function IWe(t){const e={};for(let i of t)(i==null||typeof i=="string"&&i.trim()==="")&&(i=null),e[i]==null?e[i]={count:1,data:i}:e[i].count++;return{count:e}}function CT(t){return(t==null?void 0:t.type)!=="coded-value"?[]:t.codedValues.map(e=>e.code)}function I_(t,e,i,r){const s=t.count,n=[];if(i&&e){const a=[],o=CT(e[0]);for(const l of o)if(e[1]){const u=CT(e[1]);for(const d of u)if(e[2]){const h=CT(e[2]);for(const p of h)a.push(`${Vo(l)}${r}${Vo(d)}${r}${Vo(p)}`)}else a.push(`${Vo(l)}${r}${Vo(d)}`)}else a.push(l);for(const l of a)s.hasOwnProperty(l)||(s[l]={data:l,count:0})}for(const a in s){const o=s[a];n.push({value:o.data,count:o.count,label:o.label})}return{uniqueValueInfos:n}}function EWe(t,e,i,r){let s=null;switch(e){case"log":t!==0&&(s=Math.log(t)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(r)&&r!==0&&(s=t/r*100);break;case"field":Number.isFinite(i)&&i!==0&&(s=t/i);break;case"natural-log":t>0&&(s=Math.log(t));break;case"square-root":t>0&&(s=t**.5)}return s}function xce(t,e,i){const r=nF({field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,definedInterval:e.definedInterval,breakCount:e.numClasses||fWe});return t=MWe(t,e.minValue,e.maxValue),gce({definition:r,values:t,normalizationTotal:e.normalizationTotal},i)}function MWe(t,e,i){const r=e??-1/0,s=i??1/0;return t.filter(n=>Number.isFinite(n)&&n>=r&&n<=s)}function nF(t){const{breakCount:e,field:i,normalizationField:r,normalizationType:s}=t,n=t.classificationMethod||uWe,a=n==="standard-deviation"?t.standardDeviationInterval||dWe:void 0,o=n==="defined-interval"?t.definedInterval:void 0;return new xo({breakCount:e,classificationField:i,classificationMethod:n,normalizationField:s==="field"?r:void 0,normalizationType:s,standardDeviationInterval:a,definedInterval:o})}function aF(t,e){var l,u;let i=t.classBreaks;const r=i.length,s=(l=i[0])==null?void 0:l.minValue,n=(u=i[r-1])==null?void 0:u.maxValue,a=e==="standard-deviation",o=pWe;return i=i.map(d=>{const h=d.label,p={minValue:d.minValue,maxValue:d.maxValue,label:h};if(a&&h){const m=h.match(o),g=(m==null?void 0:m.map(b=>+b.trim()))??[];g.length===2?(p.minStdDev=g[0],p.maxStdDev=g[1],g[0]<0&&g[1]>0&&(p.hasAvg=!0)):g.length===1&&(h.includes("<")?(p.minStdDev=null,p.maxStdDev=g[0]):h.includes(">")&&(p.minStdDev=g[0],p.maxStdDev=null))}return p}),{minValue:s,maxValue:n,classBreakInfos:i,normalizationTotal:t.normalizationTotal}}function CWe(t,e){const i=kWe(t,e);if(i.min==null&&i.max==null)return{bins:[],minValue:i.min,maxValue:i.max,normalizationTotal:e.normalizationTotal};const r=i.intervals,s=i.min??0,n=i.max??0,a=r.map((o,l)=>({minValue:r[l][0],maxValue:r[l][1],count:0}));for(const o of t)if(o!=null&&o>=s&&o<=n){const l=AWe(r,o);l>-1&&a[l].count++}return{bins:a,minValue:s,maxValue:n,normalizationTotal:e.normalizationTotal}}function kWe(t,e,i=!1){var v,w;const{field:r,classificationMethod:s,standardDeviationInterval:n,definedInterval:a,normalizationType:o,normalizationField:l,normalizationTotal:u,minValue:d,maxValue:h}=e,p=e.numBins||hWe;let m=null,g=null,b=null;if((!s||s==="equal-interval")&&!o){if(d!=null&&h!=null)m=d,g=h;else{const _=wce({values:t,minValue:d,maxValue:h,useSampleStdDev:!o,supportsNullCount:sF({normalizationType:o,normalizationField:l,minValue:d,maxValue:h})});m=_.min??null,g=_.max??null}b=XS(m??0,g??0,p)}else{const{classBreaks:_}=xce(t,{field:r,normalizationType:o,normalizationField:l,normalizationTotal:u,classificationMethod:s,standardDeviationInterval:n,definedInterval:a,minValue:d,maxValue:h,numClasses:p},d!=null&&h!=null?[d,h]:void 0);m=(v=_[0])==null?void 0:v.minValue,g=(w=_[_.length-1])==null?void 0:w.maxValue,b=_.map(S=>[S.minValue,S.maxValue])}if(i&&b.length){const _=b.at(-1)[1];b.push([_,_])}return{min:m,max:g,intervals:b}}function AWe(t,e){let i=-1;for(let r=t.length-1;r>=0;r--)if(e>=t[r][0]){i=r;break}return i}function XS(t,e,i){const r=(e-t)/i,s=[];let n,a=t;for(let o=1;o<=i;o++)n=a+r,n=Number(n.toFixed(16)),s.push([a,o===i?e:n]),a=n;return s}let jd=null;const PWe=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function LWe(t,e,i){return t.x<0?t.x+=e:t.x>i&&(t.x-=e),t}function RWe(t,e,i,r){const s=uY(i)?xs(i):null,n=s?Math.round((s.valid[1]-s.valid[0])/e.scale[0]):null;return t.map(a=>{const o=new _e(a.geometry);return jVe(e,o,o),a.geometry=s?LWe(o,n??0,r[0]):o,a})}function OWe(t,e=18,i,r,s){const n=new Float64Array(r*s);e=Math.round(et(e));let a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const l=jAe(i);for(const{geometry:u,attributes:d}of t){const{x:h,y:p}=u,m=Math.max(0,h-e),g=Math.max(0,p-e),b=Math.min(s,p+e),v=Math.min(r,h+e),w=+l(d);for(let _=g;_<b;_++)for(let S=m;S<v;S++){const T=_*r+S,C=VAe(S-h,_-p,e)*w,A=n[T]+=C;a=Math.min(a,A),o=Math.max(o,A)}}return{min:a,max:o}}function FWe(t){const e=PWe.exec(t);if(!e)return null;const{hh:i,mm:r,ss:s,ms:n}=e.groups;return Number(i)*Rg.hours+Number(r)*Rg.minutes+Number(s)*Rg.seconds+Number(n||0)}async function Kb(t,e,i=!0){if(!e)return[];const{field:r,field2:s,field3:n,fieldDelimiter:a,fieldInfos:o,timeZone:l}=t,u=r&&(o==null?void 0:o.find(A=>A.name.toLowerCase()===r.toLowerCase())),d=!!u&&$s(u),h=!!u&&Js(u),p=t.valueExpression,m=t.normalizationType,g=t.normalizationField,b=t.normalizationTotal,v=[],w=t.viewInfoParams;let _=null,S=null;if(p){if(!jd){const{arcadeUtils:A}=await Qa();jd=A}jd.hasGeometryOperations(p)&&await jd.enableGeometryOperations(),_=jd.createFunction(p),S=w?jd.getViewInfo({viewingMode:w.viewingMode,scale:w.scale,spatialReference:new le(w.spatialReference)}):null}const T=t.fieldInfos,C=!(e[0]&&"declaredClass"in e[0]&&e[0].declaredClass==="esri.Graphic")&&T?{fields:T}:null;return e.forEach(A=>{const O=A.attributes;let L;if(p){const F=C?{...A,layer:C}:A,D=jd.createExecContext(F,S,l);L=jd.executeFunction(_,D)}else O&&(L=O[r],s?(L=`${Vo(L)}${a}${Vo(O[s])}`,n&&(L=`${L}${a}${Vo(O[n])}`)):typeof L=="string"&&i&&(h?L=L?new Date(L).getTime():null:d&&(L=L?FWe(L):null)));if(m&&typeof L=="number"&&isFinite(L)){const F=O&&parseFloat(O[g]);L=EWe(L,m,F,b)}v.push(L)}),v}function QS(t){const e=t.field,i=t.normalizationType,r=t.normalizationField;let s;return i==="field"?s="(NOT "+r+" = 0)":i!=="log"&&i!=="natural-log"&&i!=="square-root"||(s=`(${e} > 0)`),s}function l7(t,e,i){const r=e!=null?t+" >= "+e:"",s=i!=null?t+" <= "+i:"";let n="";return n=r&&s?Jr(r,s):r||s,n?"("+n+")":""}function NWe(t,e,i,r){let s;return e?e.name!==t.objectIdField&&r.includes(e.type)||(s=new P(i,"'field' should be one of these types: "+r.join(","))):s=new P(i,"'field' is not defined in the layer schema"),s}function Jr(t,e){let i=t??"";return e!=null&&e&&(i=i?"("+i+") AND ("+e+")":e),i}function DWe(t,e){if(t&&t.spatialRelationship!=="intersects")return new P(e,"Only 'intersects' spatialRelationship is supported for featureFilter")}function zWe(t,e,i){const r=VWe({layer:t,fields:e});if(r.length)return new P(i,"Unknown fields: "+r.join(", ")+". You can only use fields defined in the layer schema");const s=jWe({layer:t,fields:e});return s.length?new P(i,"Unsupported fields: "+s.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}function VWe(t){const e=t.layer;return t.fields.filter(i=>!e.getField(i))}function jWe(t){const e=t.layer;return t.fields.filter(i=>{const r=e.getFieldUsageInfo(i);return!r||!r.supportsStatistics})}function A1(t,e){if(!t.view)throw new P(`${e}:missing-parameters`,"'view' parameter is required for binning");if(t.sqlExpression)throw new P(`${e}:invalid-parameters`,"'sqlExpression' parameter is not supported for binning");if(t.view.type==="3d")throw new P(`${e}:invalid-parameters`,"3d view is not supported for binning")}let M3=class j2{constructor(){this.connection=null}async open(e){this.connection=await vQ("statsWorker",{strategy:"distributed",signal:e})}destroy(){var e;(e=this.connection)==null||e.close()}static getInstance(){return j2.instance||(j2.instance=new j2),j2.instance}async summaryStatistics(e,i){if(!this.connection)throw new P("worker-client:summary-statistics","connection is required");return this.connection.invoke("summaryStatistics",{attribute:e,features:i})}async uniqueValues(e,i){if(!this.connection)throw new P("worker-client:unique-values","connection is required");return this.connection.invoke("uniqueValues",{attribute:e,features:i})}async classBreaks(e,i){if(!this.connection)throw new P("worker-client:class-breaks","connection is required");return this.connection.invoke("classBreaks",{attribute:e,features:i})}async histogram(e,i){if(!this.connection)throw new P("worker-client:histogram","connection is required");return this.connection.invoke("histogram",{attribute:e,features:i})}async heatmapStatistics(e,i){if(!this.connection)throw new P("worker-client:heatmap-statistics","connection is required");return this.connection.invoke("heatmapStatistics",{attribute:e,features:i})}};async function qWe(t,e,i,r,s){return UWe(e,await BWe(t,e,i,r,s))}async function BWe(t,e,i,r,s){var h;const n={...r},a=GWe(e,i),o=((h=e.outStatistics)==null?void 0:h[0])!=null,l=q("featurelayer-pbf-statistics"),u=!o||l;let d;return u||(d=await hce(t,a,n,s)),i==null||i.fieldsIndex,d.fields,d}async function UWe(t,e,i,r){return di.fromJSON(e)}function GWe(t,e){let i=me.from(t);return i.sourceSpatialReference=i.sourceSpatialReference??(e==null?void 0:e.sourceSpatialReference)??null,i}async function HWe(t,e,i,r){const s=hS(t),{source:n,checkValueRange:a}=e,{classificationDefinition:o}=i,l={...i.toJSON(),f:"json"};let u=null;if(u=(o==null?void 0:o.type)==="class-breaks-definition"?o.classificationField:o==null?void 0:o.attributeField,n){const m={source:n==null?void 0:n.toJSON()};l.layer=JSON.stringify(m)}l.classificationDef&&(l.classificationDef=JSON.stringify(l.classificationDef));let d={query:l};r&&(d={...r,...d});const h={url:s.path,field:u,checkValueRange:a},p=s.path+"/generateRenderer";return it(p,d).then(m=>WWe(h,m))}function WWe(t,e){const{field:i,checkValueRange:r,url:s}=t,n=e==null?void 0:e.data;if(!n)return;if(!r){const u=AH(n);return Promise.resolve(u)}const a=new br({statisticType:"min",onStatisticField:i}),o=new br({statisticType:"max",onStatisticField:i}),l=new me({outStatistics:[a,o]});return qWe(s,l).then(u=>{const d=u.features[0].attributes;let h=null,p=null;for(const m in d)m.toLowerCase().indexOf("min")===0?h=d[m]:p=d[m];return AH(n,h,p)})}function AH(t,e,i){if(t.type==="classBreaks"){const s=Tne(t);return{classBreaks:s.classBreakInfos.map((n,a)=>(a===0&&e!=null&&(n.minValue=e),a===s.classBreakInfos.length-1&&i!=null&&(n.maxValue=i),{minValue:n.minValue,maxValue:n.maxValue,label:n.label})),normalizationTotal:s.normalizationTotal}}const{uniqueValueInfos:r}=t;return{uniqueValues:(r==null?void 0:r.map((s,n)=>(n===0&&e!=null&&(s.value=e),n===r.length-1&&i!=null&&(s.value=i),{count:s.count,value:s.value,label:s.label})))??[]}}let nm=class extends B{constructor(e){super(e),this.classificationDefinition=null,this.where=null}};c([f({json:{name:"classificationDef",write:!0}})],nm.prototype,"classificationDefinition",void 0),c([f({type:String,json:{write:!0}})],nm.prototype,"where",void 0),nm=c([E("esri.rest.support.GenerateRendererParameters")],nm);let Iu=class extends B{constructor(e){super(e),this.type="unique-value-definition",this.attributeField=null,this.attributeField2=null,this.attributeField3=null,this.fieldDelimiter=null}get uniqueValueFields(){const e=[];return this.attributeField&&e.push(this.attributeField),this.attributeField2&&e.push(this.attributeField2),this.attributeField3&&e.push(this.attributeField3),e}};c([oe({uniqueValueDef:"unique-value-definition"})],Iu.prototype,"type",void 0),c([f()],Iu.prototype,"attributeField",void 0),c([f()],Iu.prototype,"attributeField2",void 0),c([f()],Iu.prototype,"attributeField3",void 0),c([f({json:{write:!0}})],Iu.prototype,"fieldDelimiter",void 0),c([f({json:{write:!0}})],Iu.prototype,"uniqueValueFields",null),Iu=c([E("esri.rest.support.UniqueValueDefinition")],Iu);const $ce="no_dominant_category";function ZWe(t){return{expression:JWe(t,{defaultValue:`'${$ce}'`})}}function JWe(t,e){const{defaultValue:i,layer:r}=e,s=[];if(i){const n=t.map(a=>`${a} <= 0`).join(" AND ");s.push(`WHEN ${n} THEN ${i}`)}for(const n of t){const a=t.reduce((u,d)=>(n!==d&&u.push(`${n} > ${d}`),u),[]).join(" AND "),o=r&&Vae(r,n),l=`'${n}'`?`'${n}'`:o?pg(n):n;s.push(`WHEN ${a} THEN ${l}`)}return`CASE ${s.join(" ")} ELSE ${i||"0"} END`}function YWe(t){return t&&t.map(e=>`$feature["${e}"];`).join(`
`)+`
`||""}function XWe(t,e=!1){const i=t.map(s=>`"${s}"`);return`
  var fieldNames = [ ${i.join(", ")} ];
  var numFields = ${i.length};
  var maxValueField = null;
  var maxValue = -Infinity;
  var value, i, totalValue = null;

  for(i = 0; i < numFields; i++) {
    value = $feature[fieldNames[i]];

    if(value > 0) {
      if(value > maxValue) {
        maxValue = value;
        maxValueField = fieldNames[i];
      }
      else if (value == maxValue) {
        maxValueField = null;
      }
    }
    ${e?`
  if(value != null && value >= 0) {
    if (totalValue == null) { totalValue = 0; }
    totalValue = totalValue + value;
  }
  `:""}
  }
  `}function oF(t){const e=XWe(t);return`
  ${YWe(t)}
  ${e}
  return maxValueField;
  `}async function i0(t){const{attribute:e,features:i}=t,{normalizationType:r,normalizationField:s,minValue:n,maxValue:a,fieldType:o,outStatisticTypes:l}=e,u=await Kb({field:e.field,valueExpression:e.valueExpression,normalizationType:r,normalizationField:s,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},i),d=sF({normalizationType:r,normalizationField:s,minValue:n,maxValue:a}),h={value:.5,fieldType:o},p=o==="esriFieldTypeString"?gWe({values:u,supportsNullCount:d,percentileParams:h,outStatisticTypes:l}):wce({values:u,minValue:n,maxValue:a,useSampleStdDev:!r,supportsNullCount:d,percentileParams:h,outStatisticTypes:l});return T_(p,l,o==="esriFieldTypeDate")}async function KS(t){const{attribute:e,features:i}=t,r=await Kb({field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:e.valueExpression,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},i,!1),s=IWe(r);return I_(s,e.domains,e.returnAllCodedValues,e.fieldDelimiter)}async function ex(t){const{attribute:e,features:i}=t,{field:r,normalizationType:s,normalizationField:n,normalizationTotal:a,classificationMethod:o}=e,l=await Kb({field:r,valueExpression:e.valueExpression,normalizationType:s,normalizationField:n,normalizationTotal:a,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},i),u=xce(l,{field:r,normalizationType:s,normalizationField:n,normalizationTotal:a,classificationMethod:o,standardDeviationInterval:e.standardDeviationInterval,numClasses:e.numClasses,minValue:e.minValue,maxValue:e.maxValue});return aF(u,o)}async function E_(t){const{attribute:e,features:i}=t,{field:r,normalizationType:s,normalizationField:n,normalizationTotal:a,classificationMethod:o}=e,l=await Kb({field:r,valueExpression:e.valueExpression,normalizationType:s,normalizationField:n,normalizationTotal:a,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},i);return CWe(l,{field:r,normalizationType:s,normalizationField:n,normalizationTotal:a,classificationMethod:o,standardDeviationInterval:e.standardDeviationInterval,numBins:e.numBins,minValue:e.minValue,maxValue:e.maxValue})}async function Tce(t){const{attribute:e,features:i}=t,{field:r,radius:s,transform:n,spatialReference:a}=e,o=e.size??[0,0],l=RWe(i??[],n,a,o);return OWe(l,s??void 0,r,o[0],o[1])}const QWe=Object.freeze(Object.defineProperty({__proto__:null,classBreaks:ex,heatmapStatistics:Tce,histogram:E_,summaryStatistics:i0,uniqueValues:KS},Symbol.toStringTag,{value:"Module"}));let dn=class extends lr{constructor(e){super(e),this.adapterName="layer-adapter"}};c([f({readOnly:!0})],dn.prototype,"adapterName",void 0),c([f({constructOnly:!0})],dn.prototype,"layer",void 0),c([f()],dn.prototype,"geometryType",void 0),c([f()],dn.prototype,"objectIdField",void 0),c([f()],dn.prototype,"supportsSQLExpression",void 0),c([f()],dn.prototype,"hasQueryEngine",void 0),c([f()],dn.prototype,"minScale",void 0),c([f()],dn.prototype,"maxScale",void 0),c([f()],dn.prototype,"fullExtent",void 0),dn=c([E("esri.smartMapping.support.adapters.LayerAdapter")],dn);const Ice={convertToGEGeometry:KWe,exportPoint:tZe,exportPolygon:rZe,exportPolyline:nZe,exportMultipoint:oZe,exportExtent:cZe};function KWe(t,e){return e==null?null:t.convertJSONToGeometry(e)}let eZe=class{constructor(e,i,r){this.x=e,this.y=i,this.spatialReference=r,this.z=void 0,this.m=void 0}};function tZe(t,e,i){const r=new eZe(t.getPointX(e),t.getPointY(e),i),s=t.hasZ(e),n=t.hasM(e);return s&&(r.z=t.getPointZ(e)),n&&(r.m=t.getPointM(e)),r}class iZe{constructor(e,i,r,s){this.rings=e,this.spatialReference=i,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),s&&(this.hasM=s)}}function rZe(t,e,i){return new iZe(t.exportPaths(e),i,t.hasZ(e),t.hasM(e))}let sZe=class{constructor(e,i,r,s){this.paths=e,this.spatialReference=i,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),s&&(this.hasM=s)}};function nZe(t,e,i){return new sZe(t.exportPaths(e),i,t.hasZ(e),t.hasM(e))}let aZe=class{constructor(e,i,r,s){this.points=e,this.spatialReference=i,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),s&&(this.hasM=s)}};function oZe(t,e,i){return new aZe(t.exportPoints(e),i,t.hasZ(e),t.hasM(e))}let lZe=class{constructor(e,i,r,s,n){this.xmin=e,this.ymin=i,this.xmax=r,this.ymax=s,this.spatialReference=n,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}};function cZe(t,e,i){const r=t.hasZ(e),s=t.hasM(e),n=new lZe(t.getXMin(e),t.getYMin(e),t.getXMax(e),t.getYMax(e),i);if(r){const a=t.getZExtent(e);n.zmin=a.vmin,n.zmax=a.vmax}if(s){const a=t.getMExtent(e);n.mmin=a.vmin,n.mmax=a.vmax}return n}const kT=[0,0];function Ece(t,e){if(!e)return null;if("x"in e){const i={x:0,y:0};return[i.x,i.y]=t(e.x,e.y,kT),e.z!=null&&(i.z=e.z),e.m!=null&&(i.m=e.m),i}if("xmin"in e){const i={xmin:0,ymin:0,xmax:0,ymax:0};return[i.xmin,i.ymin]=t(e.xmin,e.ymin,kT),[i.xmax,i.ymax]=t(e.xmax,e.ymax,kT),e.hasZ&&(i.zmin=e.zmin,i.zmax=e.zmax,i.hasZ=!0),e.hasM&&(i.mmin=e.mmin,i.mmax=e.mmax,i.hasM=!0),i}return"rings"in e?{rings:PH(e.rings,t),hasM:e.hasM,hasZ:e.hasZ}:"paths"in e?{paths:PH(e.paths,t),hasM:e.hasM,hasZ:e.hasZ}:"points"in e?{points:Mce(e.points,t),hasM:e.hasM,hasZ:e.hasZ}:null}function PH(t,e){const i=[];for(const r of t)i.push(Mce(r,e));return i}function Mce(t,e){const i=[];for(const r of t){const s=e(r[0],r[1],[0,0]);i.push(s),r.length>2&&s.push(r[2]),r.length>3&&s.push(r[3])}return i}async function Cce(t,e){if(!t||!e)return;const i=Array.isArray(t)?t.map(r=>r.geometry!=null?r.geometry.spatialReference:null).filter(Kt):[t];await U7(i.map(r=>({source:r,dest:e})))}const kce=Ece.bind(null,Yp),Ace=Ece.bind(null,Y_);function Pce(t,e,i,r){if(!t)return null;if(i||(i=e,e=t.spatialReference),!Gs(e)||!Gs(i)||li(e,i))return t;if(_g(e,i)){const s=ua(i)?kce(t):Ace(t);return s.spatialReference=i,s}return Hw(Ice,[t],e,i,null,r)[0]}let uZe=class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(e,i,r,s){if(!(e!=null&&e.length)||!i||!r||li(i,r))return e;const n={geometries:e,inSpatialReference:i,outSpatialReference:r,geographicTransformation:s,resolve:Mn()};return this._jobs.push(n),this._timer??(this._timer=setTimeout(this._process,10)),n.resolve.promise}_process(){this._timer=null;const e=this._jobs.shift();if(!e)return;const{geometries:i,inSpatialReference:r,outSpatialReference:s,resolve:n,geographicTransformation:a}=e;_g(r,s)?ua(s)?n(i.map(kce)):n(i.map(Ace)):n(Hw(Ice,i,r,s,a,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};const dZe=new uZe;function Kdt(t,e,i,r){return dZe.push(t,e,i,r)}const XA=new Ie({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),LH=Object.freeze({}),fZe="frequency";async function eft(t,e,i){var s,n;const r=t.bin;return r.onField&&(r.onField=r.onField.trim()),(s=r.onExpression)!=null&&s.value&&(r.onExpression.value=r.onExpression.value.trim()),r.splitBy&&(r.splitBy.value&&(r.splitBy.value=r.splitBy.value.trim()),r.splitBy.outAlias&&(r.splitBy.outAlias=r.splitBy.outAlias.trim())),r.stackBy&&(r.stackBy.value&&(r.stackBy.value=r.stackBy.value.trim()),r.stackBy.outAlias&&(r.stackBy.outAlias=r.stackBy.outAlias.trim())),"normalizationField"in r.parameters&&r.parameters.normalizationField&&(r.parameters.normalizationField=r.parameters.normalizationField.trim()),(n=t.outStatistics)!=null&&n.length||(t.outStatistics=[{statisticType:"count",onStatisticField:"1",outStatisticFieldName:fZe}]),hZe(t,e,i)}async function hZe(t,e,i){const{outFields:r,orderByFields:s,groupByFieldsForStatistics:n,outStatistics:a}=t;if(r)for(let o=0;o<r.length;o++)r[o]=r[o].trim();if(s)for(let o=0;o<s.length;o++)s[o]=s[o].trim();if(n)for(let o=0;o<n.length;o++)n[o]=n[o].trim();if(a)for(let o=0;o<a.length;o++)a[o].onStatisticField&&(a[o].onStatisticField=a[o].onStatisticField.trim());return t.geometry&&!t.outSR&&(t.outSR=t.geometry.spatialReference),pZe(t,e,i)}async function pZe(t,e,i){var n;if(!t)return null;let{where:r}=t;if(t.where=r=r==null?void 0:r.trim(),(!r||/^1 *= *1$/.test(r)||e&&e===r)&&(t.where=null),!t.geometry)return t;let s=await yZe(t);if(t.distance=0,t.units=null,t.spatialRel==="esriSpatialRelEnvelopeIntersects"){const{spatialReference:a}=t.geometry;s=Aye(s),s.spatialReference=a}if(s){await Cce(s.spatialReference,i),s=mZe(s,i);const a=(await fR(Xa(s)))[0];if(a==null)throw LH;const o="quantizationParameters"in t&&((n=t.quantizationParameters)==null?void 0:n.tolerance)||"maxAllowableOffset"in t&&t.maxAllowableOffset||0,l=o&&Lce(s,i)?{densificationStep:8*o}:void 0,u=a.toJSON(),d=Pce(u,u.spatialReference,i,l);if(!d)throw LH;d.spatialReference=i,t.geometry=d}return t}function Lce(t,e){if(!t)return!1;const i=t.spatialReference;return(Wr(t)||pi(t)||Fr(t))&&!li(i,e)&&!da(i,e)}function mZe(t,e){const i=t.spatialReference;return Lce(t,e)&&Wr(t)?{spatialReference:i,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:t}async function yZe(t){const{distance:e,units:i}=t,r=t.geometry;if(e==null||"vertexAttributes"in r)return r;const s=r.spatialReference,n=i?XA.fromJSON(i):xh(s),a=s&&(Sh(s)||ua(s))?r:await Cce(s,k4).then(()=>Pce(r,k4)),o=await R(()=>import("./geodesicBufferOperator-C2KdMGFI.js"),__vite__mapDeps([380,381,178,179]));await o.load();const l=o.execute(a,e||1,{unit:n})??void 0;if(!l||!pi(l)||l.rings.length===0)throw new P("unsupported-query:invalid-parameters","Invalid parameters for query by distance");return l}function tft(t,e){return t==null?null:typeof t=="string"?e?new Date(`1970-01-01T${t}Z`).getTime():new Date(t).getTime():t instanceof Date?t.getTime():t}const gZe=new Ie({esriFieldTypeInteger:"integer",esriFieldTypeString:"string"});let Rl=class extends ve.ClonableMixin(B){constructor(e){super(e),this.alias=null,this.responseType=null,this.type=null,this.value=null,this.valueType=null}};c([f({type:String,json:{name:"outAlias",write:!0}})],Rl.prototype,"alias",void 0),c([f({type:String})],Rl.prototype,"responseType",void 0),c([f({type:String,json:{write:!0}})],Rl.prototype,"type",void 0),c([f({type:String,json:{write:!0}})],Rl.prototype,"value",void 0),c([oe(gZe)],Rl.prototype,"valueType",void 0),Rl=c([E("esri.rest.support.AttributeBinsGrouping")],Rl);const h9=Rl;Rl.from=Ft(Rl);const bZe=new Ie({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeDate:"date",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"}),vZe=new Ie({naturalLog:"natural-log",squareRoot:"square-root"});let Ds=class extends ve.ClonableMixin(B){constructor(e){super(e),this.expression=null,this.expressionValueType=null,this.field=null,this.firstDayOfWeek=null,this.hideUpperBound=null,this.splitBy=null,this.stackBy=null,this.transformation=null}};c([f({type:String,json:{name:"onExpression.value",write:!0}})],Ds.prototype,"expression",void 0),c([oe(bZe,{name:"onExpression.valueType"})],Ds.prototype,"expressionValueType",void 0),c([f({type:String,json:{name:"onField",write:!0}})],Ds.prototype,"field",void 0),c([f({type:String,json:{write:!0}})],Ds.prototype,"firstDayOfWeek",void 0),c([f({type:String,json:{write:!0}})],Ds.prototype,"hideUpperBound",void 0),c([f({type:h9,json:{write:{overridePolicy(){var t,e;return{enabled:((t=this.splitBy)==null?void 0:t.value)!=null||((e=this.splitBy)==null?void 0:e.type)!=null}}}}})],Ds.prototype,"splitBy",void 0),c([f({type:h9,json:{write:{target:{stackBy:{type:h9},jsonStyle:{type:String}},writer:(t,e)=>{t&&(e.stackBy=t.toJSON(),t.responseType!=null&&(e.jsonStyle=t.responseType))},overridePolicy(){var t,e;return{enabled:((t=this.stackBy)==null?void 0:t.value)!=null||((e=this.stackBy)==null?void 0:e.type)!=null}}},read:{source:["stackBy","jsonStyle"],reader:(t,e)=>h9.fromJSON({...e.stackBy,responseType:e.jsonStyle})}}})],Ds.prototype,"stackBy",void 0),c([oe(vZe)],Ds.prototype,"transformation",void 0),Ds=c([E("esri.rest.support.BinParametersBase")],Ds);function RH(t,e,i){ti(i,t instanceof Date?t.getTime():t,e)}let Ml=class extends xse(Ds){constructor(e){super(e),this.numBins=null,this.end=null,this.start=null,this.type="auto-interval"}};c([f({type:Number,json:{name:"parameters.numberOfBins",write:!0}})],Ml.prototype,"numBins",void 0),c([f({json:{name:"parameters.end",write:{writer:RH}}})],Ml.prototype,"end",void 0),c([f({json:{name:"parameters.start",write:{writer:RH}}})],Ml.prototype,"start",void 0),c([oe({autoIntervalBin:"auto-interval"},{readOnly:!0})],Ml.prototype,"type",void 0),Ml=c([E("esri.rest.support.AutoIntervalBinParameters")],Ml),Ml.from=Ft(Ml);const wZe=ji()({year:"years",quarter:"quarters",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes",second:"seconds"});let am=class extends ve.ClonableMixin(B){constructor(e){super(e),this.value=null,this.unit=null}};c([f({type:Number,json:{name:"number",write:!0}})],am.prototype,"value",void 0),c([oe(wZe)],am.prototype,"unit",void 0),am=c([E("esri.rest.support.DateBinTimeInterval")],am);const OH=am;am.from=Ft(am);function FH(t,e,i){ti(i,typeof t=="string"?t:t==null?void 0:t.getTime(),e)}function NH(t,e){const i=t.parameters[e];return i?typeof i=="string"?i:new Date(i):null}let Qn=class extends Ds{constructor(e){super(e),this.end=null,this.interval=null,this.offset=null,this.returnFullIntervalBin=!1,this.start=null,this.snapToData=null,this.type="date"}};c([f({cast:t=>t!=null?typeof t=="string"?t:new Date(t):null,json:{name:"parameters.end",read:{reader:(t,e)=>NH(e,"end")},write:{writer:FH}}})],Qn.prototype,"end",void 0),c([f({type:OH,json:{name:"parameters",write:!0}})],Qn.prototype,"interval",void 0),c([f({type:OH,json:{name:"parameters.offset",write:!0}})],Qn.prototype,"offset",void 0),c([f({type:Boolean,json:{name:"parameters.returnFullIntervalBin",write:!0}})],Qn.prototype,"returnFullIntervalBin",void 0),c([f({cast:t=>t!=null?typeof t=="string"?t:new Date(t):null,json:{name:"parameters.start",read:{reader:(t,e)=>NH(e,"start")},write:{writer:FH}}})],Qn.prototype,"start",void 0),c([f({type:String,json:{name:"parameters.snapToData",write:!0}})],Qn.prototype,"snapToData",void 0),c([oe({dateBin:"date"},{readOnly:!0})],Qn.prototype,"type",void 0),Qn=c([E("esri.rest.support.DateBinParameters")],Qn),Qn.from=Ft(Qn);function _Ze(t){return t[0]instanceof Date}function SZe(t,e,i){ti(i,t&&_Ze(t)?t.map(r=>r.getTime()):t,e)}let bf=class extends Ds{constructor(e){super(e),this.boundaries=[],this.type="fixed-boundaries"}};c([f({json:{name:"parameters.boundaries",write:{writer:SZe}}})],bf.prototype,"boundaries",void 0),c([oe({fixedBoundariesBin:"fixed-boundaries"},{readOnly:!0})],bf.prototype,"type",void 0),bf=c([E("esri.rest.support.FixedBoundariesBinParameters")],bf),bf.from=Ft(bf);function DH(t,e,i){ti(i,t instanceof Date?t.getTime():t,e)}let Cl=class extends xse(Ds){constructor(e){super(e),this.end=null,this.interval=null,this.start=null,this.type="fixed-interval"}};c([f({json:{name:"parameters.end",write:{writer:DH}}})],Cl.prototype,"end",void 0),c([f({type:Number,json:{name:"parameters.interval",write:!0}})],Cl.prototype,"interval",void 0),c([f({json:{name:"parameters.start",write:{writer:DH}}})],Cl.prototype,"start",void 0),c([oe({fixedIntervalBin:"fixed-interval"},{readOnly:!0})],Cl.prototype,"type",void 0),Cl=c([E("esri.rest.support.FixedIntervalBinParameters")],Cl),Cl.from=Ft(Cl);const xZe=new Ie({asc:"ascending",desc:"descending"}),$Ze={base:Ds,key:"type",typeMap:{"auto-interval":Ml,date:Qn,"fixed-boundaries":bf,"fixed-interval":Cl}};let bi=class extends ve.ClonableMixin(B){constructor(e){super(e),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.timeExtent=null,this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(e){this._set("outTimeZone",e),e&&!oQ(e)&&W.getLogger(this).warn("#outTimeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}};c([f({types:$Ze,json:{name:"bin",write:!0}})],bi.prototype,"binParameters",void 0),c([oe(xZe)],bi.prototype,"binOrder",void 0),c([f({type:Boolean,json:{write:!0}})],bi.prototype,"cacheHint",void 0),c([f({json:{write:!0}})],bi.prototype,"datumTransformation",void 0),c([f({type:le,json:{name:"defaultSR",write:!0}})],bi.prototype,"defaultSpatialReference",void 0),c([f({type:Number,json:{write:{overridePolicy:t=>({enabled:t>0})}}})],bi.prototype,"distance",void 0),c([f({types:n0,json:{read:Xa,write:!0}})],bi.prototype,"geometry",void 0),c([f({type:String,json:{write:!0}})],bi.prototype,"lowerBoundaryAlias",void 0),c([f({type:le,json:{name:"outSR",write:!0}})],bi.prototype,"outSpatialReference",void 0),c([f({type:[br],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],bi.prototype,"outStatistics",void 0),c([f({value:null,json:{name:"outTimeReference",read:{reader:t=>t.ianaTimeZone},write:{writer:(t,e,i)=>{t&&(e[i]={ianaTimeZone:t})}}}})],bi.prototype,"outTimeZone",null),c([f({type:Boolean,json:{write:!0}})],bi.prototype,"returnDistinctValues",void 0),c([oe(cte,{name:"spatialRel"})],bi.prototype,"spatialRelationship",void 0),c([f({type:xt,json:{write:!0}})],bi.prototype,"timeExtent",void 0),c([f({type:String,json:{write:!0}})],bi.prototype,"upperBoundaryAlias",void 0),c([f({type:String,json:{read:XA.read,write:{writer:XA.write,overridePolicy(t){return{enabled:t!=null&&this.distance!=null}}}}})],bi.prototype,"units",void 0),c([f({type:String,json:{write:!0}})],bi.prototype,"where",void 0),bi=c([E("esri.rest.support.AttributeBinsQuery")],bi),bi.from=Ft(bi);const TZe=Object.freeze(Object.defineProperty({__proto__:null,get default(){return bi}},Symbol.toStringTag,{value:"Module"})),IZe=/_value$/i,EZe=Math.LOG10E,MZe={SECOND:1e3,MINUTE:6e4,HOUR:36e5},M_=10;function C_(t){return t.map(e=>e.toJSON())}function zH(t,e){var o;const i=[],r=t.layer,s="featureReduction"in r?r.featureReduction:null,n=(s==null?void 0:s.type)==="binning",a=s!=null&&"fields"in s?(o=s.fields)==null?void 0:o.map(l=>{var u;return(u=l.name)==null?void 0:u.toLowerCase()}).filter(Boolean):[];if(!n||!e)return i;for(const l of e)a.includes(l.toLowerCase())||i.push(l);return i}function c7(t,e,i){var s;const r=[];if(e)for(const n of e){const a=t.getField(n);a&&i&&"availableFields"in i&&!((s=i.availableFields)!=null&&s.includes(a.name))&&r.push(a.name)}return r}function lF(t,e){var n;const i=t&&t.features;if((i==null?void 0:i.length)===0)return{avg:null,count:0,max:null,median:null,min:null,nullcount:0,stddev:null,sum:null,variance:null};const r=(n=i==null?void 0:i[0])==null?void 0:n.attributes,s={};for(const a in r)s[a.replace(IZe,"").toLowerCase()]=r[a];return s.totalcount!=null&&s.totalcount>=s.count&&(s.nullcount=s.totalcount-s.count),delete s.totalcount,s.min===s.max&&s.min!=null&&s.stddev==null&&(s.stddev=s.variance=0),e&&(["min","max","avg","stddev","sum","variance"].forEach(a=>{s[a]!=null&&(s[a]=Math.ceil(s[a]))}),s.min===s.max&&s.min!=null&&(s.avg=s.min,s.stddev=s.variance=0)),s}function CZe(t){const e=[],i=t.classBreaks,r=i[0].minValue,s=i[i.length-1].maxValue;i.forEach(a=>{e.push([a.minValue,a.maxValue])});const n={field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,normalizationTotal:t.normalizationTotal,layer:t.layer};return{min:r,max:s,intervals:e,sqlExpr:e1(n),excludeZerosExpr:t.where,normTotal:t.normalizationTotal}}function e1(t){const{field:e,normalizationType:i,normalizationField:r,normalizationTotal:s,layer:n}=t,a=Vae(n,e);let o=e;return i==="percent-of-total"?o=`((${a?pg(e):e} / ${s}) * 100)`:i==="log"?o=`(log(${e}) * ${EZe})`:i==="field"?o=`(${a?pg(e):e} / ${r})`:i==="natural-log"?o=`(log(${a?pg(e):e}))`:i==="square-root"&&(o=`(power(${a?pg(e):e}, 0.5))`),o}function Rce(t,e){let i;if(e=e.toLowerCase(),t){for(const r in t)if(r.toLowerCase()!==e){i=t[r];break}}return i}function q2(t,e){let i;if(e=e.toLowerCase(),t){for(const r in t)if(r.toLowerCase()===e){i=t[r];break}}return i}function Oce(t,e,i,r,s){const n={},a="countOFExpr";t&&t.features&&t.features.forEach(l=>{const u=l.attributes,d=Rce(u,a),h=q2(u,a);d!=null&&h!=null&&d!==0&&(n[d]=h)});const o=[];return XS(e,i,r).forEach((l,u)=>{const d=(u+1).toString();o.push({minValue:l[0],maxValue:l[1],count:n.hasOwnProperty(d)?n[d]:0})}),{bins:o,minValue:e,maxValue:i,normalizationTotal:s}}async function cF(t,e){const i=t&&t.features,{field:r,field2:s,field3:n,fieldDelimiter:a,layer:o,view:l,signal:u,labels:d}=e,h=`countOF${(!r||!s)&&r||"Expr"}`,p={};let m=!1;for(const g of i){const b=g.attributes,v=q2(b,h);let w=r?q2(b,r):Rce(b,h),_=s?q2(b,s):null,S=n?q2(b,n):null;w===null&&v===0&&(m=!0),(w==null||typeof w=="string"&&w.trim()==="")&&(w=null),s&&(_==null||typeof _=="string"&&_.trim()==="")&&(_=null),n&&(S==null||typeof S=="string"&&S.trim()==="")&&(S=null);let T=w;s&&(T=`${Vo(T)}${a}${Vo(_)}`,n&&(T=`${T}${a}${Vo(S)}`)),p[T]==null?p[T]={count:v,data:T}:p[T].count=p[T].count+v}if(r&&m){const g=r+" is NULL";try{const b=await o.queryFeatureCount({whereClause:g,view:l,signal:u});return p.null.count=p.null.count+b,AT(p,d)}catch{return ze(u),AT(p,d)}}return AT(p,d)}function AT(t,e){if(e)for(const i in t)t[i].label=e[i];return{count:t}}async function PT(t,e,i){const r=t?i.getField(t):null,s=r?i.getFieldDomain(r.name):null;if(s)return s;const{uniqueValueInfos:n}=await i.uniqueValues({field:t,sqlWhere:e.sqlWhere,features:e.features,useFeaturesInView:e.useFeaturesInView,view:e.view,signal:e.signal}),a=n.map(o=>new Nf({code:o.value}));return new Yu({codedValues:a})}async function tx(t,e){if(!t.returnAllCodedValues)return[];const{field:i,field2:r,field3:s}=t;if(i&&!r){const a=i?e.getField(i):null,o=a?e.getFieldDomain(a.name):null;return o?[o]:[]}const n=[];return i&&(n.push(PT(i,t,e)),r&&(n.push(PT(r,t,e)),s&&n.push(PT(s,t,e)))),Promise.all(n)}function kZe(t,e){return WFe(t,new Date(0),e,"milliseconds").sqlExpression}function AZe(t,e){return`EXTRACT(${e} FROM ${t}) * ${MZe[e]}`}function PZe(t){return t?pg(["HOUR","MINUTE","SECOND"].map(e=>`(${AZe(t,e)})`).join(" + ")):null}function Wa(t){var e;return{viewingMode:t.type==="2d"?"map":t.viewingMode,scale:t.scale,spatialReference:(e=t.spatialReference)==null?void 0:e.toJSON()}}function uF(t,e){const i=new Set(t.map(s=>s.value)),r=e.filter(s=>!i.has(s));for(const s of r)t.push({value:s,count:0});t.sort((s,n)=>e.indexOf(s.value)-e.indexOf(n.value));for(const s of t)s.value===$ce&&(s.value=null);return{predominantCategoryInfos:t}}function VH(t){const e="featureReduction"in t?t.featureReduction:null;return((e!=null&&"fields"in e?e.fields:null)??[]).map(i=>{const r=LZe(i,t.fieldsIndex);return r?new sr({type:r,name:i.name,alias:i.alias}):null}).filter(Kt)}function LZe(t,e){var i,r;switch(t.statisticType){case"avg":case"avg_angle":return"double";case"count":return"integer";case"min":case"max":case"sum":return t.onStatisticField?((i=e.get(t.onStatisticField))==null?void 0:i.type)??null:t.onStatisticExpression?t.onStatisticExpression.returnType==="string"?null:"double":null;case"mode":return t.onStatisticField?((r=e.get(t.onStatisticField))==null?void 0:r.type)??null:t.onStatisticExpression?t.onStatisticExpression.returnType==="string"?"string":"double":null;default:return null}}function Fce(t,e){return Js(e)?kZe(t,e==null?void 0:e.name):$s(e)?PZe(e==null?void 0:e.name):null}function dF(t,e,i,r=!0){const{field:s,normalizationType:n,normalizationField:a,normalizationTotal:o,minValue:l,maxValue:u,filter:d}=e,h=t.supportsSQLExpression?Fce(t,i)||e.sqlExpression:null,p=e1({field:s,normalizationType:n,normalizationField:a,normalizationTotal:o,layer:t}),m=h||p,g=m?l7(m,l,u):null,b=QS({field:s,normalizationField:a,normalizationType:n}),v=Jr(e.sqlWhere,b),w=Jr(v,g),_=sF({normalizationField:a,normalizationType:n,sqlExpression:h,supportsSQLExpression:t.supportsSQLExpression,minValue:l,maxValue:u}),S=YL(t.getField(s??void 0)),{include:T,exclude:C}=e.outStatisticTypes||{},A=vce.filter(L=>(!T||T.includes(L))&&(!C||!C.includes(L))&&(L==="nullcount"?_:!S||L==="count")&&(L!=="median"||r)),O=t.createQuery();return O.where=Jr(O.where,w),O.sqlFormat=h?"standard":null,O.outStatistics=A.map(L=>{const F=new br;let D=null,G=null,H=`${L}_value`;if(L==="variance")D="var",G=m;else if(L==="nullcount"){const se=t.objectIdField;D="count",G=se&&t.getField(se)?se:"1",H="totalcount_value"}else L==="median"?(D="percentile-continuous",G=m,F.statisticParameters={value:.5}):(D=L,G=m);return F.statisticType=D,F.onStatisticField=G,F.outStatisticFieldName=H,F}),Za(O,d),O}function Za(t,e){e&&(t.geometry=e.geometry,t.spatialRelationship=e.spatialRelationship)}function Nce(t,e){const{field:i,field2:r,field3:s,sqlExpression:n}=e,a=!(!i||!r),o=t.createQuery();return o.where=Jr(o.where,e.sqlWhere),o.sqlFormat=n?"standard":null,o.outStatistics=[RZe(a?null:i,a?"1":n)].filter(Boolean),o.groupByFieldsForStatistics=[i||n,r,s].filter(Boolean),Za(o,e.filter),o}function RZe(t,e){const i="countOF"+(t||"Expr"),r=new br;return r.statisticType="count",r.onStatisticField=e?"1":t,r.outStatisticFieldName=i,r}function Q6(t,e,i,r=M_,s,n,a){const{min:o,max:l,normTotal:u,excludeZerosExpr:d}=e,h=e.intervals||XS(o,l,r),p=e.sqlExpr||i;return OZe(t,h,p,d,s,n,a).then(m=>({bins:m.map((g,b)=>({minValue:h[b][0],maxValue:h[b][1],count:g.status==="fulfilled"?g.value:0})),minValue:o,maxValue:l,normalizationTotal:u}))}function OZe(t,e,i,r,s,n,a){const o=[],l=e.length;for(let u=0;u<l;u++){const d=Jr(r,Jr(i+" >= "+e[u][0],e[u][1]!==null?i+(u===l-1?" <= ":" < ")+e[u][1]:""));o.push(d)}return Promise.allSettled(o.map(u=>t.queryFeatureCount({whereClause:u,view:s,filter:n,signal:a})))}const Dce="countOFExpr",FZe="lowerBoundary",NZe="upperBoundary";function zce(t,e,i){const r=t.valueExpression||t.sqlExpression,s=t.signal;if(!r){const{field:n,normalizationType:a,normalizationField:o}=t,l=n?e.getField(n):null,u=Js(l)||$s(l);return{sqlExpression:u?Fce(e,l):e1({field:n,normalizationType:a,normalizationField:o,normalizationTotal:i,layer:e}),sqlWhere:u?null:t.sqlWhere||QS({field:n,normalizationType:a,normalizationField:o}),filter:t.filter,signal:s}}return{valueExpression:t.valueExpression,sqlExpression:t.sqlExpression,sqlWhere:t.sqlWhere,filter:t.filter,signal:s}}async function QA(t,e,i){const{field:r,normalizationType:s,normalizationField:n,signal:a}=t,o=QS({field:r,normalizationType:s,normalizationField:n}),l=new nm({classificationDefinition:nF({field:r,normalizationType:s,normalizationField:n,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,definedInterval:t.definedInterval,breakCount:t.numBins||M_}),where:Jr(o,i)});return e.generateRenderer(l,a).then(u=>{const{normalizationTotal:d,classBreaks:h}=u;return CZe({field:r,normalizationType:s,normalizationField:n,normalizationTotal:d,classBreaks:h,where:o,layer:e})})}async function DZe(t,e,i,r,s){const{field:n,sqlExpression:a,normalizationField:o,classificationMethod:l,normalizationType:u}=t,d=n?e.getField(n):null,h=$s(d),p=See(d)||h,m=t.numBins||M_;if(p){if(u||l)throw new P(`${e.adapterName}:not-supported`,"NormalizationType and classificationMethod are not supported for date-only and time-only fields");const g=(r-i)/m/1e3,b=g/86400;return new Qn({field:n,expression:a,interval:{unit:h?"seconds":"days",value:Math.ceil(h?g:b)},start:i,end:r})}if(l==="defined-interval")return new Cl({field:n,expression:a,normalizationField:o,normalizationTotal:s,normalizationType:u,interval:t.definedInterval??Math.ceil((r-i)/m),start:u?null:i,end:u?null:r,normalizationMinValue:u?i:null,normalizationMaxValue:u?r:null});if(l==="manual")throw new P(`${e.adapterName}:not-supported`,"Layer does not support manual classificationMethod");if(l==="natural-breaks"||l==="quantile"||l==="standard-deviation"){const g=e1({field:n,normalizationField:o,normalizationTotal:s,normalizationType:u,layer:e}),b=t.minValue!==null&&t.maxValue!==null?l7(g,t.minValue,t.maxValue):void 0,v=await QA(t,e,b);if(!v.intervals)throw new P(`${e.adapterName}:invalid`,"Invalid intervals returned from generate renderer");const w=[i,...v.intervals.map(_=>_[1])];return new bf({field:u?null:n,expression:u?g:a,boundaries:w})}return new Ml({field:n,normalizationField:o,normalizationTotal:s,normalizationType:u,expression:a,numBins:m,start:u?null:i,end:u?null:r,normalizationMinValue:u?i:null,normalizationMaxValue:u?r:null})}function Vce(t,e,i,r){return i!=null&&r!=null?Promise.resolve({min:i,max:r}):e.summaryStatistics({...t,outStatisticTypes:{include:["min","max"]}}).then(s=>({min:s.min,max:s.max}))}async function jce(t,e,i,r){const{field:s,minValue:n,maxValue:a,filter:o,view:l}=t,u=s?e.getField(s):null,d=rS(u)||xee(u),h=zce(t,e,i),{min:p,max:m}=await Vce(h,e,n,a);if(p==null||m==null)return{query:null,min:p,max:m};const g=new br({statisticType:"count",outStatisticFieldName:Dce,onStatisticField:"1"}),b=Jr(r,h.sqlWhere),v="lowerBoundary",w="upperBoundary",_=new bi({binParameters:await DZe(t,e,p,m,i),outStatistics:[g],binOrder:t.sortOrder,where:b,lowerBoundaryAlias:v,upperBoundaryAlias:w,outTimeZone:l!=null&&l.timeZone&&d?j7(l.timeZone):null});return Za(_,o),{query:_,min:p,max:m}}function jH(t,e=!1){return typeof t!="string"?t:(e?new Date(`1970-01-01T${t}Z`):new Date(t)).getTime()}function qce(t,e,i){const r=$s(e);return{...i,bins:t.features.map(s=>({minValue:jH(s.attributes[FZe],r),maxValue:jH(s.attributes[NZe],r),count:s.attributes[Dce]}))}}function qH(t,e,i){const{valueExpression:r,view:s}=t,{featuresJSON:n,graphics:a,fieldInfos:o}=e,l={field:t.field,valueExpression:r,normalizationType:t.normalizationType,normalizationField:t.normalizationField,normalizationTotal:i,minValue:t.minValue,maxValue:t.maxValue,standardDeviationInterval:t.standardDeviationInterval,classificationMethod:t.classificationMethod,numBins:t.numBins};return r&&s&&(n||a)&&(l.viewInfoParams=Wa(s),l.timeZone=s.timeZone,l.fieldInfos=o),l}const zZe=5;let p9=null,om=class extends dn{constructor(){super(...arguments),this._hasLocalSource=!1,this.adapterName="in-memory-layer-adapter"}destroy(){var t;(t=this.workerClient)==null||t.destroy()}async _waitForLayerViewUpdate(t){if(!t)throw new P(`${this.adapterName}:insufficient-data`,"layerView is required to fetch the features");const e=new AbortController,i=cd(()=>!t.updating,e.signal);await PZ(i,5e3,e).catch(r=>{throw W.getLogger(this).warn("LayerView is taking too long to update. Aborting fetch from layerView."),r})}async _fetchFeatureSetFromMemory(t,e,i){const r=this.layer;if(this._hasLocalSource&&"queryFeatures"in r)return r.queryFeatures(t);if(!e)throw new P(`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=await e.whenLayerView(this.layer);return await this._waitForLayerViewUpdate(s),s.queryFeatures(t,{signal:i})}async _fetchFeaturesFromMemory(t,e,i,r){const s=this.layer,n=r==="json";if(this._hasLocalSource&&"queryFeatures"in s){const o=await s.queryFeatures(e);return n?C_(o.features):o.features}if(await this._waitForLayerViewUpdate(t),n&&"queryFeaturesJSON"in t&&t.queryFeaturesJSON){const{features:o}=await t.queryFeaturesJSON(e,{signal:i});return o}if(!("queryFeatures"in t))throw new P(`${this.adapterName}:not-supported`,"'queryFeatures' is not supported on the layerView");const a=await t.queryFeatures(e,{signal:i});return n?C_(a.features):a.features}_fetchFeaturesForStats(t,e){return ad({field:t.field,field2:t.field2,field3:t.field3,normalizationField:t.normalizationField,valueExpression:t.valueExpression}).then(i=>this.getSampleFeatures({sampleSize:-1,view:t.view,returnGeometry:t.returnGeometry,filter:t.filter,requiredFields:i,signal:t.signal},e))}async _summaryStatsFromClientQuery(t,e){const{view:i,signal:r}=t,s=dF(this,t,e),n=await this._fetchFeatureSetFromMemory(s,i,r),a=lF(n,Js(e)||$s(e));return T_(a,t.outStatisticTypes)}async _getNormalizationTotalFromMemory(t,e,i){const{featuresJSON:r,graphics:s,layerView:n,query:a}=e,o={include:["sum"]},l=(!r&&!s&&n&&"querySummaryStatistics"in n?await n.querySummaryStatistics(a,{field:t},{signal:i}):r?await this.workerClient.summaryStatistics({field:t,outStatisticTypes:o},r):await i0({attribute:{field:t,outStatisticTypes:o},features:s??[]})).sum;if(l==null)throw new P(`${this.adapterName}:invalid`,"invalid normalizationTotal");return l}async _summaryStatsFromMemory(t,e){const{view:i,field:r,valueExpression:s,normalizationType:n,signal:a}=t,o={field:r,valueExpression:s,normalizationType:n,normalizationField:t.normalizationField,normalizationTotal:t.normalizationTotal,minValue:t.minValue,maxValue:t.maxValue,outStatisticTypes:t.outStatisticTypes},{featuresJSON:l,graphics:u,layerView:d,query:h,fieldInfos:p}=await this._processStatsFromMemoryParams({...t,layerViewFunc:"querySummaryStatistics"});return s&&i&&(l||u)&&(o.fieldType=e!=null&&e.type?w1.toJSON(e.type):null,o.viewInfoParams=Wa(i),o.timeZone=i.timeZone,o.fieldInfos=p),n==="percent-of-total"&&t.normalizationTotal==null&&(o.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:l,graphics:u,layerView:d,query:h},a)),!l&&!u&&d&&"querySummaryStatistics"in d?d.querySummaryStatistics(h,o,{signal:a}):l?this.workerClient.summaryStatistics(o,l):i0({attribute:o,features:u})}async _getFilteredFeatures(t,e){let i=t;const r=e==null?void 0:e.geometry;if((e==null?void 0:e.spatialRelationship)==="intersects"&&r){const s=await R(()=>import("./intersectionOperator-ChO4IIi3.js").then(n=>n.i),__vite__mapDeps([382,383,384,385,386,178,387,388,389,390]));i=t.filter(({geometry:n})=>!(!n||!s.execute(n,r)))}return t.length&&"declaredClass"in t[0]&&t[0].declaredClass==="esri.Graphic"?{graphics:i}:{featuresJSON:i}}async _processStatsFromMemoryParams(t){const{features:e,filter:i}=t;if(e!=null&&e.length)return this._getFilteredFeatures(e,i);const{view:r,field:s,field2:n,field3:a,normalizationField:o,valueExpression:l,layerViewFunc:u,signal:d}=t;let h=t.returnGeometry;if(h==null&&l){if(!p9){const{arcadeUtils:_}=await Qa();p9=_}const w=p9.hasGeometryOperations(l);w&&await p9.enableGeometryOperations(),h=w}let p=null,m=null,g=null,b=null,v=null;if(r)try{const w=this.layer.type==="subtype-sublayer"?this.layer.parent:this.layer;p=await r.whenLayerView(w),m=u!=null&&u in p&&typeof p[u]=="function"}catch{m=!1}if(m)try{await this._waitForLayerViewUpdate(p);const w=await ad({field:s,field2:n,field3:a,normalizationField:o,valueExpression:l});c7(this,w,p).length?m=!1:(g=this.layer.createQuery(),g.outFields=w,g.returnGeometry=!1,Za(g,i)),p.suspended&&(m=!1)}catch{m=!1}return m||(b=await this._fetchFeaturesForStats({field:s,field2:n,field3:a,valueExpression:l,normalizationField:o,returnGeometry:h,filter:i,view:r,signal:d},"json"),v=(await ad({valueExpression:l})).map(w=>{var _;return(_=this.getField(w))==null?void 0:_.toJSON()}).filter(Boolean)),{layerView:p,query:g,featuresJSON:b,fieldInfos:v}}async _uvFromClientQuery(t,e){const{view:i,signal:r}=t,s=Nce(this,t),n=await this._fetchFeatureSetFromMemory(s,i,r),a=await cF(n,{layer:this,field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:Tm,view:t.view,signal:t.signal});return I_(a,e,t.returnAllCodedValues,Tm)}async _uvFromMemory(t,e){const{view:i,field:r,valueExpression:s,returnAllCodedValues:n,signal:a}=t,{featuresJSON:o,graphics:l,layerView:u,query:d,fieldInfos:h}=await this._processStatsFromMemoryParams({...t,layerViewFunc:"queryUniqueValues"}),p={field:r,field2:t.field2,field3:t.field3,fieldDelimiter:Tm,valueExpression:s,domains:e,returnAllCodedValues:n};return s&&i&&(o||l)&&(p.viewInfoParams=Wa(i),p.timeZone=i.timeZone,p.fieldInfos=h),!o&&!l&&u&&"queryUniqueValues"in u?u.queryUniqueValues(d,p,{signal:a}):o?this.workerClient.uniqueValues(p,o):KS({attribute:p,features:l})}_histogramForField(t){let e=null;return e=t.minValue!=null&&t.maxValue!=null?Promise.resolve({min:t.minValue,max:t.maxValue}):this.summaryStatistics({...t,outStatisticTypes:{include:["min","max","count"]}}).then(i=>{if(!i.count)throw new P(`${this.adapterName}:insufficient-data`,"Either the layer has no features or none of the features have data for the field");return{min:i.min,max:i.max}}),e.then(i=>Q6(this,{min:i.min,max:i.max},t.field,t.numBins??void 0,t.view,t.filter,t.signal))}async _histogramFromQueryAttributeBinsFromMemory(t){const{field:e,normalizationType:i,signal:r}=t,s=await this._processStatsFromMemoryParams({...t,layerViewFunc:"queryAttributeBins"}),{featuresJSON:n,graphics:a,layerView:o,query:l}=s,u=i==="percent-of-total"?t.normalizationTotal??await this._getNormalizationTotalFromMemory(e,s,r):void 0;if(!o||!("queryAttributeBins"in o)||n||a){const g=qH(t,s,u);return n?this.workerClient.histogram(g,n):E_({attribute:g,features:a})}const{query:d,min:h,max:p}=await jce(t,this,u,l==null?void 0:l.where);if(!d)return{bins:[],minValue:h,maxValue:p,normalizationTotal:u};const m=await o.queryAttributeBins(d,{signal:r});return qce(m,e?this.getField(e):null,{minValue:h,maxValue:p,normalizationTotal:u})}async _histogramFromMemory(t){const{field:e,signal:i}=t,r=await this._processStatsFromMemoryParams({...t,layerViewFunc:"queryHistogram"}),{featuresJSON:s,graphics:n,layerView:a,query:o}=r,l=t.normalizationType==="percent-of-total"?t.normalizationTotal??await this._getNormalizationTotalFromMemory(e,r,i):void 0,u=qH(t,r,l);return!s&&!n&&a&&"queryHistogram"in a?a.queryHistogram(o,u,{signal:i}):s?this.workerClient.histogram(u,s):E_({attribute:u,features:n})}_classBreaksFromInterpolation(t){const{minValue:e,maxValue:i}=t,r=t.numClasses||zZe,s=[],n=(i-e)/r;for(let l=0;l<r;l++){const u=e+l*n;s.push({minValue:u,maxValue:u+n})}s[r-1].maxValue=i;const a={classBreaks:s,normalizationTotal:t.normalizationTotal},o=aF(a,t.classificationMethod);return Promise.resolve(o)}async _classBreaksFromMemory(t){const{view:e,field:i,valueExpression:r,signal:s}=t,{featuresJSON:n,graphics:a,layerView:o,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...t,layerViewFunc:"queryClassBreaks"}),d={field:i,valueExpression:r,normalizationType:t.normalizationType,normalizationField:t.normalizationField,normalizationTotal:t.normalizationTotal,minValue:t.minValue,maxValue:t.maxValue,standardDeviationInterval:t.standardDeviationInterval,classificationMethod:t.classificationMethod,numClasses:t.numClasses};return r&&e&&(n||a)&&(d.viewInfoParams=Wa(e),d.timeZone=e.timeZone,d.fieldInfos=u),t.normalizationType==="percent-of-total"&&t.normalizationTotal==null&&(d.normalizationTotal=await this._getNormalizationTotalFromMemory(i,{featuresJSON:n,graphics:a,layerView:o,query:l},s)),!n&&!a&&o&&"queryClassBreaks"in o?o.queryClassBreaks(l,d,{signal:s}):n?this.workerClient.classBreaks(d,n):ex({attribute:d,features:a})}async _heatmapStatsFromMemory(t){var u,d;const{view:e,field:i,radius:r,signal:s}=t;n1(e,"InMemoryLayerAdapter: must have a view");try{const h=await e.whenLayerView(this.layer);if("queryHeatmapStatistics"in h&&!h.updating&&!t.filter)return await h.queryHeatmapStatistics({field:t.field,radius:t.radius})}catch{ze(s)}const{featuresJSON:n,graphics:a}=await this._processStatsFromMemoryParams({...t,returnGeometry:!0}),o=new zu({extent:e.extent,tolerance:e.type==="2d"?e.state.resolution:(u=e.pixelSizeAt)==null?void 0:u.call(e,e.center)}),l={field:i,radius:r,transform:CVe(o),spatialReference:(d=e.spatialReference)==null?void 0:d.toJSON(),size:e.size};return n!=null&&n.length||a!=null&&a.length?n?this.workerClient.heatmapStatistics(l,n):Tce({attribute:l,features:a}):{min:null,max:null}}getField(t=""){return this.layer.getField(t)}getFieldUsageInfo(t){return this.getField(t)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!0,supportsStatistics:!0}:null}getFieldDomain(t,e){return this.layer.getFieldDomain(t,e)}createQuery(){return this.layer.createQuery()}async summaryStatistics(t){const{field:e,valueExpression:i,sqlExpression:r,features:s,view:n}=t,a=e?this.getField(e):null,o=!!i,l=(n==null?void 0:n.type)==="3d";if(!i&&r&&!this.supportsSQLExpression)throw new P(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return o||s||l?this._summaryStatsFromMemory(t,a):this._summaryStatsFromClientQuery(t,a)}async uniqueValues(t){const{valueExpression:e,sqlExpression:i,features:r,view:s}=t,n=await tx(t,this),a=!!e,o=(s==null?void 0:s.type)==="3d";if(!e&&i&&!this.supportsSQLExpression)throw new P(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return a||r||o?this._uvFromMemory(t,n):this._uvFromClientQuery(t,n)}async histogram(t){const{features:e,valueExpression:i,normalizationType:r,sqlExpression:s}=t,n=e||!!i;if(!i&&s&&!this.supportsSQLExpression)throw new P(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return n||r?this._histogramFromMemory(t):this._histogramForField(t)}async classBreaks(t){return t.analyzeData!==!1?this._classBreaksFromMemory(t):this._classBreaksFromInterpolation(t)}async queryFeatureCount(t){const{whereClause:e,view:i,signal:r}=t;if(!i)throw new P(`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=this.layer.createQuery();s.where=Jr(s.where,e);const n=await i.whenLayerView(this.layer);return await cd(()=>!n.updating,r),n.queryFeatureCount(s,{signal:r})}async generateRenderer(t,e){throw new P(`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation")}async predominantCategories(t){const{fields:e,view:i,signal:r,filter:s}=t,n=oF(e),a=await this._uvFromMemory({valueExpression:n,view:i,signal:r,filter:s});return uF(a.uniqueValueInfos,e)}async heatmapStatistics(t){return this._heatmapStatsFromMemory(t)}async getSampleFeatures(t,e){const{view:i,sampleSize:r,requiredFields:s,returnGeometry:n,filter:a,signal:o}=t,l=this.layer.createQuery(),u=1;if(l.outSpatialReference=i==null?void 0:i.spatialReference,l.returnGeometry=!!n,l.outFields=s,Za(l,a),!i)throw new P(`${this.adapterName}:not-supported`,"view is required to get sample features for Layer");const d=await i.whenLayerView(this.layer);if(c7(this,s,d).length)throw new P(`${this.adapterName}:not-supported`,"Required fields need to be passed in the outFields for Layer");const h=await this._fetchFeaturesFromMemory(d,l,o,e),p=r!=null&&r>0&&r<=h.length?r:h.length;return Ib(h,p,u)}load(t){const e=this.layer.load(t).then(async i=>{var r,s,n;this.geometryType=i.geometryType,this.objectIdField=i.objectIdField,this.supportsSQLExpression=i.type==="stream"||!!((s=(r=i.capabilities)==null?void 0:r.query)!=null&&s.supportsSqlExpression),this.minScale=i.minScale,this.maxScale=i.maxScale,this.fullExtent="fullExtent"in i?i.fullExtent:(n=i.parent)==null?void 0:n.fullExtent,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=M3.getInstance(),await this.workerClient.open(t.signal)});return this.addResolvingPromise(e),Promise.resolve(this)}};c([f({readOnly:!0})],om.prototype,"adapterName",void 0),c([f({constructOnly:!0})],om.prototype,"layer",void 0),om=c([E("esri.smartMapping.support.adapters.InMemoryLayerAdapter")],om);const BH=5,UH=2e4,VZe=4e5;let Ar=class extends om{constructor(){super(...arguments),this.adapterName="feature-layer-adapter"}_isStatsSupportedOnService(){var e,i;const t=this.layer;if(!((i=(e=t.capabilities)==null?void 0:e.query)!=null&&i.supportsStatistics)||this.geometryType==="multipatch"&&!Dw(t.url)&&t.version<10.5)throw new P(`${this.adapterName}:not-supported`,"Layer does not support statistics query");return Promise.resolve()}_fetchFeaturesFromService(t,e){return this.layer.queryFeatures(t,{signal:e}).then(i=>i.features)}_fetchFeaturesJSONFromService(t,e){return this._fetchFeaturesFromService(t,e).then(C_)}_summaryStatsFromGenRend(t){const e=t.normalizationType,i=t.normalizationField;return this.classBreaks({field:t.field,numClasses:BH,classificationMethod:"standard-deviation",standardDeviationInterval:.25,normalizationType:e,normalizationField:e==="field"?i:void 0,minValue:t.minValue,maxValue:t.maxValue,filter:t.filter,signal:t.signal}).then(r=>{var l;let s,n,a;if((l=r.classBreakInfos)==null||l.some(u=>(u.hasAvg&&(s=u),!!s)),s){const u=s.maxValue-s.minValue;n=s.minValue+u/2,a=4*u}const o={min:r.minValue,max:r.maxValue,avg:n,stddev:a};return T_(o,t.outStatisticTypes)})}async _summaryStatsFromServiceQuery(t,e){var o;await this._isStatsSupportedOnService(),t.normalizationType==="percent-of-total"&&(t.normalizationTotal=await this._getNormalizationTotal(t.field,t.normalizationType,t.filter));const i=Js(e)||$s(e),r="capabilities"in this.layer?this.layer.capabilities:null,s=dF(this,t,e,((o=r==null?void 0:r.query)==null?void 0:o.supportsPercentileStatistics)??!1),n=await this.layer.queryFeatures(s,{signal:t.signal}),a=lF(n,i);return T_(a,t.outStatisticTypes)}_uvFromGenRenderer(t,e){const i=t.field??void 0,r=new Iu({attributeField:i}),s=new nm({classificationDefinition:r});return this.generateRenderer(s,t.signal).then(n=>{const a={},o=this.getField(i);return n.uniqueValues.forEach(l=>{let u=l.value;u!=null&&u!==""&&(typeof u!="string"||u.trim()!==""&&u.toLowerCase()!=="<null>")||(u=null),a[u]==null?a[u]={count:l.count,data:n3(o)&&u?Number(u):u}:a[u].count=a[u].count+l.count}),{count:a}}).then(n=>I_(n,[e],t.returnAllCodedValues))}async _uvFromServiceQuery(t,e){return this._isStatsSupportedOnService().then(()=>this.layer.queryFeatures(Nce(this,t),{signal:t.signal})).then(i=>cF(i,{layer:this,field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:Tm,view:t.view,signal:t.signal})).then(i=>I_(i,e,t.returnAllCodedValues,Tm))}_getNormalizationTotal(t,e,i,r){return t&&e==="percent-of-total"?this.summaryStatistics({field:t,outStatisticTypes:{include:["sum"]},filter:i,signal:r}).then(s=>s.sum):Promise.resolve(null)}_histogramForExpr(t){return this._getNormalizationTotal(t.field,t.normalizationType,t.filter,t.signal).then(e=>{const i=zce(t,this,e);return Vce(i,this,t.minValue,t.maxValue).then(r=>{const s=r.min,n=r.max;if(s==null||n==null)return{bins:[],minValue:s,maxValue:n,normalizationTotal:e};const a=t.numBins||M_,o=XS(s,n,a),l=jZe(i.sqlExpression,o,t.minValue!=null&&t.maxValue!=null),u=new br({statisticType:"count",outStatisticFieldName:"countOFExpr",onStatisticField:"1"}),d=this.layer.createQuery();return d.where=Jr(d.where,i.sqlWhere),d.sqlFormat="standard",d.outStatistics=[u],d.groupByFieldsForStatistics=[l],d.orderByFields=[l],Za(d,t.filter),this._isStatsSupportedOnService().then(()=>this.layer.queryFeatures(d,{signal:i.signal})).then(h=>Oce(h,s,n,a,e))})})}async _histogramFromQueryAttributeBins(t){const{field:e,normalizationType:i,filter:r,signal:s}=t,n=await this._getNormalizationTotal(e,i,r,s),a=this.layer.createQuery(),{query:o,min:l,max:u}=await jce(t,this,n,a==null?void 0:a.where);if(!o)return{bins:[],minValue:l,maxValue:u,normalizationTotal:n};const d=await this.layer.queryAttributeBins(o,{signal:s});return qce(d,e?this.getField(e):null,{minValue:l,maxValue:u,normalizationTotal:n})}_classBreaksFromGenRend(t){const{field:e,normalizationType:i,normalizationField:r,normalizationTotal:s,signal:n}=t,a=QS({field:e,normalizationType:i,normalizationField:r}),o=e1({field:e,normalizationType:i,normalizationField:r,normalizationTotal:s,layer:this}),l=l7(o,t.minValue,t.maxValue),u=nF({field:e,normalizationType:i,normalizationField:r,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||BH}),d=new nm({classificationDefinition:u});return d.where=Jr(a,l),this.generateRenderer(d,n).then(h=>aF(h,t.classificationMethod))}async summaryStatistics(t){const{field:e,normalizationType:i,valueExpression:r,sqlExpression:s,view:n,features:a,useFeaturesInView:o}=t,l=e?this.getField(e):null,u=Js(l)||$s(l),d=r&&!(s&&this.supportsSQLExpression),h=this._hasLocalSource||a||o,p=n&&n.type==="3d";if(h||d)return d||a||o||p?this._summaryStatsFromMemory(t,l):this._summaryStatsFromClientQuery(t,l);if(!this.supportsSQLExpression&&(u||s||i==="natural-log"||i==="square-root"))throw new P(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return(i&&!this.supportsSQLExpression?this._summaryStatsFromGenRend(t):this._summaryStatsFromServiceQuery(t,l)).catch(()=>(ze(t.signal),this._summaryStatsFromMemory(t,l)))}async uniqueValues(t){const{valueExpression:e,sqlExpression:i,features:r,useFeaturesInView:s,signal:n}=t,a=e&&!(i&&this.supportsSQLExpression),o=this._hasLocalSource||r||s||a,l=t.view,u=l&&l.type==="3d",d=await tx(t,this);return o?a||r||s||u?this._uvFromMemory(t,d):this._uvFromClientQuery(t,d):this._uvFromServiceQuery(t,d).catch(h=>(ze(n),!t.field||t.field2||t.field3||t.filter?h:this._uvFromGenRenderer(t,d[0]))).catch(()=>(ze(n),u?this._uvFromMemory(t,d):this._uvFromClientQuery(t,d)))}async histogram(t){var S,T;const{field:e,normalizationType:i,normalizationField:r,classificationMethod:s,view:n,filter:a,signal:o}=t,l=e?this.getField(e):null,u=Js(l)||$s(l),d=t.valueExpression||t.sqlExpression,h=t.valueExpression&&!(t.sqlExpression&&this.supportsSQLExpression),p=this._hasLocalSource||t.features||t.useFeaturesInView||h,m=this.supportsSQLExpression,g=!s||s==="equal-interval",b=t.minValue,v=t.maxValue,w=b!=null&&v!=null,_=t.numBins||M_;if(p)return this._histogramFromMemory(t);if((T=(S=this.layer.capabilities)==null?void 0:S.operations)!=null&&T.supportsQueryBins&&t.useQueryAttributeBins)try{return await this._histogramFromQueryAttributeBins(t)}catch{return ze(o),this._histogramFromQueryAttributeBinsFromMemory(t)}if((d||m)&&g){if(!m&&(d||i==="natural-log"||i==="square-root"))throw new P(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return this._histogramForExpr(t)}if(u&&g)throw new P(`${this.adapterName}:not-supported`,"Normalization and date field are not allowed when layer does not support standardized SQL expression for queries");return i||!g?QA(t,this).then(C=>{if(!w)return Q6(this,C,e,_,n,a,o);if(b>C.max||v<C.min)throw new P(`${this.adapterName}:insufficient-data`,"Range defined by 'minValue' and 'maxValue' does not intersect available data range of the field");if(g)return Q6(this,{min:b,max:v,sqlExpr:C.sqlExpr,excludeZerosExpr:C.excludeZerosExpr},e,_,n,a,o);{const A={field:e,normalizationType:i,normalizationField:r,normalizationTotal:C.normTotal,layer:this},O=e1(A),L=l7(O,b,v);return QA(t,this,L).then(F=>Q6(this,F,e,_,n,a,o))}}):this._histogramForField(t)}async classBreaks(t){const e=t.analyzeData!==!1,i=this._hasLocalSource||t.features||t.useFeaturesInView||t.valueExpression||t.filter;return e&&i?this._classBreaksFromMemory(t):(e?this._classBreaksFromGenRend(t):this._classBreaksFromInterpolation(t)).catch(()=>(ze(t.signal),this._classBreaksFromMemory(t)))}async queryFeatureCount(t){if(this._hasLocalSource)throw new P(`${this.adapterName}:not-supported`,"Layer does not support count query");const e=this.layer,i=e.createQuery();return i.where=Jr(i.where,t.whereClause),Za(i,t.filter),e.queryFeatureCount(i,{signal:t.signal})}async generateRenderer(t,e){var s;const i=this.layer;if(this._hasLocalSource||i.version<10.1)throw new P(`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation (requires ArcGIS Server version 10.1+)");const r=i.createQuery();return t.where=Jr(t.where,r.where),HWe(((s=i.parsedUrl)==null?void 0:s.path)??"",{source:i.dynamicDataSource??void 0,gdbVersion:i.gdbVersion??void 0},t,{signal:e})}async predominantCategories(t){if(!this._hasLocalSource&&!this.supportsSQLExpression)throw new P(`${this.adapterName}:not-supported`,"Layer does not support advanced SQL expressions and standardized queries");const{fields:e,view:i,signal:r,filter:s}=t,n=oF(e),a=ZWe(e),o=i&&this._hasLocalSource?await this._uvFromMemory({valueExpression:n,view:i,signal:r,filter:s}):await this._uvFromServiceQuery({sqlExpression:a.expression,valueExpression:n,signal:r,filter:s});return uF(o.uniqueValueInfos,e)}async getSampleFeatures(t,e){var m,g;const{view:i,requiredFields:r,returnGeometry:s,filter:n,signal:a}=t,o=t.sampleSize;if(o==null||o===0)return[];const l=this.layer.createQuery(),u=1,d=e==="json";l.outSpatialReference=i==null?void 0:i.spatialReference,l.returnGeometry=!!s,l.outFields=r,Za(l,n);let h=[],p=!1;if(i)try{const b=await i.whenLayerView(this.layer);if(p=!c7(this,r,b).length,p){if(o>=1&&!t.filter&&"getSampleFeatures"in b){await this._waitForLayerViewUpdate(b);const v=await b.getSampleFeatures({minFeatureCount:o,sampleSize:o});if(v!=null)return d?v:v.map(w=>mt.fromJSON(w))}if(h=await this._fetchFeaturesFromMemory(b,l,a,e),h.length>=o&&o>0)return Ib(h,o,u)}}catch{ze(a)}try{if(this._hasLocalSource)return p?h:d?await this._fetchFeaturesJSONFromService(l,a):await this._fetchFeaturesFromService(l,a);const b=await this.queryFeatureCount({view:i,filter:n,signal:a}),v=this.layer.capabilities.query.maxRecordCount;let w=o===-1?b:o;if(w=v&&w>v?v:w,b<=h.length||h.length>=v)return h;if(l.maxAllowableOffset=t.resolution||(i?i.extent.width/i.width/i.scale:mR(this.layer.spatialReference))*VZe,b<=w)return d?await this._fetchFeaturesJSONFromService(l,a):await this._fetchFeaturesFromService(l,a);if(b<=UH){const _=this.layer.createQuery();Za(_,n);const S=await this.layer.queryObjectIds();return l.objectIds=Ib(S,w,u),d?await this._fetchFeaturesJSONFromService(l,a):await this._fetchFeaturesFromService(l,a)}return(g=(m=this.layer.capabilities)==null?void 0:m.query)!=null&&g.supportsPagination&&(l.num=Math.min(w,UH)),d?await this._fetchFeaturesJSONFromService(l,a):await this._fetchFeaturesFromService(l,a)}catch{return ze(a),h}}load(t){const e=this.layer.load(t).then(async i=>{var r,s;this.geometryType=i.geometryType,this.objectIdField=i.objectIdField,this.supportsSQLExpression=(s=(r=i.capabilities)==null?void 0:r.query)==null?void 0:s.supportsSqlExpression,this._hasLocalSource=!i.url&&!!i.source,this.hasQueryEngine=this._hasLocalSource,this.minScale=i.minScale,this.maxScale=i.maxScale,this.fullExtent=i.fullExtent,this.workerClient=M3.getInstance(),await this.workerClient.open(t.signal)});return this.addResolvingPromise(e),Promise.resolve(this)}};function jZe(t,e,i){const r=[],s=e.length;return e.forEach((n,a)=>{const[o,l]=n;let u=null;u=a!==0||i?a!==s-1||i?Jr(`${t} >= ${o}`,`${t} ${a===s-1?" <= ":" < "} ${l}`):`${t} >= ${o}`:`${t} < ${l}`,r.push("WHEN ("+u+") THEN "+(a+1))}),["CASE",r.join(" "),"ELSE 0","END"].join(" ")}c([f({readOnly:!0})],Ar.prototype,"adapterName",void 0),c([f({constructOnly:!0})],Ar.prototype,"layer",void 0),Ar=c([E("esri.smartMapping.support.adapters.FeatureLayerAdapter")],Ar);let K6=class extends Ar{constructor(){super(...arguments),this.adapterName="csv-layer-adapter"}async _createGenerateRendererResult(e,i,r,s,n){const a=e==null?void 0:e.features;if(!(a==null?void 0:a.length))throw new P("csv-layer-adapter:insufficient-data","No features are available to calculate statistics");const l=C_(a);let u=null;if(s==="percent-of-total"&&(u=(await this.workerClient.summaryStatistics({field:i},l)).sum,u==null))throw new P("csv-layer-adapter:invalid","invalid normalizationTotal");if((n==null?void 0:n.type)==="class-breaks-definition"){const h=(await Kb({field:i,normalizationType:s,normalizationField:r,normalizationTotal:u},l)).filter(p=>Number.isFinite(p));return gce({definition:n,values:h,normalizationTotal:u})}const d=(await Kb({field:i},l)).filter(h=>h!=null&&typeof h=="string"&&h.trim()!=="");return iWe(d)}generateRenderer(e,i){const r=e.classificationDefinition;let s=null,n=null,a=null;(r==null?void 0:r.type)==="class-breaks-definition"?(s=r.classificationField,n=r.normalizationField,a=r.normalizationType):s=r==null?void 0:r.attributeField;const o=this.layer;return ad({field:s,normalizationField:n}).then(l=>{const u=o.createQuery();return u.returnGeometry=!1,u.outFields=l,u.where=Jr(u.where,e.where),o.queryFeatures(u,{signal:i}).then(d=>this._createGenerateRendererResult(d,s,n,a,r))})}load(e){const i=this.layer.load(e).then(async r=>{this.geometryType=r.geometryType,this.objectIdField=r.objectIdField,this.supportsSQLExpression=!0,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=M3.getInstance(),await this.workerClient.open(e.signal)});return this.addResolvingPromise(i),Promise.resolve(this)}};c([f({readOnly:!0})],K6.prototype,"adapterName",void 0),K6=c([E("esri.smartMapping.support.adapters.CSVLayerAdapter")],K6);let e4=class extends Ar{constructor(){super(...arguments),this.adapterName="feature-layer-binning-adapter"}async _getNormalizationTotalFromMemory(e,i,r){const{featuresJSON:s,graphics:n,layerView:a,query:o}=i,l={include:["sum"]},u=(!s&&!n&&a&&"queryAggregateSummaryStatistics"in a?await a.queryAggregateSummaryStatistics(o,{field:e,outStatisticTypes:l},{signal:r}):s?await this.workerClient.summaryStatistics({field:e},s):await i0({attribute:{field:e,outStatisticTypes:l},features:n})).sum;if(u==null)throw new P(`${this.adapterName}:invalid`,"invalid normalizationTotal");return u}async _processStatsFromMemoryParams(e){const{features:i,filter:r}=e;if(i!=null&&i.length)return this._getFilteredFeatures(i,r);const{view:s,field:n,field2:a,field3:o,normalizationField:l,valueExpression:u,returnGeometry:d,layerViewFunc:h,signal:p}=e;let m=null,g=null,b=null,v=null,w=null;if(s)try{if(m=await s.whenLayerView(this.layer),g=h!=null&&h in m&&typeof m[h]=="function",g){await this._waitForLayerViewUpdate(m);const _=await ad({field:n,field2:a,field3:o,normalizationField:l,valueExpression:u});zH(this,_).length?g=!1:(b="createAggregateQuery"in m?m.createAggregateQuery():null,b?(b.outFields=_,b.returnGeometry=!1,Za(b,r)):g=!1),m.suspended&&(g=!1)}}catch{g=!1}if(!g&&(w=VH(this.layer).map(_=>_.toJSON()),v=await this._fetchFeaturesForStats({field:n,field2:a,field3:o,valueExpression:u,normalizationField:l,returnGeometry:d,filter:r,view:s,signal:p},"json"),!(v!=null&&v.length)))throw new P(`${this.adapterName}:insufficient-data`,"No features are available to calculate statistics");return{layerView:m,query:b,featuresJSON:v,fieldInfos:w}}async _summaryStatsFromMemory(e,i){const{view:r,field:s,valueExpression:n,normalizationType:a,signal:o}=e,l={field:s,valueExpression:n,normalizationType:a,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes},{featuresJSON:u,graphics:d,layerView:h,query:p,fieldInfos:m}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateSummaryStatistics"});return n&&r&&(u||d)&&(l.fieldType=i!=null&&i.type?w1.toJSON(i.type):null,l.viewInfoParams=Wa(r),l.timeZone=r.timeZone,l.fieldInfos=m),a==="percent-of-total"&&e.normalizationTotal==null&&(l.normalizationTotal=await this._getNormalizationTotalFromMemory(s,{featuresJSON:u,graphics:d,layerView:h,query:p},o)),!u&&!d&&h&&"queryAggregateSummaryStatistics"in h?h.queryAggregateSummaryStatistics(p,l,{signal:o}):u?this.workerClient.summaryStatistics(l,u):i0({attribute:l,features:d})}async _uvFromMemory(e,i){const{view:r,field:s,valueExpression:n,returnAllCodedValues:a,signal:o}=e,{featuresJSON:l,graphics:u,layerView:d,query:h,fieldInfos:p}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateUniqueValues"}),m={field:s,field2:e.field2,field3:e.field3,fieldDelimiter:Tm,valueExpression:n,domains:i,returnAllCodedValues:a};return n&&r&&(l||u)&&(m.viewInfoParams=Wa(r),m.timeZone=r.timeZone,m.fieldInfos=p),!l&&!u&&d&&"queryAggregateUniqueValues"in d?d.queryAggregateUniqueValues(h,m,{signal:o}):l?this.workerClient.uniqueValues(m,l):KS({attribute:m,features:u})}async _histogramFromMemory(e){const{view:i,field:r,valueExpression:s,signal:n}=e,{featuresJSON:a,graphics:o,layerView:l,query:u,fieldInfos:d}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateHistogram"}),h={field:r,valueExpression:s,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return s&&i&&(a||o)&&(h.viewInfoParams=Wa(i),h.timeZone=i.timeZone,h.fieldInfos=d),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(h.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:a,graphics:o,layerView:l,query:u},n)),!a&&!o&&l&&"queryAggregateHistogram"in l?l.queryAggregateHistogram(u,h,{signal:n}):a?this.workerClient.histogram(h,a):E_({attribute:h,features:o})}async _classBreaksFromMemory(e){const{view:i,field:r,valueExpression:s,signal:n}=e,{featuresJSON:a,graphics:o,layerView:l,query:u,fieldInfos:d}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateClassBreaks"}),h={field:r,valueExpression:s,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return s&&i&&(a||o)&&(h.viewInfoParams=Wa(i),h.timeZone=i.timeZone,h.fieldInfos=d),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(h.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:a,graphics:o,layerView:l,query:u},n)),!a&&!o&&l&&"queryAggregateClassBreaks"in l?l.queryAggregateClassBreaks(u,h,{signal:n}):a?this.workerClient.classBreaks(h,a):ex({attribute:h,features:o})}getField(e=""){const i=VH(this.layer);return i==null?void 0:i.find(r=>r.name.toLowerCase()===(e==null?void 0:e.toLowerCase()))}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!1,supportsStatistics:!0}:null}getFieldDomain(e,i){return null}async summaryStatistics(e){const{field:i}=e,r=i?this.getField(i):null,s=Js(r)||$s(r),n=e.sqlExpression&&!e.valueExpression&&!i;if(s||n)throw new P(`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._summaryStatsFromMemory(e,r)}async uniqueValues(e){const i=await tx(e,this);return this._uvFromMemory(e,i)}async histogram(e){const{field:i}=e,r=i?this.getField(i):null,s=Js(r)||$s(r),n=e.sqlExpression&&!e.valueExpression&&!i;if(s||n)throw new P(`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._histogramFromMemory(e)}async classBreaks(e){return(e.analyzeData!==!1?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)).catch(()=>(ze(e.signal),this._classBreaksFromMemory(e)))}async queryFeatureCount(e){var s;const i=await((s=e.view)==null?void 0:s.whenLayerView(this.layer));if(!i||!("queryAggregateCount"in i)||!i.queryAggregateCount)throw new P(`${this.adapterName}:not-supported`,"LayerView is not supported.");await this._waitForLayerViewUpdate(i);const r=i.createAggregateQuery();return r.where=Jr(r.where,e.whereClause),Za(r,e.filter),i.queryAggregateCount(r,{signal:e.signal})}generateRenderer(e,i){throw new P(`${this.adapterName}:not-supported`,"'generateRenderer' is not supported.")}heatmapStatistics(e){throw new P(`${this.adapterName}:not-supported`,"'heatmapStatistics' is not supported.")}async predominantCategories(e){const{fields:i,view:r,signal:s}=e,n=oF(i),a=await this._uvFromMemory({valueExpression:n,view:r,signal:s});return uF(a.uniqueValueInfos,i)}async getSampleFeatures(e,i){const{view:r,sampleSize:s,requiredFields:n,returnGeometry:a,filter:o,signal:l}=e;if(!r)throw new P(`${this.adapterName}:not-supported`,"'view' is required to get sample features for binning.");if(r.type==="3d")throw new P(`${this.adapterName}:not-supported`,"3d 'view' is not supported to get sample features for binning.");const u=await r.whenLayerView(this.layer);if(!("queryAggregateJSON"in u&&u.queryAggregateJSON&&"queryAggregates"in u&&u.queryAggregates))throw new P(`${this.adapterName}:not-supported`,"LayerView is not supported.");if(await this._waitForLayerViewUpdate(u),zH(this,n).length)throw new P(`${this.adapterName}:insufficient-data`,"Layer does not have required fields");const d=1,h=i==="json",p=u.createAggregateQuery();p.outSpatialReference=r==null?void 0:r.spatialReference,p.returnGeometry=!!a,p.outFields=n,Za(p,o);const{features:m}=h?await u.queryAggregateJSON(p,{signal:l}):await u.queryAggregates(p,{signal:l});return m.length&&s!=null&&s>0&&s<=m.length?Ib(m,s,d):m}load(e){const i=this.layer.load(e).then(async r=>{this.geometryType="polygon",this.objectIdField=null,this.supportsSQLExpression=!1,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.minScale=r.minScale,this.maxScale=r.maxScale,this.fullExtent=r.fullExtent;const s="featureReduction"in r?r.featureReduction:null;if((s==null?void 0:s.type)!=="binning"&&(s==null?void 0:s.type)!=="cluster")throw new P(`${this.adapterName}:invalid-parameters`,`Feature reduction type ${s==null?void 0:s.type} is not supported`);this.workerClient=M3.getInstance(),await this.workerClient.open(e.signal)});return this.addResolvingPromise(i),Promise.resolve(this)}};c([f({readOnly:!0})],e4.prototype,"adapterName",void 0),e4=c([E("esri.smartMapping.support.adapters.FeatureLayerBinningAdapter")],e4);const qZe=e4;let vg=class extends dn{constructor(e){super(e),this._featureLayerAdapter=null,this.workerClient=null,this.adapterName="scene-layer-adapter"}destroy(){var e;(e=this.workerClient)==null||e.destroy()}_hasCachedStatistics(e){return this.layer.hasCachedStatistics(e)}_updateQuery(e,i=[],r=[]){if(!e||!r.length)return e;const s=this.layer.objectIdField,n=e.clone(),a=i.filter(l=>{const u=this.layer.getField(l);return!r.includes(u.name)}),o=a.some(l=>this.layer.getField(l).name===s);return n.outFields=o?a:[...a,s],n}async _fetchFeaturesFromMemory(e,i,r){if(!e)throw new P("scene-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const s=await e.whenLayerView(this.layer),n=new AbortController,a=n.signal,o=cd(()=>!s.updating,a);await PZ(o,5e3,n);const l=c7(this,r,s);ze(a);const u=this._updateQuery(i,r??[],l),d=await s.queryFeatures(u,{signal:a});ze(a);const h=d.features;return l.length?s.whenGraphicAttributes(h,l):h}async _fetchFeaturesJSONFromMemory(e,i,r){return this._fetchFeaturesFromMemory(e,i,r).then(C_)}_fetchFeaturesForStats(e,i){return ad({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then(r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,requiredFields:r,signal:e.signal},i))}async _processStatsFromMemoryParams(e){const i=e.features;if(i!=null&&i.length)return i.length&&"declaredClass"in i[0]&&i[0].declaredClass==="esri.Graphic"?{graphics:i}:{featuresJSON:i};const{view:r,field:s,normalizationField:n,valueExpression:a,signal:o}=e,l=await this._fetchFeaturesForStats({field:s,valueExpression:a,normalizationField:n,view:r,signal:o},null);if(!(l!=null&&l.length))throw new P("scene-layer-adapter:insufficient-data","No features are available to calculate statistics");return{graphics:l}}_getCachedStatistics(e,i){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.minValue||e.maxValue?Promise.reject(new P("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression', 'sqlWhere', 'minValue' or 'maxValue' is specified")):r.queryCachedStatistics(i==null?void 0:i.name,{signal:e.signal}).then(s=>{const n=s.stats,{min:a,max:o,totalValuesCount:l}=n;let{avg:u,stddev:d,sum:h,variance:p,count:m}=n;return a===0&&o===0||(u=u===0?null:u,h=h===0?null:h,d=d===0?null:d,p=p===0?null:p,m=m===0?null:m),m==null&&(h!=null&&u!=null?m=Math.round(h/u):l!=null&&(m=l)),{avg:u,count:m,max:o,min:a,stddev:d,sum:h,variance:p}})}async _getNormalizationTotal(e,i,r){const s={include:["sum"]},n=(i?await this.workerClient.summaryStatistics({field:e,outStatisticTypes:s},i):await i0({attribute:{field:e,outStatisticTypes:s},features:r})).sum;if(n==null)throw new P("scene-layer-adapter:invalid","invalid normalizationTotal");return n}async _getSummaryStatisticsFromMemory(e,i){const{view:r,field:s,normalizationField:n,valueExpression:a}=e,{featuresJSON:o,graphics:l}=await this._processStatsFromMemoryParams(e),u={field:s,valueExpression:a,normalizationType:e.normalizationType,normalizationField:n,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes};return e.valueExpression&&r&&o&&(u.fieldType=i!=null&&i.type?w1.toJSON(i.type):null,u.viewInfoParams=Wa(r),u.timeZone=r.timeZone),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(u.normalizationTotal=await this._getNormalizationTotal(s,o,l)),o?this.workerClient.summaryStatistics(u,o):i0({attribute:u,features:l})}_getCachedStatisticsForUniqueValues(e,i){const r=this.layer,s=i==null?void 0:i.name,n=i&&e.field?this.getFieldDomain(e.field):null;return e.valueExpression||e.sqlExpression||e.sqlWhere?Promise.reject(new P("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression' or 'sqlWhere' is specified")):r.queryCachedStatistics(s,{signal:e.signal}).then(a=>{var m;const o=a.stats;if(!o.mostFrequentValues)throw new Error;const l=(m=a.labels)==null?void 0:m.labels,u={},d=[],h="countOF"+s;o.mostFrequentValues.forEach(g=>{const b=new mt({attributes:{}});b.attributes[s]=i&&i.name!==r.objectIdField&&(n3(i)||Js(i))?Number(g.value):g.value,b.attributes[h]=g.count,d.push(b)}),l&&l.forEach(g=>{u[g.value]=g.label});const p=new di({features:d});return cF(p,{layer:this,field:e.field,labels:u,view:e.view,signal:e.signal})}).then(a=>I_(a,[n],e.returnAllCodedValues))}async _getUniqueValuesFromMemory(e,i){const{view:r,field:s,field2:n,field3:a,valueExpression:o,returnAllCodedValues:l}=e,u={field:s,field2:n,field3:a,fieldDelimiter:Tm,valueExpression:o,domains:i,returnAllCodedValues:l},{featuresJSON:d,graphics:h}=await this._processStatsFromMemoryParams(e);return e.valueExpression&&r&&d&&(u.viewInfoParams=Wa(r),u.timeZone=r.timeZone),d?this.workerClient.uniqueValues(u,d):KS({attribute:u,features:h})}_getCachedStatisticsForHistogram(e,i){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.normalizationType?Promise.reject(new P("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression' or 'sqlExpression' or 'sqlWhere' or 'normalizationType' is specified")):r.queryCachedStatistics(i&&i.name,{signal:e.signal}).then(s=>{const n=s.stats,{minValue:a,maxValue:o}=e,l=a??n.min,u=o??n.max,d=e.numBins||10,h=BZe(n.histogram,l,u,d);return Oce(h,l,u,d)})}async _getClassBreaksFromMemory(e){const{view:i,field:r,normalizationField:s,valueExpression:n}=e,{featuresJSON:a,graphics:o}=await this._processStatsFromMemoryParams(e),l={field:r,valueExpression:n,normalizationType:e.normalizationType,normalizationField:s,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return e.valueExpression&&i&&a&&(l.viewInfoParams=Wa(i),l.timeZone=i.timeZone),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(l.normalizationTotal=await this._getNormalizationTotal(r,a,o)),a?this.workerClient.classBreaks(l,a):ex({attribute:l,features:o})}async _getHistogramFromMemory(e){const{view:i,field:r}=e,{featuresJSON:s,graphics:n}=await this._processStatsFromMemoryParams(e),a={field:r,valueExpression:e.valueExpression,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return e.valueExpression&&i&&s&&(a.viewInfoParams=Wa(i),a.timeZone=i.timeZone),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(a.normalizationTotal=await this._getNormalizationTotal(r,s,n)),s?this.workerClient.histogram(a,s):E_({attribute:a,features:n})}getField(e){return this.layer.getField(e??"")}getFieldUsageInfo(e){const i=this.getField(e);if(!i)return null;const r=this.layer.getFieldUsageInfo(i.name);return{supportsLabelingInfo:r.supportsLabelingInfo,supportsPopupTemplate:r.supportsPopupTemplate,supportsRenderer:r.supportsRenderer,supportsLayerQuery:r.supportsLayerQuery,supportsStatistics:!0}}getFieldDomain(e,i){return this._featureLayerAdapter?this._featureLayerAdapter.getFieldDomain(e,i):null}createQuery(){return this.layer.createQuery()}summaryStatistics(e){const i=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.summaryStatistics(e);if(e.filter)throw new P("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(i==null?void 0:i.name)?this._getCachedStatistics(e,i).catch(()=>(ze(e.signal),this._getSummaryStatisticsFromMemory(e,i))):this._getSummaryStatisticsFromMemory(e,i)}async uniqueValues(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.uniqueValues(e);if(e.filter)throw new P("scene-layer-adapter:not-supported","filter is not supported");const i=await tx(e,this),{field:r,field2:s}=e,n=r&&s,a=this.getField(r);return!n&&a&&this._hasCachedStatistics(a.name)?this._getCachedStatisticsForUniqueValues(e,a).catch(()=>(ze(e.signal),this._getUniqueValuesFromMemory(e,i))):this._getUniqueValuesFromMemory(e,i)}histogram(e){const i=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.histogram(e);if(e.filter)throw new P("scene-layer-adapter:not-supported","filter is not supported");return i&&this._hasCachedStatistics(i.name)?this._getCachedStatisticsForHistogram(e,i).catch(()=>(ze(e.signal),this._getHistogramFromMemory(e))):this._getHistogramFromMemory(e)}classBreaks(e){const i=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.classBreaks(e);if(e.filter)throw new P("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(i==null?void 0:i.name)?Promise.reject(new P("scene-layer-adapter:not-supported","Cached stats not supported")):this._getClassBreaksFromMemory(e)}queryFeatureCount(e){return this._featureLayerAdapter?this._featureLayerAdapter.queryFeatureCount(e):Promise.reject(new P("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support count query"))}generateRenderer(e,i){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(e,i):Promise.reject(new P("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support generateRenderer operation"))}heatmapStatistics(e){return this._featureLayerAdapter?this._featureLayerAdapter.heatmapStatistics(e):Promise.reject(new P("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support heatmapStatistics operation"))}async predominantCategories(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.predominantCategories(e);throw new P("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support predominantCategories")}async getSampleFeatures(e,i){if(e.filter)throw new P("scene-layer-adapter:not-supported","filter is not supported");const{view:r,sampleSize:s,requiredFields:n,returnGeometry:a,signal:o}=e,l=1,u=i==="json",d=this.createQuery();d.outFields=n,d.returnGeometry=!!a,d.where=null,d.num=s;let h=[];try{if(h=u?await this._fetchFeaturesJSONFromMemory(r,d,n):await this._fetchFeaturesFromMemory(r,d,n),h.length&&s!=null&&s>0&&s<=h.length)return Ib(h,s,l)}catch{ze(o)}let p=null;if(this._featureLayerAdapter){const m={...e};delete m.view,p=await this._featureLayerAdapter.getSampleFeatures(m,i)}return p!=null&&p.length?p:Ib(h,h.length,l)}load(e){const i=this.layer.load(e).then(async r=>{this.workerClient=M3.getInstance(),await this.workerClient.open(e.signal);const s=r.associatedLayer;if(this.geometryType=r.geometryType,s!=null)return this._featureLayerAdapter=new Ar({layer:s}),this._featureLayerAdapter.load(e).then(()=>{this.objectIdField=this._featureLayerAdapter.objectIdField,this.supportsSQLExpression=this._featureLayerAdapter.supportsSQLExpression,this.minScale=this._featureLayerAdapter.minScale,this.maxScale=this._featureLayerAdapter.maxScale,this.fullExtent=this._featureLayerAdapter.fullExtent});this.objectIdField=r.objectIdField,this.supportsSQLExpression=!1,this.hasQueryEngine=!1,this.fullExtent=r.fullExtent});return this.addResolvingPromise(i),Promise.resolve(this)}};function BZe(t,e=t.minimum,i=t.maximum,r){const s=[];for(let u=0;u<r;u++)s[u]=0;const n=t.counts.length,a=t.minimum,o=t.maximum;for(let u=0;u<n;u++){const d=(u+.5)/n,h=((1-d)*a+d*o-e)/(i-e)*r;h>=0&&h<=r&&(s[h===r?r-1:Math.floor(h)]+=t.counts[u])}const l=[];return s.forEach((u,d)=>{const h=new mt({attributes:{}});h.attributes.EXPR_1=d+1,h.attributes.countOFExpr=u,l.push(h)}),new di({features:l})}c([f({readOnly:!0})],vg.prototype,"adapterName",void 0),c([f({constructOnly:!0})],vg.prototype,"layer",void 0),vg=c([E("esri.smartMapping.support.adapters.SceneLayerAdapter")],vg);let t4=class extends vg{constructor(e){super(e),this.adapterName="point-cloud-layer-adapter"}getField(e){return this.layer.fieldsIndex.get(e??"")}getFieldUsageInfo(e){const i=this.getField(e);if(!i)return null;const r=this._hasCachedStatistics(i.name);return{supportsLabelingInfo:r,supportsPopupTemplate:r,supportsRenderer:r,supportsLayerQuery:!1,supportsStatistics:r}}getFieldDomain(){return null}load(e){const i=this.layer.load(e).then(()=>{this.geometryType="point",this.objectIdField=null,this.supportsSQLExpression=!1,this.hasQueryEngine=!1});return this.addResolvingPromise(i),Promise.resolve(this)}};c([f({readOnly:!0})],t4.prototype,"adapterName",void 0),t4=c([E("esri.smartMapping.support.adapters.PointCloudLayerAdapter")],t4);let i4=class extends om{constructor(){super(...arguments),this.adapterName="stream-layer-adapter"}async _summaryStatsFromClientQuery(e,i){var l;const{signal:r,view:s}=e,n=dF(this,e,i);n.outStatistics=(l=n.outStatistics)==null?void 0:l.filter(u=>u.outStatisticFieldName!=="totalcount_value");const a=await this._fetchFeatureSetFromMemory(n,s,r),o=lF(a,Js(i)||$s(i));return T_(o,e.outStatisticTypes)}};c([f({readOnly:!0})],i4.prototype,"adapterName",void 0),i4=c([E("esri.smartMapping.support.adapters.StreamLayerAdapter")],i4);var Ae;(function(t){t[t.CatalogLayer=0]="CatalogLayer",t[t.CatalogFootprintLayer=1]="CatalogFootprintLayer",t[t.CSVLayer=2]="CSVLayer",t[t.FeatureLayer=3]="FeatureLayer",t[t.GeoJSONLayer=4]="GeoJSONLayer",t[t.ImageryLayer=5]="ImageryLayer",t[t.KnowledgeGraphSublayer=6]="KnowledgeGraphSublayer",t[t.OGCFeatureLayer=7]="OGCFeatureLayer",t[t.OrientedImageryLayer=8]="OrientedImageryLayer",t[t.ParquetLayer=9]="ParquetLayer",t[t.PointCloudLayer=10]="PointCloudLayer",t[t.SceneLayer=11]="SceneLayer",t[t.StreamLayer=12]="StreamLayer",t[t.SubtypeGroupLayer=13]="SubtypeGroupLayer",t[t.SubtypeSublayer=14]="SubtypeSublayer",t[t.WFSLayer=15]="WFSLayer"})(Ae||(Ae={}));const KA={[Ae.CatalogLayer]:{adapter:Ar,type:"catalog",label:"CatalogLayer"},[Ae.CatalogFootprintLayer]:{adapter:Ar,type:"catalog-footprint",label:"CatalogFootprintLayer"},[Ae.CSVLayer]:{adapter:K6,type:"csv",label:"CSVLayer"},[Ae.FeatureLayer]:{adapter:Ar,type:"feature",label:"FeatureLayer"},[Ae.ImageryLayer]:{adapter:Ar,type:"imagery",label:"ImageryLayer"},[Ae.GeoJSONLayer]:{adapter:Ar,type:"geojson",label:"GeoJSONLayer"},[Ae.KnowledgeGraphSublayer]:{adapter:Ar,type:"knowledge-graph-sublayer",label:"KnowledgeGraphSublayer"},[Ae.OGCFeatureLayer]:{adapter:om,type:"ogc-feature",label:"OGCFeatureLayer"},[Ae.OrientedImageryLayer]:{adapter:Ar,type:"oriented-imagery",label:"OrientedImageryLayer"},[Ae.ParquetLayer]:{adapter:Ar,type:"parquet",label:"ParquetLayer"},[Ae.PointCloudLayer]:{adapter:t4,type:"point-cloud",label:"PointCloudLayer"},[Ae.SceneLayer]:{adapter:vg,type:"scene",label:"SceneLayer"},[Ae.StreamLayer]:{adapter:i4,type:"stream",label:"StreamLayer"},[Ae.SubtypeGroupLayer]:{adapter:Ar,type:"subtype-group",label:"SubtypeGroupLayer"},[Ae.SubtypeSublayer]:{adapter:Ar,type:"subtype-sublayer",label:"SubtypeSublayer"},[Ae.WFSLayer]:{adapter:Ar,type:"wfs",label:"WFSLayer"}},fF=[Ae.CatalogLayer,Ae.CatalogFootprintLayer,Ae.CSVLayer,Ae.FeatureLayer,Ae.GeoJSONLayer,Ae.KnowledgeGraphSublayer,Ae.OGCFeatureLayer,Ae.OrientedImageryLayer,Ae.ParquetLayer,Ae.PointCloudLayer,Ae.SceneLayer,Ae.StreamLayer,Ae.SubtypeGroupLayer,Ae.SubtypeSublayer,Ae.WFSLayer],C3=[Ae.CatalogFootprintLayer,Ae.CSVLayer,Ae.FeatureLayer,Ae.GeoJSONLayer,Ae.KnowledgeGraphSublayer,Ae.OGCFeatureLayer,Ae.OrientedImageryLayer,Ae.ParquetLayer,Ae.SceneLayer,Ae.StreamLayer,Ae.SubtypeGroupLayer,Ae.SubtypeSublayer,Ae.WFSLayer],P1=[Ae.CSVLayer,Ae.FeatureLayer,Ae.GeoJSONLayer,Ae.OGCFeatureLayer,Ae.KnowledgeGraphSublayer,Ae.OrientedImageryLayer,Ae.ParquetLayer,Ae.StreamLayer,Ae.WFSLayer];function L1(t){return t.map(e=>KA[e].label)}function R1(t,e=fF,i){if(t instanceof dn)return t;const r=UZe(t,e);return r?i?new qZe({layer:t}):new r({layer:t}):null}function UZe(t,e=fF){let i=null;return e.some(r=>{const s=t.type===KA[r].type;return s&&(i=KA[r].adapter),s}),i}const GZe=[...x5e,...GFe,"time-only","string"];async function HZe(t){if(!(t!=null&&t.layer)||!(t.field||t.valueExpression||t.sqlExpression))throw new P("summary-statistics:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(t.valueExpression&&!t.sqlExpression&&!t.view)throw new P("summary-statistics:missing-parameters","View is required when 'valueExpression' is specified");t.forBinning&&A1(t,"summary-statistics");const{layer:e,...i}=t,r=[...fF,Ae.ImageryLayer],s=t.forBinning?P1:r,n=R1(e,s,t.forBinning);if(!n)throw new P("summary-statistics:invalid-parameters","'layer' must be one of these types: "+L1(s).join(", "));const a={layerAdapter:n,...i};a.normalizationType=HFe(a);const o=a.signal!=null?{signal:a.signal}:null;await n.load(o);const l=a.field,u=a.normalizationType,d=a.valueExpression||a.sqlExpression,h=l?n.getField(l):null,p=await ad({field:a.field,normalizationField:a.normalizationField,valueExpression:a.valueExpression}),m=zWe(n,p,"summary-statistics:invalid-parameters");if(m)throw m;if(h){const b=NWe(n,h,"summary-statistics:invalid-parameters",GZe);if(b)throw b;if((Js(h)||$s(h))&&u)throw new P("summary-statistics:invalid-parameters","Normalization is not allowed for date fields")}else if(d&&u)throw new P("summary-statistics:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");a.filter&&!a.filter.spatialRelationship&&(a.filter.spatialRelationship="intersects");const g=DWe(a.filter,"summary-statistics:invalid-parameters");if(g)throw g;return a}async function WZe(t){const{layerAdapter:e,...i}=await HZe(t);return e.summaryStatistics(i)}function GH(t,e=!1){let i=[];if(e){for(const h of t)if(h.geometry){const p=h.geometry;i.push.apply(i,p.points)}}else i=t.map(h=>h.geometry);const r=[],s=[];let n=1/0,a=-1/0,o=0,l=0,u=0,d=0;for(const h of i){if(!h)continue;e?(r[0]=h[0],r[1]=h[1]):(r[0]=h.x,r[1]=h.y);let p=1/0,m=-1/0;for(const g of i){if(g===h||!g)continue;e?(s[0]=g[0],s[1]=g[1]):(s[0]=g.x,s[1]=g.y);const b=Q_(r,s);b>0&&(b<p&&(p=b),b<n&&(n=b),b>m&&(m=b),b>a&&(a=b))}p!==1/0&&(++u,o+=p),m!==-1/0&&(++d,l+=m)}return{minDistance:n!==1/0?n:null,maxDistance:a!==-1/0?a:null,avgMinDistance:u?o/u:null,avgMaxDistance:d?l/d:null}}function ZZe(t){let e=0,i=0,r=1/0,s=-1/0;for(const n of t){const a=n.geometry;if(a){let o=0;for(const l of a.paths){const u=AY(l);u>0&&(o+=u)}o>0&&(++e,i+=o,o<r&&(r=o),o>s&&(s=o))}}return{minLength:r!==1/0?r:null,maxLength:s!==-1/0?s:null,avgLength:e?i/e:null}}function JZe(t){let e=0,i=0,r=1/0,s=-1/0;for(const n of t){const a=n.geometry;if(a){const o=bL(a);if(o){const l=Math.abs(o.xmax-o.xmin),u=Math.abs(o.ymax-o.ymin),d=Math.sqrt(l*u);d>0&&(++e,i+=d,d<r&&(r=d),d>s&&(s=d))}}}return{minSize:r!==1/0?r:null,maxSize:s!==-1/0?s:null,avgSize:e?i/e:null}}function Bce(t){const{features:e}=t;let i=null;switch(t.geometryType){case"point":i=GH(e);break;case"multipoint":i=GH(e,!0);break;case"polyline":i=ZZe(e);break;case"polygon":i=JZe(e)}return Promise.resolve(i)}const YZe=[{size:10,width:0},{size:20,width:.5},{size:80,width:1},{size:250,width:2}];async function XZe(t){const{view:e}=t;if(!(t&&e&&t.layer))throw new P("outline:missing-parameters","'view' and 'layer' parameters are required");t.forBinning&&A1(t,"outline");const{layer:i,...r}=t,s=t.forBinning?P1:C3,n=R1(i,s,t.forBinning);if(!n)throw new P("outline:invalid-parameters","'layer' must be one of these types: "+L1(s).join(", "));const a={layerAdapter:n,...r,view:e};await e.when();const o=a.signal!=null?{signal:a.signal}:null;if(await n.load(o),n.geometryType!=="polygon")throw new P("outline:not-supported",`outline is not supported for geometryType: ${n.geometryType}`);return a}function QZe(t,e){const i=t.avgSize,r=QC(1,e.spatialReference),s=YZe.map(n=>new Nr({size:n.width,value:Math.round(i/n.size*r)}));return s.sort((n,a)=>n.value-a.value),{visualVariables:[new Ke({target:"outline",valueExpression:"$view.scale",stops:s})],opacity:.25}}async function KZe(t){const{layerAdapter:e,...i}=await XZe(t),r=-1,s=await e.getSampleFeatures({sampleSize:r,returnGeometry:!0,...i},"json");if(!(s!=null&&s.length))throw new P("outline:insufficient-info","No features are available to calculate statistics");const n=await Bce({features:s,geometryType:e.geometryType});if(!(n&&"avgSize"in n&&n.avgSize))throw new P("outline:insufficient-info","average polygon size is invalid");return QZe({...n,avgSize:n.avgSize},i.view)}const eJe=500,tJe=1e8,LT=1280,iJe=12,rJe=30,sJe=15;async function nJe(t){const{view:e,sampleSize:i}=t;if(!t||!t.layer)throw new P("scale-range:missing-parameters","'layer' parameter is required");if(t.snapToLOD&&!e)throw new P("scale-range:missing-parameters","'view' parameter is required when 'snapToLOD' is true");t.forBinning&&A1(t,"scale-range");const{layer:r,...s}=t,n=t.forBinning?P1:C3,a=R1(r,n,t.forBinning);if(!a)throw new P("scale-range:invalid-parameters","'layer' must be one of these types: "+L1(n).join(", "));const o={layerAdapter:a,...s};o.sampleSize=i||eJe,await(e==null?void 0:e.when());const l=o.signal!=null?{signal:o.signal}:null;return await a.load(l),o}function aJe(t,e){const i=iJe,r=LT/4,s=rJe,n=LT/4,a=sJe,o=LT/2;let l=0,u=0,d=0,h=0;switch(t){case"point":case"multipoint":{const p=e;l=p.avgMinDistance??0,u=i,d=p.minDistance??0,h=r;break}case"polyline":{const p=e;l=p.avgLength??0,u=s,d=p.minLength??0,h=n;break}case"polygon":{const p=e;l=p.avgSize??0,u=a,d=p.minSize??0,h=o;break}}return{resolutionForMinScale:l>0?l/u:null,resolutionForMaxScale:d>0?d/h:null}}function oJe(t,e,i){const r=aJe(t.geometryType,e),s=(i==null?void 0:i.spatialReference)||t.layer.spatialReference;return{minScale:QC(r.resolutionForMinScale??0,s),maxScale:QC(r.resolutionForMaxScale??0,s)}}function HH(t,e,i=!0){if(t.constraints&&"effectiveLODs"in t.constraints){const r=t.constraints.effectiveLODs,s=i?r:r.slice().reverse();let n=null;for(const a of s)if(!(i?a.scale>e:a.scale<e)){n=a;break}return n}}function lJe(t,e,i,r){const{view:s,snapToLOD:n,layerAdapter:a}=t;if(n&&s){const o=HH(s,e),l=HH(s,i,!1);e=o?o.scale:e,i=l?l.scale:i}if(e<i)throw new P("scale-range:invalid","calculated minScale is less than maxScale.");return i>e/2&&(i=Math.floor(i/2)),e>tJe&&(e=0),a.geometryType!=="polygon"&&(i=0),{minScale:Math.ceil(e),maxScale:Math.floor(i),spatialStatistics:r}}async function cJe(t){const e=await nJe(t),{view:i,sampleSize:r,layerAdapter:s,signal:n,filter:a}=e,o=await s.getSampleFeatures({view:i,sampleSize:r,returnGeometry:!0,filter:a,signal:n},"json");if(!(o!=null&&o.length))throw new P("scale-range:insufficient-info","No features are available to calculate statistics");const l=await Bce({features:o,geometryType:s.geometryType}),{minScale:u,maxScale:d}=oJe(s,l,i);return lJe(e,u,d,l)}const uJe=1e8,dJe=1128.497176,fJe=591657527591555e-6,hJe=[10,8,4,2],pJe=[100,100,60,30],mJe=[2,1,.75,.5],yJe=[32,18,12,6],gJe=[{level:0,resolution:156543.03392800014,scale:591657527591555e-6},{level:1,resolution:78271.51696399994,scale:295828763795777e-6},{level:2,resolution:39135.75848200009,scale:147914381897889e-6},{level:3,resolution:19567.87924099992,scale:73957190948944e-6},{level:4,resolution:9783.93962049996,scale:36978595474472e-6},{level:5,resolution:4891.96981024998,scale:18489297737236e-6},{level:6,resolution:2445.98490512499,scale:9244648868618e-6},{level:7,resolution:1222.992452562495,scale:4622324434309e-6},{level:8,resolution:611.4962262813797,scale:2311162217155e-6},{level:9,resolution:305.74811314055756,scale:1155581108577e-6},{level:10,resolution:152.87405657041106,scale:577790.554289},{level:11,resolution:76.43702828507324,scale:288895.277144},{level:12,resolution:38.21851414253662,scale:144447.638572},{level:13,resolution:19.10925707126831,scale:72223.819286},{level:14,resolution:9.554628535634155,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.388657133974685,scale:9027.977411},{level:17,resolution:1.1943285668550503,scale:4513.988705},{level:18,resolution:.5971642835598172,scale:2256.994353},{level:19,resolution:.29858214164761665,scale:1128.497176}];async function bJe(t){const{view:e}=t;if(!(t&&e&&t.layer))throw new P("size-range:missing-parameters","'view' and 'layer' parameters are required");t.forBinning&&A1(t,"size-range");const{layer:i,...r}=t,s=t.forBinning?P1:C3,n=R1(i,s,t.forBinning);if(!n)throw new P("size-range:invalid-parameters","'layer' must be one of these types: "+L1(s).join(", "));const a={layerAdapter:n,...r,view:e};await e.when();const o=a.signal!=null?{signal:a.signal}:null;await n.load(o);const l=n.geometryType;if(l!=="point"&&l!=="multipoint"&&l!=="polyline"&&l!=="polygon")throw new P("size-range:not-supported",`sizeRange is not supported for geometryType: ${l}`);return a}function vJe(t,e){const i=Math.ceil(t/e);let r=Math.ceil(i/4);r<4?r=4:r>16&&(r=16);const s=5*r;return{min:r,max:s<50?50:s}}function Uce(t,e){const{view:i}=t;if(!i)throw new P("scale-range:invalid-parameters","'view' is required");const r=e.minScale||uJe,s=i.constraints&&"effectiveLODs"in i.constraints&&i.constraints.effectiveLODs||gJe,n=[];for(let a=0;a<s.length;a++){if(s[a].scale>r)continue;const o=Number(a),l=[o-3,o,o+3,o+6];for(const u of l)u>-1&&u<s.length&&n.push(s[u].scale);break}return n.sort((a,o)=>a-o)}function wJe(t,e){const{view:i,layerAdapter:r}=t;if(!i)throw new P("scale-range:invalid-parameters","'view' is required");const s=r.fullExtent,n=r.minScale||dJe,a=r.maxScale||fJe,o=e.minScale||0,l=e.maxScale||0;let u=s!=null?gEe(i,s):0;return u=u<n&&u>a?u:0,{scales:[n,a,o,l,u].map(Math.round).sort((d,h)=>d-h).filter((d,h,p)=>!!d&&p.indexOf(d)===h).filter((d,h,p)=>!h||Math.abs(d-p[h-1])>5),fullExtentScale:u}}function _Je(t,e){const{minScale:i,maxScale:r}=e,s=Uce(t,{minScale:i});if(!s.length)throw new P("scale-range:insufficient-info","not enough scale values");return{minSize:new Ke({valueExpression:"$view.scale",stops:s.map((n,a)=>new Nr({value:n,size:lt(hJe[a])}))}),maxSize:new Ke({valueExpression:"$view.scale",stops:s.map((n,a)=>new Nr({value:n,size:lt(pJe[a])}))})}}function SJe(t,e){const{minScale:i,maxScale:r}=e,s=Uce(t,{minScale:i});if(!s.length)throw new P("scale-range:insufficient-info","not enough scale values");return{minSize:new Ke({valueExpression:"$view.scale",stops:s.map((n,a)=>new Nr({value:n,size:lt(mJe[a])}))}),maxSize:new Ke({valueExpression:"$view.scale",stops:s.map((n,a)=>new Nr({value:n,size:lt(yJe[a])}))})}}function xJe(t,e){const{spatialStatistics:i,minScale:r,maxScale:s}=e;if(!("avgSize"in i)||!i.avgSize)throw new P("size-range:insufficient-info","average polygon size is invalid");const n=i.avgSize,{view:a}=t;if(!a)throw new P("scale-range:invalid-parameters","'view' is required");const{resolution:o,scale:l}=a,u=o/l,{scales:d,fullExtentScale:h}=wJe(t,{minScale:r,maxScale:s}),p=[],m=[];return d.forEach((g,b)=>{const{min:v,max:w}=vJe(n,u*g),_=d.indexOf(h),S=_>-1&&b>_?2:1;p.push(new Nr({value:g,size:lt(v/S)})),m.push(new Nr({value:g,size:lt(w/S)}))}),{minSize:new Ke({valueExpression:"$view.scale",stops:p}),maxSize:new Ke({valueExpression:"$view.scale",stops:m})}}async function $Je(t){const e=await bJe(t),{view:i,layerAdapter:r,signal:s,filter:n}=e,a=await cJe({layer:r,view:i,signal:s,filter:n});switch(r.geometryType){case"point":case"multipoint":return _Je(e,a);case"polyline":return SJe(e,a);case"polygon":return xJe(e,a);case"mesh":case"multipatch":return null}return null}async function TJe(t){var d,h;await t.whenReady();const e=((d=t.basemapView)==null?void 0:d.baseLayerViews.map(p=>p.layer).toArray())??[];if(!e.length){const p=getComputedStyle(t.container).backgroundColor,m=p?new ee(p):void 0;return("background"in t?(h=t.background)==null?void 0:h.color:void 0)||((m==null?void 0:m.a)!==0?m:null)||null}const i=(await t.takeScreenshot({format:"png",layers:e})).data.data,r=i.length;let s=0,n=0,a=0,o=0,l=0,u=0;for(let p=0;p<r;p+=4){const m=i[p],g=i[p+1],b=i[p+2],v=i[p+3],w=v/255;s+=m*m*w,n+=g*g*w,a+=b*b*w,l+=w,v&&(o+=v,u++)}return s=Math.round(Math.sqrt(s/l)),n=Math.round(Math.sqrt(n/l)),a=Math.round(Math.sqrt(a/l)),new ee([s,n,a,o/u/255])}async function IJe(t){if(!t)return null;const e=await TJe(t);return e!=null?yOe(e):null}const WH=new ee([0,0,0,.4]),EJe=[...Gb.light,...Gb.dark];function ZH(t,e,i){return t+e>0&&0>t-e&&i<0?0:t}function MJe(t,e,i,r){const{avg:s,stddev:n,min:a,max:o}=t,l=CJe(t,!!i);let u=l?l[0]:a,d=l?l[1]:o;return l?{minDataValue:u,maxDataValue:d,defaultValuesUsed:!0}:(e==="above"?u=ZH(s,n,a):e==="below"&&(d=ZH(s,n,a)),{minDataValue:u,maxDataValue:d,defaultValuesUsed:!1})}function CJe(t,e,i){let r,s;const n=kJe({statistics:t,isDate:e});return n.defaultValuesUsed?(r=n.min,s=n.max):t.avg!=null&&t.stddev||(r=t.min,s=t.max),r!=null&&s!=null?[r,s]:null}function kJe(t){let e,i,r=t&&t.statistics;if(r||(r={}),r.min==null)if(t.isDate){const s=JH();e=s[0],i=s[1]}else e=0,i=100;else if(r.min===r.max)if(t.isDate){const s=JH(r.min);e=s[0],i=s[1]}else r.min<0?(e=2*r.min,i=0):r.min>0?(e=0,i=2*r.min):(e=0,i=100);return{min:e??r.min,max:i??r.max,defaultValuesUsed:e!=null||i!=null}}function JH(t){const e=(typeof t=="number"?new Date(t):new Date).getUTCFullYear();let i=Date.UTC(e,0,1,12,0,0,0),r=Date.UTC(e,11,31,12,0,0,0);return typeof t=="number"&&(t<i&&(i=t),t>r&&(r=t)),[i,r]}function AJe({minDataValue:t,maxDataValue:e,defaultValuesUsed:i},r,s,n=!0){return i||s==="above"||s==="below"?PJe(t,e,5):LJe(r,n)}function PJe(t,e,i){const r=(e-t)/(i-1),s=[t];for(let n=1;n<=i-2;n++)s.push(t+n*r);return s.push(e),t0(s,{strictBounds:!0})}function LJe({min:t,max:e,avg:i,stddev:r},s=!0){if(t==null||e==null||i==null||r==null)return[];let n=i-r,a=i+r;n<t&&(n=t),a>e&&(a=e),s&&(i=n+(a-n)/2);let o=t0([n,a],{strictBounds:!0});return n=o[0],a=o[1],o=[n,n+(i-n)/2,i,i+(a-i)/2,a],t0(o,{strictBounds:!0})}function YH(t,e,i){switch(e){case"point":case"multipoint":return"size"in t?t.size:null;case"polyline":return"width"in t?t.width:null;case"polygon":return"size"in t?t.size:null;default:return}}function XH(t,e,i){switch(e){case"point":case"multipoint":case"polygon":{if(!("outline"in t))return null;const r={color:t.outline.color,width:t.outline.width};if(i!=null&&r.color){const s=r.color.clone();s.a=i,r.color=s}return r}default:return}}function QH(t,e){var o,l;const{type:i,size:r,color:s,outline:n}=e;let a;switch(t){case"point":case"multipoint":if(i==="2d")a=new Qt({color:s,size:r,outline:{color:n.color,width:n.width}});else if(i==="3d-flat")a=new Zr({symbolLayers:new K([new Pr({size:r,resource:{primitive:"circle"},material:{color:s},outline:{color:n.color,size:n.width}})])});else if(i!=null&&i.includes("3d-volumetric")){const u=i==="3d-volumetric-uniform",d=new yr({height:r,resource:{primitive:u?"sphere":"cylinder"},material:{color:s}});u||(d.width=e.widthAndDepth,d.depth=e.widthAndDepth),a=new Zr({symbolLayers:new K([d])})}break;case"polyline":i==="2d"?a=new hi({color:s,width:r}):i==="3d-flat"?a=new na({symbolLayers:new K([new ds({size:r,material:{color:s}})])}):i==="3d-volumetric"&&(a=new na({symbolLayers:new K([new Cr({width:typeof r=="number"?r:parseFloat(r),height:typeof r=="number"?r:parseFloat(r),material:{color:s}})])}));break;case"polygon":i==="2d"?a=new ys({color:s,outline:{color:n.color,width:n.width}}):i==="3d-flat"?a=new _n({symbolLayers:new K([new Hr({material:{color:s},outline:{color:n.color,size:n.width}})])}):i==="3d-volumetric"&&(a=new _n({symbolLayers:new K([new kl({size:r,material:{color:s}})])}));break;case"mesh":{const u=(o=e.meshInfo)==null?void 0:o.colorMixMode,d=(l=e.meshInfo)==null?void 0:l.edgesType;a=new _c({symbolLayers:new K([new Hr({material:{color:s,colorMixMode:u||null},edges:d==="solid"?new iR({color:WH}):d==="sketch"?new zee({color:WH}):null})])});break}}return a}function Gce(t,e,i){const r=RJe({layer:t,fields:e});if(r.length)return new P(i,"Unknown fields: "+r.join(", ")+". You can only use fields defined in the layer schema");const s=OJe({layer:t,fields:e});return s.length?new P(i,"Unsupported fields: "+s.join(", ")+". You can only use fields that are accessible to the renderer i.e. FieldUsageInfo.supportsRenderer must be true"):void 0}function RJe(t){const e=t.layer;return t.fields.filter(i=>!e.getField(i))}function OJe(t){const e=t.layer;return t.fields.filter(i=>{const r=e.getFieldUsageInfo(i);return!r||!r.supportsRenderer})}function FJe(t){return WZe({outStatisticTypes:qFe,...t})}async function NJe(t,e){var s;let i=null,r=null;if(!t&&!e)return{basemapId:i,basemapTheme:r};if(e&&(r=await IJe(e),t||(t=(s=e.map)==null?void 0:s.basemap)),t&&(i=vO(t,EJe,!1),i&&!r)){const n=bO(i);n!=null&&(r=n)}return!i&&r&&(i=r==="dark"?"dark-gray":"gray"),{basemapId:i,basemapTheme:r}}function KH(t){var i;const e=(i=t.name)==null?void 0:i.toLowerCase();if(!e||e!=null&&e.includes(":insufficient-info")||e!=null&&e.includes(":insufficient-data"))return null;throw t}const DJe={"seq-yellow-orange-red-bright":{1:["#ff7b22"],2:["#c0370f","#ff7b22"],3:["#b1260b","#e05919","#ff8e33"],4:["#a11506","#d04814","#ef6a1d","#ffa143"],5:["#a11506","#d04814","#ef6a1d","#ff8e33","#ffb454"],6:["#a11506","#c0370f","#e05919","#ef6a1d","#ff8e33","#ffb454"],7:["#a11506","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffc764"],8:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffc764"],9:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74"],10:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"],stops:["#910000","#c33910","#f6711f","#fbaf52","#ffed85"],tags:["light","reds","yellows","oranges","bright","sequential","colorblind-friendly"],name:"Orange 1"},"seq-yellow-pink-purple":{1:["#b65fa5"],2:["#e6b7c4","#b65fa5"],3:["#eecec9","#d588b9","#a14e96"],4:["#f6e5cf","#dd9fbf","#cc71b4","#8c3c88"],5:["#f6e5cf","#dd9fbf","#cc71b4","#a14e96","#762a79"],6:["#f6e5cf","#e6b7c4","#d588b9","#cc71b4","#a14e96","#762a79"],7:["#f6e5cf","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#61196a"],8:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#61196a"],9:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#762a79","#4b075b"],10:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#762a79","#4b075b","#350242"],stops:["#fffcd4","#e0b2c1","#c168ad","#7b3578","#350242"],tags:["light","purples","pinks","sequential","colorblind-friendly"],name:"Purple 1"},"seq-red-blue-green":{1:["#6193b3"],2:["#bac6df","#6193b3"],3:["#d1d1e5","#8cb1d2","#4e8099"],4:["#e8dbeb","#a3bbd8","#75a6cc","#3b6e80"],5:["#e8dbeb","#a3bbd8","#75a6cc","#4e8099","#275b67"],6:["#e8dbeb","#bac6df","#8cb1d2","#75a6cc","#4e8099","#275b67"],7:["#e8dbeb","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#14484d"],8:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#14484d"],9:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#275b67","#003534"],10:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#275b67","#003534","#002624"],stops:["#ffe6f1","#b5c2d9","#6b9dc0","#366272","#002624"],tags:["light","blues","subdued","sequential","colorblind-friendly"],name:"Blue 1"},"seq-pink-red":{1:["#c75c49"],2:["#ecacaa","#c75c49"],3:["#f1c1c5","#e18073","#b44f3b"],4:["#f6d7e0","#e6968e","#db6a58","#a1412c"],5:["#f6d7e0","#e6968e","#db6a58","#b44f3b","#8d331d"],6:["#f6d7e0","#ecacaa","#e18073","#db6a58","#b44f3b","#8d331d"],7:["#f6d7e0","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#7a260f"],8:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#7a260f"],9:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#8d331d","#661800"],10:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#8d331d","#661800","#510b00"],stops:["#fcedfb","#e7a8a6","#d16351","#913729","#510b00"],tags:["light","reds","subdued","sequential","colorblind-friendly"],name:"Red 1"},"seq-yellow-purple-blue":{1:["#8573cb"],2:["#cdc1d9","#8573cb"],3:["#ddd4d7","#ab99db","#7062b9"],4:["#eee8d6","#bcadda","#9a85dd","#5a50a7"],5:["#eee8d6","#bcadda","#9a85dd","#7062b9","#453e94"],6:["#eee8d6","#cdc1d9","#ab99db","#9a85dd","#7062b9","#453e94"],7:["#eee8d6","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#302d82"],8:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#302d82"],9:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#453e94","#1b1b70"],10:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#453e94","#1b1b70","#10104f"],stops:["#fffcd4","#c8bcd4","#907cd4","#504692","#10104f"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 2"},"seq-yellow-orange-red":{1:["#d4743c"],2:["#f2c38e","#d4743c"],3:["#f6d6a5","#e99e5f","#c35d30"],4:["#fbe9bd","#eeb177","#e58b48","#b24625"],5:["#fbe9bd","#eeb177","#e58b48","#c35d30","#a12f19"],6:["#fbe9bd","#f2c38e","#e99e5f","#e58b48","#c35d30","#a12f19"],7:["#fbe9bd","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#90180d"],8:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#90180d"],9:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#a12f19","#7f0101"],10:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#a12f19","#7f0101","#660000"],stops:["#fffcd4","#eebe8b","#dd8042","#a24021","#660000"],tags:["light","reds","oranges","sequential","colorblind-friendly"],name:"Red 2"},"seq-yellow-green-blue":{1:["#5a93a8"],2:["#b4d2c6","#5a93a8"],3:["#cde0ca","#82b6bc","#4b7e98"],4:["#e6eecf","#9bc4c1","#69a8b7","#3d6a89"],5:["#e6eecf","#9bc4c1","#69a8b7","#4b7e98","#2e557a"],6:["#e6eecf","#b4d2c6","#82b6bc","#69a8b7","#4b7e98","#2e557a"],7:["#e6eecf","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#1f406a"],8:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#1f406a"],9:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#2e557a","#102b5b"],10:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#2e557a","#102b5b","#0d2644"],stops:["#fffcd4","#b1cdc2","#629eb0","#38627a","#0d2644"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 2"},"seq-yellow-red-purple":{1:["#420239"],2:["#fffcd4","#420239"],3:["#fffcd4","#d86868","#420239"],4:["#fffcd4","#ecb29e","#d86868","#420239"],5:["#fffcd4","#ecb29e","#d86868","#9b3557","#420239"],6:["#fffcd4","#ecb29e","#d86868","#9b3557","#872351","#420239"],7:["#fffcd4","#ecb29e","#d86868","#9b3557","#872351","#5e0146","#420239"],8:["#fffcd4","#ecb29e","#df817a","#d86868","#9b3557","#872351","#5e0146","#420239"],9:["#fffcd4","#f2cbb0","#ecb29e","#df817a","#d86868","#9b3557","#872351","#5e0146","#420239"],10:["#fffcd4","#f2cbb0","#ecb29e","#df817a","#d86868","#c45762","#9b3557","#872351","#5e0146","#420239"],stops:["#fffcd4","#e7ae9d","#ce6065","#88314f","#420239"],tags:["light","purples","sequential","colorblind-friendly"],name:"Pink 1"},"seq-orange-red-light":{1:["#660202"],2:["#ffefdc","#660202"],3:["#ffefdc","#d15e3d","#660202"],4:["#ffefdc","#f5c5ab","#d15e3d","#660202"],5:["#ffefdc","#f5c5ab","#d15e3d","#b13925","#660202"],6:["#ffefdc","#f5c5ab","#e27149","#d15e3d","#b13925","#660202"],7:["#ffefdc","#f5c5ab","#e78662","#e27149","#d15e3d","#b13925","#660202"],8:["#ffefdc","#f5c5ab","#e78662","#e27149","#d15e3d","#b13925","#a02619","#660202"],9:["#ffefdc","#f5c5ab","#f1b093","#e78662","#e27149","#d15e3d","#b13925","#a02619","#660202"],10:["#ffefdc","#f5c5ab","#f1b093","#e78662","#e27149","#d15e3d","#b13925","#a02619","#7f0101","#660202"],stops:["#ffefdc","#edac90","#da6843","#a03523","#660202"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 3"},"seq-orange-red-dark":{1:["#470000"],2:["#ffefdc","#470000"],3:["#ffefdc","#ab472f","#470000"],4:["#ffefdc","#ab472f","#7a1c13","#470000"],5:["#ffefdc","#c76f54","#ab472f","#7a1c13","#470000"],6:["#ffefdc","#dea28b","#c76f54","#ab472f","#7a1c13","#470000"],7:["#ffefdc","#dea28b","#c76f54","#ab472f","#8b2b1d","#7a1c13","#470000"],8:["#ffefdc","#dea28b","#c76f54","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],9:["#ffefdc","#dea28b","#c76f54","#bc5539","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],10:["#ffefdc","#e9bca6","#dea28b","#c76f54","#bc5539","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],stops:["#ffefdc","#d99f88","#b34e34","#7d271a","#470000"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 4"},"seq-single-blues":{1:["#9ecae1"],2:["#bdd7e7","#6baed6"],3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],10:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#083582","#022259"],stops:["rgba(239, 243, 255, 1)","rgba(189, 215, 231, 1)","rgba(107, 174, 214, 1)","rgba(49, 130, 189, 1)","rgba(8, 81, 156, 1)"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 3"},"seq-single-greens":{1:["#a1d99b"],2:["#bae4b3","#74c476"],3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],10:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#065220","#023414"],stops:["rgba(237, 248, 233, 1)","rgba(186, 228, 179, 1)","rgba(116, 196, 118, 1)","rgba(49, 163, 84, 1)","rgba(0, 109, 44, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 1"},"seq-single-grays":{1:["#bdbdbd"],2:["#cccccc","#969696"],3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],10:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#999999","#7a7a7a","#595959","#404040","#262626","#000000"],stops:["rgba(247, 247, 247, 1)","rgba(204, 204, 204, 1)","rgba(150, 150, 150, 1)","rgba(99, 99, 99, 1)","rgba(37, 37, 37, 1)"],tags:["light","grays","sequential","colorblind-friendly"],name:"Gray 1"},"seq-single-oranges":{1:["#fdae6b"],2:["#fdbe85","#fd8d3c"],3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],10:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704","#591502"],stops:["rgba(254, 237, 222, 1)","rgba(253, 190, 133, 1)","rgba(253, 141, 60, 1)","rgba(230, 85, 13, 1)","rgba(166, 54, 3, 1)"],tags:["light","oranges","sequential","colorblind-friendly"],name:"Orange 2"},"seq-single-purples":{1:["#bcbddc"],2:["#cbc9e2","#9e9ac8"],3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],10:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d","#2d0059"],stops:["rgba(242, 240, 247, 1)","rgba(203, 201, 226, 1)","rgba(158, 154, 200, 1)","rgba(117, 107, 177, 1)","rgba(84, 39, 143, 1)"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 3"},"seq-single-reds":{1:["#fc9272"],2:["#fcae91","#fb6a4a"],3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],10:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#7d0011","#52000b"],stops:["rgba(254, 229, 217, 1)","rgba(252, 174, 145, 1)","rgba(251, 106, 74, 1)","rgba(222, 45, 38, 1)","rgba(165, 15, 21, 1)"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 5"},"seq-multi-bugn":{1:["#99d8c9"],2:["#b2e2e2","#66c2a4"],3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],10:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#005824","#033d18"],stops:["rgba(237, 248, 251, 1)","rgba(178, 226, 226, 1)","rgba(102, 194, 164, 1)","rgba(44, 162, 95, 1)","rgba(0, 109, 44, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 2"},"seq-multi-bupu":{1:["#9ebcda"],2:["#b3cde3","#8c96c6"],3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],10:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#680066","#3f013f"],stops:["rgba(237, 248, 251, 1)","rgba(179, 205, 227, 1)","rgba(140, 150, 198, 1)","rgba(136, 86, 167, 1)","rgba(129, 15, 124, 1)"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 4"},"seq-multi-gnbu":{1:["#a8ddb5"],2:["#bae4bc","#7bccc4"],3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],10:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081","#0e2f6b"],stops:["rgba(240, 249, 232, 1)","rgba(186, 228, 188, 1)","rgba(123, 204, 196, 1)","rgba(67, 162, 202, 1)","rgba(8, 104, 172, 1)"],tags:["light","blues","greens","sequential","colorblind-friendly"],name:"Blue 4"},"seq-multi-orrd":{1:["#fdbb84"],2:["#fdcc8a","#fc8d59"],3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],10:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#8a0002","#660000"],stops:["rgba(254, 240, 217, 1)","rgba(253, 204, 138, 1)","rgba(252, 141, 89, 1)","rgba(227, 74, 51, 1)","rgba(179, 0, 0, 1)"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 6"},"seq-multi-pubu":{1:["#a6bddb"],2:["#bdc9e1","#74a9cf"],3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],10:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#06436b","#05304d"],stops:["rgba(241, 238, 246, 1)","rgba(189, 201, 225, 1)","rgba(116, 169, 207, 1)","rgba(43, 140, 190, 1)","rgba(4, 90, 141, 1)"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 5"},"seq-multi-pubugn":{1:["#a6bddb"],2:["#bdc9e1","#67a9cf"],3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],10:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#095742","#073d2c"],stops:["rgba(246, 239, 247, 1)","rgba(189, 201, 225, 1)","rgba(103, 169, 207, 1)","rgba(28, 144, 153, 1)","rgba(1, 108, 89, 1)"],tags:["light","greens","blues","sequential","colorblind-friendly"],name:"Green 3"},"seq-multi-purd":{1:["#c994c7"],2:["#d7b5d8","#df65b0"],3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],10:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f","#48000c"],stops:["rgba(241, 238, 246, 1)","rgba(215, 181, 216, 1)","rgba(223, 101, 176, 1)","rgba(221, 28, 119, 1)","rgba(152, 0, 67, 1)"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Pink 2"},"seq-multi-rdpu":{1:["#fa9fb5"],2:["#fbb4b9","#f768a1"],3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],10:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a","#2d004d"],stops:["rgba(254, 235, 226, 1)","rgba(251, 180, 185, 1)","rgba(247, 104, 161, 1)","rgba(197, 27, 138, 1)","rgba(122, 1, 119, 1)"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Pink 3"},"seq-multi-ylgn":{1:["#addd8e"],2:["#c2e699","#78c679"],3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],10:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#09522c","#023827"],stops:["rgba(255, 255, 204, 1)","rgba(194, 230, 153, 1)","rgba(120, 198, 121, 1)","rgba(49, 163, 84, 1)","rgba(0, 104, 55, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 4"},"seq-multi-ylgnbu":{1:["#7fcdbb"],2:["#a1dab4","#41b6c4"],3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],10:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#2f419e","#152875","#061b42"],stops:["rgba(255, 255, 204, 1)","rgba(161, 218, 180, 1)","rgba(65, 182, 196, 1)","rgba(44, 127, 184, 1)","rgba(37, 52, 148, 1)"],tags:["light","blues","greens","sequential","colorblind-friendly"],name:"Blue 6"},"seq-multi-ylorbr":{1:["#fec44f"],2:["#fed98e","#fe9929"],3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],10:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#702607","#57220b"],stops:["rgba(255, 255, 212, 1)","rgba(254, 217, 142, 1)","rgba(254, 153, 41, 1)","rgba(217, 95, 14, 1)","rgba(153, 52, 4, 1)"],tags:["light","yellows","oranges","sequential","colorblind-friendly"],name:"Orange 3"},"seq-multi-ylorrd":{1:["#feb24c"],2:["#fecc5c","#fd8d3c"],3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],10:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#940025","#67001f"],stops:["rgba(255, 255, 178, 1)","rgba(254, 204, 92, 1)","rgba(253, 141, 60, 1)","rgba(240, 59, 32, 1)","rgba(189, 0, 38, 1)"],tags:["light","reds","yellows","oranges","sequential","colorblind-friendly"],name:"Orange 4"},"seq-teal-lightgreen-bright":{1:["#add46a"],2:["#e2ebd3","#2d8078"],3:["#e2ebd3","#add46a","#2d8078"],4:["#e2ebd3","#c8e09f","#add46a","#2d8078"],5:["#e2ebd3","#c8e09f","#add46a","#62afa7","#2d8078"],6:["#e2ebd3","#c8e09f","#add46a","#8fc890","#62afa7","#2d8078"],7:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#50a098","#2d8078"],8:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#73bfb7","#50a098","#2d8078"],9:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#73bfb7","#62afa7","#50a098","#2d8078"],10:["#e2ebd3","#d5e5b9","#c8e09f","#bada84","#add46a","#8fc890","#73bfb7","#62afa7","#50a098","#2d8078"],stops:["#e2ebd3","#c8e09f","#add46a","#62afa7","#2d8078"],tags:["light","greens","blues","sequential","colorblind-friendly"],name:"Green 5"},"seq-green-lightgray-bright":{1:["#a3af96"],2:["#e6e4e1","#4e6605"],3:["#e6e4e1","#a3af96","#4e6605"],4:["#e6e4e1","#d9d7d6","#7c9e14","#4e6605"],5:["#e6e4e1","#d9d7d6","#a3af96","#7c9e14","#4e6605"],6:["#e6e4e1","#d9d7d6","#a3af96","#93ba1c","#7c9e14","#4e6605"],7:["#e6e4e1","#d9d7d6","#c0bebe","#a3af96","#93ba1c","#7c9e14","#4e6605"],8:["#e6e4e1","#d9d7d6","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#4e6605"],9:["#e6e4e1","#d9d7d6","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#65820d","#4e6605"],10:["#e6e4e1","#d9d7d6","#cdcbca","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#65820d","#4e6605"],stops:["#e6e4e1","#d9d7d6","#a3af96","#7c9e14","#4e6605"],tags:["light","greens","sequential","grays","colorblind-friendly"],name:"Green 6"},"seq-red-lightgray-bright":{1:["#b3bfd1"],2:["#d7e1ee","#991f17"],3:["#d7e1ee","#b3bfd1","#991f17"],4:["#d7e1ee","#cbd6e4","#c86558","#991f17"],5:["#d7e1ee","#cbd6e4","#b3bfd1","#c86558","#991f17"],6:["#d7e1ee","#cbd6e4","#b3bfd1","#df8879","#c86558","#991f17"],7:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#df8879","#c86558","#991f17"],8:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#df8879","#c86558","#b04238","#991f17"],9:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#a4a2a8","#df8879","#c86558","#b04238","#991f17"],10:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#a7b4c7","#a4a2a8","#df8879","#c86558","#b04238","#991f17"],stops:["#d7e1ee","#cbd6e4","#b3bfd1","#c86558","#991f17"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 7"},"seq-blue-lightgray-bright":{1:["#9cadb4"],2:["#ebe6df","#007f99"],3:["#ebe6df","#9cadb4","#007f99"],4:["#ebe6df","#c3beb9","#40a7b9","#007f99"],5:["#ebe6df","#c3beb9","#9cadb4","#40a7b9","#007f99"],6:["#ebe6df","#ded9d2","#c3beb9","#9cadb4","#40a7b9","#007f99"],7:["#ebe6df","#ded9d2","#c3beb9","#9cadb4","#40a7b9","#2093a9","#007f99"],8:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#9cadb4","#40a7b9","#2093a9","#007f99"],9:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#9cadb4","#60bbc9","#40a7b9","#2093a9","#007f99"],10:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#b6b1ac","#9cadb4","#60bbc9","#40a7b9","#2093a9","#007f99"],stops:["#ebe6df","#c3beb9","#9cadb4","#40a7b9","#007f99"],tags:["light","blues","sequential","grays","colorblind-friendly"],name:"Blue 7"},"seq-orange-lightgray-bright":{1:["#b39e93"],2:["#dfe1e6","#8c4a23"],3:["#dfe1e6","#b39e93","#8c4a23"],4:["#dfe1e6","#bbbfc9","#c4703e","#8c4a23"],5:["#dfe1e6","#bbbfc9","#b39e93","#c4703e","#8c4a23"],6:["#dfe1e6","#d3d6dc","#bbbfc9","#e0834c","#c4703e","#8c4a23"],7:["#dfe1e6","#d3d6dc","#bbbfc9","#b39e93","#e0834c","#c4703e","#8c4a23"],8:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#b39e93","#e0834c","#c4703e","#8c4a23"],9:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#b39e93","#e0834c","#c4703e","#a85d31","#8c4a23"],10:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#afb4bf","#b39e93","#e0834c","#c4703e","#a85d31","#8c4a23"],stops:["#dfe1e6","#bbbfc9","#b39e93","#c4703e","#8c4a23"],tags:["light","oranges","browns","sequential","grays","colorblind-friendly"],name:"Orange 5"},"seq-blue-red-yellow-bright":{1:["#c59ca4"],2:["#eae2bb","#1d4e89"],3:["#eae2bb","#c59ca4","#1d4e89"],4:["#e9d7b8","#e8c9b3","#a48d9e","#606d94"],5:["#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94"],6:["#eae2bb","#e9d7b8","#e8c9b3","#a48d9e","#606d94","#1d4e89"],7:["#eae2bb","#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94","#1d4e89"],8:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#c59ca4","#a48d9e","#606d94","#1d4e89"],9:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#c59ca4","#a48d9e","#827d99","#606d94","#1d4e89"],10:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#d7aba9","#c59ca4","#a48d9e","#827d99","#606d94","#1d4e89"],stops:["#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 8"},"seq-gray-lightgreen-bright":{1:["#b1bf85"],2:["#635e5e","#d9f191"],3:["#635e5e","#b1bf85","#d9f191"],4:["#635e5e","#928d8d","#c2e655","#d9f191"],5:["#635e5e","#928d8d","#b1bf85","#c2e655","#d9f191"],6:["#7b7676","#928d8d","#aaa5a5","#b6e038","#c2e655","#d9f191"],7:["#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#d9f191"],8:["#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191"],9:["#635e5e","#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191"],10:["#635e5e","#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191","#e5f7ae"],stops:["#635e5e","#928d8d","#b1bf85","#c2e655","#d9f191"],tags:["dark","greens","sequential","bright","grays","colorblind-friendly"],name:"Green 7"},"seq-blue-tan-bright":{1:["#afbac4"],2:["#ebe6df","#436480"],3:["#ebe6df","#afbac4","#436480"],4:["#ebe6df","#d9c2b1","#7d9ab3","#436480"],5:["#ebe6df","#d9c2b1","#afbac4","#7d9ab3","#436480"],6:["#ebe6df","#e5dad0","#d9c2b1","#7d9ab3","#607f99","#436480"],7:["#ebe6df","#e5dad0","#d9c2b1","#afbac4","#7d9ab3","#607f99","#436480"],8:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#afbac4","#7d9ab3","#607f99","#436480"],9:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#c4bebc","#afbac4","#7d9ab3","#607f99","#436480"],10:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#c4bebc","#afbac4","#9ab5cc","#7d9ab3","#607f99","#436480"],stops:["#ebe6df","#d9c2b1","#afbac4","#7d9ab3","#436480"],tags:["light","blues","sequential","subdued","colorblind-friendly"],name:"Blue 9"},"seq-teal-lightbrown-bright":{1:["#aabdb5"],2:["#eee2cf","#3b758c"],3:["#eee2cf","#aabdb5","#3b758c"],4:["#eee2cf","#dbd0b9","#74a2b3","#3b758c"],5:["#eee2cf","#dbd0b9","#aabdb5","#74a2b3","#3b758c"],6:["#eee2cf","#e4d9c4","#dbd0b9","#74a2b3","#588ba0","#3b758c"],7:["#eee2cf","#e4d9c4","#dbd0b9","#aabdb5","#74a2b3","#588ba0","#3b758c"],8:["#eee2cf","#e4d9c4","#dbd0b9","#c7bea2","#aabdb5","#74a2b3","#588ba0","#3b758c"],9:["#eee2cf","#e4d9c4","#dbd0b9","#c7bea2","#aabdb5","#91b8c7","#74a2b3","#588ba0","#3b758c"],10:["#eee2cf","#e4d9c4","#dbd0b9","#d1c7ad","#c7bea2","#aabdb5","#91b8c7","#74a2b3","#588ba0","#3b758c"],stops:["#eee2cf","#dbd0b9","#aabdb5","#74a2b3","#3b758c"],tags:["light","blues","sequential","subdued","colorblind-friendly"],name:"Blue 10"},"seq-reds-bright":{1:["#ec5244"],2:["#7b4238","#fff0dc"],3:["#7b4238","#ec5244","#fff0dc"],4:["#57453b","#c23d33","#f9816c","#fff0dc"],5:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae"],6:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae","#fff0dc"],7:["#57453b","#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae","#fff0dc"],8:["#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae"],9:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae"],10:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"],stops:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae"],tags:["dark","reds","sequential","bright","colorblind-friendly"],name:"Red 8"},"seq-purples-bright":{1:["#946bdc"],2:["#5a4a78","#e6e1ff"],3:["#5a4a78","#946bdc","#e6e1ff"],4:["#4e465c","#695291","#aa89e8","#e6e1ff"],5:["#4e465c","#695291","#8663c3","#aa89e8","#d7c4ff"],6:["#5a4a78","#775baa","#946bdc","#aa89e8","#d7c4ff","#e6e1ff"],7:["#4e465c","#5a4a78","#775baa","#946bdc","#aa89e8","#d7c4ff","#e6e1ff"],8:["#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff"],9:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff"],10:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"],stops:["#4e465c","#695291","#8663c3","#aa89e8","#d7c4ff"],tags:["dark","purples","sequential","bright","colorblind-friendly"],name:"Purple 5"},"seq-blues-bright":{1:["#50a5e7"],2:["#435c6c","#e6faff"],3:["#435c6c","#50a5e7","#e6faff"],4:["#404d54","#48799d","#74bbed","#e6faff"],5:["#404d54","#48799d","#4d96ce","#74bbed","#bce6f9"],6:["#435c6c","#4b88b6","#4d96ce","#74bbed","#bce6f9","#e6faff"],7:["#404d54","#435c6c","#4b88b6","#4d96ce","#74bbed","#bce6f9","#e6faff"],8:["#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9"],9:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9"],10:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"],stops:["#404d54","#48799d","#4d96ce","#74bbed","#bce6f9"],tags:["dark","blues","sequential","bright","colorblind-friendly"],name:"Blue 11"},"seq-greens-bright":{1:["#33b581"],2:["#39544c","#f4ffea"],3:["#39544c","#4bc392","#f4ffea"],4:["#39544c","#368165","#64d2a2","#f4ffea"],5:["#39544c","#368165","#33b581","#64d2a2","#cbf6d9"],6:["#39544c","#386757","#359b73","#4bc392","#7ce0b3","#f4ffea"],7:["#39544c","#386757","#359b73","#4bc392","#64d2a2","#cbf6d9","#f4ffea"],8:["#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9"],9:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9"],10:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"],stops:["#39544c","#368165","#33b581","#64d2a2","#cbf6d9"],tags:["dark","greens","sequential","bright","colorblind-friendly"],name:"Green 8"},"seq-browns-bright":{1:["#eba748"],2:["#524834","#f9e0b7"],3:["#524834","#eba748","#f9e0b7"],4:["#524834","#ae8140","#eeb664","#f9e0b7"],5:["#715b38","#ae8140","#cc9444","#eeb664","#f9e0b7"],6:["#524834","#715b38","#ae8140","#eba748","#f0c47f","#fff8eb"],7:["#524834","#715b38","#8f6e3c","#ae8140","#eba748","#f0c47f","#fff8eb"],8:["#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7"],9:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7"],10:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"],stops:["#715b38","#ae8140","#cc9444","#eeb664","#f9e0b7"],tags:["dark","oranges","browns","sequential","bright","colorblind-friendly"],name:"Yellow 1"},"seq-dark-to-light-magenta-bright":{1:["#ec2e96"],2:["#614149","#fff0ff"],3:["#614149","#ec2e96","#fff0ff"],4:["#7c3d58","#c33381","#ec90c6","#fff0ff"],5:["#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],6:["#614149","#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],7:["#614149","#7c3d58","#c33381","#ec2e96","#ea6fb6","#ec90c6","#fff0ff"],8:["#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4"],9:["#614149","#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4"],10:["#614149","#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4","#fff0ff"],stops:["#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],tags:["dark","pinks","sequential","bright","colorblind-friendly"],name:"Pink 4"},"seq-dark-to-light-purple-bright":{1:["#8b87e4"],2:["#4a4672","#f0f0ff"],3:["#4a4672","#8b87e4","#f0f0ff"],4:["#545086","#6f6abb","#aaa7ff","#f0f0ff"],5:["#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],6:["#4a4672","#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],7:["#545086","#615da1","#6f6abb","#7c77d6","#9b97f1","#aaa7ff","#f0f0ff"],8:["#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff"],9:["#4a4672","#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff"],10:["#4a4672","#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff","#f0f0ff"],stops:["#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],tags:["dark","purples","sequential","bright","colorblind-friendly"],name:"Purple 6"},"seq-dark-to-light-blue-bright":{1:["#5686ff"],2:["#41495f","#e6f5fa"],3:["#41495f","#5686ff","#e6f5fa"],4:["#45537a","#4e6dbd","#96b8fe","#e6f5fa"],5:["#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],6:["#41495f","#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],7:["#45537a","#49609b","#4e6dbd","#5279de","#769ffe","#96b8fe","#e6f5fa"],8:["#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd"],9:["#41495f","#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd"],10:["#41495f","#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd","#e6f5fa"],stops:["#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],tags:["dark","blues","sequential","bright","colorblind-friendly"],name:"Blue 12"},"seq-dark-to-light-green-bright":{1:["#72c66d"],2:["#3d5439","#f5fff2"],3:["#3d5439","#72c66d","#f5fff2"],4:["#43683f","#5b9756","#b7e3b2","#f5fff2"],5:["#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],6:["#3d5439","#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],7:["#43683f","#4f804b","#5b9756","#66af62","#95d490","#b7e3b2","#f5fff2"],8:["#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5"],9:["#3d5439","#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5"],10:["#3d5439","#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5","#f5fff2"],stops:["#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],tags:["dark","greens","sequential","bright","colorblind-friendly"],name:"Green 9"},"seq-brown-to-tan-bright":{1:["#d69253"],2:["#594439","#fff5e6"],3:["#594439","#d69253","#fff5e6"],4:["#744d30","#af6b2f","#ebc39a","#fff5e6"],5:["#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],6:["#594439","#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],7:["#744d30","#915c30","#af6b2f","#cc7a2f","#e1ab76","#ebc39a","#fff5e6"],8:["#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd"],9:["#594439","#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd"],10:["#594439","#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd","#fff5e6"],stops:["#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],tags:["dark","browns","sequential","bright","colorblind-friendly"],name:"Brown 1"},"seq-lightgray-blue-bright":{1:["#6e8d99"],2:["#325361","#faefdb"],3:["#325361","#6e8d99","#faefdb"],4:["#325361","#2f7589","#bcb4a6","#faefdb"],5:["#325361","#2f7589","#6e8d99","#bcb4a6","#faefdb"],6:["#325361","#316475","#2e859c","#bcb4a6","#dbd2c0","#faefdb"],7:["#325361","#316475","#2e859c","#6e8d99","#bcb4a6","#dbd2c0","#faefdb"],8:["#325361","#316475","#2f7589","#2e859c","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],9:["#325361","#316475","#2f7589","#2e859c","#6e8d99","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],10:["#325361","#316475","#2f7589","#2e859c","#2c96b0","#6e8d99","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],stops:["#325361","#2f7589","#6e8d99","#bcb4a6","#faefdb"],tags:["dark","blues","sequential","grays","colorblind-friendly"],name:"Blue 13"},"seq-lightgray-green-bright":{1:["#6f9988"],2:["#2c593f","#e6f4ff"],3:["#2c593f","#6f9988","#e6f4ff"],4:["#2c593f","#387c55","#aab5c0","#e6f4ff"],5:["#2c593f","#387c55","#6f9988","#aab5c0","#e6f4ff"],6:["#2e6a46","#387c55","#4ba072","#8c96a0","#aab5c0","#e6f4ff"],7:["#2e6a46","#387c55","#418e63","#6f9988","#8c96a0","#aab5c0","#e6f4ff"],8:["#2e6a46","#387c55","#418e63","#4ba072","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],9:["#2e6a46","#387c55","#418e63","#4ba072","#6f9988","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],10:["#2c593f","#2e6a46","#387c55","#418e63","#4ba072","#6f9988","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],stops:["#2c593f","#387c55","#6f9988","#aab5c0","#e6f4ff"],tags:["dark","greens","sequential","grays","colorblind-friendly"],name:"Green 10"},"seq-lightgray-darkmagenta-bright":{1:["#a3829b"],2:["#5c3a5b","#faefdb"],3:["#5c3a5b","#a3829b","#faefdb"],4:["#5c3a5b","#864d84","#bcb4a6","#faefdb"],5:["#5c3a5b","#864d84","#a3829b","#bcb4a6","#faefdb"],6:["#5c3a5b","#71446f","#9b5798","#9d978b","#bcb4a6","#faefdb"],7:["#5c3a5b","#71446f","#9b5798","#a3829b","#9d978b","#bcb4a6","#faefdb"],8:["#5c3a5b","#71446f","#864d84","#9b5798","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],9:["#5c3a5b","#71446f","#864d84","#9b5798","#a3829b","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],10:["#5c3a5b","#71446f","#864d84","#9b5798","#b060ac","#a3829b","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],stops:["#5c3a5b","#864d84","#a3829b","#bcb4a6","#faefdb"],tags:["dark","purples","sequential","grays","colorblind-friendly"],name:"Purple 7"},"seq-yellow-darkblue-bright":{1:["#799a96"],2:["#3a4d6b","#ffec99"],3:["#3a4d6b","#799a96","#ffec99"],4:["#3a4d6b","#3d6da2","#ccbe6a","#ffec99"],5:["#3a4d6b","#3d6da2","#799a96","#ccbe6a","#ffec99"],6:["#3b5d87","#3d6da2","#3e7cbe","#b3a752","#ccbe6a","#ffec99"],7:["#3b5d87","#3d6da2","#3e7cbe","#799a96","#b3a752","#ccbe6a","#ffec99"],8:["#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#b3a752","#ccbe6a","#e6d581","#ffec99"],9:["#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#799a96","#b3a752","#ccbe6a","#e6d581","#ffec99"],10:["#3a4d6b","#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#799a96","#b3a752","#ccbe6a","#e6d581","#ffec99"],stops:["#3a4d6b","#3d6da2","#799a96","#ccbe6a","#ffec99"],tags:["dark","blues","yellows","sequential","colorblind-friendly"],name:"Blue 14"},"seq-lightred-darkgray-bright":{1:["#948889"],2:["#484c59","#ffe9e6"],3:["#484c59","#948889","#ffe9e6"],4:["#484c59","#63687a","#e0b9b5","#ffe9e6"],5:["#484c59","#63687a","#948889","#e0b9b5","#ffe9e6"],6:["#484c59","#63687a","#71768a","#c18983","#f0d1cd","#ffe9e6"],7:["#484c59","#63687a","#71768a","#948889","#d1a19c","#f0d1cd","#ffe9e6"],8:["#484c59","#565a69","#63687a","#71768a","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],9:["#484c59","#565a69","#63687a","#71768a","#c18983","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],10:["#484c59","#565a69","#63687a","#71768a","#948889","#c18983","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],stops:["#484c59","#63687a","#948889","#e0b9b5","#ffe9e6"],tags:["light","pinks","grays","sequential","subdued","colorblind-friendly"],name:"Pink 5"},"seq-lightmagenta-darkgray-bright":{1:["#9e8998"],2:["#4d4d41","#ffe1ff"],3:["#4d4d41","#9e8998","#ffe1ff"],4:["#4d4d41","#77756a","#e8a3e8","#ffe1ff"],5:["#4d4d41","#77756a","#9e8998","#e8a3e8","#ffe1ff"],6:["#4d4d41","#626155","#77756a","#dd83dd","#e8a3e8","#ffe1ff"],7:["#4d4d41","#626155","#77756a","#9e8998","#dd83dd","#e8a3e8","#ffe1ff"],8:["#4d4d41","#626155","#77756a","#8c897e","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],9:["#4d4d41","#626155","#77756a","#8c897e","#9e8998","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],10:["#4d4d41","#626155","#77756a","#8c897e","#9e8998","#d164d1","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],stops:["#4d4d41","#77756a","#9e8998","#e8a3e8","#ffe1ff"],tags:["dark","purples","grays","sequential","bright","colorblind-friendly"],name:"Purple 8"},"seq-lightblue-darkgray-bright":{1:["#7d8e93"],2:["#4c4a44","#d9fcff"],3:["#4c4a44","#7d8e93","#d9fcff"],4:["#4c4a44","#6d6a63","#9cd2dc","#d9fcff"],5:["#4c4a44","#6d6a63","#7d8e93","#9cd2dc","#d9fcff"],6:["#4c4a44","#5c5a53","#6d6a63","#7ebdca","#9cd2dc","#d9fcff"],7:["#4c4a44","#5c5a53","#6d6a63","#7d8e93","#7ebdca","#9cd2dc","#d9fcff"],8:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],9:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7d8e93","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],10:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7d8e93","#5fa8b8","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],stops:["#4c4a44","#6d6a63","#7d8e93","#9cd2dc","#d9fcff"],tags:["dark","blues","sequential","grays","bright","colorblind-friendly"],name:"Blue 15"},"seq-blue-bright-1":{1:["#00ffff"],2:["#007b7b","#00ffff"],3:["#007b7b","#00a4a4","#00ffff"],4:["#005353","#007b7b","#00a4a4","#00ffff"],5:["#005353","#007b7b","#00a4a4","#00cccc","#00ffff"],6:["#005353","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],7:["#005353","#006767","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],8:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],9:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00b8b8","#00cccc","#00ffff"],10:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00b8b8","#00cccc","#00e0e0","#00ffff"],stops:["#005353","#007b7b","#00a4a4","#00cccc","#00ffff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 16"},"seq-green-bright-1":{1:["#00ffaa"],2:["#007e4f","#00ffaa"],3:["#007e4f","#00a76a","#00ffaa"],4:["#005435","#007e4f","#00a76a","#00ffaa"],5:["#005435","#007e4f","#00a76a","#00d184","#00ffaa"],6:["#005435","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],7:["#005435","#006942","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],8:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],9:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00bc77","#00d184","#00ffaa"],10:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00bc77","#00d184","#00e691","#00ffaa"],stops:["#005435","#007e4f","#00a76a","#00d184","#00ffaa"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 11"},"seq-green-bright-2":{1:["#00ff00"],2:["#007f00","#00ff00"],3:["#007f00","#00aa00","#00ff00"],4:["#005400","#007f00","#00aa00","#00ff00"],5:["#005400","#007f00","#00aa00","#00d400","#00ff00"],6:["#005400","#007f00","#009400","#00aa00","#00d400","#00ff00"],7:["#005400","#006a00","#007f00","#009400","#00aa00","#00d400","#00ff00"],8:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00d400","#00ff00"],9:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00bf00","#00d400","#00ff00"],10:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00bf00","#00d400","#00ea00","#00ff00"],stops:["#005400","#007f00","#00aa00","#00d400","#00ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 12"},"seq-green-bright-3":{1:["#b2ff56"],2:["#537f1d","#b2ff56"],3:["#537f1d","#73aa30","#b2ff56"],4:["#34540a","#537f1d","#73aa30","#b2ff56"],5:["#34540a","#537f1d","#73aa30","#92d443","#b2ff56"],6:["#34540a","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],7:["#34540a","#446a13","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],8:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],9:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#83bf39","#92d443","#b2ff56"],10:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#83bf39","#92d443","#a2ea4c","#b2ff56"],stops:["#34540a","#537f1d","#73aa30","#92d443","#b2ff56"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 13"},"seq-blue-bright-2":{1:["#8378ff"],2:["#4c33cc","#8378ff"],3:["#4c33cc","#6040ff","#8378ff"],4:["#392699","#4c33cc","#6040ff","#8378ff"],5:["#392699","#4c33cc","#6040ff","#765cff","#8378ff"],6:["#392699","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],7:["#392699","#432db3","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],8:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],9:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#6f4eff","#765cff","#8378ff"],10:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#6f4eff","#765cff","#7c6aff","#8378ff"],stops:["#392699","#4c33cc","#6040ff","#765cff","#8378ff"],tags:["dark","blues","bright","sequential"],name:"Blue 17"},"seq-blue-bright-3":{1:["#4d91ff"],2:["#3039b7","#4d91ff"],3:["#3039b7","#3948e1","#4d91ff"],4:["#2b2e80","#3039b7","#3948e1","#4d91ff"],5:["#2b2e80","#3039b7","#3948e1","#445bff","#4d91ff"],6:["#2b2e80","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],7:["#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],8:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],9:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#3e52f0","#445bff","#4d91ff"],10:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#3e52f0","#445bff","#4976ff","#4d91ff"],stops:["#2b2e80","#3039b7","#3948e1","#445bff","#4d91ff"],tags:["dark","blues","bright","sequential"],name:"Blue 18"},"seq-blue-bright-4":{1:["#00b7ff"],2:["#0062a8","#00b7ff"],3:["#0062a8","#007cd3","#00b7ff"],4:["#00497c","#0062a8","#007cd3","#00b7ff"],5:["#00497c","#0062a8","#007cd3","#0095ff","#00b7ff"],6:["#00497c","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],7:["#00497c","#005592","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],8:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],9:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0088e9","#0095ff","#00b7ff"],10:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0088e9","#0095ff","#009cff","#00b7ff"],stops:["#00497c","#0062a8","#007cd3","#0095ff","#00b7ff"],tags:["dark","blues","bright","sequential"],name:"Blue 19"},"seq-blue-bright-5":{1:["#00ddff"],2:["#006a85","#00ddff"],3:["#006a85","#008bae","#00ddff"],4:["#004a5d","#006a85","#008bae","#00ddff"],5:["#004a5d","#006a85","#008bae","#00aed6","#00ddff"],6:["#004a5d","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],7:["#004a5d","#005a71","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],8:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],9:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#009bc2","#00aed6","#00ddff"],10:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#009bc2","#00aed6","#00c6eb","#00ddff"],stops:["#004a5d","#006a85","#008bae","#00aed6","#00ddff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 20"},"seq-red-purple-bright":{1:["#bf66ff"],2:["#6a27a0","#bf66ff"],3:["#6a27a0","#8531c1","#bf66ff"],4:["#4d267d","#6a27a0","#8531c1","#bf66ff"],5:["#4d267d","#6a27a0","#8531c1","#9f44e0","#bf66ff"],6:["#4d267d","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],7:["#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],8:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],9:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#923ad0","#9f44e0","#bf66ff"],10:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#923ad0","#9f44e0","#af55ef","#bf66ff"],stops:["#4d267d","#6a27a0","#8531c1","#9f44e0","#bf66ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 9"},"seq-red-magenta-bright":{1:["#ff00ff"],2:["#750580","#ff00ff"],3:["#750580","#9c00aa","#ff00ff"],4:["#4e0f55","#750580","#9c00aa","#ff00ff"],5:["#4e0f55","#750580","#9c00aa","#ca00d4","#ff00ff"],6:["#4e0f55","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],7:["#4e0f55","#620a6b","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],8:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],9:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#af00bf","#ca00d4","#ff00ff"],10:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#af00bf","#ca00d4","#e400ea","#ff00ff"],stops:["#4e0f55","#750580","#9c00aa","#ca00d4","#ff00ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 10"},"seq-red-bright-3":{1:["#ff4a0d"],2:["#83080a","#ff4a0d"],3:["#83080a","#b20000","#ff4a0d"],4:["#531717","#83080a","#b20000","#ff4a0d"],5:["#531717","#83080a","#b20000","#df0000","#ff4a0d"],6:["#531717","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],7:["#531717","#6b1010","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],8:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],9:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#c80000","#df0000","#ff4a0d"],10:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#c80000","#df0000","#ef2607","#ff4a0d"],stops:["#531717","#83080a","#b20000","#df0000","#ff4a0d"],tags:["dark","reds","bright","sequential","colorblind-friendly"],name:"Red 9"},"seq-red-bright-4":{1:["#ffa200"],2:["#914505","#ffa200"],3:["#914505","#c85700","#ffa200"],4:["#582c0e","#914505","#c85700","#ffa200"],5:["#582c0e","#914505","#c85700","#ff6e00","#ffa200"],6:["#582c0e","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],7:["#582c0e","#743909","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],8:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],9:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#e46300","#ff6e00","#ffa200"],10:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#e46300","#ff6e00","#ff8800","#ffa200"],stops:["#582c0e","#914505","#c85700","#ff6e00","#ffa200"],tags:["dark","browns","oranges","bright","sequential","colorblind-friendly"],name:"Orange 6"},"seq-yellow-bright-1":{1:["#ffc800"],2:["#886200","#ffc800"],3:["#886200","#b78300","#ffc800"],4:["#584100","#886200","#b78300","#ffc800"],5:["#584100","#886200","#b78300","#e7a300","#ffc800"],6:["#584100","#886200","#a07200","#b78300","#e7a300","#ffc800"],7:["#584100","#705100","#886200","#a07200","#b78300","#e7a300","#ffc800"],8:["#403000","#584100","#705100","#886200","#a07200","#b78300","#e7a300","#ffc800"],9:["#403000","#584100","#705100","#886200","#a07200","#b78300","#cf9300","#e7a300","#ffc800"],10:["#403000","#584100","#705100","#886200","#a07200","#b78300","#cf9300","#e7a300","#ffb400","#ffc800"],stops:["#584100","#886200","#b78300","#e7a300","#ffc800"],tags:["dark","browns","oranges","bright","sequential","colorblind-friendly"],name:"Yellow 2"},"seq-yellow-bright-2":{1:["#ffdd00"],2:["#7a6a00","#ffdd00"],3:["#7a6a00","#a79100","#ffdd00"],4:["#4e4400","#7a6a00","#a79100","#ffdd00"],5:["#4e4400","#7a6a00","#a79100","#d3b700","#ffdd00"],6:["#4e4400","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],7:["#4e4400","#645700","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],8:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],9:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#bda400","#d3b700","#ffdd00"],10:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#bda400","#d3b700","#e9ca00","#ffdd00"],stops:["#4e4400","#7a6a00","#a79100","#d3b700","#ffdd00"],tags:["dark","yellows","bright","sequential","colorblind-friendly"],name:"Yellow 3"},"seq-yellow-bright-3":{1:["#ffff00"],2:["#757500","#ffff00"],3:["#757500","#a3a300","#ffff00"],4:["#474700","#757500","#a3a300","#ffff00"],5:["#474700","#757500","#a3a300","#d1d100","#ffff00"],6:["#474700","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],7:["#474700","#5e5e00","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],8:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],9:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#baba00","#d1d100","#ffff00"],10:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#baba00","#d1d100","#e8e800","#ffff00"],stops:["#474700","#757500","#a3a300","#d1d100","#ffff00"],tags:["dark","yellows","bright","sequential","colorblind-friendly"],name:"Yellow 4"},"seq-yellow-bright-4":{1:["#d0ff00"],2:["#637900","#d0ff00"],3:["#637900","#87a600","#d0ff00"],4:["#3e4c00","#637900","#87a600","#d0ff00"],5:["#3e4c00","#637900","#87a600","#acd200","#d0ff00"],6:["#3e4c00","#637900","#758f00","#87a600","#acd200","#d0ff00"],7:["#3e4c00","#506300","#637900","#758f00","#87a600","#acd200","#d0ff00"],8:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#acd200","#d0ff00"],9:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#99bc00","#acd200","#d0ff00"],10:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#99bc00","#acd200","#bee900","#d0ff00"],stops:["#3e4c00","#637900","#87a600","#acd200","#d0ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 14"},"seq-yellow-gray-bright":{1:["#ffff00"],2:["#68655d","#ffff00"],3:["#68655d","#959258","#ffff00"],4:["#45423b","#68655d","#959258","#ffff00"],5:["#45423b","#68655d","#959258","#cac92c","#ffff00"],6:["#45423b","#68655d","#7a776e","#959258","#cac92c","#ffff00"],7:["#45423b","#57544c","#68655d","#7a776e","#959258","#cac92c","#ffff00"],8:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#cac92c","#ffff00"],9:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#afad42","#cac92c","#ffff00"],10:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#afad42","#cac92c","#e4e416","#ffff00"],stops:["#45423b","#68655d","#959258","#cac92c","#ffff00"],tags:["dark","yellows","grays","bright","sequential","colorblind-friendly"],name:"Yellow 5"},"seq-green-gray-bright":{1:["#aaff00"],2:["#5b695b","#aaff00"],3:["#5b695b","#789753","#aaff00"],4:["#3b453b","#5b695b","#789753","#aaff00"],5:["#3b453b","#5b695b","#789753","#91cc26","#aaff00"],6:["#3b453b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],7:["#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],8:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],9:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#84b33a","#91cc26","#aaff00"],10:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#84b33a","#91cc26","#9de613","#aaff00"],stops:["#3b453b","#5b695b","#789753","#91cc26","#aaff00"],tags:["dark","greens","grays","bright","sequential","colorblind-friendly"],name:"Green 15"},"seq-blue-gray-bright":{1:["#00ffff"],2:["#455873","#00ffff"],3:["#455873","#3f83a1","#00ffff"],4:["#2f3f56","#455873","#3f83a1","#00ffff"],5:["#2f3f56","#455873","#3f83a1","#1ec1d5","#00ffff"],6:["#2f3f56","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],7:["#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],8:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],9:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#2da2c0","#1ec1d5","#00ffff"],10:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#2da2c0","#1ec1d5","#0fe0ea","#00ffff"],stops:["#2f3f56","#455873","#3f83a1","#1ec1d5","#00ffff"],tags:["dark","blues","grays","bright","sequential","colorblind-friendly"],name:"Blue 21"},"seq-red-gray-bright":{1:["#ff80ff"],2:["#54504c","#ff80ff"],3:["#54504c","#ab3da9","#ff80ff"],4:["#3b3734","#54504c","#ab3da9","#ff80ff"],5:["#3b3734","#54504c","#ab3da9","#eb44e8","#ff80ff"],6:["#3b3734","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],7:["#3b3734","#474440","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],8:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],9:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#de25da","#eb44e8","#ff80ff"],10:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#de25da","#eb44e8","#f261f1","#ff80ff"],stops:["#3b3734","#54504c","#ab3da9","#eb44e8","#ff80ff"],tags:["dark","pinks","purples","grays","bright","sequential","colorblind-friendly"],name:"Pink 6"},"seq-gray-redbright":{1:["#d4d1ce"],2:["#892520","#d4d1ce"],3:["#892520","#8c6e62","#d4d1ce"],4:["#680000","#892520","#8c6e62","#d4d1ce"],5:["#680000","#892520","#8c6e62","#ada297","#d4d1ce"],6:["#680000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],7:["#680000","#830000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],8:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],9:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#998b7c","#ada297","#d4d1ce"],10:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#998b7c","#ada297","#c0bab3","#d4d1ce"],stops:["#680000","#892520","#8c6e62","#ada297","#d4d1ce"],tags:["dark","reds","grays","sequential","colorblind-friendly"],name:"Red 10"},"seq-gray-green-bright":{1:["#c8d7c8"],2:["#217c31","#c8d7c8"],3:["#217c31","#68876c","#c8d7c8"],4:["#00590f","#217c31","#68876c","#c8d7c8"],5:["#00590f","#217c31","#68876c","#9baa9b","#c8d7c8"],6:["#00590f","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],7:["#00590f","#007215","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],8:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],9:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#849384","#9baa9b","#c8d7c8"],10:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#849384","#9baa9b","#b1c0b1","#c8d7c8"],stops:["#00590f","#217c31","#68876c","#9baa9b","#c8d7c8"],tags:["dark","greens","grays","sequential","colorblind-friendly"],name:"Green 16"},"seq-gray-blue-bright":{1:["#b0c4d8"],2:["#1d3bef","#b0c4d8"],3:["#1d3bef","#5b6da6","#b0c4d8"],4:["#0010d9","#1d3bef","#5b6da6","#b0c4d8"],5:["#0010d9","#1d3bef","#5b6da6","#8d9fb7","#b0c4d8"],6:["#0010d9","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],7:["#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],8:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],9:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#7c8ca6","#8d9fb7","#b0c4d8"],10:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#7c8ca6","#8d9fb7","#9fb1c7","#b0c4d8"],stops:["#0010d9","#1d3bef","#5b6da6","#8d9fb7","#b0c4d8"],tags:["dark","blues","grays","bright","sequential","colorblind-friendly"],name:"Blue 22"},"seq-gray-purple-bright":{1:["#c4bedc"],2:["#6535a6","#c4bedc"],3:["#6535a6","#7d6aa1","#c4bedc"],4:["#481295","#6535a6","#7d6aa1","#c4bedc"],5:["#481295","#6535a6","#7d6aa1","#9e97b8","#c4bedc"],6:["#481295","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],7:["#481295","#57239e","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],8:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],9:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#8b83a6","#9e97b8","#c4bedc"],10:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#8b83a6","#9e97b8","#b1aaca","#c4bedc"],stops:["#481295","#6535a6","#7d6aa1","#9e97b8","#c4bedc"],tags:["dark","purples","grays","sequential","colorblind-friendly"],name:"Purple 11"},"seq-plaingray-bright":{1:["#f7f7f7"],2:["#686868","#f7f7f7"],3:["#686868","#8c8c8c","#f7f7f7"],4:["#454545","#686868","#8c8c8c","#f7f7f7"],5:["#454545","#686868","#8c8c8c","#c2c2c2","#f7f7f7"],6:["#454545","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],7:["#454545","#575757","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],8:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],9:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#a7a7a7","#c2c2c2","#f7f7f7"],10:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#a7a7a7","#c2c2c2","#dcdcdc","#f7f7f7"],stops:["#454545","#686868","#8c8c8c","#c2c2c2","#f7f7f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 2"},"seq-greengray-bright":{1:["#f2f7f5"],2:["#5c6864","#f2f7f5"],3:["#5c6864","#7e8c87","#f2f7f5"],4:["#3a4541","#5c6864","#7e8c87","#f2f7f5"],5:["#3a4541","#5c6864","#7e8c87","#b8c2be","#f2f7f5"],6:["#3a4541","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],7:["#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],8:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],9:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#9ba7a3","#b8c2be","#f2f7f5"],10:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#9ba7a3","#b8c2be","#d5dcda","#f2f7f5"],stops:["#3a4541","#5c6864","#7e8c87","#b8c2be","#f2f7f5"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 3"},"seq-coolgray-bright":{1:["#f0f4f7"],2:["#566068","#f0f4f7"],3:["#566068","#78838c","#f0f4f7"],4:["#353d45","#566068","#78838c","#f0f4f7"],5:["#353d45","#566068","#78838c","#b4bcc2","#f0f4f7"],6:["#353d45","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],7:["#353d45","#464f57","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],8:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],9:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#969fa7","#b4bcc2","#f0f4f7"],10:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#969fa7","#b4bcc2","#d2d8dc","#f0f4f7"],stops:["#353d45","#566068","#78838c","#b4bcc2","#f0f4f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 4"},"seq-warmgray-bright":{1:["#f7f5f7"],2:["#686268","#f7f5f7"],3:["#686268","#8c858c","#f7f5f7"],4:["#453f45","#686268","#8c858c","#f7f5f7"],5:["#453f45","#686268","#8c858c","#c8c2c8","#f7f5f7"],6:["#453f45","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],7:["#453f45","#575057","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],8:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],9:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#b1aab1","#c8c2c8","#f7f5f7"],10:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#b1aab1","#c8c2c8","#e0dce0","#f7f5f7"],stops:["#453f45","#686268","#8c858c","#c8c2c8","#f7f5f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 5"},"seq-yellow-green-combo-bright":{1:["#d0ff00"],2:["#008c1a","#d0ff00"],3:["#008c1a","#00bf25","#d0ff00"],4:["#00590f","#008c1a","#00bf25","#d0ff00"],5:["#00590f","#008c1a","#00bf25","#76df13","#d0ff00"],6:["#00590f","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],7:["#00590f","#007215","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],8:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],9:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#49cf1c","#76df13","#d0ff00"],10:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#49cf1c","#76df13","#a3ef09","#d0ff00"],stops:["#00590f","#008c1a","#00bf25","#76df13","#d0ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 17"},"seq-cyan-blue-combo-bright":{1:["#00ffff"],2:["#0040ff","#00ffff"],3:["#0040ff","#0080ff","#00ffff"],4:["#0010d9","#0040ff","#0080ff","#00ffff"],5:["#0010d9","#0040ff","#0080ff","#00bfff","#00ffff"],6:["#0010d9","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],7:["#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],8:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],9:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#009fff","#00bfff","#00ffff"],10:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#009fff","#00bfff","#00dfff","#00ffff"],stops:["#0010d9","#0040ff","#0080ff","#00bfff","#00ffff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 23"},"seq-magenta-purple-combo-bright":{1:["#e566ff"],2:["#690cc2","#e566ff"],3:["#690cc2","#8f14f7","#e566ff"],4:["#43048d","#690cc2","#8f14f7","#e566ff"],5:["#43048d","#690cc2","#8f14f7","#b63df4","#e566ff"],6:["#43048d","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],7:["#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],8:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],9:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#9f29ee","#b63df4","#e566ff"],10:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#9f29ee","#b63df4","#ce52f9","#e566ff"],stops:["#43048d","#690cc2","#8f14f7","#b63df4","#e566ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 13"},"seq-magenta":{stops:["#4D394D","#6C2F68","#901F8A","#C700BB","#FF33F3"],tags:["dark","pinks","sequential","colorblind-friendly"],name:"Magenta 1"},"seq-red":{stops:["#452D31","#6C2F39","#901F32","#C70021","#FF3355"],tags:["dark","reds","sequential","colorblind-friendly"],name:"Red 11"},"seq-orange":{stops:["#4D4139","#6F4222","#91430B","#B84D00","#FF6900"],tags:["dark","oranges","sequential","colorblind-friendly"],name:"Orange 7"},"seq-yellow":{stops:["#453F1C","#665B1F","#887922","#B39E27","#F9D70E"],tags:["dark","yellows","sequential","colorblind-friendly"],name:"Yellow 6"},"seq-yellowgreen":{stops:["#37451C","#4B5E1D","#6B8822","#8EB327","#A8E000"],tags:["dark","greens","sequential","colorblind-friendly"],name:"Green 18"},"seq-green":{stops:["#234028","#23642E","#228833","#27B33E","#2DE64B"],tags:["dark","greens","sequential","colorblind-friendly"],name:"Green 19"},"seq-turquoise":{stops:["#1C4542","#1C5955","#218279","#29BAAD","#00FFEA"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Turquoise 1"},"seq-royal":{stops:["#1F3D4D","#204F66","#226687","#298ABA","#33BBFF"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Royal Blue 1"},"seq-blueberry":{stops:["#3D3D66","#5E5EAA","#6C6CB8","#8888D5","#A5A5F1"],tags:["dark","purples","sequential","colorblind-friendly"],name:"Purple 14"},"seq-purple":{stops:["#453A59","#5A4089","#6E46B9","#8050DC","#9259FF"],tags:["dark","purples","sequential","colorblind-friendly"],name:"Purple 15"},"seq-brown":{stops:["#40312D","#6D5048","#996F63","#CCA391","#FFD7BE"],tags:["dark","browns","sequential","colorblind-friendly"],name:"Brown 2"},"seq-blue":{stops:["#273859","#4A5D83","#6D81AC","#8FA5D6","#B2CAFF"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Blue 24"},"seq-red-darkblue":{stops:["#3a454d","#435955","#645b4b","#964c2f","#cc3d3d"],tags:["dark","reds","sequential","3d","colorblind-friendly"],name:"Red 12"},"seq-purple-darkgreen":{stops:["#403f19","#594411","#804141","#a63a8b","#992fe6"],tags:["dark","purples","sequential","3d","colorblind-friendly"],name:"Purple 16"},"seq-blue-darkgreen":{stops:["#403c26","#57591f","#4b7345","#387c8c","#3c98f2"],tags:["dark","blues","sequential","3d","colorblind-friendly"],name:"Blue 25"},"seq-green-darkpurple":{stops:["#4d434d","#665347","#807119","#4d9900","#00c484"],tags:["dark","greens","sequential","3d","colorblind-friendly"],name:"Green 20"},"seq-blue-gray":{stops:["#494d49","#606644","#7d802d","#77a66e","#51c8e6"],tags:["dark","greens","blues","sequential","3d","colorblind-friendly"],name:"Blue 26"},"seq-magenta-light":{stops:["#D9CFD9","#C6A3C4","#B377B0","#9F4C9B","#85007D"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Magenta 2"},"seq-red-light":{stops:["#D9CACA","#D09898","#C66565","#BD3333","#A60000"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 13"},"seq-orange-light":{stops:["#D9D0C3","#D6BA92","#D3A462","#CF8E31","#BF7000"],tags:["light","oranges","browns","sequential","colorblind-friendly"],name:"Orange 8"},"seq-mustard-light":{stops:["#D9D8C3","#CCC992","#C0BB62","#969131","#807900"],tags:["light","yellows","sequential","colorblind-friendly"],name:"Mustard"},"seq-yellowgreen-light":{stops:["#D5D9C3","#bac392","#a0ac62","#859631","#6a8000"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 21"},"seq-green-light":{stops:["#C3D9C7","#92C99C","#62B970","#31A945","#008C17"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 22"},"seq-aqua-light":{stops:["#C3D9D7","#8FD3CD","#5BCDC3","#26C2B5","#00A698"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 23"},"seq-cyan-light":{stops:["#CAD2D9","#98C9E3","#6DC2EC","#45B0E6","#0099E6"],tags:["light","blues","sequential","colorblind-friendly"],name:"Royal Blue 2"},"seq-blue-light":{stops:["#CACCD9","#A8B1E3","#8595EC","#6076ED","#405FFF"],tags:["light","purples","blues","sequential","colorblind-friendly"],name:"Blue 27"},"seq-purple-light":{stops:["#CAC3D9","#B1A1D3","#997FCC","#805CC5","#673ABF"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 17"},"seq-brown-light":{stops:["#D9C8C3","#C0A69E","#A68479","#8D6153","#733F2E"],tags:["light","browns","sequential","colorblind-friendly"],name:"Brown 3"},"seq-steel-light":{stops:["#C3CAD9","#a9b3c9","#8898c0","#6d7fad","#505e85"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 28"},"seq-brown-palegreen":{stops:["#cceedc","#95baa4","#857c4f","#995d08","#8c1515"],tags:["light","greens","browns","sequential","3d","colorblind-friendly"],name:"Green and Brown 2"},"seq-purple-pink-yellow":{stops:["#fff966","#ebb42f","#bf6060","#8c256a","#6f158c"],tags:["light","yellows","purples","sequential","3d","colorblind-friendly"],name:"Purple and Yellow 5"},"seq-blue-green-yellow":{stops:["#ffee99","#d4d94c","#77b46c","#3d8799","#2b57d9"],tags:["light","yellows","blues","greens","sequential","3d","colorblind-friendly"],name:"Blue and Yellow 12"},"seq-green-avocado-lightpurple":{stops:["#ffd9ff","#d1aa9d","#8c8746","#4e8043","#006655"],tags:["light","purples","greens","sequential","3d","colorblind-friendly"],name:"Purple and Green 12"},"seq-turquoise-lightgreen":{stops:["#dae6c8","#c2d182","#97ba66","#5c997c","#2c8499"],tags:["light","blues","greens","sequential","3d","colorblind-friendly"],name:"Green and Blue 10"},"seq-red-brown-white":{stops:["#ffffff","#e6d889","#c0974c","#99550f","#8c1515"],tags:["light","reds","sequential","3d","colorblind-friendly"],name:"Red 14"},"seq-purple-pink-white":{stops:["#ffffff","#e6d889","#b97f7a","#8c256a","#6f158c"],tags:["light","purples","sequential","3d","colorblind-friendly"],name:"Purple 18"},"seq-blue-green-white":{stops:["#ffffff","#dee689","#81a683","#3d8799","#2b57d9"],tags:["light","greens","blues","sequential","3d","colorblind-friendly"],name:"Green and Blue 11"},"seq-green-avocado-white":{stops:["#ffffff","#d9b098","#90b445","#428200","#006e5c"],tags:["light","greens","sequential","3d","colorblind-friendly"],name:"Green 24"},"seq-turquoise-lightgreen-white":{stops:["#ffffff","#d2e096","#c7cc47","#78a66f","#308fa6"],tags:["light","greens","blues","sequential","3d","colorblind-friendly"],name:"Green 25"},"seq-subdued-red-yellow":{1:["#eecb9a"],2:["#c06677","#eecb9a"],3:["#c06677","#e09d85","#eecb9a"],4:["#c06677","#e09d85","#e7b48f","#eecb9a"],5:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a"],6:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a","#faebc8"],7:["#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#faebc8"],8:["#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#faebc8"],9:["#b35675","#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#faebc8"],10:["#b35675","#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#f6e0b9","#faebc8"],stops:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a"],tags:["light","reds","yellows","subdued","sequential","colorblind-friendly"],name:"Sunburned Skies"},"seq-subdued-purple-blue":{1:["#a586c2"],2:["#a586c2","#afd1e9"],3:["#9972b0","#b299d4","#afd1e9"],4:["#9972b0","#b299d4","#afd1e9","#d2e5f2"],5:["#9972b0","#b299d4","#b0bee2","#afd1e9","#d2e5f2"],6:["#9972b0","#b299d4","#b1acdb","#b0bee2","#afd1e9","#d2e5f2"],7:["#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#d2e5f2"],8:["#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2"],9:["#8c5f9e","#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2"],10:["#8c5f9e","#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2","#e3eff7"],stops:["#9972b0","#b299d4","#b0bee2","#afd1e9","#d2e5f2"],tags:["light","blues","purples","subdued","sequential","colorblind-friendly"],name:"Winter Solstice"},"seq-subdued-blue-cyan":{1:["#8ac3d3"],2:["#6780b0","#8ac3d3"],3:["#6780b0","#8ac3d3","#afd8e0"],4:["#5870a0","#768fbf","#8ac3d3","#afd8e0"],5:["#5870a0","#768fbf","#8ac3d3","#afd8e0","#d4eded"],6:["#5870a0","#768fbf","#80a9c9","#8ac3d3","#afd8e0","#d4eded"],7:["#5870a0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#d4eded"],8:["#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#d4eded"],9:["#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#c2e3e7","#d4eded"],10:["#496191","#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#c2e3e7","#d4eded"],stops:["#5870a0","#768fbf","#8ac3d3","#afd8e0","#d4eded"],tags:["light","blues","subdued","sequential","colorblind-friendly"],name:"Silky Sapphire"},"seq-subdued-green-yellow":{1:["#d0c8a0"],2:["#78835f","#d0c8a0"],3:["#78835f","#d0c8a0","#f7e9cc"],4:["#78835f","#a5b386","#d0c8a0","#f7e9cc"],5:["#78835f","#a5b386","#d0c8a0","#eedebd","#f7e9cc"],6:["#78835f","#a5b386","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],7:["#78835f","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],8:["#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],9:["#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc","#fff5dc"],10:["#616b4b","#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc","#fff5dc"],stops:["#78835f","#a5b386","#d0c8a0","#eedebd","#f7e9cc"],tags:["light","greens","subdued","sequential","colorblind-friendly"],name:"Sansevieria"},"seq-subdued-green":{1:["#99c5b6"],2:["#99c5b6","#e3f1d2"],3:["#4d8c8c","#99c5b6","#e3f1d2"],4:["#4d8c8c","#99c5b6","#cbe0b2","#e3f1d2"],5:["#4d8c8c","#6fa9aa","#99c5b6","#cbe0b2","#e3f1d2"],6:["#4d8c8c","#6fa9aa","#99c5b6","#b2d2b4","#cbe0b2","#e3f1d2"],7:["#4d8c8c","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#e3f1d2"],8:["#4d8c8c","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2"],9:["#4d8c8c","#5e9a9b","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2"],10:["#4d8c8c","#5e9a9b","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2","#effae2"],stops:["#4d8c8c","#6fa9aa","#99c5b6","#cbe0b2","#e3f1d2"],tags:["light","greens","subdued","sequential","colorblind-friendly"],name:"Garden Grass"},"seq-subdued-brown-tan":{1:["#91595c"],2:["#e8c29c","#91595c"],3:["#e8c29c","#b78165","#91595c"],4:["#e8c29c","#b78165","#a6695c","#91595c"],5:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c"],6:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c","#664755"],7:["#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#664755"],8:["#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#664755"],9:["#f9d6b3","#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#664755"],10:["#f9d6b3","#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#734c56","#664755"],stops:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c"],tags:["dark","browns","subdued","sequential","colorblind-friendly"],name:"Golden Glory"},"seq-subdued-gray-green":{1:["#4a6989"],2:["#9fd5d0","#4a6989"],3:["#9fd5d0","#619aa1","#4a6989"],4:["#9fd5d0","#619aa1","#568295","#4a6989"],5:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989"],6:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989","#454f59"],7:["#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#454f59"],8:["#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#454f59"],9:["#b8e6e2","#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#454f59"],10:["#b8e6e2","#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#475869","#454f59"],stops:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989"],tags:["dark","greens","grays","subdued","sequential","colorblind-friendly"],name:"Morning Dew"},"seq-subdued-green-tan":{1:["#546d3f"],2:["#c2c5a1","#546d3f"],3:["#c2c5a1","#7f8c62","#546d3f"],4:["#c2c5a1","#7f8c62","#6a7d50","#546d3f"],5:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f"],6:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f","#325438"],7:["#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#325438"],8:["#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#325438"],9:["#d9d9b8","#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#325438"],10:["#d9d9b8","#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#346033","#325438"],stops:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f"],tags:["dark","greens","subdued","sequential","colorblind-friendly"],name:"Alligator Armor"},"seq-subdued-blue-purple":{1:["#726299"],2:["#a0c8dd","#726299"],3:["#a0c8dd","#7e8daa","#726299"],4:["#a0c8dd","#7e8daa","#7878a2","#726299"],5:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299"],6:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299","#524573"],7:["#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#524573"],8:["#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#524573"],9:["#aedbf2","#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#524573"],10:["#aedbf2","#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#5d4f80","#524573"],stops:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299"],tags:["dark","blues","purples","subdued","sequential","colorblind-friendly"],name:"Moonstones"},"seq-subdued-pink-brown":{1:["#895277"],2:["#eeb1b1","#895277"],3:["#eeb1b1","#b66d7a","#895277"],4:["#eeb1b1","#b66d7a","#9f6078","#895277"],5:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277"],6:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277","#693f5a"],7:["#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#693f5a"],8:["#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#693f5a"],9:["#ffcccc","#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#693f5a"],10:["#ffcccc","#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#724463","#693f5a"],stops:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277"],tags:["dark","browns","purples","pinks","subdued","sequential","colorblind-friendly"],name:"Watermelon Sugar"},"seq-subdued-green-pink":{1:["#3b9ea2"],2:["#3b9ea2","#f8c8be"],3:["#3b9ea2","#b8bcba","#f8c8be"],4:["#006e76","#3b9ea2","#f8c8be","#fcd4cc"],5:["#006e76","#3b9ea2","#b8bcba","#f8c8be","#fcd4cc"],6:["#006e76","#3b9ea2","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc"],7:["#006e76","#3b9ea2","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc","#ffe0d9"],8:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc","#ffe0d9"],9:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#e6c2bc","#f8c8be","#fcd4cc","#ffe0d9"],10:["#006e76","#1e868c","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#e6c2bc","#f8c8be","#fcd4cc","#ffe0d9"],stops:["#006e76","#3b9ea2","#b8bcba","#f8c8be","#fcd4cc"],tags:["dark","greens","pinks","subdued","sequential","colorblind-friendly"],name:"Forest Dusk"},"seq-lines-blue-orange":{1:["#a889b8"],2:["#0060a6","#ffcabf"],3:["#0060a6","#a889b8","#ffcabf"],4:["#0060a6","#2782c4","#ffa18e","#ffcabf"],5:["#0060a6","#2782c4","#a889b8","#ffa18e","#ffcabf"],6:["#0060a6","#2782c4","#a889b8","#d78e9a","#ffa18e","#ffcabf"],7:["#0060a6","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffcabf"],8:["#0060a6","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffb5a6","#ffcabf"],9:["#0060a6","#1474b9","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffb5a6","#ffcabf"],10:["#0060a6","#1474b9","#2782c4","#698bc4","#a889b8","#d78e9a","#ed9595","#ffa18e","#ffb5a6","#ffcabf"],stops:["#0060a6","#2782c4","#a889b8","#ffa18e","#ffcabf"],tags:["light","blues","lines","sequential","colorblind-friendly"],name:"Perfect Pigtails"},"seq-lines-purple-brown":{1:["#9e6b90"],2:["#3900b3","#ebb698"],3:["#3900b3","#9e6b90","#ebb698"],4:["#3900b3","#714dbf","#cf9270","#ebb698"],5:["#3900b3","#714dbf","#9e6b90","#cf9270","#ebb698"],6:["#3900b3","#714dbf","#9e6b90","#b17777","#cf9270","#ebb698"],7:["#3900b3","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#ebb698"],8:["#3900b3","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#dba283","#ebb698"],9:["#3900b3","#5929c0","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#dba283","#ebb698"],10:["#3900b3","#5929c0","#714dbf","#8c5fae","#9e6b90","#b17777","#c4825e","#cf9270","#dba283","#ebb698"],stops:["#3900b3","#714dbf","#9e6b90","#cf9270","#ebb698"],tags:["light","purples","browns","lines","sequential","colorblind-friendly"],name:"Andromeda"},"seq-lines-green-brown":{1:["#00ffd4"],2:["#00ffd4","#8c4600"],3:["#00ffd4","#36ba84","#8c4600"],4:["#00ffd4","#5b9a5b","#8c4600","#592d00"],5:["#00ffd4","#5b9a5b","#8f6519","#8c4600","#592d00"],6:["#00ffd4","#36ba84","#5b9a5b","#8f6519","#8c4600","#592d00"],7:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#8f6519","#8c4600","#592d00"],8:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#8f6519","#8c4600","#733900","#592d00"],9:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#807b32","#8f6519","#8c4600","#733900","#592d00"],10:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#807b32","#8f6519","#9e4f00","#8c4600","#733900","#592d00"],stops:["#00ffd4","#5b9a5b","#8f6519","#8c4600","#592d00"],tags:["dark","greens","browns","lines","sequential","colorblind-friendly"],name:"Chocolate Mint"},"seq-lines-yellow-blue":{1:["#ffff00"],2:["#ffff00","#0040bf"],3:["#ffff00","#4c6f80","#0040bf"],4:["#ffff00","#8fa745","#4c6f80","#0040bf"],5:["#ffff00","#8fa745","#4c6f80","#1150ba","#0040bf"],6:["#ffff00","#b5c42e","#8fa745","#4c6f80","#1150ba","#0040bf"],7:["#ffff00","#dae217","#b5c42e","#8fa745","#4c6f80","#1150ba","#0040bf"],8:["#ffff00","#dae217","#b5c42e","#8fa745","#4c6f80","#215eb3","#1150ba","#0040bf"],9:["#ffff00","#dae217","#b5c42e","#8fa745","#6a895c","#4c6f80","#215eb3","#1150ba","#0040bf"],10:["#ffff00","#dae217","#b5c42e","#8fa745","#6a895c","#4c6f80","#215eb3","#1150ba","#0040bf","#00359e"],stops:["#ffff00","#8fa745","#4c6f80","#1150ba","#0040bf"],tags:["dark","yellows","blues","lines","sequential","colorblind-friendly"],name:"Going Bananas"},"seq-esribrand-red":{1:["#f07062"],2:["#a8281e","#fbb1a8"],3:["#a8281e","#f07062","#fbb1a8"],4:["#a8281e","#d83020","#f07062","#fbb1a8"],5:["#a8281e","#d83020","#f07062","#f89b91","#fbb1a8"],6:["#a8281e","#c02c1f","#e45041","#f48579","#f89b91","#ffc6bf"],7:["#a8281e","#c02c1f","#d83020","#e45041","#f48579","#f89b91","#ffc6bf"],8:["#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#fbb1a8","#ffc6bf"],9:["#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#f89b91","#fbb1a8","#ffc6bf"],10:["#99241b","#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#f89b91","#fbb1a8","#ffc6bf"],stops:["#a8281e","#d83020","#f07062","#f89b91","#fbb1a8"],tags:["light","reds","esri-brand","sequential","colorblind-friendly"],name:"Esri Red 1"},"seq-esribrand-red-orange":{1:["#e68261"],2:["#ad3c16","#f9d2c5"],3:["#ad3c16","#e68261","#f9d2c5"],4:["#ad3c16","#da4d1e","#e68261","#f9d2c5"],5:["#ad3c16","#da4d1e","#e68261","#f3b7a3","#f9d2c5"],6:["#ad3c16","#c4451a","#e0673f","#ec9c82","#f3b7a3","#ffece6"],7:["#ad3c16","#c4451a","#da4d1e","#e0673f","#ec9c82","#f3b7a3","#ffece6"],8:["#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f9d2c5","#ffece6"],9:["#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f3b7a3","#f9d2c5","#ffece6"],10:["#963413","#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f3b7a3","#f9d2c5","#ffece6"],stops:["#ad3c16","#da4d1e","#e68261","#f3b7a3","#f9d2c5"],tags:["light","reds","sequential","esri-brand","colorblind-friendly"],name:"Esri Red 2"},"seq-esribrand-orange":{1:["#f7975e"],2:["#c65a18","#fdd4ba"],3:["#c65a18","#f7975e","#fdd4ba"],4:["#c65a18","#f36f20","#f7975e","#fdd4ba"],5:["#c65a18","#f36f20","#f7975e","#fbc09b","#fdd4ba"],6:["#c65a18","#dd651c","#fa8640","#f9ab7c","#fbc09b","#ffe8d9"],7:["#c65a18","#dd651c","#f36f20","#fa8640","#f9ab7c","#fbc09b","#ffe8d9"],8:["#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fdd4ba","#ffe8d9"],9:["#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fbc09b","#fdd4ba","#ffe8d9"],10:["#b35116","#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fbc09b","#fdd4ba","#ffe8d9"],stops:["#c65a18","#f36f20","#f7975e","#fbc09b","#fdd4ba"],tags:["light","oranges","sequential","esri-brand","colorblind-friendly"],name:"Esri Orange 1"},"seq-esribrand-orangeyellow":{1:["#fbb664"],2:["#c67718","#fed9ad"],3:["#c67718","#fbb664","#fed9ad"],4:["#c67718","#f29526","#fbb664","#fed9ad"],5:["#c67718","#f29526","#fbb664","#fdcc92","#fed9ad"],6:["#c67718","#dc861f","#f7a645","#fcc17b","#fdcc92","#ffe6c7"],7:["#c67718","#dc861f","#f29526","#f7a645","#fcc17b","#fdcc92","#ffe6c7"],8:["#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fed9ad","#ffe6c7"],9:["#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fdcc92","#fed9ad","#ffe6c7"],10:["#b36a16","#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fdcc92","#fed9ad","#ffe6c7"],stops:["#c67718","#f29526","#fbb664","#fdcc92","#fed9ad"],tags:["light","browns","yellows","sequential","esri-brand","colorblind-friendly"],name:"Esri Pumpkin Pie"},"seq-esribrand-yellow":{1:["#f1df55"],2:["#beac2d","#fff5bf"],3:["#beac2d","#f1df55","#fff5bf"],4:["#beac2d","#ddca39","#f1df55","#fff5bf"],5:["#beac2d","#ddca39","#f1df55","#fdf19d","#fff5bf"],6:["#beac2d","#d3c035","#e7d33c","#fbea6e","#fdf19d","#fff9d6"],7:["#beac2d","#d3c035","#ddca39","#e7d33c","#fbea6e","#fdf19d","#fff9d6"],8:["#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fff5bf","#fff9d6"],9:["#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fdf19d","#fff5bf","#fff9d6"],10:["#ad9d29","#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fdf19d","#fff5bf","#fff9d6"],stops:["#beac2d","#ddca39","#f1df55","#fdf19d","#fff5bf"],tags:["light","yellows","sequential","esri-brand","colorblind-friendly"],name:"Esri Yellow 1"},"seq-esribrand-yellowgreen":{1:["#b9db62"],2:["#84a338","#e5f7b4"],3:["#84a338","#b9db62","#e5f7b4"],4:["#84a338","#a4c74c","#b9db62","#e5f7b4"],5:["#84a338","#a4c74c","#b9db62","#d4ec95","#e5f7b4"],6:["#84a338","#97ba42","#add056","#c2e075","#d4ec95","#f0ffc7"],7:["#84a338","#97ba42","#a4c74c","#add056","#c2e075","#d4ec95","#f0ffc7"],8:["#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#e5f7b4","#f0ffc7"],9:["#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#d4ec95","#e5f7b4","#f0ffc7"],10:["#748f31","#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#d4ec95","#e5f7b4","#f0ffc7"],stops:["#84a338","#a4c74c","#b9db62","#d4ec95","#e5f7b4"],tags:["light","greens","sequential","esri-brand","colorblind-friendly"],name:"Esri Green 1"},"seq-esribrand-green":{1:["#61c66f"],2:["#288835","#b5f1bd"],3:["#288835","#61c66f","#b5f1bd"],4:["#288835","#35ac46","#61c66f","#b5f1bd"],5:["#288835","#35ac46","#61c66f","#99e3a3","#b5f1bd"],6:["#288835","#2f9a3e","#45b855","#7dd489","#99e3a3","#d1ffd7"],7:["#288835","#2f9a3e","#35ac46","#45b855","#7dd489","#99e3a3","#d1ffd7"],8:["#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#b5f1bd","#d1ffd7"],9:["#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#99e3a3","#b5f1bd","#d1ffd7"],10:["#22732d","#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#99e3a3","#b5f1bd","#d1ffd7"],stops:["#288835","#35ac46","#61c66f","#99e3a3","#b5f1bd"],tags:["light","greens","sequential","esri-brand","colorblind-friendly"],name:"Esri Green 2"},"seq-esribrand-greenblue":{1:["#3cd3d0"],2:["#009b98","#a7eeed"],3:["#009b98","#3cd3d0","#a7eeed"],4:["#009b98","#00bab5","#3cd3d0","#a7eeed"],5:["#009b98","#00bab5","#3cd3d0","#81e7e5","#a7eeed"],6:["#009b98","#00aba7","#1ec7c3","#5ae0de","#81e7e5","#cef5f4"],7:["#009b98","#00aba7","#00bab5","#1ec7c3","#5ae0de","#81e7e5","#cef5f4"],8:["#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#a7eeed","#cef5f4"],9:["#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#81e7e5","#a7eeed","#cef5f4"],10:["#00807d","#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#81e7e5","#a7eeed","#cef5f4"],stops:["#009b98","#00bab5","#3cd3d0","#81e7e5","#a7eeed"],tags:["light","blues","sequential","esri-brand","colorblind-friendly"],name:"Esri Blue 1"},"seq-esribrand-blue":{1:["#49a4d8"],2:["#00619b","#a6d8f6"],3:["#00619b","#49a4d8","#a6d8f6"],4:["#00619b","#1480bf","#49a4d8","#a6d8f6"],5:["#00619b","#1480bf","#49a4d8","#8cc9ed","#a6d8f6"],6:["#00619b","#006eaf","#2891ce","#6bb6e3","#8cc9ed","#bfe7ff"],7:["#00619b","#006eaf","#1480bf","#2891ce","#6bb6e3","#8cc9ed","#bfe7ff"],8:["#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#a6d8f6","#bfe7ff"],9:["#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#8cc9ed","#a6d8f6","#bfe7ff"],10:["#005080","#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#8cc9ed","#a6d8f6","#bfe7ff"],stops:["#00619b","#1480bf","#49a4d8","#8cc9ed","#a6d8f6"],tags:["light","blues","sequential","esri-brand","colorblind-friendly"],name:"Esri Blue 2"},"seq-esribrand-violet":{1:["#a085c6"],2:["#57318c","#d6c4f1"],3:["#57318c","#a085c6","#d6c4f1"],4:["#57318c","#7b5ba9","#a085c6","#d6c4f1"],5:["#57318c","#7b5ba9","#a085c6","#c4afe2","#d6c4f1"],6:["#57318c","#69469a","#8d70b7","#b29ad4","#c4afe2","#e8d9ff"],7:["#57318c","#69469a","#7b5ba9","#8d70b7","#b29ad4","#c4afe2","#e8d9ff"],8:["#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#d6c4f1","#e8d9ff"],9:["#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#c4afe2","#d6c4f1","#e8d9ff"],10:["#3f2466","#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#c4afe2","#d6c4f1","#e8d9ff"],stops:["#57318c","#7b5ba9","#a085c6","#c4afe2","#d6c4f1"],tags:["light","purples","sequential","esri-brand","colorblind-friendly"],name:"Esri Purple 1"},"seq-esribrand-violetred":{1:["#b983c3"],2:["#73377e","#eac5f0"],3:["#73377e","#b983c3","#eac5f0"],4:["#73377e","#9753a3","#b983c3","#eac5f0"],5:["#73377e","#9753a3","#b983c3","#daafe1","#eac5f0"],6:["#73377e","#864691","#a466af","#ca99d2","#daafe1","#fadbff"],7:["#73377e","#864691","#9753a3","#a466af","#ca99d2","#daafe1","#fadbff"],8:["#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#eac5f0","#fadbff"],9:["#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#daafe1","#eac5f0","#fadbff"],10:["#5d2d66","#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#daafe1","#eac5f0","#fadbff"],stops:["#73377e","#9753a3","#b983c3","#daafe1","#eac5f0"],tags:["light","purples","sequential","esri-brand","colorblind-friendly"],name:"Esri Purple 2"},"seq-esribrand-brown":{1:["#ad8b62"],2:["#684217","#e5ceb1"],3:["#684217","#ad8b62","#e5ceb1"],4:["#684217","#855621","#ad8b62","#e5ceb1"],5:["#684217","#855621","#ad8b62","#d2b897","#e5ceb1"],6:["#684217","#764c1c","#946d3f","#c0a27d","#d2b897","#f7e4cb"],7:["#684217","#764c1c","#855621","#946d3f","#c0a27d","#d2b897","#f7e4cb"],8:["#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#e5ceb1","#f7e4cb"],9:["#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#d2b897","#e5ceb1","#f7e4cb"],10:["#593812","#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#d2b897","#e5ceb1","#f7e4cb"],stops:["#684217","#855621","#ad8b62","#d2b897","#e5ceb1"],tags:["light","browns","sequential","esri-brand","colorblind-friendly"],name:"Esri Brown 1"},"seq-esribrand-gray":{1:["#999999"],2:["#404040","#cecece"],3:["#404040","#999999","#cecece"],4:["#404040","#666666","#999999","#cecece"],5:["#404040","#666666","#999999","#bcbcbc","#cecece"],6:["#404040","#535353","#808080","#ababab","#bcbcbc","#dfdfdf"],7:["#404040","#535353","#666666","#808080","#ababab","#bcbcbc","#dfdfdf"],8:["#404040","#535353","#666666","#808080","#999999","#ababab","#cecece","#dfdfdf"],9:["#404040","#535353","#666666","#808080","#999999","#ababab","#bcbcbc","#cecece","#dfdfdf"],10:["#2e2e2e","#404040","#535353","#666666","#808080","#999999","#ababab","#bcbcbc","#cecece","#dfdfdf"],stops:["#404040","#666666","#999999","#bcbcbc","#cecece"],tags:["light","grays","sequential","esri-brand","colorblind-friendly"],name:"Esri Gray 1"},"seq-mentone-beach":{stops:["#48385F","#995375","#DB4A5B","#FC9A59","#FEE086"],tags:["dark","purples","yellows","sequential","colorblind-friendly"],name:"Mentone Beach"},"seq-snowy-mountain":{stops:["#e8e6f1","#c9d5eb","#a9c4e5","#87b3de","#60a3d8"],tags:["light","blues","sequential","colorblind-friendly"],name:"Snowy Mountain"},"seq-snow-cactus":{stops:["#F3F5E8","#E2DBBF","#90825D","#3E4939","#2A3225"],tags:["light","greens","sequential","colorblind-friendly"],name:"Snow Cactus"},"seq-magma":{1:["#ff57a5"],2:["#481793","#ffeca1"],3:["#481793","#ff57a5","#ffeca1"],4:["#481793","#b233b9","#ff57a5","#ffeca1"],5:["#481793","#b233b9","#ff57a5","#ffae85","#ffeca1"],6:["#481793","#7f1eb4","#e745b5","#ff778d","#ffae85","#ffffd1"],7:["#481793","#7f1eb4","#b233b9","#e745b5","#ff778d","#ffae85","#ffffd1"],8:["#481793","#7f1eb4","#b233b9","#e745b5","#ff57a5","#ff778d","#ffeca1","#ffffd1"],9:["#481793","#7f1eb4","#b233b9","#e745b5","#ff57a5","#ff778d","#ffae85","#ffeca1","#ffffd1"],10:["#010005","#481793","#7f1eb4","#b233b9","#e745b5","#ff57a5","#ff778d","#ffae85","#ffeca1","#ffffd1"],stops:["#481793","#b233b9","#ff57a5","#ffae85","#ffffd1"],tags:["dark","purples","pinks","yellows","sequential","colorblind-friendly"],name:"Magma"},"seq-inferno":{1:["#ff5c6a"],2:["#520d8e","#ffff64"],3:["#520d8e","#ff5c6a","#ffff64"],4:["#520d8e","#bc2e9a","#ff5c6a","#ffff64"],5:["#520d8e","#bc2e9a","#ff5c6a","#ffb71b","#ffff64"],6:["#520d8e","#881b9e","#f04188","#ff8345","#ffb71b","#ffffeb"],7:["#520d8e","#881b9e","#bc2e9a","#f04188","#ff8345","#ffb71b","#ffffeb"],8:["#520d8e","#881b9e","#bc2e9a","#f04188","#ff5c6a","#ff8345","#ffff64","#ffffeb"],9:["#520d8e","#881b9e","#bc2e9a","#f04188","#ff5c6a","#ff8345","#ffb71b","#ffff64","#ffffeb"],10:["#010005","#520d8e","#881b9e","#bc2e9a","#f04188","#ff5c6a","#ff8345","#ffb71b","#ffff64","#ffffeb"],stops:["#520d8e","#bc2e9a","#ff5c6a","#ffb71b","#ffff64"],tags:["dark","purples","pinks","oranges","yellows","sequential","colorblind-friendly"],name:"Inferno"},"seq-plasma":{1:["#ff769f"],2:["#8d01ef","#fff44a"],3:["#8d01ef","#ff769f","#fff44a"],4:["#8d01ef","#ec2cdb","#ff769f","#fff44a"],5:["#8d01ef","#ec2cdb","#ff769f","#ffc666","#fff44a"],6:["#8d01ef","#bf09ee","#ff51bd","#ff9d82","#ffc666","#ffff35"],7:["#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff9d82","#ffc666","#ffff35"],8:["#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff769f","#ff9d82","#ffc666","#ffff35"],9:["#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff769f","#ff9d82","#ffc666","#fff44a","#ffff35"],10:["#120bc1","#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff769f","#ff9d82","#ffc666","#fff44a","#ffff35"],stops:["#8d01ef","#ec2cdb","#ff769f","#ffc666","#fff44a"],tags:["dark","purples","pinks","yellows","sequential","colorblind-friendly"],name:"Plasma"},"seq-viridis":{1:["#2cdcc6"],2:["#6058be","#b9ff6e"],3:["#6058be","#2cdcc6","#b9ff6e"],4:["#6058be","#419ecb","#2cdcc6","#b9ff6e"],5:["#6058be","#419ecb","#2cdcc6","#6fff99","#b9ff6e"],6:["#6058be","#507dc9","#35bdcb","#3bfbb6","#6fff99","#ffff37"],7:["#6058be","#507dc9","#419ecb","#35bdcb","#3bfbb6","#6fff99","#ffff37"],8:["#6058be","#507dc9","#419ecb","#35bdcb","#2cdcc6","#3bfbb6","#b9ff6e","#ffff37"],9:["#6058be","#507dc9","#419ecb","#35bdcb","#2cdcc6","#3bfbb6","#6fff99","#b9ff6e","#ffff37"],10:["#6730a4","#6058be","#507dc9","#419ecb","#35bdcb","#2cdcc6","#3bfbb6","#6fff99","#b9ff6e","#ffff37"],stops:["#6058be","#419ecb","#2cdcc6","#6fff99","#ffff37"],tags:["dark","blues","greens","yellows","sequential","colorblind-friendly"],name:"Viridis"},"seq-cividis":{1:["#a3a3a6"],2:["#fff1a2","#00449f"],3:["#fff1a2","#a3a3a6","#00449f"],4:["#fff1a2","#a3a3a6","#65749a","#00449f"],5:["#fff1a2","#e1d6aa","#a3a3a6","#65749a","#00449f"],6:["#ffff7f","#e1d6aa","#c0bcad","#858b9e","#3b5c9a","#00449f"],7:["#ffff7f","#e1d6aa","#c0bcad","#858b9e","#65749a","#3b5c9a","#00449f"],8:["#ffff7f","#fff1a2","#c0bcad","#a3a3a6","#858b9e","#65749a","#3b5c9a","#00449f"],9:["#ffff7f","#fff1a2","#e1d6aa","#c0bcad","#a3a3a6","#858b9e","#65749a","#3b5c9a","#00449f"],10:["#ffff7f","#fff1a2","#e1d6aa","#c0bcad","#a3a3a6","#858b9e","#65749a","#3b5c9a","#00449f","#002e6e"],stops:["#fff1a2","#e1d6aa","#a3a3a6","#65749a","#00449f"],tags:["light","blues","yellows","sequential","colorblind-friendly"],name:"Cividis"},"div-orange-pink":{1:["#b796b8"],2:["#d8a79c","#b796b8"],3:["#d8a79c","#ffffff","#b796b8"],4:["#bf6d59","#e5c4bd","#cfb9d0","#874f88"],5:["#bf6d59","#e5c4bd","#ffffff","#cfb9d0","#874f88"],6:["#b24f38","#d8a79c","#f2e2de","#e7dce7","#b796b8","#6f2c71"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#a53217","#d2998b","#ffffff","#ab84ac","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 1"},"div-orange-yellow-pink":{1:["#b795aa"],2:["#d8a78d","#b795aa"],3:["#d8a78d","#fffee6","#b795aa"],4:["#bf6c52","#e5c4ab","#cfb8be","#874f81"],5:["#bf6c52","#e5c4ab","#fffee6","#cfb8be","#874f81"],6:["#b24f35","#d8a78d","#f2e1c8","#e7dbd2","#b795aa","#6f2c6d"],7:["#b24f35","#d8a78d","#f2e1c8","#fffee6","#e7dbd2","#b795aa","#6f2c6d"],8:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],9:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#fffee6","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],10:["#a53217","#b24f35","#cc8970","#e5c4ab","#f2e1c8","#e7dbd2","#cfb8be","#9f7295","#6f2c6d","#570959"],stops:["#a53217","#d2987f","#fffee6","#ab84a0","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 2"},"div-bluegreen-redpurple":{1:["#bd929b"],2:["#92aeaa","#bd929b"],3:["#92aeaa","#ffffff","#bd929b"],4:["#497871","#b6c9c6","#d3b6bc","#924959"],5:["#497871","#b6c9c6","#ffffff","#d3b6bc","#924959"],6:["#245d54","#92aeaa","#dbe4e3","#e9dbde","#bd929b","#7c2437"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e9dbde","#bd929b","#7c2437"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e9dbde","#d3b6bc","#a86d7a","#7c2437","#660016"],stops:["#004238","#80a19c","#ffffff","#b3808b","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 1"},"div-bluegreen-yellow-redpurple":{1:["#bd918d"],2:["#92ad9b","#bd918d"],3:["#92ad9b","#fffee6","#bd918d"],4:["#49786a","#b6c8b4","#d3b5ab","#924951"],5:["#49786a","#b6c8b4","#fffee6","#d3b5ab","#924951"],6:["#245d51","#92ad9b","#dbe3cd","#e9dac8","#bd918d","#7c2434"],7:["#245d51","#92ad9b","#dbe3cd","#fffee6","#e9dac8","#bd918d","#7c2434"],8:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],9:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#fffee6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],10:["#004238","#245d51","#6d9383","#b6c8b4","#dbe3cd","#e9dac8","#d3b5ab","#a86d6f","#7c2434","#660016"],stops:["#004238","#80a08f","#fffee6","#b37f7e","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 10"},"div-green-orange":{1:["#d8a79c"],2:["#aab193","#d8a79c"],3:["#aab193","#ffffff","#d8a79c"],4:["#717d4b","#c6cbb7","#e5c4bd","#bf6d59"],5:["#717d4b","#c6cbb7","#ffffff","#e5c4bd","#bf6d59"],6:["#546327","#aab193","#e3e5db","#f2e2de","#d8a79c","#b24f38"],7:["#546327","#aab193","#e3e5db","#ffffff","#f2e2de","#d8a79c","#b24f38"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#f2e2de","#e5c4bd","#cc8a7a","#b24f38","#a53217"],stops:["#384903","#9ca481","#ffffff","#d2998b","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 2"},"div-green-yellow-orange":{1:["#d8a78d"],2:["#aab085","#d8a78d"],3:["#aab085","#fffee6","#d8a78d"],4:["#717d44","#c6caa5","#e5c4ab","#bf6c52"],5:["#717d44","#c6caa5","#fffee6","#e5c4ab","#bf6c52"],6:["#546323","#aab085","#e3e4c6","#f2e1c8","#d8a78d","#b24f35"],7:["#546323","#aab085","#e3e4c6","#fffee6","#f2e1c8","#d8a78d","#b24f35"],8:["#546323","#8d9764","#c6caa5","#e3e4c6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],9:["#546323","#8d9764","#c6caa5","#e3e4c6","#fffee6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],10:["#384903","#546323","#8d9764","#c6caa5","#e3e4c6","#f2e1c8","#e5c4ab","#cc8970","#b24f35","#a53217"],stops:["#384903","#9ca375","#fffee6","#d2987f","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 3"},"div-bluegreen-orange":{1:["#d8a79c"],2:["#92aeaa","#d8a79c"],3:["#92aeaa","#ffffff","#d8a79c"],4:["#497871","#b6c9c6","#e5c4bd","#bf6d59"],5:["#497871","#b6c9c6","#ffffff","#e5c4bd","#bf6d59"],6:["#245d54","#92aeaa","#dbe4e3","#f2e2de","#d8a79c","#b24f38"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#f2e2de","#d8a79c","#b24f38"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#f2e2de","#e5c4bd","#cc8a7a","#b24f38","#a53217"],stops:["#004238","#80a19c","#ffffff","#d2998b","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 4"},"div-bluegreen-yellow-orange":{1:["#d8a78d"],2:["#92ad9b","#d8a78d"],3:["#92ad9b","#fffee6","#d8a78d"],4:["#49786a","#b6c8b4","#e5c4ab","#bf6c52"],5:["#49786a","#b6c8b4","#fffee6","#e5c4ab","#bf6c52"],6:["#245d51","#92ad9b","#dbe3cd","#f2e1c8","#d8a78d","#b24f35"],7:["#245d51","#92ad9b","#dbe3cd","#fffee6","#f2e1c8","#d8a78d","#b24f35"],8:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],9:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#fffee6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],10:["#004238","#245d51","#6d9383","#b6c8b4","#dbe3cd","#f2e1c8","#e5c4ab","#cc8970","#b24f35","#a53217"],stops:["#004238","#80a08f","#fffee6","#d2987f","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 5"},"div-green-redpurple":{1:["#bd929b"],2:["#aab193","#bd929b"],3:["#aab193","#ffffff","#bd929b"],4:["#717d4b","#c6cbb7","#d3b6bc","#924959"],5:["#717d4b","#c6cbb7","#ffffff","#d3b6bc","#924959"],6:["#546327","#aab193","#e3e5db","#e9dbde","#bd929b","#7c2437"],7:["#546327","#aab193","#e3e5db","#ffffff","#e9dbde","#bd929b","#7c2437"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#e9dbde","#d3b6bc","#a86d7a","#7c2437","#660016"],stops:["#384903","#9ca481","#ffffff","#b3808b","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 6"},"div-green-yellow-redpurple":{1:["#bd918d"],2:["#aab085","#bd918d"],3:["#aab085","#fffee6","#bd918d"],4:["#717d44","#c6caa5","#d3b5ab","#924951"],5:["#717d44","#c6caa5","#fffee6","#d3b5ab","#924951"],6:["#546323","#aab085","#e3e4c6","#e9dac8","#bd918d","#7c2434"],7:["#546323","#aab085","#e3e4c6","#fffee6","#e9dac8","#bd918d","#7c2434"],8:["#546323","#8d9764","#c6caa5","#e3e4c6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],9:["#546323","#8d9764","#c6caa5","#e3e4c6","#fffee6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],10:["#384903","#546323","#8d9764","#c6caa5","#e3e4c6","#e9dac8","#d3b5ab","#a86d6f","#7c2434","#660016"],stops:["#384903","#9ca375","#fffee6","#b37f7e","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 7"},"div-orange-yellow-blue-light":{1:["#99a6ac"],2:["#d8a78d","#99a6ac"],3:["#d8a78d","#fffee6","#99a6ac"],4:["#bf6c52","#e5c4ab","#bbc3bf","#546b85"],5:["#bf6c52","#e5c4ab","#fffee6","#bbc3bf","#546b85"],6:["#b24f35","#d8a78d","#f2e1c8","#dde1d3","#99a6ac","#324d71"],7:["#b24f35","#d8a78d","#f2e1c8","#fffee6","#dde1d3","#99a6ac","#324d71"],8:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#dde1d3","#bbc3bf","#768898","#324d71"],9:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#fffee6","#dde1d3","#bbc3bf","#768898","#324d71"],10:["#a53217","#b24f35","#cc8970","#e5c4ab","#f2e1c8","#dde1d3","#bbc3bf","#768898","#324d71","#10305e"],stops:["#a53217","#d2987f","#fffee6","#8897a2","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 1"},"div-orange-yellow-blue-dark":{1:["#92a1a3"],2:["#c0a183","#92a1a3"],3:["#c0a183","#fffee6","#92a1a3"],4:["#956442","#d5c0a4","#b6c0b9","#496476"],5:["#956442","#d5c0a4","#fffee6","#b6c0b9","#496476"],6:["#804521","#c0a183","#eadfc5","#dbdfd0","#92a1a3","#24455f"],7:["#804521","#c0a183","#eadfc5","#fffee6","#dbdfd0","#92a1a3","#24455f"],8:["#804521","#aa8363","#d5c0a4","#eadfc5","#dbdfd0","#b6c0b9","#6d838c","#24455f"],9:["#804521","#aa8363","#d5c0a4","#eadfc5","#fffee6","#dbdfd0","#b6c0b9","#6d838c","#24455f"],10:["#6b2600","#804521","#aa8363","#d5c0a4","#eadfc5","#dbdfd0","#b6c0b9","#6d838c","#24455f","#002649"],stops:["#6b2600","#b59273","#fffee6","#809298","#002649"],tags:["light","browns","blues","diverging","colorblind-friendly"],name:"Blue and Brown 1"},"div-red-yellow-pink":{1:["#b795aa"],2:["#d39688","#b795aa"],3:["#d39688","#fffee6","#b795aa"],4:["#b6504a","#e2b9a7","#cfb8be","#874f81"],5:["#b6504a","#e2b9a7","#fffee6","#cfb8be","#874f81"],6:["#a82e2a","#d39688","#f0dbc7","#e7dbd2","#b795aa","#6f2c6d"],7:["#a82e2a","#d39688","#f0dbc7","#fffee6","#e7dbd2","#b795aa","#6f2c6d"],8:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],9:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#fffee6","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],10:["#990b0b","#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e7dbd2","#cfb8be","#9f7295","#6f2c6d","#570959"],stops:["#990b0b","#cc8579","#fffee6","#ab84a0","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 3"},"div-red-yellow-purple":{1:["#ae9db2"],2:["#d39688","#ae9db2"],3:["#d39688","#fffee6","#ae9db2"],4:["#b6504a","#e2b9a7","#c9bdc3","#775c90"],5:["#b6504a","#e2b9a7","#fffee6","#c9bdc3","#775c90"],6:["#a82e2a","#d39688","#f0dbc7","#e4ded5","#ae9db2","#5c3b7e"],7:["#a82e2a","#d39688","#f0dbc7","#fffee6","#e4ded5","#ae9db2","#5c3b7e"],8:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e4ded5","#c9bdc3","#927ca1","#5c3b7e"],9:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#fffee6","#e4ded5","#c9bdc3","#927ca1","#5c3b7e"],10:["#990b0b","#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e4ded5","#c9bdc3","#927ca1","#5c3b7e","#411b6d"],stops:["#990b0b","#cc8579","#fffee6","#a08daa","#411b6d"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 4"},"div-blue-green":{1:["#aab193"],2:["#99a6ba","#aab193"],3:["#99a6ba","#ffffff","#aab193"],4:["#546b8c","#bbc4d1","#c6cbb7","#717d4b"],5:["#546b8c","#bbc4d1","#ffffff","#c6cbb7","#717d4b"],6:["#324e75","#99a6ba","#dde1e8","#e3e5db","#aab193","#546327"],7:["#324e75","#99a6ba","#dde1e8","#ffffff","#e3e5db","#aab193","#546327"],8:["#324e75","#7689a3","#bbc4d1","#dde1e8","#e3e5db","#c6cbb7","#8d976f","#546327"],9:["#324e75","#7689a3","#bbc4d1","#dde1e8","#ffffff","#e3e5db","#c6cbb7","#8d976f","#546327"],10:["#10305e","#324e75","#7689a3","#bbc4d1","#dde1e8","#e3e5db","#c6cbb7","#8d976f","#546327","#384903"],stops:["#10305e","#8898af","#ffffff","#9ca481","#384903"],tags:["light","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 1"},"div-red-blue":{1:["#99a6ba"],2:["#d39696","#99a6ba"],3:["#d39696","#ffffff","#99a6ba"],4:["#b65151","#e2b9b9","#bbc4d1","#546b8c"],5:["#b65151","#e2b9b9","#ffffff","#bbc4d1","#546b8c"],6:["#a82e2e","#d39696","#f0dcdc","#dde1e8","#99a6ba","#324e75"],7:["#a82e2e","#d39696","#f0dcdc","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#990b0b","#a82e2e","#c57474","#e2b9b9","#f0dcdc","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#990b0b","#cc8585","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 2"},"div-bluegreen-purple":{1:["#ae9dc0"],2:["#92aeaa","#ae9dc0"],3:["#92aeaa","#ffffff","#ae9dc0"],4:["#497871","#b6c9c6","#c9bed5","#775c97"],5:["#497871","#b6c9c6","#ffffff","#c9bed5","#775c97"],6:["#245d54","#92aeaa","#dbe4e3","#e4deea","#ae9dc0","#5c3c82"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e4deea","#ae9dc0","#5c3c82"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e4deea","#c9bed5","#927dac","#5c3c82"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e4deea","#c9bed5","#927dac","#5c3c82"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e4deea","#c9bed5","#927dac","#5c3c82","#411b6d"],stops:["#004238","#80a19c","#ffffff","#a08db6","#411b6d"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 1"},"div-redpurple-blue":{1:["#99a6ba"],2:["#bd929b","#99a6ba"],3:["#bd929b","#ffffff","#99a6ba"],4:["#924959","#d3b6bc","#bbc4d1","#546b8c"],5:["#924959","#d3b6bc","#ffffff","#bbc4d1","#546b8c"],6:["#7c2437","#bd929b","#e9dbde","#dde1e8","#99a6ba","#324e75"],7:["#7c2437","#bd929b","#e9dbde","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#7c2437","#a86d7a","#d3b6bc","#e9dbde","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#7c2437","#a86d7a","#d3b6bc","#e9dbde","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#660016","#7c2437","#a86d7a","#d3b6bc","#e9dbde","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#660016","#b3808b","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 3"},"div-orange-blue":{1:["#99a6ba"],2:["#d8a79c","#99a6ba"],3:["#d8a79c","#ffffff","#99a6ba"],4:["#bf6d59","#e5c4bd","#bbc4d1","#546b8c"],5:["#bf6d59","#e5c4bd","#ffffff","#bbc4d1","#546b8c"],6:["#b24f38","#d8a79c","#f2e2de","#dde1e8","#99a6ba","#324e75"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#a53217","#d2998b","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 4"},"div-green-pink":{1:["#b796b8"],2:["#aab193","#b796b8"],3:["#aab193","#ffffff","#b796b8"],4:["#717d4b","#c6cbb7","#cfb9d0","#874f88"],5:["#717d4b","#c6cbb7","#ffffff","#cfb9d0","#874f88"],6:["#546327","#aab193","#e3e5db","#e7dce7","#b796b8","#6f2c71"],7:["#546327","#aab193","#e3e5db","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#384903","#9ca481","#ffffff","#ab84ac","#570959"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 2"},"div-red-green":{1:["#aab193"],2:["#d39696","#aab193"],3:["#d39696","#ffffff","#aab193"],4:["#b65151","#e2b9b9","#c6cbb7","#717d4b"],5:["#b65151","#e2b9b9","#ffffff","#c6cbb7","#717d4b"],6:["#a82e2e","#d39696","#f0dcdc","#e3e5db","#aab193","#546327"],7:["#a82e2e","#d39696","#f0dcdc","#ffffff","#e3e5db","#aab193","#546327"],8:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#e3e5db","#c6cbb7","#8d976f","#546327"],9:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#ffffff","#e3e5db","#c6cbb7","#8d976f","#546327"],10:["#990b0b","#a82e2e","#c57474","#e2b9b9","#f0dcdc","#e3e5db","#c6cbb7","#8d976f","#546327","#384903"],stops:["#990b0b","#cc8585","#ffffff","#9ca481","#384903"],tags:["light","reds","greens","diverging"],name:"Red and Green 8"},"div-bluegreen-pink":{1:["#b796b8"],2:["#92aeaa","#b796b8"],3:["#92aeaa","#ffffff","#b796b8"],4:["#497871","#b6c9c6","#cfb9d0","#874f88"],5:["#497871","#b6c9c6","#ffffff","#cfb9d0","#874f88"],6:["#245d54","#92aeaa","#dbe4e3","#e7dce7","#b796b8","#6f2c71"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#004238","#80a19c","#ffffff","#ab84ac","#570959"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 3"},"div-orange-purple":{1:["#ae9dc0"],2:["#d8a79c","#ae9dc0"],3:["#d8a79c","#ffffff","#ae9dc0"],4:["#bf6d59","#e5c4bd","#c9bed5","#775c97"],5:["#bf6d59","#e5c4bd","#ffffff","#c9bed5","#775c97"],6:["#b24f38","#d8a79c","#f2e2de","#e4deea","#ae9dc0","#5c3c82"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#e4deea","#ae9dc0","#5c3c82"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e4deea","#c9bed5","#927dac","#5c3c82"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#e4deea","#c9bed5","#927dac","#5c3c82"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e4deea","#c9bed5","#927dac","#5c3c82","#411b6d"],stops:["#a53217","#d2998b","#ffffff","#a08db6","#411b6d"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 5"},"div-orange-gray-blue":{1:["#4f847c"],2:["#8a6a36","#4f847c"],3:["#8a6a36","#333333","#4f847c"],4:["#c58e37","#6d5835","#466964","#62b9ac"],5:["#c58e37","#6d5835","#333333","#466964","#62b9ac"],6:["#e2a138","#8a6a36","#504534","#3c4e4b","#4f847c","#6cd4c5"],7:["#e2a138","#8a6a36","#504534","#333333","#3c4e4b","#4f847c","#6cd4c5"],8:["#e2a138","#a87c36","#6d5835","#504534","#3c4e4b","#466964","#599e94","#6cd4c5"],9:["#e2a138","#a87c36","#6d5835","#504534","#333333","#3c4e4b","#466964","#599e94","#6cd4c5"],10:["#ffb339","#e2a138","#a87c36","#6d5835","#504534","#3c4e4b","#466964","#599e94","#6cd4c5","#75efdd"],stops:["#ffb339","#997336","#333333","#549188","#75efdd"],tags:["dark","yellows","blues","diverging","bright","colorblind-friendly"],name:"Blue and Orange 1"},"div-yellow-gray-purple":{1:["#826288"],2:["#8a8356","#826288"],3:["#8a8356","#333333","#826288"],4:["#c5b86e","#6d684a","#68526c","#b681c0"],5:["#c5b86e","#6d684a","#333333","#68526c","#b681c0"],6:["#e2d279","#8a8356","#504e3f","#4d434f","#826288","#d190dd"],7:["#e2d279","#8a8356","#504e3f","#333333","#4d434f","#826288","#d190dd"],8:["#e2d279","#a89d62","#6d684a","#504e3f","#4d434f","#68526c","#9c71a4","#d190dd"],9:["#e2d279","#a89d62","#6d684a","#504e3f","#333333","#4d434f","#68526c","#9c71a4","#d190dd"],10:["#ffed85","#e2d279","#a89d62","#6d684a","#504e3f","#4d434f","#68526c","#9c71a4","#d190dd","#eba0f9"],stops:["#ffed85","#99905c","#333333","#8f6a96","#eba0f9"],tags:["dark","purples","diverging","bright","colorblind-friendly"],name:"Purple and Yellow 1"},"div-red-gray-blue":{1:["#4f847c"],2:["#8a5757","#4f847c"],3:["#8a5757","#333333","#4f847c"],4:["#c57070","#6d4b4b","#466964","#62b9ac"],5:["#c57070","#6d4b4b","#333333","#466964","#62b9ac"],6:["#e27c7c","#8a5757","#503f3f","#3c4e4b","#4f847c","#6cd4c5"],7:["#e27c7c","#8a5757","#503f3f","#333333","#3c4e4b","#4f847c","#6cd4c5"],8:["#e27c7c","#a86464","#6d4b4b","#503f3f","#3c4e4b","#466964","#599e94","#6cd4c5"],9:["#e27c7c","#a86464","#6d4b4b","#503f3f","#333333","#3c4e4b","#466964","#599e94","#6cd4c5"],10:["#ff8888","#e27c7c","#a86464","#6d4b4b","#503f3f","#3c4e4b","#466964","#599e94","#6cd4c5","#75efdd"],stops:["#ff8888","#995e5e","#333333","#549188","#75efdd"],tags:["dark","pinks","blues","diverging","colorblind-friendly"],name:"Blue and Red 5"},"div-green-gray-purple":{1:["#826288"],2:["#598459","#826288"],3:["#598459","#333333","#826288"],4:["#72b972","#4c694c","#68526c","#b681c0"],5:["#72b972","#4c694c","#333333","#68526c","#b681c0"],6:["#7ed47e","#598459","#404e40","#4d434f","#826288","#d190dd"],7:["#7ed47e","#598459","#404e40","#333333","#4d434f","#826288","#d190dd"],8:["#7ed47e","#659e65","#4c694c","#404e40","#4d434f","#68526c","#9c71a4","#d190dd"],9:["#7ed47e","#659e65","#4c694c","#404e40","#333333","#4d434f","#68526c","#9c71a4","#d190dd"],10:["#8bef8b","#7ed47e","#659e65","#4c694c","#404e40","#4d434f","#68526c","#9c71a4","#d190dd","#eba0f9"],stops:["#8bef8b","#5f915f","#333333","#8f6a96","#eba0f9"],tags:["dark","greens","purples","diverging","bright","colorblind-friendly"],name:"Purple and Green 4"},"div-blue-yellow-red-bright":{1:["#ead98b"],2:["#954151","#1d4e89"],3:["#954151","#ead98b","#1d4e89"],4:["#954151","#ead98b","#9aacae","#1d4e89"],5:["#954151","#db9793","#ead98b","#7295bf","#1d4e89"],6:["#954151","#db9793","#ead98b","#c2c29c","#7295bf","#1d4e89"],7:["#954151","#ba6f75","#db9793","#ead98b","#9aacae","#7295bf","#1d4e89"],8:["#954151","#ba6f75","#db9793","#ead98b","#c2c29c","#9aacae","#7295bf","#1d4e89"],9:["#954151","#ba6f75","#db9793","#deba87","#ead98b","#c2c29c","#9aacae","#7295bf","#1d4e89"],10:["#954151","#ba6f75","#db9793","#deba87","#ead98b","#c2c29c","#9aacae","#7295bf","#4872a4","#1d4e89"],stops:["#954151","#db9793","#ead98b","#7295bf","#1d4e89"],tags:["reds","yellows","blues","diverging","light","colorblind-friendly"],name:"Blue and Red 6"},"div-green-gray-bright":{1:["#dae6d5"],2:["#757172","#5d7a06"],3:["#757172","#dae6d5","#5d7a06"],4:["#757172","#bcb8b4","#9ebb51","#5d7a06"],5:["#757172","#bcb8b4","#dae6d5","#9ebb51","#5d7a06"],6:["#757172","#a5a19e","#bcb8b4","#bfdc76","#9ebb51","#5d7a06"],7:["#757172","#a5a19e","#bcb8b4","#dae6d5","#bfdc76","#9ebb51","#5d7a06"],8:["#757172","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#5d7a06"],9:["#757172","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#7e9b2b","#5d7a06"],10:["#757172","#8d8988","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#7e9b2b","#5d7a06"],stops:["#757172","#bcb8b4","#dae6d5","#9ebb51","#5d7a06"],tags:["light","grays","greens","bright","diverging","colorblind-friendly"],name:"Green and Gray 1"},"div-red-green-bright":{1:["#dedad2"],2:["#54bebe","#c80064"],3:["#54bebe","#dedad2","#c80064"],4:["#54bebe","#98d1d1","#df979e","#c80064"],5:["#54bebe","#98d1d1","#dedad2","#df979e","#c80064"],6:["#54bebe","#98d1d1","#dedad2","#e4bcad","#df979e","#c80064"],7:["#54bebe","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#c80064"],8:["#54bebe","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#c80064"],9:["#54bebe","#76c8c8","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#c80064"],10:["#54bebe","#76c8c8","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#d03277","#c80064"],stops:["#54bebe","#98d1d1","#dedad2","#df979e","#c80064"],tags:["light","blues","pinks","bright","diverging","colorblind-friendly"],name:"Pink and Blue 1"},"div-red-blue-bright":{1:["#c5c8d4"],2:["#4d7799","#b5515b"],3:["#4d7799","#c5c8d4","#b5515b"],4:["#4d7799","#7fa4c4","#d48e95","#b5515b"],5:["#4d7799","#7fa4c4","#c5c8d4","#d48e95","#b5515b"],6:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#d48e95","#b5515b"],7:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#e3adb2","#d48e95","#b5515b"],8:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#b5515b"],9:["#4d7799","#668eae","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#b5515b"],10:["#4d7799","#668eae","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#c46f78","#b5515b"],stops:["#4d7799","#7fa4c4","#c5c8d4","#d48e95","#b5515b"],tags:["light","blues","reds","diverging","colorblind-friendly"],name:"Blue and Red 7"},"div-orange-gray-bright":{1:["#d5cbcb"],2:["#6d717a","#a65a2c"],3:["#6d717a","#d5cbcb","#a65a2c"],4:["#6d717a","#a2a6b1","#db9167","#a65a2c"],5:["#6d717a","#a2a6b1","#d5cbcb","#db9167","#a65a2c"],6:["#6d717a","#a2a6b1","#d5cbcb","#e2b49a","#db9167","#a65a2c"],7:["#6d717a","#a2a6b1","#bcc1cc","#d5cbcb","#e2b49a","#db9167","#a65a2c"],8:["#6d717a","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#a65a2c"],9:["#6d717a","#878c95","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#a65a2c"],10:["#6d717a","#878c95","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#cc7441","#a65a2c"],stops:["#6d717a","#a2a6b1","#d5cbcb","#db9167","#a65a2c"],tags:["light","grays","browns","oranges","diverging","colorblind-friendly"],name:"Orange and Gray 1"},"div-blue-orange-bright":{1:["#d6cdcd"],2:["#bf5b1d","#547a99"],3:["#bf5b1d","#d6cdcd","#547a99"],4:["#bf5b1d","#e48043","#84a7c4","#547a99"],5:["#bf5b1d","#e48043","#d6cdcd","#84a7c4","#547a99"],6:["#bf5b1d","#e48043","#eb9b6a","#d6cdcd","#84a7c4","#547a99"],7:["#bf5b1d","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#547a99"],8:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#547a99"],9:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#6c90ae","#547a99"],10:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#f2b591","#d6cdcd","#9cbdd9","#84a7c4","#6c90ae","#547a99"],stops:["#bf5b1d","#e48043","#d6cdcd","#84a7c4","#547a99"],tags:["light","blues","oranges","diverging","colorblind-friendly"],name:"Blue and Orange 2"},"div-blue-lightgreen-bright":{1:["#99b9c3"],2:["#dbf2e3","#364187"],3:["#dbf2e3","#99b9c3","#364187"],4:["#c5ead4","#99b9c3","#6f72b2","#364187"],5:["#dbf2e3","#c5ead4","#99b9c3","#6f72b2","#364187"],6:["#dbf2e3","#c5ead4","#99b9c3","#a7a3dc","#6f72b2","#364187"],7:["#dbf2e3","#c5ead4","#98d9b5","#99b9c3","#a7a3dc","#6f72b2","#364187"],8:["#dbf2e3","#c5ead4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#364187"],9:["#dbf2e3","#c5ead4","#aee1c4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#364187"],10:["#dbf2e3","#c5ead4","#aee1c4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#525a9c","#364187"],stops:["#dbf2e3","#c5ead4","#99b9c3","#6f72b2","#364187"],tags:["light","blues","purples","greens","diverging","colorblind-friendly"],name:"Green and Blue 2"},"div-red-gray-bright":{1:["#c7d3e5"],2:["#667181","#be3027"],3:["#667181","#c7d3e5","#be3027"],4:["#667181","#97a2b3","#d5857f","#be3027"],5:["#667181","#97a2b3","#ebd9d8","#d5857f","#be3027"],6:["#667181","#97a2b3","#c7d3e5","#ebd9d8","#d5857f","#be3027"],7:["#667181","#97a2b3","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#be3027"],8:["#667181","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#be3027"],9:["#667181","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#c95a53","#be3027"],10:["#667181","#7e8a9a","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#c95a53","#be3027"],stops:["#667181","#97a2b3","#ebd9d8","#d5857f","#be3027"],tags:["light","reds","grays","diverging","colorblind-friendly"],name:"Red and Gray 1"},"div-blue-gray-bright":{1:["#ced9d9"],2:["#78716e","#009db3"],3:["#78716e","#ced9d9","#009db3"],4:["#78716e","#a19b96","#54c5d5","#009db3"],5:["#78716e","#a19b96","#ced9d9","#54c5d5","#009db3"],6:["#78716e","#a19b96","#ced9d9","#7ed9e6","#54c5d5","#009db3"],7:["#78716e","#a19b96","#b5afaa","#ced9d9","#7ed9e6","#54c5d5","#009db3"],8:["#78716e","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#009db3"],9:["#78716e","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#2ab1c4","#009db3"],10:["#78716e","#8c8682","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#2ab1c4","#009db3"],stops:["#78716e","#a19b96","#ced9d9","#54c5d5","#009db3"],tags:["light","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 1"},"div-red-lightgreen-bright":{1:["#bab0bf"],2:["#cfe6e6","#a60053"],3:["#cfe6e6","#bab0bf","#a60053"],4:["#cfe6e6","#a7d5d5","#da6aa2","#a60053"],5:["#cfe6e6","#a7d5d5","#bab0bf","#da6aa2","#a60053"],6:["#cfe6e6","#bbdddd","#a7d5d5","#da6aa2","#c94788","#a60053"],7:["#cfe6e6","#bbdddd","#a7d5d5","#bab0bf","#da6aa2","#c94788","#a60053"],8:["#cfe6e6","#bbdddd","#a7d5d5","#bab0bf","#da6aa2","#c94788","#b7236d","#a60053"],9:["#cfe6e6","#bbdddd","#a7d5d5","#93cccc","#bab0bf","#da6aa2","#c94788","#b7236d","#a60053"],10:["#cfe6e6","#bbdddd","#a7d5d5","#93cccc","#bab0bf","#eb8dbc","#da6aa2","#c94788","#b7236d","#a60053"],stops:["#cfe6e6","#a7d5d5","#bab0bf","#da6aa2","#a60053"],tags:["light","blues","pinks","diverging","colorblind-friendly"],name:"Pink and Blue 2"},"div-blue-green-bright":{1:["#dae1da"],2:["#3a8059","#434e96"],3:["#3a8059","#dae1da","#434e96"],4:["#3a8059","#85bf9b","#8a8fbf","#434e96"],5:["#3a8059","#85bf9b","#dae1da","#8a8fbf","#434e96"],6:["#3a8059","#85bf9b","#abdebc","#d1d0e7","#8a8fbf","#434e96"],7:["#3a8059","#85bf9b","#abdebc","#dae1da","#d1d0e7","#8a8fbf","#434e96"],8:["#3a8059","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#434e96"],9:["#3a8059","#609f7a","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#434e96"],10:["#3a8059","#609f7a","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#666faa","#434e96"],stops:["#3a8059","#85bf9b","#dae1da","#8a8fbf","#434e96"],tags:["light","blues","greens","diverging","colorblind-friendly"],name:"Green and Blue 3"},"div-purple-brown-bright":{1:["#dbd3d4"],2:["#935b44","#84628b"],3:["#935b44","#dbd3d4","#84628b"],4:["#935b44","#bc9483","#b49fbc","#84628b"],5:["#935b44","#bc9483","#dbd3d4","#b49fbc","#84628b"],6:["#935b44","#bc9483","#d9c4c2","#ccbed4","#b49fbc","#84628b"],7:["#935b44","#bc9483","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#84628b"],8:["#935b44","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#84628b"],9:["#935b44","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#9c81a3","#84628b"],10:["#935b44","#a87864","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#9c81a3","#84628b"],stops:["#935b44","#bc9483","#dbd3d4","#b49fbc","#84628b"],tags:["light","browns","purples","subdued","diverging","colorblind-friendly"],name:"Purple and Brown 1"},"div-blue-brown-bright":{1:["#cbd7e6"],2:["#946e43","#547a99"],3:["#946e43","#cbd7e6","#547a99"],4:["#946e43","#bd9f83","#90a9c0","#547a99"],5:["#946e43","#bd9f83","#cbd7e6","#90a9c0","#547a99"],6:["#946e43","#bd9f83","#cec7c5","#cbd7e6","#90a9c0","#547a99"],7:["#946e43","#bd9f83","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#547a99"],8:["#946e43","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#547a99"],9:["#946e43","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#7291ac","#547a99"],10:["#946e43","#a88663","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#7291ac","#547a99"],stops:["#946e43","#bd9f83","#cbd7e6","#90a9c0","#547a99"],tags:["light","blues","browns","subdued","diverging","colorblind-friendly"],name:"Blue and Brown 2"},"div-teal-brown-bright":{1:["#d2dec8"],2:["#806c44","#448199"],3:["#806c44","#d2dec8","#448199"],4:["#806c44","#ad9d79","#8fb6bc","#448199"],5:["#806c44","#ad9d79","#d2dec8","#8fb6bc","#448199"],6:["#806c44","#ad9d79","#cbcaae","#b5d0cd","#8fb6bc","#448199"],7:["#806c44","#ad9d79","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#448199"],8:["#806c44","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#448199"],9:["#806c44","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#6a9baa","#448199"],10:["#806c44","#97845f","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#6a9baa","#448199"],stops:["#806c44","#ad9d79","#d2dec8","#8fb6bc","#448199"],tags:["light","blues","browns","subdued","diverging","colorblind-friendly"],name:"Blue and Brown 3"},"div-green-teal-bright":{1:["#c8e6cf"],2:["#358c84","#5d7a06"],3:["#358c84","#c8e6cf","#5d7a06"],4:["#358c84","#73b5ae","#9cbd58","#5d7a06"],5:["#358c84","#73b5ae","#c8e6cf","#9cbd58","#5d7a06"],6:["#358c84","#73b5ae","#92cac2","#bcde81","#9cbd58","#5d7a06"],7:["#358c84","#73b5ae","#92cac2","#c8e6cf","#bcde81","#9cbd58","#5d7a06"],8:["#358c84","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#5d7a06"],9:["#358c84","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#7d9b2f","#5d7a06"],10:["#358c84","#54a199","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#7d9b2f","#5d7a06"],stops:["#358c84","#73b5ae","#c8e6cf","#9cbd58","#5d7a06"],tags:["light","blues","greens","diverging","colorblind-friendly"],name:"Green and Blue 4"},"div-lightgreen-yellow-bright":{1:["#505944"],2:["#ffea8c","#8cffdc"],3:["#ffea8c","#505944","#8cffdc"],4:["#ffea8c","#b3ab60","#5aa28b","#8cffdc"],5:["#ffea8c","#b3ab60","#505944","#5aa28b","#8cffdc"],6:["#ffea8c","#b3ab60","#666b33","#417363","#5aa28b","#8cffdc"],7:["#ffea8c","#b3ab60","#666b33","#505944","#417363","#5aa28b","#8cffdc"],8:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#417363","#5aa28b","#73d0b4","#8cffdc"],9:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#505944","#417363","#5aa28b","#73d0b4","#8cffdc"],10:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#666b33","#505944","#417363","#5aa28b","#73d0b4","#8cffdc"],stops:["#ffea8c","#b3ab60","#505944","#5aa28b","#8cffdc"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 1"},"div-lightblue-gray-bright":{1:["#757269"],2:["#faefdb","#80f3ff"],3:["#faefdb","#757269","#80f3ff"],4:["#faefdb","#a19c8f","#40b2c6","#80f3ff"],5:["#faefdb","#a19c8f","#00708d","#40b2c6","#80f3ff"],6:["#faefdb","#a19c8f","#50716e","#2091aa","#40b2c6","#80f3ff"],7:["#faefdb","#a19c8f","#50716e","#00708d","#2091aa","#40b2c6","#80f3ff"],8:["#faefdb","#cec5b5","#a19c8f","#757269","#2091aa","#40b2c6","#60d2e2","#80f3ff"],9:["#faefdb","#cec5b5","#a19c8f","#757269","#50716e","#2091aa","#40b2c6","#60d2e2","#80f3ff"],10:["#faefdb","#cec5b5","#a19c8f","#757269","#50716e","#00708d","#2091aa","#40b2c6","#60d2e2","#80f3ff"],stops:["#faefdb","#a19c8f","#00708d","#40b2c6","#80f3ff"],tags:["light","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 2"},"div-lightgreen-gray-bright":{1:["#555b61"],2:["#becdd9","#99ffc5"],3:["#becdd9","#555b61","#99ffc5"],4:["#becdd9","#788189","#64b47f","#99ffc5"],5:["#becdd9","#788189","#41543e","#64b47f","#99ffc5"],6:["#becdd9","#788189","#555b61","#4a8f5c","#64b47f","#99ffc5"],7:["#becdd9","#788189","#555b61","#2f6939","#4a8f5c","#64b47f","#99ffc5"],8:["#becdd9","#9ba7b1","#788189","#555b61","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],9:["#becdd9","#9ba7b1","#788189","#555b61","#41543e","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],10:["#becdd9","#9ba7b1","#788189","#555b61","#41543e","#2f6939","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],stops:["#becdd9","#788189","#41543e","#64b47f","#99ffc5"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 2"},"div-lightred-gray-bright":{1:["#616673"],2:["#d4d9e6","#ffbdb3"],3:["#d4d9e6","#616673","#ffbdb3"],4:["#d4d9e6","#9ba0ad","#c27166","#ffbdb3"],5:["#d4d9e6","#9ba0ad","#616673","#c27166","#ffbdb3"],6:["#9ba0ad","#7e8390","#616673","#a44b40","#c27166","#e1978d"],7:["#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d"],8:["#d4d9e6","#b7bcc9","#9ba0ad","#7e8390","#a44b40","#c27166","#e1978d","#ffbdb3"],9:["#b7bcc9","#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d","#ffbdb3"],10:["#d4d9e6","#b7bcc9","#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d","#ffbdb3"],stops:["#d4d9e6","#9ba0ad","#616673","#c27166","#ffbdb3"],tags:["dark","reds","grays","diverging","subdued","colorblind-friendly"],name:"Red and Gray 2"},"div-lightmagenta-gray-bright":{1:["#594154"],2:["#faefdb","#ff99ff"],3:["#faefdb","#594154","#ff99ff"],4:["#faefdb","#a7a194","#b650b6","#ff99ff"],5:["#faefdb","#a7a194","#594154","#b650b6","#ff99ff"],6:["#faefdb","#a7a194","#54534d","#922c91","#b650b6","#ff99ff"],7:["#faefdb","#a7a194","#54534d","#594154","#922c91","#b650b6","#ff99ff"],8:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#922c91","#b650b6","#db75da","#ff99ff"],9:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#594154","#922c91","#b650b6","#db75da","#ff99ff"],10:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#54534d","#594154","#922c91","#b650b6","#db75da","#ff99ff"],stops:["#faefdb","#a7a194","#594154","#b650b6","#ff99ff"],tags:["dark","purples","bright","grays","diverging","colorblind-friendly"],name:"Purple and Gray 1"},"div-yellow-green-bright":{1:["#8fa17b"],2:["#38524d","#ffec99"],3:["#38524d","#8fa17b","#ffec99"],4:["#38524d","#4a7c6e","#ccbe6a","#ffec99"],5:["#38524d","#4a7c6e","#8fa17b","#ccbe6a","#ffec99"],6:["#38524d","#41675e","#53917f","#b3a752","#ccbe6a","#ffec99"],7:["#38524d","#41675e","#53917f","#8fa17b","#b3a752","#ccbe6a","#ffec99"],8:["#38524d","#41675e","#4a7c6e","#53917f","#b3a752","#ccbe6a","#e6d581","#ffec99"],9:["#38524d","#41675e","#4a7c6e","#53917f","#8fa17b","#b3a752","#ccbe6a","#e6d581","#ffec99"],10:["#38524d","#41675e","#4a7c6e","#53917f","#5ca68f","#8fa17b","#b3a752","#ccbe6a","#e6d581","#ffec99"],stops:["#38524d","#4a7c6e","#8fa17b","#ccbe6a","#ffec99"],tags:["dark","yellows","greens","diverging","colorblind-friendly"],name:"Green and Yellow 1"},"div-lightblue-yellow-bright":{1:["#4b595e"],2:["#ffea8c","#aadbff"],3:["#ffea8c","#4b595e","#aadbff"],4:["#ffea8c","#b3ab60","#6693c8","#aadbff"],5:["#ffea8c","#b3ab60","#4b595e","#6693c8","#aadbff"],6:["#ffea8c","#b3ab60","#8c8b49","#446fad","#6693c8","#aadbff"],7:["#ffea8c","#b3ab60","#8c8b49","#4b595e","#446fad","#6693c8","#aadbff"],8:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#446fad","#6693c8","#88b7e4","#aadbff"],9:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#4b595e","#446fad","#6693c8","#88b7e4","#aadbff"],10:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#666b33","#4b595e","#446fad","#6693c8","#88b7e4","#aadbff"],stops:["#ffea8c","#b3ab60","#4b595e","#6693c8","#aadbff"],tags:["dark","yellows","blues","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 2"},"div-green-darkgray-bright":{1:["#4bb375"],2:["#4a4e54","#d9ffe9"],3:["#4a4e54","#4bb375","#d9ffe9"],4:["#4a4e54","#636a71","#92d9af","#d9ffe9"],5:["#4a4e54","#636a71","#4bb375","#92d9af","#d9ffe9"],6:["#575c63","#636a71","#6c8a83","#6fc692","#92d9af","#d9ffe9"],7:["#575c63","#636a71","#707880","#4bb375","#6fc692","#92d9af","#d9ffe9"],8:["#575c63","#636a71","#707880","#6c8a83","#6fc692","#92d9af","#b6eccc","#d9ffe9"],9:["#575c63","#636a71","#707880","#6c8a83","#4bb375","#6fc692","#92d9af","#b6eccc","#d9ffe9"],10:["#4a4e54","#575c63","#636a71","#707880","#6c8a83","#4bb375","#6fc692","#92d9af","#b6eccc","#d9ffe9"],stops:["#4a4e54","#636a71","#4bb375","#92d9af","#d9ffe9"],tags:["dark","grays","greens","diverging","colorblind-friendly"],name:"Green and Gray 3"},"div-brbg":{1:["#d8b365"],2:["#d8b365","#5ab4ac"],3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],stops:["rgba(166, 97, 26, 1)","rgba(223, 194, 125, 1)","rgba(245, 245, 245, 1)","rgba(128, 205, 193, 1)","rgba(1, 133, 113, 1)"],tags:["light","browns","greens","diverging","colorblind-friendly"],name:"Green and Brown 1"},"div-piyg":{1:["#e9a3c9"],2:["#e9a3c9","#a1d76a"],3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],stops:["rgba(208, 28, 139, 1)","rgba(241, 182, 218, 1)","rgba(247, 247, 247, 1)","rgba(184, 225, 134, 1)","rgba(77, 172, 38, 1)"],tags:["light","pinks","bright","greens","diverging","colorblind-friendly"],name:"Green and Pink 1"},"div-prgn":{1:["#af8dc3"],2:["#af8dc3","#7fbf7b"],3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],stops:["rgba(123, 50, 148, 1)","rgba(194, 165, 207, 1)","rgba(247, 247, 247, 1)","rgba(166, 219, 160, 1)","rgba(0, 136, 55, 1)"],tags:["light","purples","greens","bright","diverging","colorblind-friendly"],name:"Purple and Green 5"},"div-puor":{1:["#f1a340"],2:["#f1a340","#998ec3"],3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],stops:["rgba(230, 97, 1, 1)","rgba(253, 184, 99, 1)","rgba(247, 247, 247, 1)","rgba(178, 171, 210, 1)","rgba(94, 60, 153, 1)"],tags:["light","browns","purples","oranges","diverging","colorblind-friendly"],name:"Purple and Brown 2"},"div-rdbu":{1:["#ef8a62"],2:["#ef8a62","#67a9cf"],3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],stops:["rgba(202, 0, 32, 1)","rgba(244, 165, 130, 1)","rgba(247, 247, 247, 1)","rgba(146, 197, 222, 1)","rgba(5, 113, 176, 1)"],tags:["light","reds","blues","diverging","bright","colorblind-friendly"],name:"Blue and Red 8"},"div-rdgy":{1:["#ef8a62"],2:["#ef8a62","#999999"],3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],stops:["rgba(202, 0, 32, 1)","rgba(244, 165, 130, 1)","rgba(255, 255, 255, 1)","rgba(186, 186, 186, 1)","rgba(64, 64, 64, 1)"],tags:["light","grays","reds","diverging","colorblind-friendly"],name:"Red and Gray 3"},"div-rdylbu":{1:["#fc8d59"],2:["#fc8d59","#91bfdb"],3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(171, 217, 233, 1)","rgba(44, 123, 182, 1)"],tags:["light","blues","reds","oranges","diverging","bright","colorblind-friendly"],name:"Blue and Red 9"},"div-rdylgn":{1:["#fc8d59"],2:["#fc8d59","#91cf60"],3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(166, 217, 106, 1)","rgba(26, 150, 65, 1)"],tags:["light","reds","bright","greens","diverging"],name:"Red and Green 9"},"div-spectral":{1:["#fc8d59"],2:["#fc8d59","#99d594"],3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(171, 221, 164, 1)","rgba(43, 131, 186, 1)"],tags:["light","reds","oranges","yellows","blues","greens","bright","diverging"],name:"Blue and Red 10"},"div-yellow-orange-purple-bright":{1:["#ffb400"],2:["#ffb400","#9080ff"],3:["#ffb400","#363445","#9080ff"],4:["#ffb400","#a57c1b","#5e569b","#9080ff"],5:["#ffb400","#a57c1b","#363445","#5e569b","#9080ff"],6:["#ffb400","#a57c1b","#786028","#48446e","#5e569b","#9080ff"],7:["#ffb400","#a57c1b","#786028","#363445","#48446e","#5e569b","#9080ff"],8:["#ffb400","#d2980d","#a57c1b","#786028","#363445","#48446e","#5e569b","#9080ff"],9:["#ffb400","#d2980d","#a57c1b","#786028","#363445","#48446e","#5e569b","#776bcd","#9080ff"],10:["#ffb400","#d2980d","#a57c1b","#786028","#454034","#363445","#48446e","#5e569b","#776bcd","#9080ff"],stops:["#ffb400","#a57c1b","#363445","#5e569b","#9080ff"],tags:["dark","yellows","oranges","purples","bright","diverging","colorblind-friendly"],name:"Purple and Orange 2"},"div-yellow-blue-bright-1":{1:["#ffc700"],2:["#ffc700","#6ca0ff"],3:["#ffc700","#343a45","#6ca0ff"],4:["#ffc700","#a4861c","#4c689b","#6ca0ff"],5:["#ffc700","#a4861c","#343a45","#4c689b","#6ca0ff"],6:["#ffc700","#a4861c","#77662a","#3c4c69","#4c689b","#6ca0ff"],7:["#ffc700","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#6ca0ff"],8:["#ffc700","#d2a60e","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#6ca0ff"],9:["#ffc700","#d2a60e","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#5c84cd","#6ca0ff"],10:["#ffc700","#d2a60e","#a4861c","#77662a","#4a4538","#343a45","#3c4c69","#4c689b","#5c84cd","#6ca0ff"],stops:["#ffc700","#a4861c","#343a45","#4c689b","#6ca0ff"],tags:["dark","yellows","blues","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 6"},"div-yellow-blue-bright-2":{1:["#ffda00"],2:["#ffda00","#48c0ff"],3:["#ffda00","#343f45","#48c0ff"],4:["#ffda00","#a4901c","#3b799b","#48c0ff"],5:["#ffda00","#a4901c","#343f45","#3b799b","#48c0ff"],6:["#ffda00","#a4901c","#776b2a","#345669","#3b799b","#48c0ff"],7:["#ffda00","#a4901c","#776b2a","#343f45","#345669","#3b799b","#48c0ff"],8:["#ffda00","#d2b50e","#a4901c","#776b2a","#343f45","#345669","#3b799b","#48c0ff"],9:["#ffda00","#d2b50e","#a4901c","#776b2a","#343f45","#345669","#3b799b","#419dcd","#48c0ff"],10:["#ffda00","#d2b50e","#a4901c","#776b2a","#4a4738","#343f45","#345669","#3b799b","#419dcd","#48c0ff"],stops:["#ffda00","#a4901c","#343f45","#3b799b","#48c0ff"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 7"},"div-yellow-blue-bright":{1:["#ffff00"],2:["#ffff00","#00ffff"],3:["#ffff00","#344545","#00ffff"],4:["#ffff00","#a4a41c","#219797","#00ffff"],5:["#ffff00","#a4a41c","#344545","#219797","#00ffff"],6:["#ffff00","#a4a41c","#77772a","#316363","#219797","#00ffff"],7:["#ffff00","#a4a41c","#77772a","#344545","#316363","#219797","#00ffff"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#344545","#316363","#219797","#00ffff"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#344545","#316363","#219797","#10cbcb","#00ffff"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#344545","#316363","#219797","#10cbcb","#00ffff"],stops:["#ffff00","#a4a41c","#344545","#219797","#00ffff"],tags:["dark","yellows","greens","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 8"},"div-yellow-blue-bright-3":{1:["#e8ff00"],2:["#e8ff00","#4a99ff"],3:["#e8ff00","#3b434f","#4a99ff"],4:["#e8ff00","#97a41c","#3f69a2","#4a99ff"],5:["#e8ff00","#97a41c","#3b434f","#3f69a2","#4a99ff"],6:["#e8ff00","#97a41c","#6f772a","#395173","#3f69a2","#4a99ff"],7:["#e8ff00","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4a99ff"],8:["#e8ff00","#c0d20e","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4a99ff"],9:["#e8ff00","#c0d20e","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4481d0","#4a99ff"],10:["#e8ff00","#c0d20e","#97a41c","#6f772a","#50523e","#3b434f","#395173","#3f69a2","#4481d0","#4a99ff"],stops:["#e8ff00","#97a41c","#3b434f","#3f69a2","#4a99ff"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 9"},"div-yellow-purple-bright-1":{1:["#e8ff00"],2:["#e8ff00","#8c80ff"],3:["#e8ff00","#413f54","#8c80ff"],4:["#e8ff00","#97a41c","#655dbb","#8c80ff"],5:["#e8ff00","#97a41c","#413f54","#655dbb","#8c80ff"],6:["#e8ff00","#97a41c","#6f772a","#524b99","#655dbb","#8c80ff"],7:["#e8ff00","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#8c80ff"],8:["#e8ff00","#c0d20e","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#8c80ff"],9:["#e8ff00","#c0d20e","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#796edd","#8c80ff"],10:["#e8ff00","#c0d20e","#97a41c","#6f772a","#50523e","#413f54","#524b99","#655dbb","#796edd","#8c80ff"],stops:["#e8ff00","#97a41c","#413f54","#655dbb","#8c80ff"],tags:["dark","yellows","purples","bright","diverging","colorblind-friendly"],name:"Purple and Yellow 2"},"div-yellow-purple-bright-2":{1:["#d0ff00"],2:["#d0ff00","#ac4dff"],3:["#d0ff00","#3d3345","#ac4dff"],4:["#d0ff00","#7f9717","#6f3d9c","#ac4dff"],5:["#d0ff00","#7f9717","#3d3345","#6f3d9c","#ac4dff"],6:["#d0ff00","#7f9717","#576323","#51356b","#6f3d9c","#ac4dff"],7:["#d0ff00","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#ac4dff"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#ac4dff"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#8e45ce","#ac4dff"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#3d3345","#51356b","#6f3d9c","#8e45ce","#ac4dff"],stops:["#d0ff00","#7f9717","#3d3345","#6f3d9c","#ac4dff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Yellow 3"},"div-yellow-red-bright-1":{1:["#d0ff00"],2:["#d0ff00","#fb2bff"],3:["#d0ff00","#443745","#fb2bff"],4:["#d0ff00","#7f9717","#98319b","#fb2bff"],5:["#d0ff00","#7f9717","#443745","#98319b","#fb2bff"],6:["#d0ff00","#7f9717","#576323","#673469","#98319b","#fb2bff"],7:["#d0ff00","#7f9717","#576323","#443745","#673469","#98319b","#fb2bff"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#443745","#673469","#98319b","#fb2bff"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#443745","#673469","#98319b","#ca2ecd","#fb2bff"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#443745","#673469","#98319b","#ca2ecd","#fb2bff"],stops:["#d0ff00","#7f9717","#443745","#98319b","#fb2bff"],tags:["dark","pinks","greens","purples","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 3"},"div-yellow-red-bright-2":{1:["#d0ff00"],2:["#d0ff00","#ff0099"],3:["#d0ff00","#45373f","#ff0099"],4:["#d0ff00","#7f9717","#9b236b","#ff0099"],5:["#d0ff00","#7f9717","#45373f","#9b236b","#ff0099"],6:["#d0ff00","#7f9717","#576323","#693454","#9b236b","#ff0099"],7:["#d0ff00","#7f9717","#576323","#45373f","#693454","#9b236b","#ff0099"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#45373f","#693454","#9b236b","#ff0099"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#45373f","#693454","#9b236b","#cd1182","#ff0099"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#45373f","#693454","#9b236b","#cd1182","#ff0099"],stops:["#d0ff00","#7f9717","#45373f","#9b236b","#ff0099"],tags:["dark","greens","pinks","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 4"},"div-yellow-gray-bright-1":{1:["#ffff00"],2:["#ffff00","#cccccc"],3:["#ffff00","#424038","#cccccc"],4:["#ffff00","#a4a41c","#8a8a8a","#cccccc"],5:["#ffff00","#a4a41c","#424038","#8a8a8a","#cccccc"],6:["#ffff00","#a4a41c","#77772a","#5e5e5e","#8a8a8a","#cccccc"],7:["#ffff00","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#ffff00","#a4a41c","#424038","#8a8a8a","#cccccc"],tags:["dark","yellows","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 1"},"div-yellow-gray-bright-2":{1:["#ffff00"],2:["#ffff00","#aab2c8"],3:["#ffff00","#383b42","#aab2c8"],4:["#ffff00","#a4a41c","#727681","#aab2c8"],5:["#ffff00","#a4a41c","#383b42","#727681","#aab2c8"],6:["#ffff00","#a4a41c","#77772a","#50545e","#727681","#aab2c8"],7:["#ffff00","#a4a41c","#77772a","#383b42","#50545e","#727681","#aab2c8"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#383b42","#50545e","#727681","#aab2c8"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#ffff00","#a4a41c","#383b42","#727681","#aab2c8"],tags:["dark","yellows","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 2"},"div-yellow-gray-bright-3":{1:["#d0ff00"],2:["#d0ff00","#ccafaf"],3:["#d0ff00","#3d3434","#ccafaf"],4:["#d0ff00","#849c19","#837171","#ccafaf"],5:["#d0ff00","#849c19","#3d3434","#837171","#ccafaf"],6:["#d0ff00","#849c19","#5e6b26","#5e5151","#837171","#ccafaf"],7:["#d0ff00","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#ccafaf"],8:["#d0ff00","#aace0d","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#ccafaf"],9:["#d0ff00","#aace0d","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#d0ff00","#aace0d","#849c19","#5e6b26","#4a4d3a","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#d0ff00","#849c19","#3d3434","#837171","#ccafaf"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 3"},"div-purple-green-bright-1":{1:["#c333ff"],2:["#c333ff","#00ff32"],3:["#c333ff","#37453a","#00ff32"],4:["#c333ff","#8c2db2","#179930","#00ff32"],5:["#c333ff","#8c2db2","#37453a","#179930","#00ff32"],6:["#c333ff","#8c2db2","#702a8c","#22662f","#179930","#00ff32"],7:["#c333ff","#8c2db2","#702a8c","#37453a","#22662f","#179930","#00ff32"],8:["#c333ff","#a730d9","#8c2db2","#702a8c","#37453a","#22662f","#179930","#00ff32"],9:["#c333ff","#a730d9","#8c2db2","#702a8c","#37453a","#22662f","#179930","#0bcc31","#00ff32"],10:["#c333ff","#a730d9","#8c2db2","#702a8c","#403445","#37453a","#22662f","#179930","#0bcc31","#00ff32"],stops:["#c333ff","#8c2db2","#37453a","#179930","#00ff32"],tags:["dark","purples","greens","bright","diverging","colorblind-friendly"],name:"Purple and Green 9"},"div-purple-green-bright-2":{1:["#ff00ff"],2:["#ff00ff","#beff00"],3:["#ff00ff","#414537","#beff00"],4:["#ff00ff","#b21bb2","#76961d","#beff00"],5:["#ff00ff","#b21bb2","#414537","#76961d","#beff00"],6:["#ff00ff","#b21bb2","#8c2a8c","#52612c","#76961d","#beff00"],7:["#ff00ff","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#beff00"],8:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#beff00"],9:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#9aca0f","#beff00"],10:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#453445","#414537","#52612c","#76961d","#9aca0f","#beff00"],stops:["#ff00ff","#b21bb2","#414537","#76961d","#beff00"],tags:["dark","purples","pinks","greens","bright","diverging","colorblind-friendly"],name:"Green and Pink 2"},"div-pink-yellow-bright-1":{1:["#ff00cc"],2:["#ff00cc","#ffff00"],3:["#ff00cc","#453442","#ffff00"],4:["#ff00cc","#b21c97","#96961d","#ffff00"],5:["#ff00cc","#b21c97","#453442","#96961d","#ffff00"],6:["#ff00cc","#b21c97","#8c2a7c","#61612c","#96961d","#ffff00"],7:["#ff00cc","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#ffff00"],8:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#ffff00"],9:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#caca0f","#ffff00"],10:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#454537","#61612c","#96961d","#caca0f","#ffff00"],stops:["#ff00cc","#b21c97","#453442","#96961d","#ffff00"],tags:["dark","pinks","yellows","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 1"},"div-pink-yellow-bright-2":{1:["#ff0099"],2:["#ff0099","#ffc800"],3:["#ff0099","#45343e","#ffc800"],4:["#ff0099","#aa1970","#92781c","#ffc800"],5:["#ff0099","#aa1970","#45343e","#92781c","#ffc800"],6:["#ff0099","#aa1970","#80265b","#5c502a","#92781c","#ffc800"],7:["#ff0099","#aa1970","#80265b","#45343e","#5c502a","#92781c","#ffc800"],8:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#5c502a","#92781c","#ffc800"],9:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#5c502a","#92781c","#c9a00e","#ffc800"],10:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#474439","#5c502a","#92781c","#c9a00e","#ffc800"],stops:["#ff0099","#aa1970","#45343e","#92781c","#ffc800"],tags:["dark","pinks","yellows","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 2"},"div-red-blue-bright-1":{1:["#ff4d6a"],2:["#ff4d6a","#23ccff"],3:["#ff4d6a","#453437","#23ccff"],4:["#ff4d6a","#a63245","#2b819b","#23ccff"],5:["#ff4d6a","#a63245","#453437","#2b819b","#23ccff"],6:["#ff4d6a","#a63245","#7a2433","#2f5b69","#2b819b","#23ccff"],7:["#ff4d6a","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#23ccff"],8:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#23ccff"],9:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#27a6cd","#23ccff"],10:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#34474f","#2f5b69","#2b819b","#27a6cd","#23ccff"],stops:["#ff4d6a","#a63245","#453437","#2b819b","#23ccff"],tags:["dark","reds","pinks","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 13"},"div-red-blue-bright-2":{1:["#ff2638"],2:["#ff2638","#1993ff"],3:["#ff2638","#403031","#1993ff"],4:["#ff2638","#a6242e","#2e6ca4","#1993ff"],5:["#ff2638","#a6242e","#403031","#2e6ca4","#1993ff"],6:["#ff2638","#a6242e","#7a2329","#395976","#2e6ca4","#1993ff"],7:["#ff2638","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#1993ff"],8:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#1993ff"],9:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#2480d1","#1993ff"],10:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#373e45","#395976","#2e6ca4","#2480d1","#1993ff"],stops:["#ff2638","#a6242e","#403031","#2e6ca4","#1993ff"],tags:["dark","reds","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 14"},"div-orange-blue-bright-3":{1:["#ff6219"],2:["#ff6219","#00ffdc"],3:["#ff6219","#3b312c","#00ffdc"],4:["#ff6219","#9c461e","#1f9787","#00ffdc"],5:["#ff6219","#9c461e","#3b312c","#1f9787","#00ffdc"],6:["#ff6219","#9c461e","#6b3820","#2e635c","#1f9787","#00ffdc"],7:["#ff6219","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#00ffdc"],8:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#00ffdc"],9:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#0fcbb1","#00ffdc"],10:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#394745","#2e635c","#1f9787","#0fcbb1","#00ffdc"],stops:["#ff6219","#9c461e","#3b312c","#1f9787","#00ffdc"],tags:["dark","oranges","greens","blues","bright","diverging","colorblind-friendly"],name:"Blue and Orange 8"},"div-orange-blue-bright-4":{1:["#ff6219"],2:["#ff6219","#66a0ff"],3:["#ff6219","#3b312c","#66a0ff"],4:["#ff6219","#9c461e","#4c6da5","#66a0ff"],5:["#ff6219","#9c461e","#3b312c","#4c6da5","#66a0ff"],6:["#ff6219","#9c461e","#6b3820","#3f5478","#4c6da5","#66a0ff"],7:["#ff6219","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#66a0ff"],8:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#66a0ff"],9:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#5987d2","#66a0ff"],10:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#393e47","#3f5478","#4c6da5","#5987d2","#66a0ff"],stops:["#ff6219","#9c461e","#3b312c","#4c6da5","#66a0ff"],tags:["dark","oranges","blues","bright","diverging","colorblind-friendly"],name:"Blue and Orange 9"},"div-red-purple-bright":{1:["#ff5000"],2:["#ff5000","#9333ff"],3:["#ff5000","#382f2a","#9333ff"],4:["#ff5000","#9c3f15","#6c3ba4","#9333ff"],5:["#ff5000","#9c3f15","#382f2a","#6c3ba4","#9333ff"],6:["#ff5000","#9c3f15","#6b3620","#593f76","#6c3ba4","#9333ff"],7:["#ff5000","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#9333ff"],8:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#9333ff"],9:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#8037d1","#9333ff"],10:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#433952","#593f76","#6c3ba4","#8037d1","#9333ff"],stops:["#ff5000","#9c3f15","#382f2a","#6c3ba4","#9333ff"],tags:["dark","reds","purples","bright","diverging","colorblind-friendly"],name:"Purple and Orange 1"},"div-red-gray-bright-1":{1:["#ff1947"],2:["#ff1947","#cccccc"],3:["#ff1947","#3b2d30","#cccccc"],4:["#ff1947","#9c253d","#7f7f7f","#cccccc"],5:["#ff1947","#9c253d","#3b2d30","#7f7f7f","#cccccc"],6:["#ff1947","#9c253d","#6b2b38","#595959","#7f7f7f","#cccccc"],7:["#ff1947","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#cccccc"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#cccccc"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#a6a6a6","#cccccc"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#414141","#595959","#7f7f7f","#a6a6a6","#cccccc"],stops:["#ff1947","#9c253d","#3b2d30","#7f7f7f","#cccccc"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 4"},"div-red-gray-bright-2":{1:["#ff1947"],2:["#ff1947","#aab2c8"],3:["#ff1947","#3e3140","#aab2c8"],4:["#ff1947","#9c253d","#727681","#aab2c8"],5:["#ff1947","#9c253d","#3e3140","#727681","#aab2c8"],6:["#ff1947","#9c253d","#6b2b38","#50545e","#727681","#aab2c8"],7:["#ff1947","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#aab2c8"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#aab2c8"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#9196a5","#aab2c8"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#3e424d","#50545e","#727681","#9196a5","#aab2c8"],stops:["#ff1947","#9c253d","#3e3140","#727681","#aab2c8"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 5"},"div-red-gray-bright-3":{1:["#ff1947"],2:["#ff1947","#ccafaf"],3:["#ff1947","#3b2d35","#ccafaf"],4:["#ff1947","#9c253d","#837171","#ccafaf"],5:["#ff1947","#9c253d","#3b2d35","#837171","#ccafaf"],6:["#ff1947","#9c253d","#6b2b38","#5e5151","#837171","#ccafaf"],7:["#ff1947","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#ccafaf"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#ccafaf"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#a79090","#ccafaf"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#4d3f3f","#5e5151","#837171","#a79090","#ccafaf"],stops:["#ff1947","#9c253d","#3b2d35","#837171","#ccafaf"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 6"},"div-teal-yellow-bright-1":{1:["#00ffc8"],2:["#00ffc8","#ffff00"],3:["#00ffc8","#4a4a3d","#ffff00"],4:["#00ffc8","#12a585","#979724","#ffff00"],5:["#00ffc8","#12a585","#4a4a3d","#979724","#ffff00"],6:["#00ffc8","#12a585","#1b7864","#636336","#979724","#ffff00"],7:["#00ffc8","#12a585","#1b7864","#4a4a3d","#636336","#979724","#ffff00"],8:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a4a3d","#636336","#979724","#ffff00"],9:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a4a3d","#636336","#979724","#cbcb12","#ffff00"],10:["#00ffc8","#09d2a7","#12a585","#1b7864","#355951","#4a4a3d","#636336","#979724","#cbcb12","#ffff00"],stops:["#00ffc8","#12a585","#4a4a3d","#979724","#ffff00"],tags:["dark","greens","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 5"},"div-teal-yellow-bright-2":{1:["#00ffc8"],2:["#00ffc8","#ffc800"],3:["#00ffc8","#4a483d","#ffc800"],4:["#00ffc8","#12a585","#997f25","#ffc800"],5:["#00ffc8","#12a585","#4a483d","#997f25","#ffc800"],6:["#00ffc8","#12a585","#1b7864","#665b38","#997f25","#ffc800"],7:["#00ffc8","#12a585","#1b7864","#4a483d","#665b38","#997f25","#ffc800"],8:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a483d","#665b38","#997f25","#ffc800"],9:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a483d","#665b38","#997f25","#cca413","#ffc800"],10:["#00ffc8","#09d2a7","#12a585","#1b7864","#355951","#4a483d","#665b38","#997f25","#cca413","#ffc800"],stops:["#00ffc8","#12a585","#4a483d","#997f25","#ffc800"],tags:["dark","greens","oranges","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Orange 6"},"div-teal-orange-bright":{1:["#00ffc8"],2:["#00ffc8","#ff7d00"],3:["#00ffc8","#4a443d","#ff7d00"],4:["#00ffc8","#1db695","#a06022","#ff7d00"],5:["#00ffc8","#1db695","#4a443d","#a06022","#ff7d00"],6:["#00ffc8","#1db695","#2b917b","#705133","#a06022","#ff7d00"],7:["#00ffc8","#1db695","#2b917b","#4a443d","#705133","#a06022","#ff7d00"],8:["#00ffc8","#0edaae","#1db695","#2b917b","#4a443d","#705133","#a06022","#ff7d00"],9:["#00ffc8","#0edaae","#1db695","#2b917b","#4a443d","#705133","#a06022","#cf6e11","#ff7d00"],10:["#00ffc8","#0edaae","#1db695","#2b917b","#3a6d62","#4a443d","#705133","#a06022","#cf6e11","#ff7d00"],stops:["#00ffc8","#1db695","#4a443d","#a06022","#ff7d00"],tags:["dark","greens","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 7"},"div-green-red-bright":{1:["#00ffaa"],2:["#00ffaa","#ff0000"],3:["#00ffaa","#403c35","#ff0000"],4:["#00ffaa","#17a67d","#b02626","#ff0000"],5:["#00ffaa","#17a67d","#403c35","#b02626","#ff0000"],6:["#00ffaa","#17a67d","#237a60","#783737","#b02626","#ff0000"],7:["#00ffaa","#17a67d","#237a60","#403c35","#783737","#b02626","#ff0000"],8:["#00ffaa","#0bd39a","#17a67d","#237a60","#403c35","#783737","#b02626","#ff0000"],9:["#00ffaa","#0bd39a","#17a67d","#237a60","#403c35","#783737","#b02626","#d11212","#ff0000"],10:["#00ffaa","#0bd39a","#17a67d","#237a60","#2e4d43","#403c35","#783737","#b02626","#d11212","#ff0000"],stops:["#00ffaa","#17a67d","#403c35","#b02626","#ff0000"],tags:["dark","greens","reds","bright","diverging","colorblind-friendly"],name:"Red and Green 11"},"div-green-magenta-bright":{1:["#00ff64"],2:["#00ff64","#ff00d2"],3:["#00ff64","#423940","#ff00d2"],4:["#00ff64","#17a64f","#a3248d","#ff00d2"],5:["#00ff64","#17a64f","#423940","#a3248d","#ff00d2"],6:["#00ff64","#17a64f","#237a45","#733568","#a3248d","#ff00d2"],7:["#00ff64","#17a64f","#237a45","#423940","#733568","#a3248d","#ff00d2"],8:["#00ff64","#0bd35a","#17a64f","#237a45","#423940","#733568","#a3248d","#ff00d2"],9:["#00ff64","#0bd35a","#17a64f","#237a45","#423940","#733568","#a3248d","#d112b0","#ff00d2"],10:["#00ff64","#0bd35a","#17a64f","#237a45","#31523d","#423940","#733568","#a3248d","#d112b0","#ff00d2"],stops:["#00ff64","#17a64f","#423940","#a3248d","#ff00d2"],tags:["dark","greens","purples","pinks","bright","diverging","colorblind-friendly"],name:"Purple and Green 6"},"div-green-purple-bright-1":{1:["#00ff32"],2:["#00ff32","#bf00ff"],3:["#00ff32","#403a42","#bf00ff"],4:["#00ff32","#17a633","#8b26ad","#bf00ff"],5:["#00ff32","#17a633","#403a42","#8b26ad","#bf00ff"],6:["#00ff32","#17a633","#237a33","#663675","#8b26ad","#bf00ff"],7:["#00ff32","#17a633","#237a33","#403a42","#663675","#8b26ad","#bf00ff"],8:["#00ff32","#0bd332","#17a633","#237a33","#403a42","#663675","#8b26ad","#bf00ff"],9:["#00ff32","#0bd332","#17a633","#237a33","#403a42","#663675","#8b26ad","#a713d9","#bf00ff"],10:["#00ff32","#0bd332","#17a633","#237a33","#2e4d33","#403a42","#663675","#8b26ad","#a713d9","#bf00ff"],stops:["#00ff32","#17a633","#403a42","#8b26ad","#bf00ff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Green 7"},"div-green-purple-bright-2":{1:["#00ff00"],2:["#00ff00","#aa80ff"],3:["#00ff00","#423f47","#aa80ff"],4:["#00ff00","#19a919","#735ba5","#aa80ff"],5:["#00ff00","#19a919","#423f47","#735ba5","#aa80ff"],6:["#00ff00","#19a919","#257d25","#584878","#735ba5","#aa80ff"],7:["#00ff00","#19a919","#257d25","#423f47","#584878","#735ba5","#aa80ff"],8:["#00ff00","#0cd40c","#19a919","#257d25","#423f47","#584878","#735ba5","#aa80ff"],9:["#00ff00","#0cd40c","#19a919","#257d25","#423f47","#584878","#735ba5","#8f6dd2","#aa80ff"],10:["#00ff00","#0cd40c","#19a919","#257d25","#325432","#423f47","#584878","#735ba5","#8f6dd2","#aa80ff"],stops:["#00ff00","#19a919","#423f47","#735ba5","#aa80ff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Green 8"},"div-green-blue-bright-1":{1:["#b4f000"],2:["#b4f000","#00c8ff"],3:["#b4f000","#3f4547","#00c8ff"],4:["#b4f000","#7ea018","#1385a4","#00c8ff"],5:["#b4f000","#7ea018","#3f4547","#1385a4","#00c8ff"],6:["#b4f000","#7ea018","#627723","#1d6476","#1385a4","#00c8ff"],7:["#b4f000","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#00c8ff"],8:["#b4f000","#99c80c","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#00c8ff"],9:["#b4f000","#99c80c","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#0aa7d1","#00c8ff"],10:["#b4f000","#99c80c","#7ea018","#627723","#474f2f","#3f4547","#1d6476","#1385a4","#0aa7d1","#00c8ff"],stops:["#b4f000","#7ea018","#3f4547","#1385a4","#00c8ff"],tags:["dark","greens","blues","bright","diverging","colorblind-friendly"],name:"Green and Blue 6"},"div-green-blue-bright-2":{1:["#b4f000"],2:["#b4f000","#00ffff"],3:["#b4f000","#3f4747","#00ffff"],4:["#b4f000","#7ea018","#129e9e","#00ffff"],5:["#b4f000","#7ea018","#3f4747","#129e9e","#00ffff"],6:["#b4f000","#7ea018","#627723","#1b6e6e","#129e9e","#00ffff"],7:["#b4f000","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#00ffff"],8:["#b4f000","#99c80c","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#00ffff"],9:["#b4f000","#99c80c","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#09cfcf","#00ffff"],10:["#b4f000","#99c80c","#7ea018","#627723","#474f2f","#3f4747","#1b6e6e","#129e9e","#09cfcf","#00ffff"],stops:["#b4f000","#7ea018","#3f4747","#129e9e","#00ffff"],tags:["dark","greens","blues","bright","diverging","colorblind-friendly"],name:"Green and Blue 7"},"div-green-gray-bright-1":{1:["#00ff00"],2:["#00ff00","#cccccc"],3:["#00ff00","#424038","#cccccc"],4:["#00ff00","#1dac1d","#8a8a8a","#cccccc"],5:["#00ff00","#1dac1d","#424038","#8a8a8a","#cccccc"],6:["#00ff00","#1dac1d","#2c832c","#5e5e5e","#8a8a8a","#cccccc"],7:["#00ff00","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#00ff00","#0fd50f","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#00ff00","#0fd50f","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#00ff00","#0fd50f","#1dac1d","#2c832c","#3a593a","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#00ff00","#1dac1d","#424038","#8a8a8a","#cccccc"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 4"},"div-green-gray-bright-2":{1:["#00ff00"],2:["#00ff00","#aab2c8"],3:["#00ff00","#383b42","#aab2c8"],4:["#00ff00","#1dac1d","#727681","#aab2c8"],5:["#00ff00","#1dac1d","#383b42","#727681","#aab2c8"],6:["#00ff00","#1dac1d","#2c832c","#50545e","#727681","#aab2c8"],7:["#00ff00","#1dac1d","#2c832c","#383b42","#50545e","#727681","#aab2c8"],8:["#00ff00","#0fd50f","#1dac1d","#2c832c","#383b42","#50545e","#727681","#aab2c8"],9:["#00ff00","#0fd50f","#1dac1d","#2c832c","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#00ff00","#0fd50f","#1dac1d","#2c832c","#3a593a","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#00ff00","#1dac1d","#383b42","#727681","#aab2c8"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 5"},"div-green-gray-bright-3":{1:["#82ff00"],2:["#82ff00","#ccafaf"],3:["#82ff00","#3d3434","#ccafaf"],4:["#82ff00","#5fa21a","#837171","#ccafaf"],5:["#82ff00","#5fa21a","#3d3434","#837171","#ccafaf"],6:["#82ff00","#5fa21a","#4d7327","#5e5151","#837171","#ccafaf"],7:["#82ff00","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#ccafaf"],8:["#82ff00","#70d00d","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#ccafaf"],9:["#82ff00","#70d00d","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#82ff00","#70d00d","#5fa21a","#4d7327","#424f34","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#82ff00","#5fa21a","#3d3434","#837171","#ccafaf"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 6"},"div-blue-green-bright-1":{1:["#45b4ff"],2:["#45b4ff","#beff00"],3:["#45b4ff","#3e422f","#beff00"],4:["#45b4ff","#3d80ac","#799b14","#beff00"],5:["#45b4ff","#3d80ac","#3e422f","#799b14","#beff00"],6:["#45b4ff","#3d80ac","#396583","#56691e","#799b14","#beff00"],7:["#45b4ff","#3d80ac","#396583","#3e422f","#56691e","#799b14","#beff00"],8:["#45b4ff","#419ad5","#3d80ac","#396583","#3e422f","#56691e","#799b14","#beff00"],9:["#45b4ff","#419ad5","#3d80ac","#396583","#3e422f","#56691e","#799b14","#9bcd0a","#beff00"],10:["#45b4ff","#419ad5","#3d80ac","#396583","#374d5c","#3e422f","#56691e","#799b14","#9bcd0a","#beff00"],stops:["#45b4ff","#3d80ac","#3e422f","#799b14","#beff00"],tags:["dark","blues","greens","bright","diverging","colorblind-friendly"],name:"Green and Blue 5"},"div-blue-yellow-bright-2":{1:["#23ccff"],2:["#23ccff","#ffff00"],3:["#23ccff","#42422f","#ffff00"],4:["#23ccff","#2c8eac","#9b9b15","#ffff00"],5:["#23ccff","#2c8eac","#42422f","#9b9b15","#ffff00"],6:["#23ccff","#2c8eac","#316f83","#696920","#9b9b15","#ffff00"],7:["#23ccff","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#ffff00"],8:["#23ccff","#28add5","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#ffff00"],9:["#23ccff","#28add5","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#cdcd0b","#ffff00"],10:["#23ccff","#28add5","#2c8eac","#316f83","#355059","#42422f","#696920","#9b9b15","#cdcd0b","#ffff00"],stops:["#23ccff","#2c8eac","#42422f","#9b9b15","#ffff00"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 3"},"div-blue-lightorange-bright":{1:["#23ccff"],2:["#23ccff","#ffc800"],3:["#23ccff","#474333","#ffc800"],4:["#23ccff","#2c8eac","#9b8020","#ffc800"],5:["#23ccff","#2c8eac","#474333","#9b8020","#ffc800"],6:["#23ccff","#2c8eac","#316f83","#695c30","#9b8020","#ffc800"],7:["#23ccff","#2c8eac","#316f83","#474333","#695c30","#9b8020","#ffc800"],8:["#23ccff","#28add5","#2c8eac","#316f83","#474333","#695c30","#9b8020","#ffc800"],9:["#23ccff","#28add5","#2c8eac","#316f83","#474333","#695c30","#9b8020","#cda410","#ffc800"],10:["#23ccff","#28add5","#2c8eac","#316f83","#355059","#474333","#695c30","#9b8020","#cda410","#ffc800"],stops:["#23ccff","#2c8eac","#474333","#9b8020","#ffc800"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Orange 3"},"div-blue-orange-bright-1":{1:["#12c0ff"],2:["#12c0ff","#ffa300"],3:["#12c0ff","#474033","#ffa300"],4:["#12c0ff","#2589ad","#9b6e20","#ffa300"],5:["#12c0ff","#2589ad","#474033","#9b6e20","#ffa300"],6:["#12c0ff","#2589ad","#2e6d85","#695430","#9b6e20","#ffa300"],7:["#12c0ff","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#ffa300"],8:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#ffa300"],9:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#cd8910","#ffa300"],10:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#37515c","#474033","#695430","#9b6e20","#cd8910","#ffa300"],stops:["#12c0ff","#2589ad","#474033","#9b6e20","#ffa300"],tags:["dark","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 4"},"div-blue-orange-bright-2":{1:["#12c0ff"],2:["#12c0ff","#ff7d00"],3:["#12c0ff","#473d33","#ff7d00"],4:["#12c0ff","#2589ad","#9b5c20","#ff7d00"],5:["#12c0ff","#2589ad","#473d33","#9b5c20","#ff7d00"],6:["#12c0ff","#2589ad","#2e6d85","#694b30","#9b5c20","#ff7d00"],7:["#12c0ff","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#ff7d00"],8:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#ff7d00"],9:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#cd6c10","#ff7d00"],10:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#37515c","#473d33","#694b30","#9b5c20","#cd6c10","#ff7d00"],stops:["#12c0ff","#2589ad","#473d33","#9b5c20","#ff7d00"],tags:["dark","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 5"},"div-blue-red-bright-1":{1:["#2799ff"],2:["#2799ff","#ff3333"],3:["#2799ff","#423a3a","#ff3333"],4:["#2799ff","#3070aa","#a53636","#ff3333"],5:["#2799ff","#3070aa","#423a3a","#a53636","#ff3333"],6:["#2799ff","#3070aa","#345b80","#783737","#a53636","#ff3333"],7:["#2799ff","#3070aa","#345b80","#423a3a","#783737","#a53636","#ff3333"],8:["#2799ff","#2b84d5","#3070aa","#345b80","#423a3a","#783737","#a53636","#ff3333"],9:["#2799ff","#2b84d5","#3070aa","#345b80","#423a3a","#783737","#a53636","#d23434","#ff3333"],10:["#2799ff","#2b84d5","#3070aa","#345b80","#324554","#423a3a","#783737","#a53636","#d23434","#ff3333"],stops:["#2799ff","#3070aa","#423a3a","#a53636","#ff3333"],tags:["dark","reds","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 11"},"div-blue-red-bright-2":{1:["#6690ff"],2:["#6690ff","#ff0040"],3:["#6690ff","#42383b","#ff0040"],4:["#6690ff","#526aad","#a22343","#ff0040"],5:["#6690ff","#526aad","#42383b","#a22343","#ff0040"],6:["#6690ff","#526aad","#475785","#733444","#a22343","#ff0040"],7:["#6690ff","#526aad","#475785","#42383b","#733444","#a22343","#ff0040"],8:["#6690ff","#5c7dd6","#526aad","#475785","#42383b","#733444","#a22343","#ff0040"],9:["#6690ff","#5c7dd6","#526aad","#475785","#42383b","#733444","#a22343","#d01141","#ff0040"],10:["#6690ff","#5c7dd6","#526aad","#475785","#3d445c","#42383b","#733444","#a22343","#d01141","#ff0040"],stops:["#6690ff","#526aad","#42383b","#a22343","#ff0040"],tags:["dark","blues","reds","bright","diverging","colorblind-friendly"],name:"Blue and Red 12"},"div-blue-orange-bright-3":{1:["#6690ff"],2:["#6690ff","#ff9573"],3:["#6690ff","#423b38","#ff9573"],4:["#6690ff","#526aad","#945e4c","#ff9573"],5:["#6690ff","#526aad","#423b38","#945e4c","#ff9573"],6:["#6690ff","#526aad","#475785","#5e4338","#945e4c","#ff9573"],7:["#6690ff","#526aad","#475785","#423b38","#5e4338","#945e4c","#ff9573"],8:["#6690ff","#5c7dd6","#526aad","#475785","#423b38","#5e4338","#945e4c","#ff9573"],9:["#6690ff","#5c7dd6","#526aad","#475785","#423b38","#5e4338","#945e4c","#c97a5f","#ff9573"],10:["#6690ff","#5c7dd6","#526aad","#475785","#3d445c","#423b38","#5e4338","#945e4c","#c97a5f","#ff9573"],stops:["#6690ff","#526aad","#423b38","#945e4c","#ff9573"],tags:["dark","blues","browns","bright","diverging","colorblind-friendly"],name:"Blue and Brown 4"},"div-blue-tan-bright":{1:["#6690ff"],2:["#6690ff","#bf9f00"],3:["#6690ff","#424038","#bf9f00"],4:["#6690ff","#526aad","#7c6e24","#bf9f00"],5:["#6690ff","#526aad","#424038","#7c6e24","#bf9f00"],6:["#6690ff","#526aad","#475785","#5b5536","#7c6e24","#bf9f00"],7:["#6690ff","#526aad","#475785","#424038","#5b5536","#7c6e24","#bf9f00"],8:["#6690ff","#5c7dd6","#526aad","#475785","#424038","#5b5536","#7c6e24","#bf9f00"],9:["#6690ff","#5c7dd6","#526aad","#475785","#424038","#5b5536","#7c6e24","#9e8612","#bf9f00"],10:["#6690ff","#5c7dd6","#526aad","#475785","#404861","#424038","#5b5536","#7c6e24","#9e8612","#bf9f00"],stops:["#6690ff","#526aad","#424038","#7c6e24","#bf9f00"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 4"},"div-blue-gray-bright-1":{1:["#00b3ff"],2:["#00b3ff","#cccccc"],3:["#00b3ff","#424038","#cccccc"],4:["#00b3ff","#1d82ac","#8a8a8a","#cccccc"],5:["#00b3ff","#1d82ac","#424038","#8a8a8a","#cccccc"],6:["#00b3ff","#1d82ac","#2c6983","#5e5e5e","#8a8a8a","#cccccc"],7:["#00b3ff","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#00b3ff","#1d82ac","#424038","#8a8a8a","#cccccc"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 3"},"div-blue-gray-bright-2":{1:["#00b3ff"],2:["#00b3ff","#aab2c8"],3:["#00b3ff","#383b42","#aab2c8"],4:["#00b3ff","#1d82ac","#727681","#aab2c8"],5:["#00b3ff","#1d82ac","#383b42","#727681","#aab2c8"],6:["#00b3ff","#1d82ac","#2c6983","#50545e","#727681","#aab2c8"],7:["#00b3ff","#1d82ac","#2c6983","#383b42","#50545e","#727681","#aab2c8"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#383b42","#50545e","#727681","#aab2c8"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#00b3ff","#1d82ac","#383b42","#727681","#aab2c8"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 4"},"div-blue-gray-bright-3":{1:["#00b3ff"],2:["#00b3ff","#ccafaf"],3:["#00b3ff","#3d3434","#ccafaf"],4:["#00b3ff","#1d82ac","#837171","#ccafaf"],5:["#00b3ff","#1d82ac","#3d3434","#837171","#ccafaf"],6:["#00b3ff","#1d82ac","#2c6983","#5e5151","#837171","#ccafaf"],7:["#00b3ff","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#ccafaf"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#ccafaf"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#00b3ff","#1d82ac","#3d3434","#837171","#ccafaf"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 5"},"div-blue-yellow-brown":{1:["#daffa5"],2:["#0051f2","#b35a00"],3:["#0051f2","#daffa5","#b35a00"],4:["#0051f2","#6da7fb","#d9963a","#b35a00"],5:["#0051f2","#6da7fb","#daffa5","#d9963a","#b35a00"],6:["#0051f2","#377cf6","#6da7fb","#ffd173","#d9963a","#b35a00"],7:["#0051f2","#377cf6","#6da7fb","#daffa5","#ffd173","#d9963a","#b35a00"],8:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#ffd173","#ecb356","#d9963a","#b35a00"],9:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#daffa5","#ffd173","#ecb356","#d9963a","#b35a00"],10:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#daffa5","#ffd173","#ecb356","#d9963a","#c6781d","#b35a00"],stops:["#0051f2","#6da7fb","#daffa5","#d9963a","#b35a00"],tags:["light","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 5"},"div-purple-yellow-brown":{1:["#ffcce6"],2:["#6000e6","#b35a00"],3:["#6000e6","#ffcce6","#b35a00"],4:["#6000e6","#a069ee","#ce922e","#b35a00"],5:["#6000e6","#a069ee","#ffcce6","#ce922e","#b35a00"],6:["#6000e6","#8035ea","#a069ee","#e9c95c","#ce922e","#b35a00"],7:["#6000e6","#8035ea","#a069ee","#ffcce6","#e9c95c","#ce922e","#b35a00"],8:["#6000e6","#8035ea","#a069ee","#c09ef2","#e9c95c","#dcad45","#ce922e","#b35a00"],9:["#6000e6","#8035ea","#a069ee","#c09ef2","#ffcce6","#e9c95c","#dcad45","#ce922e","#b35a00"],10:["#6000e6","#8035ea","#a069ee","#c09ef2","#ffcce6","#e9c95c","#dcad45","#ce922e","#c17617","#b35a00"],stops:["#6000e6","#a069ee","#ffcce6","#ce922e","#b35a00"],tags:["light","purples","browns","diverging","colorblind-friendly"],name:"Purple and Brown 3"},"div-purple-beige-green":{1:["#f2cf9e"],2:["#8100e6","#2b9900"],3:["#8100e6","#f2cf9e","#2b9900"],4:["#8100e6","#b360d1","#6eb830","#2b9900"],5:["#8100e6","#b360d1","#f2cf9e","#6eb830","#2b9900"],6:["#8100e6","#9a30dc","#b360d1","#b0d660","#6eb830","#2b9900"],7:["#8100e6","#9a30dc","#b360d1","#f2cf9e","#b0d660","#6eb830","#2b9900"],8:["#8100e6","#9a30dc","#b360d1","#cc90c7","#b0d660","#8fc748","#6eb830","#2b9900"],9:["#8100e6","#9a30dc","#b360d1","#cc90c7","#f2cf9e","#b0d660","#8fc748","#6eb830","#2b9900"],10:["#8100e6","#9a30dc","#b360d1","#cc90c7","#f2cf9e","#b0d660","#8fc748","#6eb830","#4ca818","#2b9900"],stops:["#8100e6","#b360d1","#f2cf9e","#6eb830","#2b9900"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 10"},"div-teal-yellow-brown":{1:["#f2f2aa"],2:["#00998c","#b34a00"],3:["#00998c","#f2f2aa","#b34a00"],4:["#00998c","#69d4cb","#d98346","#b34a00"],5:["#00998c","#69d4cb","#f2f2aa","#d98346","#b34a00"],6:["#00998c","#35b7ac","#69d4cb","#ffbc8c","#d98346","#b34a00"],7:["#00998c","#35b7ac","#69d4cb","#f2f2aa","#ffbc8c","#d98346","#b34a00"],8:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#ffbc8c","#eca069","#d98346","#b34a00"],9:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#f2f2aa","#ffbc8c","#eca069","#d98346","#b34a00"],10:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#f2f2aa","#ffbc8c","#eca069","#d98346","#c66723","#b34a00"],stops:["#00998c","#69d4cb","#f2f2aa","#d98346","#b34a00"],tags:["light","purples","browns","diverging","colorblind-friendly"],name:"Purple and Brown 4"},"div-yellow-magenta-light":{1:["#daf2b5"],2:["#a49d0c","#a600a6"],3:["#a49d0c","#daf2b5","#a600a6"],4:["#a49d0c","#d6cd45","#d35dc0","#a600a6"],5:["#a49d0c","#d6cd45","#daf2b5","#d35dc0","#a600a6"],6:["#a49d0c","#bbb327","#d6cd45","#ffbada","#d35dc0","#a600a6"],7:["#a49d0c","#bbb327","#d6cd45","#daf2b5","#ffbada","#d35dc0","#a600a6"],8:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#ffbada","#e98bcd","#d35dc0","#a600a6"],9:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#daf2b5","#ffbada","#e98bcd","#d35dc0","#a600a6"],10:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#daf2b5","#ffbada","#e98bcd","#d35dc0","#bc2eb3","#a600a6"],stops:["#a49d0c","#d6cd45","#daf2b5","#d35dc0","#a600a6"],tags:["light","purples","greens","yellows","diverging","colorblind-friendly"],name:"Yellow and Magenta"},"div-green-yellow-blue":{1:["#f2e695"],2:["#758f12","#0080ff"],3:["#758f12","#f2e695","#0080ff"],4:["#758f12","#acc05d","#53a9ff","#0080ff"],5:["#758f12","#acc05d","#f2e695","#53a9ff","#0080ff"],6:["#758f12","#90a838","#acc05d","#8bdee6","#53a9ff","#0080ff"],7:["#758f12","#90a838","#acc05d","#f2e695","#8bdee6","#53a9ff","#0080ff"],8:["#758f12","#90a838","#acc05d","#c7d983","#8bdee6","#7dbeff","#53a9ff","#0080ff"],9:["#758f12","#90a838","#acc05d","#c7d983","#f2e695","#8bdee6","#7dbeff","#53a9ff","#0080ff"],10:["#758f12","#90a838","#acc05d","#c7d983","#f2e695","#8bdee6","#7dbeff","#53a9ff","#2a95ff","#0080ff"],stops:["#758f12","#acc05d","#f2e695","#53a9ff","#0080ff"],tags:["light","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 8"},"div-brown-blue":{1:["#cae0cf"],2:["#9e7300","#4253a6"],3:["#9e7300","#cae0cf","#4253a6"],4:["#9e7300","#c9aa61","#7988d0","#4253a6"],5:["#9e7300","#c9aa61","#cae0cf","#7988d0","#4253a6"],6:["#9e7300","#b38f30","#c9aa61","#afbcfa","#7988d0","#4253a6"],7:["#9e7300","#b38f30","#c9aa61","#cae0cf","#afbcfa","#7988d0","#4253a6"],8:["#9e7300","#b38f30","#c9aa61","#dec691","#afbcfa","#94a2e5","#7988d0","#4253a6"],9:["#9e7300","#b38f30","#c9aa61","#dec691","#cae0cf","#afbcfa","#94a2e5","#7988d0","#4253a6"],10:["#9e7300","#b38f30","#c9aa61","#dec691","#cae0cf","#afbcfa","#94a2e5","#7988d0","#5d6dbb","#4253a6"],stops:["#9e7300","#c9aa61","#cae0cf","#7988d0","#4253a6"],tags:["light","purples","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 6"},"div-red-green-cyan":{1:["#dae695"],2:["#a00000","#008fbf"],3:["#a00000","#dae695","#008fbf"],4:["#a00000","#df7b7b","#47b0df","#008fbf"],5:["#a00000","#df7b7b","#dae695","#47b0df","#008fbf"],6:["#a00000","#c03d3d","#df7b7b","#8dd0ff","#47b0df","#008fbf"],7:["#a00000","#c03d3d","#df7b7b","#dae695","#8dd0ff","#47b0df","#008fbf"],8:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#8dd0ff","#6ac0ef","#47b0df","#008fbf"],9:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#dae695","#8dd0ff","#6ac0ef","#47b0df","#008fbf"],10:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#dae695","#8dd0ff","#6ac0ef","#47b0df","#239fcf","#008fbf"],stops:["#a00000","#df7b7b","#dae695","#47b0df","#008fbf"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 15"},"div-yellow-slate-teal":{1:["#d9ccff"],2:["#a49d0c","#008a97"],3:["#a49d0c","#d9ccff","#008a97"],4:["#a49d0c","#d6cd45","#46b4bf","#008a97"],5:["#a49d0c","#d6cd45","#d9ccff","#46b4bf","#008a97"],6:["#a49d0c","#c3bb2e","#d6cd45","#8bdee6","#46b4bf","#008a97"],7:["#a49d0c","#c3bb2e","#d6cd45","#d9ccff","#8bdee6","#46b4bf","#008a97"],8:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#8bdee6","#68c9d2","#46b4bf","#008a97"],9:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#d9ccff","#8bdee6","#68c9d2","#46b4bf","#008a97"],10:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#d9ccff","#8bdee6","#68c9d2","#46b4bf","#239fab","#008a97"],stops:["#a49d0c","#d6cd45","#d9ccff","#46b4bf","#008a97"],tags:["light","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 10"},"div-blue-green-orange":{1:["#1c4d31"],2:["#00aaff","#ffaa00"],3:["#00aaff","#1c4d31","#ffaa00"],4:["#00aaff","#0072aa","#bd7e00","#ffaa00"],5:["#00aaff","#0072aa","#1c4d31","#bd7e00","#ffaa00"],6:["#00aaff","#008ed5","#0072aa","#7a5200","#bd7e00","#ffaa00"],7:["#00aaff","#008ed5","#0072aa","#1c4d31","#7a5200","#bd7e00","#ffaa00"],8:["#00aaff","#008ed5","#0072aa","#005e8c","#7a5200","#bd7e00","#de9400","#ffaa00"],9:["#00aaff","#008ed5","#0072aa","#005e8c","#1c4d31","#7a5200","#bd7e00","#de9400","#ffaa00"],10:["#00aaff","#008ed5","#0072aa","#005e8c","#1c4d31","#7a5200","#9b6800","#bd7e00","#de9400","#ffaa00"],stops:["#00aaff","#0072aa","#1c4d31","#bd7e00","#ffaa00"],tags:["dark","blues","browns","oranges","diverging","colorblind-friendly"],name:"Blue and Orange 10"},"div-purple-orange":{1:["#590e47"],2:["#9952ff","#ff7300"],3:["#9952ff","#590e47","#ff7300"],4:["#9952ff","#6c1be6","#c05600","#ff7300"],5:["#9952ff","#6c1be6","#590e47","#c05600","#ff7300"],6:["#9952ff","#8337f2","#6c1be6","#803800","#c05600","#ff7300"],7:["#9952ff","#8337f2","#6c1be6","#590e47","#803800","#c05600","#ff7300"],8:["#9952ff","#8337f2","#6c1be6","#5600d9","#803800","#c05600","#df6400","#ff7300"],9:["#9952ff","#8337f2","#6c1be6","#5600d9","#590e47","#803800","#c05600","#df6400","#ff7300"],10:["#9952ff","#8337f2","#6c1be6","#5600d9","#590e47","#803800","#a04700","#c05600","#df6400","#ff7300"],stops:["#9952ff","#6c1be6","#590e47","#c05600","#ff7300"],tags:["dark","purples","browns","diverging","colorblind-friendly"],name:"Purple and Orange 3"},"div-purple-green":{1:["#4d3839"],2:["#b533ff","#6ede00"],3:["#b533ff","#4d3839","#6ede00"],4:["#b533ff","#8d11d4","#56ac00","#6ede00"],5:["#b533ff","#8d11d4","#4d3839","#56ac00","#6ede00"],6:["#b533ff","#a122ea","#8d11d4","#3f8000","#56ac00","#6ede00"],7:["#b533ff","#a122ea","#8d11d4","#4d3839","#3f8000","#56ac00","#6ede00"],8:["#b533ff","#a122ea","#8d11d4","#7900bf","#3f8000","#56ac00","#61c300","#6ede00"],9:["#b533ff","#a122ea","#8d11d4","#7900bf","#4d3839","#3f8000","#56ac00","#61c300","#6ede00"],10:["#b533ff","#a122ea","#8d11d4","#7900bf","#4d3839","#3f8000","#4a9600","#56ac00","#61c300","#6ede00"],stops:["#b533ff","#8d11d4","#4d3839","#56ac00","#6ede00"],tags:["dark","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 11"},"div-teal-orange":{1:["#604080"],2:["#66ffcc","#ffb900"],3:["#66ffcc","#604080","#ffb900"],4:["#66ffcc","#22aa7d","#b98600","#ffb900"],5:["#66ffcc","#22aa7d","#604080","#b98600","#ffb900"],6:["#66ffcc","#44d5a4","#22aa7d","#735200","#b98600","#ffb900"],7:["#66ffcc","#44d5a4","#22aa7d","#604080","#735200","#b98600","#ffb900"],8:["#66ffcc","#44d5a4","#22aa7d","#008055","#735200","#b98600","#dc9f00","#ffb900"],9:["#66ffcc","#44d5a4","#22aa7d","#008055","#604080","#735200","#b98600","#dc9f00","#ffb900"],10:["#66ffcc","#44d5a4","#22aa7d","#008055","#604080","#735200","#966c00","#b98600","#dc9f00","#ffb900"],stops:["#66ffcc","#22aa7d","#604080","#b98600","#ffb900"],tags:["dark","greens","oranges","diverging","colorblind-friendly"],name:"Green and Orange"},"div-red-purple-blue":{1:["#472459"],2:["#0080ff","#ff4d4d"],3:["#0080ff","#472459","#ff4d4d"],4:["#0080ff","#005bb2","#c40f0f","#ff4d4d"],5:["#0080ff","#005bb2","#472459","#c40f0f","#ff4d4d"],6:["#0080ff","#006dd9","#005bb2","#800000","#c40f0f","#ff4d4d"],7:["#0080ff","#006dd9","#005bb2","#472459","#800000","#c40f0f","#ff4d4d"],8:["#0080ff","#006dd9","#005bb2","#00488c","#800000","#c40f0f","#e61616","#ff4d4d"],9:["#0080ff","#006dd9","#005bb2","#00488c","#472459","#800000","#c40f0f","#e61616","#ff4d4d"],10:["#0080ff","#006dd9","#005bb2","#00488c","#472459","#800000","#a20707","#c40f0f","#e61616","#ff4d4d"],stops:["#0080ff","#005bb2","#472459","#c40f0f","#ff4d4d"],tags:["dark","blues","reds","diverging","colorblind-friendly"],name:"Blue and Red 16"},"div-yellow-magenta":{1:["#1f4f59"],2:["#fff565","#e600e6"],3:["#fff565","#1f4f59","#e600e6"],4:["#fff565","#999122","#b300b3","#e600e6"],5:["#fff565","#999122","#1f4f59","#b300b3","#e600e6"],6:["#fff565","#ccc343","#999122","#800080","#b300b3","#e600e6"],7:["#fff565","#ccc343","#999122","#1f4f59","#800080","#b300b3","#e600e6"],8:["#fff565","#ccc343","#999122","#665f00","#800080","#b300b3","#cd00cd","#e600e6"],9:["#fff565","#ccc343","#999122","#665f00","#1f4f59","#800080","#b300b3","#cd00cd","#e600e6"],10:["#fff565","#ccc343","#999122","#665f00","#1f4f59","#800080","#9a009a","#b300b3","#cd00cd","#e600e6"],stops:["#fff565","#999122","#1f4f59","#b300b3","#e600e6"],tags:["dark","purples","yellows","diverging","colorblind-friendly"],name:"Purple and Yellow 4"},"div-green-blue":{1:["#663840"],2:["#d4ff33","#33ddff"],3:["#d4ff33","#663840","#33ddff"],4:["#d4ff33","#83a211","#1a9dc5","#33ddff"],5:["#d4ff33","#83a211","#663840","#1a9dc5","#33ddff"],6:["#d4ff33","#abd022","#83a211","#005d8c","#1a9dc5","#33ddff"],7:["#d4ff33","#abd022","#83a211","#663840","#005d8c","#1a9dc5","#33ddff"],8:["#d4ff33","#abd022","#83a211","#5a7300","#005d8c","#1a9dc5","#26bde2","#33ddff"],9:["#d4ff33","#abd022","#83a211","#5a7300","#663840","#005d8c","#1a9dc5","#26bde2","#33ddff"],10:["#d4ff33","#abd022","#83a211","#5a7300","#663840","#005d8c","#0d7da9","#1a9dc5","#26bde2","#33ddff"],stops:["#d4ff33","#83a211","#663840","#1a9dc5","#33ddff"],tags:["dark","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 9"},"div-blue-brown":{1:["#5b2e73"],2:["#65a5ff","#ffb900"],3:["#65a5ff","#5b2e73","#ffb900"],4:["#65a5ff","#4366c4","#b98600","#ffb900"],5:["#65a5ff","#4366c4","#5b2e73","#b98600","#ffb900"],6:["#65a5ff","#5485e1","#4366c4","#735200","#b98600","#ffb900"],7:["#65a5ff","#5485e1","#4366c4","#5b2e73","#735200","#b98600","#ffb900"],8:["#65a5ff","#5485e1","#4366c4","#3246a6","#735200","#b98600","#dc9f00","#ffb900"],9:["#65a5ff","#5485e1","#4366c4","#3246a6","#5b2e73","#735200","#b98600","#dc9f00","#ffb900"],10:["#65a5ff","#5485e1","#4366c4","#3246a6","#5b2e73","#735200","#966c00","#b98600","#dc9f00","#ffb900"],stops:["#65a5ff","#4366c4","#5b2e73","#b98600","#ffb900"],tags:["dark","purples","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 7"},"div-red-cyan":{1:["#592e73"],2:["#ff7040","#33ddff"],3:["#ff7040","#592e73","#33ddff"],4:["#ff7040","#bc3f2b","#1a99c0","#33ddff"],5:["#ff7040","#bc3f2b","#592e73","#1a99c0","#33ddff"],6:["#ff7040","#de5836","#bc3f2b","#005580","#1a99c0","#33ddff"],7:["#ff7040","#de5836","#bc3f2b","#592e73","#005580","#1a99c0","#33ddff"],8:["#ff7040","#de5836","#bc3f2b","#9b2721","#005580","#1a99c0","#26bbdf","#33ddff"],9:["#ff7040","#de5836","#bc3f2b","#9b2721","#592e73","#005580","#1a99c0","#26bbdf","#33ddff"],10:["#ff7040","#de5836","#bc3f2b","#9b2721","#592e73","#005580","#0d77a0","#1a99c0","#26bbdf","#33ddff"],stops:["#ff7040","#bc3f2b","#592e73","#1a99c0","#33ddff"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 17"},"div-yellow-teal":{1:["#663840"],2:["#ffff00","#00ffff"],3:["#ffff00","#663840","#00ffff"],4:["#ffff00","#999900","#00b9b9","#00ffff"],5:["#ffff00","#999900","#663840","#00b9b9","#00ffff"],6:["#ffff00","#cccc00","#999900","#007373","#00b9b9","#00ffff"],7:["#ffff00","#cccc00","#999900","#663840","#007373","#00b9b9","#00ffff"],8:["#ffff00","#cccc00","#999900","#666600","#007373","#00b9b9","#00dcdc","#00ffff"],9:["#ffff00","#cccc00","#999900","#666600","#663840","#007373","#00b9b9","#00dcdc","#00ffff"],10:["#ffff00","#cccc00","#999900","#666600","#663840","#007373","#009696","#00b9b9","#00dcdc","#00ffff"],stops:["#ffff00","#999900","#663840","#00b9b9","#00ffff"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 11"},"div-green-purple":{stops:["#a3cc29","#567300","#403E3A","#6F00A6","#AA00FF"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 13"},"div-blue-red":{stops:["#00AAFF","#0060A6","#403E3A","#801921","#d92b2b"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 18"},"div-green-magenta":{stops:["#48d92c","#137300","#453F40","#800078","#e616da"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 14"},"div-blue-orange":{stops:["#00EAFF","#007580","#3F453F","#804B00","#FF9600"],tags:["dark","oranges","blues","diverging","colorblind-friendly"],name:"Blue and Orange 11"},"div-blue-yellow":{stops:["#1984FF","#0E4F99","#40453F","#737327","#e6d316"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 13"},"div-purple-yellow":{stops:["#8A4DFF","#5933A6","#45413F","#806A00","#FFD400"],tags:["dark","purples","yellows","diverging","colorblind-friendly"],name:"Purple and Yellow 6"},"div-magenta-yellow":{stops:["#FF00E9","#800078","#453F41","#737327","#FFFF00"],tags:["dark","yellows","pinks","diverging","colorblind-friendly"],name:"Pink and Yellow 5"},"div-purple-green-dark":{stops:["#7933FF","#4F22A6","#423F45","#558000","#a0e616"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 15"},"div-green-brown":{stops:["#00FFD5","#00806B","#3F4540","#663D14","#BF6100"],tags:["dark","greens","browns","diverging","colorblind-friendly"],name:"Green and Brown 3"},"div-green-gray":{stops:["#24B360","#1E6B40","#3F4543","#6D7699","#B5C7FF"],tags:["dark","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 12"},"div-blue-white":{stops:["#1984FF","#0E4F99","#3F4245","#736C61","#CCC1AC"],tags:["dark","browns","blues","diverging","colorblind-friendly"],name:"Blue and Brown 8"},"div-red-steel":{stops:["#E64916","#99262F","#453F42","#454143","#A5B4FF"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 19"},"div-aqua-darkgray-red":{stops:["#00c3ff","#4e858c","#47443a","#94593b","#ff4040"],tags:["dark","reds","blues","diverging","3d","colorblind-friendly"],name:"Blue and Red 20"},"div-green-purple-light":{stops:["#799100","#B8BF76","#C7BFBF","#BF72BB","#85007D"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 17"},"div-blue-red-light":{stops:["#4596E6","#8FB0DE","#C4BCC7","#C0656B","#A60000"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 21"},"div-green-purple-light-2":{stops:["#698C00","#98AF5B","#B3B8B6","#BF60B9","#A60098"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 16"},"div-cyan-blue-light":{stops:["#00AFBF","#69CCCC","#C3CCBE","#D9AD70","#BF7000"],tags:["light","browns","greens","diverging","colorblind-friendly"],name:"Green and Brown 4"},"div-blue-yellow-light":{stops:["#4DA0FF","#8CC7FF","#C3D1C7","#D9D94B","#BFBF00"],tags:["light","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 14"},"div-purple-yellow-light":{stops:["#805CC5","#A089BB","#BFB6B0","#B9A658","#B39500"],tags:["light","yellows","purples","diverging","colorblind-friendly"],name:"Purple and Yellow 7"},"div-magenta-yellow-light":{stops:["#98008B","#AE5DA0","#C4BAB5","#C1C15B","#B8B812"],tags:["light","yellows","purples","diverging","colorblind-friendly"],name:"Purple and Yellow 8"},"div-purple-green-light":{stops:["#805CC5","#A089BB","#B7BCC4","#98AF5B","#739900"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 18"},"div-blue-blue":{stops:["#00A6A6","#56BFBF","#BFBFB4","#998355","#8C6338"],tags:["light","greens","browns","diverging","colorblind-friendly"],name:"Green and Brown 5"},"div-green-green":{stops:["#009940","#5BB084","#B1C1C2","#9098AF","#666E85"],tags:["light","greens","grays","diverging","colorblind-friendly"],name:"Green and Gray 7"},"div-blue-green-light":{stops:["#4596E6","#7FACD9","#B8C2CC","#A29F98","#767064"],tags:["light","grays","blues","diverging","colorblind-friendly"],name:"Blue and Gray 6"},"div-red-green-light":{stops:["#A62900","#B8755E","#C0BAC7","#939AB5","#697696"],tags:["light","reds","grays","diverging","colorblind-friendly"],name:"Red and Gray 7"},"div-blue-yellow-brown-light":{stops:["#308fa6","#6ca68b","#d2e096","#c7811e","#8c270e"],tags:["light","greens","browns","diverging","3d","colorblind-friendly"],name:"Green and Brown 6"},"div-blue-white-brown":{stops:["#308fa6","#98c7d3","#ffffff","#c67e6d","#8c270e"],tags:["light","greens","browns","diverging","3d","colorblind-friendly"],name:"Green and Brown 7"},"div-subdued-red-green":{1:["#ec8787"],2:["#ec8787","#70b6ba"],3:["#ec8787","#fff0d0","#70b6ba"],4:["#ec8787","#f9cbb3","#b7d5d7","#70b6ba"],5:["#ec8787","#f9cbb3","#fff0d0","#b7d5d7","#70b6ba"],6:["#ec8787","#f3a696","#f9cbb3","#b7d5d7","#93c6c9","#70b6ba"],7:["#ec8787","#f3a696","#f9cbb3","#fff0d0","#b7d5d7","#93c6c9","#70b6ba"],8:["#de6868","#ec8787","#f3a696","#f9cbb3","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba"],9:["#de6868","#ec8787","#f3a696","#f9cbb3","#fff0d0","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba"],10:["#de6868","#ec8787","#f3a696","#f9cbb3","#fff0d0","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba","#5aa3b3"],stops:["#ec8787","#f9cbb3","#fff0d0","#b7d5d7","#70b6ba"],tags:["light","reds","yellows","greens","subdued","diverging","colorblind-friendly"],name:"Starburst"},"div-subdued-red-purple":{1:["#db897e"],2:["#db897e","#b592c4"],3:["#db897e","#ecf2cd","#b592c4"],4:["#db897e","#edcab2","#d8bde6","#b592c4"],5:["#db897e","#edcab2","#ecf2cd","#d8bde6","#b592c4"],6:["#db897e","#f3a196","#edcab2","#d8bde6","#c7a8d5","#b592c4"],7:["#db897e","#f3a196","#edcab2","#ecf2cd","#d8bde6","#c7a8d5","#b592c4"],8:["#c27166","#db897e","#f3a196","#edcab2","#d8bde6","#c7a8d5","#b592c4","#a47db3"],9:["#c27166","#db897e","#f3a196","#edcab2","#ecf2cd","#d8bde6","#c7a8d5","#b592c4","#a47db3"],10:["#c27166","#db897e","#f3a196","#edcab2","#ecf2cd","#dfd8da","#d8bde6","#c7a8d5","#b592c4","#a47db3"],stops:["#db897e","#edcab2","#ecf2cd","#d8bde6","#b592c4"],tags:["light","reds","yellows","purples","subdued","diverging","colorblind-friendly"],name:"Glorious Purpose"},"div-subdued-brown-gray":{1:["#bd9f83"],2:["#bd9f83","#c8d2d8"],3:["#bd9f83","#f4e6c8","#c8d2d8"],4:["#a98762","#ceb396","#c8d2d8","#8b9da7"],5:["#a98762","#ceb396","#f4e6c8","#c8d2d8","#8b9da7"],6:["#a98762","#bd9f83","#ceb396","#c8d2d8","#a9b7c0","#8b9da7"],7:["#a98762","#bd9f83","#ceb396","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7"],8:["#946f40","#a98762","#bd9f83","#ceb396","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],9:["#946f40","#a98762","#bd9f83","#ceb396","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],10:["#946f40","#a98762","#bd9f83","#ceb396","#dec8aa","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],stops:["#a98762","#ceb396","#f4e6c8","#c8d2d8","#8b9da7"],tags:["light","browns","grays","subdued","diverging","colorblind-friendly"],name:"Desert Winds"},"div-subdued-sepia-gray":{1:["#dea37a"],2:["#dea37a","#c1d1db"],3:["#dea37a","#f5ebd4","#c1d1db"],4:["#d39367","#eab28c","#c1d1db","#839ba8"],5:["#d39367","#eab28c","#f5ebd4","#c1d1db","#839ba8"],6:["#d39367","#dea37a","#eab28c","#c1d1db","#a2b6c2","#839ba8"],7:["#d39367","#dea37a","#eab28c","#f5ebd4","#c1d1db","#a2b6c2","#839ba8"],8:["#b87a4f","#d39367","#dea37a","#eab28c","#c1d1db","#a2b6c2","#839ba8","#64808f"],9:["#b87a4f","#d39367","#dea37a","#eab28c","#f5ebd4","#c1d1db","#a2b6c2","#839ba8","#64808f"],10:["#b87a4f","#d39367","#dea37a","#eab28c","#f2ceb5","#f5ebd4","#c1d1db","#a2b6c2","#839ba8","#64808f"],stops:["#d39367","#eab28c","#f5ebd4","#c1d1db","#839ba8"],tags:["light","browns","grays","subdued","diverging","colorblind-friendly"],name:"Cigar Smoke"},"div-subdued-blue-gray":{1:["#86b6cf"],2:["#86b6cf","#d9c8cf"],3:["#86b6cf","#e6f5e6","#d9c8cf"],4:["#72a3bd","#9ac9e0","#d9c8cf","#a6999e"],5:["#72a3bd","#9ac9e0","#e6f5e6","#d9c8cf","#a6999e"],6:["#72a3bd","#86b6cf","#9ac9e0","#d9c8cf","#bfb0b7","#a6999e"],7:["#72a3bd","#86b6cf","#9ac9e0","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e"],8:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],9:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],10:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#aedcf2","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],stops:["#72a3bd","#9ac9e0","#e6f5e6","#d9c8cf","#a6999e"],tags:["light","blues","grays","subdued","diverging","colorblind-friendly"],name:"Seattle Skyline"},"div-subdued-tan-blue":{1:["#f9cbb3"],2:["#f9cbb3","#aedcf2"],3:["#f9cbb3","#5e435a","#aedcf2"],4:["#f9cbb3","#9e7871","#567787","#aedcf2"],5:["#f9cbb3","#9e7871","#5e435a","#567787","#aedcf2"],6:["#f9cbb3","#c9a090","#9e7871","#567787","#8bb2c5","#aedcf2"],7:["#f9cbb3","#c9a090","#9e7871","#5e435a","#567787","#8bb2c5","#aedcf2"],8:["#f9cbb3","#c9a090","#9e7871","#7d5757","#567787","#688899","#8bb2c5","#aedcf2"],9:["#f9cbb3","#c9a090","#9e7871","#7d5757","#5e435a","#567787","#688899","#8bb2c5","#aedcf2"],10:["#f9cbb3","#c9a090","#9e7871","#7d5757","#5e435a","#456373","#567787","#688899","#8bb2c5","#aedcf2"],stops:["#f9cbb3","#9e7871","#5e435a","#567787","#aedcf2"],tags:["dark","browns","blues","subdued","diverging","colorblind-friendly"],name:"Desert Rain"},"div-subdued-green-blue":{1:["#cdd9b8"],2:["#cdd9b8","#aecaf2"],3:["#cdd9b8","#58506b","#aecaf2"],4:["#cdd9b8","#757d61","#5e728f","#aecaf2"],5:["#cdd9b8","#757d61","#58506b","#5e728f","#aecaf2"],6:["#cdd9b8","#9ba689","#757d61","#5e728f","#8fa8cc","#aecaf2"],7:["#cdd9b8","#9ba689","#757d61","#58506b","#5e728f","#8fa8cc","#aecaf2"],8:["#cdd9b8","#9ba689","#757d61","#596144","#5e728f","#778ead","#8fa8cc","#aecaf2"],9:["#cdd9b8","#9ba689","#757d61","#596144","#58506b","#5e728f","#778ead","#8fa8cc","#aecaf2"],10:["#cdd9b8","#9ba689","#757d61","#596144","#58506b","#4c607d","#5e728f","#778ead","#8fa8cc","#aecaf2"],stops:["#cdd9b8","#757d61","#58506b","#5e728f","#aecaf2"],tags:["dark","greens","blues","subdued","diverging","colorblind-friendly"],name:"Milky Way"},"div-subdued-green-pink":{1:["#ffb7e7"],2:["#cdd9b8","#ffb7e7"],3:["#cdd9b8","#424c59","#ffb7e7"],4:["#cdd9b8","#757d61","#8c5b7c","#ffb7e7"],5:["#cdd9b8","#757d61","#424c59","#8c5b7c","#ffb7e7"],6:["#cdd9b8","#9ba689","#757d61","#8c5b7c","#d697c1","#ffb7e7"],7:["#cdd9b8","#9ba689","#757d61","#424c59","#8c5b7c","#d697c1","#ffb7e7"],8:["#cdd9b8","#9ba689","#757d61","#596144","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],9:["#cdd9b8","#9ba689","#757d61","#596144","#424c59","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],10:["#cdd9b8","#9ba689","#757d61","#596144","#424c59","#784868","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],stops:["#cdd9b8","#757d61","#424c59","#8c5b7c","#ffb7e7"],tags:["dark","greens","purples","pinks","subdued","diverging","colorblind-friendly"],name:"Soft Velvet"},"div-subdued-green-brown":{1:["#3b9ea2"],2:["#3b9ea2","#e9bbb2"],3:["#3b9ea2","#d8d9ce","#e9bbb2"],4:["#006e76","#3b9ea2","#e9bbb2","#cca199"],5:["#006e76","#3b9ea2","#d8d9ce","#e9bbb2","#cca199"],6:["#006e76","#3b9ea2","#8cb2b2","#f8c8be","#e9bbb2","#cca199"],7:["#006e76","#3b9ea2","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#cca199"],8:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#f8c8be","#e9bbb2","#dbaea5","#cca199"],9:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#dbaea5","#cca199"],10:["#006e76","#1e868c","#3b9ea2","#63a8aa","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#dbaea5","#cca199"],stops:["#006e76","#3b9ea2","#d8d9ce","#e9bbb2","#cca199"],tags:["light","browns","greens","subdued","diverging","colorblind-friendly"],name:"Conifer Forest"},"div-lines-blue-brown":{1:["#a3d9bb"],2:["#005a8c","#806000"],3:["#005a8c","#a3d9bb","#806000"],4:["#005a8c","#0099d1","#a68721","#806000"],5:["#005a8c","#0099d1","#a3d9bb","#a68721","#806000"],6:["#005a8c","#0099d1","#00b5f2","#b1ae74","#a68721","#806000"],7:["#005a8c","#0099d1","#00b5f2","#a3d9bb","#b1ae74","#a68721","#806000"],8:["#005a8c","#007aad","#0099d1","#00b5f2","#b1ae74","#a68721","#937411","#806000"],9:["#005a8c","#007aad","#0099d1","#00b5f2","#a3d9bb","#b1ae74","#a68721","#937411","#806000"],10:["#005a8c","#007aad","#0099d1","#00b5f2","#4cc3d9","#a3d9bb","#b1ae74","#a68721","#937411","#806000"],stops:["#005a8c","#0099d1","#a3d9bb","#a68721","#806000"],tags:["light","blues","browns","lines","diverging","colorblind-friendly"],name:"Queen Conch Shell"},"div-lines-green-purple":{1:["#ebb788"],2:["#3a7300","#ab0080"],3:["#3a7300","#ebb788","#ab0080"],4:["#3a7300","#53a600","#d957b9","#ab0080"],5:["#3a7300","#53a600","#ebb788","#d957b9","#ab0080"],6:["#3a7300","#53a600","#83a63c","#e39199","#d957b9","#ab0080"],7:["#3a7300","#53a600","#83a63c","#ebb788","#e39199","#d957b9","#ab0080"],8:["#3a7300","#478d00","#53a600","#83a63c","#e39199","#d957b9","#c62ca0","#ab0080"],9:["#3a7300","#478d00","#53a600","#83a63c","#ebb788","#e39199","#d957b9","#c62ca0","#ab0080"],10:["#3a7300","#478d00","#53a600","#83a63c","#ebb788","#e39199","#e673b0","#d957b9","#c62ca0","#ab0080"],stops:["#3a7300","#53a600","#ebb788","#d957b9","#ab0080"],tags:["light","greens","purples","pinks","lines","diverging","colorblind-friendly"],name:"Thai Lily"},"div-lines-red-gray":{1:["#b89fa0"],2:["#850000","#50567a"],3:["#850000","#b89fa0","#50567a"],4:["#850000","#d12020","#8790bf","#50567a"],5:["#850000","#d12020","#b89fa0","#8790bf","#50567a"],6:["#850000","#d12020","#eb2f2f","#8790bf","#6c739d","#50567a"],7:["#850000","#d12020","#eb2f2f","#b89fa0","#8790bf","#6c739d","#50567a"],8:["#850000","#ac1010","#d12020","#eb2f2f","#9b92b9","#8790bf","#6c739d","#50567a"],9:["#850000","#ac1010","#d12020","#eb2f2f","#b89fa0","#9b92b9","#8790bf","#6c739d","#50567a"],10:["#850000","#ac1010","#d12020","#eb2f2f","#e3717e","#b89fa0","#9b92b9","#8790bf","#6c739d","#50567a"],stops:["#850000","#d12020","#b89fa0","#8790bf","#50567a"],tags:["light","reds","grays","lines","diverging","colorblind-friendly"],name:"Icy Rouge"},"div-lines-green-orange":{1:["#315b61"],2:["#ffaa00","#00ffd4"],3:["#ffaa00","#315b61","#00ffd4"],4:["#ffaa00","#b45a00","#00b294","#00ffd4"],5:["#ffaa00","#b45a00","#315b61","#00b294","#00ffd4"],6:["#ffaa00","#e67500","#b45a00","#008c74","#00b294","#00ffd4"],7:["#ffaa00","#e67500","#b45a00","#315b61","#008c74","#00b294","#00ffd4"],8:["#ffaa00","#f28e00","#e67500","#b45a00","#008c74","#00b294","#00d9b4","#00ffd4"],9:["#ffaa00","#f28e00","#e67500","#b45a00","#315b61","#008c74","#00b294","#00d9b4","#00ffd4"],10:["#ffaa00","#f28e00","#e67500","#cd6700","#b45a00","#315b61","#008c74","#00b294","#00d9b4","#00ffd4"],stops:["#ffaa00","#b45a00","#315b61","#00b294","#00ffd4"],tags:["dark","oranges","greens","lines","diverging","colorblind-friendly"],name:"Halloween Morning"},"div-lines-yellow-blue":{1:["#2d5959"],2:["#ffff00","#99bbff"],3:["#ffff00","#2d5959","#99bbff"],4:["#ffff00","#a19700","#457ae6","#99bbff"],5:["#ffff00","#a19700","#2d5959","#457ae6","#99bbff"],6:["#ffff00","#c0ba00","#a19700","#457ae6","#6f9bf3","#99bbff"],7:["#ffff00","#c0ba00","#a19700","#2d5959","#457ae6","#6f9bf3","#99bbff"],8:["#ffff00","#c0ba00","#a19700","#67782d","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],9:["#ffff00","#c0ba00","#a19700","#67782d","#2d5959","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],10:["#ffff00","#e0dc00","#c0ba00","#a19700","#67782d","#2d5959","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],stops:["#ffff00","#a19700","#2d5959","#457ae6","#99bbff"],tags:["dark","yellows","blues","lines","diverging","colorblind-friendly"],name:"Fire and Ice"},"div-esribrand-red-bluegreen":{1:["#f07062"],2:["#d83020","#009b98"],3:["#d83020","#ffe0d9","#009b98"],4:["#a8281e","#f07062","#00bab5","#00807d"],5:["#a8281e","#f07062","#ffe0d9","#00bab5","#00807d"],6:["#a8281e","#f07062","#fbb3ab","#56d6d4","#00bab5","#00807d"],7:["#a8281e","#f07062","#fbb3ab","#ffe0d9","#56d6d4","#00bab5","#00807d"],8:["#a8281e","#d83020","#f07062","#fbb3ab","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#a8281e","#d83020","#f07062","#fbb3ab","#ffe0d9","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#a8281e","#d83020","#f07062","#fbb3ab","#ffe0d9","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#a8281e","#f07062","#ffe0d9","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Green 1"},"div-esribrand-red-blue":{1:["#f07062"],2:["#d83020","#007ac2"],3:["#d83020","#ffd6cc","#007ac2"],4:["#a8281e","#f07062","#50a7da","#00619b"],5:["#a8281e","#f07062","#ffd6cc","#50a7da","#00619b"],6:["#a8281e","#f07062","#fbb1a8","#8ec4e6","#50a7da","#00619b"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#8ec4e6","#50a7da","#00619b"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#c7cfd9","#8ec4e6","#50a7da","#00619b"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#c7cfd9","#8ec4e6","#50a7da","#00619b"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#c7cfd9","#8ec4e6","#50a7da","#007ac2","#00619b"],stops:["#a8281e","#f07062","#ffd6cc","#50a7da","#00619b"],tags:["light","reds","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Blue 1"},"div-esribrand-red-violet":{1:["#f07062"],2:["#d83020","#6a3fa6"],3:["#d83020","#ffd6cc","#6a3fa6"],4:["#a8281e","#f07062","#987ac3","#4e2c7e"],5:["#a8281e","#f07062","#ffd6cc","#987ac3","#4e2c7e"],6:["#a8281e","#f07062","#fbb1a8","#c1a7d9","#987ac3","#4e2c7e"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#c1a7d9","#987ac3","#4e2c7e"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#e0bfdd","#c1a7d9","#987ac3","#4e2c7e"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e0bfdd","#c1a7d9","#987ac3","#4e2c7e"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e0bfdd","#c1a7d9","#987ac3","#6a3fa6","#4e2c7e"],stops:["#a8281e","#f07062","#ffd6cc","#987ac3","#4e2c7e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 1"},"div-esribrand-red-violetred":{1:["#f07062"],2:["#d83020","#8e499b"],3:["#d83020","#ffd6cc","#8e499b"],4:["#a8281e","#f07062","#b983c3","#73377e"],5:["#a8281e","#f07062","#ffd6cc","#b983c3","#73377e"],6:["#a8281e","#f07062","#fbb1a8","#d3abd5","#b983c3","#73377e"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#d3abd5","#b983c3","#73377e"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#e9beca","#d3abd5","#b983c3","#73377e"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e9beca","#d3abd5","#b983c3","#73377e"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e9beca","#d3abd5","#b983c3","#8e499b","#73377e"],stops:["#a8281e","#f07062","#ffd6cc","#b983c3","#73377e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 2"},"div-esribrand-red-gray":{1:["#ffd6cc"],2:["#a8281e","#404040"],3:["#a8281e","#ffd6cc","#404040"],4:["#a8281e","#f07062","#999999","#404040"],5:["#a8281e","#f07062","#ffd6cc","#999999","#404040"],6:["#a8281e","#f07062","#fbb1a8","#d6c5c3","#999999","#404040"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#999999","#404040"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#d6c5c3","#c0bab9","#999999","#404040"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#c0bab9","#999999","#404040"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#c0bab9","#999999","#666666","#404040"],stops:["#a8281e","#f07062","#ffd6cc","#999999","#404040"],tags:["light","reds","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Gray 1"},"div-esribrand-redorange-greenblue":{1:["#e97e5a"],2:["#da4d1e","#009b98"],3:["#da4d1e","#ffd0bf","#009b98"],4:["#963413","#e97e5a","#00bab5","#00807d"],5:["#963413","#e97e5a","#ffd0bf","#00bab5","#00807d"],6:["#963413","#e97e5a","#f4a78d","#56d6d4","#00bab5","#00807d"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#56d6d4","#00bab5","#00807d"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#963413","#e97e5a","#ffd0bf","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Green 2"},"div-esribrand-redorange-blue":{1:["#e97e5a"],2:["#da4d1e","#3c8ab8"],3:["#da4d1e","#ffd0bf","#3c8ab8"],4:["#963413","#e97e5a","#79b2d5","#00619b"],5:["#963413","#e97e5a","#ffd0bf","#79b2d5","#00619b"],6:["#963413","#e97e5a","#f4a78d","#a5cbe3","#79b2d5","#00619b"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#a5cbe3","#79b2d5","#00619b"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d2ced1","#a5cbe3","#79b2d5","#00619b"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2ced1","#a5cbe3","#79b2d5","#00619b"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2ced1","#a5cbe3","#79b2d5","#3c8ab8","#00619b"],stops:["#963413","#e97e5a","#ffd0bf","#79b2d5","#00619b"],tags:["light","reds","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Blue 2"},"div-esribrand-redorange-violet":{1:["#e97e5a"],2:["#da4d1e","#633b9b"],3:["#da4d1e","#ffd0bf","#633b9b"],4:["#963413","#e97e5a","#987ac3","#4e2c7e"],5:["#963413","#e97e5a","#ffd0bf","#987ac3","#4e2c7e"],6:["#963413","#e97e5a","#f4a78d","#bfa8d7","#987ac3","#4e2c7e"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#bfa8d7","#987ac3","#4e2c7e"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d2bccb","#bfa8d7","#987ac3","#4e2c7e"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2bccb","#bfa8d7","#987ac3","#4e2c7e"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2bccb","#bfa8d7","#987ac3","#633b9b","#4e2c7e"],stops:["#963413","#e97e5a","#ffd0bf","#987ac3","#4e2c7e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 3"},"div-esribrand-redorange-violetred":{1:["#e97e5a"],2:["#da4d1e","#8e499b"],3:["#da4d1e","#ffd0bf","#8e499b"],4:["#963413","#e97e5a","#b983c3","#73377e"],5:["#963413","#e97e5a","#ffd0bf","#b983c3","#73377e"],6:["#963413","#e97e5a","#f4a78d","#d3abd5","#b983c3","#73377e"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#d3abd5","#b983c3","#73377e"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#e9beca","#d3abd5","#b983c3","#73377e"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#e9beca","#d3abd5","#b983c3","#73377e"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#e9beca","#d3abd5","#b983c3","#8e499b","#73377e"],stops:["#963413","#e97e5a","#ffd0bf","#b983c3","#73377e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 4"},"div-esribrand-redorange-gray":{1:["#e97e5a"],2:["#da4d1e","#666666"],3:["#da4d1e","#ffd0bf","#666666"],4:["#963413","#e97e5a","#999999","#404040"],5:["#963413","#e97e5a","#ffd0bf","#999999","#404040"],6:["#963413","#e97e5a","#f4a78d","#bcbcbc","#999999","#404040"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#bcbcbc","#999999","#404040"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d7c6be","#bcbcbc","#999999","#404040"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d7c6be","#bcbcbc","#999999","#404040"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d7c6be","#bcbcbc","#999999","#666666","#404040"],stops:["#963413","#e97e5a","#ffd0bf","#999999","#404040"],tags:["light","reds","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Gray 2"},"div-esribrand-orange-greenblue":{1:["#f89960"],2:["#f36f20","#009b98"],3:["#f36f20","#ffd8bf","#009b98"],4:["#b35116","#f89960","#00bab5","#00807d"],5:["#b35116","#f89960","#ffd8bf","#00bab5","#00807d"],6:["#b35116","#f89960","#fcb990","#56d6d4","#00bab5","#00807d"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#56d6d4","#00bab5","#00807d"],8:["#b35116","#f36f20","#f89960","#fcb990","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#b35116","#f89960","#ffd8bf","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Green 1"},"div-esribrand-orange-blue":{1:["#f89960"],2:["#f36f20","#007ac2"],3:["#f36f20","#ffd8bf","#007ac2"],4:["#b35116","#f89960","#50a7da","#00619b"],5:["#b35116","#f89960","#ffd8bf","#50a7da","#00619b"],6:["#b35116","#f89960","#fcb990","#91bcd5","#50a7da","#00619b"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#91bcd5","#50a7da","#00619b"],8:["#b35116","#f36f20","#f89960","#fcb990","#d1d1d0","#91bcd5","#50a7da","#00619b"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d1d1d0","#91bcd5","#50a7da","#00619b"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d1d1d0","#91bcd5","#50a7da","#007ac2","#00619b"],stops:["#b35116","#f89960","#ffd8bf","#50a7da","#00619b"],tags:["light","oranges","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Blue 1"},"div-esribrand-orange-violet":{1:["#f89960"],2:["#f36f20","#633b9b"],3:["#f36f20","#ffd8bf","#633b9b"],4:["#b35116","#f89960","#987ac3","#4e2c7e"],5:["#b35116","#f89960","#ffd8bf","#987ac3","#4e2c7e"],6:["#b35116","#f89960","#fcb990","#bca0ca","#987ac3","#4e2c7e"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#bca0ca","#987ac3","#4e2c7e"],8:["#b35116","#f36f20","#f89960","#fcb990","#e0c5d0","#bca0ca","#987ac3","#4e2c7e"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#e0c5d0","#bca0ca","#987ac3","#4e2c7e"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#e0c5d0","#bca0ca","#987ac3","#633b9b","#4e2c7e"],stops:["#b35116","#f89960","#ffd8bf","#987ac3","#4e2c7e"],tags:["light","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 1"},"div-esribrand-orange-violetred":{1:["#f89960"],2:["#f36f20","#8e499b"],3:["#f36f20","#ffd8bf","#8e499b"],4:["#b35116","#f89960","#b983c3","#73377e"],5:["#b35116","#f89960","#ffd8bf","#b983c3","#73377e"],6:["#b35116","#f89960","#fcb990","#d5a6cc","#b983c3","#73377e"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#d5a6cc","#b983c3","#73377e"],8:["#b35116","#f36f20","#f89960","#fcb990","#f0c8d4","#d5a6cc","#b983c3","#73377e"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#f0c8d4","#d5a6cc","#b983c3","#73377e"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#f0c8d4","#d5a6cc","#b983c3","#8e499b","#73377e"],stops:["#b35116","#f89960","#ffd8bf","#b983c3","#73377e"],tags:["light","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 2"},"div-esribrand-orange-gray":{1:["#f89960"],2:["#f36f20","#666666"],3:["#f36f20","#ffd8bf","#666666"],4:["#b35116","#f89960","#999999","#404040"],5:["#b35116","#f89960","#ffd8bf","#999999","#404040"],6:["#b35116","#f89960","#fcb990","#b8b2ac","#999999","#404040"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#b8b2ac","#999999","#404040"],8:["#b35116","#f36f20","#f89960","#fcb990","#d7cbbf","#b8b2ac","#999999","#404040"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d7cbbf","#b8b2ac","#999999","#404040"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d7cbbf","#b8b2ac","#999999","#666666","#404040"],stops:["#b35116","#f89960","#ffd8bf","#999999","#404040"],tags:["light","oranges","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Gray 1"},"div-esribrand-orangeyellow-greenblue":{1:["#fbb664"],2:["#f29526","#009b98"],3:["#f29526","#ffe7c7","#009b98"],4:["#c67718","#fbb664","#00bab5","#00807d"],5:["#c67718","#fbb664","#ffe7c7","#00bab5","#00807d"],6:["#c67718","#fbb664","#fdcc92","#56d6d4","#00bab5","#00807d"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#56d6d4","#00bab5","#00807d"],8:["#c67718","#f29526","#fbb664","#fdcc92","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#c67718","#fbb664","#ffe7c7","#00bab5","#00807d"],tags:["light","browns","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Green 2"},"div-esribrand-orangeyellow-blue":{1:["#fbb664"],2:["#f29526","#007ac2"],3:["#f29526","#ffe7c7","#007ac2"],4:["#c67718","#fbb664","#50a7da","#00619b"],5:["#c67718","#fbb664","#ffe7c7","#50a7da","#00619b"],6:["#c67718","#fbb664","#fdcc92","#8cc9ed","#50a7da","#00619b"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#8cc9ed","#50a7da","#00619b"],8:["#c67718","#f29526","#fbb664","#fdcc92","#c6d8da","#8cc9ed","#50a7da","#00619b"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#c6d8da","#8cc9ed","#50a7da","#00619b"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#c6d8da","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#c67718","#fbb664","#ffe7c7","#50a7da","#00619b"],tags:["light","browns","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Blue 2"},"div-esribrand-orangeyellow-violet":{1:["#fbb664"],2:["#f29526","#633b9b"],3:["#f29526","#ffe7c7","#633b9b"],4:["#c67718","#fbb664","#987ac3","#4e2c7e"],5:["#c67718","#fbb664","#ffe7c7","#987ac3","#4e2c7e"],6:["#c67718","#fbb664","#fdcc92","#c0aae1","#987ac3","#4e2c7e"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#c0aae1","#987ac3","#4e2c7e"],8:["#c67718","#f29526","#fbb664","#fdcc92","#e0c9d4","#c0aae1","#987ac3","#4e2c7e"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#e0c9d4","#c0aae1","#987ac3","#4e2c7e"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#e0c9d4","#c0aae1","#987ac3","#633b9b","#4e2c7e"],stops:["#c67718","#fbb664","#ffe7c7","#987ac3","#4e2c7e"],tags:["light","browns","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 3"},"div-esribrand-orangeyellow-violetred":{1:["#fbb664"],2:["#f29526","#8e499b"],3:["#f29526","#ffe7c7","#8e499b"],4:["#c67718","#fbb664","#b983c3","#73377e"],5:["#c67718","#fbb664","#ffe7c7","#b983c3","#73377e"],6:["#c67718","#fbb664","#fdcc92","#daafe1","#b983c3","#73377e"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#daafe1","#b983c3","#73377e"],8:["#c67718","#f29526","#fbb664","#fdcc92","#edcbd4","#daafe1","#b983c3","#73377e"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#edcbd4","#daafe1","#b983c3","#73377e"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#edcbd4","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#c67718","#fbb664","#ffe7c7","#b983c3","#73377e"],tags:["light","browns","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 4"},"div-esribrand-orangeyellow-gray":{1:["#fbb664"],2:["#f29526","#666666"],3:["#f29526","#ffe7c7","#666666"],4:["#c67718","#fbb664","#999999","#404040"],5:["#c67718","#fbb664","#ffe7c7","#999999","#404040"],6:["#c67718","#fbb664","#fdcc92","#bcbcbc","#999999","#404040"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#bcbcbc","#999999","#404040"],8:["#c67718","#f29526","#fbb664","#fdcc92","#d7d2c2","#bcbcbc","#999999","#404040"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#d7d2c2","#bcbcbc","#999999","#404040"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#d7d2c2","#bcbcbc","#999999","#666666","#404040"],stops:["#c67718","#fbb664","#ffe7c7","#999999","#404040"],tags:["light","browns","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Gray 2"},"div-esribrand-yellow-green-blue":{1:["#e8d966"],2:["#dbc62c","#009b98"],3:["#dbc62c","#fff58f","#009b98"],4:["#beac2d","#e8d966","#00bab5","#00807d"],5:["#beac2d","#e8d966","#fff58f","#00bab5","#00807d"],6:["#beac2d","#e8d966","#f5e998","#56d6d4","#00bab5","#00807d"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#56d6d4","#00bab5","#00807d"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#beac2d","#e8d966","#fff58f","#00bab5","#00807d"],tags:["light","yellows","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Green 1"},"div-esribrand-yellow-blue":{1:["#e8d966"],2:["#dbc62c","#007ac2"],3:["#dbc62c","#fff58f","#007ac2"],4:["#beac2d","#e8d966","#50a7da","#00619b"],5:["#beac2d","#e8d966","#fff58f","#50a7da","#00619b"],6:["#beac2d","#e8d966","#f5e998","#8ec7de","#50a7da","#00619b"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#8ec7de","#50a7da","#00619b"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#cce6e2","#8ec7de","#50a7da","#00619b"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#cce6e2","#8ec7de","#50a7da","#00619b"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#cce6e2","#8ec7de","#50a7da","#007ac2","#00619b"],stops:["#beac2d","#e8d966","#fff58f","#50a7da","#00619b"],tags:["light","yellows","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Blue 1"},"div-esribrand-yellow-violet":{1:["#e8d966"],2:["#dbc62c","#633b9b"],3:["#dbc62c","#fff58f","#633b9b"],4:["#beac2d","#e8d966","#987ac3","#4e2c7e"],5:["#beac2d","#e8d966","#fff58f","#987ac3","#4e2c7e"],6:["#beac2d","#e8d966","#f5e998","#bfa8cc","#987ac3","#4e2c7e"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#bfa8cc","#987ac3","#4e2c7e"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#e6d5d5","#bfa8cc","#987ac3","#4e2c7e"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6d5d5","#bfa8cc","#987ac3","#4e2c7e"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6d5d5","#bfa8cc","#987ac3","#633b9b","#4e2c7e"],stops:["#beac2d","#e8d966","#fff58f","#987ac3","#4e2c7e"],tags:["light","yellows","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Purple 1"},"div-esribrand-yellow-violetred":{1:["#e8d966"],2:["#dbc62c","#8e499b"],3:["#dbc62c","#fff58f","#8e499b"],4:["#beac2d","#e8d966","#b983c3","#73377e"],5:["#beac2d","#e8d966","#fff58f","#b983c3","#73377e"],6:["#beac2d","#e8d966","#f5e998","#d6adcc","#b983c3","#73377e"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#d6adcc","#b983c3","#73377e"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#f2d7d5","#d6adcc","#b983c3","#73377e"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f2d7d5","#d6adcc","#b983c3","#73377e"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f2d7d5","#d6adcc","#b983c3","#8e499b","#73377e"],stops:["#beac2d","#e8d966","#fff58f","#b983c3","#73377e"],tags:["light","yellows","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Purple 2"},"div-esribrand-yellow-brown":{1:["#e8d966"],2:["#dbc62c","#85551e"],3:["#dbc62c","#fff58f","#85551e"],4:["#beac2d","#e8d966","#ad8b62","#664015"],5:["#beac2d","#e8d966","#fff58f","#ad8b62","#664015"],6:["#beac2d","#e8d966","#f5e998","#cfb489","#ad8b62","#664015"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#cfb489","#ad8b62","#664015"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#f0dcb0","#cfb489","#ad8b62","#664015"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f0dcb0","#cfb489","#ad8b62","#664015"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f0dcb0","#cfb489","#ad8b62","#85551e","#664015"],stops:["#beac2d","#e8d966","#fff58f","#ad8b62","#664015"],tags:["light","yellows","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Bananas"},"div-esribrand-yellow-gray":{1:["#e8d966"],2:["#dbc62c","#666666"],3:["#dbc62c","#fff58f","#666666"],4:["#beac2d","#e8d966","#999999","#404040"],5:["#beac2d","#e8d966","#fff58f","#999999","#404040"],6:["#beac2d","#e8d966","#f5e998","#bcbcbc","#999999","#404040"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#bcbcbc","#999999","#404040"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#e6e0c4","#bcbcbc","#999999","#404040"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6e0c4","#bcbcbc","#999999","#404040"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6e0c4","#bcbcbc","#999999","#666666","#404040"],stops:["#beac2d","#e8d966","#fff58f","#999999","#404040"],tags:["light","yellows","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Gray 1"},"div-esribrand-yellowgreen-greenblue":{1:["#c2e075"],2:["#aad048","#009b98"],3:["#aad048","#daf2de","#009b98"],4:["#84a338","#c2e075","#00bab5","#00807d"],5:["#84a338","#c2e075","#daf2de","#00bab5","#00807d"],6:["#84a338","#c2e075","#daebab","#56d6d4","#00bab5","#00807d"],7:["#84a338","#c2e075","#daebab","#daf2de","#56d6d4","#00bab5","#00807d"],8:["#84a338","#aad048","#c2e075","#daebab","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#84a338","#c2e075","#daf2de","#00bab5","#00807d"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 1"},"div-esribrand-yellowgreen-blue":{1:["#c2e075"],2:["#aad048","#007ac2"],3:["#aad048","#daf2de","#007ac2"],4:["#84a338","#c2e075","#50a7da","#00619b"],5:["#84a338","#c2e075","#daf2de","#50a7da","#00619b"],6:["#84a338","#c2e075","#daebab","#8cc9ed","#50a7da","#00619b"],7:["#84a338","#c2e075","#daebab","#daf2de","#8cc9ed","#50a7da","#00619b"],8:["#84a338","#aad048","#c2e075","#daebab","#bce4ee","#8cc9ed","#50a7da","#00619b"],9:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#bce4ee","#8cc9ed","#50a7da","#00619b"],10:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#bce4ee","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#84a338","#c2e075","#daf2de","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 2"},"div-esribrand-yellowgreen-violet":{1:["#c2e075"],2:["#aad048","#633b9b"],3:["#aad048","#e6e8da","#633b9b"],4:["#84a338","#c2e075","#987ac3","#4e2c7e"],5:["#84a338","#c2e075","#e6e8da","#987ac3","#4e2c7e"],6:["#84a338","#c2e075","#daebab","#c0aae1","#987ac3","#4e2c7e"],7:["#84a338","#c2e075","#daebab","#e6e8da","#c0aae1","#987ac3","#4e2c7e"],8:["#84a338","#aad048","#c2e075","#daebab","#dad0e6","#c0aae1","#987ac3","#4e2c7e"],9:["#84a338","#aad048","#c2e075","#daebab","#e6e8da","#dad0e6","#c0aae1","#987ac3","#4e2c7e"],10:["#84a338","#aad048","#c2e075","#daebab","#e6e8da","#dad0e6","#c0aae1","#987ac3","#633b9b","#4e2c7e"],stops:["#84a338","#c2e075","#e6e8da","#987ac3","#4e2c7e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 1"},"div-esribrand-yellowgreen-violetred":{1:["#c2e075"],2:["#aad048","#8e499b"],3:["#aad048","#ede9e2","#8e499b"],4:["#84a338","#c2e075","#b983c3","#73377e"],5:["#84a338","#c2e075","#ede9e2","#b983c3","#73377e"],6:["#84a338","#c2e075","#daebab","#daafe1","#b983c3","#73377e"],7:["#84a338","#c2e075","#daebab","#ede9e2","#daafe1","#b983c3","#73377e"],8:["#84a338","#aad048","#c2e075","#daebab","#e9d1e6","#daafe1","#b983c3","#73377e"],9:["#84a338","#aad048","#c2e075","#daebab","#ede9e2","#e9d1e6","#daafe1","#b983c3","#73377e"],10:["#84a338","#aad048","#c2e075","#daebab","#ede9e2","#e9d1e6","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#84a338","#c2e075","#ede9e2","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 2"},"div-esribrand-yellowgreen-brown":{1:["#c2e075"],2:["#aad048","#7b4f1c"],3:["#aad048","#f5f4cf","#7b4f1c"],4:["#84a338","#c2e075","#ad8b62","#664015"],5:["#84a338","#c2e075","#f5f4cf","#ad8b62","#664015"],6:["#84a338","#c2e075","#daebab","#d2b797","#ad8b62","#664015"],7:["#84a338","#c2e075","#daebab","#f5f4cf","#d2b797","#ad8b62","#664015"],8:["#84a338","#aad048","#c2e075","#daebab","#e6d8b6","#d2b797","#ad8b62","#664015"],9:["#84a338","#aad048","#c2e075","#daebab","#f5f4cf","#e6d8b6","#d2b797","#ad8b62","#664015"],10:["#84a338","#aad048","#c2e075","#daebab","#f5f4cf","#e6d8b6","#d2b797","#ad8b62","#7b4f1c","#664015"],stops:["#84a338","#c2e075","#f5f4cf","#ad8b62","#664015"],tags:["light","greens","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Brown 1"},"div-esribrand-yellowgreen-gray":{1:["#c2e075"],2:["#aad048","#666666"],3:["#aad048","#ecf2dd","#666666"],4:["#84a338","#c2e075","#999999","#404040"],5:["#84a338","#c2e075","#ecf2dd","#999999","#404040"],6:["#84a338","#c2e075","#daebab","#bcbcbc","#999999","#404040"],7:["#84a338","#c2e075","#daebab","#ecf2dd","#bcbcbc","#999999","#404040"],8:["#84a338","#aad048","#c2e075","#daebab","#d7dacf","#bcbcbc","#999999","#404040"],9:["#84a338","#aad048","#c2e075","#daebab","#ecf2dd","#d7dacf","#bcbcbc","#999999","#404040"],10:["#84a338","#aad048","#c2e075","#daebab","#ecf2dd","#d7dacf","#bcbcbc","#999999","#666666","#404040"],stops:["#84a338","#c2e075","#ecf2dd","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 1"},"div-esribrand-green-blue":{1:["#6bc878"],2:["#35ac46","#007ac2"],3:["#35ac46","#d2f7ed","#007ac2"],4:["#288835","#6bc878","#50a7da","#00619b"],5:["#288835","#6bc878","#d2f7ed","#50a7da","#00619b"],6:["#288835","#6bc878","#b0e6b8","#7dc4e3","#50a7da","#00619b"],7:["#288835","#6bc878","#b0e6b8","#d2f7ed","#7dc4e3","#50a7da","#00619b"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#abe2eb","#7dc4e3","#50a7da","#00619b"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#d2f7ed","#abe2eb","#7dc4e3","#50a7da","#00619b"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#d2f7ed","#abe2eb","#7dc4e3","#50a7da","#007ac2","#00619b"],stops:["#288835","#6bc878","#d2f7ed","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 3"},"div-esribrand-green-violet":{1:["#6bc878"],2:["#35ac46","#633b9b"],3:["#35ac46","#dfebe9","#633b9b"],4:["#288835","#6bc878","#987ac3","#4e2c7e"],5:["#288835","#6bc878","#dfebe9","#987ac3","#4e2c7e"],6:["#288835","#6bc878","#b0e6b8","#b2a2d2","#987ac3","#4e2c7e"],7:["#288835","#6bc878","#b0e6b8","#dfebe9","#b2a2d2","#987ac3","#4e2c7e"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#cccae1","#b2a2d2","#987ac3","#4e2c7e"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#dfebe9","#cccae1","#b2a2d2","#987ac3","#4e2c7e"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#dfebe9","#cccae1","#b2a2d2","#987ac3","#633b9b","#4e2c7e"],stops:["#288835","#6bc878","#dfebe9","#987ac3","#4e2c7e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 3"},"div-esribrand-green-violetred":{1:["#6bc878"],2:["#35ac46","#8e499b"],3:["#35ac46","#e2ebe7","#8e499b"],4:["#288835","#6bc878","#b983c3","#73377e"],5:["#288835","#6bc878","#e2ebe7","#b983c3","#73377e"],6:["#288835","#6bc878","#b0e6b8","#c9a8d1","#b983c3","#73377e"],7:["#288835","#6bc878","#b0e6b8","#e2ebe7","#c9a8d1","#b983c3","#73377e"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#d9cde0","#c9a8d1","#b983c3","#73377e"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#e2ebe7","#d9cde0","#c9a8d1","#b983c3","#73377e"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#e2ebe7","#d9cde0","#c9a8d1","#b983c3","#8e499b","#73377e"],stops:["#288835","#6bc878","#e2ebe7","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 4"},"div-esribrand-green-gray":{1:["#6bc878"],2:["#35ac46","#666666"],3:["#35ac46","#daeddd","#666666"],4:["#288835","#6bc878","#999999","#404040"],5:["#288835","#6bc878","#daeddd","#999999","#404040"],6:["#288835","#6bc878","#b0e6b8","#b1b8b2","#999999","#404040"],7:["#288835","#6bc878","#b0e6b8","#daeddd","#b1b8b2","#999999","#404040"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#c9d6cb","#b1b8b2","#999999","#404040"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#daeddd","#c9d6cb","#b1b8b2","#999999","#404040"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#daeddd","#c9d6cb","#b1b8b2","#999999","#666666","#404040"],stops:["#288835","#6bc878","#daeddd","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 2"},"div-esribrand-greenblue-blue":{1:["#00bab5"],2:["#009b98","#007ac2"],3:["#009b98","#d2f7ed","#007ac2"],4:["#00807d","#00bab5","#50a7da","#00619b"],5:["#00807d","#00bab5","#d2f7ed","#50a7da","#00619b"],6:["#00807d","#00bab5","#5ae0de","#8cc9ed","#50a7da","#00619b"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#8cc9ed","#50a7da","#00619b"],8:["#00807d","#009b98","#00bab5","#5ae0de","#bce4ee","#8cc9ed","#50a7da","#00619b"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#bce4ee","#8cc9ed","#50a7da","#00619b"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#bce4ee","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#00807d","#00bab5","#d2f7ed","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand"],name:"Esri Green and Blue 4"},"div-esribrand-greenblue-violetred":{1:["#00bab5"],2:["#009b98","#8e499b"],3:["#009b98","#d2f7ed","#8e499b"],4:["#00807d","#00bab5","#b983c3","#73377e"],5:["#00807d","#00bab5","#d2f7ed","#b983c3","#73377e"],6:["#00807d","#00bab5","#5ae0de","#daafe1","#b983c3","#73377e"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#daafe1","#b983c3","#73377e"],8:["#00807d","#009b98","#00bab5","#5ae0de","#e9d1e6","#daafe1","#b983c3","#73377e"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e9d1e6","#daafe1","#b983c3","#73377e"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e9d1e6","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#00807d","#00bab5","#d2f7ed","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 5"},"div-esribrand-greenblue-brown":{1:["#00bab5"],2:["#009b98","#7b4f1c"],3:["#009b98","#d2f7ed","#7b4f1c"],4:["#00807d","#00bab5","#ad8b62","#664015"],5:["#00807d","#00bab5","#d2f7ed","#ad8b62","#664015"],6:["#00807d","#00bab5","#5ae0de","#d2b797","#ad8b62","#664015"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#d2b797","#ad8b62","#664015"],8:["#00807d","#009b98","#00bab5","#5ae0de","#e6d8b6","#d2b797","#ad8b62","#664015"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e6d8b6","#d2b797","#ad8b62","#664015"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e6d8b6","#d2b797","#ad8b62","#7b4f1c","#664015"],stops:["#00807d","#00bab5","#d2f7ed","#ad8b62","#664015"],tags:["light","greens","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Brown 2"},"div-esribrand-greenblue-gray":{1:["#00bab5"],2:["#009b98","#666666"],3:["#009b98","#d2f7ed","#666666"],4:["#00807d","#00bab5","#999999","#404040"],5:["#00807d","#00bab5","#d2f7ed","#999999","#404040"],6:["#00807d","#00bab5","#5ae0de","#bcbcbc","#999999","#404040"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#bcbcbc","#999999","#404040"],8:["#00807d","#009b98","#00bab5","#5ae0de","#d7dacf","#bcbcbc","#999999","#404040"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#d7dacf","#bcbcbc","#999999","#404040"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#d7dacf","#bcbcbc","#999999","#666666","#404040"],stops:["#00807d","#00bab5","#d2f7ed","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 3"},"div-esribrand-blue-brown":{1:["#50a7da"],2:["#007ac2","#7b4f1c"],3:["#007ac2","#d3e6e3","#7b4f1c"],4:["#00619b","#50a7da","#ad8b62","#664015"],5:["#00619b","#50a7da","#d3e6e3","#ad8b62","#664015"],6:["#00619b","#50a7da","#9bcde5","#c0ad91","#ad8b62","#664015"],7:["#00619b","#50a7da","#9bcde5","#d3e6e3","#c0ad91","#ad8b62","#664015"],8:["#00619b","#007ac2","#50a7da","#9bcde5","#d3d0c1","#c0ad91","#ad8b62","#664015"],9:["#00619b","#007ac2","#50a7da","#9bcde5","#d3e6e3","#d3d0c1","#c0ad91","#ad8b62","#664015"],10:["#00619b","#007ac2","#50a7da","#9bcde5","#d3e6e3","#d3d0c1","#c0ad91","#ad8b62","#7b4f1c","#664015"],stops:["#00619b","#50a7da","#d3e6e3","#ad8b62","#664015"],tags:["light","blues","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Blue and Brown 1"},"div-esribrand-blue-gray":{1:["#50a7da"],2:["#007ac2","#666666"],3:["#007ac2","#d7e3eb","#666666"],4:["#00619b","#50a7da","#999999","#404040"],5:["#00619b","#50a7da","#d7e3eb","#999999","#404040"],6:["#00619b","#50a7da","#9bcde5","#b0b4b7","#999999","#404040"],7:["#00619b","#50a7da","#9bcde5","#d7e3eb","#b0b4b7","#999999","#404040"],8:["#00619b","#007ac2","#50a7da","#9bcde5","#c8d0d4","#b0b4b7","#999999","#404040"],9:["#00619b","#007ac2","#50a7da","#9bcde5","#d7e3eb","#c8d0d4","#b0b4b7","#999999","#404040"],10:["#00619b","#007ac2","#50a7da","#9bcde5","#d7e3eb","#c8d0d4","#b0b4b7","#999999","#666666","#404040"],stops:["#00619b","#50a7da","#d7e3eb","#999999","#404040"],tags:["light","blues","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Blue and Gray 1"},"div-esribrand-violet-brown":{1:["#987ac3"],2:["#6940a1","#7b4f1c"],3:["#6940a1","#faeff4","#7b4f1c"],4:["#4e2c7e","#987ac3","#ad8b62","#664015"],5:["#4e2c7e","#987ac3","#faeff4","#ad8b62","#664015"],6:["#4e2c7e","#987ac3","#decef7","#c7ac93","#ad8b62","#664015"],7:["#4e2c7e","#987ac3","#decef7","#faeff4","#c7ac93","#ad8b62","#664015"],8:["#4e2c7e","#6940a1","#987ac3","#decef7","#e0cec3","#c7ac93","#ad8b62","#664015"],9:["#4e2c7e","#6940a1","#987ac3","#decef7","#faeff4","#e0cec3","#c7ac93","#ad8b62","#664015"],10:["#4e2c7e","#6940a1","#987ac3","#decef7","#faeff4","#e0cec3","#c7ac93","#ad8b62","#7b4f1c","#664015"],stops:["#4e2c7e","#987ac3","#faeff4","#ad8b62","#664015"],tags:["light","purples","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Brown 1"},"esribrand-violet-gray":{1:["#987ac3"],2:["#6940a1","#666666"],3:["#6940a1","#f4effa","#666666"],4:["#4e2c7e","#987ac3","#999999","#404040"],5:["#4e2c7e","#987ac3","#f4effa","#999999","#404040"],6:["#4e2c7e","#987ac3","#decef7","#b7b6b9","#999999","#404040"],7:["#4e2c7e","#987ac3","#decef7","#f4effa","#b7b6b9","#999999","#404040"],8:["#4e2c7e","#6940a1","#987ac3","#decef7","#d6d2da","#b7b6b9","#999999","#404040"],9:["#4e2c7e","#6940a1","#987ac3","#decef7","#f4effa","#d6d2da","#b7b6b9","#999999","#404040"],10:["#4e2c7e","#6940a1","#987ac3","#decef7","#f4effa","#d6d2da","#b7b6b9","#999999","#666666","#404040"],stops:["#4e2c7e","#987ac3","#f4effa","#999999","#404040"],tags:["light","purples","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Gray 1"},"div-esribrand-violetred-gray":{1:["#b983c3"],2:["#8e499b","#666666"],3:["#8e499b","#eee1f0","#666666"],4:["#73377e","#b983c3","#999999","#404040"],5:["#73377e","#b983c3","#eee1f0","#999999","#404040"],6:["#73377e","#b983c3","#ebc8f0","#b0b4b7","#999999","#404040"],7:["#73377e","#b983c3","#ebc8f0","#eee1f0","#b0b4b7","#999999","#404040"],8:["#73377e","#8e499b","#b983c3","#ebc8f0","#d5cfd6","#b0b4b7","#999999","#404040"],9:["#73377e","#8e499b","#b983c3","#ebc8f0","#eee1f0","#d5cfd6","#b0b4b7","#999999","#404040"],10:["#73377e","#8e499b","#b983c3","#ebc8f0","#eee1f0","#d5cfd6","#b0b4b7","#999999","#666666","#404040"],stops:["#73377e","#b983c3","#eee1f0","#999999","#404040"],tags:["light","purples","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Gray 2"},"div-esribrand-brown-gray":{1:["#ad8b62"],2:["#7b4f1c","#666666"],3:["#7b4f1c","#f0e9df","#666666"],4:["#664015","#ad8b62","#999999","#404040"],5:["#664015","#ad8b62","#f0e9df","#999999","#404040"],6:["#664015","#ad8b62","#ebd5b7","#b0b4b7","#999999","#404040"],7:["#664015","#ad8b62","#ebd5b7","#f0e9df","#b0b4b7","#999999","#404040"],8:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#d6d3ce","#b0b4b7","#999999","#404040"],9:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#f0e9df","#d6d3ce","#b0b4b7","#999999","#404040"],10:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#f0e9df","#d6d3ce","#b0b4b7","#999999","#666666","#404040"],stops:["#664015","#ad8b62","#f0e9df","#999999","#404040"],tags:["light","browns","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Brown and Gray 1"},"highlight-orange":{3:["rgba(165,50,23,0.40)","rgba(165,50,23,1.0)","rgba(165,50,23,0.40)"],5:["rgba(165,50,23,0.20)","rgba(165,50,23,0.60)","rgba(165,50,23,1.0)","rgba(165,50,23,0.60)","rgba(165,50,23,0.20)"],7:["rgba(165,50,23,0.10)","rgba(165,50,23,0.40)","rgba(165,50,23,0.70)","rgba(165,50,23,1.0)","rgba(165,50,23,0.70)","rgba(165,50,23,0.40)","rgba(165,50,23,0.10)"],9:["rgba(165,50,23,0.10)","rgba(165,50,23,0.33)","rgba(165,50,23,0.55)","rgba(165,50,23,0.78)","rgba(165,50,23,1.0)","rgba(165,50,23,0.78)","rgba(165,50,23,0.55)","rgba(165,50,23,0.33)","rgba(165,50,23,0.10)"],stops:["rgba(165,50,23,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1.0)","rgba(165,50,23,0.5)","rgba(165,50,23,0)"],tags:["light","reds","centered-on","colorblind-friendly"],name:"Centered on Red 1"},"highlight-bluegreen":{3:["rgba(0,66,56,0.40)","rgba(0,66,56,1.0)","rgba(0,66,56,0.40)"],5:["rgba(0,66,56,0.20)","rgba(0,66,56,0.60)","rgba(0,66,56,1.0)","rgba(0,66,56,0.60)","rgba(0,66,56,0.20)"],7:["rgba(0,66,56,0.10)","rgba(10,66,56,0.40)","rgba(0,66,56,0.70)","rgba(0,66,56,1.0)","rgba(0,66,56,0.70)","rgba(0,66,56,0.40)","rgba(0,66,56,0.10)"],9:["rgba(0,66,56,0.10)","rgba(0,66,56,0.33)","rgba(0,66,56,0.55)","rgba(0,66,56,0.78)","rgba(0,66,56,1.0)","rgba(0,66,56,0.78)","rgba(0,66,56,0.55)","rgba(0,66,56,0.33)","rgba(0,66,56,0.10)"],stops:["rgba(0,66,56,0)","rgba(0,66,56,0.5)","rgba(0,66,56,1.0)","rgba(0,66,56,0.5)","rgba(0,66,56,0)"],tags:["light","greens","centered-on","colorblind-friendly"],name:"Centered on Green 1"},"highlight-red":{3:["rgba(153,11,11,0.40)","rgba(153,11,11,1.0)","rgba(153,11,11,0.40)"],5:["rgba(153,11,11,0.20)","rgba(153,11,11,0.60)","rgba(153,11,11,1.0)","rgba(153,11,11,0.60)","rgba(153,11,11,0.20)"],7:["rgba(153,11,11,0.10)","rgba(153,11,11,0.40)","rgba(153,11,11,0.70)","rgba(153,11,11,1.0)","rgba(153,11,11,0.70)","rgba(153,11,11,0.40)","rgba(153,11,11,0.10)"],9:["rgba(153,11,11,0.10)","rgba(153,11,11,0.33)","rgba(153,11,11,0.55)","rgba(153,11,11,0.78)","rgba(153,11,11,1.0)","rgba(153,11,11,0.78)","rgba(153,11,11,0.55)","rgba(153,11,11,0.33)","rgba(153,11,11,0.10)"],stops:["rgba(153,11,11,0)","rgba(153,11,11,0.5)","rgba(153,11,11,1.0)","rgba(153,11,11,0.5)","rgba(153,11,11,0)"],tags:["reds","centered-on","bright","light","colorblind-friendly"],name:"Centered on Red 2"},"highlight-orange-dark":{3:["rgba(107,38,0,0.40)","rgba(107,38,0,1.0)","rgba(107,38,0,0.40)"],5:["rgba(107,38,0,0.20)","rgba(107,38,0,0.60)","rgba(107,38,0,1.0)","rgba(107,38,0,0.60)","rgba(107,38,0,0.20)"],7:["rgba(107,38,0,0.10)","rgba(107,38,0,0.40)","rgba(107,38,0,0.70)","rgba(107,38,0,1.0)","rgba(107,38,0,0.70)","rgba(107,38,0,0.40)","rgba(107,38,0,0.10)"],9:["rgba(107,38,0,0.10)","rgba(107,38,0,0.33)","rgba(107,38,0,0.55)","rgba(107,38,0,0.78)","rgba(107,38,0,1.0)","rgba(107,38,0,0.78)","rgba(107,38,0,0.55)","rgba(107,38,0,0.33)","rgba(107,38,0,0.10)"],stops:["rgba(107,38,0,0)","rgba(107,38,0,0.5)","rgba(107,38,0,1.0)","rgba(107,38,0,0.5)","rgba(107,38,0,0)"],tags:["light","browns","centered-on","colorblind-friendly"],name:"Centered on Red 3"},"highlight-orange-bright":{3:["rgba(255,179,57,0.40)","rgba(255,179,57,1.0)","rgba(255,179,57,0.40)"],5:["rgba(255,179,57,0.20)","rgba(255,179,57,0.60)","rgba(255,179,57,1.0)","rgba(255,179,57,0.60)","rgba(255,179,57,0.20)"],7:["rgba(255,179,57,0.10)","rgba(255,179,57,0.40)","rgba(255,179,57,0.70)","rgba(255,179,57,1.0)","rgba(255,179,57,0.70)","rgba(255,179,57,0.40)","rgba(255,179,57,0.10)"],9:["rgba(255,179,57,0.10)","rgba(255,179,57,0.33)","rgba(255,179,57,0.55)","rgba(255,179,57,0.78)","rgba(255,179,57,1.0)","rgba(255,179,57,0.78)","rgba(255,179,57,0.55)","rgba(255,179,57,0.33)","rgba(255,179,57,0.10)"],stops:["rgba(255,179,57,0)","rgba(255,179,57,0.5)","rgba(255,179,57,1.0)","rgba(255,179,57,0.5)","rgba(255,179,57,0)"],tags:["yellows","centered-on","bright","dark","colorblind-friendly"],name:"Centered on Yellow 1"},"highlight-purple":{3:["rgba(65,27,109,0.40)","rgba(65,27,109,1.0)","rgba(65,27,109,0.40)"],5:["rgba(65,27,109,0.20)","rgba(65,27,109,0.60)","rgba(65,27,109,1.0)","rgba(65,27,109,0.60)","rgba(65,27,109,0.20)"],7:["rgba(65,27,109,0.10)","rgba(65,27,109,0.40)","rgba(65,27,109,0.70)","rgba(65,27,109,1.0)","rgba(65,27,109,0.70)","rgba(65,27,109,0.40)","rgba(65,27,109,0.10)"],9:["rgba(65,27,109,0.10)","rgba(65,27,109,0.33)","rgba(65,27,109,0.55)","rgba(65,27,109,0.78)","rgba(65,27,109,1.0)","rgba(65,27,109,0.78)","rgba(65,27,109,0.55)","rgba(65,27,109,0.33)","rgba(65,27,109,0.10)"],stops:["rgba(65,27,109,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1.0)","rgba(65,27,109,0.5)","rgba(65,27,109,0)"],tags:["light","purples","centered-on","colorblind-friendly"],name:"Centered on Purple 1"},"highlight-pink":{3:["rgba(87,9,89,0.40)","rgba(87,9,89,1.0)","rgba(87,9,89,0.40)"],5:["rgba(87,9,89,0.20)","rgba(87,9,89,0.60)","rgba(87,9,89,1.0)","rgba(87,9,89,0.60)","rgba(87,9,89,0.20)"],7:["rgba(87,9,89,0.10)","rgba(87,9,89,0.40)","rgba(87,9,89,0.70)","rgba(87,9,89,1.0)","rgba(87,9,89,0.70)","rgba(87,9,89,0.40)","rgba(87,9,89,0.10)"],9:["rgba(87,9,89,0.10)","rgba(87,9,89,0.33)","rgba(87,9,89,0.55)","rgba(87,9,89,0.78)","rgba(87,9,89,1.0)","rgba(87,9,89,0.78)","rgba(87,9,89,0.55)","rgba(87,9,89,0.33)","rgba(87,9,89,0.10)"],stops:["rgba(87,9,89,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1.0)","rgba(87,9,89,0.5)","rgba(87,9,89,0)"],tags:["light","purples","centered-on","colorblind-friendly"],name:"Centered on Purple 2"},"highlight-blue":{3:["rgba(16,48,94,0.40)","rgba(16,48,94,1.0)","rgba(16,48,94,0.40)"],5:["rgba(16,48,94,0.20)","rgba(16,48,94,0.60)","rgba(16,48,94,1.0)","rgba(16,48,94,0.60)","rgba(16,48,94,0.20)"],7:["rgba(16,48,94,0.10)","rgba(16,48,94,0.40)","rgba(16,48,94,0.70)","rgba(16,48,94,1.0)","rgba(16,48,94,0.70)","rgba(16,48,94,0.40)","rgba(16,48,94,0.10)"],9:["rgba(16,48,94,0.10)","rgba(16,48,94,0.33)","rgba(16,48,94,0.55)","rgba(16,48,94,0.78)","rgba(16,48,94,1.0)","rgba(16,48,94,0.78)","rgba(16,48,94,0.55)","rgba(16,48,94,0.33)","rgba(16,48,94,0.10)"],stops:["rgba(16,48,94,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1.0)","rgba(16,48,94,0.5)","rgba(16,48,94,0)"],tags:["light","blues","centered-on","colorblind-friendly"],name:"Centered on Blue 1"},"highlight-blue-dark":{3:["rgba(0,38,73,0.40)","rgba(0,38,73,1.0)","rgba(0,38,73,0.40)"],5:["rgba(0,38,73,0.20)","rgba(0,38,73,0.60)","rgba(0,38,73,1.0)","rgba(0,38,73,0.60)","rgba(0,38,73,0.20)"],7:["rgba(0,38,73,0.10)","rgba(10,38,73,0.40)","rgba(0,38,73,0.70)","rgba(0,38,73,1.0)","rgba(0,38,73,0.70)","rgba(0,38,73,0.40)","rgba(0,38,73,0.10)"],9:["rgba(0,38,73,0.10)","rgba(0,38,73,0.33)","rgba(0,38,73,0.55)","rgba(0,38,73,0.78)","rgba(0,38,73,1.0)","rgba(0,38,73,0.78)","rgba(0,38,73,0.55)","rgba(0,38,73,0.33)","rgba(0,38,73,0.10)"],stops:["rgba(0,38,73,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1.0)","rgba(0,38,73,0.5)","rgba(0,38,73,0)"],tags:["light","blues","centered-on","colorblind-friendly"],name:"Centered on Blue 2"},"highlight-blue-bright":{3:["rgba(117,239,221,0.40)","rgba(117,239,221,1.0)","rgba(117,239,221,0.40)"],5:["rgba(117,239,221,0.20)","rgba(117,239,221,0.60)","rgba(117,239,221,1.0)","rgba(117,239,221,0.60)","rgba(117,239,221,0.20)"],7:["rgba(117,239,221,0.10)","rgba(117,239,221,0.40)","rgba(117,239,221,0.70)","rgba(117,239,221,1.0)","rgba(117,239,221,0.70)","rgba(117,239,221,0.40)","rgba(117,239,221,0.10)"],9:["rgba(117,239,221,0.10)","rgba(117,239,221,0.33)","rgba(117,239,221,0.55)","rgba(117,239,221,0.78)","rgba(117,239,221,1.0)","rgba(117,239,221,0.78)","rgba(117,239,221,0.55)","rgba(117,239,221,0.33)","rgba(117,239,221,0.10)"],stops:["rgba(117,239,221,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1.0)","rgba(117,239,221,0.5)","rgba(117,239,221,0)"],tags:["blues","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Blue 3"},"highlight-orange-gray":{3:["#bf9990","#a53217","#bf9990"],5:["#cccccc","#b97f72","#a53217","#b97f72","#cccccc"],7:["#cccccc","#bf9990","#b26553","#a53217","#b26553","#bf9990","#cccccc"],9:["#cccccc","#c2a69f","#b97f72","#af5944","#a53217","#af5944","#b97f72","#c2a69f","#cccccc"],stops:["#cccccc","#b97f72","#a53217","#b97f72","#cccccc"],tags:["reds","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 4"},"highlight-bluegreen-gray":{3:["#889e9b","#004238","#889e9b"],5:["#cccccc","#668782","#004238","#668782","#cccccc"],7:["#cccccc","#889e9b","#447069","#004238","#447069","#889e9b","#cccccc"],9:["#cccccc","#99aaa7","#668782","#33655d","#004238","#33655d","#668782","#99aaa7","#cccccc"],stops:["#cccccc","#668782","#004238","#668782","#cccccc"],tags:["greens","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Green 2"},"highlight-red-gray":{3:["#bb8c8c","#990b0b","#bb8c8c"],5:["#cccccc","#b36c6c","#990b0b","#b36c6c","#cccccc"],7:["#cccccc","#bb8c8c","#aa4b4b","#990b0b","#aa4b4b","#bb8c8c","#cccccc"],9:["#cccccc","#bf9c9c","#b36c6c","#a63b3b","#990b0b","#a63b3b","#b36c6c","#bf9c9c","#cccccc"],stops:["#cccccc","#b36c6c","#990b0b","#b36c6c","#cccccc"],tags:["reds","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 5"},"highlight-orange-gray-dark":{3:["#ac9588","#6b2600","#ac9588"],5:["#cccccc","#9c7966","#6b2600","#9c7966","#cccccc"],7:["#cccccc","#ac9588","#8b5d44","#6b2600","#8b5d44","#ac9588","#cccccc"],9:["#cccccc","#b4a399","#9c7966","#835033","#6b2600","#835033","#9c7966","#b4a399","#cccccc"],stops:["#cccccc","#9c7966","#6b2600","#9c7966","#cccccc"],tags:["browns","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 6"},"highlight-orange-gray-bright":{3:["#775e35","#ffb339","#775e35"],5:["#333333","#997336","#ffb339","#997336","#333333"],7:["#333333","#775e35","#bb8837","#ffb339","#bb8837","#775e35","#333333"],9:["#333333","#665335","#997336","#cc9338","#ffb339","#cc9338","#997336","#665335","#333333"],stops:["#333333","#997336","#ffb339","#997336","#333333"],tags:["yellows","centered-on","bright","dark","colorblind-friendly"],name:"Centered on Yellow 2"},"highlight-purple-gray":{3:["#9e91ac","#411b6d","#9e91ac"],5:["#cccccc","#87749d","#411b6d","#87749d","#cccccc"],7:["#cccccc","#9e91ac","#6f568d","#411b6d","#6f568d","#9e91ac","#cccccc"],9:["#cccccc","#a9a0b4","#87749d","#644785","#411b6d","#644785","#87749d","#a9a0b4","#cccccc"],stops:["#cccccc","#87749d","#411b6d","#87749d","#cccccc"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 3"},"highlight-pink-gray":{3:["#a58ba6","#570959","#a58ba6"],5:["#cccccc","#926b93","#570959","#926b93","#cccccc"],7:["#cccccc","#a58ba6","#7e4a7f","#570959","#7e4a7f","#a58ba6","#cccccc"],9:["#cccccc","#af9baf","#926b93","#743a76","#570959","#743a76","#926b93","#af9baf","#cccccc"],stops:["#cccccc","#926b93","#570959","#926b93","#cccccc"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 4"},"highlight-blue-gray":{3:["#8d98a7","#10305e","#8d98a7"],5:["#cccccc","#6e7e95","#10305e","#6e7e95","#cccccc"],7:["#cccccc","#8d98a7","#4f6483","#10305e","#4f6483","#8d98a7","#cccccc"],9:["#cccccc","#9da5b1","#6e7e95","#3f577a","#10305e","#3f577a","#6e7e95","#9da5b1","#cccccc"],stops:["#cccccc","#6e7e95","#10305e","#6e7e95","#cccccc"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 4"},"highlight-blue-gray-dark":{3:["#8895a0","#002649","#8895a0"],5:["#cccccc","#66798b","#002649","#66798b","#cccccc"],7:["#cccccc","#8895a0","#445d75","#002649","#445d75","#8895a0","#cccccc"],9:["#cccccc","#99a3ab","#66798b","#33506a","#002649","#33506a","#66798b","#99a3ab","#cccccc"],stops:["#cccccc","#66798b","#002649","#66798b","#cccccc"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 5"},"highlight-blue-gray-bright":{3:["#49726c","#75efdd","#49726c"],5:["#333333","#549188","#75efdd","#549188","#333333"],7:["#333333","#49726c","#5fb0a4","#75efdd","#5fb0a4","#49726c","#333333"],9:["#333333","#44625e","#549188","#65c0b3","#75efdd","#65c0b3","#549188","#44625e","#333333"],stops:["#333333","#549188","#75efdd","#549188","#333333"],tags:["blues","greens","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Green 3"},"highlight-red-gray-bright":{stops:["#4d414d","#a63a55","#ff4141","#a63a55","#4d414d"],tags:["reds","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Red 7"},"highlight-purple-gray-bright":{stops:["#4c374d","#7e3ca6","#b44dff","#7e3ca6","#4c374d"],tags:["purples","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Purple 5"},"highlight-blue-bright-gray-bright":{stops:["#383855","#2c6f9e","#40bfff","#2c6f9e","#383855"],tags:["blues","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Blue 6"},"highlight-green-gray-bright":{stops:["#2f4147","#18a064","#00ff78","#18a064","#2f4147"],tags:["greens","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Green 4"},"highlight-yellow-gray-bright":{stops:["#41472e","#878c34","#f9ff5a","#878c34","#41472e"],tags:["yellows","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Yellow 3"},"highlight-pink-gray-dark":{stops:["#bbb8cc","#995c99","#a6004e","#995c99","#bbb8cc"],tags:["purples","pinks","centered-on","light","colorblind-friendly"],name:"Centered on Pink 1"},"highlight-purple-gray-dark":{stops:["#bdb8d9","#835fa6","#7f0099","#835fa6","#bdb8d9"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 6"},"highlight-blue-bright-gray-dark":{stops:["#c2cff2","#6187f2","#003df2","#6187f2","#c2cff2"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 7"},"highlight-green-gray-dark":{stops:["#b8d5d9","#4d9a94","#00735f","#4d9a94","#b8d5d9"],tags:["greens","centered-on","light","colorblind-friendly"],name:"Centered on Green 5"},"highlight-brown-gray-dark":{stops:["#ccbdad","#b38657","#994e00","#b38657","#ccbdad"],tags:["browns","centered-on","light","colorblind-friendly"],name:"Centered on Brown 1"},"extremesdiv-bluegreen-yellow-orange":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1)"],tags:["reds","greens","extremes","light","colorblind-friendly"],name:"Red and Green Extremes 1"},"extremesdiv-orange-yellow-blue-light":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 1"},"extremesdiv-green-yellow-redpurple":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(102,0,22,0.5)","rgba(102,0,22,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 2"},"extremesdiv-green-yellow-orange":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 3"},"extremesdiv-orange-purple":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["reds","purples","extremes","light","colorblind-friendly"],name:"Purple and Red Extremes 1"},"extremesdiv-bluegreen-purple":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 1"},"extremesdiv-orange-pink":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["reds","purples","extremes","light","colorblind-friendly"],name:"Purple and Red Extremes 2"},"extremesdiv-redpurple-blue":{stops:["rgba(102,0,22,1)","rgba(102,0,22,0.5)","rgba(255,255,255,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 2"},"extremesdiv-green-pink":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 2"},"extremesdiv-bluegreen-redpurple":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(102,0,22,0.5)","rgba(102,0,22,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 5"},"extremesdiv-red-yellow-pink":{stops:["rgba(153,11,11,1)","rgba(153,11,11,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["reds","purples","extremes","light","colorblind-friendly"],name:"Purple and Red Extremes 3"},"extremesdiv-blue-green":{stops:["rgba(16,48,94,1)","rgba(16,48,94,0.5)","rgba(255,255,255,0)","rgba(56,73,3,0.5)","rgba(56,73,3,1)"],tags:["greens","blues","extremes","light","colorblind-friendly"],name:"Green and Blue Extremes 1"},"extremesdiv-bluegreen-pink":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 3"},"extremesdiv-orange-yellow-blue-dark":{stops:["rgba(107,38,0,1)","rgba(107,38,0,0.5)","rgba(255,255,255,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 4"},"extremesdiv-red-yellow-purple":{stops:["rgba(153,11,11,1)","rgba(153,11,11,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["reds","purples","extremes","light","colorblind-friendly"],name:"Purple and Red Extremes 4"},"extremesdiv-orange-blue":{stops:["rgba(255,179,57,1)","rgba(255,179,57,0.5)","rgba(255,255,255,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1)"],tags:["yellows","blues","greens","extremes","dark","bright","colorblind-friendly"],name:"Blue and Orange Extremes 1"},"extremesdiv-yellow-purple":{stops:["rgba(255,237,133,1)","rgba(255,237,133,0.5)","rgba(255,255,255,0)","rgba(235,160,249,0.5)","rgba(235,160,249,1)"],tags:["yellows","purples","extremes","dark","bright","colorblind-friendly"],name:"Purple and Yellow Extremes 1"},"extremesdiv-red-blue":{stops:["rgba(255,136,136,1)","rgba(255,136,136,0.5)","rgba(255,255,255,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1)"],tags:["pinks","reds","blues","extremes","dark","bright","colorblind-friendly"],name:"Blue and Red Extremes 5"},"extremesdiv-green-purple":{stops:["rgba(139,239,139,1)","rgba(139,239,139,0.5)","rgba(255,255,255,0)","rgba(235,160,249,0.5)","rgba(235,160,249,1)"],tags:["purples","greens","extremes","dark","bright","colorblind-friendly"],name:"Purple and Green Extremes 4"},"extremes-orange":{3:["rgba(165,50,23,1.0)","rgba(165,50,23,0.40)","rgba(165,50,23,1.0)"],5:["rgba(165,50,23,1.0)","rgba(165,50,23,0.60)","rgba(165,50,23,0.20)","rgba(165,50,23,0.60)","rgba(165,50,23,1.0)"],7:["rgba(165,50,23,1.0)","rgba(165,50,23,0.70)","rgba(165,50,23,0.40)","rgba(165,50,23,0.10)","rgba(165,50,23,0.40)","rgba(165,50,23,0.70)","rgba(165,50,23,1.0)"],9:["rgba(165,50,23,1.0)","rgba(165,50,23,0.78)","rgba(165,50,23,0.55)","rgba(165,50,23,0.33)","rgba(165,50,23,0.10)","rgba(165,50,23,0.33)","rgba(165,50,23,0.55)","rgba(165,50,23,0.78)","rgba(165,50,23,1.0)"],stops:["rgba(165,50,23,1.0)","rgba(165,50,23,0.5)","rgba(165,50,23,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1.0)"],tags:["reds","extremes","light","colorblind-friendly"],name:"Red Extremes 1"},"extremes-bluegreen":{3:["rgba(0,66,56,1.0)","rgba(0,66,56,0.40)","rgba(0,66,56,1.0)"],5:["rgba(0,66,56,1.0)","rgba(0,66,56,0.60)","rgba(0,66,56,0.20)","rgba(0,66,56,0.60)","rgba(0,66,56,1.0)"],7:["rgba(0,66,56,1.0)","rgba(0,66,56,0.70)","rgba(0,66,56,0.40)","rgba(0,66,56,0.10)","rgba(0,66,56,0.40)","rgba(0,66,56,0.70)","rgba(0,66,56,1.0)"],9:["rgba(0,66,56,1.0)","rgba(0,66,56,0.78)","rgba(0,66,56,0.55)","rgba(0,66,56,0.33)","rgba(0,66,56,0.10)","rgba(0,66,56,0.33)","rgba(0,66,56,0.55)","rgba(0,66,56,0.78)","rgba(0,66,56,1.0)"],stops:["rgba(0,66,56,1.0)","rgba(0,66,56,0.5)","rgba(0,66,56,0)","rgba(0,66,56,0.5)","rgba(0,66,56,1.0)"],tags:["greens","extremes","light","colorblind-friendly"],name:"Green Extremes 1"},"extremes-red":{3:["rgba(153,11,11,1.0)","rgba(153,11,11,0.40)","rgba(153,11,11,1.0)"],5:["rgba(153,11,11,1.0)","rgba(153,11,11,0.60)","rgba(153,11,11,0.20)","rgba(153,11,11,0.60)","rgba(153,11,11,1.0)"],7:["rgba(153,11,11,1.0)","rgba(153,11,11,0.70)","rgba(153,11,11,0.40)","rgba(153,11,11,0.10)","rgba(153,11,11,0.40)","rgba(153,11,11,0.70)","rgba(153,11,11,1.0)"],9:["rgba(153,11,11,1.0)","rgba(153,11,11,0.78)","rgba(153,11,11,0.55)","rgba(153,11,11,0.33)","rgba(153,11,11,0.10)","rgba(153,11,11,0.33)","rgba(153,11,11,0.55)","rgba(153,11,11,0.78)","rgba(153,11,11,1.0)"],stops:["rgba(153,11,11,1.0)","rgba(153,11,11,0.5)","rgba(153,11,11,0)","rgba(153,11,11,0.5)","rgba(153,11,11,1.0)"],tags:["reds","extremes","light","colorblind-friendly"],name:"Red Extremes 2"},"extremes-orange-dark":{3:["rgba(107,38,0,1.0)","rgba(107,38,0,0.40)","rgba(107,38,0,1.0)"],5:["rgba(107,38,0,1.0)","rgba(107,38,0,0.60)","rgba(107,38,0,0.20)","rgba(107,38,0,0.60)","rgba(107,38,0,1.0)"],7:["rgba(107,38,0,1.0)","rgba(107,38,0,0.70)","rgba(107,38,0,0.40)","rgba(107,38,0,0.10)","rgba(107,38,0,0.40)","rgba(107,38,0,0.70)","rgba(107,38,0,1.0)"],9:["rgba(107,38,0,1.0)","rgba(107,38,0,0.78)","rgba(107,38,0,0.55)","rgba(107,38,0,0.33)","rgba(107,38,0,0.10)","rgba(107,38,0,0.33)","rgba(107,38,0,0.55)","rgba(107,38,0,0.78)","rgba(107,38,0,1.0)"],stops:["rgba(107,38,0,1.0)","rgba(107,38,0,0.5)","rgba(107,38,0,0)","rgba(107,38,0,0.5)","rgba(107,38,0,1.0)"],tags:["extremes","browns","light","colorblind-friendly"],name:"Red Extremes 3"},"extremes-orange-bright":{3:["rgba(255,179,57,1.0)","rgba(255,179,57,0.40)","rgba(255,179,57,1.0)"],5:["rgba(255,179,57,1.0)","rgba(255,179,57,0.60)","rgba(255,179,57,0.20)","rgba(255,179,57,0.60)","rgba(255,179,57,1.0)"],7:["rgba(255,179,57,1.0)","rgba(255,179,57,0.70)","rgba(255,179,57,0.40)","rgba(255,179,57,0.10)","rgba(255,179,57,0.40)","rgba(255,179,57,0.70)","rgba(255,179,57,1.0)"],9:["rgba(255,179,57,1.0)","rgba(255,179,57,0.78)","rgba(255,179,57,0.55)","rgba(255,179,57,0.33)","rgba(255,179,57,0.10)","rgba(255,179,57,0.33)","rgba(255,179,57,0.55)","rgba(255,179,57,0.78)","rgba(255,179,57,1.0)"],stops:["rgba(255,179,57,1.0)","rgba(255,179,57,0.5)","rgba(255,179,57,0)","rgba(255,179,57,0.5)","rgba(255,179,57,1.0)"],tags:["oranges","extremes","bright","dark","colorblind-friendly"],name:"Yellow Extremes 1"},"extremes-purple":{3:["rgba(65,27,109,1.0)","rgba(65,27,109,0.40)","rgba(65,27,109,1.0)"],5:["rgba(65,27,109,1.0)","rgba(65,27,109,0.60)","rgba(65,27,109,0.20)","rgba(65,27,109,0.60)","rgba(65,27,109,1.0)"],7:["rgba(65,27,109,1.0)","rgba(65,27,109,0.70)","rgba(65,27,109,0.40)","rgba(65,27,109,0.10)","rgba(65,27,109,0.40)","rgba(65,27,109,0.70)","rgba(65,27,109,1.0)"],9:["rgba(65,27,109,1.0)","rgba(65,27,109,0.78)","rgba(65,27,109,0.55)","rgba(65,27,109,0.33)","rgba(65,27,109,0.10)","rgba(65,27,109,0.33)","rgba(65,27,109,0.55)","rgba(65,27,109,0.78)","rgba(65,27,109,1.0)"],stops:["rgba(65,27,109,1.0)","rgba(65,27,109,0.5)","rgba(65,27,109,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1.0)"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 1"},"extremes-pink":{3:["rgba(87,9,89,1.0)","rgba(87,9,89,0.40)","rgba(87,9,89,1.0)"],5:["rgba(87,9,89,1.0)","rgba(87,9,89,0.60)","rgba(87,9,89,0.20)","rgba(87,9,89,0.60)","rgba(87,9,89,1.0)"],7:["rgba(87,9,89,1.0)","rgba(87,9,89,0.70)","rgba(87,9,89,0.40)","rgba(87,9,89,0.10)","rgba(87,9,89,0.40)","rgba(87,9,89,0.70)","rgba(87,9,89,1.0)"],9:["rgba(87,9,89,1.0)","rgba(87,9,89,0.78)","rgba(87,9,89,0.55)","rgba(87,9,89,0.33)","rgba(87,9,89,0.10)","rgba(87,9,89,0.33)","rgba(87,9,89,0.55)","rgba(87,9,89,0.78)","rgba(87,9,89,1.0)"],stops:["rgba(87,9,89,1.0)","rgba(87,9,89,0.5)","rgba(87,9,89,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1.0)"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 2"},"extremes-blue":{3:["rgba(16,48,94,1.0)","rgba(16,48,94,0.40)","rgba(16,48,94,1.0)"],5:["rgba(16,48,94,1.0)","rgba(16,48,94,0.60)","rgba(16,48,94,0.20)","rgba(16,48,94,0.60)","rgba(16,48,94,1.0)"],7:["rgba(16,48,94,1.0)","rgba(16,48,94,0.70)","rgba(16,48,94,0.40)","rgba(16,48,94,0.10)","rgba(16,48,94,0.40)","rgba(16,48,94,0.70)","rgba(16,48,94,1.0)"],9:["rgba(16,48,94,1.0)","rgba(16,48,94,0.78)","rgba(16,48,94,0.55)","rgba(16,48,94,0.33)","rgba(16,48,94,0.10)","rgba(16,48,94,0.33)","rgba(16,48,94,0.55)","rgba(16,48,94,0.78)","rgba(16,48,94,1.0)"],stops:["rgba(16,48,94,1.0)","rgba(16,48,94,0.5)","rgba(16,48,94,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1.0)"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 1"},"extremes-blue-dark":{3:["rgba(0,38,73,1.0)","rgba(0,38,73,0.40)","rgba(0,38,73,1.0)"],5:["rgba(0,38,73,1.0)","rgba(0,38,73,0.60)","rgba(0,38,73,0.20)","rgba(0,38,73,0.60)","rgba(0,38,73,1.0)"],7:["rgba(0,38,73,1.0)","rgba(0,38,73,0.70)","rgba(0,38,73,0.40)","rgba(0,38,73,0.10)","rgba(0,38,73,0.40)","rgba(0,38,73,0.70)","rgba(0,38,73,1.0)"],9:["rgba(0,38,73,1.0)","rgba(0,38,73,0.78)","rgba(0,38,73,0.55)","rgba(0,38,73,0.33)","rgba(0,38,73,0.10)","rgba(0,38,73,0.33)","rgba(0,38,73,0.55)","rgba(0,38,73,0.78)","rgba(0,38,73,1.0)"],stops:["rgba(0,38,73,1.0)","rgba(0,38,73,0.5)","rgba(0,38,73,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1.0)"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 2"},"extremes-blue-bright":{3:["rgba(117,239,221,1.0)","rgba(117,239,221,0.40)","rgba(117,239,221,1.0)"],5:["rgba(117,239,221,1.0)","rgba(117,239,221,0.60)","rgba(117,239,221,0.20)","rgba(117,239,221,0.60)","rgba(117,239,221,1.0)"],7:["rgba(117,239,221,1.0)","rgba(117,239,221,0.70)","rgba(117,239,221,0.40)","rgba(117,239,221,0.10)","rgba(117,239,221,0.40)","rgba(117,239,221,0.70)","rgba(117,239,221,1.0)"],9:["rgba(117,239,221,1.0)","rgba(117,239,221,0.78)","rgba(117,239,221,0.55)","rgba(117,239,221,0.33)","rgba(117,239,221,0.10)","rgba(117,239,221,0.33)","rgba(117,239,221,0.55)","rgba(117,239,221,0.78)","rgba(117,239,221,1.0)"],stops:["rgba(117,239,221,1.0)","rgba(117,239,221,0.5)","rgba(117,239,221,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1.0)"],tags:["blues","greens","bright","extremes","dark","colorblind-friendly"],name:"Green Extremes 2"},"extremes-orange-gray":{3:["#a53217","#bf9990","#a53217"],5:["#a53217","#b97f72","#cccccc","#b97f72","#a53217"],7:["#a53217","#b26553","#bf9990","#cccccc","#bf9990","#b26553","#a53217"],9:["#a53217","#af5944","#b97f72","#c2a69f","#cccccc","#c2a69f","#b97f72","#af5944","#a53217"],stops:["#a53217","#b97f72","#cccccc","#b97f72","#a53217"],tags:["reds","extremes","light","subdued","colorblind-friendly"],name:"Red Extremes 4"},"extremes-bluegreen-gray":{3:["#004238","#889e9b","#004238"],5:["#004238","#668782","#cccccc","#668782","#004238"],7:["#004238","#447069","#889e9b","#cccccc","#889e9b","#447069","#004238"],9:["#004238","#33655d","#668782","#99aaa7","#cccccc","#99aaa7","#668782","#33655d","#004238"],stops:["#004238","#668782","#cccccc","#668782","#004238"],tags:["greens","extremes","light","subdued","colorblind-friendly"],name:"Green Extremes 3"},"extremes-red-gray":{3:["#990b0b","#bb8c8c","#990b0b"],5:["#990b0b","#b36c6c","#cccccc","#b36c6c","#990b0b"],7:["#990b0b","#aa4b4b","#bb8c8c","#cccccc","#bb8c8c","#aa4b4b","#990b0b"],9:["#990b0b","#a63b3b","#b36c6c","#bf9c9c","#cccccc","#bf9c9c","#b36c6c","#a63b3b","#990b0b"],stops:["#990b0b","#b36c6c","#cccccc","#b36c6c","#990b0b"],tags:["reds","extremes","light","colorblind-friendly"],name:"Red Extremes 5"},"extremes-orange-gray-dark":{3:["#6b2600","#ac9588","#6b2600"],5:["#6b2600","#9c7966","#cccccc","#9c7966","#6b2600"],7:["#6b2600","#8b5d44","#ac9588","#cccccc","#ac9588","#8b5d44","#6b2600"],9:["#6b2600","#835033","#9c7966","#b4a399","#cccccc","#b4a399","#9c7966","#835033","#6b2600"],stops:["#6b2600","#9c7966","#cccccc","#9c7966","#6b2600"],tags:["browns","extremes","light","subdued","colorblind-friendly"],name:"Brown Extremes 1"},"extremes-orange-gray-bright":{3:["#ffb339","#775e35","#ffb339"],5:["#ffb339","#997336","#333333","#997336","#ffb339"],7:["#ffb339","#bb8837","#775e35","#333333","#775e35","#bb8837","#ffb339"],9:["#ffb339","#cc9338","#997336","#665335","#333333","#665335","#997336","#cc9338","#ffb339"],stops:["#ffb339","#997336","#333333","#997336","#ffb339"],tags:["oranges","extremes","dark","colorblind-friendly"],name:"Yellow Extremes 2"},"extremes-purple-gray":{3:["#411b6d","#9e91ac","#411b6d"],5:["#411b6d","#87749d","#cccccc","#87749d","#411b6d"],7:["#411b6d","#6f568d","#9e91ac","#cccccc","#9e91ac","#6f568d","#411b6d"],9:["#411b6d","#644785","#87749d","#a9a0b4","#cccccc","#a9a0b4","#87749d","#644785","#411b6d"],stops:["#411b6d","#87749d","#cccccc","#87749d","#411b6d"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 3"},"extremes-pink-gray":{3:["#570959","#a58ba6","#570959"],5:["#570959","#926b93","#cccccc","#926b93","#570959"],7:["#570959","#7e4a7f","#a58ba6","#cccccc","#a58ba6","#7e4a7f","#570959"],9:["#570959","#743a76","#926b93","#af9baf","#cccccc","#af9baf","#926b93","#743a76","#570959"],stops:["#570959","#926b93","#cccccc","#926b93","#570959"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 4"},"extremes-blue-gray":{3:["#10305e","#8d98a7","#10305e"],5:["#10305e","#6e7e95","#cccccc","#6e7e95","#10305e"],7:["#10305e","#4f6483","#8d98a7","#cccccc","#8d98a7","#4f6483","#10305e"],9:["#10305e","#3f577a","#6e7e95","#9da5b1","#cccccc","#9da5b1","#6e7e95","#3f577a","#10305e"],stops:["#10305e","#6e7e95","#cccccc","#6e7e95","#10305e"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 3"},"extremes-blue-gray-dark":{3:["#002649","#8895a0","#002649"],5:["#002649","#66798b","#cccccc","#66798b","#002649"],7:["#002649","#445d75","#8895a0","#cccccc","#8895a0","#445d75","#002649"],9:["#002649","#33506a","#66798b","#99a3ab","#cccccc","#99a3ab","#66798b","#33506a","#002649"],stops:["#002649","#66798b","#cccccc","#66798b","#002649"],tags:["blues","extremes","light","subdued","colorblind-friendly"],name:"Blue Extremes 4"},"extremes-blue-gray-bright":{3:["#75efdd","#49726c","#75efdd"],5:["#75efdd","#549188","#333333","#549188","#75efdd"],7:["#75efdd","#5fb0a4","#49726c","#333333","#49726c","#5fb0a4","#75efdd"],9:["#75efdd","#65c0b3","#549188","#44625e","#333333","#44625e","#549188","#65c0b3","#75efdd"],stops:["#75efdd","#549188","#333333","#549188","#75efdd"],tags:["blues","greens","bright","extremes","dark","colorblind-friendly"],name:"Green Extremes 4"},"extremes-red-gray-bright":{stops:["#ff4141","#a63a55","#4d414d","#a63a55","#ff4141"],tags:["reds","extremes","dark","bright","colorblind-friendly"],name:"Red Extremes 6"},"extremes-purple-gray-bright":{stops:["#b44dff","#7e3ca6","#4c374d","#7e3ca6","#b44dff"],tags:["purples","extremes","dark","bright","colorblind-friendly"],name:"Purple Extremes 5"},"extremes-blue-bright-gray-bright":{stops:["#40bfff","#2c6f9e","#383855","#2c6f9e","#40bfff"],tags:["blues","extremes","dark","bright","colorblind-friendly"],name:"Blue Extremes 5"},"extremes-green-gray-bright":{stops:["#00ff78","#18a064","#2f4147","#18a064","#00ff78"],tags:["greens","extremes","dark","bright","colorblind-friendly"],name:"Green Extremes 5"},"extremes-yellow-gray-bright":{stops:["#f9ff5a","#878c34","#41472e","#878c34","#f9ff5a"],tags:["yellows","extremes","dark","bright","colorblind-friendly"],name:"Yellow Extremes 3"},"extremes-pink-gray-dark":{stops:["#a6004e","#995c99","#bbb8cc","#995c99","#a6004e"],tags:["purples","pinks","extremes","light","colorblind-friendly"],name:"Purple Extremes 6"},"extremes-purple-gray-dark":{stops:["#7f0099","#835fa6","#bdb8d9","#835fa6","#7f0099"],tags:["purples","extremes","light","bright","colorblind-friendly"],name:"Purple Extremes 7"},"extremes-blue-bright-gray-dark":{stops:["#003df2","#6187f2","#c2cff2","#6187f2","#003df2"],tags:["blues","extremes","light","bright","colorblind-friendly"],name:"Blue Extremes 6"},"extremes-green-gray-dark":{stops:["#00735f","#4d9a94","#b8d5d9","#4d9a94","#00735f"],tags:["greens","extremes","light","colorblind-friendly"],name:"Green Extremes 6"},"extremes-brown-gray-dark":{stops:["#994e00","#b38657","#ccbdad","#b38657","#994e00"],tags:["browns","extremes","light","colorblind-friendly"],name:"Brown Extremes 2"},"point-cloud-elevation-scheme":{stops:["rgb(88, 19, 252)","rgb(28, 194, 253)","rgb(125, 253, 148)","rgb(245, 201, 38)","rgb(255, 43, 24)"],tags:["dark","blues","reds","yellows","greens","point-cloud","bright","colorblind-friendly"],name:"Point Cloud 1"},"point-cloud-intensity-scheme":{stops:["rgb(0, 0, 0)","rgb(50, 50, 50)","rgb(73, 73, 73)","rgb(140, 140, 140)","rgb(255, 255, 255)"],tags:["light","grays","point-cloud","subdued","colorblind-friendly"],name:"Point Cloud 2"},"cat-dark":{2:["#ed5151","#149ece"],3:["#ed5151","#149ece","#a7c636"],4:["#ed5151","#149ece","#a7c636","#9e559c"],5:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f"],6:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],7:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8"],8:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a"],9:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99"],10:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6"],11:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779"],12:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"],stops:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"],tags:["bright","light","categorical"],name:"Metro Movement"},"cat-light":{2:["#fd7f6f","#7eb0d5"],3:["#fd7f6f","#7eb0d5","#b2e061"],4:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe"],5:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a"],6:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],7:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db"],8:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5"],9:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7"],10:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4"],11:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf"],12:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf","#d9d9d9"],stops:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf","#d9d9d9"],tags:["light","categorical"],name:"Pastel Dreams"},"predominant-v1":{1:["#a03500"],2:["#a03500","#d9b400"],3:["#a03500","#d9b400","#3264c8"],4:["#a03500","#d9b400","#3264c8","#72b38e"],5:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1"],6:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087"],7:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf"],8:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236"],9:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc"],10:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc","#ad8516"],stops:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc","#ad8516"],tags:["subdued","light","categorical"],name:"Mother Earth"},"predominant-v2":{1:["#dc4b00"],2:["#dc4b00","#3c6ccc"],3:["#dc4b00","#3c6ccc","#d9dc00"],4:["#dc4b00","#3c6ccc","#d9dc00","#91d900"],5:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1"],6:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00"],7:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478"],8:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc"],9:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc"],10:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc","#d7a799"],stops:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc","#d7a799"],tags:["dark","categorical"],name:"Rainforest Frogs"},"predominant-v3":{1:["#1e8553"],2:["#1e8553","#c44296"],3:["#1e8553","#c44296","#d9bf0d"],4:["#1e8553","#c44296","#d9bf0d","#d97f00"],5:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1"],6:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc"],7:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66"],8:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087"],9:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc"],10:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc","#807b71"],stops:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc","#807b71"],tags:["dark","categorical"],name:"Fruit Basket"},"predominant-v4":{1:["#ccb642"],2:["#ccb642","#6998b4"],3:["#ccb642","#6998b4","#a67474"],4:["#ccb642","#6998b4","#a67474","#6bb38f"],5:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3"],6:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739"],7:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc"],8:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043"],9:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087"],10:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087","#8f8399"],stops:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087","#8f8399"],tags:["subdued","categorical","light"],name:"Rainy Day"},"predominant-v5":{1:["#e60049"],2:["#e60049","#0bb4ff"],3:["#e60049","#0bb4ff","#50e991"],4:["#e60049","#0bb4ff","#50e991","#e6d800"],5:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5"],6:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300"],7:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4"],8:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff"],9:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"],10:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0","#f0cccc"],stops:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0","#f0cccc"],tags:["bright","dark","categorical"],name:"Flower Field"},"predominance-race":{1:["#00b6f1"],2:["#00b6f1","#d9bf0d"],3:["#00b6f1","#d9bf0d","#c44245"],4:["#00b6f1","#d9bf0d","#c44245","#6a28c7"],5:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087"],6:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d"],7:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0"],8:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553"],9:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016"],10:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016","#0094bf"],stops:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016","#0094bf"],tags:["bright","light","categorical"],name:"Mushroom Soup"},"predominance-money":{1:["#437a75"],2:["#437a75","#d9d78c"],3:["#437a75","#d9d78c","#bf7860"],4:["#437a75","#d9d78c","#bf7860","#72231f"],5:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2"],6:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8"],7:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6"],8:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c"],9:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c"],10:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c","#a664a0"],stops:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c","#a664a0"],tags:["subdued","light","categorical"],name:"Olive Harmony"},"predominance-race-ethnic":{1:["#0040bf"],2:["#0040bf","#a3cc52"],3:["#0040bf","#a3cc52","#b9a087"],4:["#0040bf","#a3cc52","#b9a087","#a01fcc"],5:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698"],6:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e"],7:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f"],8:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc"],9:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9"],10:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9","#8a64b3"],stops:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9","#8a64b3"],tags:["dark","categorical"],name:"Galaxy Berries"},"predominance-rainbow":{1:["#d43f70"],2:["#007fd9","#d43f70"],3:["#007fd9","#d43f70","#c4dc66"],4:["#007fd9","#d43f70","#b6a135","#c4dc66"],5:["#007fd9","#d43f70","#b6a135","#c4dc66","#ebe498"],6:["#007fd9","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],7:["#007fd9","#881fc5","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],8:["#007fd9","#443dbf","#881fc5","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],9:["#007fd9","#443dbf","#881fc5","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],10:["#007fd9","#443dbf","#881fc5","#bf00bf","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],stops:["#007fd9","#443dbf","#881fc5","#bf00bf","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],tags:["bright","light","categorical"],name:"Retro Flow"},"predominance-sequence":{1:["#b30000"],2:["#b30000","#ebdc78"],3:["#b30000","#8be04e","#ebdc78"],4:["#b30000","#1a53ff","#8be04e","#ebdc78"],5:["#b30000","#7c1158","#1a53ff","#8be04e","#ebdc78"],6:["#b30000","#7c1158","#1a53ff","#00b7c7","#8be04e","#ebdc78"],7:["#b30000","#7c1158","#4421af","#1a53ff","#00b7c7","#8be04e","#ebdc78"],8:["#b30000","#7c1158","#4421af","#1a53ff","#00b7c7","#5ad45a","#8be04e","#ebdc78"],9:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#ebdc78"],10:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#c5d96d","#ebdc78"],stops:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#c5d96d","#ebdc78"],tags:["bright","light","categorical"],name:"Sunset Fade"},"tropical-bliss":{stops:["rgba(252, 62, 90, 1)","rgba(252, 225, 56, 1.0)","rgba(76, 129, 205, 1)","rgba(241, 152, 60, 1)","rgba(72, 136, 92, 1)","rgba(165, 83, 183, 1)","rgba(255, 247, 153, 1)","rgba(177, 169, 208, 1)","rgba(110, 207, 252, 1)","rgba(252, 111, 132, 1)","rgba(106, 246, 137, 1)","rgba(252, 210, 126, 1)"],tags:["bright","light","categorical"],name:"Tropical Bliss"},"desert-blooms":{stops:["rgba(217, 53, 26, 1)","rgba(255, 199, 48, 1)","rgba(20, 77, 89, 1)","rgba(44, 105, 84, 1)","rgba(237, 147, 16, 1)","rgba(140, 33, 63, 1)","rgba(16, 36, 50, 1)","rgba(166, 79, 27, 1)","rgba(24, 56, 46, 1)","rgba(102, 21, 16, 1)","rgba(179, 21, 21, 1)","rgba(74, 9, 50, 1)"],tags:["light","categorical"],name:"Desert Bloom"},"under-the-sea":{stops:["rgba(2, 78, 118, 1)","rgba(234, 49, 31, 1)","rgba(0, 115, 76, 1)","rgba(112, 68, 137, 1)","rgba(240, 145, 0, 1)","rgba(96, 113, 0, 1)","rgba(117, 112, 179, 1)","rgba(198, 0, 75, 1)","rgba(102, 102, 102, 1)","rgba(1, 172, 202 1)","rgba(191, 151, 39, 1)","rgba(51, 51, 51, 1)"],tags:["light","categorical"],name:"Under the Sea"},"vibrant-rainbow":{stops:["rgba(50, 184, 166, 1)","rgba(245, 203, 17, 1)","rgba(235, 114, 0, 1)","rgba(196, 97, 235, 1)","rgba(108, 112, 0, 1)","rgba(191, 46, 46, 1)","rgba(70, 227, 156, 1)","rgba(159, 212, 12, 1)","rgba(173, 0, 242, 1)","rgba(255, 251, 0, 1)","rgba(127, 242, 250, 1)","rgba(232, 167, 132, 1)"],tags:["bright","light","categorical"],name:"Vibrant Rainbow"},"ocean-bay":{stops:["rgba(196, 53, 65, 1)","rgba(17, 73, 92, 1)","rgba(135, 176, 81, 1)","rgba(219, 182, 88, 1)","rgba(155, 224, 192, 1)","rgba(143, 143, 130, 1)","rgba(25, 25, 33, 1)","rgba(120, 177, 194, 1)","rgba(69, 79, 75, 1)","rgba(247, 236, 136, 1)","rgba(235, 220, 193, 1)","rgba(117, 53, 30, 1)"],tags:["subdued","light","categorical"],name:"Ocean Bay"},"prairie-summer":{stops:["rgba(123, 250, 235, 1)","rgba(234, 218, 64, 1)","rgba(117, 21, 85, 1)","rgba(212, 112, 19, 1)","rgba(51, 36, 36, 1)","rgba(130, 170, 214, 1)","rgba(31, 194, 53, 1)","rgba(214, 137, 137, 1)","rgba(33, 17, 115, 1)","rgba(107, 100, 8, 1)","rgba(110, 201, 168, 1)","rgba(204, 197, 74, 1)"],tags:["light","categorical"],name:"Prairie Summer"},"pastel-chalk":{stops:["rgba(160, 184, 181, 1)","rgba(191, 142, 142, 1)","rgba(255, 253, 153, 1)","rgba(193, 212, 140, 1)","rgba(223, 193, 235, 1)","rgba(242, 185, 131, 1)","rgba(203, 247, 250, 1)","rgba(148, 153, 92, 1)","rgba(215, 145, 242, 1)","rgba(245, 230, 164, 1)","rgba(184, 227, 208, 1)","rgba(232, 196, 178, 1)"],tags:["subdued","light","categorical"],name:"Pastel Chalk"},"cat-symbols-strong":{1:["#d92b30"],2:["#d92b30","#ffdf3c"],3:["#d92b30","#3cccb4","#ffdf3c"],4:["#d92b30","#3cccb4","#ffdf3c","#f260a1"],5:["#d92b30","#3cccb4","#ffdf3c","#c27c30","#f260a1"],6:["#d92b30","#0095ba","#3cccb4","#ffdf3c","#c27c30","#f260a1"],7:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#c27c30","#f260a1"],8:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#c27c30","#a0d17d","#f260a1"],9:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],10:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffb259","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],stops:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffb259","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],tags:["light","categorical","colorblind-friendly"],name:"Circling Circus"},"cat-symbols-autumnal":{1:["#3e756d"],2:["#3e756d","#d9d78c"],3:["#3e756d","#d9d78c","#b86b53"],4:["#3e756d","#d9d78c","#b86b53","#5c98ca"],5:["#3e756d","#d9d78c","#b86b53","#5c98ca","#9c5596"],6:["#3e756d","#d9d78c","#b86b53","#5c98ca","#86afb3","#9c5596"],7:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#9c5596"],8:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#44498b","#9c5596"],9:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],10:["#3e756d","#d9d78c","#b86b53","#73241f","#b0bfa2","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],stops:["#3e756d","#d9d78c","#b86b53","#73241f","#b0bfa2","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],tags:["light","categorical","colorblind-friendly"],name:"Falling Leaves"},"cat-symbols-bright":{1:["#f22f00"],2:["#f22f00","#ffdd00"],3:["#f22f00","#26ffff","#ffdd00"],4:["#f22f00","#26ffff","#ffdd00","#5ff500"],5:["#f22f00","#26ffff","#ffdd00","#5ff500","#0040ff"],6:["#f22f00","#26ffff","#ffdd00","#ff4dc4","#5ff500","#0040ff"],7:["#f22f00","#26ffff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],8:["#f22f00","#26ffff","#a040ff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],9:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],10:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#c0ff73","#ffdd00","#ff4dc4","#5ff500","#0040ff"],stops:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#c0ff73","#ffdd00","#ff4dc4","#5ff500","#0040ff"],tags:["light","categorical","colorblind-friendly"],name:"High Light"},"cat-symbols-midrange":{1:["#e65154"],2:["#e65154","#ff8cd9"],3:["#e65154","#67e6d1","#ff8cd9"],4:["#e65154","#67e6d1","#ff8cd9","#c8f2a9"],5:["#e65154","#67e6d1","#ff8cd9","#c8f2a9","#d4b8ff"],6:["#e65154","#67e6d1","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],7:["#e65154","#67e6d1","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],8:["#e65154","#67e6d1","#cd76d6","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],9:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],10:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#fff2b3","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],stops:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#fff2b3","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],tags:["light","categorical","colorblind-friendly"],name:"Beaded Pastel"},"cat-symbols-subdued":{1:["#b5d6f2"],2:["#b5d6f2","#e3a3dd"],3:["#7db3ab","#b5d6f2","#e3a3dd"],4:["#7db3ab","#b5d6f2","#bf7872","#e3a3dd"],5:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#e3a3dd"],6:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#9093c7","#e3a3dd"],7:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],8:["#7db3ab","#dbe6d1","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],9:["#7db3ab","#dbe6d1","#d6a394","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],10:["#7db3ab","#dbe6d1","#d6a394","#c8e0e3","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],stops:["#7db3ab","#dbe6d1","#d6a394","#c8e0e3","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],tags:["light","categorical","colorblind-friendly"],name:"Chamois"},"cat-symbols-pastel":{1:["#ffe3d6"],2:["#ffe3d6","#e8add4"],3:["#b8f5e7","#ffe3d6","#e8add4"],4:["#e0c9af","#b8f5e7","#ffe3d6","#e8add4"],5:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4"],6:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#7dbdfa"],7:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa"],8:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc"],9:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],10:["#9f8eed","#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],stops:["#9f8eed","#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],tags:["light","categorical","colorblind-friendly"],name:"Low Satch"},"cat-symbols-red":{1:["#ffbfc9"],2:["#ffbfc9","#ffb180"],3:["#ffbfc9","#ffb180","#ff6e9d"],4:["#de2c30","#ffb180","#c74f8c","#ff6e9d"],5:["#de2c30","#ffb180","#c74f8c","#ffdaa6","#ff6e9d"],6:["#e6772e","#de2c30","#ffb180","#c74f8c","#ffdaa6","#ff6e9d"],7:["#e6772e","#de2c30","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],8:["#99004d","#e6772e","#ffbfc9","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],9:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],10:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#fa8870","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],stops:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#fa8870","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],tags:["light","categorical","reds","yellows","colorblind-friendly"],name:"Blushing Rose"},"cat-symbols-blue":{1:["#61dbf2"],2:["#bfc5ff","#61dbf2"],3:["#bfc5ff","#61dbf2","#0095e0"],4:["#bfc5ff","#6b78ff","#61dbf2","#0095e0"],5:["#0066cc","#bfc5ff","#6b78ff","#61dbf2","#0095e0"],6:["#0066cc","#599eff","#bfc5ff","#6b78ff","#61dbf2","#0095e0"],7:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#61dbf2","#0095e0"],8:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#0095e0"],9:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#3b2fbf","#0095e0"],10:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#6bb5ff","#3b2fbf","#0095e0"],stops:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#6bb5ff","#3b2fbf","#0095e0"],tags:["light","categorical","blues","colorblind-friendly"],name:"Tidal Crest"},"cat-symbols-green":{1:["#78ede4"],2:["#78ede4","#a3f9a0"],3:["#78ede4","#a3f9a0","#00bfaf"],4:["#008c5e","#52cc52","#a3f9a0","#00bfaf"],5:["#008c5e","#75de43","#52cc52","#a3f9a0","#00bfaf"],6:["#008c5e","#75de43","#52cc52","#54994d","#a3f9a0","#00bfaf"],7:["#008c5e","#75de43","#52cc52","#54994d","#a3f9a0","#70e0bb","#00bfaf"],8:["#008c5e","#75de43","#78ede4","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],9:["#008c5e","#75de43","#78ede4","#52cc52","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],10:["#008c5e","#75de43","#78ede4","#52cc52","#ccffb3","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],stops:["#008c5e","#75de43","#78ede4","#52cc52","#ccffb3","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],tags:["light","categorical","greens","colorblind-friendly"],name:"Fresh Stems"},"cat-symbols-gray":{1:["#e6dada"],2:["#e6dada","#b4c9d2"],3:["#e6dada","#b4c9d2","#738491"],4:["#5d5d50","#9a9a91","#b4c9d2","#738491"],5:["#5d5d50","#afbaaf","#9a9a91","#b4c9d2","#738491"],6:["#5d5d50","#afbaaf","#9a9a91","#856b6b","#b4c9d2","#738491"],7:["#5d5d50","#afbaaf","#9a9a91","#856b6b","#b4c9d2","#b4a5ac","#738491"],8:["#5d5d50","#afbaaf","#e6dada","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],9:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],10:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#e7e7d2","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],stops:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#e7e7d2","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],tags:["light","categorical","grays","colorblind-friendly"],name:"Stone and Gravel"},"cat-popup-olympic-sunset":{1:["#2888B8"],2:["#2888B8","#EB7028"],3:["#2888B8","#EB7028","#48A375"],4:["#2888B8","#EB7028","#48A375","#9370B1"],5:["#2888B8","#EB7028","#48A375","#9370B1","#e55035"],6:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc"],7:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04"],8:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0"],9:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0","#3fa681"],10:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0","#3fa681","#EE6386"],stops:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0","#3fa681","#EE6386"],tags:["light","categorical"],name:"Olympic Sunset"},"relationship-brewer-yellow-blue-black":{2:[["#f3b300","#000000"],["#f3f3f3","#509dc2"]],3:[["#f3b300","#7a5a00","#000000"],["#f3d37a","#8e916e","#284f61"],["#e8e6f2","#a2c8db","#509dc2"]],4:[["#f3b300","#a27700","#513c00","#000000"],["#f3c851","#ab974c","#636546","#1b3441"],["#f3dea2","#b4b797","#74908c","#356981"],["#f3f3f3","#bdd6e3","#86bad2","#509dc2"]],tags:["colorblind-friendly","relationship","light"],name:"Sunflower Skies"},"relationship-brewer-pink-blue-purple":{2:[["#de4fa6","#2a1a8a"],["#e8e6f2","#4fadd0"]],3:[["#de4fa6","#843598","#2a1a8a"],["#e39bcc","#9080bd","#3d64ad"],["#e9e6f2","#9ccae1","#4fadd0"]],4:[["#de4fa6","#a23d9d","#662c93","#2a1a8a"],["#e181bf","#a86fb5","#6f5dab","#364ba1"],["#e5b4d9","#afa1ce","#798fc4","#437cb9"],["#e8e6f2","#b5d3e7","#82c0db","#4fadd0"]],tags:["light","relationship","light"],name:"Blueberry Parfait"},"relationship-brewer-orange-pink-purple-green":{2:[["#f0008b","#5a4da4"],["#f37300","#008837"]],3:[["#f0008b","#cd9acc","#5a4da4"],["#fe9aa6","#e6e6e6","#9ac9d5"],["#f37300","#cce88b","#008837"]],4:[["#f0008b","#e67fe6","#bb7fe6","#5a4da4"],["#e67fb6","#ffd9f4","#ddd9ff","#8aade6"],["#f29a92","#ffe8d9","#d9ffe6","#6cd9d2"],["#f37300","#e6c97e","#96e67e","#008837"]],tags:["colorblind-friendly","relationship","light"],name:"Unicorn Wishes"},"relationship-brewer-purple-orange":{2:[["#240d5e","#b30000"],["#c4b3d8","#ffcc80"]],3:[["#240d5e","#7f7f7f","#b30000"],["#7c67ab","#bfbfbf","#f35926"],["#c4b3d8","#e6e6e6","#ffcc80"]],4:[["#240d5e","#72668f","#b96060","#b30000"],["#594487","#988db0","#d08e84","#cc442b"],["#8f7caf","#bfb3d1","#e8bda8","#e68855"],["#c4b3d8","#e5daf2","#ffebcc","#ffcc80"]],tags:["colorblind-friendly","relationship","light"],name:"Lava Flows"},"relationship-blue-orange-brown":{2:[["#07a9d0","#705a50"],["#f3d8cb","#ea7f45"]],3:[["#00afe7","#427a8e","#5c473d"],["#98cfe5","#af978b","#aa5f37"],["#ffefe2","#ffb286","#f97529"]],4:[["#00b1f3","#0089af","#46636f","#533e34"],["#4ccaf2","#82a0ad","#8f786c","#8b4f30"],["#c3e2f0","#d0b7ab","#d08c69","#c56027"],["#fffaed","#ffcda7","#ff9f63","#ff6f16"]],tags:["colorblind-friendly","relationship","light"],name:"Fish Scales"},"relationship-purple-green-blue":{2:[["#c47add","#5064a0"],["#f2f2f2","#a9bf39"]],3:[["#c47add","#7b72ab","#5064a0"],["#dbb6e8","#ad9d91","#7d926d"],["#f2f2f2","#ced996","#a9bf39"]],4:[["#c47add","#917abf","#7b72ab","#5064a0"],["#d3a2e4","#a79abc","#918a91","#6e827e"],["#e3caeb","#c2bebe","#a8ad7b","#8ba15b"],["#f2f2f2","#dce1c0","#c1c989","#a9bf39"]],tags:["colorblind-friendly","relationship","light"],name:"Grapes on Vines"},"relationship-blue-green-purple":{2:[["#66b0ff","#79379c"],["#efffe3","#9ebf39"]],3:[["#66b0ff","#7364aa","#79379c"],["#abd8f1","#8ea09c","#7a7a4c"],["#efffe3","#c7df8e","#9ebf39"]],4:[["#66b0ff","#7388c8","#7364aa","#79379c"],["#94caf6","#93a9be","#8a8997","#85697b"],["#c1e5ec","#b4c9b4","#a2af85","#929268"],["#efffe3","#d4eaaa","#b9d472","#9ebf39"]],tags:["colorblind-friendly","relationship","light"],name:"Forest Canopy"},"relationship-blue-orange-green":{2:[["#66bfff","#066b2d"],["#f2f2f2","#f09900"]],3:[["#66bfff","#398273","#066b2d"],["#acd9f9","#a1ac9c","#7d7755"],["#f2f2f2","#e7c696","#f09900"]],4:[["#66bfff","#599bab","#398273","#066b2d"],["#95d0fb","#8caea8","#769468","#59782f"],["#c3e1f6","#bec1a4","#b4a55c","#9c8a2d"],["#f2f2f2","#f1d4a1","#f1b751","#f09900"]],tags:["colorblind-friendly","relationship","light"],name:"Backyard Garden"},"relationship-mustard-blue-wine":{2:[["#f0d200","#8c0b00"],["#faffe3","#64c8ff"]],3:[["#f0d200","#9e5114","#8c0b00"],["#eff279","#aaafa0","#627b94"],["#faffe3","#afe4f1","#64c8ff"]],4:[["#f0d200","#bd9024","#9e5114","#8c0b00"],["#f5e052","#bfac6a","#9a7d61","#80565f"],["#f1e7a1","#c1c8b0","#97aaae","#7789a2"],["#faffe3","#c3e4f6","#93d6fb","#64c8ff"]],tags:["colorblind-friendly","relationship","light"],name:"Campfire Flames"},"relationship-pink-blue-purple":{2:[["#ff7373","#593fb3"],["#f2f2f2","#62e7f5"]],3:[["#ff7373","#945c90","#593fb3"],["#f9b8b8","#a699d4","#5593d4"],["#f2f2f2","#a3ecf4","#62e7f5"]],4:[["#ff7373","#bf6989","#945c90","#593fb3"],["#fb9d9d","#bb97ac","#938cb1","#6077bf"],["#f6c8c8","#c1c2d0","#93bbd3","#73afd3"],["#f2f2f2","#c2eef3","#92ebf4","#62e7f5"]],tags:["colorblind-friendly","relationship","light"],name:"Cottoncandy Wisps"},"relationship-olive-blue-green":{2:[["#d1d100","#066b2d"],["#faffe3","#50aaff"]],3:[["#d1d100","#4f852c","#066b2d"],["#e8eb75","#aab4a0","#608f94"],["#faffe3","#b1dbf5","#50aaff"]],4:[["#d1d100","#8aa32e","#4f852c","#066b2d"],["#dfe04c","#9ebb6e","#629b6f","#367a71"],["#ecf097","#b0cfad","#76b0b3","#5293ab"],["#faffe3","#c1e3ec","#89c6f6","#50aaff"]],tags:["colorblind-friendly","relationship","light"],name:"Jungle Adventure"},"relationship-yellow-cyan-blue":{2:[["#ffeb00","#007bcc"],["#faffe3","#00e6e6"]],3:[["#ffeb00","#63a18e","#007bcc"],["#fffbb3","#9dbdcc","#5dadbf"],["#faffe3","#a6fff5","#00e6e6"]],4:[["#ffeb00","#aabf5e","#63a18e","#007bcc"],["#fff44d","#a9d28b","#5ebbab","#289fc8"],["#fffca6","#a8e4b7","#58d4c8","#30c2d6"],["#faffe3","#a7f7e4","#53eee5","#00e6e6"]],tags:["colorblind-friendly","relationship","light"],name:"Mountain Trails"},"relationship-blue-pink-purple":{2:[["#57a5d9","#631673"],["#ece6f2","#cc5a5a"]],3:[["#5ea5d8","#624d8a","#621371"],["#a5c6e5","#9e799b","#963567"],["#ece6f2","#daa5ac","#c9585c"]],4:[["#57a5d9","#6175a7","#624e8c","#631673"],["#89bbe1","#8c8baf","#89628c","#7f3c6b"],["#bad0ea","#b6a1b7","#b0758d","#974a62"],["#ece6f2","#e1b7bf","#d7898d","#cc5a5a"]],tags:["colorblind-friendly","relationship","light"],name:"Dawn Rising"},"relationship-purple-green-wine":{2:[["#ad77d9","#7a0a00"],["#ece6f2","#9cbf57"]],3:[["#ad77d9","#7a4873","#7a0a00"],["#cdafe6","#a59b98","#6e6548"],["#ece6f2","#c4d3a5","#9cbf57"]],4:[["#ad77d9","#9460a6","#7a4873","#7a0a00"],["#c29ce1","#a888ae","#8e747b","#7a613c"],["#d7c1ea","#bdb1b6","#a3a083","#8a834c"],["#ece6f2","#d1d9be","#b7cc8b","#9cbf57"]],tags:["colorblind-friendly","relationship","light"],name:"Wine Tasting"},"relationship-blue-red-pink":{2:[["#4d79ff","#ebccff"],["#333380","#c03050"]],3:[["#4d79ff","#9ca3ff","#ebccff"],["#4056c0","#8b7bc0","#d57ea8"],["#333380","#803a6e","#c03050"]],4:[["#4d79ff","#8395ff","#b8b0ff","#ebccff"],["#4462d5","#7773cc","#aa83c9","#df98c5"],["#3c4aaa","#6d539e","#9d5a93","#cf648a"],["#333380","#623270","#913160","#c03050"]],tags:["colorblind-friendly","relationship","dark"],name:"Sunset Smudge"},"relationship-blue-green-brightgreen":{2:[["#0d6eff","#73FF73"],["#004d54","#6fa600"]],3:[["#0d6eff","#3691b3","#73ff73"],["#134da2","#35798c","#6dd33a"],["#004d54","#397027","#6FA600"]],4:[["#0d6eff","#2e90d6","#35c4ac","#73ff73"],["#0662c4","#2c85a0","#3baa94","#76de4e"],["#035a8f","#2a7b6b","#459e5a","#71cc1F"],["#004d54","#287035","#468b1b","#6fa600"]],tags:["colorblind-friendly","relationship","dark"],name:"Aurora Borealis"},"relationship-blue-orange-lavender":{2:[["#0066ff","#cfbfff"],["#241159","#ab5600"]],3:[["#0066ff","#6893ff","#cfbfff"],["#0f3699","#7a6896","#bd8b80"],["#241159","#612d19","#ab5600"]],4:[["#0066ff","#4584ff","#8aa1ff","#cfbfff"],["#0c4ac8","#3e69b8","#9685b4","#c39caa"],["#182d90","#5d4b78","#8a6273","#b77955"],["#241159","#51283b","#7e3f1e","#ab5600"]],tags:["colorblind-friendly","relationship","dark"],name:"Soft Leather"},"relationship-pink-purple-peach":{2:[["#bf1d4e","#ebbebe"],["#47002f","#7040ff"]],3:[["#bf1d4e","#d56e86","#ebbebe"],["#831427","#8c4885","#a979df"],["#47002f","#531a80","#7040ff"]],4:[["#bf1d4e","#ce5373","#dc8899","#ebbebe"],["#97183e","#a22572","#c25aa8","#bf90d4"],["#6f122d","#812677","#923faf","#9261e9"],["#47002f","#5e136d","#6223b6","#7040ff"]],tags:["colorblind-friendly","relationship","dark"],name:"Rose Petals"},"relationship-purple-mustard-eggshell":{2:[["#8251e6","#ffe6c2"],["#4d3147","#b39e12"]],3:[["#8251e6","#ba97d4","#ffe6c2"],["#6e4c97","#96847d","#d3bd6a"],["#4d3147","#776525","#b39e12"]],4:[["#8251e6","#a77fda","#cdaece","#ffe6c2"],["#7046b1","#8870a0","#b793b1","#ddc787"],["#5f3c7c","#7a6172","#a18a59","#C8B300"],["#4d3147","#63522b","#8b781f","#b39e12"]],tags:["colorblind-friendly","relationship","dark"],name:"Seasonal Eggplant"},"relationship-blue-brick-green":{2:[["#0080ad","#d4ff99"],["#4c2f54","#ab4211"]],3:[["#0080ad","#7ebd99","#d4ff99"],["#345070","#806d7c","#c09b4d"],["#4c2f54","#7b332a","#ab4211"]],4:[["#0080ad","#61a799","#9ad399","#d4ff99"],["#1f5f86","#5e8485","#96a17b","#e3af44"],["#3d3e5e","#6b4b65","#8f694a","#c7803c"],["#4c2f54","#6c353e","#8b3c27","#ab4211"]],tags:["colorblind-friendly","relationship","dark"],name:"Seventies Poncho"},"relationship-orange-purple-lavender":{2:[["#bf4343","#e6b3ff"],["#542d3d","#7e39a1"]],3:[["#bf4343","#d97ba1","#e6b3ff"],["#803a1c","#8c5d86","#b876d0"],["#542d3d","#69336f","#7e39a1"]],4:[["#bf4343","#cc6882","#d98ec0","#e6b3ff"],["#9b3c41","#a6465e","#ad7199","#cf89dd"],["#78343f","#874368","#955192","#a460bb"],["#542d3d","#61305d","#6f347d","#7e39a1"]],tags:["colorblind-friendly","relationship","dark"],name:"Violet Delights"},"relationship-brown-purple-lilac":{2:[["#bf9b5e","#ffccee"],["#4a3449","#67679e"]],3:[["#bf9b5e","#d9afa4","#ffccee"],["#7b6654","#896f8c","#b298c2"],["#4a3449","#594c7e","#67679e"]],4:[["#bf9b5e","#d4ab8e","#e8bbbe","#ffccee"],["#947857","#a98980","#ba99aa","#d2afd9"],["#69554f","#7f6773","#8b7896","#9a89b9"],["#4a3449","#574769","#5d5682","#67679e"]],tags:["colorblind-friendly","relationship","dark"],name:"Winter Canyon"},"relationship-teal-yellow-lightteal":{2:[["#00b3ff","#c0ffb3"],["#286652","#b5b800"]],3:[["#00b3ff","#5ce3d3","#c0ffb3"],["#008c8c","#57ad56","#c1d94f"],["#286652","#6F820D","#b5b800"]],4:[["#00b3ff","#3dcce2","#7ae6c5","#c0ffb3"],["#0d99c5","#3cb5aa","#87cc8b","#b6e770"],["#1b808c","#58996f","#79b655","#b6d038"],["#286652","#578137","#869d1b","#b5b800"]],tags:["colorblind-friendly","relationship","dark"],name:"Persian Lime"},"relationship-blue-red-yellow":{2:[["#195DFC","#FEFF80"],["#402447","#C82920"]],3:[["#195DFC","#8CA5BE","#FEFF80"],["#272E99","#8140A4","#E58100"],["#402447","#8A0017","#C82920"]],4:[["#195DFC","#6593d3","#a9c9ae","#FEFF80"],["#264ac0","#5951bf","#a0828a","#ecb860"],["#353987","#5e406b","#993e71","#da7040"],["#402447","#692438","#9b272d","#C82920"]],tags:["colorblind-friendly","relationship","dark"],name:"Summer Picnic"},"relationship-blue-rose-peach":{2:[["#66c0ff","#ff8080"],["#004473","#852828"]],3:[["#66c0ff","#7b6586","#ff8080"],["#3382b9","#644d70","#c25454"],["#004473","#4d3559","#852828"]],4:[["#66c0ff","#5d6fa6","#995b65","#ff8080"],["#4497d0","#505e8c","#7B4B50","#d66363"],["#226da2","#424c73","#5e3b40","#ae4545"],["#004473","#353b59","#452e31","#852828"]],tags:["colorblind-friendly","relationship","dark"],name:"Coral Reef"},"relationship-pink-lilac-blue":{2:[["#ffa5ba","#66ffff"],["#ffff80","#aa99ff"]],3:[["#ffa5ba","#71818c","#66ffff"],["#b35a5a","#5b4666","#7070cc"],["#ffff80","#8c7f54","#aa99ff"]],4:[["#ffa5ba","#906499","#738999","#66ffff"],["#994d65","#663344","#38428c","#5c5ce6"],["#a66153","#4d3d27","#3b2e73","#8767e6"],["#ffff80","#807d53","#6f6264","#aa99ff"]],tags:["colorblind-friendly","relationship","dark"],name:"Spring Showers"},"relationship-blue-peach-purple":{2:[["#198dff","#590059"],["#e6e6c3","#b35a5a"]],3:[["#198dff","#4a51ba","#590059"],["#86c0e1","#6674ad","#8d2d60"],["#e6e6c3","#d3a68e","#b35a5a"]],4:[["#198dff","#3a60d5","#5730a6","#590059"],["#66b3e3","#6d82d9","#6d4b94","#8f1954"],["#b2d9c6","#99a2ba","#a4707d","#a33a59"],["#e6e6c3","#e6c8a1","#cc9191","#b35a5a"]],tags:["colorblind-friendly","relationship","light"],name:"Cosmic Symphony"},"relationship-mint-mustard-green":{2:[["#00aacc","#00594a"],["#ffffaa","#e69a00"]],3:[["#00aacc","#00828b","#00594a"],["#80d4bb","#80ac7a","#737a25"],["#ffffaa","#f3cd55","#e69a00"]],4:[["#00aacc","#008fa1","#007475","#00594a"],["#55c6c1","#52a889","#508a51","#596f00"],["#aae3b5","#aac88a","#9fa345","#a08400"],["#ffffaa","#f7dd71","#eebc39","#e69a00"]],tags:["colorblind-friendly","relationship","light"],name:"Mustard Grove"},"relationship-purple-mustard-darkpurple":{2:[["#aa4ed9","#66004d"],["#f2ceda","#ccaa00"]],3:[["#aa4ed9","#8e2999","#66004d"],["#ce8eda","#bb7c6d","#995527"],["#f2ceda","#e4bb80","#ccaa00"]],4:[["#aa4ed9","#9334aa","#7d1a7c","#66004d"],["#bf75dd","#b063a5","#9d4f6c","#883933"],["#d9a2dc","#d296a7","#c18660","#aa711a"],["#f2ceda","#f0c4aa","#e5bd55","#ccaa00"]],tags:["colorblind-friendly","relationship","light"],name:"Morning Amethyst"},"relationship-blue-orange-purple":{2:[["#6b9bb3","#600080"],["#d2edc9","#cca352"]],3:[["#6b9bb3","#6e54a6","#600080"],["#9ccdc0","#9c9f83","#965269"],["#d2edc9","#ccd18f","#cca352"]],4:[["#6b9bb3","#6767a2","#643491","#600080"],["#8bbcbb","#898fa2","#86638a","#843671"],["#acdec4","#abb8a3","#a99382","#a86d61"],["#d2edc9","#cce0a3","#ccc27b","#cca352"]],tags:["colorblind-friendly","relationship","light"],name:"Marine Heliotrope"},"relationship-pink-periwinkle-violet":{2:[["#ff5c5c","#7a0050"],["#f2dcee","#809dff"]],3:[["#ff5c5c","#c73c63","#7a0050"],["#f99ca5","#c67a92","#885ab3"],["#f2dcee","#b9bdf7","#809dff"]],4:[["#ff5c5c","#d04559","#a22e4b","#7a0050"],["#fb878d","#cf708d","#a35a85","#77448d"],["#f6b1bd","#cd9cc0","#a586bf","#7c70c6"],["#f2dcee","#ccc7f4","#a6b2f9","#809dff"]],tags:["colorblind-friendly","relationship","light"],name:"Strawberry Tulips"},"relationship-blue-tan-green":{2:[["#00a1f2","#4e592c"],["#ffffcc","#bf9357"]],3:[["#00a1f2","#277d8f","#4e592c"],["#80d0df","#7ca199","#817e5c"],["#ffffcc","#dfc992","#bf9357"]],4:[["#00a1f2","#1a89b0","#34716e","#4e592c"],["#55c0e5","#5fa4ac","#698873","#746c3a"],["#aae0d9","#a5c0a9","#9fa079","#998049"],["#ffffcc","#eadba5","#d4b77e","#bf9357"]],tags:["colorblind-friendly","relationship","light"],name:"Coconut Palms"},"relationship-purple-green-olive":{2:[["#731773","#595900"],["#de9bde","#bfbf73"]],3:[["#731773","#b1767a","#595900"],["#b94cb9","#d899ac","#9e9f36"],["#de9bde","#f2beb5","#bfbf73"]],4:[["#731773","#b35d8a","#b38f6b","#595900"],["#a23aa2","#cc7ea7","#ccab80","#88881b"],["#d05dd0","#e69ec4","#e6c694","#a5a638"],["#de9bde","#ffbfe1","#ffe2a9","#bfbf73"]],tags:["colorblind-friendly","relationship","light"],name:"Blooming Lilypad"},election:{11:["#086ca0","#2668a0","#4364a1","#6160a1","#7e5ca2","#9c58a2","#a44d8b","#ac4274","#b5385d","#bd2d46","#c5222f"],stops:["#086ca0","#2668a0","#4364a1","#6160a1","#7e5ca2","#9c58a2","#a44d8b","#ac4274","#b5385d","#bd2d46","#c5222f"],tags:["group-similar","light","colorblind-friendly"],name:"Group Similar 1"},temperature:{12:["#000068","#333399","#756db5","#9a93ca","#c6c3e2","#e7e6f2","#fdece3","#fdd2bf","#faa98b","#f68460","#f23d2f","#c60000"],stops:["#000068","#333399","#756db5","#9a93ca","#c6c3e2","#e7e6f2","#fdece3","#fdd2bf","#faa98b","#f68460","#f23d2f","#c60000"],tags:["group-similar","light","colorblind-friendly"],name:"Group Similar 2"},"elevation-warm-humid":{11:["#6c9a87","#77ad95","#86b89d","#a9c0a7","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#6c9a87","#77ad95","#86b89d","#a9c0a7","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["light","group-similar"],name:"Group Similar 3"},"elevation-cool-humid":{11:["#72958e","#82a5a0","#91b2ac","#b4bfb5","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#72958e","#82a5a0","#91b2ac","#b4bfb5","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["light","group-similar"],name:"Group Similar 4"},"elevation-arid":{11:["#938b83","#a99f94","#b4aa9e","#cabead","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#938b83","#a99f94","#b4aa9e","#cabead","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["light","group-similar"],name:"Group Similar 5"},"elevation-polar":{8:["#94a9c0","#a3b4cb","#abc0d5","#b8c9e0","#cad6e8","#dbe1f0","#edf2fb","#eff3fb"],stops:["#94a9c0","#a3b4cb","#abc0d5","#b8c9e0","#cad6e8","#dbe1f0","#edf2fb","#eff3fb"],tags:["light","group-similar"],name:"Group Similar 6"},precipitation:{17:["#f11714","#f88c51","#fcb16b","#fec784","#ffe6b6","#e7f0c0","#cfe5ac","#b6db98","#9ed187","#85c860","#6ec13a","#13b445","#00a64b","#9089c4","#756db5","#625cab","#2d2b94"],stops:["#f11714","#f88c51","#fcb16b","#fec784","#ffe6b6","#e7f0c0","#cfe5ac","#b6db98","#9ed187","#85c860","#6ec13a","#13b445","#00a64b","#9089c4","#756db5","#625cab","#2d2b94"],tags:["light","group-similar"],name:"Group Similar 7"},spectral:{6:["#b8529e","#3853a3","#6fcbdc","#69bc45","#f6eb0f","#ec1e24"],stops:["#b8529e","#3853a3","#6fcbdc","#69bc45","#f6eb0f","#ec1e24"],tags:["light","group-similar","colorblind-friendly"],name:"Group Similar 8"},bathymetry:{14:["#e9f5ff","#d4eaf8","#bfdff2","#abd5ec","#96cae5","#81bfdf","#6cb4d8","#5ca0ca","#4c8dbc","#3d79ae","#2d65a0","#1d5292","#0d3e84","#08306b"],stops:["#e9f5ff","#d4eaf8","#bfdff2","#abd5ec","#96cae5","#81bfdf","#6cb4d8","#5ca0ca","#4c8dbc","#3d79ae","#2d65a0","#1d5292","#0d3e84","#08306b"],tags:["light","group-similar","colorblind-friendly"],name:"Group Similar 9"},"cat-dark-6":{6:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],stops:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],tags:["dark"],name:"Candy Shop"},"cat-light-6":{6:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],stops:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],tags:["light"],name:"Watercolor Surprise"},"point-cloud-class-scheme":{stops:["rgb(178, 178, 178)","rgb(178, 178, 178)","rgb(168, 112, 0)","rgb(38, 115, 0)","rgb(76, 230, 0)","rgb(205, 245, 122)","rgb(230, 75, 65)","rgb(230, 0, 0)","rgb(168, 112, 0)","rgb(0, 92, 230)","rgb(132, 0, 168)","rgb(78, 78, 78)","rgb(197, 0, 255)","rgb(0, 77, 168)","rgb(255, 255, 115)","rgb(115, 178, 255)","rgb(225, 115, 255)","rgb(130, 130, 130)","rgb(230, 0, 0)","rgb(230, 230, 0)"],tags:["point-cloud","light"],name:"Point Cloud 3"},"heatmap-v1":{stops:["#85c1c8","#90a1be","#9c8184","#a761aa","#af4980","#b83055","#c0182a","#c80000","#d33300","#de6600","#e99900","#f4cc00","#ffff00"],tags:["light","heatmap"],name:"Heatmap 1"},"heatmap-v2":{stops:["#f3e4e5","#e4becb","#d498b2","#c57298","#b95685","#ae3972","#a21d5e","#96004b","#ab006f","#c00093","#d500b7","#ea00db","#ff00ff"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 2"},"heatmap-v3":{stops:["#d4e3f5","#b3c5f7","#93a6fa","#7288fc","#566ffd","#3955fe","#1d3bfe","#0022ff","#334ecc","#667a99","#99a766","#ccd333","#ffff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 3"},"heatmap-v4":{stops:["#0022c8","#2b1ca7","#551785","#801164","#aa0b43","#d50621","#ff0000","#ff3900","#ff7100","#ffaa00","#ffc655","#ffe3aa","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 4"},"dark-yellow-orange":{stops:["#664c28","#795523","#8d5f1e","#a06819","#b37114","#c67a0f","#d9830a","#ec8c05","#ff9500","#ffae00","#ffc600","#ffde00","#fff700"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 5"},"dark-yellow-green":{stops:["#284c66","#35585b","#436550","#507145","#5d7d3a","#6f8e2c","#819e1d","#92af0f","#a4bf00","#b9cf00","#cedf00","#e2eF00","#f7ff00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 6"},"dark-yellow-purple":{stops:["#3f2866","#472b77","#4e2d87","#563098","#5d32a8","#6735be","#7139d4","#7b3ce9","#853fff","#a46fbf","#c29f80","#e0cf40","#ffff00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 7"},"dark-yellow-magenta":{stops:["#730073","#820082","#910091","#a000a0","#af00af","#c300c3","#d700d7","#eb00eb","#ff00ff","#ff58a0","#ff896b","#ffb935","#ffea00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 8"},"dark-white-blue":{stops:["#215587","#245b91","#26629b","#2968a5","#2b6eaf","#307bc3","#3687d7","#3b94eb","#40a0ff","#6db8ff","#9bd0ff","#c8e7ff","#f5ffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 9"},"dark-white-blue-metal":{stops:["#404873","#485182","#505990","#57629f","#5f6aad","#6772bb","#6f7bca","#7683d8","#7e8be6","#9ea8ec","#bfc5f3","#dfe2f9","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 10"},"dark-white-gold":{stops:["#4d4700","#5f5700","#706700","#827700","#938700","#a59700","#b6a700","#c8b700","#d9c700","#e3d540","#ece380","#f6f1bf","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 11"},"dark-yellow-bronze":{stops:["#592d00","#68390a","#764615","#85521F","#935e29","#a16a33","#b0773e","#be8348","#cc8f52","#d9a877","#e6c19c","#f2dac1","#fff3e6"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 12"},"neutral-yellow-orange":{stops:["#ccbba3","#d3b68a","#d9b270","#e0ad57","#e6a852","#eca32f","#f39f1f","#f99a10","#ff9500","#ffae00","#ffc600","#ffde00","#fff700"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 13"},"neutral-yellow-green":{stops:["#a3bccc","#a3bdb3","#a4bd99","#a4be7f","#a4be66","#a4be4d","#a4bf33","#a4bf1a","#a4bf00","#b9cf00","#cedf00","#e2ef00","#f7ff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 14"},"neutral-yellow-purple":{stops:["#a297b3","#9f8cbd","#9b81c6","#9876d0","#946bd9","#9060cf","#8d55ec","#894af6","#853fff","#a46fbf","#c29f80","#e0cf40","#ffff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 15"},"neutral-yellow-magenta":{stops:["#b397b3","#bd84bd","#c672c6","#d05fd0","#d94cd9","#e339e3","#ec26ec","#f613f6","#ff00ff","#ff3bbf","#ff7580","#ffb040","#ffea00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 16"},"neutral-white-blue":{stops:["#97a5b3","#8ca4bd","#82a4c6","#77a3d0","#6ca2d9","#61a2e3","#56a1ec","#4ba1f6","#40a0ff","#6db8ff","#9bd0ff","#c8e7ff","#f5ffff"],tags:["light","heatmap"],name:"Heatmap 17"},"neutral-white-blue-metal":{stops:["#979cb3","#949ab9","#9198c0","#8d96c6","#8a94cc","#8792d3","#8490d9","#818de0","#7e8be6","#9ea8ec","#bfc5f3","#dfe2f9","#ffffff"],tags:["light","heatmap"],name:"Heatmap 18"},"neutral-white-gold":{stops:["#b3b197","#b8b484","#bdb772","#c1b95f","#c6bc4c","#cbbf39","#d0c226","#d4c413","#d9c700","#e3d540","#ece380","#f6f1bf","#ffffff"],tags:["light","heatmap"],name:"Heatmap 19"},"neutral-yellow-bronze":{stops:["#bfb0a1","#c1ac97","#c3a88d","#c4a483","#c6a079","#c89c6f","#c99866","#cb935c","#cc8f52","#d9a877","#e6c19c","#f2dac1","#fff3e6"],tags:["light","heatmap"],name:"Heatmap 20"},"heatmap-magma":{stops:["#010005","#191247","#481793","#7f1eb4","#b233b9","#e745b5","#ff57a5","#ff778d","#ffae85","#ffeca1","#ffffd1","#ffffff","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Magma Heatmap"},"heatmap-inferno":{stops:["#010005","#1c0f4b","#520d8e","#881b9e","#bc2e9a","#f04188","#ff5c6a","#ff8345","#ffb71b","#fff415","#ffff64","#ffffe1","#ffffeb"],tags:["dark","colorblind-friendly","heatmap"],name:"Inferno Heatmap"},"heatmap-plasma":{stops:["#120bc1","#5805df","#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff769f","#ff9d82","#ffc666","#fff44a","#ffff35","#ffff36","#ffff30"],tags:["light","colorblind-friendly","heatmap"],name:"Plasma Heatmap"},"heatmap-viridis":{stops:["#610278","#6730a4","#6058be","#507dc9","#419ecb","#35bdcb","#2cdcc6","#3bfbb6","#6fff99","#b9ff6e","#ffff37","#ffff30","#ffff35"],tags:["dark","colorblind-friendly","heatmap"],name:"Viridis Heatmap"},"heatmap-cividis":{stops:["#002e6e","#00449f","#3b5c9a","#65749a","#858b9e","#a3a3a6","#c0bcad","#e1d6aa","#fff1a2","#ffff95","#ffff7f","#ffff60","#ffff64"],tags:["light","colorblind-friendly","heatmap"],name:"Cividis Heatmap"}};function zJe(t,e,i){let r=null,s=null;if(e&&(r=vO(e,t,!1),r)){const n=bO(r);n!=null&&(s=n)}return!r&&i&&(r=i==="dark"?"dark-gray":"gray",s=i),r||s||(r="gray",s="light"),{basemapId:r,basemapTheme:s}}let VJe=class{constructor(e){const{name:i,label:r,description:s,schemes:n}=e;this.name=i,this.label=r,this.description=s,this.schemes=n;const a=e.basemapGroups||Gb;let o=[];a&&Object.keys(a).forEach(l=>{o=o.concat(a[l])}),this.supportedBasemaps=o,this.basemapGroups=a}isBasemapSupported(e){const i=vO(e,this.supportedBasemaps);return!(!i||!this.supportedBasemaps.includes(i))}getRawSchemes(e){const{basemapId:i,basemapTheme:r}=zJe(this.supportedBasemaps,e.basemap,e.basemapTheme);let s=r;if(i){const o=bO(i,this.basemapGroups);o!=null&&(s=o)}let n=e.geometryType;n==="multipoint"?n="point":n==="mesh"&&(n="polygon");const a=this.schemes[n]||this.schemes.default;return{schemesInfo:z(a[s]),basemapId:i,basemapTheme:r}}};function jJe(t){const e=t.themeDictionary,i=new Map;for(const r in e){const s=e[r];i.set(r,new VJe(s))}return i}function qJe(t,e){var s;if(!t||!e)return;let i=null;const r=[e.primaryScheme,...e.secondarySchemes];for(const n of r)if(((s=n.name)==null?void 0:s.toLowerCase())===t.toLowerCase()){i=n;break}return i}function Hce(t){const e=t.theme;if(e)return e.getRawSchemes({basemap:t.basemap,geometryType:t.geometryType,basemapTheme:t.basemapTheme})}const BJe=Gb.light,UJe=Gb.dark;[...BJe,...UJe];function GJe(t){const e=t.width,i=t.height;let r=t.pixelSizeAt(t.toMap(cr(.5*e,.5*i),{exclude:[]}));if(r<=0&&(r=t.pixelSizeAt(t.toMap(cr(.5*e,.95*i),{exclude:[]})),r<=0&&"camera"in t)){const s=t.camera.position.clone();s.z=0,r=2*t.pixelSizeAt(s)}return r}function hF(t,e){return Math.ceil(GJe(e)*et(ct(t)))}const B2={light:{color:[153,153,153,.25],width:"0.5px"},lighter:{color:[194,194,194,.25],width:"0.5px"},lightest:{color:[153,153,153,.25],width:"0.5px"}},u7={grayBasemaps:{outline:B2.lightest,fillOpacity:.8,width:"2px",size:"8px"}},HJe="#aaaaaa",WJe="#ffffff",ZJe="12px",eW=["seq-cividis","seq-single-blues","seq-yellow-red-purple","seq-yellow-orange-red","seq-yellow-pink-purple","seq-yellow-purple-blue","seq-yellow-green-blue","seq-teal-lightgreen-bright","seq-green-lightgray-bright","seq-teal-lightbrown-bright","seq-lightred-darkgray-bright","seq-orange-red-light","seq-red-lightgray-bright","seq-blue-lightgray-bright","seq-orange-lightgray-bright","seq-blue-red-yellow-bright","seq-blue-tan-bright","seq-pink-red","seq-red-blue-green","seq-orange-red-dark","seq-magenta-light","seq-red-light","seq-orange-light","seq-mustard-light","seq-yellowgreen-light","seq-green-light","seq-aqua-light","seq-cyan-light","seq-blue-light","seq-purple-light","seq-brown-light","seq-steel-light","seq-brown-palegreen","seq-purple-pink-yellow","seq-blue-green-yellow","seq-green-avocado-lightpurple","seq-turquoise-lightgreen","seq-red-brown-white","seq-purple-pink-white","seq-blue-green-white","seq-green-avocado-white","seq-turquoise-lightgreen-white","seq-snowy-mountain","seq-snow-cactus","seq-subdued-red-yellow","seq-subdued-purple-blue","seq-subdued-blue-cyan","seq-subdued-green-yellow","seq-subdued-green","seq-lines-blue-orange","seq-lines-purple-brown","seq-esribrand-red","seq-esribrand-red-orange","seq-esribrand-orange","seq-esribrand-orangeyellow","seq-esribrand-yellow","seq-esribrand-yellowgreen","seq-esribrand-green","seq-esribrand-greenblue","seq-esribrand-blue","seq-esribrand-violet","seq-esribrand-violetred","seq-esribrand-brown","seq-esribrand-gray","seq-single-greens","seq-single-grays","seq-single-oranges","seq-single-purples","seq-single-reds","seq-multi-bugn","seq-multi-bupu","seq-multi-gnbu","seq-multi-orrd","seq-multi-pubu","seq-multi-pubugn","seq-multi-purd","seq-multi-rdpu","seq-multi-ylgn","seq-multi-ylgnbu","seq-multi-ylorbr","seq-multi-ylorrd","point-cloud-intensity-scheme"],tW=["seq-magma","seq-inferno","seq-plasma","seq-viridis","seq-blue-gray-bright","seq-reds-bright","seq-purples-bright","seq-greens-bright","seq-browns-bright","seq-dark-to-light-magenta-bright","seq-dark-to-light-purple-bright","seq-dark-to-light-blue-bright","seq-dark-to-light-green-bright","seq-brown-to-tan-bright","seq-lightgray-blue-bright","seq-lightgray-green-bright","seq-lightgray-darkmagenta-bright","seq-yellow-darkblue-bright","seq-blues-bright","seq-gray-lightgreen-bright","seq-lightmagenta-darkgray-bright","seq-lightblue-darkgray-bright","seq-magenta","seq-red","seq-orange","seq-yellow","seq-yellowgreen","seq-green","seq-turquoise","seq-royal","seq-blueberry","seq-purple","seq-brown","seq-blue","seq-red-darkblue","seq-purple-darkgreen","seq-blue-darkgreen","seq-green-darkpurple","seq-blue-gray","seq-mentone-beach","seq-subdued-brown-tan","seq-subdued-gray-green","seq-subdued-green-tan","seq-subdued-blue-purple","seq-subdued-pink-brown","seq-subdued-green-pink","seq-lines-green-brown","seq-lines-yellow-blue","seq-blue-bright-1","seq-green-bright-1","seq-green-bright-2","seq-green-bright-3","seq-blue-bright-2","seq-blue-bright-3","seq-blue-bright-4","seq-blue-bright-5","seq-red-purple-bright","seq-red-magenta-bright","seq-red-bright-3","seq-red-bright-4","seq-yellow-bright-1","seq-yellow-bright-2","seq-yellow-bright-3","seq-yellow-bright-4","seq-yellow-gray-bright","seq-green-gray-bright","seq-red-gray-bright","seq-gray-redbright","seq-gray-green-bright","seq-gray-blue-bright","seq-gray-purple-bright","seq-plaingray-bright","seq-greengray-bright","seq-coolgray-bright","seq-warmgray-bright","seq-yellow-green-combo-bright","seq-cyan-blue-combo-bright","seq-magenta-purple-combo-bright","point-cloud-elevation-scheme"],iW=["div-bluegreen-yellow-orange","div-orange-yellow-blue-light","div-green-yellow-redpurple","div-green-yellow-orange","div-green-gray-bright","div-red-blue-bright","div-blue-orange-bright","div-blue-lightgreen-bright","div-red-gray-bright","div-blue-gray-bright","div-red-lightgreen-bright","div-green-teal-bright","div-bluegreen-orange","div-orange-purple","div-bluegreen-purple","div-orange-pink","div-blue-yellow-red-bright","div-red-green-bright","div-orange-gray-bright","div-blue-green-bright","div-purple-brown-bright","div-blue-brown-bright","div-teal-brown-bright","div-lightblue-gray-bright","div-redpurple-blue","div-orange-blue","div-green-pink","div-bluegreen-redpurple","div-green-redpurple","div-green-orange","div-red-yellow-pink","div-blue-green","div-bluegreen-yellow-redpurple","div-bluegreen-pink","div-red-yellow-purple","div-orange-yellow-pink","div-orange-yellow-blue-dark","div-green-purple-light","div-blue-red-light","div-green-purple-light-2","div-cyan-blue-light","div-blue-yellow-light","div-purple-yellow-light","div-magenta-yellow-light","div-purple-green-light","div-blue-blue","div-green-green","div-blue-green-light","div-red-green-light","div-blue-yellow-brown-light","div-blue-white-brown","div-subdued-red-green","div-subdued-red-purple","div-subdued-brown-gray","div-subdued-sepia-gray","div-subdued-blue-gray","div-subdued-green-brown","div-lines-blue-brown","div-lines-green-purple","div-lines-red-gray","div-esribrand-red-bluegreen","div-esribrand-red-blue","div-esribrand-red-violet","div-esribrand-red-violetred","div-esribrand-red-gray","div-esribrand-redorange-greenblue","div-esribrand-redorange-blue","div-esribrand-redorange-violet","div-esribrand-redorange-violetred","div-esribrand-redorange-gray","div-esribrand-orange-greenblue","div-esribrand-orange-blue","div-esribrand-orange-violet","div-esribrand-orange-violetred","div-esribrand-orange-gray","div-esribrand-orangeyellow-greenblue","div-esribrand-orangeyellow-blue","div-esribrand-orangeyellow-violet","div-esribrand-orangeyellow-violetred","div-esribrand-orangeyellow-gray","div-esribrand-yellow-green-blue","div-esribrand-yellow-blue","div-esribrand-yellow-violet","div-esribrand-yellow-violetred","div-esribrand-yellow-brown","div-esribrand-yellow-gray","div-esribrand-yellowgreen-greenblue","div-esribrand-yellowgreen-blue","div-esribrand-yellowgreen-violet","div-esribrand-yellowgreen-violetred","div-esribrand-yellowgreen-brown","div-esribrand-yellowgreen-gray","div-esribrand-green-blue","div-esribrand-green-violet","div-esribrand-green-violetred","div-esribrand-green-gray","div-esribrand-greenblue-blue","div-esribrand-greenblue-violetred","div-esribrand-greenblue-brown","div-esribrand-greenblue-gray","div-esribrand-blue-brown","div-esribrand-blue-gray","div-esribrand-violet-brown","esribrand-violet-gray","div-esribrand-violetred-gray","div-esribrand-brown-gray","div-blue-yellow-brown","div-purple-yellow-brown","div-purple-beige-green","div-teal-yellow-brown","div-yellow-magenta-light","div-green-yellow-blue","div-brown-blue","div-red-green-cyan","div-yellow-slate-teal","div-brbg","div-piyg","div-prgn","div-puor","div-rdbu","div-rdgy","div-rdylbu","div-rdylgn","div-spectral"],rW=["div-blue-green-bright-1","div-blue-red-bright-1","div-lightgreen-yellow-bright","div-lightred-gray-bright","div-lightgreen-gray-bright","div-yellow-green-bright","div-green-darkgray-bright","div-lightmagenta-gray-bright","div-lightblue-yellow-bright","div-yellow-gray-purple","div-red-gray-blue","div-green-gray-purple","div-orange-gray-blue","div-green-purple","div-blue-red","div-green-magenta","div-blue-orange","div-blue-yellow","div-purple-yellow","div-magenta-yellow","div-purple-green-dark","div-green-brown","div-green-gray","div-blue-white","div-red-steel","div-aqua-darkgray-red","div-subdued-tan-blue","div-subdued-green-blue","div-subdued-green-pink","div-lines-green-orange","div-lines-yellow-blue","div-yellow-orange-purple-bright","div-yellow-blue-bright-1","div-yellow-blue-bright-2","div-yellow-blue-bright","div-yellow-blue-bright-3","div-yellow-purple-bright-1","div-yellow-purple-bright-2","div-yellow-red-bright-1","div-yellow-red-bright-2","div-yellow-gray-bright-1","div-yellow-gray-bright-2","div-yellow-gray-bright-3","div-purple-green-bright-1","div-purple-green-bright-2","div-pink-yellow-bright-1","div-pink-yellow-bright-2","div-red-blue-bright-1","div-red-blue-bright-2","div-orange-blue-bright-3","div-orange-blue-bright-4","div-red-purple-bright","div-red-gray-bright-1","div-red-gray-bright-2","div-red-gray-bright-3","div-teal-yellow-bright-1","div-teal-yellow-bright-2","div-teal-orange-bright","div-green-red-bright","div-green-magenta-bright","div-green-purple-bright-1","div-green-purple-bright-2","div-green-blue-bright-1","div-green-blue-bright-2","div-green-gray-bright-1","div-green-gray-bright-2","div-green-gray-bright-3","div-blue-yellow-bright-2","div-blue-lightorange-bright","div-blue-orange-bright-1","div-blue-orange-bright-2","div-blue-red-bright-2","div-blue-tan-bright","div-blue-gray-bright-1","div-blue-gray-bright-2","div-blue-gray-bright-3","div-blue-green-orange","div-purple-orange","div-purple-green","div-teal-orange","div-red-purple-blue","div-yellow-magenta","div-green-blue","div-blue-brown","div-red-cyan","div-yellow-teal"],sW=["highlight-orange","highlight-blue","highlight-bluegreen","highlight-pink","highlight-purple","highlight-red","highlight-blue-dark","highlight-orange-dark","highlight-blue-gray","highlight-bluegreen-gray","highlight-orange-gray","highlight-pink-gray","highlight-purple-gray","highlight-red-gray","highlight-blue-gray-dark","highlight-orange-gray-dark","highlight-pink-gray-dark","highlight-purple-gray-dark","highlight-blue-bright-gray-dark","highlight-green-gray-dark","highlight-brown-gray-dark"],nW=["highlight-orange-bright","highlight-blue-bright","highlight-blue-gray-bright","highlight-orange-gray-bright","highlight-red-gray-bright","highlight-purple-gray-bright","highlight-blue-bright-gray-bright","highlight-green-gray-bright","highlight-yellow-gray-bright"],aW=["extremesdiv-orange-yellow-blue-dark","extremes-blue","extremes-blue-dark","extremes-bluegreen","extremes-orange","extremes-orange-dark","extremes-pink","extremes-purple","extremes-red","extremesdiv-blue-green","extremesdiv-bluegreen-pink","extremesdiv-bluegreen-purple","extremesdiv-bluegreen-redpurple","extremesdiv-bluegreen-yellow-orange","extremesdiv-green-pink","extremesdiv-green-yellow-orange","extremesdiv-green-yellow-redpurple","extremesdiv-orange-pink","extremesdiv-orange-purple","extremesdiv-orange-yellow-blue-light","extremesdiv-red-yellow-pink","extremesdiv-red-yellow-purple","extremesdiv-redpurple-blue","extremes-blue-gray","extremes-blue-gray-dark","extremes-bluegreen-gray","extremes-orange-gray","extremes-orange-gray-dark","extremes-pink-gray","extremes-purple-gray","extremes-red-gray","extremes-pink-gray-dark","extremes-purple-gray-dark","extremes-blue-bright-gray-dark","extremes-green-gray-dark","extremes-brown-gray-dark"],oW=["extremes-orange-bright","extremes-blue-bright","extremes-blue-gray-bright","extremes-orange-gray-bright","extremesdiv-green-purple","extremesdiv-orange-blue","extremesdiv-red-blue","extremesdiv-yellow-purple","extremes-red-gray-bright","extremes-purple-gray-bright","extremes-blue-bright-gray-bright","extremes-green-gray-bright","extremes-yellow-gray-bright"],lW=["highlight-orange-gray","highlight-bluegreen-gray","highlight-purple-gray","highlight-pink-gray","highlight-blue-gray","highlight-red-gray","highlight-orange-gray-dark","highlight-blue-gray-dark","highlight-orange-gray-bright","highlight-blue-gray-bright","extremes-orange-gray","extremes-bluegreen-gray","extremes-purple-gray","extremes-pink-gray","extremes-blue-gray","extremes-red-gray","extremes-orange-gray-dark","extremes-blue-gray-dark","extremes-orange-gray-bright","extremes-blue-gray-bright","highlight-red-gray-bright","highlight-purple-gray-bright","highlight-blue-bright-gray-bright","highlight-green-gray-bright","highlight-yellow-gray-bright","highlight-pink-gray-dark","highlight-purple-gray-dark","highlight-blue-bright-gray-dark","highlight-green-gray-dark","highlight-brown-gray-dark","extremes-red-gray-bright","extremes-purple-gray-bright","extremes-blue-bright-gray-bright","extremes-green-gray-bright","extremes-yellow-gray-bright","extremes-pink-gray-dark","extremes-purple-gray-dark","extremes-blue-bright-gray-dark","extremes-green-gray-dark","extremes-brown-gray-dark"],RT={light:{common:u7.grayBasemaps,primary:"seq-single-blues",secondary:[...eW,...tW].filter(t=>t!=="seq-single-blues")},dark:{common:u7.grayBasemaps,primary:"seq-blue-gray-bright",secondary:[...tW,...eW].filter(t=>t!=="seq-blue-gray-bright")}},Wce=jJe({themeDictionary:{"high-to-low":{name:"high-to-low",label:"TODO",description:"TODO",schemes:{default:RT}},"above-and-below":{name:"above-and-below",label:"TODO",description:"TODO",schemes:{default:{light:{common:u7.grayBasemaps,primary:"div-rdbu",secondary:[...iW,...rW].filter(t=>t!=="div-rdbu")},dark:{common:u7.grayBasemaps,primary:"div-blue-red-bright-1",secondary:[...rW,...iW].filter(t=>t!=="div-blue-red-bright-1")}}}},"centered-on":{name:"centered-on",label:"TODO",description:"TODO",schemes:{default:{light:{common:{outline:B2.lighter,width:"2px",size:"8px"},primary:"highlight-orange",primaryGray:"highlight-orange-gray",secondary:[...sW,...nW].filter(t=>t!=="highlight-orange")},dark:{common:{outline:B2.light,width:"2px",size:"8px"},primary:"highlight-orange-bright",primaryGray:"highlight-orange-gray-bright",secondary:[...nW,...sW].filter(t=>t!=="highlight-orange-bright")}}}},extremes:{name:"extremes",label:"TODO",description:"TODO",schemes:{default:{light:{common:{outline:B2.lighter,width:"2px",size:"8px"},primary:"extremesdiv-orange-purple",primaryGray:"extremes-orange-gray",secondary:[...aW,...oW].filter(t=>t!=="extremesdiv-orange-purple")},dark:{common:{outline:B2.light,width:"2px",size:"8px"},primary:"extremesdiv-orange-blue",primaryGray:"extremes-orange-gray-bright",secondary:[...oW,...aW].filter(t=>t!=="extremesdiv-orange-blue")}}}},above:{name:"above",label:"TODO",description:"TODO",schemes:{default:RT}},below:{name:"below",label:"TODO",description:"TODO",schemes:{default:RT}}}});function Zce(t){const e=t.theme,i=Hce({basemap:t.basemap,basemapTheme:t.basemapTheme,theme:e?Wce.get(e):null});if(!i)return;let r=i.schemesInfo;const s=r.common,{basemapId:n,basemapTheme:a}=i;!t.worldScale||e!=="centered-on"&&e!=="extremes"||(r={...r},r.secondary=r.secondary.slice(),r.secondary.push(r.primary),r.primary=r.primaryGray,delete r.primaryGray,r.secondary=r.secondary.filter(l=>{const u=l.includes("gray");return l!==r.primary&&u}));const o={...t,basemap:n};return{primaryScheme:eP(o,r.primary,s),secondarySchemes:r.secondary.map(l=>eP(o,l,s)).filter(Kt),basemapId:n,basemapTheme:a}}function JJe(t){return qJe(t.name,Zce(t))}function YJe(t){let e,i,r="";const s=t.id;if(s){const o=s.split("/");o&&(r=o[0],e=o[1],i=o[2])}const n=Hce({basemap:e,theme:Wce.get(r)});if(!n)return;const{schemesInfo:a}=n;return eP({theme:r,basemap:e,geometryType:t.geometryType,worldScale:t.worldScale,view:t.view},i,a.common)}function d7(t){if(!t)return;const e={...t};return e.colors=e.colors.map(i=>new ee(i)),e.tags=[...e.tags],e.colorsForClassBreaks=e.colorsForClassBreaks.map(i=>({numClasses:i.numClasses,colors:i.colors.map(r=>new ee(r))})),e.noDataColor&&(e.noDataColor=new ee(e.noDataColor)),"outline"in e&&e.outline&&(e.outline={color:e.outline.color&&new ee(e.outline.color),width:e.outline.width}),e}function eP(t,e,i,r){if(r??(r=DJe[e]),!r)return;const s=t.theme??"",n=t.geometryType!=="mesh"&&t.worldScale?t.view:null;let a=i.fillOpacity;a==null&&e!=null&&lW.includes(e)&&(a=.8);const o=t.theme==="below",l=r.stops?o?[...r.stops].reverse():r.stops:[],u=[];for(const m in r)if(m!=="stops"&&m!=="name"&&m!=="tags"){const g=+m;u.push({numClasses:g,colors:o?[...r[g]].reverse():r[g]})}const d=e!=null&&lW.includes(e)?WJe:HJe,h=s+"/"+t.basemap+"/"+e,p=a||1;switch(t.geometryType){case"point":case"multipoint":return XJe({id:h,name:r.name,tags:r.tags,theme:s,opacity:p,colors:l,colorsForClassBreaks:u,noDataColor:d,outline:i.outline,size:i.size},n);case"polyline":return QJe({id:h,name:r.name,tags:r.tags,theme:s,opacity:p,colors:l,colorsForClassBreaks:u,noDataColor:d,width:i.width},n);case"polygon":return KJe({id:h,name:r.name,tags:r.tags,theme:s,opacity:p,colors:l,colorsForClassBreaks:u,noDataColor:d,outline:i.outline,size:ZJe},n);case"mesh":return eYe({id:h,name:r.name,tags:r.tags,theme:s,opacity:p,colors:l,colorsForClassBreaks:u,noDataColor:d});default:return}}function XJe(t,e){return{id:t.id,name:t.name,tags:[...t.tags],theme:t.theme,colors:t.colors.map(i=>new ee(i)),colorsForClassBreaks:ix(t.colorsForClassBreaks),noDataColor:new ee(t.noDataColor),outline:{color:new ee(t.outline.color),width:t.outline.width},size:e&&e.type==="3d"?hF(t.size,e):t.size,opacity:t.opacity}}function QJe(t,e){return{id:t.id,name:t.name,tags:[...t.tags],theme:t.theme,colors:t.colors.map(i=>new ee(i)),colorsForClassBreaks:ix(t.colorsForClassBreaks),noDataColor:new ee(t.noDataColor),width:e&&e.type==="3d"?hF(t.width,e):t.width,opacity:t.opacity}}function KJe(t,e){return{id:t.id,name:t.name,tags:[...t.tags],theme:t.theme,colors:t.colors.map(i=>new ee(i)),colorsForClassBreaks:ix(t.colorsForClassBreaks),noDataColor:new ee(t.noDataColor),outline:{color:new ee(t.outline.color),width:t.outline.width},opacity:t.opacity,size:e&&e.type==="3d"?hF(t.size,e):t.size}}function eYe(t){return{id:t.id,name:t.name,tags:[...t.tags],theme:t.theme,colors:t.colors.map(e=>new ee(e)),colorsForClassBreaks:ix(t.colorsForClassBreaks),noDataColor:new ee(t.noDataColor),opacity:t.opacity}}function ix(t){return t.map(e=>({numClasses:e.numClasses,colors:e.colors.map(i=>new ee(i))}))}const tYe="high-to-low",iYe=2**53-1,OT=5;async function rYe(t){if(!(t&&t.layer&&(t.field||t.valueExpression||t.sqlExpression)))throw new P("color-visual-variable:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(t.valueExpression&&!t.sqlExpression&&!t.view)throw new P("color-visual-variable:missing-parameters","View is required when 'valueExpression' is specified");t.forBinning&&A1(t,"color-visual-variable");const e={...t},i=t.forBinning?P1:C3,r=R1(e.layer,i,t.forBinning);if(!r)throw new P("color-visual-variable:invalid-parameters","'layer' must be one of these types: "+L1(i).join(", "));const s=e.signal!=null?{signal:e.signal}:null;if(await r.load(s),r.geometryType!=="mesh"&&e.worldScale&&(!e.view||e.view.type!=="3d"))throw new P("color-visual-variable:invalid-parameters","'view' parameter should be an instance of SceneView when 'worldScale' parameter is true");const n=await ad({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}),a=Gce(r,n,"color-visual-variable:invalid-parameters");if(a)throw a;return{...e,layer:r}}async function sYe(t){if(!(t&&t.layer&&(t.field||t.valueExpression||t.sqlExpression)))throw new P("color-continuous-renderer:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(t.valueExpression&&!t.sqlExpression&&!t.view)throw new P("color-continuous-renderer:missing-parameters","View is required when 'valueExpression' is specified");t.forBinning&&A1(t,"color-continuous-renderer");const e={...t};e.symbolType=e.symbolType||"2d",e.defaultSymbolEnabled??(e.defaultSymbolEnabled=!0);const i=t.forBinning?P1:C3,r=R1(e.layer,i,t.forBinning);if(!r)throw new P("color-continuous-renderer:invalid-parameters","'layer' must be one of these types: "+L1(i).join(", "));const s=e.signal!=null?{signal:e.signal}:null;await r.load(s);const n=r.geometryType;if(e.outlineOptimizationEnabled=n==="polygon"&&e.outlineOptimizationEnabled,e.sizeOptimizationEnabled=(n==="point"||n==="multipoint"||n==="polyline")&&e.sizeOptimizationEnabled,n==="mesh")e.symbolType="3d-volumetric",e.colorMixMode=e.colorMixMode||"replace",e.edgesType=e.edgesType||"none";else{if(e.symbolType==="3d-volumetric-uniform"&&n!=="point")throw new P("color-continuous-renderer:not-supported","3d-volumetric-uniform symbols are supported for point layers only");if(e.symbolType.includes("3d-volumetric")&&(!e.view||e.view.type!=="3d"))throw new P("color-continuous-renderer:invalid-parameters","'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or '3d-volumetric-uniform'")}const a=await ad({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}),o=Gce(r,a,"color-continuous-renderer:invalid-parameters");if(o)throw o;return{...e,layer:r}}function nYe(t){var s;const e={...t},i=!!((s=e.symbolType)!=null&&s.includes("3d-volumetric"));delete e.symbolType,delete e.defaultSymbolEnabled,delete e.colorMixMode,delete e.edgesType;const r=e;return r.worldScale=i,r}async function aYe(t,e){let i=t.colorScheme,r=null,s=null;const{view:n}=t,a=await NJe(t.basemap,n);if(r=a.basemapId!=null?a.basemapId:null,s=a.basemapTheme!=null?a.basemapTheme:null,i)return{scheme:d7(i),basemapId:r,basemapTheme:s};const o=t.theme||tYe,l=Zce({theme:o,basemapTheme:s,geometryType:t.geometryType,worldScale:t.worldScale,view:n});if(l)if(r=l.basemapId,s=l.basemapTheme,t.schemeId){const u=o+"/"+r+"/"+t.schemeId;i=YJe({id:u,geometryType:t.geometryType})}else i=l.primaryScheme;return{scheme:i,basemapId:r,basemapTheme:s}}function oYe(t,e,i,r){const s=MJe(t,e,i);return{values:AJe(s,t,e,r),defaultValuesUsed:s.defaultValuesUsed}}async function lYe(t,e,i,r){const{field:s,theme:n}=t,a=await aYe({basemap:t.basemap,theme:t.theme,geometryType:i,colorScheme:t.colorScheme,worldScale:t.worldScale,view:t.view}),o=a.scheme;if(!o)throw new P("color-visual-variable:insufficient-info","Unable to find color scheme");const l=CU(o.colors,OT);if(l.length<OT)throw new P("color-visual-variable:insufficient-info","Color scheme does not have enough colors");const u=o.id.includes("seq-"),{values:d,defaultValuesUsed:h}=oYe(e,n,r,u),p=CU(l,OT),m=new qu({field:s??void 0,valueExpression:t.valueExpression,valueExpressionTitle:t.valueExpressionTitle,normalizationField:t.normalizationField,stops:d.map((v,w)=>new VR({value:v,color:p[w]})),legendOptions:o1(zR,t.legendOptions)}),g=new ase({type:"color",minSliderValue:t.minValue!=null?t.minValue:e.min,maxSliderValue:t.maxValue!=null?t.maxValue:e.max,theme:o.theme}),b=new Zt({visualVariables:[g]});return{basemapId:a.basemapId,basemapTheme:a.basemapTheme,visualVariable:m,statistics:e,defaultValuesUsed:h,colorScheme:d7(o),authoringInfo:b}}async function cYe(t,e,i,r,s,n,a){var m;const o=await q7("esri/smartMapping/t9n/smartMapping"),{field:l,defaultSymbolEnabled:u}=a,d=d7(t.colorScheme),h=e==null?void 0:e.opacity,p=[t.visualVariable.clone()];return(m=e==null?void 0:e.visualVariables)!=null&&m.length&&p.push(...e.visualVariables.map(g=>g.clone())),i!=null&&i.minSize&&p.push(i.minSize),{renderer:new Ai({classBreakInfos:[{minValue:-9007199254740991,maxValue:iYe,symbol:QH(n,{type:a.symbolType,color:d.noDataColor,size:YH(d,n),outline:XH(d,n,h),meshInfo:{colorMixMode:a.colorMixMode,edgesType:a.edgesType}})}],defaultLabel:u?o.other:null,defaultSymbol:u?QH(n,{type:a.symbolType,color:d.noDataColor,size:YH(d,n),outline:XH(d,n,h),meshInfo:{colorMixMode:a.colorMixMode,edgesType:a.edgesType}}):null,field:l,normalizationType:r,normalizationField:s,valueExpression:a.valueExpression,valueExpressionTitle:a.valueExpressionTitle,visualVariables:p,authoringInfo:t.authoringInfo&&t.authoringInfo.clone()}),visualVariable:t.visualVariable.clone(),statistics:t.statistics,defaultValuesUsed:t.defaultValuesUsed,colorScheme:d7(t.colorScheme),basemapId:t.basemapId,basemapTheme:t.basemapTheme}}async function uYe(t){const e=await rYe(t),{view:i,field:r,valueExpression:s,minValue:n,maxValue:a,layer:o,normalizationField:l,signal:u,filter:d,statistics:h}=e,p=l?"field":void 0,m=await(h??FJe({layer:o,field:r,valueExpression:s,sqlExpression:e.sqlExpression,sqlWhere:e.sqlWhere,normalizationType:p,normalizationField:l,minValue:n,maxValue:a,filter:d,view:i,signal:u})),g=o,b=r&&typeof r!="function"?g.getField(r):null;return lYe(e,m,g.geometryType,Js(b))}async function dYe(t){const e=await sYe(t),{layer:i,view:r,signal:s,filter:n}=e,[a,o,l]=await Promise.all([uYe(nYe(e)),e.outlineOptimizationEnabled?KZe({layer:i,view:r,signal:s,filter:n}).catch(KH):null,e.sizeOptimizationEnabled?$Je({layer:i,view:r,signal:s,filter:n}).catch(KH):null]),u=e.normalizationField;return cYe(a,o,l,u?"field":void 0,u,i.geometryType,e)}hfe(window);const os=document.getElementById("mapEl"),Ge={allRelatedFeatures:[],minValue:500,highlightHandle:null,activeWidget:null,actionBarExpanded:!1,alaskaView:null,hawaiiView:null,linesLayer:null,pointsLayer:null};function tP(t,e){for(const i of t.items||t){if(i.title===e)return i;if(i.type==="group"&&i.layers){const r=tP(i.layers,e);if(r)return r}}return null}function Jce(t){let e=[];for(const i of t.items||t)i.type==="group"&&i.layers?e=e.concat(Jce(i.layers)):i.type==="feature"&&e.push(i);return e}function cW(){const t=["Household Income","Individual Income"];return Jce(os.map.layers).filter(i=>t.includes(i.title))}const fYe={"Household Income":[{label:"Change in Household Income between 1978 and 1992 (1st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p1"},{label:"Change in Household Income between 1978 and 1992 (25st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p25"},{label:"Change in Household Income between 1978 and 1992 (50st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p50"},{label:"Change in Household Income between 1978 and 1992 (75st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p75"},{label:"Change in Household Income between 1978 and 1992 (100st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p100"}],"Individual Income":[{label:"Change in Individual Income between 1978 and 1992 (1st Percentile)",expression:"$feature.change_kii_pooled_pooled_p1"},{label:"Change in Individual Income between 1978 and 1992 (25th Percentile)",expression:"$feature.change_kii_pooled_pooled_p25"},{label:"Change in Individual Income between 1978 and 1992 (50th Percentile)",expression:"$feature.change_kii_pooled_pooled_p50"},{label:"Change in Individual Income between 1978 and 1992 (75th Percentile)",expression:"$feature.change_kii_pooled_pooled_p75"},{label:"Change in Individual Income between 1978 and 1992 (100th Percentile)",expression:"$feature.change_kii_pooled_pooled_p100"}]};os.addEventListener("arcgisViewReadyChange",async t=>{const e=tP(os.map.layers,"Household Income");e&&await e.load();const i=tP(os.map.layers,"Individual Income");i&&await i.load(),os.view.constraints={minZoom:4,maxZoom:12},os.view.padding={left:49};const r=({target:_})=>{if(_.tagName!=="CALCITE-ACTION"||_.id==="info-action")return;document.querySelectorAll("calcite-panel").forEach(T=>{T.closed=!0}),document.querySelectorAll("calcite-action").forEach(T=>{T.active=!1});const S=_.dataset.actionId;if(S!==Ge.activeWidget){document.querySelector(`[data-action-id=${S}]`).active=!0;const T=document.querySelector(`[data-panel-id=${S}]`);T&&(T.closed=!1,T.setFocus()),Ge.activeWidget=S}else Ge.activeWidget=null};document.querySelectorAll("calcite-panel").forEach(_=>{_.addEventListener("calcitePanelClose",()=>{const S=document.querySelector(`[data-action-id=${Ge.activeWidget}]`);S&&(S.active=!1,S.setFocus()),Ge.activeWidget=null})}),document.querySelector("calcite-action-bar").addEventListener("click",r),document.addEventListener("calciteActionBarToggle",_=>{Ge.actionBarExpanded=!Ge.actionBarExpanded,os.view.padding={left:Ge.actionBarExpanded?135:49}}),document.querySelector("calcite-shell").hidden=!1,document.querySelector("calcite-loader").hidden=!0,Ge.graphicsLayer=new Mo({listMode:"hide"}),os.map.add(Ge.graphicsLayer),Ge.linesLayer=new Mo({listMode:"hide"}),Ge.pointsLayer=new Mo({listMode:"hide"}),os.map.add(Ge.linesLayer),os.map.add(Ge.pointsLayer);const s=document.getElementById("slider-left");s&&s.addEventListener("calciteSliderInput",_=>{Ge.minValue=_.target.valueAsNumber||_.target.value,Ge.allRelatedFeatures.length>0&&l(Ge.allRelatedFeatures,Ge.minValue)});const n=document.getElementById("slider-left");n&&(n.labelFormatter=function(_,S){if(S==="value"){if(_===n.min)return"<100 people>";if(_===n.max)return">10,000 people"}});const a=document.getElementById("draw-lines-btn");a&&a.addEventListener("click",()=>{Ge.allRelatedFeatures.length>0&&l(Ge.allRelatedFeatures,Ge.minValue)});const o=document.getElementById("clear-lines-btn");o&&o.addEventListener("click",()=>{Ge.linesLayer.removeAll(),Ge.pointsLayer.removeAll()});function l(_,S){Ge.linesLayer.removeAll(),Ge.pointsLayer.removeAll();const T=_.filter(F=>F.attributes.n>=S).map(F=>F.attributes.n),C=Math.min(...T),A=Math.max(...T),O=[],L=[];_.forEach(F=>{if(F.attributes.o_cz!==F.attributes.d_cz){const D=F.attributes.n;if(D>=S&&D>0){const G=_.filter(qi=>qi.attributes.o_cz===F.attributes.o_cz).reduce((qi,ur)=>qi+(ur.attributes.n||0),0),H=G>0?D/G*100:0,se=Math.min(12,Math.max(1,Math.log10(D)-1));let X=(D-C)/(A-C);isFinite(X)||(X=0);const ue=[Math.round(51+-173*X),Math.round(102+-165*X),Math.round(204+-77*X),.85],xe={type:"polyline",paths:[[F.attributes.o_x_coord,F.attributes.o_y_coord],[F.attributes.d_x_coord,F.attributes.d_y_coord]],spatialReference:{wkid:4326}},be=_.find(qi=>qi.attributes.o_cz===F.attributes.o_cz&&qi.attributes.d_cz===F.attributes.o_cz),ye=be?be.attributes.pr_d_o:null,at=new mt({geometry:xe,symbol:{type:"simple-line",color:ue,width:se},attributes:{...F.attributes,o_cz:F.attributes.o_cz,d_cz:F.attributes.d_cz},popupTemplate:{title:"{o_cz_name}, {o_state_name} → {d_cz_name}, {d_state_name}",content:`<br/>Of the individuals that moved between childhood (measured by location at age 16) and young adulthood (location at age 26), <b>${D.toLocaleString()}</b> people moved from <b>{o_cz_name}</b> to <b>{d_cz_name}</b>.
                This represents <b>${H.toFixed(1)}%</b> of young adults that left <b>{o_cz_name}</b>.
                <b>${ye!==null?(ye*100).toFixed(1):"?"}%</b> of young adults stayed in the <b>{o_cz_name}</b> commuting zone.<br/>`}});O.push(at)}}else{let D=F.attributes.n;if((!D||D===0)&&(D=F.attributes.n_tot_o||F.attributes.n_tot_d||0),D>=S&&D>0){const G=Math.min(12,Math.max(1,Math.log10(D)-1));let H=F.attributes.pr_d_o;if(F.attributes.o_cz===F.attributes.d_cz){const ue=_.find(xe=>xe.attributes.o_cz===F.attributes.o_cz&&xe.attributes.d_cz===F.attributes.d_cz&&xe!==F);ue&&(H=ue.attributes.pr_d_o)}const se={type:"point",x:F.attributes.o_x_coord,y:F.attributes.o_y_coord,spatialReference:{wkid:4326}},X=new mt({geometry:se,symbol:{type:"simple-marker",color:[0,153,51,.7],size:Math.max(8,G*2),outline:{color:[255,255,255,.8],width:1.5}},attributes:{...F.attributes,o_cz:F.attributes.o_cz,d_cz:F.attributes.d_cz},popupTemplate:{title:"{o_cz_name}, {o_state_name}",content:`<br/>Of the individuals that moved between childhood (measured by location at age 16) and young adulthood (location at age 26), <b>${(H*100).toFixed(1)}%</b> (${D.toLocaleString()}) of young adults stayed in the <b>{o_cz_name} Commuting Zone.</b>.`}});L.push(X)}}}),Ge.linesLayer.addMany(O),Ge.pointsLayer.addMany(L)}async function u(_){let S=_.attributes.cz_id;if(!S&&_.attributes.OBJECTID){const A=_.layer,O=A.createQuery();O.objectIds=[_.attributes.OBJECTID],O.outFields=["*"];const L=await A.queryFeatures(O);L.features.length>0&&(S=L.features[0].attributes.cz_id)}if(!S){console.error("cz_id is undefined. Cannot run query.",_.attributes);return}const T=new he({url:"https://services1.arcgis.com/4yjifSiIG17X0gW4/arcgis/rest/services/Commuting_Zone_Migration_Centroid_Test/FeatureServer"}),C=T.createQuery();C.where=`cz = ${S}`,C.outFields=["o_x_coord","o_y_coord","d_x_coord","d_y_coord","n","o_cz_name","d_cz_name","o_state_name","d_state_name","o_cz","d_cz","n_tot_o","n_tot_d","pr_d_o","pr_o_d"],C.returnGeometry=!1;try{const A=await T.queryFeatures(C);Ge.allRelatedFeatures=A.features}catch(A){console.error("Error querying centroid features:",A)}}function d(_){_.when(()=>{_.on("click",async S=>{var L,F,D,G;const T=await _.hitTest(S),C=document.getElementById("feature-info-panel"),A=document.getElementById("feature-info"),O=(L=T.results.find(H=>{var se,X,ue,xe,be,ye,at,qi,ur,Ii;return((X=(se=H.graphic)==null?void 0:se.layer)==null?void 0:X.type)==="feature"||((xe=(ue=H.graphic)==null?void 0:ue.geometry)==null?void 0:xe.type)==="polyline"&&((ye=(be=H.graphic)==null?void 0:be.layer)==null?void 0:ye.type)==="graphics"||((qi=(at=H.graphic)==null?void 0:at.geometry)==null?void 0:qi.type)==="point"&&((Ii=(ur=H.graphic)==null?void 0:ur.layer)==null?void 0:Ii.type)==="graphics"}))==null?void 0:L.graphic;if(O){if(v(O,_),((F=O.geometry)==null?void 0:F.type)==="polygon"&&u(O),((D=O.geometry)==null?void 0:D.type)==="polyline"&&O.attributes.o_cz&&O.attributes.d_cz){const H=O.attributes.o_cz,se=O.attributes.d_cz;console.log("Line clicked. o_cz:",H,"d_cz:",se);const X=new he({url:"https://services8.arcgis.com/peDZJliSvYims39Q/arcgis/rest/services/Commuting_Zone_Covariates_Table/FeatureServer",outFields:["*"]}),ue=X.createQuery();ue.where=`cz IN (${H}, ${se})`,ue.returnGeometry=!1,console.log("Query where clause:",ue.where);try{let at=function(Ii,Uc){if(!Ii)return`<div>No data for ${Uc}.</div>`;const kh=Math.round(Ii.change_emp_pooled1990_2010*100)/1,y0=Math.round(Ii.change_emp_pooled1980_2000*100)/1,g0=Math.round(Ii.change_frac_coll_pooled1980_200*100)/1,Ah=Math.round(Ii.change_frac_coll_pooled1990_201*100)/1;return`
                  <div style="margin-bottom:8px;"><b>${Uc} Neighborhood Characteristics</b></div>
                  <table style="width:100%; border:1px solid LightGray; border-collapse: collapse;">
                    <tr><th style="border:1px solid LightGray;">Change in Employment Rate 1980-2000</th>
                      <th style="border:1px solid LightGray;">Change in Employment Rate 1990-2010</th></tr>
                    <tr><td style="text-align:center; border:1px solid LightGray;">${y0}%</td>
                      <td style="text-align:center; border:1px solid LightGray;">${kh}%</td></tr>
                    <tr><th style="border:1px solid LightGray;">Change in College Graduation Rate 1980-2000</th>
                      <th style="border:1px solid LightGray;">Change in College Graduation Rate 1990-2010</th></tr>
                    <tr><td style="text-align:center; border:1px solid LightGray;">${g0}%</td>
                      <td style="text-align:center; border:1px solid LightGray;">${Ah}%</td></tr>
                  </table>
                `};const xe=await X.queryFeatures(ue);console.log("Covariate table query result:",xe);let be="No info found.",ye="No info found.";xe.features.forEach(Ii=>{console.log("Feature from covariate table:",Ii.attributes),Ii.attributes.cz==H&&(be=Ii.attributes),Ii.attributes.cz==se&&(ye=Ii.attributes)});const qi=at(be,"Origin"),ur=at(ye,"Destination");O._baseContent||(O._baseContent=O.popupTemplate.content),O.popupTemplate={title:O.popupTemplate.title,content:`
                  ${O._baseContent}
                  <br/><h3>Neighborhood Characteristics</h3> 
                  ${qi}
                  <br/>
                  ${ur}
                `},console.log("Updated popupTemplate:",O.popupTemplate),A.graphic=null,A.graphic=O}catch(xe){console.error("Error querying extra info table:",xe)}}if(((G=O.geometry)==null?void 0:G.type)==="point"){A.graphic=O,C.closed=!1;return}A.graphic=O,C.closed=!1}else A.graphic=null,C.closed=!0})})}Ge.alaskaView=new yC({container:"alaskaViewDiv",map:os.map,center:[-152.4044,64.2008],zoom:2,ui:{components:[]},popupEnabled:!1}),Ge.hawaiiView=new yC({container:"hawaiiViewDiv",map:os.map,center:[-157.5828,20.8968],zoom:4,ui:{components:[]},popupEnabled:!1}),os.view.popupEnabled=!1,d(os.view),d(Ge.alaskaView),d(Ge.hawaiiView);function h(){return cW().find(S=>S.visible)}function p(){const _=h();return _?fYe[_.title]||[]:[]}const m=document.getElementById("field-select");function g(){m.innerHTML="";const _=document.createElement("calcite-option");_.value="",_.textContent="Select a field to visualize",_.disabled=!0,_.selected=!0,m.appendChild(_);const S=p();S.forEach((T,C)=>{const A=document.createElement("calcite-option");A.value=C,A.textContent=T.label,m.appendChild(A)}),S.length>0?m.selectedIndex=1:(m.selectedIndex=0,updateFeatureInfoTitle())}async function b(_){const S=h();if(!S)return;const T=os.view,A=p()[_];if(!A)return;const O=A.expression;let L;S.title==="Household Income"?L="Green and Blue 3":S.title==="Individual Income"&&(L="Red and Green 6");let F=JJe({basemap:T.map.basemap,geometryType:"polygon",theme:"above-and-below",name:L});const H={layer:S,view:T,valueExpression:O,valueExpressionTitle:A.label,colorScheme:F,theme:"above-and-below",outlineOptimizationEnabled:!0,statistics:{min:-5e3,max:5e3}};try{let be=function(ye){ye&&ye.outline&&(ye.outline.color=ue,ye.outline.width=xe)};const X=(await dYe(H)).renderer,ue=[255,255,255,.25],xe=.2;X.symbol&&be(X.symbol),X.classBreakInfos&&X.classBreakInfos.forEach(ye=>be(ye.symbol)),X.uniqueValueInfos&&X.uniqueValueInfos.forEach(ye=>be(ye.symbol)),X.visualVariables&&X.visualVariables.forEach(ye=>{ye.stops&&ye.stops.forEach(at=>{at.symbol&&be(at.symbol)})}),X.defaultSymbol={type:"simple-fill",color:[200,200,200,1],outline:{color:ue,width:xe}},X.defaultLabel="No Data",S.renderer=X,S.featureEffect={filter:{where:`${_} IS NOT NULL`},includedEffect:"drop-shadow(0px, 2px, 8px, #333)",excludedEffect:"grayscale(100%) opacity(30%)"}}catch(se){console.error("Failed to create smartMapping renderer:",se)}}m.addEventListener("calciteSelectChange",_=>{b(_.target.value)}),cW().forEach(_=>{Y(()=>_.visible,()=>{g()})}),g();function v(_,S){if(Ge.highlightHandle&&(Ge.highlightHandle.remove(),Ge.highlightHandle=null),_.geometry.type==="polygon"?S.highlightOptions={color:[255,255,0,1],fillOpacity:.2,haloOpacity:.8}:_.geometry.type==="polyline"?S.highlightOptions={color:[0,255,255,1],haloOpacity:.8}:_.geometry.type==="point"&&(S.highlightOptions={color:[255,0,255,1],haloOpacity:.8}),_.layer&&_.layer.type==="feature")S.whenLayerView(_.layer).then(T=>{Ge.highlightHandle=T.highlight(_)});else if(_.layer&&_.layer.type==="graphics"){let T=null;_.geometry.type==="polyline"?T=Ge.linesLayer:_.geometry.type==="point"&&(T=Ge.pointsLayer),T&&S.whenLayerView(T).then(C=>{Ge.highlightHandle=C.highlight(_)})}}function w(_){_.on("click",async S=>{const C=(await _.hitTest(S)).results.find(A=>{var O;return A.graphic&&(((O=A.graphic.layer)==null?void 0:O.type)==="feature"||A.graphic.layer===Ge.linesLayer||A.graphic.layer===Ge.pointsLayer)});C&&C.graphic?v(C.graphic,_):Ge.highlightHandle&&(Ge.highlightHandle.remove(),Ge.highlightHandle=null)})}w(os.view),w(Ge.alaskaView),w(Ge.hawaiiView),document.getElementById("info-action").addEventListener("click",()=>{document.getElementById("about-dialog").open=!0}),document.getElementById("about-dialog-close").addEventListener("click",()=>{document.getElementById("about-dialog").open=!1})});export{sP as $,gUe as A,zl as B,px as C,YW as D,dt as E,nut as F,kYe as G,Rut as H,Ile as I,jO as J,vBe as K,Ts as L,RA as M,Bqe as N,mut as O,TUe as P,FT as Q,hut as R,wut as S,aut as T,lut as U,vut as V,Wqe as W,sut as X,Hqe as Y,sfe as Z,rP as _,Bs as a,ut as a$,$Ye as a0,_ut as a1,gut as a2,wf as a3,TYe as a4,xYe as a5,SYe as a6,IYe as a7,od as a8,KBe as a9,jst as aA,ER as aB,P as aC,DTe as aD,w7 as aE,VF as aF,e_e as aG,NTe as aH,ke as aI,ie as aJ,NKe as aK,lr as aL,Cc as aM,Y as aN,q as aO,vCe as aP,it as aQ,VIe as aR,Iq as aS,_6 as aT,mnt as aU,Ie as aV,KC as aW,xt as aX,qe as aY,Dw as aZ,uh as a_,FG as aa,Ole as ab,yut as ac,FW as ad,eZ as ae,PYe as af,but as ag,NLe as ah,wUe as ai,Oot as aj,gP as ak,R as al,Uqe as am,fut as an,rut as ao,qO as ap,put as aq,AYe as ar,uut as as,OW as at,Kqe as au,Zst as av,zc as aw,Kt as ax,qst as ay,FKe as az,z_ as b,wAe as b$,_P as b0,kP as b1,ti as b2,Nl as b3,W as b4,qKe as b5,le as b6,iat as b7,me as b8,ST as b9,LK as bA,n3e as bB,ynt as bC,Eq as bD,Mn as bE,K as bF,fR as bG,Cwe as bH,gK as bI,qm as bJ,Knt as bK,Iet as bL,Sh as bM,dh as bN,ua as bO,iAe as bP,Ws as bQ,vAe as bR,wie as bS,hAe as bT,T7e as bU,W7e as bV,rC as bW,gne as bX,cAe as bY,bne as bZ,yne as b_,c as ba,f as bb,E as bc,z7e as bd,_e as be,ze as bf,MCe as bg,AS as bh,li as bi,Tve as bj,da as bk,F9 as bl,$Qe as bm,fQe as bn,mt as bo,Xa as bp,z as bq,IMe as br,EMe as bs,MMe as bt,B as bu,$h as bv,W1e as bw,g1 as bx,G1e as by,G_e as bz,K8 as c,aKe as c$,pAe as c0,eAe as c1,rAe as c2,eS as c3,d7e as c4,wc as c5,J1e as c6,Y1e as c7,X1e as c8,pJ as c9,Si as cA,uQe as cB,RKe as cC,Pe as cD,YTe as cE,EPe as cF,IR as cG,zKe as cH,DKe as cI,lE as cJ,vj as cK,v8 as cL,mst as cM,pB as cN,hB as cO,Wr as cP,Lrt as cQ,Axe as cR,qze as cS,loe as cT,sj as cU,rj as cV,ij as cW,tj as cX,pt as cY,oKe as cZ,nKe as c_,U_e as ca,N7e as cb,jw as cc,Rc as cd,pi as ce,Fr as cf,Sg as cg,zet as ch,RGe as ci,Rz as cj,mtt as ck,bye as cl,FGe as cm,n1 as cn,Sm as co,Vm as cp,qw as cq,oi as cr,Zo as cs,MP as ct,jt as cu,U_ as cv,qc as cw,Vse as cx,kwe as cy,Pme as cz,_le as d,Je as d$,o1 as d0,wi as d1,Ut as d2,xs as d3,Fw as d4,o5 as d5,pL as d6,ei as d7,zte as d8,tm as d9,Os as dA,te as dB,ne as dC,Bl as dD,hS as dE,F4e as dF,N4e as dG,Zn as dH,yU as dI,HPe as dJ,R5 as dK,Fa as dL,Tn as dM,wL as dN,jXe as dO,Ji as dP,QF as dQ,tr as dR,vQ as dS,WYe as dT,hXe as dU,bd as dV,r1 as dW,Ee as dX,_m as dY,hxe as dZ,rrt as d_,aye as da,ht as db,zk as dc,bXe as dd,Pie as de,stt as df,o3 as dg,vtt as dh,fme as di,cd as dj,gC as dk,Xy as dl,pf as dm,QTe as dn,eet as dp,Y7 as dq,x3e as dr,yQe as ds,$3e as dt,b1 as du,fXe as dv,ld as dw,qJ as dx,Cne as dy,Xat as dz,p0 as e,l_ as e$,nrt as e0,bte as e1,S1 as e2,wr as e3,_et as e4,iS as e5,Le as e6,di as e7,v1 as e8,Tne as e9,Z2 as eA,UT as eB,OYe as eC,bxe as eD,tZ as eE,ce as eF,NPe as eG,Qat as eH,A1 as eI,fF as eJ,Ae as eK,P1 as eL,R1 as eM,L1 as eN,ad as eO,zWe as eP,DWe as eQ,Qa as eR,lh as eS,Xse as eT,Yse as eU,xc as eV,he as eW,hFe as eX,et as eY,$i as eZ,SOe as e_,qs as ea,ir as eb,Lt as ec,wI as ed,ai as ee,kn as ef,C4 as eg,vI as eh,SI as ei,Fie as ej,Se as ek,t_ as el,ui as em,m8 as en,Zxe as eo,Qi as ep,$9 as eq,tM as er,WQe as es,Xet as et,gtt as eu,hd as ev,uK as ew,Vl as ex,zs as ey,ji as ez,ple as f,sr as f$,ee as f0,pae as f1,xw as f2,bae as f3,rlt as f4,I1 as f5,Dct as f6,zct as f7,xOe as f8,JNe as f9,Tet as fA,Vc as fB,mh as fC,s0 as fD,n5e as fE,n3 as fF,C5e as fG,Met as fH,Gs as fI,Eet as fJ,YL as fK,rS as fL,qpe as fM,sY as fN,sL as fO,s0e as fP,vn as fQ,A7 as fR,hie as fS,vie as fT,h7e as fU,yie as fV,Yr as fW,bie as fX,Ym as fY,ca as fZ,pQe as f_,x9e as fa,B_ as fb,pZe as fc,Cce as fd,Pce as fe,ha as ff,ptt as fg,$ye as fh,_l as fi,HXe as fj,cZ as fk,lZ as fl,C7 as fm,k7 as fn,lL as fo,cL as fp,u0e as fq,d0e as fr,r3 as fs,Ww as ft,U7 as fu,jKe as fv,k4 as fw,n_ as fx,w1 as fy,v5e as fz,jqe as g,Sc as g$,Spe as g0,OXe as g1,NJ as g2,Ac as g3,XP as g4,Th as g5,jye as g6,fie as g7,Eh as g8,A7e as g9,si as gA,HEe as gB,BEe as gC,hi as gD,zi as gE,Qt as gF,Ns as gG,ys as gH,qEe as gI,GIe as gJ,yEe as gK,UIe as gL,ud as gM,Fc as gN,b7e as gO,v7e as gP,q7e as gQ,s_e as gR,UEe as gS,Oe as gT,Ow as gU,Ju as gV,Bm as gW,$n as gX,bPe as gY,Ea as gZ,$l as g_,F_e as ga,f7e as gb,gie as gc,j7e as gd,JXe as ge,R4 as gf,_7 as gg,S7 as gh,CZ as gi,Qnt as gj,Xe as gk,uce as gl,oQe as gm,Eme as gn,cn as go,JC as gp,kb as gq,IQe as gr,bnt as gs,oe as gt,Gre as gu,mPe as gv,rPe as gw,lPe as gx,Ene as gy,vS as gz,Iw as h,mdt as h$,Wot as h0,gEe as h1,Z7 as h2,IPe as h3,z4 as h4,Ye as h5,At as h6,DQe as h7,_ve as h8,wye as h9,vm as hA,QYe as hB,rd as hC,XYe as hD,wQe as hE,_Qe as hF,Qw as hG,_i as hH,Pte as hI,ms as hJ,lt as hK,Ha as hL,Sn as hM,LQe as hN,Fb as hO,jut as hP,AQ as hQ,hR,dnt as hS,F7e as hT,Lb as hU,CP as hV,ow as hW,Wfe as hX,gfe as hY,flt as hZ,ve as h_,HQe as ha,wd as hb,fd as hc,Mo as hd,qN as he,Ki as hf,Nw as hg,xke as hh,He as hi,oee as hj,uet as hk,pat as hl,det as hm,s3 as hn,Rr as ho,yat as hp,EHe as hq,k6 as hr,vdt as hs,cet as ht,bat as hu,Cdt as hv,fet as hw,Gf as hx,qXe as hy,BXe as hz,fa as i,PY as i$,pdt as i0,n0 as i1,Ft as i2,G4e as i3,Ert as i4,Xt as i5,$O as i6,xO as i7,tDe as i8,ftt as i9,nL as iA,aL as iB,yi as iC,YXe as iD,C_e as iE,PK as iF,x7e as iG,RK as iH,o0e as iI,eve as iJ,U as iK,R_e as iL,K1e as iM,tS as iN,CQ as iO,RYe as iP,_9 as iQ,KGe as iR,Wh as iS,jYe as iT,L7e as iU,S7e as iV,Yj as iW,Pb as iX,Wet as iY,Het as iZ,i9e as i_,ett as ia,zQe as ib,lJ as ic,Wx as id,r0 as ie,Mc as ig,AEe as ih,st as ii,u1 as ij,s1 as ik,cXe as il,cr as im,ilt as io,Ff as ip,M0e as iq,y0e as ir,SY as is,WPe as it,E8e as iu,XXe as iv,h8e as iw,P7e as ix,NN as iy,CI as iz,cut as j,oj as j$,Ot as j0,bi as j1,z3e as j2,N3e as j3,A3e as j4,cE as j5,Ys as j6,kve as j7,RXe as j8,Fs as j9,Pl as jA,DQ as jB,Pw as jC,UN as jD,Il as jE,Uf as jF,_me as jG,Dc as jH,Ja as jI,En as jJ,a_ as jK,WR as jL,ZEe as jM,WEe as jN,GEe as jO,vat as jP,Ont as jQ,QKe as jR,e8 as jS,WKe as jT,LYe as jU,Vqe as jV,jxe as jW,b8 as jX,g8 as jY,Xrt as jZ,qa as j_,Lme as ja,tL as jb,Ome as jc,Fme as jd,Um as je,E7 as jf,An as jg,oPe as jh,EEe as ji,tPe as jj,LEe as jk,vPe as jl,Ez as jm,fee as jn,MPe as jo,ICe as jp,JEe as jq,wPe as jr,$S as js,dU as jt,Jt as ju,nk as jv,xS as jw,BAe as jx,v3 as jy,jEe as jz,Qqe as k,Hp as k$,y8 as k0,nj as k1,cC as k2,Oie as k3,fC as k4,ist as k5,Bb as k6,est as k7,$m as k8,tst as k9,mw as kA,uC as kB,Wte as kC,WL as kD,Yp as kE,Hw as kF,Ice as kG,yZ as kH,Z1e as kI,H1e as kJ,y7e as kK,H7e as kL,Z7e as kM,T8e as kN,LS as kO,yAe as kP,EQ as kQ,l0e as kR,p0e as kS,pd as kT,g7e as kU,pie as kV,l4 as kW,u0 as kX,_h as kY,E7e as kZ,kr as k_,wo as ka,o6 as kb,ej as kc,dit as kd,eie as ke,vR as kf,JM as kg,Km as kh,v8e as ki,tie as kj,$j as kk,QV as kl,uXe as km,s7 as kn,ohe as ko,Ya as kp,k as kq,bs as kr,HP as ks,HJ as kt,vye as ku,Ni as kv,m8e as kw,g8e as kx,Kte as ky,VXe as kz,yle as l,qYe as l$,bWe as l0,Che as l1,zIe as l2,ZCe as l3,kEe as l4,iCe as l5,Mse as l6,fCe as l7,MJ as l8,OJ as l9,MS as lA,I8 as lB,Vt as lC,SCe as lD,eCe as lE,tCe as lF,sCe as lG,nCe as lH,yCe as lI,aCe as lJ,oCe as lK,lCe as lL,cCe as lM,uCe as lN,dCe as lO,Er as lP,Bfe as lQ,bJ as lR,js as lS,PQ as lT,pe as lU,or as lV,mQe as lW,iK as lX,Xpe as lY,BYe as lZ,UYe as l_,_re as la,Vst as lb,Ose as lc,OP as ld,Bc as le,ty as lf,Wi as lg,Gat as lh,VEe as li,Ay as lj,sPe as lk,Hn as ll,Ao as lm,Zot as ln,c1 as lo,Ai as lp,Bt as lq,aa as lr,z0 as ls,CU as lt,sae as lu,W$ as lv,As as lw,hCe as lx,gCe as ly,yse as lz,nfe as m,Ket as m$,pme as m0,vd as m1,W7 as m2,sZ as m3,zut as m4,al as m5,IXe as m6,nye as m7,kY as m8,qtt as m9,brt as mA,grt as mB,Srt as mC,_rt as mD,yrt as mE,mrt as mF,AXe as mG,hL as mH,Y0e as mI,Sye as mJ,xye as mK,gn as mL,kS as mM,xP as mN,GYe as mO,$P as mP,HYe as mQ,Npe as mR,ehe as mS,vXe as mT,tat as mU,eat as mV,Ase as mW,Cse as mX,Rme as mY,elt as mZ,rR as m_,KYe as ma,aE as mb,Hot as mc,pK as md,hdt as me,ydt as mf,hce as mg,kCe as mh,aO as mi,z8 as mj,It as mk,ULe as ml,Io as mm,QLe as mn,Pn as mo,M as mp,Ce as mq,Xu as mr,Wne as ms,lRe as mt,xi as mu,jne as mv,KLe as mw,XV as mx,wrt as my,vrt as mz,g_ as n,CWe as n$,Yet as n0,q8e as n1,B8e as n2,DU as n3,mie as n4,b4e as n5,oZ as n6,rt as n7,dd as n8,Is as n9,yst as nA,ct as nB,vQe as nC,V_ as nD,q$e as nE,wfe as nF,lQe as nG,EJ as nH,I7 as nI,hQe as nJ,IRe as nK,TU as nL,yh as nM,See as nN,xee as nO,$s as nP,Vo as nQ,FWe as nR,EWe as nS,sF as nT,gWe as nU,wce as nV,T_ as nW,IWe as nX,I_ as nY,xce as nZ,aF as n_,gg as na,$st as nb,W0e as nc,eye as nd,X_ as ne,PQe as nf,w8e as ng,XF as nh,prt as ni,j8 as nj,lI as nk,bP as nl,W2e as nm,BQe as nn,PP as no,TXe as np,$Xe as nq,Wwe as nr,ddt as ns,iHe as nt,hhe as nu,fhe as nv,jQe as nw,kAe as nx,vP as ny,rDe as nz,dut as o,wat as o$,CVe as o0,bL as o1,Aye as o2,RY as o3,NQe as o4,_ce as o5,AWe as o6,Cl as o7,bf as o8,Qn as o9,oS as oA,GLe as oB,wU as oC,jh as oD,aZ as oE,DYe as oF,aj as oG,rst as oH,mj as oI,sst as oJ,$t as oK,nct as oL,$c as oM,ag as oN,Ylt as oO,Jlt as oP,MXe as oQ,fS as oR,sd as oS,Pc as oT,gs as oU,R2 as oV,Nrt as oW,cR as oX,WM as oY,Ite as oZ,f3 as o_,Ml as oa,kWe as ob,tft as oc,wZe as od,LH as oe,eft as of,qee as og,_R as oh,hZe as oi,LQ as oj,Kdt as ok,dS as ol,tQe as om,eQe as on,qUe as oo,GS as op,Ate as oq,Cte as or,J6e as os,X6e as ot,V8 as ou,_s as ov,tRe as ow,Dne as ox,Nee as oy,Fee as oz,ole as p,xN as p$,Jf as p0,a$e as p1,l$e as p2,c$e as p3,aA as p4,qo as p5,Bdt as p6,Oee as p7,Uo as p8,rw as p9,$f as pA,gr as pB,I9e as pC,J8e as pD,CAe as pE,Og as pF,AAe as pG,h3 as pH,i4e as pI,IQ as pJ,MAe as pK,PAe as pL,Ive as pM,RQe as pN,AY as pO,uye as pP,l3 as pQ,c3 as pR,u3 as pS,L_e as pT,A_e as pU,P_e as pV,nZ as pW,DJ as pX,QP as pY,aQe as pZ,dY as p_,mCe as pa,pet as pb,$Ce as pc,Xnt as pd,Ynt as pe,_w as pf,Yf as pg,Jw as ph,gPe as pi,gQe as pj,rat as pk,mEe as pl,E8 as pm,Act as pn,z8e as po,Irt as pp,Mxe as pq,wj as pr,drt as ps,zxe as pt,N_e as pu,M_e as pv,k_e as pw,Cv as px,Zr as py,Mu as pz,zLe as q,IHe as q$,JJ as q0,P$e as q1,uH as q2,Sdt as q3,_dt as q4,Tdt as q5,xdt as q6,$dt as q7,Edt as q8,dH as q9,Gtt as qA,v4e as qB,Yze as qC,IGe as qD,cct as qE,xR as qF,Mct as qG,UMe as qH,BMe as qI,Xot as qJ,bQe as qK,ZL as qL,Lu as qM,Nb as qN,pEe as qO,MEe as qP,CEe as qQ,PEe as qR,JAe as qS,aPe as qT,UL as qU,I0 as qV,Idt as qW,Adt as qX,br as qY,yfe as qZ,kdt as q_,wdt as qa,Mdt as qb,uat as qc,o0 as qd,Dl as qe,gke as qf,QXe as qg,Jet as qh,Zet as qi,JP as qj,H_e as qk,B_e as ql,$7e as qm,q_e as qn,a9e as qo,y8e as qp,WXe as qq,p$e as qr,WJ as qs,Mb as qt,f1 as qu,cQe as qv,fE as qw,cK as qx,nlt as qy,Htt as qz,JO as r,HHe as r$,lj as r0,hf as r1,A$e as r2,Yrt as r3,KV as r4,Vxe as r5,hj as r6,fj as r7,xn as r8,b8e as r9,VKe as rA,Lct as rB,Pct as rC,kct as rD,Cct as rE,xct as rF,CO as rG,i9 as rH,$oe as rI,$ct as rJ,Sct as rK,Vs as rL,$Ne as rM,Ict as rN,aDe as rO,_lt as rP,Tnt as rQ,hwe as rR,Vee as rS,Int as rT,xv as rU,Fot as rV,Not as rW,TR as rX,Xs as rY,hlt as rZ,Ct as r_,jpe as ra,eDe as rb,wct as rc,L7 as rd,R7 as re,_ct as rf,p8 as rg,vct as rh,NY as ri,Oct as rj,Cxe as rk,Mrt as rl,Crt as rm,Rct as rn,za as ro,Nnt as rp,Dnt as rq,Fnt as rr,AO as rs,_8e as rt,Ect as ru,slt as rv,f0 as rw,mOe as rx,tv as ry,Oo as rz,ft as s,V7e as s$,o7 as s0,gi as s1,Im as s2,Dot as s3,BLe as s4,Pi as s5,che as s6,Bo as s7,Ctt as s8,ktt as s9,Pr as sA,wn as sB,yr as sC,jN as sD,f9e as sE,g9e as sF,btt as sG,KNe as sH,lhe as sI,eXe as sJ,toe as sK,EGe as sL,roe as sM,qGe as sN,h0 as sO,WGe as sP,rHe as sQ,Ih as sR,BUe as sS,qP as sT,r4e as sU,w4e as sV,Btt as sW,$$ as sX,ret as sY,t8 as sZ,g4e as s_,Att as sa,xTe as sb,er as sc,mS as sd,Hte as se,Zte as sf,X4e as sg,fit as sh,a8e as si,hit as sj,T1 as sk,Zt as sl,iMe as sm,tMe as sn,Ke as so,yf as sp,tFe as sq,vMe as sr,iFe as ss,hse as st,Lo as su,lg as sv,Do as sw,x_e as sx,iet as sy,FS as sz,Aut as t,Tct as t$,n4e as t0,A4 as t1,VUe as t2,TQe as t3,Mke as t4,het as t5,Hs as t6,xf as t7,KCe as t8,Oke as t9,jrt as tA,qrt as tB,Brt as tC,Urt as tD,krt as tE,Prt as tF,Fpe as tG,Kw as tH,Art as tI,o$e as tJ,E0e as tK,Lc as tL,L4e as tM,uR as tN,lye as tO,OQe as tP,Uut as tQ,Xw as tR,qZ as tS,uV as tT,H6e as tU,W6e as tV,Cze as tW,vG as tX,Mze as tY,cDe as tZ,P7 as t_,Tat as ta,md as tb,yd as tc,hh as td,Sze as te,OGe as tf,Grt as tg,Dut as th,Nut as ti,qut as tj,But as tk,jUe as tl,$Y as tm,y4e as tn,a4e as to,o4e as tp,FQe as tq,EQe as tr,_c as ts,Hr as tt,OKe as tu,JYe as tv,S4e as tw,ql as tx,Tj as ty,Bie as tz,US as u,BF as u$,L8 as u0,Lie as u1,Aat as u2,Oxe as u3,Rxe as u4,kie as u5,goe as u6,hct as u7,pct as u8,Aie as u9,oR as uA,B$e as uB,HKe as uC,Tee as uD,vr as uE,SS as uF,SU as uG,Fat as uH,urt as uI,IA as uJ,fct as uK,bp as uL,sot as uM,xEe as uN,Hnt as uO,$et as uP,yet as uQ,vet as uR,get as uS,wet as uT,bet as uU,xet as uV,Zs as uW,_E as uX,aee as uY,hst as uZ,Wnt as u_,mB as ua,TO as ub,p3 as uc,gh as ud,TI as ue,tKe as uf,MQe as ug,C1 as uh,Gut as ui,Jut as uj,tdt as uk,HS as ul,Zut as um,Qut as un,Wut as uo,Xut as up,Hut as uq,Yut as ur,Kut as us,edt as ut,Utt as uu,Gle as uv,xQe as uw,SQe as ux,$0e as uy,og as uz,Tle as v,kxe as v$,met as v0,O0e as v1,R0e as v2,CQe as v3,cte as v4,Lhe as v5,oJ as v6,Pat as v7,Vk as v8,Lat as v9,Lxe as vA,oct as vB,Zke as vC,lct as vD,Ort as vE,uct as vF,Iat as vG,Hze as vH,Gze as vI,hoe as vJ,Wxe as vK,MVe as vL,Rrt as vM,Sj as vN,frt as vO,hrt as vP,XNe as vQ,WNe as vR,Drt as vS,zrt as vT,Hrt as vU,Wrt as vV,xrt as vW,Zrt as vX,Jrt as vY,Exe as vZ,Fxe as v_,Eat as va,Vi as vb,Jke as vc,nae as vd,$at as ve,sne as vf,PS as vg,kat as vh,act as vi,Cat as vj,Ne as vk,Xke as vl,Hke as vm,Mat as vn,F8 as vo,ww as vp,O8 as vq,one as vr,ane as vs,YNe as vt,Bke as vu,qke as vv,Hk as vw,Frt as vx,Gke as vy,b3 as vz,Lut as w,Al as w$,tre as w0,Eb as w1,Vrt as w2,gxe as w3,dQe as w4,S8e as w5,GQe as w6,Ytt as w7,Q_e as w8,kte as w9,s$e as wA,qie as wB,Trt as wC,$rt as wD,t$e as wE,sT as wF,Fze as wG,crt as wH,fg as wI,zme as wJ,vfe as wK,G7e as wL,Qrt as wM,Krt as wN,utt as wO,dtt as wP,I8e as wQ,l3e as wR,o3e as wS,_Q as wT,wne as wU,U3e as wV,Nie as wW,out as wX,ZO as wY,Out as wZ,jA as w_,SQ as wa,NZ as wb,X_e as wc,rve as wd,d4e as we,Kot as wf,Qot as wg,LRe as wh,QQe as wi,kke as wj,xxe as wk,uL as wl,UQe as wm,Av as wn,hnt as wo,ige as wp,zu as wq,jnt as wr,Vnt as ws,YV as wt,Yot as wu,pst as wv,dst as ww,fst as wx,ust as wy,cst as wz,bt as x,glt as x$,uit as x0,fat as x1,hat as x2,mat as x3,k8 as x4,Z_e as x5,a3e as x6,mne as x7,ZKe as x8,gnt as x9,eae as xA,tlt as xB,Ok as xC,sit as xD,K4 as xE,att as xF,T_e as xG,Qet as xH,BOe as xI,xat as xJ,iae as xK,tg as xL,s9e as xM,qet as xN,wse as xO,Rae as xP,Oae as xQ,JMe as xR,NYe as xS,mfe as xT,FYe as xU,itt as xV,nst as xW,p4e as xX,ZXe as xY,K6e as xZ,r9e as x_,A6e as xa,rit as xb,bMe as xc,ytt as xd,rtt as xe,ott as xf,ntt as xg,ZYe as xh,Ttt as xi,$tt as xj,VYe as xk,B2e as xl,ttt as xm,VQe as xn,htt as xo,Ub as xp,twe as xq,Z8e as xr,oie as xs,EXe as xt,T5 as xu,HD as xv,KKe as xw,ko as xx,znt as xy,Lr as xz,$Ue as y,wXe as y0,_L as y1,olt as y2,dA as y3,q7 as y4,XKe as y5,llt as y6,clt as y7,ltt as y8,YKe as y9,$3 as yA,m0 as yB,Ele as yC,T3 as yD,WHe as yE,TZe as yF,Hz as ya,JKe as yb,qQe as yc,Gz as yd,LL as ye,gZ as yf,YYe as yg,ctt as yh,z_e as yi,O_e as yj,ult as yk,alt as yl,Vut as ym,NS as yn,Uz as yo,dlt as yp,W_e as yq,lKe as yr,uKe as ys,gst as yt,c0 as yu,Gnt as yv,Zat as yw,Vct as yx,JVe as yy,qct as yz,Put as z};
